<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Scrcpy on 小类随手记</title><link>https://dev.leiyanhui.com/categories/scrcpy/</link><description>Recent content in Scrcpy on 小类随手记</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 30 Mar 2023 08:14:20 +0800</lastBuildDate><atom:link href="https://dev.leiyanhui.com/categories/scrcpy/index.xml" rel="self" type="application/rss+xml"/><item><title>自己搭建云手机，投屏，消息通知给iPhone 等</title><link>https://dev.leiyanhui.com/new/scrcpy-ios/</link><pubDate>Thu, 30 Mar 2023 08:14:20 +0800</pubDate><guid>https://dev.leiyanhui.com/new/scrcpy-ios/</guid><description>&lt;h3 id="场景"&gt;场景
&lt;/h3&gt;&lt;p&gt;主力手机 iPhone，安卓手机不随身带。 手机号码多个，微信多个。&lt;/p&gt;
&lt;h3 id="痛点"&gt;痛点
&lt;/h3&gt;&lt;p&gt;因为ios上微信多开比较麻烦，虽然有ios开发者账号，但是更新和封号 都麻烦很多。&lt;/p&gt;
&lt;h3 id="需要解决"&gt;需要解决
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;多手机号码 一个iPhone一个手机接听&lt;/li&gt;
&lt;li&gt;一个手机可以接收其他手机的微信消息&lt;/li&gt;
&lt;li&gt;部分只有app的软件 电脑上使用&lt;/li&gt;
&lt;li&gt;安卓app开发调试&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="硬件方案"&gt;硬件方案
&lt;/h3&gt;&lt;p&gt;安卓备用机一台（红米4x）放家里，pve下 usb直通 或者wifi连接到 开发机。&lt;/p&gt;
&lt;h3 id="软件解决方案"&gt;软件解决方案
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;远程控制手机：自建rustdesk中转，解决外出远程控制安卓手机的问题。（也可以用scrcpy-ios 过于麻烦）&lt;/li&gt;
&lt;li&gt;pc机上直接使用手机：scrcpy&lt;/li&gt;
&lt;li&gt;消息转发，安卓手机消息，转发给主力手机&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="相关代码和工具"&gt;相关代码和工具
&lt;/h3&gt;&lt;h4 id="adb-wifi-连接"&gt;adb wifi 连接
&lt;/h4&gt;&lt;p&gt;先usb连接到pc，打开手机的usb调试等，pc安装scrcpy，可以正常使用usb投屏的情况下。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;D:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cd D:\soft\scrcpy-win64-v2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;adb tcpip 5555
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;然后断开usb，路由器里面配置dhcp静态ip给安卓手机 例如 10.1.1.14&lt;br&gt;
创建 _startWifi.bat&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;D:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cd D:\soft\scrcpy-win64-v2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;adb connect 10.1.1.14:5555
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;scrcpy.exe
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;wifi连接 略微卡顿，看视频会更差一些。可惜我手上的安卓数据线 只有一条，还要做别的用。暂时凑合一下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="隐藏cmdvbs"&gt;隐藏cmd.vbs
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CreateObject(&amp;#34;WScript.Shell&amp;#34;).Run &amp;#34;cmd /c D:\soft\scrcpy-win64-v2.0\_startWifi.bat&amp;#34;,0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="安卓消息转发"&gt;安卓消息转发
&lt;/h3&gt;&lt;p&gt;用 通知滤盒 这个app，规则里面 规则 增强，webhook 输入 企业微信/钉钉机器人的webhook 或 Bark(ios) 或 各种微信公众号消息通知的webhook 例： wxpusher pushplus Server酱 coolpush 等
通知滤盒 正版不贵，破解版 网上也有。&lt;/p&gt;
&lt;h4 id="通知滤盒---bark-默认通知地址"&gt;通知滤盒 -&amp;gt; Bark 默认通知地址
&lt;/h4&gt;&lt;p&gt;感谢Bark 作者&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;https://api.day.app/XXXXXXXXXXXXXXXXXXXX/{android.title}/{filterbox.field.APP_NAME}-{android.text}?sound=birdsong&amp;amp;isArchive=1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="其他"&gt;其他
&lt;/h3&gt;&lt;h4 id="单iphone手机多号码方案"&gt;单iPhone手机多号码方案
&lt;/h4&gt;&lt;p&gt;1阿里小号 2移动 无忧行 3 其他：安卓手机短信转发 手机互转等&lt;/p&gt;
&lt;h4 id="scrcpy自动黑屏"&gt;scrcpy自动黑屏
&lt;/h4&gt;&lt;p&gt;安卓手机设置 usb调试选项里面 设置充电时候不熄屏幕，然后拆掉屏幕。拆掉屏幕不方便，不然还是忍一下吧。。&lt;br&gt;
或者屏幕亮度调到最低 也行&lt;/p&gt;
&lt;h4 id="电池问题"&gt;电池问题
&lt;/h4&gt;&lt;p&gt;从保护板后面剪掉电池，接4.2v dc电源 + 一个电解电容+限流电阻。或者 干脆一个大一点的电解电容+一个限流电阻 完事。&lt;/p&gt;
&lt;h4 id="scrcpy-常用快捷键"&gt;scrcpy 常用快捷键
&lt;/h4&gt;&lt;p&gt;我这里mod键 是 alt&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + f 切换到全屏 / 取消全屏
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + 左 往左旋转屏幕
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + 右 往右旋转屏幕
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + g 重置屏幕尺寸到 像素比1:1（一般都是变得硕大）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + w 重置屏幕尺寸消除黑色边框
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + h 等同于 home 键
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + b 等同于 返回 键
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + s 等同于切换app操作
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + m 对应解锁屏的按键，如果是锁屏的话，仅点亮屏幕
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + 下 减少音量
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + 上 增加音量
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + p 等同于按电源键
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;右键点击 等同于点亮屏幕
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + o 把设备屏幕关闭但保持镜像同步
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + Shift + o 点亮设备屏幕
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + r 旋转屏幕（测试好像不好用，不知道是不是快捷键冲突）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + n 打开消息面板
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + n + n 双击n，打开顶部设置栏
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + shift + n 收起面板
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + c 同步复制到电脑剪贴板
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + x 同步剪贴到电脑剪贴板
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + v 同步粘贴电脑剪贴板的内容（pc-&amp;gt;手机或手机-&amp;gt;pc均可）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOD + i 启用或禁用FPS计数
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Ctrl + 点击和移动 相当于多指捏合动作
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;安装APK 拖拽APK文件到窗口
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;推送文件到手机 拖拽非APK文件到窗口
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="升级方案"&gt;升级方案
&lt;/h3&gt;&lt;p&gt;骁龙835 150-350元左右 300一下的基本不能插卡&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;MOTOz2f
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lgv30
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;夏普r（shv39）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;小白推荐：米6 mix2 三星s8 努比亚z17 索尼xz1/xzp[doge]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;坚果Pro2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;夏普rc（701sh）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;中兴blade a7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;诺基亚x5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;三星s6/s6edge/edge+
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;魅族Pro5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;红米note3（这玩意一定要买全网通晓龙650的，楼主之前收了部双网，直接卡死[辣眼睛]）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;乐视2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;小米Max
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;红米note4x
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;360n4s晓龙版（楼主收过，刷个MIUI很香哒[嗑瓜子]）
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;中国移动n2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;a class="link" href="https://www.bilibili.com/video/BV11L411n7zi/" target="_blank" rel="noopener"
&gt;https://www.bilibili.com/video/BV11L411n7zi/&lt;/a&gt; 参考&lt;/p&gt;</description></item></channel></rss>