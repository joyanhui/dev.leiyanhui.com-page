[{"content":"æ­¤æ¬¡å¯¹æ¯”å› ä¸ºç”¨çš„agentå·¥å…·ä¸åŒï¼Œå¹¶ä¸”ä¸ªäººä¸»è§‚æ„Ÿå—å¤šï¼Œä»…ä¾›å‚è€ƒã€‚åŸºç¡€æ–‡ä»¶ä¸€è‡´ï¼Œéƒ½æ˜¯50è¡Œçš„ä¸­æ–‡è§„èŒƒè¯´æ˜å’Œé¡¹ç›®çš„å¤§æ¦‚ä»‹ç»ã€‚\næç¤ºè¯ 1 2 3 4 5 6 å®¡è®¡ yh-file-manager-sev-s3 çš„åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€å‚¨å­˜ä»dashmapä¿®æ”¹ä¸ºyh-fast-kv-storage-hub åï¼Œç”±äºyh-fast-kv-storage-hub ä¸æ”¯æŒå…¨é‡æ‰«æ æˆ–è€…å…¶ä»–ç‰¹æ€§ å¯¼è‡´çš„å¾ˆå¤šæ“ä½œéš¾å®ç°æˆ–è€…æ€§èƒ½ä½ä¸‹ã€‚æ˜¯å¦åº”è¯¥æ”¹å›ç”¨å†…ç½®çš„dashmapå®ç°ï¼Œå¦‚æœæ”¹ä¸ºdhasmpå®ç°ï¼Œé‚£ä¹ˆå¦‚ä½•åˆ©ç”¨ç›®å‰çš„yh-task-registry yh-journal-log yh-filemanager-vfs-storage-hub ç­‰æ¨¡å—å¯ä»¥ä¿è¯åœ¨ è¿›ç¨‹è¢«killç³»ç»Ÿè¢«é‡å¯ æ–­ç”µç­‰æƒ…å†µä¸‹ã€‚å¯¹åº”çš„åˆ†ç‰‡æ–‡ä»¶æ–‡ä»¶å¯ä»¥å®Œæˆæ ¹æ®æƒ…å†µä¿ ç•™æˆ–è€…æ¸…ç†çš„é€»è¾‘çš„å®ç°å’Œåˆ¤æ–­ï¼›é¿å…å¤ªå¤šä¸´æ—¶æ–‡ä»¶æˆ–è€…å·²ç»å®Œæˆå†™å…¥çš„æ–‡ä»¶ä¸¢å¤±ï¼›è¿˜è¦é¿å…å†…å­˜ç‚¸æ‰ã€‚ æˆ–è€… yh-fast-kv-storage-hub åœ¨ä¿è¯æ”¯æŒå¤šç§åç«¯çš„æƒ…å†µä¸‹ å¹¶ä¿è¯æ€§èƒ½çš„æƒ…å†µä¸‹ï¼Œå¯å¦å®ç°ä¸€ä¸‹å¯¹è¿™ç±»æ“ä½œçš„å…¼å®¹æ€§ å…ˆå¸®æˆ‘åˆ†æ ç»™å‡ºå»ºè®® opencode/gemini3flash preview 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 è¿™æ˜¯ä¸€ä¸ªéå¸¸æ·±å…¥çš„æ¶æ„æ¼”è¿›é—®é¢˜ã€‚å°†çŠ¶æ€ç®¡ç†ä»æ•£è½åœ¨å„ä¸ªæ¨¡å—çš„ DashMap æ”¶å£åˆ° yh-fast-kv-storage-hubï¼ˆä»¥ä¸‹ç®€ç§° KV-Hubï¼‰ï¼Œæ˜¯å®ç°ç³»ç»Ÿæ— çŠ¶æ€åŒ–ã€æ°´å¹³æ‰©å±•å’Œé«˜å¯é æ€§çš„å…³é”®ã€‚ ä»¥ä¸‹æ˜¯é’ˆå¯¹æ‚¨æå‡ºçš„ä¸‰ä¸ªç»´åº¦çš„åˆ†æä¸å»ºè®®ï¼š 1. SFTP/FTP è¿æ¥ä¼šè¯çš„å¤ç”¨å»ºè®® ç»“è®ºï¼šå…ƒæ•°æ®å¯ä»¥å¤ç”¨ KV-Hubï¼Œä½†æ´»è·ƒè¿æ¥ï¼ˆHandleï¼‰å¿…é¡»ä¿ç•™åœ¨æœ¬åœ°å†…å­˜ã€‚ * æ´»è·ƒè¿æ¥ï¼ˆActive Handlesï¼‰ï¼šTCP è¿æ¥ã€SSH é¢‘é“ã€FTP æ§åˆ¶å¥—æ¥å­—æ˜¯ä¸å¯åºåˆ—åŒ–çš„ã€‚è¿™äº›å¿…é¡»ç•™åœ¨æ¯ä¸ªæœåŠ¡çš„ DashMap ä¸­ï¼Œå› ä¸ºå®ƒä»¬ç»‘å®šåœ¨å…·ä½“çš„è¿›ç¨‹å’Œç‰©ç†ç«¯å£ä¸Šã€‚ * ä¼šè¯å…ƒæ•°æ®ï¼ˆSession Metadataï¼‰ï¼š * ç™»å½•çŠ¶æ€ï¼šå¦‚æœç”¨æˆ·åœ¨èŠ‚ç‚¹ A ç™»å½•äº†ï¼ŒèŠ‚ç‚¹ B æ˜¯å¦åº”è¯¥çŸ¥é“ï¼Ÿå¦‚æœæ˜¯ï¼Œåˆ™å¤ç”¨ KV-Hub å­˜å‚¨ä¼šè¯ ID -\u0026gt; ç”¨æˆ·ä¿¡æ¯çš„æ˜ å°„ã€‚ * è¿æ¥ç»Ÿè®¡ï¼šç”¨äºå…¨å±€é™æµï¼ˆä¾‹å¦‚ï¼šé™åˆ¶åŒä¸€ä¸ªè´¦å·å…¨ç³»ç»Ÿåªèƒ½å¼€ 10 ä¸ªè¿æ¥ï¼‰ã€‚è¿™ç±»æ•°æ®éå¸¸é€‚åˆæ”¾å…¥ KV-Hubã€‚ * å»ºè®®ï¼šSFTP/FTP æ¨¡å—ä¿ç•™ä¸€ä¸ªæç®€çš„æœ¬åœ° DashMap\u0026lt;SessionId, SocketHandle\u0026gt;ï¼Œè€Œå°†è®¤è¯ä¿¡æ¯ã€é™æµè®¡æ•°ã€æœ€åæ´»åŠ¨æ—¶é—´ç­‰é€»è¾‘ä¸‹æ²‰åˆ° KV-Hubã€‚è¿™æ ·å³ä½¿èŠ‚ç‚¹é‡å¯ï¼ŒKV-Hub é‡Œçš„â€œæœ€åæ´»åŠ¨æ—¶é—´â€ä¾ç„¶å­˜åœ¨ï¼Œæœ‰åŠ©äºæ¸…ç†å› æ–­ç”µå¯¼è‡´çš„æŒ‚çº¿è¿æ¥ã€‚ 2. KV-Hub å¢å¼ºï¼šå¤šåç«¯æ”¯æŒä¸æ€§èƒ½ä¿è¯ è¦åŒæ—¶æ”¯æŒ DashMap/SQL/Redis/Valkey/KeyDBï¼Œå»ºè®®é‡‡ç”¨ Trait æŠ½è±¡ + å¼‚æ­¥é©±åŠ¨ çš„è®¾è®¡ï¼š * *ç»Ÿä¸€æŠ½è±¡ (Trait)*ï¼š #[async_trait] pub trait CacheBackend: Send + Sync { // ... åŸæœ‰çš„ get/set/del ... // æ ¸å¿ƒå¢å¼ºï¼šæ”¯æŒæ¨¡å¼åŒ¹é…çš„é”®æ‰«æ async fn scan_keys(\u0026amp;self, prefix: \u0026amp;str) -\u0026gt; Result\u0026lt;Vec\u0026lt;String\u0026gt;, CacheError\u0026gt;; // æ‰¹é‡è·å–ï¼Œå‡å°‘ç½‘ç»œ RTT æˆ–æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•° async fn mget(\u0026amp;self, keys: \u0026amp;[String]) -\u0026gt; Result\u0026lt;Vec\u0026lt;Option\u0026lt;Bytes\u0026gt;\u0026gt;, CacheError\u0026gt;; } * å„åç«¯å®ç°ç­–ç•¥ï¼š * *DashMap (æœ¬åœ°)*ï¼šç›´æ¥ iter() é…åˆ starts_with è¿‡æ»¤ã€‚é€Ÿåº¦æœ€å¿«ï¼Œä½†æ•°æ®éšè¿›ç¨‹æ¶ˆå¤±ã€‚ * *SQL (SeaORM)*ï¼šä½¿ç”¨ Column::Key.like(format!(\u0026#34;{}%\u0026#34;, prefix))ã€‚åˆ©ç”¨æ•°æ®åº“ç´¢å¼•æé«˜æ‰«ææ•ˆç‡ã€‚ * Redis/Valkey/KeyDBï¼šä¸¥ç¦ä½¿ç”¨ KEYS å‘½ä»¤ã€‚å¿…é¡»ä½¿ç”¨ SCAN å‘½ä»¤é…åˆæ¸¸æ ‡ï¼ˆCursorï¼‰ï¼Œå®ƒåœ¨ä¿è¯æ€§èƒ½çš„åŒæ—¶ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ * æ€§èƒ½ä¿è¯ï¼šå¯¹äº S3 åˆ†ç‰‡è¿™ç±»é¢‘ç¹è¯»å†™ã€ä½†æœ€ç»ˆä¼šæ¶ˆå¤±çš„æ•°æ®ï¼Œå»ºè®®åœ¨ KV-Hub å±‚å¢åŠ  äºŒçº§ç¼“å­˜ï¼ˆL1: DashMap, L2: SQL/Redisï¼‰ã€‚è¯»æ“ä½œå…ˆçœ‹æœ¬åœ°ï¼Œå†™æ“ä½œå¼‚æ­¥åˆ·å…¥æŒä¹…åŒ–åç«¯ã€‚ 3. æ•´åˆ Task-Registry ä¸ Journal-Logï¼šå®ç° S3 åˆ†ç‰‡æ™ºèƒ½æ¸…ç† è¿™æ˜¯ä¿è¯ç³»ç»Ÿåœ¨ Kill/é‡å¯/æ–­ç”µåä¸äº§ç”Ÿâ€œå­˜å‚¨åƒåœ¾â€çš„æ ¸å¿ƒé€»è¾‘ã€‚ æµç¨‹è®¾è®¡ï¼š 1. *æ“ä½œç•™ç—• (Journal-Log)*ï¼š * å½“ç”¨æˆ·åˆå§‹åŒ–åˆ†ç‰‡ä¸Šä¼ æ—¶ï¼Œè®°å½•ä¸€æ¡ S3:MULTIPART_START æ—¥å¿—ã€‚ * å½“ä¸Šä¼ å®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œè®°å½• S3:MULTIPART_COMPLETE æˆ– S3:MULTIPART_ABORTã€‚ 2. *çŠ¶æ€æŒä¹…åŒ– (KV-Hub)*ï¼š * åœ¨ KV-Hub ä¸­å­˜å‚¨ s3:multipart:{upload_id}ï¼Œå€¼åŒ…å«ï¼šuser_idã€physical_temp_pathã€created_atã€‚ * è®¾ç½® TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰ã€‚ä¾‹å¦‚åˆ†ç‰‡ä¸Šä¼ é»˜è®¤æœ‰æ•ˆæœŸ 24 å°æ—¶ã€‚ 3. *æ™ºèƒ½æ¸…ç†ä»»åŠ¡ (Task-Registry)*ï¼š æ³¨å†Œä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼ˆå¦‚æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼‰ï¼Œé€»è¾‘å¦‚ä¸‹ï¼š * ä¸»åŠ¨æ¸…ç†ï¼šè°ƒç”¨ KV-Hub çš„ scan_keys(\u0026#34;s3:multipart:\u0026#34;)ã€‚å¦‚æœå‘ç°æŸä¸ª Key çš„ created_at è¶…è¿‡é˜ˆå€¼ï¼Œæˆ–å·²ç»è§¦å‘äº† TTL é€»è¾‘ï¼Œåˆ™å¯åŠ¨æ¸…ç†ã€‚ * æ­»åè¡¥å¿ï¼ˆå…³é”®ï¼‰ï¼šå¦‚æœç³»ç»Ÿæ–­ç”µï¼Œé‡å¯å Task-Registry ä¼šè§¦å‘ã€‚ * ç­–ç•¥ Aï¼ˆKV é©±åŠ¨ï¼‰ï¼šéå† KV-Hub é‡Œçš„æ‰€æœ‰çŠ¶æ€ï¼Œè°ƒç”¨ VFS æ¥å£æ£€æŸ¥å¯¹åº”çš„ç‰©ç†ç›®å½•ã€‚å¦‚æœç‰©ç†ç›®å½•å­˜åœ¨ä½† KV è®°å½•å·²è¿‡æœŸï¼Œæ‰§è¡Œç‰©ç†åˆ é™¤ã€‚ * ç­–ç•¥ Bï¼ˆç‰©ç†é©±åŠ¨ - æ›´å½»åº•ï¼‰ï¼šTask-Registry æ‰«æ VFS çš„ /.multipart/ ç›®å½•ã€‚å¯¹äºæ¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå» KV-Hub æŸ¥å¯¹åº”çš„ upload_idã€‚å¦‚æœ KV-Hub é‡Œæ²¡æœ‰ï¼ˆè¯´æ˜ç³»ç»Ÿé‡å¯ä¸¢å¤±äº†éæŒä¹…åŒ–çŠ¶æ€ï¼Œæˆ–è€…å·²è¿‡æœŸï¼‰ï¼Œåˆ™è®¤ä¸ºè¿™æ˜¯å­¤å„¿æ–‡ä»¶å¤¹ï¼Œå¼ºåˆ¶ç‰©ç†æ¸…ç†ã€‚ 4. åŸå­æ€§ä¿è¯ï¼š * ä½¿ç”¨ VfsWalManagerï¼ˆå†™å‰æ—¥å¿—ï¼‰ã€‚åœ¨ VFS æ‰§è¡Œç‰©ç†åˆ é™¤å‰ï¼Œå…ˆåœ¨ WAL è®°å½•â€œå‡†å¤‡åˆ é™¤ Xâ€ï¼Œåˆ é™¤æˆåŠŸåå†æŠ¹é™¤ã€‚å¦‚æœåˆ é™¤åˆ°ä¸€åŠæ–­ç”µï¼Œé‡å¯å WAL è¡¥å¿é€»è¾‘ä¼šç»§ç»­å®Œæˆåˆ é™¤ã€‚ æ€»ç»“å»ºè®® 1. å‡çº§ KV-Hubï¼šå¢åŠ  scan_keys æ¥å£ï¼Œå¹¶ä¸º SQL å’Œ Redis æä¾›é«˜æ€§èƒ½å®ç°ï¼ˆLIKE å’Œ SCANï¼‰ã€‚ 2. S3 çŠ¶æ€å…¨é‡å…¥åº“ï¼šS3 æ¨¡å—ä¸å†è‡ªå·±æŒæœ‰ DashMapï¼Œæ‰€æœ‰çŠ¶æ€è¯»å†™ç›´æ¥èµ° KV-Hubã€‚ 3. åŒé‡æ£€æŸ¥æ¸…ç†ï¼šç”± Task-Registry å‘¨æœŸæ€§åœ°è¿›è¡Œâ€œç‰©ç†è·¯å¾„â€ä¸â€œKV ç´¢å¼•â€çš„å¯¹è´¦ã€‚è¿™ç§â€œå¯¹è´¦å¼æ¸…ç†â€æ˜¯åº”å¯¹ç³»ç»Ÿå´©æºƒæœ€å¥å£®çš„æ–¹æ¡ˆã€‚ å¦‚æœæ‚¨å¸Œæœ›æˆ‘å¼€å§‹å®æ–½ï¼Œæˆ‘å¯ä»¥å…ˆä¸ºæ‚¨ç¼–å†™ KV-Hub çš„å¤šåç«¯ Scan æ¥å£ ä»¥åŠ S3 åˆ†ç‰‡ä¸Šä¼ çš„å®šæ—¶æ¸…ç† Taskã€‚ iflow/glm4.7ç»“æœ ç”±äº iflowè¾“å‡ºæ ¼å¼ å¾ˆæ‰¯æ·¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 åˆ†ææŠ¥å‘Šï¼šS3 åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€å­˜å‚¨æ–¹æ¡ˆ ğŸ” å½“å‰é—®é¢˜è¯Šæ–­ 1. ç°çŠ¶åˆ†æ å½“å‰å®ç° (crates/yh-file-manager-sev-s3/src/vfs_s3.rs): - ä½¿ç”¨ yh-fast-kv-storage-hub å­˜å‚¨åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€ - Key æ ¼å¼: s3:multipart:{upload_id} - TTL: 86400 ç§’ï¼ˆ24å°æ—¶ï¼‰ æ ¸å¿ƒç—›ç‚¹: 1 // vfs_s3.rs:267 - list_multipart_uploads è¿”å›ç©ºåˆ—è¡¨ 2 async fn list_multipart_uploads(\u0026amp;self, ...) -\u0026gt; S3Result\u0026lt;...\u0026gt; { 3 // æ³¨æ„ï¼šè¿™é‡Œç”±äº KV åç«¯ä¸æ”¯æŒå…¨é‡æ‰«æï¼Œæš‚æ—¶è¿”å›ç©ºåˆ—è¡¨ä»¥ä¿æŒ API å…¼å®¹ã€‚ 4 let uploads = Vec::new(); 5 Ok(s3s::S3Response::new(ListMultipartUploadsOutput { ... })) 6 } 7 8 // vfs_s3.rs:244 - cleanup_expired_multipart_uploads è¿”å› 0 9 pub async fn cleanup_expired_multipart_uploads(\u0026amp;self, _seconds: u64) -\u0026gt; usize { 10 // é›†ä¸­æ¸…ç†é€»è¾‘ç”± yh-task-registry è´Ÿè´£ï¼Œè¿™é‡Œä¿æŒæ¥å£å…¼å®¹ 11 0 12 } 2. yh-fast-kv-storage-hub çš„é™åˆ¶ ä» trait.rs å¯ä»¥çœ‹å‡ºï¼ŒCacheBackend æ¥å£æ²¡æœ‰æä¾›ï¼š - âŒ keys() - å…¨é‡æ‰«ææ‰€æœ‰é”® - âŒ scan() - æ¨¡å¼åŒ¹é…æ‰«æ - âŒ iterate() - è¿­ä»£å™¨ sql.rs åç«¯åªæ”¯æŒï¼š - âœ… ç²¾ç¡®æŸ¥è¯¢ (get, set, del) - âœ… Hash æ“ä½œ (hget, hset) - âœ… TTL ç®¡ç† æ ¹æœ¬åŸå› : SQL åç«¯çš„è®¾è®¡ç›®æ ‡æ˜¯é«˜æ€§èƒ½ KV ç¼“å­˜ï¼Œè€Œéå…¨é‡æ‰«æåœºæ™¯ã€‚ --- ğŸ’¡ è§£å†³æ–¹æ¡ˆå¯¹æ¯” æ–¹æ¡ˆ A: æ”¹å›å†…ç½® DashMap ä¼˜ç‚¹: - âœ… æ”¯æŒå…¨é‡æ‰«æ (map.iter()) - âœ… é«˜æ€§èƒ½ï¼ˆå†…å­˜æ“ä½œï¼‰ - âœ… ç®€å•ç›´æ¥ ç¼ºç‚¹: - âŒ è¿›ç¨‹é‡å¯åæ•°æ®ä¸¢å¤±ï¼ˆè‡´å‘½é—®é¢˜ï¼‰ - âŒ æ— æ³•åˆ©ç”¨ç°æœ‰çš„å®¹ç¾æœºåˆ¶ï¼ˆWALã€Journalã€Task Registryï¼‰ - âŒ éœ€è¦é‡æ–°å®ç°æŒä¹…åŒ–é€»è¾‘ --- æ–¹æ¡ˆ B: å¢å¼º yh-fast-kv-storage-hubï¼ˆæ¨èï¼‰ ä¼˜ç‚¹: - âœ… ä¿æŒæ¶æ„ç»Ÿä¸€ - âœ… æ”¯æŒå¤šç§åç«¯ï¼ˆSQL/Redis/DashMapï¼‰ - âœ… å¯ä»¥å¤ç”¨ç°æœ‰çš„æ¸…ç†æœºåˆ¶ å®ç°ç­–ç•¥: 1 // 1. åœ¨ CacheBackend trait ä¸­æ·»åŠ æ‰«ææ¥å£ 2 #[async_trait::async_trait] 3 pub trait CacheBackend: Send + Sync { 4 // ... ç°æœ‰æ–¹æ³• ... 5 6 /// æŒ‰å‰ç¼€æ‰«æé”®ï¼ˆå¯é€‰å®ç°ï¼‰ / Scan keys by prefix (optional implementation) 7 async fn scan_prefix(\u0026amp;self, prefix: \u0026amp;str, limit: usize) -\u0026gt; Result\u0026lt;Vec\u0026lt;String\u0026gt;, CacheError\u0026gt; { 8 // é»˜è®¤å®ç°ï¼šè¿”å›ç©ºåˆ—è¡¨ 9 Ok(Vec::new()) 10 } 11 } 12 13 // 2. SqlBackend å®ç° scan_prefix 14 impl CacheBackend for SqlBackend { 15 async fn scan_prefix(\u0026amp;self, prefix: \u0026amp;str, limit: usize) -\u0026gt; Result\u0026lt;Vec\u0026lt;String\u0026gt;, CacheError\u0026gt; { 16 let db_backend = self.db.get_database_backend(); 17 let sql = format!( 18 \u0026#34;SELECT k FROM {} WHERE k LIKE $1 LIMIT $2\u0026#34;, 19 self.table_name 20 ); 21 let pattern = format!(\u0026#34;{}%\u0026#34;, prefix); 22 23 let rows = self.db.query_all(Statement::from_sql_and_values( 24 db_backend, \u0026amp;sql, vec![pattern.into(), limit.into()] 25 )).await?; 26 27 let mut keys = Vec::new(); 28 for row in rows { 29 if let Some(k) = row.try_get_by_index::\u0026lt;String\u0026gt;(0).ok() { 30 keys.push(k); 31 } 32 } 33 Ok(keys) 34 } 35 } --- æ–¹æ¡ˆ C: æ··åˆæ–¹æ¡ˆï¼ˆæœ€ä½³å®è·µï¼‰ æ¶æ„è®¾è®¡: 1 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 2 â”‚ S3 åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€ç®¡ç† â”‚ 3 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 4 â”‚ â”‚ 5 â”‚ 1. å†…å­˜å±‚: DashMap (æ´»è·ƒåˆ†ç‰‡) â”‚ 6 â”‚ â””â”€â”€ å¿«é€Ÿè®¿é—®ï¼Œé›¶å»¶è¿Ÿ â”‚ 7 â”‚ â”‚ 8 â”‚ 2. æŒä¹…å±‚: yh-fast-kv-storage-hub (SQL) â”‚ 9 â”‚ â””â”€â”€ è¿›ç¨‹é‡å¯æ¢å¤ â”‚ 10 â”‚ â”‚ 11 â”‚ 3. æ¸…ç†å±‚: yh-task-registry + yh-journal-log â”‚ 12 â”‚ â””â”€â”€ å®šæ—¶æ¸…ç† + å®¡è®¡æ—¥å¿— â”‚ 13 â”‚ â”‚ 14 â”‚ 4. å®¹ç¾å±‚: yh-filemanager-vfs-storage-hub (WAL) â”‚ 15 â”‚ â””â”€â”€ ç‰©ç†æ–‡ä»¶ä¿æŠ¤ â”‚ 16 â”‚ â”‚ 17 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ å®ç°ç»†èŠ‚: ##### 1. åŒå±‚å­˜å‚¨ç»“æ„ 1 // vfs_s3.rs 2 use dashmap::DashMap; 3 use std::sync::Arc; 4 5 #[derive(Clone)] 6 pub struct VfsS3Service { 7 db: Arc\u0026lt;DatabaseConnection\u0026gt;, 8 hub: Arc\u0026lt;VfsStorageHub\u0026gt;, 9 journal_logger: Arc\u0026lt;yh_journal_log::JournalLogger\u0026gt;, 10 11 // æ–°å¢ï¼šå†…å­˜å±‚ç¼“å­˜ 12 active_uploads: Arc\u0026lt;DashMap\u0026lt;String, MultipartUploadState\u0026gt;\u0026gt;, 13 } 14 15 impl VfsS3Service { 16 pub fn new(...) -\u0026gt; Self { 17 Self { 18 db, 19 hub, 20 journal_logger, 21 active_uploads: Arc::new(DashMap::new()), 22 } 23 } 24 25 // åˆ›å»ºåˆ†ç‰‡ä¸Šä¼ ï¼šåŒæ—¶å†™å…¥å†…å­˜å’ŒæŒä¹…å±‚ 26 async fn create_multipart_upload(\u0026amp;self, ...) -\u0026gt; S3Result\u0026lt;...\u0026gt; { 27 let upload_id = uuid::Uuid::new_v4().to_string(); 28 let state = MultipartUploadState::new(...); 29 30 // 1. å†™å…¥å†…å­˜ 31 self.active_uploads.insert(upload_id.clone(), state.clone()); 32 33 // 2. å†™å…¥æŒä¹…å±‚ 34 self.save_multipart_state(\u0026amp;state).await?; 35 36 // 3. è®°å½•å®¡è®¡æ—¥å¿— 37 self.journal_logger.log_event( 38 user_id, 39 yh_journal_log::types::JournalType::FileOperation, 40 \u0026#34;S3_MULTIPART_CREATE\u0026#34;, 41 serde_json::json!({\u0026#34;upload_id\u0026#34;: upload_id, \u0026#34;key\u0026#34;: state.key}) 42 ).await; 43 44 Ok(...) 45 } 46 47 // ä¸Šä¼ åˆ†ç‰‡ï¼šåªæ›´æ–°å†…å­˜ï¼Œå®šæœŸåŒæ­¥ 48 async fn upload_part(\u0026amp;self, ...) -\u0026gt; S3Result\u0026lt;...\u0026gt; { 49 let mut state = self.get_multipart_state(\u0026amp;input.upload_id).await?; 50 51 // æ›´æ–°åˆ†ç‰‡ä¿¡æ¯ 52 state.parts.insert(...); 53 54 // 1. æ›´æ–°å†…å­˜ 55 self.active_uploads.insert(input.upload_id.clone(), state.clone()); 56 57 // 2. å»¶è¿Ÿå†™å…¥æŒä¹…å±‚ï¼ˆæ¯ N ä¸ªåˆ†ç‰‡æˆ–è¶…æ—¶ï¼‰ 58 if state.parts.len() % 10 == 0 { 59 self.save_multipart_state(\u0026amp;state).await?; 60 } 61 62 Ok(...) 63 } 64 65 // å®Œæˆåˆ†ç‰‡ä¸Šä¼ ï¼šæ¸…ç†æ‰€æœ‰å±‚ 66 async fn complete_multipart_upload(\u0026amp;self, ...) -\u0026gt; S3Result\u0026lt;...\u0026gt; { 67 let state = self.get_multipart_state(\u0026amp;input.upload_id).await?; 68 69 // 1. åˆå¹¶æ–‡ä»¶ 70 // ... (ç°æœ‰é€»è¾‘) 71 72 // 2. æ¸…ç†ä¸´æ—¶æ–‡ä»¶ 73 for part_num in state.parts.keys() { 74 let _ = engine.delete(\u0026amp;format!(\u0026#34;/.multipart/{}/{}\u0026#34;, input.upload_id, part_num)).await; 75 } 76 77 // 3. æ¸…ç†å†…å­˜ 78 self.active_uploads.remove(\u0026amp;input.upload_id); 79 80 // 4. æ¸…ç†æŒä¹…å±‚ 81 self.delete_multipart_state(\u0026amp;input.upload_id).await?; 82 83 // 5. è®°å½•å®¡è®¡æ—¥å¿— 84 self.journal_logger.log_event( 85 user_id, 86 yh_journal_log::types::JournalType::FileOperation, 87 \u0026#34;S3_MULTIPART_COMPLETE\u0026#34;, 88 serde_json::json!({\u0026#34;upload_id\u0026#34;: input.upload_id, \u0026#34;key\u0026#34;: state.key}) 89 ).await; 90 91 Ok(...) 92 } 93 } ##### 2. è¿›ç¨‹é‡å¯æ¢å¤ 1 // åœ¨ VfsS3Service::new ä¸­æ·»åŠ æ¢å¤é€»è¾‘ 2 impl VfsS3Service { 3 pub fn new(...) -\u0026gt; Self { 4 let active_uploads = Arc::new(DashMap::new()); 5 6 // å¯åŠ¨æ—¶æ¢å¤æ´»è·ƒåˆ†ç‰‡ 7 let active_uploads_clone = active_uploads.clone(); 8 let db_clone = db.clone(); 9 tokio::spawn(async move { 10 Self::recover_active_uploads(db_clone, active_uploads_clone).await; 11 }); 12 13 Self { db, hub, journal_logger, active_uploads } 14 } 15 16 async fn recover_active_uploads( 17 db: Arc\u0026lt;DatabaseConnection\u0026gt;, 18 active_uploads: Arc\u0026lt;DashMap\u0026lt;String, MultipartUploadState\u0026gt;\u0026gt;, 19 ) { 20 // ä» SQL åç«¯æ‰«ææ‰€æœ‰ s3:multipart:* é”® 21 // éœ€è¦å®ç° scan_prefix æ¥å£ 22 if let Ok(manager) = yh_fast_kv_storage_hub::api::cache_manager::CacheManager::get().await { 23 let backend = manager.get_backend().await; 24 25 // æ‰«ææ‰€æœ‰åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€ 26 let keys = backend.scan_prefix(\u0026#34;s3:multipart:\u0026#34;, 1000).await.unwrap_or_default(); 27 28 for key in keys { 29 if let Some(state) = backend.get_json::\u0026lt;MultipartUploadState\u0026gt;(\u0026amp;key).await.ok().flatten() { 30 // æ£€æŸ¥æ˜¯å¦è¿‡æœŸ 31 let age = SystemTime::now().duration_since(state.created_at).unwrap_or_default(); 32 if age.as_secs() \u0026lt; 86400 { 33 // æ¢å¤åˆ°å†…å­˜ 34 active_uploads.insert(state.upload_id.clone(), state); 35 yh_console_log::yhlog(\u0026#34;info\u0026#34;, \u0026amp;format!(\u0026#34;Recovered multipart upload: {}\u0026#34;, state.upload_id)); 36 } else { 37 // æ¸…ç†è¿‡æœŸçŠ¶æ€ 38 let _ = backend.del(\u0026amp;key).await; 39 yh_console_log::yhlog(\u0026#34;warn\u0026#34;, \u0026amp;format!(\u0026#34;Cleaned expired multipart upload: {}\u0026#34;, state.upload_id)); 40 } 41 } 42 } 43 } 44 } 45 } ##### 3. å®šæ—¶æ¸…ç†æœºåˆ¶ 1 // vfs/hub.rs 2 impl VfsStorageHub { 3 pub async fn cleanup_all_s3_multiparts(\u0026amp;self, max_age_secs: u64) -\u0026gt; usize { 4 let mut cleaned = 0; 5 6 if let Ok(manager) = yh_fast_kv_storage_hub::api::cache_manager::CacheManager::get().await { 7 let backend = manager.get_backend().await; 8 9 // æ‰«ææ‰€æœ‰åˆ†ç‰‡ä¸Šä¼ çŠ¶æ€ 10 let keys = backend.scan_prefix(\u0026#34;s3:multipart:\u0026#34;, 1000).await.unwrap_or_default(); 11 12 for key in keys { 13 if let Some(state) = backend.get_json::\u0026lt;MultipartUploadState\u0026gt;(\u0026amp;key).await.ok().flatten() { 14 let age = SystemTime::now().duration_since(state.created_at).unwrap_or_default(); 15 16 if age.as_secs() \u0026gt; max_age_secs { 17 // 1. æ¸…ç†ä¸´æ—¶æ–‡ä»¶ 18 if let Ok(engine) = self.create_scoped_engine(...) { 19 for part_num in state.parts.keys() { 20 let _ = engine.delete(\u0026amp;format!(\u0026#34;/.multipart/{}/{}\u0026#34;, state.upload_id, part_num)).await; 21 } 22 let _ = engine.delete(\u0026amp;format!(\u0026#34;/.multipart/{}\u0026#34;, state.upload_id)).await; 23 } 24 25 // 2. æ¸…ç†æŒä¹…å±‚ 26 let _ = backend.del(\u0026amp;key).await; 27 28 // 3. è®°å½•å®¡è®¡æ—¥å¿— 29 // self.journal_logger.log_event(...).await; 30 31 cleaned += 1; 32 } 33 } 34 } 35 } 36 37 cleaned 38 } 39 } ##### 4. å†…å­˜ä¿æŠ¤æœºåˆ¶ 1 // é˜²æ­¢å†…å­˜çˆ†ç‚¸ 2 impl VfsS3Service { 3 const MAX_ACTIVE_UPLOADS: usize = 1000; 4 5 async fn create_multipart_upload(\u0026amp;self, ...) -\u0026gt; S3Result\u0026lt;...\u0026gt; { 6 // æ£€æŸ¥å†…å­˜é™åˆ¶ 7 if self.active_uploads.len() \u0026gt;= Self::MAX_ACTIVE_UPLOADS { 8 // è§¦å‘æ¸…ç† 9 self.evict_inactive_uploads().await; 10 } 11 12 // ... åˆ›å»ºé€»è¾‘ 13 } 14 15 async fn evict_inactive_uploads(\u0026amp;self) { 16 let now = SystemTime::now(); 17 let mut to_evict = Vec::new(); 18 19 for entry in self.active_uploads.iter() { 20 let age = now.duration_since(entry.value().created_at).unwrap_or_default(); 21 if age.as_secs() \u0026gt; 3600 { // 1å°æ—¶æœªæ´»è·ƒ 22 to_evict.push(entry.key().clone()); 23 } 24 } 25 26 for key in to_evict { 27 self.active_uploads.remove(\u0026amp;key); 28 // æ³¨æ„ï¼šæŒä¹…å±‚ä¿ç•™ï¼Œå¯æŒ‰éœ€æ¢å¤ 29 } 30 } 31 } --- ğŸ“‹ æ¨èå®æ–½æ–¹æ¡ˆ é˜¶æ®µ 1: å¢å¼º yh-fast-kv-storage-hub 1. åœ¨ trait.rs æ·»åŠ  scan_prefix() æ¥å£ 2. SqlBackend å®ç° scan_prefix()ï¼ˆä½¿ç”¨ LIKE æŸ¥è¯¢ï¼‰ 3. DashMap å®ç°å…¨é‡æ‰«æï¼ˆå·²æœ‰èƒ½åŠ›ï¼‰ 4. Redis å®ç°ä½¿ç”¨ SCAN å‘½ä»¤ å·¥ä½œé‡: 2-3 å°æ—¶ é˜¶æ®µ 2: å®ç°æ··åˆå­˜å‚¨æ–¹æ¡ˆ 1. åœ¨ VfsS3Service æ·»åŠ  DashMap å±‚ 2. å®ç°åŒå±‚å†™å…¥é€»è¾‘ 3. å®ç°å¯åŠ¨æ¢å¤é€»è¾‘ 4. å®ç°å†…å­˜ä¿æŠ¤æœºåˆ¶ å·¥ä½œé‡: 4-6 å°æ—¶ é˜¶æ®µ 3: é›†æˆå®¹ç¾æœºåˆ¶ 1. ä½¿ç”¨ yh-journal-log è®°å½•åˆ†ç‰‡æ“ä½œ 2. å®ç° cleanup_all_s3_multiparts å®Œæ•´é€»è¾‘ 3. æ·»åŠ  WAL ä¿æŠ¤ï¼ˆå¯é€‰ï¼Œç”¨äºå…³é”®æ“ä½œï¼‰ å·¥ä½œé‡: 2-3 å°æ—¶ --- ğŸ¯ æœ€ç»ˆå»ºè®® æ¨èæ–¹æ¡ˆ Cï¼ˆæ··åˆæ–¹æ¡ˆï¼‰ï¼Œç†ç”±ï¼š 1. æ€§èƒ½æœ€ä¼˜: æ´»è·ƒåˆ†ç‰‡åœ¨å†…å­˜ï¼Œé›¶å»¶è¿Ÿè®¿é—® 2. å®¹ç¾å®Œæ•´: è¿›ç¨‹é‡å¯å¯æ¢å¤ï¼Œæ–­ç”µä¸ä¸¢å¤± 3. æ¶æ„ç»Ÿä¸€: å¤ç”¨ç°æœ‰æ¨¡å—ï¼ˆTask Registryã€Journalã€WALï¼‰ 4. å†…å­˜å®‰å…¨: æœ‰ LRU æ·˜æ±°æœºåˆ¶ï¼Œé˜²æ­¢çˆ†ç‚¸ 5. æ˜“äºç»´æŠ¤: æ¸…æ™°çš„åˆ†å±‚è®¾è®¡ å…³é”®æŒ‡æ ‡: - âœ… æ”¯æŒå…¨é‡æ‰«æï¼ˆé€šè¿‡ scan_prefixï¼‰ - âœ… è¿›ç¨‹é‡å¯æ¢å¤ï¼ˆé€šè¿‡æŒä¹…å±‚ï¼‰ - âœ… æ–­ç”µä¿æŠ¤ï¼ˆé€šè¿‡ WAL + Journalï¼‰ - âœ… å†…å­˜å¯æ§ï¼ˆé€šè¿‡ LRU æ·˜æ±°ï¼‰ - âœ… è‡ªåŠ¨æ¸…ç†ï¼ˆé€šè¿‡ Task Registryï¼‰ å®æ–½ä¼˜å…ˆçº§: 1. é«˜ä¼˜å…ˆçº§: é˜¶æ®µ 1ï¼ˆå¢å¼º KV æ¥å£ï¼‰ 2. ä¸­ä¼˜å…ˆçº§: é˜¶æ®µ 2ï¼ˆæ··åˆå­˜å‚¨ï¼‰ 3. ä½ä¼˜å…ˆçº§: é˜¶æ®µ 3ï¼ˆå®¹ç¾é›†æˆï¼Œå¯åˆ†æ­¥å®æ–½ï¼‰ âœ¦ è¿™ä¸ªæ–¹æ¡ˆæ—¢è§£å†³äº†å½“å‰çš„æ€§èƒ½å’ŒåŠŸèƒ½é—®é¢˜ï¼Œåˆä¿æŒäº†ç³»ç»Ÿçš„æ•´ä½“æ¶æ„ä¸€è‡´æ€§ã€‚ æˆ‘é•¿æœŸä½“éªŒ ä½œä¸ºä¸¤ä¸ªéƒ½å¯ä»¥ç™½å«–çš„å¤§æ¨¡å‹/å·¥å…·ï¼Œopencode/gemini3flash å¯¹iflow/glm4.7/minixm2.1 å‡ ä¹æ˜¯ç¢¾å‹ã€‚å‰è€…æ˜¯ç”Ÿäº§åŠ›ï¼Œåè€…æ˜¯è¾…åŠ©ã€‚ åœ¨opencode ä½¿ç”¨ cpaè½¬å‘çš„iflowçš„glm4.7/m2.1çš„æ—¶å€™ï¼Œä¼šæœ‰æå‡ï¼Œä½†æ˜¯æå‡ä¸å¤§ã€‚ä¹Ÿå¯¹æ¯”è¿‡è¿‡minimax m2.1çš„å®˜æ–¹æ¥å£ æš‚æ—¶æ²¡æ„Ÿè§‰iflowæä¾›çš„ç‰ˆæœ¬æœ‰é™æ™ºï¼ˆä¸»è§‚ä¸Šå¾ˆéš¾æ„Ÿå—ä½æ™ºä¸ªå¼±æ™ºçš„åŒºåˆ«ï¼‰ã€‚\niflow/glm4.7/minimax2.1 çœ¼ä¸‹é€‚åˆåšä»€ä¹ˆ iflowç›®å‰ä¾æ—§ä¸æ”¯æŒlsp åœ¨2026å¹´1æœˆç®—å¼€å‘æ•ˆç‡å¾ˆä½çš„å·¥å…·ã€‚glm4.7/minimax2.1 åœ¨é¢å¯¹ç•¥å¾®å¤æ‚ä¸€ä¸¢ä¸¢çš„ä¸šåŠ¡çš„æ—¶å€™ï¼Œç»å¸¸å‡ºç°ç©ºå®ç° è‡ªå¹è‡ªæ“‚ç­‰æƒ…å†µï¼Œ æ‰€ä»¥ç›®å‰ è¿™å¥—æ–¹æ¡ˆï¼Œä»…ä»…é€‚åˆ ç®€å•çš„æ–‡æ¡£æ•´ç†ï¼ˆæ˜¯çš„ï¼Œå¤æ‚çš„æ–‡æ¡£ä»–ä¹Ÿæ•´ç†ä¸æ¥ï¼‰ï¼Œä»¥åŠæç¤ºè¯çš„ç®¡ç†ä¼˜åŒ–ï¼Œä¹Ÿé€‚åˆåšä¸»æµå·¥ä½œæ¨¡å‹çš„ä¸€ä¸ªå¯¹ç…§ç»„ï¼Œå¹¶ä¸æ˜¯é€‚åˆå¼€å‘å·¥ä½œã€‚ä½†æ˜¯æˆ‘å‘ç° glm4.7å¯¹é¡¹ç›®å®¡è®¡èƒ½åŠ›éå¸¸å¥½ï¼Œæ¯”è¾ƒæœ‰æ·±åº¦ã€‚\nopencode vs claudecode opencodeç›®å‰1.0.152 å·²ç» å¯ä»¥èƒœä»»æ—¥ç”¨å·¥ä½œã€‚ä½†æ˜¯å­˜åœ¨ä¸€äº›å°bugï¼Œæ¯”å¦‚ å¡æ‰ã€ä¼šåˆ›å»ºä¸€äº›åƒåœ¾æ–‡ä»¶ï¼Œinit-deepå·¥å…·åŸºæœ¬ä¸å¯ç”¨ã€‚ä½†æ˜¯æ•´ä½“ä½“éªŒä¸æ¬¡äºclaudecodeï¼Œç»†èŠ‚æ»¡åˆ†ï¼Œå°bugä¸å½±å“å·¥ä½œã€‚\n","date":"2026-01-14T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/rust/glm47vsgemini3flash/","title":"glm4.7å’Œgemini3flashçš„ä¸€æ¬¡ç®€å•å¯¹æ¯” ifow/glm4.7 vs opencode/gemini3flash preview"},{"content":"NixOS å…¥é—¨å»ºè®®ï¼šä¸€å¤©ä¸Šæ‰‹ï¼Œä»å…¥é—¨åˆ°ç²¾é€š NixOS çš„å¼ºå¤§å’Œæ–¹ä¾¿æ¯‹åº¸ç½®ç–‘ï¼Œä½†å¾ˆå¤šæ–°äººâ€œæ­¢æ­¥äºå…¥é—¨â€å¹¶éå› ä¸ºnixosçœŸçš„éš¾ï¼Œè€Œæ˜¯è·¯å¾„èµ°é”™äº†ã€‚æœ¬æ–‡æ—¨åœ¨ä¸ºä½ æä¾›ä¸€æ¡ä¸æŠ˜è…¾ã€å¿«é€Ÿå…¥é—¨çš„æ¸è¿›å¼è·¯çº¿ã€‚\nä¸€ã€ å‡†å¤‡é˜¶æ®µï¼šä½ æ˜¯å¦é€‚åˆ NixOSï¼Ÿ åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\nLinux åŸºç¡€ï¼šç†Ÿæ‚‰æ—¥å¸¸ Linux æ“ä½œï¼Œæœ‰ä¿®æ”¹ dotfiles çš„ç»éªŒï¼Œèƒ½è§£å†³å¸¸è§çš„ç³»ç»Ÿé—®é¢˜ã€‚ ç¼–ç¨‹æ€ç»´ï¼šä¸è¦æ±‚æ˜¯ç»éªŒç¨‹åºå‘˜ï¼Œä½†è‡³å°‘èƒ½çœ‹æ‡‚ç®€å•çš„ä»£ç é€»è¾‘ï¼ˆNix è¯­è¨€æœ¬è´¨ä¸Šæ˜¯å‡½æ•°å¼é…ç½®è¯­è¨€ï¼‰ã€‚ ç½‘ç»œç¯å¢ƒï¼šè‡³å…³é‡è¦ï¼ å¿…é¡»æœ‰ç¨³å®šçš„â€œç§‘ç ”ä¸Šç½‘â€æ‰‹æ®µï¼ˆå»ºè®®åœ¨è·¯ç”±å™¨å±‚çº§å®ç°ï¼Œæˆ–å‡†å¤‡å¥½å…¨å±€ä»£ç†ï¼‰ã€‚ äºŒã€ å®‰è£…ï¼šé€‰æ‹©æœ€ç®€å•çš„è·¯å¾„ ä¸è¦æŒ‘æˆ˜é«˜éš¾åº¦å®‰è£…ï¼\næ¨èæ–¹å¼ï¼šä¸‹è½½ NixOS GNOME Live ISOã€‚å®ƒæä¾›äº†å›¾å½¢åŒ–å®‰è£…ç•Œé¢ï¼‰ï¼Œå°±åƒå®‰è£… Ubuntu ä¸€æ ·ç®€å•ã€‚ ç½‘ç»œä»£ç†ï¼šå¦‚æœå®‰è£…è¿‡ç¨‹ä¸‹è½½ç¼“æ…¢ï¼Œå¯ä»¥åœ¨åŒå±€åŸŸç½‘æ‰‹æœºä¸Šå¼€å¯ä»£ç†å·¥å…·ï¼Œå¹¶åœ¨å®‰è£…ç¯å¢ƒä¸­é…ç½®ä»£ç†ã€‚ è¿›é˜¶æ–¹å¼ï¼šå¦‚æœä½ æœ‰ Arch Linux æ‰‹åŠ¨å®‰è£…ç»éªŒï¼Œå¯ä»¥å‚è€ƒ å®˜æ–¹å®‰è£…æŒ‡å—ã€‚ ä¸‰ã€ æ ¸å¿ƒå¿ƒæ³•ï¼šæ¸è¿›å¼è¿ç§»ï¼ˆæ‹’ç»ä¸€å£åƒèƒ–ï¼‰ è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ï¼šç¬¬ä¸€å¤©å°±æƒ³æå®šå…¨ç³»ç»Ÿçš„ Flake + Home Manager æ‰˜ç®¡ï¼Œæˆ–è€…ç›´æ¥ Clone åˆ«äººçš„å¤æ‚ä»“åº“ã€‚\né˜¶æ®µ 1ï¼šå…ˆè·‘èµ·æ¥ï¼ˆçº¯ configuration.nixï¼‰ åªä¿®æ”¹ /etc/nixos/configuration.nixã€‚ ä½¿ç”¨ environment.systemPackages å®‰è£…è½¯ä»¶ã€‚ ä¸´æ—¶ç”¨è½¯ä»¶ï¼šå­¦ä¼šä½¿ç”¨ nix-shell -p pkg_nameï¼Œéšç”¨éšè£…ï¼Œä¸ç”¨ä¸å ç©ºé—´ã€‚ é˜¶æ®µ 2ï¼šæ¥å—â€œè¿‡åº¦æ–¹æ¡ˆâ€ï¼ˆDocker \u0026amp; Flatpakï¼‰ ä¸è¦åœ¨åˆæœŸå¼ºæ±‚æ‰€æœ‰ä¸œè¥¿éƒ½ Nix åŒ–ã€‚ æœåŠ¡ç±»ï¼šæä¸å®šçš„ä¸€äº›æœåŠ¡ç±»çš„ä¾‹å¦‚nginx/æ•°æ®åº“/è¯­è¨€è¿è¡Œå¼€å‘ç¯å¢ƒï¼Œæš‚æ—¶ç›´æ¥ç”¨ Dockerã€‚ GUI è½¯ä»¶ï¼šNixpkgs é‡Œæ²¡æœ‰æˆ–æœ‰é—®é¢˜çš„ï¼Œå…ˆç”¨ Flatpakã€‚ AppImageï¼šçœ‹ä½ è¦ç”¨çš„è½¯ä»¶æœ‰æ²¡æœ‰Appimageæ ¼å¼ï¼Œå…ˆå¯¹ä»˜ä¸€ä¸‹ã€‚ é˜¶æ®µ 3ï¼šå¼•å…¥ Flake ä¸ Home Manager å½“ä½ ç†Ÿæ‚‰äº† Nix è¯­æ³•åï¼Œå†å°†é…ç½®é‡æ„ä¸º Flake ç»“æ„ã€‚ ä½¿ç”¨ Home Manager ç®¡ç†ç”¨æˆ·å±‚é¢çš„åº”ç”¨çš„é…ç½®é¡¹ã€‚ å›› : å®æˆ˜é…ç½®èŒƒä¾‹åº“ ä»¥ä¸‹ä»£ç ç‰‡æ®µæ¶µç›–äº†ä»ç³»ç»ŸåŸºç¡€åˆ°å¼€å‘ç¯å¢ƒçš„æ–¹æ–¹é¢é¢ï¼ŒæŒ‰éœ€æŸ¥é˜…ï¼Œä¸è¦å…¨ç›˜ç…§æŠ„ã€‚\n1. åŸºç¡€Flake ç»“æ„ (flake.nix) è¿™æ˜¯ç³»ç»Ÿçš„æ€»å…¥å£ï¼Œå»ºè®®æ”¾åœ¨ ~/nixos-config ç›®å½•ä¸‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 { inputs = { nixpkgs.url = \u0026#34;github:NixOS/nixpkgs/nixos-unstable\u0026#34;; nixpkgs-stable.url = \u0026#34;github:NixOS/nixpkgs/nixos-25.11\u0026#34;; nixpkgs-master.url = \u0026#34;github:NixOS/nixpkgs/master\u0026#34;; home-manager = { url = \u0026#34;github:nix-community/home-manager\u0026#34;; inputs.nixpkgs.follows = \u0026#34;nixpkgs\u0026#34;; }; }; outputs = inputs@{ nixpkgs, home-manager, ... }: { nixosConfigurations.my-pc = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix #ä½ åŸæ¥çš„ /etc/nixos/configuration.nix { nixpkgs.overlays = [ (final: prev: { stable = import inputs.nixpkgs-stable { system = prev.stdenv.hostPlatform.system; config.allowUnfree = true; }; unstable = import inputs.nixpkgs { system = prev.stdenv.hostPlatform.system; config.allowUnfree = true; }; master = import inputs.nixpkgs-master { system = prev.stdenv.hostPlatform.system; config.allowUnfree = true; }; }) ]; } home-manager.nixosModules.home-manager ]; specialArgs = { inherit inputs; }; }; }; } ä¸€ä¸ªå…¸å‹çš„ nixos-config æ–‡ä»¶ç»“æ„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 . â”œâ”€â”€ flake.nix # ç³»ç»Ÿæ€»å…¥å£ï¼Œå®šä¹‰ inputs å’Œ outputs â”œâ”€â”€ flake.lock # é”å®šä¾èµ–ç‰ˆæœ¬ åœ¨ nix flake updateçš„æ—¶å€™è‡ªåŠ¨åˆ›å»º â”œâ”€â”€ machine/ # ç¡¬ä»¶ä¸è®¾å¤‡ç‰¹å®šé…ç½® â”‚Â â”œâ”€â”€ hardware-configuration_thinbook_14p_amd.nix #ä½ åŸæ¥çš„ /etc/nixos/hardware-configuration.nix å¾®è°ƒ thinbook_14p_amdæ˜¯ç”µè„‘å â”‚Â â”œâ”€â”€ configuration_thinbook_14p_amd.nix # ä½ åŸæ¥çš„ /etc/nixos/configuration.nix å¾®è°ƒ å¹¶ä½œä¸º importå…¶ä»–æ–‡ä»¶çš„å…¥å£ â”‚Â â”œâ”€â”€ .... â”‚ â””â”€â”€ subFileList.nix # æ ¸å¿ƒè°ƒåº¦æ–‡ä»¶ï¼Œæ ¹æ®ä¸»æœºååŠ è½½ä¸åŒæ¨¡å— ä¹Ÿå¯ä»¥ä¸éœ€è¦è¿™ä¸ªæ–‡ä»¶ é›†æˆåˆ°configuration_XXX.nix â”œâ”€â”€ modules/ # æŒ‰åŠŸèƒ½åˆ’åˆ†çš„æ¨¡å—åŒ–é…ç½® â”‚ â”œâ”€â”€ application/ # æ—¥å¸¸åº”ç”¨ (æµè§ˆå™¨ã€èŠå¤©å·¥å…·ã€å¸¸ç”¨å·¥å…·) â”‚ â”œâ”€â”€ desktopEnv/ # æ¡Œé¢ç¯å¢ƒ (GNOME, Cosmicã€Wayfireã€Hyprlandã€KDEç­‰) â”‚ â”œâ”€â”€ ide-editor/ # ç¼–ç¨‹å·¥å…· (VSCode, Zed, Helixã€ClaudeCodeã€GeminiCli ç­‰) â”‚ â”œâ”€â”€ lang-sdk-lsp/ # ç¼–ç¨‹è¯­è¨€ SDK ä¸ LSP æœåŠ¡ â”‚ â””â”€â”€ service/ # ç³»ç»ŸæœåŠ¡ (Docker, SSH, æ•°æ®åº“, æ‰“å°ç­‰) â”œâ”€â”€ system-setting/ # å…¨å±€ç³»ç»Ÿçº§åˆ«è®¾ç½® â”‚ â”œâ”€â”€ bootload.nix # å¼•å¯¼ç¨‹åºé…ç½® (GRUB/Systemd-boot) â”‚ â”œâ”€â”€ font-i8n.nix # å­—ä½“ä¸å›½é™…åŒ– â”‚ â”œâ”€â”€ networking.nix # ç½‘ç»œä¸é˜²ç«å¢™ â”‚ â””â”€â”€ theme.nix # ç³»ç»Ÿä¸»é¢˜ä¸ç¾åŒ– â”œâ”€â”€ script/ # è‡ªåŠ¨åŒ–è„šæœ¬ (ç³»ç»Ÿæ›´æ–°ã€å¤‡ä»½ã€æ¸…ç†) â”œâ”€â”€ security/ # æ•æ„Ÿä¿¡æ¯ç®¡ç† (ç§é’¥ã€ä»£ç†é…ç½®ã€å¯†ç ) å¯æŠŠéƒ¨åˆ†nixæ–‡ä»¶æ”¾è¿™é‡Œ æ¯”å¦‚ä¸€äº›æ•æ„Ÿçš„ç¯å¢ƒå˜é‡ åˆ«åç­‰ â””â”€â”€ static_file/ # é™æ€èµ„æº (å£çº¸ã€è‡ªå®šä¹‰å›¾æ ‡ã€ä¸“ç”¨å­—ä½“) 2. ç°ä»£ Linux å¿…å¤‡ï¼šDocker ä¸ Flatpak é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 { pkgs, ... }: { # å¼€å¯ Docker virtualisation.docker.enable = true; # å¼€å¯ Flatpak services.flatpak.enable = true; # æ”¯æŒ AppImage programs.appimage = { enable = true; binfmt = true; }; environment.systemPackages = with pkgs; [ docker-compose ]; } 3. å­—ä½“ä¸å›½é™…åŒ– (ä¸­æ–‡ç¯å¢ƒ) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 { pkgs, ... }: { #i18n.defaultLocale = \u0026#34;zh_CN.UTF-8\u0026#34;; i18n.defaultLocale = \u0026#34;en_US.UTF-8\u0026#34;; fonts = { packages = with pkgs; [ source-han-sans # æ€æºé»‘ä½“ source-han-serif # æ€æºå®‹ä½“ lxgw-wenkai # éœé¹œæ–‡æ¥· noto-fonts-emoji (nerdfonts.override { fonts = [ \u0026#34;JetBrainsMono\u0026#34; ]; }) ]; fontconfig.defaultFonts = { emoji = [ \u0026#34;Noto Color Emoji\u0026#34; ]; monospace = [ \u0026#34;JetBrainsMono Nerd Font\u0026#34; ]; sansSerif = [ \u0026#34;Source Han Sans SC\u0026#34; ]; serif = [ \u0026#34;Source Han Serif SC\u0026#34; ]; }; }; } 4. è¾“å…¥æ³• (Fcitx5 + é›¾å‡‡æ‹¼éŸ³) è¿™ä¸ªçœ‹ä¸æ‡‚ä¹Ÿæ²¡å…³ç³»ï¼Œç…§æŠ„å°±è¡Œäº†ã€‚\n4.1 ä¸»é…ç½® (fcitx5-rime.nix) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 { pkgs, username, ... }: let rime-ice = pkgs.stdenvNoCC.mkDerivation { pname = \u0026#34;rime-ice\u0026#34;; version = \u0026#34;2024.12.12\u0026#34;; src = pkgs.fetchFromGitHub { owner = \u0026#34;iDvel\u0026#34;; repo = \u0026#34;rime-ice\u0026#34;; rev = \u0026#34;2024.12.12\u0026#34;; hash = \u0026#34;sha256-2QZdlLGZwWIesbjYTE/2yhM1hHGVVp7jR02bR0oqxV0=\u0026#34;; }; installPhase = \u0026#39;\u0026#39; mkdir -p $out/share/rime-data rm -rf ./others rm -f README.md LICENSE rm -rf ./.github rm squirrel.yaml weasel.yaml rm default.yaml custom_phrase.txt cp -r ./* $out/share/rime-data \u0026#39;\u0026#39;; }; in { home-manager.users.${username} = { xdg.configFile = { \u0026#34;fcitx5/conf/chttrans.conf\u0026#34; = { force = true; text = \u0026#39;\u0026#39; [Global] Engine=OpenCC OpenCCS2TProfile=default OpenCCT2SProfile=default [Hotkey] 0=ControlL+Shift+Alt+L \u0026#39;\u0026#39;; }; }; home.file = { \u0026#34;.local/share/fcitx5/rime\u0026#34; = { source = \u0026#34;${rime-ice}/share/rime-data\u0026#34;; recursive = true; onChange = \u0026#39;\u0026#39; mkdir -p ~/.local/share/fcitx5/rime chmod -R u+w ~/.local/share/fcitx5/rime rm -f ~/.local/share/fcitx5/rime/*.bin rm -f ~/.local/share/fcitx5/rime/build/* \u0026#39;\u0026#39;; }; \u0026#34;.local/share/fcitx5/rime/default.yaml\u0026#34; = { source = ./rime/default.yaml; force = true; }; \u0026#34;.local/share/fcitx5/rime/custom_phrase.txt\u0026#34; = { force = true; source = ../../../security/file/fcitx5_rime_custom_phrase.txt; }; }; }; i18n = { inputMethod = { type = \u0026#34;fcitx5\u0026#34;; enable = true; fcitx5 = { waylandFrontend = true; addons = with pkgs; [ qt6Packages.fcitx5-configtool fcitx5-gtk libsForQt5.fcitx5-qt kdePackages.fcitx5-qt fcitx5-lua fcitx5-fluent libime librime-lua fcitx5-rime rime-ice ]; settings = { addons = { classicui.globalSection = { Theme = \u0026#34;FluentLight-solid\u0026#34;; DarkTheme = \u0026#34;FluentLight-solid\u0026#34;; }; }; inputMethod = { \u0026#34;Groups/0\u0026#34; = { Name = \u0026#34;Default\u0026#34;; \u0026#34;Default Layout\u0026#34; = \u0026#34;us\u0026#34;; DefaultIM = \u0026#34;rime\u0026#34;; }; \u0026#34;Groups/0/Items/0\u0026#34; = { Name = \u0026#34;rime\u0026#34;; }; GroupOrder = { \u0026#34;0\u0026#34; = \u0026#34;Default\u0026#34;; }; }; }; }; }; }; } 4.2 ç¯å¢ƒå˜é‡é…ç½® (fcitx5-sessionVariables.nix) 1 2 3 4 5 6 7 8 9 10 11 12 { username, ... }: { home-manager.users.${username} = { home.sessionVariables = { XMODIFIERS = \u0026#34;@im=fcitx\u0026#34;; QT_IM_MODULE = \u0026#34;fcitx\u0026#34;; QT_IM_MODULES = \u0026#34;fcitx;ibus;wayland\u0026#34;; GTK_IM_MODULE = \u0026#34;fcitx\u0026#34;; SDL_IM_MODULE = \u0026#34;fcitx\u0026#34;; GLFW_IM_MODULE = \u0026#34;fcitx\u0026#34;; }; }; } 5. å¼€å‘ç¯å¢ƒç¤ºä¾‹ (åˆ†è¯­è¨€é…ç½®) å»ºè®®å°†ä¸åŒè¯­è¨€çš„é…ç½®æ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼ˆå¦‚ rust.nix, go.nixï¼‰ï¼Œåœ¨ä¸»é…ç½®ä¸­æŒ‰éœ€å¼•å…¥ã€‚\n5.1 é€šç”¨ C/C++ ä¸å›¾å½¢å¼€å‘åŸºç¡€ (lang-common.nix) åŒ…å« C/C++ ç¼–è¯‘é“¾ã€ä¸€äº›é€šç”¨çš„å¼€å‘å·¥å…·ã€åŠ GUI å¼€å‘ï¼ˆå¦‚ Flutter/Fyneï¼‰æ‰€éœ€çš„åº•å±‚åº“ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 { pkgs, username, ... }: { home-manager.users.${username} = { home.packages = with pkgs; [ gcc gdb gnumake cmake ninja pkg-config openssl openssl.dev mesa libglvnd.dev xorg.libX11.dev xorg.libXext.dev xorg.libXi.dev xorg.libXrandr.dev xorg.libXrender.dev xorg.libXcursor xorg.libXinerama libxkbcommon wayland gtk3 ]; home.sessionVariables = { PKG_CONFIG_PATH = \u0026#34;${pkgs.openssl.dev}/lib/pkgconfig:${pkgs.libglvnd.dev}/lib/pkgconfig:${pkgs.mesa}/lib/pkgconfig:${pkgs.xorg.libX11.dev}/lib/pkgconfig:${pkgs.xorg.libXrandr.dev}/lib/pkgconfig:${pkgs.xorg.libXrender.dev}/lib/pkgconfig:${pkgs.xorg.libXcursor.dev}/lib/pkgconfig:${pkgs.xorg.libXinerama.dev}/lib/pkgconfig:${pkgs.xorg.libXi.dev}/lib/pkgconfig:${pkgs.xorg.libXext.dev}/lib/pkgconfig:${pkgs.xorg.libXfixes.dev}/lib/pkgconfig:${pkgs.xorg.xorgproto}/lib/pkgconfig\u0026#34;; CGO_CFLAGS = \u0026#34;-I${pkgs.xorg.xorgproto}/include -I${pkgs.xorg.libX11.dev}/include -I${pkgs.xorg.libXrandr.dev}/include -I${pkgs.xorg.libXrender.dev}/include -I${pkgs.xorg.libXcursor.dev}/include -I${pkgs.xorg.libXinerama.dev}/include -I${pkgs.xorg.libXi.dev}/include -I${pkgs.xorg.libXext.dev}/include -I${pkgs.xorg.libXfixes.dev}/include -I${pkgs.libglvnd.dev}/include\u0026#34;; CGO_LDFLAGS = \u0026#34;-L${pkgs.libglvnd.dev}/lib -L${pkgs.xorg.libX11}/lib -L${pkgs.xorg.libXrandr}/lib -L${pkgs.xorg.libXxf86vm}/lib -L${pkgs.xorg.libXi}/lib -L${pkgs.xorg.libXcursor}/lib -L${pkgs.xorg.libXinerama}/lib\u0026#34;; }; }; } 5.2 Rust ç¯å¢ƒ (rust.nix) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { pkgs, username, ... }: { home-manager.users.${username} = { home.packages = with pkgs; [ rustup rustc ]; home.sessionVariables = { RUSTUP_HOME = \u0026#34;$HOME/.rustup\u0026#34;; CARGO_HOME = \u0026#34;$HOME/.cargo\u0026#34;; RUSTUP_DIST_SERVER = \u0026#34;https://rsproxy.cn\u0026#34;; RUSTUP_UPDATE_ROOT = \u0026#34;https://rsproxy.cn/rustup\u0026#34;; }; }; } 5.3 Go ç¯å¢ƒ (golang.nix) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 { pkgs, username, ... }: { home-manager.users.${username} = { home.packages = with pkgs; [ go gopls golangci-lint fyne # ä¾èµ– lang-common.nix å†…çš„å’Œå›¾å½¢ç›¸å…³çš„ä¾èµ–å’Œç¯å¢ƒå˜é‡ gofumpt ]; home.sessionVariables = { GOPROXY = \u0026#34;https://goproxy.cn,direct\u0026#34;; }; home.sessionPath = [ \u0026#34;/home/${username}/go/bin\u0026#34; ]; # å…¶å®æœ€å¥½ä¸€ä¸ªå•ç‹¬çš„nixæ–‡ä»¶ç»Ÿä¸€ç®¡ç† Path }; } 5.4 Node.js / Bun / Deno (node.nix) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { pkgs, username, ... }: { home-manager.users.${username} = { home.packages = with pkgs; [ nodejs_22 pnpm bun deno ]; home.sessionVariables = { PNPM_HOME = \u0026#34;/home/${username}/.local/share/pnpm\u0026#34;; }; home.file.\u0026#34;.npmrc\u0026#34;.text = \u0026#39;\u0026#39; registry=https://registry.npmmirror.com/ global-bin-dir=/home/${username}/.local/share/pnpm/bin store-dir=/home/${username}/.pnpm-store \u0026#39;\u0026#39;; }; } 5.5 Python ä¸ Zig 1 2 3 4 5 6 7 8 9 10 { pkgs, username, ... }: { home-manager.users.${username} = { home.packages = with pkgs; [ uv (python313.withPackages (ps: with ps; [ pip requests tkinter django ])) unstable.zig unstable.zls ]; }; } 5.6 ç»Ÿä¸€ç®¡ç†ç¯å¢ƒå˜é‡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 { username, ... }: { home-manager = { users.${username} = { home.sessionPath = [ \u0026#34;$HOME/.cargo/bin\u0026#34; \u0026#34;$HOME/go/bin\u0026#34; \u0026#34;$HOME/myworkspace/my-opt\u0026#34; \u0026#34;$HOME/.local/share/pnpm/bin\u0026#34; \u0026#34;$HOME/android_flutter/android-sdk/cmdline-tools/latest/bin\u0026#34; \u0026#34;$HOME/android_flutter/android-sdk/platform-tools\u0026#34; ]; }; }; } äº”ã€ ç¤¾åŒºä¸æ±‚åŠ© GitHub æœç´¢ï¼šæœç´¢ filename:configuration.nix + å…³é”®è¯ æ˜¯æœ€å¥½çš„æŠ„ä½œä¸šæ–¹å¼ã€‚ Telegram ä¸­æ–‡ç¾¤ï¼šNixOS ä¸­æ–‡ç¤¾åŒºéå¸¸å‹å¥½ï¼Œé‡åˆ°é—®é¢˜è¯·ç¤¼è²Œæè¿° ï¼Œé€šå¸¸ä¼šæœ‰å¤§ç¥è§£ç­”ã€‚ å®˜æ–¹ç»´åŸºï¼šNixOS Wiki æ˜¯æœ€æƒå¨çš„å‚è€ƒèµ„æ–™ã€‚ ä½¿ç”¨é è°±çš„AIï¼šGemini3ç›®å‰ï¼ˆ2025-12ï¼‰å¯¹nixæ”¯æŒè¿˜æ˜¯ä¸é”™çš„ï¼Œå°é—®é¢˜å¯ä»¥æ‰¾ä»–å¤„ç†ã€‚ä½†æ˜¯åˆ«æœŸæœ›å®ƒèƒ½è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œæ›´ä¸è¦æŠŠå¸Œæœ›æ”¾åˆ°é‚£äº›é¥é¥é¢†å…ˆçš„AIå¤§æ¨¡å‹ä¸Šã€‚ æ€»ç»“ æ¸è¿›å¼å…¥é—¨ï¼ŒæŠ„ä½œä¸šä¸è¦æ¬ä½œä¸šã€‚ å…ˆä¿è¯ç³»ç»Ÿèƒ½ç”¨ï¼ˆDocker + Flatpak + åŸºæœ¬é…ç½®ï¼‰ï¼Œå†è¿½æ±‚çº¯å‡€ï¼ˆå…¨ Nix ç®¡ç†ï¼‰ï¼Œæœ€åå†æŒ‘æˆ˜é«˜çº§æŠ€å·§ï¼ˆè‡ªå®šä¹‰ Overlayã€æ‰“åŒ…ï¼‰ã€‚ç¥ä½ åœ¨ NixOS çš„ä¸–ç•Œé‡Œç©å¾—æ„‰å¿«ï¼\n","date":"2026-01-04T00:00:00Z","permalink":"https://dev.leiyanhui.com/nixos/entrynixos/","title":"NixOS å…¥é—¨æŒ‡å—ï¼šä»æ–°æ‰‹åˆ°é«˜æ‰‹çš„æ¸è¿›å¼ä¹‹è·¯(ç¬¬äºŒç‰ˆ)"},{"content":"2026å¹´çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼ŒçŒ®ç»™ COSMICã€‚ ä½œä¸ºä¸€åå¯¹ç³»ç»Ÿç¯å¢ƒæœ‰è½»å¾®â€œæ´ç™–â€çš„ç”¨æˆ·ï¼Œæˆ‘æ›¾ä»¥ä¸ºä¼šé•¿æœŸæ— å¥ˆçš„ç•™åœ¨ GNOME+wayfire çš„é˜µè¥ã€‚æ—©å‡ ä¸ªæœˆåœ¨ NixOS ä¸ŠæŠ˜è…¾ COSMIC Alpha6/7 ç‰ˆæ—¶ï¼Œé‚£ç§â€œä¸€è¾¹è¢«é¢‘ç¹å‡æ­»æŠ˜ç£¨ï¼Œä¸€è¾¹è¢«æƒŠè‰³è®¾è®¡æ‰“åŠ¨â€çš„çŸ›ç›¾æ„Ÿä»å†å†åœ¨ç›®ã€‚\nç›´åˆ°æœ€è¿‘ï¼Œå¶å°”ç¿»å‡ºé‚£ä»½å·²ç»è¢«æ³¨é‡Šæ‰çš„cosmic.nixï¼Œé‡æ–°å°è¯•åå‘ç°ã€‚ç°åœ¨çš„ COSMIC å·²å˜æˆäº†ä¸€ä¸ªå®Œå…¨å¯ç”¨çš„ç”Ÿäº§åŠ›å·¥å…·ã€‚\ncosmic ä¼˜ç‚¹ ä¸ªäººæ„Ÿå— é»˜è®¤é…ç½® å¼€ç®±å³ç”¨ å½“ç„¶è¿™ä¹Ÿä¸æ˜¯å•¥å¤ªå¤§ä¼˜ç‚¹ï¼Œä½†æ˜¯ä»å…¶ä»–æ¡Œé¢è¿‡åº¦è¿‡æ¥å¾ˆå¹³æ»‘ é»˜è®¤å¤–è§‚å‡ºè‰²ï¼Œä¸æ¨¡ä»¿ macOS æˆ– GTK é£æ ¼ï¼›panelå’Œdockéƒ½æ”¯æŒè‡ªå®šä¹‰é£æ ¼å¯ä»¥æ”¹åˆ°éå¸¸ç¬¦åˆè‡ªå·±çš„xp åŸç”Ÿå¹¶ä¸”æ˜¯å®Œç¾çš„å…¼å®¹**å¹³é“ºï¼ˆTilingï¼‰ä¸å †å ï¼ˆStackingï¼‰**æ¨¡å¼ï¼Œä¸”æ”¯æŒæŒ‰å·¥ä½œåŒºç‹¬ç«‹é…ç½®ã€‚cosmicçš„çª—å£ç®¡ç†çš„è¿™ä¸ªä½“éªŒå‰æ‰€æœªæœ‰ã€‚ è‡ªå®šä¹‰é¡¹ å¤Ÿä¸°å¯Œä¹Ÿå¤Ÿç®€å•ã€‚ æ²¡æœ‰kdeé‚£ä¹ˆç¹çï¼Œä¹Ÿæ²¡æœ‰gnomeé‚£ä¹ˆç®€é™‹ã€‚ è‡ªå®šä¹‰å¿«æ·é”®ç®€å• å®Œå–„ï¼Œä¸”æ”¯æŒç›´æ¥é…ç½®æ–‡ä»¶ç›´æ¥è®¾å®šï¼Œ è‡ªå¸¦çš„dock å¯ä»¥æ”¹æˆåŠé€æ˜ æŒºæ¼‚äº®(æ”¯æŒæµ®åŠ¨æ¨¡å— å·¦å³ä¸Šä¸‹ä¸­ å·¦å³å¯¹å…¶ç­‰ï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰é‚£ä¹ˆç‚«é…·ï¼ˆdockå›¾æ ‡åŠ¨ç”»å¾ˆå®¹æ˜“å½±å“æ“ä½œç²¾åº¦ï¼‰ panelå¯ä»¥å¾ˆæ¼‚äº®ï¼ŒåŠé€æ˜æ‚¬æµ®æ¨¡å¼ç­‰ é…ç½®å‹å¥½ï¼šé‡‡ç”¨ RON æ ¼å¼ çš„çº¯æ–‡æœ¬é…ç½®ï¼Œæ”¯æŒæ— æ„Ÿçƒ­é‡è½½ï¼Œæå…¶é€‚åˆä½¿ç”¨ Nix è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚ cosmic-term éå¸¸æƒŠè‰³ æ€§èƒ½è‡ªä¸å¿…è¯´ï¼Œè¿˜è‡ªå¸¦äº†ç±»ä¼¼ terminator çš„åˆ†å±åŠŸèƒ½ã€‚ åŸºç¡€å®Œå–„ï¼šå†…ç½®æˆªå›¾å·¥å…·å¹¶ä¸”flameshotè¿è¡Œä¹Ÿè‰¯å¥½ï¼Œå®Œç¾æ”¯æŒ fcitx5 è¾“å…¥æ³•ï¼Œç”šè‡³ä¸€äº›è¾…åŠ©åŠŸèƒ½éƒ½å·²ç»å¯ç”¨ï¼ˆå±å¹•é˜…è¯»ï¼Œç¿»è½¬é¢œè‰²ã€ç°è‰²ç­‰ï¼‰ã€‚ ä¼—æ‰€å‘¨çŸ¥çš„ä¼˜åŠ¿ æè‡´æ€§èƒ½ï¼š å¾—ç›Šäº Rust çš„å†…å­˜å®‰å…¨å’Œ Iced å·¥å…·åŒ…ï¼ŒCOSMIC çš„å“åº”é€Ÿåº¦æå¿«ï¼Œç”šè‡³åœ¨è€æ—§ç¡¬ä»¶ä¸Šä¹Ÿèƒ½è¡¨ç°å‡ºç±»ä¼¼ Xfce çš„è½»é‡æ„Ÿã€‚ åŸç”Ÿå¹³é“ºçª—ç®¡ (Tiling)ï¼š å®ƒæ˜¯ç›®å‰å”¯ä¸€ä¸€ä¸ªåœ¨è®¾è®¡ä¹‹åˆå°±å°†â€œå †å â€ä¸â€œè‡ªåŠ¨å¹³é“ºâ€å®Œç¾èåˆçš„æ¡Œé¢ç¯å¢ƒï¼Œéå¸¸é€‚åˆå¼€å‘è€…å’Œå¤šä»»åŠ¡å¤„ç†è€…ã€‚ é«˜åº¦å¯å®šåˆ¶æ€§ï¼š ç›¸æ¯”äº GNOME çš„â€œå…‹åˆ¶â€ï¼ŒCOSMIC å…è®¸ç”¨æˆ·åœ¨æ— éœ€å®‰è£…æ’ä»¶çš„æƒ…å†µä¸‹ï¼Œæ·±åº¦è‡ªå®šä¹‰é¢æ¿ã€Dockã€ä¸»é¢˜é¢œè‰²å’Œå¿«æ·é”®ã€‚ ç¼ºç‚¹å’Œç›®å‰å‘ç°çš„bug ç”Ÿæ€ä¸å®¡ç¾å€¾å‘ï¼šå†…ç½®ä¸»é¢˜é…è‰²è¾ƒå·®ï¼Œç›®å‰ç¼ºä¹æ’ä»¶å’Œç¬¬ä¸‰æ–¹ä¸»é¢˜ç”Ÿæ€ã€‚ é…ç½®é¡¹å‚¨å­˜çš„å¾ˆåˆ†æ•£ï¼Œconfig/cosmic/é‡Œé¢ä¸€å †ronæ–‡ä»¶ï¼Œéœ€è¦æ‰¾ä¸€ä¼šã€‚ä¸è¿‡å¥½åœ¨éœ€è¦ç”¨nixæ‰˜ç®¡çš„ä¹Ÿå°±é‚£å‡ ä¸ªã€‚ å±å¹•å’Œå †å çª—å£çš„é»˜è®¤å¿«æ·é”®å¾ˆå¤šå’Œ gnome/i3wç­‰ å·®è·åŠ å¤§ï¼Œéœ€è¦é€‚åº”ä¸€ä¸‹æˆ–è€…è‡ªå·±æ”¹ä¸€ä¸‹ python tkå†™çš„å°å·¥å…· root.geometry(\u0026quot;650x650+5+5\u0026quot;) æ— æ³•æ§åˆ¶çª—å£ä½ç½® åŒæ—¶åœ¨ dockå›ºå®šå›¾æ ‡çš„é…ç½®æ–‡ä»¶/home/y/.config/cosmic/com.system76.CosmicAppList/v1/favorites python tkå†™çš„å°å·¥å…·è¢«æ ‡è®°ä¸º \u0026quot;Tk\u0026quot; ä¹Ÿå°±æ˜¯StartupWMClasså¾ˆå¥‡æ€ªçš„æ„Ÿè§‰ï¼ˆgnomeæ˜¯é€šè¿‡.desktopæ–‡ä»¶åæ¥åœ¨dconfæ ‡è®°çš„ï¼‰ åœ¨æˆ‘çš„thinkbookamdç¬”è®°æœ¬ä¸Šç”µæºç®¡ç†è²Œä¼¼æœ‰é—®é¢˜ï¼Œå¶å°”å‡ºç°æ— æ³•å½»åº•å…³æœºçš„æƒ…å†µã€‚ ä¸­æ–‡è¯­è¨€åŒ…æ”¯æŒè²Œä¼¼ä¸å®Œå–„ï¼Œregion\u0026amp;languageé‡Œé¢è²Œä¼¼å°šæ— æ³•æ·»åŠ éè‹±æ–‡è¯­è¨€å’Œæ ¼å¼ å¾®ä¿¡å› ä¸ºæ‰˜ç›˜çš„èœå•ä¹ˆæœ‰æ˜¾ç¤ºä¸»ç•Œé¢æŒ‰é’®ï¼Œå…³é—­åˆ°æ‰˜ç›˜åæ— æ³•å†æ¬¡å”¤èµ·ï¼Œåªèƒ½é€€å‡ºå†æ¬¡æ‰“å¼€ã€‚ cosmic-files éå¸¸ä¸å®Œå–„ã€‚æˆ‘æ²¡æ‰¾åˆ°æŠŠæ–‡ä»¶å¤¹æ”¾åˆ°å·¦ä¾§æ”¶è—çš„åŠæ³•ï¼›å¦å¤– æˆ‘åœ¨gridè§†å›¾ä¸‹ç§»åŠ¨ä¸€äº›å›¾ç‰‡ åˆ°å¦å¤–ä¸€ä¸ªçª—å£çš„æ—¶å€™å‘ç° ç¬¬ä¸€ä¸ªçª—å£é—ªçƒ å‰©ä¸‹çš„å›¾ç‰‡ä¸æ˜¾ç¤ºäº†ï¼Œéœ€è¦é‡æ–°è¿›å…¥æ–‡ä»¶å¤¹æ‰å¯ä»¥ã€‚åœ¨å¤šä¸ªçª—å£ ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªçª—å£å›¾æ ‡å¤§å°çš„æ—¶å€™ï¼Œæ‰€æœ‰çª—å£çš„å›¾æ ‡å¤§å°éƒ½è·Ÿç€å˜ ä½“éªŒä¼šå¾ˆè¯¡å¼‚ã€‚ å…³äºæ”¶è—è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä½¿ç”¨cajaæ·»åŠ åˆ°æ”¶è—å¤¹çš„ç›®å½• åœ¨firefox vlc ç­‰åº”ç”¨ä¸‹ æ–‡ä»¶å¯¹è¯æ¡†å¯ä»¥æ˜¾ç¤ºï¼ˆgtk/qtï¼‰ï¼Œåœ¨zed/chromeçš„æ–‡ä»¶ç®¡ç†å¯¹è¯æ¡†å°±æ— æ³•æ˜¾ç¤ºã€‚ å‡ ä¸ªå¥‡æ€ªçš„é—®é¢˜ cosmic-greeter æ— æ³•è‡ªåŠ¨å¯åŠ¨cosmic-sessionã€‚éœ€è¦è¾“å…¥exitæ‰å¯ä»¥ ä¸ä½¿ç”¨cosmic-greeterå¯åŠ¨cosmicï¼ˆlightdm/ttyå¯åŠ¨çš„ï¼‰ Alt Tab/Super Tabæ— æ³•åˆ‡æ¢çª—å£ã€‚ ä¸ä½¿ç”¨cosmic-greeterå¯åŠ¨cosmicï¼ˆlightdm/ttyå¯åŠ¨çš„ï¼‰ä¼šå‡ºç°æ— æ³•å½»åº•å…³æœºã€‚ ä¸€ä¸ªå¤§æ¦‚æ˜¯nixos-unstableçš„é—®é¢˜ç¦ç”¨cosmic-greeterä¼šè‡ªåŠ¨å¯ç”¨ä¸€ä¸ª lightdm ä¸è¿‡è¿™ä¸ªlightdmæ˜¯å¯ä»¥ç™»å½•åˆ°cosmicçš„ï¼Œåªæ˜¯ä¼šå‡ºç°ä¸€äº›åˆ«çš„é—®é¢˜ã€‚ ä¸¥é‡çš„é—®é¢˜ cosmicåŸç”Ÿåº”ç”¨ä¸æ”¯æŒfcitx5ï¼Œå‚è€ƒ iced osmic-epoch/ å¯æƒœäº†cosmic-termè¿™ä¹ˆå¥½ç”¨çš„ä¸œè¥¿. ç›®å‰å·²ç»æœ‰æ—¥æœ¬ç½‘å‹çš„ç¬¬ä¸‰æ–¹ç‰ˆæœ¬ è§£å†³äº†è¿™ä¸ªé—®é¢˜è¦†ç›–æ‰€æœ‰cosmicçš„è‡ªå¸¦ç»„ä»¶ã€‚ä½†æ˜¯åœ¨è¿™ä¹‹å‰å®˜æ–¹è¯´ä¸ä¼šåœ¨1.xç‰ˆæœ¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨æœªæ¥2.xä¼šå¤„ç†ã€‚\ncosmicä¼—æ‰€å‘¨çŸ¥çš„é—®é¢˜ åº”ç”¨ç”Ÿæ€ï¼ˆå¦‚æ–‡ä»¶ç®¡ç†å™¨ã€æ’­æ”¾å™¨ç­‰ è¿˜æœ‰æ’ä»¶ï¼‰å°šåœ¨èµ·æ­¥é˜¶æ®µã€‚ä½†æ˜¯å®é™…ä¸Š cosmic-termç›¸å½“æƒŠè‰³ï¼Œcosmic-editæˆ‘æ˜¯ä¸å¤ªå¯èƒ½ä¼šç”¨ï¼ˆzedæ›´å¥½ï¼‰ï¼Œcosmic-playerï¼ˆä¸ºä»€ä¹ˆä¸ç”¨vlcï¼‰ cosmic-files(å‰æ–‡è¯´äº†ä¸å¥½ç”¨ï¼Œæˆ‘ç”¨caja) ä¸»è¦ç”± System76 æ¨åŠ¨ï¼Œå¹¶ä¸”åªæœ‰ Pop!_OS é»˜è®¤å®‰è£…ï¼Œæ™®åŠç‡ä¸ä¹è§‚ã€‚ è™½ç„¶å¼€æºï¼Œä½†æ˜¯å‚ä¸å¼€å‘éœ€è¦Rust + Icedï¼Œä¸¤ä¸ªéƒ½æ˜¯é—¨æ§›ã€‚æ¯”å¦‚æˆ‘ è™½å¯¹rustè¾ƒä¸ºç†Ÿæ‚‰ï¼Œä½†å¯¹Icedå®Œå…¨æ˜¯å°ç™½ã€‚ å»ºè®® ç›®å‰å·²ç»å¯ç”¨ï¼Œé™¤äº†åŸç”Ÿcomsmicçš„fcitx5çš„é—®é¢˜ï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸ä¼šå½±å“ä½¿ç”¨ã€‚ åŸç”Ÿçš„Tilingå’Œå †å çª—å£å®Œç¾æ”¯æŒï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¡Œé¢/wmå¯ä»¥æ¯”æ‹Ÿè¿™ç§ä½“éªŒã€‚ å¦‚æœèƒ½å¤Ÿé€‚åº” COSMIC çš„æ“ä½œé€»è¾‘ï¼Œå»ºè®®å°½å¿«å°è¯•å¹¶åˆ‡æ¢ã€‚\nnixosä¸‹cosmic.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 { pkgs, username, ... }: { services.xserver.enable = true; /* è¿˜æœ‰ä¸€ç‚¹å°é—®é¢˜çš„æ ·å­ å¹²è„†ä¸ç”¨ services.displayManager.cosmic-greeter = { enable = true; }; */ services.desktopManager.cosmic = { enable = true; xwayland.enable = true; showExcludedPkgsWarning = true; }; # dont install default applications environment.cosmic.excludePackages = with pkgs; [ cosmic-edit # text editor cosmic-icons # icon theme cosmic-store cosmic-player # video player # cosmic-randr # configure wayland outputs # cosmic-screenshot # æˆªå›¾å·¥å…· è™½ç„¶æˆ‘ç”¨flameshot ä½†æ˜¯ç•™ç€æŠŠ # cosmic-term # terminal æŒºå¥½ç”¨çš„ ç®—æ˜¯kitty + terminator çš„äºŒåˆä¸€ ç•™ä¸‹ç”¨ cosmic-wallpapers # wallpapers ]; environment.systemPackages = with pkgs; [ cosmic-randr flameshot ]; # ä¸‹é¢æ˜¯nixæ‰˜ç®¡çš„cosmicçš„é…ç½®æ–‡ä»¶ å…¶å®æ²¡å•¥å¿…è¦ home-manager = { users.${username} = { home.file.\u0026#34;.config/cosmic/com.system76.CosmicAppList/v1/favorites\u0026#34; = { recursive = true; force = true; source = ./config_Dock_favorites.ron; }; home.file.\u0026#34;.config/cosmic/com.system76.CosmicPanel.Dock/v1/plugins_center\u0026#34; = { recursive = true; force = true; source = ./config_Dock_plugins_center.ron; }; home.file.\u0026#34;.config/cosmic/com.system76.CosmicSettings.Wallpaper/v1/custom-images\u0026#34; = { recursive = true; force = true; source = ./config_bg_custom-images.ron; }; home.file.\u0026#34;.config/cosmic/com.system76.CosmicSettings.Shortcuts/v1/custom\u0026#34; = { recursive = true; force = true; source = ./config_Shortcuts_custom.ron; }; }; }; } ","date":"2026-01-03T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/rust/cosmic/","title":"cosmicæ¡Œé¢å·²ç»å®Œå…¨å¯ç”¨è€Œä¸”éå¸¸ä¼˜ç§€"},{"content":"nixosä¸‹ å¼€å‘fyne å’Œ flutter linux é‡åˆ°ä¸€äº›å°é—®é¢˜ï¼Œä¸»è¦æ˜¯x11çš„é—®é¢˜ã€‚\nç”¨iflow+m2 è·‘äº†ä¸€ä¼š è§£å†³æ–¹æ¡ˆå¦‚ä¸‹(ä¸‹æ–‡å¤§éƒ¨åˆ†æ³¨é‡Šæ˜¯aiå†™çš„ï¼Œæ³¨é‡Šéƒ¨åˆ†ä»…ä¾›å‚è€ƒ)\néœ‡æ¥¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 [y@thinkbook] ~ ó°œ´ fastfetch â–—â–„â–„â–„ â–—â–„â–„â–„â–„ â–„â–„â–„â–– y@thinkbook â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™ â–Ÿâ–ˆâ–ˆâ–ˆâ–› ----------- â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™â–Ÿâ–ˆâ–ˆâ–ˆâ–› OS: NixOS 25.05 (Warbler) x86_64 â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› Host: IDEAPAD â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–› â–Ÿâ–™ Kernel: Linux 6.12.61 â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™ â–Ÿâ–ˆâ–ˆâ–™ Uptime: 1 day, 5 hours, 37 mins â–„â–„â–„â–„â–– â–œâ–ˆâ–ˆâ–ˆâ–™ â–Ÿâ–ˆâ–ˆâ–ˆâ–› Packages: 2453 (nix-system), 113 (nix-user), 24 (flatpak-user) â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–œâ–ˆâ–ˆâ–› â–Ÿâ–ˆâ–ˆâ–ˆâ–› Shell: fish 4.0.8 â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–œâ–› â–Ÿâ–ˆâ–ˆâ–ˆâ–› Display (AUOC391): 2880x1800 @ 90 Hz in 14 [Built-in] â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–™ DE: GNOME 48.2 â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› WM: Mutter (Wayland) â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–Ÿâ–™ â–Ÿâ–ˆâ–ˆâ–ˆâ–› WM Theme: vimix-dark-laptop-beryl â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–Ÿâ–ˆâ–ˆâ–™ â–Ÿâ–ˆâ–ˆâ–ˆâ–› Theme: vimix-dark-laptop-beryl [GTK2/3/4] â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–œâ–ˆâ–ˆâ–ˆâ–™ â–â–€â–€â–€â–€ Icons: Flat-Remix-Blue-Dark [GTK2/3/4] â–œâ–ˆâ–ˆâ–› â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› Font: Adwaita Sans (11pt) [GTK2/3/4] â–œâ–› â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–› Cursor: Bibata-Modern-Ice (24px) â–Ÿâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™ Terminal: .terminator-wra â–Ÿâ–ˆâ–ˆâ–ˆâ–›â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™ CPU: AMD Eng Sample: 100-000000534-40_Y (16) @ 4.59 GHz â–Ÿâ–ˆâ–ˆâ–ˆâ–› â–œâ–ˆâ–ˆâ–ˆâ–™ â–œâ–ˆâ–ˆâ–ˆâ–™ GPU: AMD Radeon 680M [Integrated] â–â–€â–€â–€ â–€â–€â–€â–€â–˜ â–€â–€â–€â–˜ Memory: 10.98 GiB / 27.10 GiB (41%) Swap: 3.46 GiB / 31.68 GiB (11%) Disk (/): 106.81 GiB / 150.00 GiB (71%) - btrfs Local IP (wlo1): 192.168.1.101/24 Battery (AP16L5J): 100% [AC Connected] Locale: en_US.UTF-8 lang-common.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 # å¤šç§å¼€å‘è¯­è¨€éƒ½éœ€è¦çš„å¼€å‘å·¥å…· å’Œ ä¾èµ–é¡¹ ä»¥åŠå®Œæ•´çš„ c/cppç¯å¢ƒ # åŒ…å« flutter ä»¥åŠ go-fyne æ‰€éœ€çš„åº“å’Œç¯å¢ƒå˜é‡ { pkgs, username, ... }: { home-manager = { users.${username} = { home.packages = with pkgs; [ # ===== é€šç”¨å‹ç¼©å’Œæ‰“åŒ…å·¥å…· ===== upx # å¤šè¯­è¨€é€šç”¨äºŒè¿›åˆ¶å‹ç¼©å·¥å…· # ===== C/C++ åŸºç¡€å·¥å…· (æ¥æº: c_cpp.nix, flutter.nix, golang-base.nix, rust.nix) ===== gcc # C/C++ç¼–è¯‘å™¨ï¼Œå¤šè¯­è¨€é€šç”¨æ„å»ºå·¥å…· gdb # GNUè°ƒè¯•å™¨ï¼Œå¤šè¯­è¨€é€šç”¨è°ƒè¯•å·¥å…· gnumake # GNU Makeï¼Œæ„å»ºå·¥å…·ï¼Œå¤šè¯­è¨€é€šç”¨ # ===== æ„å»ºç³»ç»Ÿå·¥å…· (æ¥æº: flutter.nix, rust.nix, c_cpp.nix) ===== cmake # è·¨å¹³å°æ„å»ºç³»ç»Ÿï¼ŒC/C++/Rust/å…¶ä»–è¯­è¨€éƒ½ä½¿ç”¨ ninja # é«˜æ€§èƒ½æ„å»ºå·¥å…·ï¼Œå¤šè¯­è¨€é€šç”¨ # ===== åŒ…é…ç½®å’Œç³»ç»Ÿå·¥å…· (é€šç”¨) ===== pkg-config # åŒ…é…ç½®æŸ¥è¯¢å·¥å…·ï¼Œå¤šè¯­è¨€é€šç”¨ perl # è„šæœ¬è¯­è¨€ï¼Œå¤šè¯­è¨€æ„å»ºä¾èµ– bc # è®¡ç®—å™¨ï¼Œå¤šè¯­è¨€æ„å»ºä¾èµ– lsof # åˆ—å‡ºæ‰“å¼€æ–‡ä»¶ï¼Œç³»ç»Ÿè¯Šæ–­å·¥å…· tree # ç›®å½•æ ‘æ˜¾ç¤ºï¼Œé€šç”¨å·¥å…· # ===== ä»£ç è´¨é‡å’Œé€šç”¨å¼€å‘å·¥å…· (æ¥æº: flutter.nix) ===== gitlint # Gitæäº¤ä¿¡æ¯æ£€æŸ¥å·¥å…· jq # JSONå¤„ç†å·¥å…·ï¼Œé€šç”¨ ripgrep # æ–‡æœ¬æœç´¢å·¥å…·ï¼Œé€šç”¨ # ===== ç³»ç»Ÿè¯Šæ–­å·¥å…· (æ¥æº: flutter.nix) ===== pciutils # PCIè®¾å¤‡ä¿¡æ¯æŸ¥è¯¢ (lspci) usbutils # USBè®¾å¤‡ä¿¡æ¯æŸ¥è¯¢ (lsusb) file # ===== ç½‘ç»œå’Œå®‰å…¨å·¥å…· (æ¥æº: rust.nix) ===== cfssl # CloudFlareçš„SSLè¯ä¹¦å·¥å…· # ===== å…¶ä»–é€šç”¨å·¥å…· ===== #openssl_3 # SSL/TLSå·¥å…·åº“ï¼Œé€šç”¨ #openssl_3.dev openssl openssl.dev xorg.xinput # X11è¾“å…¥è®¾å¤‡é…ç½®å·¥å…· litmus # Webå…¼å®¹æ€§æµ‹è¯•å·¥å…· # ===== X11 å’Œå›¾å½¢ä¾èµ– (æ¥æº: golang-fyne.nix, flutter.nix, webkit_gtk.nix) ===== # ç”¨äºGUIåº”ç”¨å¼€å‘ (Fyne, Flutter Desktop, WebKitç­‰) mesa # OpenGLå®ç° libglvnd.dev # OpenGL vendoringåº“ xorg.libX11.dev # X11æ ¸å¿ƒåº“ xorg.libXext.dev # X11æ‰©å±•åº“ xorg.libXi.dev # X11è¾“å…¥æ‰©å±• xorg.libXrandr.dev # X11 RandRæ‰©å±• (æ˜¾ç¤ºå™¨é…ç½®) xorg.libXrender.dev # X11æ¸²æŸ“æ‰©å±• xorg.libXcursor # X11å…‰æ ‡ä¸»é¢˜ xorg.libXcursor.dev # X11å…‰æ ‡å¼€å‘æ–‡ä»¶ xorg.libXinerama # X11å¤šæ˜¾ç¤ºå™¨æ”¯æŒ xorg.libXinerama.dev # X11å¤šæ˜¾ç¤ºå™¨å¼€å‘æ–‡ä»¶ xorg.libXfixes.dev # X11ä¿®å¤æ‰©å±• xorg.libXtst # X11æµ‹è¯•æ‰©å±• xorg.libXxf86vm # X11 video modeæ‰©å±• libdrm # ç›´æ¥æ¸²æŸ“ç®¡ç†å™¨ libxkbcommon # é”®ç›˜æ˜ å°„åº“ wayland # Waylandæ˜¾ç¤ºæœåŠ¡å™¨ # ===== GTK3 å’Œå›¾å½¢å·¥å…·åŒ… (æ¥æº: webkit_gtk.nix, flutter.nix) ===== atk # å¯è®¿é—®æ€§å·¥å…·åŒ… cairo # 2Då›¾å½¢åº“ libepoxy # OpenGLå‡½æ•°åŠ è½½å™¨ gdk-pixbuf # å›¾åƒåŠ è½½åº“ glib # GLibåº“ glibc # GNU Cåº“ gtk3 # GTK3å›¾å½¢å·¥å…·åŒ… harfbuzz # æ–‡æœ¬æ•´å½¢å¼•æ“ pango # æ–‡æœ¬å¸ƒå±€åº“ pcre # Perlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼åº“ ]; home.sessionVariables = { # X11 and graphics dependencies ------- for Fyne and flutter start PKG_CONFIG_PATH = \u0026#34;${pkgs.libglvnd.dev}/lib/pkgconfig:${pkgs.mesa}/lib/pkgconfig:${pkgs.xorg.libX11.dev}/lib/pkgconfig:${pkgs.xorg.libXrandr.dev}/lib/pkgconfig:${pkgs.xorg.libXrender.dev}/lib/pkgconfig:${pkgs.xorg.libXcursor.dev}/lib/pkgconfig:${pkgs.xorg.libXinerama.dev}/lib/pkgconfig:${pkgs.xorg.libXi.dev}/lib/pkgconfig:${pkgs.xorg.libXext.dev}/lib/pkgconfig:${pkgs.xorg.libXfixes.dev}/lib/pkgconfig:${pkgs.xorg.xorgproto}/lib/pkgconfig\u0026#34;; CGO_CFLAGS = \u0026#34;-I${pkgs.xorg.xorgproto}/include -I${pkgs.xorg.libX11.dev}/include -I${pkgs.xorg.libXrandr.dev}/include -I${pkgs.xorg.libXrender.dev}/include -I${pkgs.xorg.libXcursor.dev}/include -I${pkgs.xorg.libXinerama.dev}/include -I${pkgs.xorg.libXi.dev}/include -I${pkgs.xorg.libXext.dev}/include -I${pkgs.xorg.libXfixes.dev}/include -I${pkgs.libglvnd.dev}/include\u0026#34;; CGO_LDFLAGS = \u0026#34;-L${pkgs.libglvnd.dev}/lib -L${pkgs.xorg.libX11}/lib -L${pkgs.xorg.libXrandr}/lib -L${pkgs.xorg.libXxf86vm}/lib -L${pkgs.xorg.libXi}/lib -L${pkgs.xorg.libXcursor}/lib -L${pkgs.xorg.libXinerama}/lib\u0026#34;; # X11 and graphics dependencies ------- for Fyne and flutter end }; }; }; } golang and fyne 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 { pkgs, username, ... }: { home-manager = { users.${username} = { home.packages = with pkgs; [ go gopls golangci-lint fyne # ä¾èµ– lang-common.nix å†…çš„å’Œå›¾å½¢ç›¸å…³çš„ä¾èµ–å’Œç¯å¢ƒå˜é‡ gofumpt # X11 å’Œå›¾å½¢ä¾èµ–å·²ç§»åŠ¨åˆ° lang-common.nix ]; home.sessionVariables = { GOPROXY = \u0026#34;https://goproxy.cn,direct\u0026#34;; }; home.sessionPath = [ \u0026#34;/home/y/go/bin\u0026#34; ]; }; }; } /* fyne xorg.libXinerama cd /home/y/myworkspace/os-joyanhui/modules/lang-sdk-lsp/go-fyne-tteesstt \u0026amp;\u0026amp; export PKG_CONFIG_PATH=\u0026#34;/nix/store/12j7aq1hy5k61dhsr4gyp85agir17zwy-libglvnd-1.7.0-dev/lib/pkgconfig\u0026#34; \u0026amp;\u0026amp; export CGO_CFLAGS=\u0026#34;-I/nix/store/dfg6nawjdqqrb4cm0lasgzw08wrrkvkq-libX11-1.8.12-dev/include -I/nix/store/w0qf0w82rcrqr4yr94nfs59fizcgdad1-xorgproto-2024.1/include -I/nix/store/w7m0s9s00fz310zcpxa0bzjlp5n41sh4-libXrandr-1.5.4-dev/include -I/nix/store/sl53x6gj351x02sn1j0lpfnplss556nx-libXrender-0.9.12-dev/include -I/nix/store/j1l4szg41hn6pbadg6nfl4z9khscvvfh-libXcursor-1.2.3-dev/include -I/nix/store/zx81x2nvyqpmhm4ffnjcpdzg77fwl8sr-libXinerama-1.1.5-dev/include -I/nix/store/a3f4fw0kckr8ybqraavx92sp8f9fa5f1-libXi-1.8.2-dev/include -I/nix/store/r6pb1wzzhnsabbhbzgyvz4kvl0rglwzw-libXext-1.3.6-dev/include -I/nix/store/1pfkkl0jy70rpcw6i0h1l8c8c3l7r9rk-libXfixes-6.0.1-dev/include -I/nix/store/12j7aq1hy5k61dhsr4gyp85agir17zwy-libglvnd-1.7.0-dev/include\u0026#34; \u0026amp;\u0026amp; export CGO_LDFLAGS=\u0026#34;-L/nix/store/12j7aq1hy5k61dhsr4gyp85agir17zwy-libglvnd-1.7.0-dev/lib -L/nix/store/ayswhp8g569mhb0gbgxrvqw53hsq59mz-libX11-1.8.12/lib -L/nix/store/gvg4ibdx82jfy1alrh21pki3waxnfd88-libXrandr-1.5.4/lib -L/nix/store/zxjlbsz531dpk5j41w37pqd9ywpwmhl4-libXxf86vm-1.1.6/lib -L/nix/store/phpmbvcjd7sppnbfg07g5v9xyjna9nbi-libXi-1.8.2/lib -L/nix/store/hkn7b9rdqky4m43mhk3pg1ind85yf8fv-libXcursor-1.2.3/lib -L/nix/store/ksm28wdl5q73lrdmlvhvsr297lafcaj5-libXinerama-1.1.5/lib\u0026#34; \u0026amp;\u0026amp; go build main.go */ flutter 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 { pkgs, username, ... }: { environment.systemPackages = with pkgs; [ gcc clang_19 # è¿™ä¸ªç‰ˆæœ¬éœ€è¦å’Œflutter å¯¹åº” cmake ]; home-manager = { users.${username} = { home.packages = with pkgs; [ #flutter327 flutter332 # unstable.flutter # 3.29.2-sdk-links 2025 04 04 jdk17 android-tools # adb fastboot ... # gcc, cmake, ninja, gitlint, jq, ripgrep, pciutils, usbutils, atk, cairo, libepoxy, gdk-pixbuf, glib, glibc, gtk3, harfbuzz, pango, pcre, pkg-config, xorg.libX11, xorg.libX11.dev å·²ç§»åŠ¨åˆ° lang-common.nix # development tools ======== ]; home.sessionVariables = { D_LIBRARY_PATH = with pkgs; lib.makeLibraryPath [ atk cairo libepoxy gdk-pixbuf glib gtk3 harfbuzz pango ]; #CHROME_EXECUTABLE = \u0026#34;${pkgs.chromium}/bin/chromium\u0026#34;; # flatpak info org.chromium.Chromium #CHROME_EXECUTABLE = \u0026#34;/home/${username}/.local/share/flatpak/app/org.chromium.Chromium/current/active/files/bin/chromium\u0026#34;; CHROME_EXECUTABLE = \u0026#34;${pkgs.brave}/bin/brave\u0026#34;; ANDROID_HOME = \u0026#34;/home/${username}/android_flutter/android-sdk\u0026#34;; ANDROID_SDK_ROOT = \u0026#34;/home/${username}/android_flutter/android-sdk\u0026#34;; # MY_ANDROID_STUDIO_DIR = \u0026#34;${pkgs.android-studio}\u0026#34;; MY_ANDROID_STUDIO_DIR = \u0026#34;/home/${username}/.local/share/JetBrains/Toolbox/apps/android-studio\u0026#34;; JAVA_HOME = \u0026#34;${pkgs.jdk17}\u0026#34;; # Fix an issue with Flutter using an older version of aapt2, which does not know # an used parameter. GRADLE_OPTS = \u0026#34;-Dorg.gradle.project.android.aapt2FromMavenOverride=/home/${username}/android_flutter/android-sdk/build-tools/34.0.0/aapt2\u0026#34;; #GRADLE_OPTS = \u0026#34;-Dorg.gradle.project.android.aapt2FromMavenOverride=$ANDROID_SDK_ROOT/build-tools/34.0.0/aapt2\u0026#34;; # æ‰‹åŠ¨æ‰§è¡Œ flutter config --android-studio-dir $MY_ANDROID_STUDIO_DIR # flutter doctor --verbose # echo $ANDROID_HOME \u0026amp;\u0026amp; echo $ANDROID_SDK_ROOT # flutter doctor --android-licenses # $ANDROID_HOME/cmdline-tools/latest/bin/sdkmanager --list_installed PUB_HOSTED_URL = \u0026#34;https://pub.flutter-io.cn\u0026#34;; FLUTTER_STORAGE_BASE_URL = \u0026#34;https://storage.flutter-io.cn\u0026#34;; CXX = \u0026#34;${pkgs.clang_19}/bin/clang++\u0026#34;; }; }; }; #programs.adb.enable = true; } é™„å¸¦ rustäº¤å‰ç¼–è¯‘ç¯å¢ƒ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 { pkgs, username, ... }: { home-manager = { users.${username} = { home.packages = with pkgs; [ rustup rustc # gcc, cfssl, pkg-config, ninja, upx, cmake, gnumake, perl, bc, lsof, tree å·²ç§»åŠ¨åˆ° lang-common.nix # ===== äº¤å‰ç¼–è¯‘å·¥å…·é“¾ (Rustç‰¹æœ‰) ===== # aarch64 (ARM64) äº¤å‰ç¼–è¯‘å·¥å…·é“¾ - GNU pkgs.pkgsCross.aarch64-multiplatform.buildPackages.gcc pkgs.pkgsCross.aarch64-multiplatform.buildPackages.binutils # ARM äº¤å‰ç¼–è¯‘å™¨ (å·²ç§»é™¤ï¼Œé¿å…ä¸ gdb å†²çª) # gcc-arm-embedded # ARM Cortex-M/R # ç§»é™¤æœ‰å†²çªçš„åŒ…ï¼ˆglibc, muslï¼‰ï¼Œåªä¿ç•™ç¼–è¯‘å™¨å’Œå·¥å…· # pkgs.pkgsCross.aarch64-multiplatform.buildPackages.stdenv.cc # åŒ…å« glibc ä¼šå†²çª # pkgs.pkgsCross.aarch64-multiplatform.buildPackages.glibc # ä¼šå†²çª # pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.stdenv.cc # åŒ…å« musl ä¼šå†²çª # pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.musl # ä¼šå†²çª pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.gcc pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.binutils pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.openssl # å…¶ä»–å¸¸ç”¨äº¤å‰ç¼–è¯‘ç›®æ ‡ # pkgs.pkgsCross.armv7l-hf-multiplatform.buildPackages.stdenv.cc # ARMv7 # pkgs.pkgsCross.riscv64.buildPackages.stdenv.cc # RISC-V 64 # pkgs.pkgsCross.mingwW64.buildPackages.stdenv.cc # Windows ]; home.sessionVariables = { RUSTUP_HOME = \u0026#34;$HOME/.rustup\u0026#34;; CARGO_HOME = \u0026#34;$HOME/.cargo\u0026#34;; RUSTUP_DIST_SERVER = \u0026#34;https://rsproxy.cn\u0026#34;; RUSTUP_UPDATE_ROOT = \u0026#34;https://rsproxy.cn/rustup\u0026#34;; # æ³¨é‡Šæ‰å…¨å±€ OpenSSL å˜é‡ï¼Œè®© cargo è‡ªåŠ¨æ£€æµ‹ä¸åŒæ¶æ„çš„åº“ # OPENSSL_DIR = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.openssl_3.dev}\u0026#34;; # OPENSSL_LIB_DIR = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.openssl_3.out}/lib\u0026#34;; # OPENSSL_INCLUDE_DIR = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.openssl_3.dev}/include\u0026#34;; # PKG_CONFIG_PATH = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.openssl_3.dev}/lib/pkgconfig\u0026#34;; # sqlx ç”¨çš„ # DATABASE_URL = \u0026#34;postgresql://shiyuxin:123@127.0.0.1:5432/shiyuxinDB\u0026#34;; # å»ºè®®åœ¨é¡¹ç›®ä¸­å¯ç”¨ vendored OpenSSL æ¥é¿å…äº¤å‰ç¼–è¯‘é—®é¢˜ # åœ¨ Cargo.toml ä¸­æ·»åŠ ï¼š # [dependencies] # openssl = { version = \u0026#34;3.0\u0026#34;, features = [\u0026#34;vendored\u0026#34;] } # äº¤å‰ç¼–è¯‘ç¯å¢ƒå˜é‡ # aarch64 äº¤å‰ç¼–è¯‘é…ç½® (GNU libc) CARGO_TARGET_AARCH64_UNKNOWN_LINUX_GNU_LINKER = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform.buildPackages.gcc}/bin/aarch64-unknown-linux-gnu-gcc\u0026#34;; CC_aarch64_unknown_linux_gnu = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform.buildPackages.gcc}/bin/aarch64-unknown-linux-gnu-gcc\u0026#34;; CXX_aarch64_unknown_linux_gnu = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform.buildPackages.gcc}/bin/aarch64-unknown-linux-gnu-g++\u0026#34;; AR_aarch64_unknown_linux_gnu = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform.buildPackages.gcc}/bin/aarch64-unknown-linux-gnu-ar\u0026#34;; # aarch64 musl äº¤å‰ç¼–è¯‘é…ç½® CARGO_TARGET_AARCH64_UNKNOWN_LINUX_MUSL_LINKER = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.gcc}/bin/aarch64-unknown-linux-musl-gcc\u0026#34;; CC_aarch64_unknown_linux_musl = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.gcc}/bin/aarch64-unknown-linux-musl-gcc\u0026#34;; CXX_aarch64_unknown_linux_musl = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.gcc}/bin/aarch64-unknown-linux-musl-g++\u0026#34;; AR_aarch64_unknown_linux_musl = \u0026#34;${pkgs.pkgsCross.aarch64-multiplatform-musl.buildPackages.gcc}/bin/aarch64-unknown-linux-musl-ar\u0026#34;; # å…¶ä»–ç›®æ ‡å¹³å°é…ç½®ç¤ºä¾‹ï¼ˆå–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨ï¼‰ # CARGO_TARGET_ARMV7_UNKNOWN_LINUX_GNUEABIHF_LINKER = \u0026#34;${pkgs.pkgsCross.armv7l-hf-multiplatform.buildPackages.gcc}/bin/arm-unknown-linux-gnueabihf-gcc\u0026#34;; # CARGO_TARGET_X86_64_PC_WINDOWS_GNU_LINKER = \u0026#34;${pkgs.pkgsCross.mingwW64.buildPackages.gcc}/bin/x86_64-w64-mingw32-gcc\u0026#34;; }; }; }; } ","date":"2025-12-04T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/nixos-fyne-flutter/","title":"Nixos ä¸‹go-fyneå’Œflutterç­‰uiå¼€å‘ç¯å¢ƒçš„é…ç½®"},{"content":"é€šå¸¸ æˆ‘ä»¬ä½¿ç”¨ go get -u XXXX@XXX æ¥æ›´æ–°\nä½†æ˜¯ æœ‰æ—¶å‘ç°æ— æ•ˆï¼Œ äºæ˜¯ go clean -modcache å‘ç°ä¹Ÿæ²¡å•¥åµç”¨\nä½†æ˜¯ go get -u XXXX@commitID æ˜¯å¯ä»¥çš„ã€‚\nå…¶å® è¿™ä¸ªæ—¶å€™ å…¶å® ä½ è¦è€ƒè™‘ä¸€ä¸‹ æ˜¯ä¸æ˜¯é…ç½®äº†GOPROXY,å¤§æ¦‚ç‡æ˜¯ä½ çš„ç”¨çš„GOPROXYçš„ç¼“å­˜çš„é—®é¢˜ã€‚\nGOPROXY=direct go get -u XXX@XX å°±okäº†\næ‰€ä»¥ å¤§å†…ç½‘ä¸‹å†™ä»£ç  å¾ˆæ¶¨çŸ¥è¯†ã€‚ è®©ä¸ªäºº/å°ä¼ä¸šéƒ½èƒ½ä½“éªŒå¤§ä¼ä¸š/æ¶‰å¯†å•ä½çš„Goproxy.io Enterprise ç‰ˆçš„ ç¼ºç‚¹ã€‚ã€‚ã€‚ã€‚\n","date":"2025-07-09T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/goget/","title":"go get è·å–ä¸åˆ°æœ€æ–°ç‰ˆï¼Ÿ"},{"content":" æœ¬æ–‡æ›´æ–°å¯èƒ½æ»åäº githubä»“åº“çš„è¯´æ˜æ–‡æ¡£\nä½¿ç”¨é—®é¢˜äº¤æµè¯·å»æ©å±±æˆ–discussions\nbugåé¦ˆå’Œå»ºè®®ä»¥åŠå…¬å…±doh/github proxyåˆ†äº«éƒ½å¯ä»¥æissuesï¼Œæˆ‘ä¼šå°½å¿«å¤„ç†.ç»™ä¸ªstaræˆ‘ä¼šå¾ˆå¼€å¿ƒ.\nPRè¯·å°½é‡é€šè¿‡ä¸€æ¬¡commitæäº¤è¿‡æ¥.\nå…³äºçˆ±å¿«çš„åˆ†æµè§„åˆ™è¯·æŸ¥çœ‹æˆ‘å¦å¤–çš„ä»“åº“ [joyanhui/ikuai-bypass]\nå•adguardhomeåˆ†æµè§£æ å®‰è£…å’Œå¯åŠ¨ è¿™é‡Œä»¥opwenwrtä¸»è·¯ç”±çš„æƒ…å†µä¸ºä¾‹å­ï¼Œå…¶ä»–ç¯å¢ƒéšä¾¿ä½¿ç”¨dockeræˆ–è€…å®˜æ–¹çš„å®‰è£…å‘½ä»¤ç­‰éƒ½å¯ä»¥æ­£å¸¸å®‰è£…ã€‚æ­¤æ–‡ä¸æ¶µç›–ç›¸å…³å†…å®¹ã€‚\néå¸¸ä¸å»ºè®®ä½¿ç”¨luci-app-adguardhome,ä¸ä½†æ²¡å¿…è¦è€Œä¸”ä¼šå¸¦æ¥æ›´å¤šå›°æ‰°ã€‚\nå…ˆç¡®å®šä½ çš„openwrté…ç½®äº†æ­£ç¡®çš„æºï¼Œå¹¶ä¸”æ²¡æœ‰é¡¹ç›®å±•ä¼šç”¨3000ç«¯å£ï¼Œç„¶åä¾æ¬¡è¿è¡Œä¸‹é¢ä¸¤è¡Œå‘½ä»¤\n1 2 3 4 opkg update #æ›´æ–°è½¯ä»¶åˆ—è¡¨ opkg install adguardhome #å®‰è£… /etc/init.d/adguardhome start #å¯åŠ¨ /etc/init.d/adguardhome enable #ä¸‹æ¬¡å¼€æœºè‡ªåŠ¨è¿è¡Œ adguardhome æ›¿ä»£è·¯ç”±å™¨è‡ªå¸¦çš„Dnsmasq å…³é—­Dnsmasqçš„dnsåŠŸèƒ½ï¼šopenwrt webç•Œé¢ï¼šç½‘ç»œ\u0026gt;DHCP/DNS\u0026gt;é«˜çº§è®¾ç½® DNS æœåŠ¡å™¨ç«¯å£ é»˜è®¤æ˜¯53ä¿®æ”¹ä¸º0 å³å¯å…³é—­ ä¿®æ”¹dhcpä¸‹å‘çš„dns ï¼šopenwrt webç•Œé¢ï¼šç½‘ç»œ\u0026gt;æ¥å£ æ‰¾åˆ°br-lan ç¼–è¾‘ ä¸€èˆ¬åœ¨è¿™ä¸ªæ¥å£çš„DHCPæœåŠ¡å™¨çš„é«˜çº§è®¾ç½®é‡Œé¢ æ‰¾åˆ° DHCP é€‰é¡¹ æ·»åŠ æˆ–è€…ä¿®æ”¹ä¸€åè°ƒ6,192.168.1.1,223.6.6.6 å³ç»™dhcpå®¢æˆ·ç«¯åˆ†é…ä¸¤ä¸ªdnsåœ°å€192.168.1.1,223.6.6.6 å¦‚æœä½ çš„ adguardhomeçš„å®‰è£…ipä¸æ˜¯åœ¨192.168.1.1é‚£ä¹ˆè¿™é‡Œè¦ä¿®æ”¹ä¸€ä¸‹ å¦‚æœæ˜¯çˆ±å¿«ç›´æ¥ä½¿ç”¨dnsä»£ç†åŠŸèƒ½æŒ‡å®šåˆ°adguardhomeå³å¯\nadguardhome åŸºæœ¬é…ç½® è®¿é—®ä½ è¿è¡Œadguardhomeçš„åŠ ç«¯å£å· 3000ï¼Œä¾‹å¦‚:http://192.168.1.1:3000\ndnsç«¯å£å°±ç”¨53,å› ä¸ºä¸Šé¢æˆ‘ä»¬å·²ç»æŠŠDnsmasqçš„dnsåŠŸèƒ½å…³é—­äº†ï¼Œæ‰€ä»¥è¿™é‡Œadguardå¯ä»¥ç«™å“Ÿæœºæ„53ç«¯å£ã€‚ webè®¿é—®ç«¯å£ä¸è¦ç”¨80,è¿˜æ˜¯3000å°±å¥½å•¦ã€‚\nä»¥åŠé…ç½®å¥½ç®¡ç†è´¦å·å¯†ç ä»¥å è¿›å…¥adgçš„ç®¡ç†é¢æ¿\nadguardhome åŸºæœ¬dnsé…ç½® adgçš„ç®¡ç†é¢æ¿ï¼šè®¾ç½® \u0026gt; DNSè®¾ç½®\nä¸Šæ¸¸ DNS æœåŠ¡å™¨ éšä¾¿è¾“å…¥ä¸€ä¸ªå¯ç”¨çš„ï¼Œä¸ç”¨é…ç½®å¤ªå¤šï¼Œå› ä¸ºåé¢æˆ‘ä»¬è¦ç”¨é…ç½®è·¯å¾„çš„æ–¹å¼ç”¨æ–‡ä»¶æ¥é…ç½®ä¸Šæ¸¸dnsè§„åˆ™ã€‚å»ºè®®å°±è¾“å…¥ä¸€ä¸ª 223.5.5.5 è´Ÿè½½å‡è¡¡/å¹¶è¡Œè¯·æ±‚/æœ€å¿«ipåœ°å€ å»ºè®®é€‰æ‹© å¹¶è¡Œè¯·æ±‚ Bootstrap DNS æœåŠ¡å™¨ è¾“å…¥å‡ ä¸ªå…¬å…±dnsçš„ip ä¾‹å¦‚ 123.125.81.6 223.6.6.6 119.29.29.29ä¸€è¡Œä¸€ä¸ª DNS æœåŠ¡é…ç½® é€Ÿåº¦é™åˆ¶ å»ºè®®ä¿®æ”¹20-100å·¦å³ï¼Œæˆ‘è¿™é‡Œé…ç½®ä¸º50 DNSç¼“å­˜é…ç½® æ ¹æ®è‡ªå·±éœ€æ±‚å’Œç¡¬ä»¶æ€§èƒ½é…ç½®æˆ‘è¿™é‡Œé…ç½® ç¼“å­˜å¤§å°1024000 æœ€å°ttl30 æœ€å¤§ttl1800 æ­¤æ—¶ æ•´ä¸ªå±€åŸŸç½‘çš„ï¼ŒåŒ…æ‹¬è·¯ç”±å™¨openwrtè‡ªå·±çš„dns å‡ç”±adguardæ¥ç®¡ã€‚æµ‹è¯•æœªè®¿é—®è¿‡çš„ç½‘ç«™æ˜¯å¦å¯ä»¥æ­£å¸¸pingåˆ°ipåœ°å€ã€‚ä¾‹å¦‚ï¼šping news.163.com ping news.baidu.com ping image.baidu.com\nadguardhome é…ç½®åˆ†æµè§„åˆ™ adguardhome åˆ†æµæ€è·¯ adguard homeæ”¯æŒ [/example.local/]94.140.14.140: æŒ‡å®šä¸ºç‰¹å®šåŸŸåçš„ä¸Šæ¸¸æœåŠ¡å™¨ï¼› è¿™æ ·çš„è§„åˆ™ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ•´ç†å¯¹åº”çš„åŸŸååˆ—è¡¨ ç„¶åæŒ‡å®šå¯¹åº”çš„ä¸Šæ¸¸dnså³å¯ã€‚ä½†æ˜¯åœ¨adguard homeçš„ç®¡ç†é¢éƒ¨ä¸­çš„ä¸Šæ¸¸dnsé…ç½®è¿™ä¸ªé¡µé¢ æ˜¾ç„¶ä¸å¯èƒ½è¾“å…¥ä¸Šå‡ ä¸‡ä¸ªåŸŸåã€‚ä½†æ˜¯adguardæ”¯æŒç›´æ¥ç”¨æ–‡ä»¶é…ç½®ã€‚è€Œæˆ‘ä»¬åˆå¯ä»¥ä»Loyalsoldierç­‰å¤§ä½¬çš„ä»“åº“è·å¾—ä¸€äº›æˆ‘ä»¬éœ€è¦çš„åŸŸåæ¸…å•ã€‚è™½ç„¶æ ¼å¼ä¸ç¬¦åˆè¦æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±ç”¨ç¨‹åºç¨å¾®å¤„ç†ä¸€ä¸‹è®©ä»–ç¬¦åˆadguard homeçš„æ ¼å¼ï¼Œå†æŠŠå¤šä¸ªåŸŸåæ¸…å•åˆ—è¡¨åˆå¹¶åˆ°ä¸€ä¸ªé‡Œé¢é‚£å°±å¤§åŠŸå‘Šæˆäº†ã€‚\næ‰€ä»¥æˆ‘æä¾›å¥½äº† æ¯å¤©ä¼šæ›´æ–°çš„è§„åˆ™æ–‡ä»¶ï¼Œä½ åªéœ€è¦ä¸‹è½½å›å»è‡ªå·±å†ç”¨è„šæœ¬ä¿®æ”¹ä¸€ä¸‹å³å¯ã€‚ ç„¶åè¿™ä¸ªè„šæœ¬ å¯ä»¥ç”¨wgetä¸‹è½½sedä¿®æ”¹ï¼Œç„¶åæ·»åŠ åˆ°è®¡åˆ’äººç‰©æ¯å¤©è¿è¡Œå°±å¯ä»¥è‡ªåŠ¨æ›´æ–°äº†ã€‚ åœ°å€æ˜¯ https://github.com/joyanhui/adguardhome-rules/tree/release_file\næ— è¾…åŠ©ä¸Šç½‘ç¯å¢ƒçš„æƒ…å†µä¸‹ ä½ è¦ç¡®å®šä½ æœ‰åŠæ³•å¯ä»¥ç›´æ¥æ–¹æ³•githubçš„æ–‡ä»¶ï¼Œä»¥åŠæœ‰æ— æ±¡æŸ“çš„dnsä¸Šæ¸¸å¯ç”¨ï¼Œå»ºè®®è‡ªå·±å‡†å¤‡ä¸€ä¸ªåŸŸåè‡ªå·±ä»cloudflareè‡ªå»ºä¸€ä¸ªgithubé•œåƒç«™å’Œè‡ªå»ºä¸€ä¸ªç§æœ‰doh.\nåŸŸåï¼Œå¯ä»¥ç”³è¯·å…è´¹é‚£äº›åŸŸåã€‚ä¸è¿‡å»ºè®®ä»é˜¿é‡Œäº‘æˆ–è€…cloudflareæˆ–è€…å…¶ä»–åœ°æ–¹è´­ä¹°ä¸€ä¸ªã€‚8ä½æ•°å­—çš„xyzåŸŸåä¸€å¹´åªè¦å‡ å—é’±ã€‚å…è´¹çš„äºŒçº§åŸŸåæ¯”è¾ƒå®¹æ˜“åœ¨æ•æ„Ÿæ—¶æœŸå…¨éƒ¨è¢«å¤§å±€åŸŸç½‘å±è”½ï¼Œç„¶ådnsæ‰˜ç®¡åˆ°cloudflare,å¼€é€š cloudflare workerã€‚è¿™ä¸ªç½‘ç»œå¾ˆå¤šæ•™ç¨‹ã€‚\né…ç½®è‡ªå·±çš„ githubä»£ç†é•œåƒç½‘å€ workeræºç  https://github.com/joyanhui/gh-proxy/blob/master/index.js é…ç½®è‡ªå·±çš„ dohæºç ï¼š cfworks_doh.js è®°å¾—ä¿®æ”¹é‡Œé¢çš„?dns-query= å¦‚æœä½ ä¸æƒ³æŠ˜è…¾å¯ä»¥ä»ç½‘ç»œæœç´¢å…¶ä»–äººçš„ï¼Œè¿™é‡Œæä¾›å‡ ä¸ªç›®å‰å¯ç”¨çš„\ngithub proxy åœ°å€æ”¶é›† https://goppx.com/ github proxy: https://github.akams.cn/ github proxy: https://ghproxy.net/ æ— æ±¡æŸ“çš„ dns åœ°å€æ”¶é›† dotå› ä¸ºç«¯å£ç‰¹æ®Šçš„é—®é¢˜åŸºæœ¬éƒ½ä¸ç¨³å®šï¼Œdohçš„è¯ cloudclareåœ¨å¤šæ•°ä¸‹å¯ç”¨\nhttps://dns.cloudflare.com/dns-query åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°adguardä¸Šæ¸¸dnsè§„åˆ™æ–‡ä»¶çš„è„šæœ¬ åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°è„šæœ¬ æ¯”å¦‚\nnano /overlay/data/adguard_upstream_dns_file_update.sh å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 #!/bin/sh rm -rf /overlay/data/adguard_upstream_dns_file.txt wget \u0026#34;https://ä½ çš„githubProxyä»£ç†ç«™åœ°å€/https://raw.githubusercontent.com/joyanhui/adguardhome-rules/refs/heads/release_file/ADG_chinaDirect_WinUpdate_Gfw.txt\u0026#34; -O /overlay/data/adguard_upstream_dns_file.txt sed -i \u0026#39;s/d-o-h.you-cf-domain.com/ä½ çš„dohåŸŸåéƒ¨åˆ†/g\u0026#39; /overlay/data/adguard_upstream_dns_file.txt sed -i \u0026#39;s/your-suffix/ä½ çš„dohåç¼€éƒ¨åˆ†/g\u0026#39; /overlay/data/adguard_upstream_dns_file.txt /etc/init.d/adguardhome restart å¦‚æœä½ æ²¡æœ‰è‡ªå·±çš„ç§æœ‰githubPoryxå’Œdoh\nGithubProxy https://ä½ çš„githubProxyä»£ç†ç«™åœ°å€/ ä¿®æ”¹ä¸º https://goppx.com/ã€‚ä¹Ÿå¯ä»¥æŠŠwgetçš„å®Œæ•´åœ°å€æ›´æ¢ä¸º https://joyanhui.github.io/adguardhome-rules/ADG_chinaDirect_WinUpdate_Gfw.txt https://gcore.jsdelivr.net/gh/joyanhui/adguardhome-rules@release_file/ADG_chinaDirect_WinUpdate_Gfw.txt https://testingcf.jsdelivr.net/gh/joyanhui/adguardhome-rules@release_file/ADG_chinaDirect_WinUpdate_Gfw.txt https://cdn.jsdmirror.com/gh/joyanhui/adguardhome-rules@release_file/ADG_chinaDirect_WinUpdate_Gfw.txt æ— æ±¡æŸ“çš„dns,udp/tcpæ— å¯ç”¨çš„ï¼Œtlsä¸ç¨³å®šï¼Œç›®å‰åªæœ‰cloudflareçš„å¤šæ•°æ—¶é—´å’Œåœ°åŒºå¯ç”¨ã€‚å¼ºçƒˆå»ºè®®è‡ªå»º ä½ çš„dohåŸŸåéƒ¨åˆ† å¯ä»¥ä¿®æ”¹ä¸º dns.cloudflare.com ä½ çš„dohåç¼€éƒ¨åˆ† ä¿®æ”¹ä¸ºdns-query [joyanhui/adguardhome-rules/tree/release_file] åˆ†æ”¯ä¸­æœ‰å¤šä¸ªæ¯æ—¥è‡ªåŠ¨æ›´æ–°çš„è§„åˆ™æ–‡ä»¶ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªé€‚åˆä½ çš„\nä½ éœ€è¦æ ¹æ®ä½ çš„æƒ…å†µä¿®æ”¹ä¸€ä¸‹ é‡Œé¢ä¸¤ä¸ªåœ°å€ ä»¥åŠæ–‡ä»¶è·¯å¾„ã€‚å¦‚æœä¸æ˜¯openwrtè¿˜éœ€è¦ä¿®æ”¹å¯¹åº”çš„é‡å¯adgurdçš„å‘½ä»¤\nè¿è¡Œä¸€æ¬¡ sh /overlay/data/adguard_upstream_dns_file_update.sh,ç„¶åè‡ªå·±æ£€æŸ¥è·å–åˆ°çš„adguard_upstream_dns_file.txtè¿™ä¸ªæ–‡ä»¶æ˜¯å¦æ­£å¸¸ã€‚\nå¦‚æœä½ ä¸­é—´è¿è¡Œå‡ºé”™äº†ï¼Œå¯¼è‡´dnså…¨éƒ¨å¤±æ•ˆ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¢å¤dnsåŸºæœ¬çš„è¿è¡Œ\n1 2 3 echo \u0026#39;114.114.114.114 223.6.6.6 \u0026#39;\u0026gt;/overlay/data/adguard_upstream_dns_file.txt æ·»åŠ åˆ°è®¡åˆ’ä»»åŠ¡ 1 chmod +x /overlay/data/adguard_upstream_dns_file_update.sh ç„¶ååœ¨openwrtçš„webç®¡ç†é‡Œé¢ï¼šç³»ç»Ÿ\u0026gt;è®¡åˆ’ä»»åŠ¡ å¢åŠ ä¸€è¡Œ æœ¬æœºæ—¶é—´æ¯å¤©æ—©ä¸Š8ç‚¹15è¿è¡Œ\n1 15 8 * * * /overlay/data/adguard_upstream_dns_file_update.sh é…ç½®adguard home çš„ä¸Šæ¸¸dnsä¸ºè§„åˆ™æ–‡ä»¶æ¨¡å¼ æ‰¾åˆ°ä½ çš„adguardhomeçš„yamlé…ç½®æ–‡ä»¶ã€‚ä¸Šé¢æŒ‰ç…§çš„æ˜¯åœ¨/etc/adguardhome.yaml,å¦‚æœä½ ä¸ç¡®å®šå¯ä»¥æœç´¢ä¸€ä¸‹ find / -name \u0026quot;*uard*ome.yaml\u0026quot;\nç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ æ‰¾åˆ°è¿™è¡Œ upstream_dns_file ä¿®æ”¹ä¸º\n1 upstream_dns_file: /overlay/data/adguard_upstream_dns_file.txt åœ¨ä¿®æ”¹upstream_dns_fileå¹¶é‡å¯adguardhomeåupstream_dns éƒ¨åˆ†çš„é…ç½®ä¼šå¤±æ•ˆï¼Œadguardhomeçš„ç½‘é¡µç«¯ä¹Ÿå¯ä»¥çœ‹åˆ°\nåœ¨ä¿®æ”¹upstream_dns_file ä¹‹å‰å¯ä»¥å…ˆpingä¸€ä¸ªgfwçš„åŸŸåã€‚ä¾‹å¦‚ ping google.com,ä¿®æ”¹å®Œæˆå é‡å¯adguardhome ï¼Œç„¶åå†pingä¸€ä¸‹çœ‹çœ‹èƒ½å¦è·å–æ­£ç¡®çš„ip\nè¿›é˜¶ adguardhome æ­å»ºè‡ªå·±çš„doh æœ¬åœ°çš„adguardhomeä¹Ÿå¯ä»¥å¯¹å¤–æä¾› dohã€‚æœ‰ä¸¤ç§æ–¹å¼ ä¸€ç§æ˜¯è‡ªç­¾è¯ä¹¦[åœ¨çº¿ç”Ÿæˆ]æˆ–è€…è´­ä¹°ä¸€ä¸ªé•¿æœŸè¯ä¹¦ã€‚å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯é…åˆè¯ä¹¦ç®¡ç†å’Œåå‘ä»£ç†å·¥å…·ï¼Œä¸‹é¢ç”¨ luckyæ¥åšç®€å•è¯´æ˜ã€‚\nadguardhome å¯ç”¨doh åœ¨ adguardhome çš„è®¾ç½® åŠ å¯†è®¾ç½®é‡Œé¢ å¯ç”¨åŠ å¯† HTTPS ç«¯å£ é…ç½®ä¸ºä¸€ä¸ªå¯ç”¨çš„ç«¯å£ï¼Œä¾‹å¦‚ 30443 ä¸è¦æ‰“å¼€httpsé‡å®šå‘ï¼Œæ— æ„ä¹‰\nDNS-over-TLS ç«¯å£ å’Œ DNS-over-QUIC ç«¯å£ å› ä¸ºç‰µæ‰¯åˆ°è¯ä¹¦ç»­ç­¾çš„é—®é¢˜ï¼Œè¿™é‡Œå°±å¹²è„†è®¾ç½®ä¸º0,ä¸ä½¿ç”¨äº†ã€‚\nç„¶å è¯ä¹¦å†…å®¹ ç²˜è´´ä¸€ä¸‹éšä¾¿ä¸€ä¸ªç›®å‰å¯ç”¨çš„åŸŸåè¯ä¹¦ï¼ˆæš‚æ—¶å¯ç”¨çš„å°±okï¼‰ å¯ä»¥ä»luckyçš„sslç®¡ç†çš„ æ˜ å°„è·¯å¾„ é‡Œé¢ crt å’Œkeyæ–‡ä»¶é‡Œé¢è·å–åˆ°ã€‚\nç„¶åä¿å­˜ä¿®æ”¹\nluckyæ¥ç®¡ adguardhomeçš„https lucky webæœåŠ¡æ­£å¸¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ ä¸€ä¸ªå­è§„åˆ™ï¼š\nå‰ç«¯åœ°å€ ä½ çš„åŸŸå åç«¯åœ°å€ adguardhome çš„httpsåœ°å€ ä¾‹å¦‚ https://192.168.1.1:30443 å¿½ç•¥åç«¯TLSè¯ä¹¦éªŒè¯ ä¸€å®šè¦å‹¾é€‰ è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å…³å¿ƒadguardhomeçš„è¯ä¹¦æ˜¯å¦å¯ç”¨ã€‚ doh æµ‹è¯•å‘½ä»¤ å¤§å…¨ 1 2 3 4 5 6 dnslookup x.com https://ä½ çš„dohåŸŸå/ä½ çš„dohåç¼€ doggo x.com A AAAA MX --time @https://ä½ çš„dohåŸŸå/ä½ çš„dohåç¼€ doggo x.com @https://ä½ çš„dohåŸŸå/ä½ çš„dohåç¼€ doggo x.com @https://cloudflare-dns.com/dns-query adguard å¹¿å‘Šè¿‡æ»¤è§„åˆ™ æ”¶é›† adguard homeå¹¿å‘Šè¿‡æ»¤\n1 2 3 4 5 6 7 8 9 # easylistå›½é™…ç½‘é¡µ https://easylist-downloads.adblockplus.org/easylist.txt # easylistå›½å†…ç½‘é¡µ https://easylist-downloads.adblockplus.org/easylistchina.txt # easylist-cookis é˜»æ­¢Cookieæ ‡è¯­ï¼ŒGDPRè¦†ç›–çª—å£å’Œå…¶ä»–ä¸éšç§ç›¸å…³çš„é€šçŸ¥ https://easylist-downloads.adblockplus.org/easylist-cookie.txt # anti-ADä¸­æ–‡åŒºå‘½ä¸­ç‡æœ€é«˜ çš„å¹¿å‘Šè¿‡æ»¤åˆ—è¡¨ ç”µè§†ç›’å­ æ—¥å¿—æ”¶é›†ã€å¤§æ•°æ®ç»Ÿè®¡ https://gh.leiyanhui.com/https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-easylist.txt æ„Ÿè°¢ [Loyalsoldier] ","date":"2025-06-11T08:30:20+08:00","permalink":"https://dev.leiyanhui.com/c/adguardhome-rules/","title":"adguard homeå•å®ä¾‹è‡ªåŠ¨æ›´æ–°åˆ†æµè§„åˆ™"},{"content":"zedç¼–è¾‘å™¨ å·²ç»åˆ°äº†å®Œå…¨å¯ç”¨çš„é˜¶æ®µï¼ˆlinux/macosï¼‰\nç›®å‰å‘ç°çš„çš„å‡ ä¸ªé—®é¢˜\nä¸æ”¯æŒflutter è™½ç„¶æ”¯æŒdart ä½†æ˜¯å¯¹flutterçš„æ”¯æŒæ¥è¿‘æ²¡æœ‰ã€‚ å®˜æ–¹è²Œä¼¼ä¸æ‰“ç®—æ”¯æŒï¼Œåªèƒ½ç­‰ç¬¬ä¸‰æ–¹ã€‚ æ²¡æœ‰debugæ¨¡å¼ï¼Œæ›´æ— æ³•æ‰“æ–­ç‚¹ã€‚ è²Œä¼¼å®˜æ–¹æ˜ç¡®çŸ­æ—¶é—´ä¸ä¼šæ”¯æŒ aiåŠŸèƒ½ ç›®å‰æ¯”è¾ƒå­±å¼± è™½ç„¶æœ‰ä¸å°‘åŠŸèƒ½æ¨¡ä»¿äº†cursor/windsurf ä½†æ˜¯å¾ˆç®€é™‹ ","date":"2025-03-11T08:30:20+08:00","permalink":"https://dev.leiyanhui.com/c/zed-editor/","title":"å…³äºzed editorçš„å‡ ä¸ªè¯„ä»·"},{"content":"windsurf æ˜¯ä¸€ä¸ªå’Œcursoré½åçš„ aiä»£ç ç¼–è¾‘å™¨ or IDE ,åŸºäº vscodeå¼€æºç‰ˆ.\næœ€è¿‘cursorç™½å«–å›°éš¾, ä»˜è´¹åˆç§Ÿæˆ–è€…åŠ å•†ä¸šç‰ˆä¹Ÿéƒ½ä¸å¤ªç¨³å®š.æ‰€ä»¥å°è¯•ä½¿ç”¨windsurf æ›¿ä»£cursor\nä½†æ˜¯æˆªè‡³2025å¹´2æœˆ6æ—¥,nixpkgså°šæœªæ”¶å½•windsurf æ‰€ä»¥è‡ªå·±æ‰“åŒ…ä¸€ä¸ª,åŸºäº homemanager\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 { pkgs, ... }: let # https://windsurf-stable.codeiumdata.com/linux-x64/stable/d08b8ea13d580d24be204c76e5dd1651d7234cd2/Windsurf-linux-x64-1.2.6.tar.gz version = \u0026#34;1.2.6\u0026#34;; # \u0026#34;windsurfVersion\u0026#34; urlHash = \u0026#34;d08b8ea13d580d24be204c76e5dd1651d7234cd2\u0026#34;; # \u0026#34;version\u0026#34; hash = \u0026#34;sha256-rXHrArkwLUzxQTwKg3Y/Rf5FXlvnTunhR3vqLoWgLKo=\u0026#34;; windsurf = pkgs.callPackage (pkgs.path + \u0026#34;/pkgs/applications/editors/vscode/generic.nix\u0026#34;) { pname = \u0026#34;windsurf\u0026#34;; executableName = \u0026#34;windsurf\u0026#34;; longName = \u0026#34;Windsurf\u0026#34;; shortName = \u0026#34;windsurf\u0026#34;; version = version; src = pkgs.fetchurl { inherit hash; url = \u0026#34;https://windsurf-stable.codeiumdata.com/linux-x64/stable/${urlHash}/Windsurf-linux-x64-${version}.tar.gz\u0026#34;; }; sourceRoot = \u0026#34;Windsurf\u0026#34;; commandLineArgs = \u0026#34;\u0026#34;; meta = { description = \u0026#34;The first agentic IDE, and then some\u0026#34;; }; updateScript = \u0026#34;\u0026#34;; }; in { home.packages = with pkgs; [ windsurf ]; } å‚è€ƒ: https://github.com/KenMacD/etc-nixos/blob/main/pkgs/windsurf.nix\n","date":"2025-02-07T17:24:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/windsurf-in-nixos/","title":"nixosä¸‹ä½¿ç”¨windsurf ç¼–è¾‘å™¨"},{"content":"cosmic å·²ç»åˆ°äº† Alpha 5ç‰ˆï¼Œåœ¨nixosä¸‹æš‚æ—¶åªèƒ½ç¼–è¯‘å®‰è£…ã€‚nixpkgä»“åº“é‡Œé¢çš„ç‰ˆæ¯”è¾ƒè€ã€‚ ç®€å•ä½“éªŒäº†ä¸€ä¼š åªèƒ½è¯´æœªæ¥å¯æœŸï¼Œæš‚æ—¶æ— æ³•ä½¿ç”¨ã€‚\nç›®å‰çš„bug æ¡Œé¢èƒŒæ™¯æ— æ³•è®¾ç½®å›¾ç‰‡ï¼Œå…·ä½“è¡¨ç°ä¸º é€‰æ‹©å›¾ç‰‡çš„å¯¹è¯æ¡†æ‰“ä¸å¼€ã€‚ç›´æ¥é—ªæ‰ åŒæ · å¤šæ•°åº”ç”¨çš„é€‰æ‹©æ–‡ä»¶çš„å¯¹è¯æ¡†ä¹Ÿå¦‚æ­¤ å±å¹• dpi è®¾ç½®æœ‰æ•ˆï¼Œä½†æ˜¯ä¼šç›´æ¥å¡æ‰æ¡Œé¢ éœ€è¦é‡å¯æ¡Œé¢ fcitx5 ä¼šå¡æ‰æ•´ä¸ªæ¡Œé¢ å †å çª—å£æ¨¡å¼ä¸‹ å¤§éƒ¨åˆ†appçš„çª—å£å¤–å£³ å¤–é¢å¥—äº†ä¸€ä¸ªcosmicçš„é»˜è®¤çª—å£æ ·å¼ã€‚å¯¼è‡´éƒ¨åˆ†åº”ç”¨å¸¦äº†ä¸¤ä¸ªæ ‡é¢˜æ ã€‚å¥½åƒi3w hyprlandä¹‹ç±»çš„æµ®åŠ¨æ¨¡å¼ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡cosmicæš‚æ—¶ä¸çŸ¥é“æ€éšè—æŒ‡å®šåº”ç”¨çš„çª—å£å¤–æ¡†title åŠ¨ç”»æ•ˆæœæ˜¯0 ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•çª—å£åˆ‡æ¢æ•ˆæœ alt tab åŠŸèƒ½ç¼ºå¤±ï¼Œå¥½åƒåˆ«äººçš„æ²¡é—®é¢˜ã€‚ cosmic-file æ²¡æœ‰æ”¶è—/ä¹¦ç­¾ åŠŸèƒ½ï¼Œ æ‰€ä»¥ç›®å‰cosmic è¿˜æ— æ³•æ­£å¸¸ä½¿ç”¨\näº®ç‚¹ï¼Œæœªæ¥å¯æœŸ é»˜è®¤ä¸»é¢˜ä¸å¤ªéš¾çœ‹ï¼Œæ ·å¼è¾ƒä¸ºç»Ÿä¸€ å¹³é“ºæ¨¡å¼å’Œå †å æ¨¡å¼ éƒ½æ”¯æŒï¼Œè€Œä¸”æ”¯æŒçš„ä¸é”™ã€‚ cosmic è‡ªå¸¦çš„åº”ç”¨ ç»ˆç«¯ æ–‡æœ¬ç¼–è¾‘å™¨ æ–‡ä»¶ç®¡ç†å™¨ è®¾ç½® ç­‰ å®Œæˆåº¦ä¸é”™ã€‚ é£æ ¼æ¥è¿‘gnomeä½†æ˜¯å ç”¨æ¯”gnomeå°‘å¤ªå¤šäº† æ¯”gnomeå¯å®šåˆ¶æ€§å¼ºï¼Œæ¯”kdeç®€æ´ã€‚ éå¸¸éå¸¸æœŸå¾… cosmic, å—å¤Ÿäº†kdeçš„ç¹ç å’Œgnoomeçš„ä¸‘\n","date":"2025-01-12T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/cosmic-desktop-alpha5/","title":"cosmic desktop Alpha 5 åˆä½“éªŒ"},{"content":"å¹³æ—¶å†™çš„ä¸œè¥¿æ¯”è¾ƒæ‚ï¼Œ go rust python flutter c pythone mircopython uniapp vue reactã€‚ ä½¿ç”¨å‡ ä¸ªaiååŸºæœ¬çš„çº¯æ„Ÿè§‰ã€‚\nä¸åŒäºç½‘ä¸Šçš„é‚£äº›å¯¹æ¯”æ¯”è¾ƒï¼Œè¿™å‡ ä¸ªæœ‰é™çš„\næ¯ä¸ªåŠŸèƒ½æŒ‰ç…§10åˆ†è®¡ç®—\nåŸºæœ¬ä½“éªŒ copilot: ä»£ç æç¤ºå‡†ç¡®ç‡6åˆ† é€Ÿåº¦4åˆ† ä¿®é”™èƒ½åŠ›2åˆ† é€šä¹‰çµç  : ä»£ç æç¤ºå‡†ç¡®ç‡5åˆ† é€Ÿåº¦4åˆ† ä¿®é”™èƒ½åŠ›1åˆ† ï¼ˆè¯„ä»·ï¼šå…è´¹çš„ åŠ ä¸Šé©¬é©¬è™è™çš„å‡†ç¡®ç‡ï¼‰ cursor: ä»£ç æç¤ºå‡†ç¡®ç‡8åˆ† é€Ÿåº¦5åˆ† ä¿®é”™èƒ½åŠ›6åˆ† ï¼ˆæ•´ä½“ä¸é”™ï¼Œå°±æ˜¯è´µï¼‰ fitten : ä»£ç æç¤ºå‡†ç¡®ç‡2åˆ† é€Ÿåº¦10åˆ† ä¿®é”™èƒ½åŠ›1åˆ† ï¼ˆè¿™ä¸ªç›®å‰æ„Ÿè§‰ï¼Œç”¨ä»–ä»¥åæ•ˆç‡åè€Œä¸‹æ»‘ï¼‰ JetBrains AI Assistant ï¼šåªè¯•ç”¨è¿‡5å¤©å·¦å³ï¼Œåˆ°æœŸåæ²¡æœ‰ç»§ç»­è¯•ç”¨ï¼Œæ•´ä½“æ„Ÿè§‰å’Œé€šä¹‰çµç å·®è·ä¸å¤§ ä¼˜åŠ¿ä¸æ˜æ˜¾ã€‚ç„¶è€Œé€šä¹‰çµç å…è´¹ Codeium ï¼ˆæ’ä»¶ï¼‰ï¼šä»£ç æç¤ºå‡†ç¡®ç‡5.5åˆ† é€Ÿåº¦4åˆ† ä¿®é”™èƒ½åŠ›2åˆ† å› ä¸ºç”¨çš„æ—¶é—´è¾ƒå°‘ åŠ ä¸Šwindsurfçš„nixosåŒ…éœ€è¦è‡ªå·±å†™ï¼Œæ‰€ä»¥ä¸åšæ›´å¤šè¯„ä»· kimi ï¼š åªç”¨è¿‡ä»–çš„å¯¹è¯æ¨¡å¼ï¼Œä¸çŸ¥é“æ—¶ä¸æ—¶ä½¿ç”¨å§¿åŠ¿æœ‰é—®é¢˜ï¼Œæ„Ÿè§‰ä»–çš„ç¼–ç¨‹èƒ½åŠ›æ¥è¿‘0 å‡†ç¡®ç‡ä¹‹ç±»çš„æ— ä»è°ˆèµ· é¡¹ç›®é‡æ„èƒ½åŠ› è¿™æ—¶ä¸»è¦æ˜¯è¯´çš„é¡¹ç›®ç»“æ„çš„å˜æ›´ï¼ŒåŒ…æ‹¬éƒ¨åˆ†æ“ä½œå•ç‹¬æ‹†åˆ°å‡½æ•°ï¼Œä»¥åŠæ•´ä¸ªé¡¹ç›®çš„ç»“æ„çš„é‡æ–°ç»„ç»‡ã€‚\ncopilot: åªæœ‰æ–‡ä»¶å†…çš„æˆ–è€…å‡½æ•°çº§çš„é‡æ„ é‡æ„åçš„é€»è¾‘å’Œç®—æ³• æ¯”ä¸€èˆ¬çš„ç¨‹åºå‘˜å†™çš„è¦å¥½ä¹Ÿæ›´åŠ æ ‡å‡†ï¼Œä½†æ˜¯ä¹Ÿä¼šè¯­æ³•é”™è¯¯æˆ–è€…è‡ªå·±ä¹±é€ çš„ä¸œè¥¿ã€‚æ‰“4åˆ† é€šä¹‰çµç  : å’Œcopilotå·®ä¸å¤š 4åˆ† cursor: å¯ä»¥ç›´æ¥å¸®ä½ æ–°åˆ›å»ºæ–‡ä»¶ï¼Œè¦æ›¿æ¢çš„æ–‡ä»¶ä¹Ÿä¼šç»™ä½ åˆ›å»ºä¸€ä¸ªèŒƒä¾‹å‡ºæ¥ã€‚å½“ç„¶æ–‡ä»¶å†…å’Œå‡½æ•°çº§çš„ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¼šè¯­æ³•é”™è¯¯å’Œä¹±é€ ã€‚6åˆ†ã€‚å…¶ä¸­2åˆ†æ˜¯ç»™ç›®å½•ç»“æ„ä¼˜åŒ–çš„ã€‚ fitten : åªæœ‰æ–‡ä»¶å†…çš„æˆ–è€…å‡½æ•°å†…çš„é‡æ„ èƒ¡ç¼–ä¹±é€ çš„å¤šï¼Œä½†æ˜¯å¶æœ‰ä¸é”™çš„åœ°æ–¹ã€‚ å†·é—¨è¯­è¨€å’Œéœ€æ±‚çš„ä½“éªŒ mircopython å› ä¸ºaiç»å¸¸ä¼šæŒ‰ç…§pythonçš„æ–¹æ³•æ¥å†™mircopython\ncopilot: ä»£ç æç¤ºå‡†ç¡®ç‡3åˆ† ä¿®é”™èƒ½åŠ›0åˆ† é€šä¹‰çµç  : ä»£ç æç¤ºå‡†ç¡®ç‡2åˆ† ä¿®é”™èƒ½åŠ›0åˆ† cursor: ä»£ç æç¤ºå‡†ç¡®ç‡4åˆ† ä¿®é”™èƒ½åŠ›2åˆ† fitten : ä¸æ›¾æµªè´¹æ—¶é—´ä½¿ç”¨ ç»“åˆç¡¬ä»¶çš„é¡¹ç›®ï¼Œå•ç‰‡æœº/uosç­‰ copilot: ä»£ç æç¤ºå‡†ç¡®ç‡3åˆ† ä¿®é”™èƒ½åŠ›0åˆ† é€šä¹‰çµç  : ä»£ç æç¤ºå‡†ç¡®ç‡2åˆ† ä¿®é”™èƒ½åŠ›0åˆ† cursor: ä»£ç æç¤ºå‡†ç¡®ç‡5åˆ† ä¿®é”™èƒ½åŠ›4åˆ† fitten : ä¸æ›¾æµªè´¹æ—¶é—´ä½¿ç”¨ cursor æ­¤æ—¶åœ¨å‘ŠçŸ¥äº†ç¡¬ä»¶æƒ…å†µåï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤§çš„æ¦‚ç‡å¯ä»¥ä¿®å¤è¯­æ³•å’Œé€»è¾‘é”™è¯¯çš„\nnixæ–‡ä»¶ åœ¨2024å¹´10æœˆä»½å·¦å³ å„å¤§ai,åŒ…chatgpt å¯¹ nixè¯­è¨€çš„æ”¯æŒåŸºæœ¬éƒ½æ˜¯0,ä½†æ˜¯12æœˆä»½ å‡†ç¡®éƒ½ä¸é”™äº†\ncopilot: ä»£ç æç¤ºå‡†ç¡®ç‡4åˆ† ä¿®é”™èƒ½åŠ›0åˆ† é€šä¹‰çµç  : ä»£ç æç¤ºå‡†ç¡®ç‡2åˆ† ä¿®é”™èƒ½åŠ›0åˆ† cursor: ä»£ç æç¤ºå‡†ç¡®ç‡6åˆ† ä¿®é”™èƒ½åŠ›5åˆ† fitten : å› ä¸ºç»å¸¸æ›´æ–°è‡ªå·±çš„nixos-config æ‰€ä»¥ä¾æ—§æ˜¯ä½“éªŒäº†ä¸‹ï¼Œå‡†ç¡®æ¥è¿‘0 ä¿®é”™èƒ½åŠ›æ›´æ˜¯æ¥è¿‘0 ","date":"2024-12-27T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/c/code-ai/","title":"ç›®å‰è¾ƒä¸ºå¥½ç”¨çš„ai ä»£ç åŠ©æ‰‹é•¿æ—¶é—´ä½¿ç”¨äº²èº«ä½“ä¼š "},{"content":"ä¸€èˆ¬æƒ…å†µä¸‹ flake.nixä¸­æˆ‘ä»¬è¿™æ ·å†™home-manager\n1 2 3 4 5 6 7 8 9 10 11 12 13 { inputs = { nixpkgs.url = \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/nixos-24.05/nixexprs.tar.xz\u0026#34;; home-manager = { url = \u0026#34;github:nix-community/home-manager/release-24.05\u0026#34;; inputs.nixpkgs.follows = \u0026#34;nixpkgs\u0026#34;; }; }; outputs = inputs@{ nixpkgs, home-manager, ... }: { nixosConfigurations={ ..... }; } å…ˆåœ¨æ— æ¢¯å­ç¯å¢ƒä¸‹ nixos-rebuild å¤§æ¦‚ç‡ä¼šå¡åœ¨ è·å–githubä¸Šçš„ä¸€ä¸ªæ–‡ä»¶çš„åœ°æ–¹ã€‚è®°ä½è¿™ä¸ªurl https://github.com/nix-community/home-manager/archive/2f23fa308a7c067e52dfcc30a0758f47043ec176.tar.gz\nç¬¬ä¸€ä¸ªæ–¹æ¡ˆ æ˜¯ä½¿ç”¨å›½å†…æ”¯æŒgithubåŒæ­¥çš„gitæ™¯è±¡ï¼Œé•œåƒä¸€ä¸‹ https://github.com/nix-community/home-manager è¿™ä¸ªä»“åº“ã€‚\nç¬¬äºŒä¸ªæ–¹æ¡ˆ æ˜¯ä½¿ç”¨githubä¸‹è½½ä»£ç†ç½‘ç«™ï¼Œä¾‹å¦‚ https://ghp.ci/ æ­¤ç±»ç½‘ç«™ç¨³å®šæ€§éƒ½å¾ˆå·®ï¼Œå› ä¸ºç”¨çš„äººå¤ªå¤šï¼ŒåŸŸåç»å¸¸è¢«å°ï¼Œå»ºè®®è‡ªå»ºã€‚https://github.com/joyanhui/gh-proxy\nç„¶å url = \u0026quot;github:nix-community/home-manager/release-24.05\u0026quot;;\nè¿™è¡Œä¿®æ”¹ä¸º\nurl=\u0026quot;https://githubä»£ç†åœ°å€/https://github.com/nix-community/home-manager/archive/2f23fa308a7c067e52dfcc30a0758f47043ec176.tar.gz\u0026quot;;\nä¾‹å¦‚\n1 url=\u0026#34;https://ghp.ci/https://github.com/nix-community/home-manager/archive/2f23fa308a7c067e52dfcc30a0758f47043ec176.tar.gz\u0026#34;; ç†è®ºä¸Šè¿‡ä¸€æ®µæ—¶é—´ï¼Œä½ å¯èƒ½éœ€è¦é‡æ–°å¤åŸ åˆ°github,ç„¶åå…³é—­ä»£ç†åè·å¾—è¿™ä¸ªurlåæ›´æ–°ã€‚ æˆ–è€…ç›´æ¥å» https://github.com/nix-community/home-manager/å¯¹åº”çš„tree/release-24.05é‡Œé¢æŸ¥è¯¢\n","date":"2024-11-03T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/home-manager-china/","title":"nixos home managerå›½å†…ä½¿ç”¨å°æŠ€å·§"},{"content":"å°å‘ nixos ç”¨ /dev/by-lable/** æŒ‚è½½ç¡¬ç›˜ï¼Œåœ¨æŒ‚è½½ /æ ¹ç›®å½•çš„æ—¶å€™ å¤§æ¦‚ç‡æ˜¯æœ‰é—®é¢˜çš„ã€‚\nautofs çš„é…ç½®å’Œå¸¸è§„å‘è¡Œç‰ˆçš„ä¸å¤ªä¸€æ ·ï¼Œé»˜è®¤å¦‚ä¸‹æ–‡æ³¨é‡Šè¯´æ˜ã€‚\nautofs-service.nix å®ä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 {pkgs, ...}: { environment.systemPackages = [ pkgs.dosfstools pkgs.exfat pkgs.nfs-utils pkgs.btrfs-progs pkgs.btrfs-snap ]; # è‡ªåŠ¨æŒ‚è½½åˆ° /autofs/å­ç›®å½• services.autofs = { enable = true; autoMaster = let mapConf = pkgs.writeText \u0026#34;autofs.mnt\u0026#34; \u0026#39;\u0026#39; 128g -fstype=exfat :/dev/disk/by-label/128G ntfs -fstype=ntfs :/dev/disk/by-label/NTFS \u0026#39;\u0026#39;; in \u0026#39;\u0026#39; /autofs ${mapConf} --timeout 20 \u0026#39;\u0026#39;; }; } ","date":"2024-11-03T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/disk-mount/","title":"nixosç¡¬ç›˜æŒ‚è½½æ–¹æ¡ˆå’Œå°å‘ï¼Œhardware-configuration.nix autofs"},{"content":"nixoså®‰è£…æ•™ç¨‹ä¹‹å‰å†™è¿‡ï¼Œä½†æ˜¯æ€ä¹ˆç›´æ¥å¤ç°å®‰è£…å‘¢ï¼Ÿ\nå…¶å®å¾ˆç®€å• å¤„ç†å¥½æŒ‚è½½åã€‚ç›´æ¥ç”¨nixos-install å¸¦fakeå‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶å’Œhostnameå³å¯\n1 2 cd /mnt nixos-install --show-trace --option substituters https://mirror.sjtu.edu.cn/nix-channels/store --flake /mnt/home/username/workspace/nixos-config-v3#thinkbook ä»¥ä¸Šå‘½ä»¤åœ¨å®˜æ–¹24.05 gnome liveå®‰è£…ç›˜é€šè¿‡ï¼Œè‡ªå®šä¹‰çš„isoé•œåƒæˆ–è®¸éœ€è¦å…ˆå¼€å¯flake\n1 nix.settings.experimental-features = [ \u0026#34;nix-command\u0026#34; \u0026#34;flakes\u0026#34; ]; ","date":"2024-11-02T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/os-by-flake-install/","title":"nixoså¤ç°å®‰è£…ï¼Œå¸¦flakeæ¨¡å¼"},{"content":"æ›´æ–°è¯´æ˜ æ—§ç‰ˆæ–‡æ¡£åœ°å€:https://dev.leiyanhui.com/route/ikuai-bypass-joyanhui-old/ æœ¬æ–‡å†…å®¹æœªè¦†ç›–åˆ°ä¿¡æ¯è¯·å‚è€ƒæ—§ç‰ˆæ–‡æ¡£ã€‚\né¡¹ç›®è¯´æ˜ ikuai-bypass æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç»´æŠ¤çˆ±å¿«åˆ†æµè§„åˆ™çš„å°å·¥å…·ï¼ŒåŸºäºgolangå¼€å‘ã€‚ é¡¹ç›®åœ°å€ https://github.com/joyanhui/ikuai-bypass/\nçˆ±å¿«åˆ†æµåŸç† çˆ±å¿«åˆ†æµæ–¹å¼ä¸åŒä¸ä¼ ç»Ÿçš„æ—è·¯ç”±æ–¹æ¡ˆï¼Œæ›´åŠ ç›´è§‚ï¼Œé€Ÿåº¦ä¹Ÿæ›´åŠ å¥½ã€‚\nä¸‹è¿°æ–‡æ¡£ä¸­ ä»¥çˆ±å¿«+openwrtä¸ºä¾‹ï¼Œï¼ˆå®é™…ä¸Š openwrtå¯ä»¥ç”¨å…¶ä»–linuxç”šè‡³win/macosæ›¿ä»£ï¼Œåªè¦èƒ½è¿è¡Œä½ æƒ³è¦çš„å¯¹åº”çš„å·¥å…·å³å¯ã€‚å¯ä»¥åœ¨docker/lxc/kvm/vmware/virtuabox/ç‰©ç†è®¾å¤‡ï¼‰ä¸­è¿è¡Œopenwrt.\nåˆ†æµæ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š 1ã€ispåˆ†æµå’ŒåŸŸååˆ†æµé…åˆï¼š åŸºäºçˆ±å¿«çš„è‡ªå®šä¹‰ispçš„ipåŠŸèƒ½ï¼Œå®ç°é’ˆå¯¹wanå£çš„åˆ†æµï¼ŒæŠŠéå›½å†…ipå’Œéƒ¨åˆ†åŸŸååˆ†æµåˆ°wan2å£ç”±openwrtå¤„ç†å å›æµåˆ°wan1ï¼Œå›½å†…ipå’Œå›½å†…å¤§ç«™ç›´æ¥åˆ†æµåˆ°wan1ã€‚\n2ã€ipåˆ†ç»„+ç«¯å£åˆ†æµå’Œä¸‹ä¸€è·³ç½‘å…³ï¼š åŸºäºçˆ±å¿«çš„ipåˆ†ç»„åŠŸèƒ½å’Œç«¯å£åˆ†æµåŠŸèƒ½ï¼ŒæŠŠå›½å†…ipç›´æ¥èµ°wan1,å…¶ä»–ipæˆ–è€…æŒ‡å®šçš„ipç”¨ä¸‹ä¸€è·³ç½‘å…³çš„æ–¹å¼åˆ°è¾¾openwrtå†å›æµåˆ°wan1ã€‚\nçˆ±å¿«åˆ†æµçš„ä¼˜ç‚¹ æ¯”å•openwrtæ–¹æ¡ˆæ›´åŠ ç›´è§‚å®¹æ˜“ç»´æŠ¤ æ¯”æ—è·¯ç”±æ–¹æ¡ˆæ›´åŠ ç¨³å®š é€Ÿåº¦ä¹Ÿå¥½å¾ˆå¤šã€‚ å’Œè‡ªå»ºdnsé…åˆæ›´ç®€å•ã€‚ openwrtçš„å®‰è£…æ–¹å¼ ä»¥ä¸‹å‡ä¸ºæœ‰æ•ˆçš„æ–¹å¼ ï¼Œè¿™é‡Œçš„openwrtæ³›æŒ‡å¯ä»¥è¿è¡Œä½ å–œæ¬¢çš„é‚£äº›å·¥å…·çš„ç³»ç»Ÿã€‚\nçˆ±å¿«å†…çš„docker å…¶ä»–è®¾å¤‡çš„docker æˆ–è€…lxcè¿è¡Œçš„openwrtæˆ–è€…å…¶ä»–é…ç½®å¥½çš„ç³»ç»Ÿã€‚ çˆ±å¿«å†…çš„kvm æˆ–è€…å…¶ä»–çš„ kvm vmware virtualbox å’Œhyper-v ç­‰è™šæ‹Ÿæœºç³»ç»Ÿã€‚ åŒç½‘å£è®¾å¤‡ / å•ç½‘å£è®¾å¤‡ã€‚ æµ‹è¯•è¿‡çš„ç³»ç»Ÿ openwrt è€æ¯›å­ alpine macos11-15 win8-11 debian pve opensuse nixos \u0026hellip;.. æ”¯æŒçš„æ·±åº¦å­¦ä¹ å·¥å…·è½¯ä»¶ï¼šæš‚æ—¶æœªå‘ç°æ— æ³•æ”¯æŒçš„å·¥å…·ã€‚ å¸¸è§„ä½¿ç”¨æ–¹å¼ ispåˆ†æµå’ŒåŸŸååˆ†æµé…åˆ è¾ƒä¸ºå¤æ‚ï¼Œä½†æ˜¯é«˜å¯ç”¨æ€§ç½‘ç»œè‡ªæ„ˆæ€§æ¯”è¾ƒå¥½ã€‚\nç®€å•è¯´æ˜ å»ºè®®åœ¨pve/esxi/unraid/ç¾¤æ™–/docker/lxc/podmanä¸­è¿è¡Œçˆ±å¿«+openwrtï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç‰©ç†è®¾å¤‡ã€‚ å•ç½‘å¡ pveæµ‹è¯•æ²¡é—®é¢˜ï¼Œå…¶ä»–ç¯å¢ƒåŒæ ·ä¸ä¼šæœ‰é—®é¢˜ã€‚ çˆ±å¿«3ä¸ªæˆ–è€…3ä¸ªä»¥ä¸Šç½‘å¡/è™šæ‹Ÿç½‘å¡ ä½œä¸ºä¸»è·¯ç”±\nopenwrt/å…¶ä»–linux åŒç½‘å¡/è™šæ‹Ÿç½‘å¡ï¼Œä½œä¸ºä¸‹çº§è·¯ç”±ï¼ˆéæ—è·¯ç”±ï¼‰\npveä¸‹æ¨èé…ç½® æ¨è 2Gå†…å­˜å®‰è£…ikuai 32ä½ç‰ˆï¼Œç¡¬ç›˜1Gå³å¯ï¼Œç„¶åä¿®æ”¹ä¸º 512Må†…å­˜\nopenwrt å®˜æ–¹ç‰ˆï¼Œæˆ–è€…è‡ªç¼–è¯‘ç‰ˆæœ¬ å†…å­˜ 256-512Mï¼ˆå¼€clashè¦300Mï¼Œv2ç³»256Må°±å¯ä»¥ï¼‰ ç¡¬ç›˜512Må³å¯ï¼Œæˆ–è€…çœ‹ä½ imgçš„åˆ†åŒºã€‚æˆ–lxcè¿è¡Œ\niKuai Bypass è¿è¡Œåœ¨ openwrt mosdns ä¹Ÿå¯ä»¥è¿è¡Œåœ¨ openwrt mosdns all in oneæ–¹æ¡ˆ modnsé…adgæ–¹æ¡ˆ 64ä½ çˆ±å¿«ï¼Œkvm/docker è¿è¡Œ openwrt å’Œ iKuai Bypass ä»¥åŠ mosdns ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸æ¨èã€‚\nç‰©ç†ç½‘ç»œ/è™šæ‹Ÿç½‘å¡é…ç½® ä¸¾ä¾‹ çˆ±å¿« lan1 ç»‘å®šåˆ° eth0 å¼€DHCP dhcpèŒƒå›´ 10.1.1.5-10.1.1.254\nçˆ±å¿« wan1 ç»‘å®šåˆ° eth1 pppoeæ‹¨å· wan1å…ˆè®¾ç½®ä¸ºé»˜è®¤çº¿è·¯ çˆ±å¿« wan2 ç»‘å®šåˆ° eth2 é™æ€ipæŒ‡å®š 10.0.0.2 ç½‘å…³10.0.0.1\nopenwrt wan ç»‘å®šåˆ°eth0 DHCPå®¢æˆ·ç«¯ï¼Œè¿æ¥åˆ°çˆ±å¿«lan1 ä»çˆ±å¿«é™æ€ipç»‘å®šä¸º10.1.1.3 openwrt lan ç»‘å®šå¥—eth1 å…³é—­DHCPæœåŠ¡ï¼Œipåœ°å€é…ç½® 10.0.0.1 å³ä¸ºçˆ±å¿«wan2çš„ä¸Šæ¸¸ç½‘å…³\nopenwrtçš„ä¸¤ä¸ªç½‘å£ç»‘å®šåˆ°é‚£ä¸ªethä¸å½±å“ä½¿ç”¨,ç”¨é»˜è®¤çš„å°±å¥½ã€‚\nå¯ä»¥å‚è€ƒtopå›¾github\nä¸‹æ–‡è¯´é…ç½®éƒ½ä»¥ä¸Šè¿°ä¸ºä¾‹\né¿å…æ­»å¾ªç¯ åœ¨çˆ±å¿«å†…æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªåˆ†æµè§„åˆ™ æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; ç«¯å£åˆ†æµ\nåˆ†æµæ–¹å¼ï¼šå¤–ç½‘çº¿è·¯ çº¿è·¯ï¼šwan1 æºåœ°å€ ip/macåˆ†ç»„ æ·»åŠ ä¸€ä¸ª 10.1.1.3 ç‚¹åŠ å…¥ ä¿å­˜\næ­¤æ—¶ openwrtå‡ºæ¥çš„æµé‡ èµ°wan1 ä¸ä¼šå†åˆ°wan2å›åˆ°openwrt å¯¼è‡´æ­»å¾ªç¯ã€‚\næ­¤æ—¶openwrt å¯ä»¥æ­£å¸¸è®¿é—®å¤–éƒ¨ç½‘ç»œã€‚\næ³¨æ„ï¼šå¤‡æ³¨ä¸å»ºè®®åŒ…å«å­—ç¬¦ï¼šIKUAI_BYPASS ï¼Œå¦åˆ™æœ‰æ¦‚ç‡ä¼šè¢«ikuai_bypasså·¥å…·æ¸…ç†æ‰ã€‚\né…ç½® wan2 ä¸ºé»˜è®¤çº¿è·¯ æ­¤æ—¶æ‰€æœ‰å¯¹å¤–ç½‘è®¿é—® éƒ½ä¼š ç»è¿‡wan2 åˆ°openwrt,ç„¶åæ ¹æ®ä½ çš„æ·±åº¦å­¦ä¹ è½¯ä»¶çš„åˆ†æµæƒ…å†µå†³å®šæ˜¯å¦åŠ å¯†ï¼Œå†å›åˆ°çˆ±å¿«çš„lan1 å†æµå‘å¤–ç½‘ã€‚\næ­¤æ—¶ä½ çš„ä¸Šç½‘é€Ÿåº¦å’Œä¼ ç»Ÿçš„æ—è·¯ç”±æ¨¡å¼å®Œå…¨ä¸€æ ·ï¼Œç•¥æ…¢ã€‚\né…ç½®å›½å†…åŸŸåå¼ºåˆ¶èµ°wan1ç›´è¿ æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; åŸŸååˆ†æµï¼Œé€‰æ‹©wan1 ï¼Œè¾“å…¥å‡ ä¸ªåŸŸåï¼Œè¾“å…¥å®¢æˆ·ç«¯ip,å»ºè®® 10.1.1.5-10.1.1.254 ï¼Œæ­¤æ—¶10.1.1.5-10.1.1.254 çš„è®¾å¤‡è®¿é—®è¿™ä¸ªåŸŸåä¼šç›´æ¥èµ°wan1 , ä¸ç»è¿‡openwrtï¼Œé€Ÿåº¦é£å¿«ã€‚\nå½“ç„¶ä½ è‡ªå·±è¾“å…¥å¤ªéº»çƒ¦äº†ã€‚ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªåŸŸååˆ—è¡¨ï¼Œé€šè¿‡ikuai-bypasså¯ä»¥è‡ªå·±æ‰˜ç®¡ä¸€ä¸ªåŸŸååˆ—è¡¨å¹¶ä¿è¯è§„åˆ™çš„idæ˜¯æœ€å¤§ã€‚\né…ç½®æŸäº›åŸŸåå¼ºåˆ¶èµ°wan2 äº¤ç»™openwrtå¤„ç† ç›®çš„æ˜¯å•¥ï¼Œä½ è‚¯å®šçŸ¥é“ã€‚é…ç½®å’Œä¸Šé¢ä¸€æ ·ï¼ŒåŒæ · ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªåŸŸååˆ—è¡¨ã€‚\né…ç½®å›½å†…ipå¼ºåˆ¶èµ°wan1 å› ä¸ºåŸŸåæ¸…å•é‡Œé¢çš„åŸŸåä¸èƒ½è¦†ç›–æ‰€æœ‰ç½‘ç«™ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯æ²¡æœ‰åŸŸåç›´æ¥ipè¿æ¥æƒ…å†µã€‚æ‰€ä»¥éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ ¹æ®ipåˆ†æµçš„è§„åˆ™ã€‚\næµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ è‡ªå®šä¹‰è¿è¥å•† æ·»åŠ è¿è¥å•† åç§°ï¼šå›½å†…ipåœ°å€ ç›®çš„åœ°å€ï¼šè¾“å…¥å‡ ä¸ªå›½å†…çš„ip,å¤‡æ³¨ï¼šè‡ªå®šä¹‰\nè¿”å› æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ ç‚¹å³ä¾§æ·»åŠ  è¿è¥å•†ï¼šé€‰æ‹©ä½ åˆšåˆšæ·»åŠ çš„åç§°ï¼Œç‚¹wan1 åé¢çš„å¯ç”¨ï¼Œä¿å­˜ã€‚\næ­¤æ—¶ ä½ è®¿é—®è¿™ä¸ªipä¸Šçš„ç½‘ç«™æˆ–è€…å…¶ä»–ä¸œè¥¿ï¼Œä¼šå¼ºåˆ¶èµ°wan1 ä¸ç»è¿‡openwrtï¼Œé€Ÿåº¦é£å¿«ã€‚ åŒæ · ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªIPåœ°å€åˆ—è¡¨ã€‚\né…ç½®é»˜è®¤çº¿è·¯ ç¡®ä¿ç½‘ç»œ100%å¯ç”¨æ€§ æŠŠwan2 é…ç½®ä¸ºé»˜è®¤çº¿è·¯ï¼Œç½‘ç»œè®¾ç½® \u0026gt; å†…å¤–ç½‘è®¾ç½® wan2 åŒæ—¶æ‰“å¼€\né»˜è®¤ç½‘å…³ï¼šè®¾æ­¤æ¡çº¿è·¯ä¸ºé»˜è®¤ç½‘å…³ è‡ªåŠ¨åˆ‡æ¢ï¼šæ‰çº¿è‡ªåŠ¨åˆ‡æ¢ çº¿è·¯æ£€æµ‹ï¼šHTTP www.google.com æ­¤æ—¶ï¼Œè®¿é—®ä¸åœ¨å›½å†…åŸŸåæ¸…å•çš„åŸŸåï¼Œå¹¶ä¸”ipä¸å†è‡ªå®šä¹‰è¿è¥å•†çš„å›½å†…ipåœ°å€çš„æœåŠ¡å™¨ï¼Œä¼šé»˜è®¤èµ°wan2ã€‚å¦‚æœopenwrtæ­»æœºæˆ–è€…googleè¿ä¸ä¸Šï¼Œä¼šè‡ªåŠ¨ä¸´æ—¶ç¦ç”¨wan2 é»˜è®¤èµ°wan1ã€‚\nä½¿ç”¨ikuai-bypass è‡ªåŠ¨ç»´æŠ¤ipå’ŒåŸŸåè§„åˆ™ã€‚ è¾ƒä¸ºç®€å•\néƒ¨ç½²ikuai-bypass ikuai-bypass åªè¦éƒ¨ç½²åœ¨å¯ä»¥è®¿é—®åˆ° çˆ±å¿«è·¯ç”±å™¨çš„åœ°æ–¹å³å¯ã€‚ä¸€èˆ¬å»ºè®®ä»¥æœåŠ¡æ¨¡å¼ç›´æ¥éƒ¨ç½²åˆ°openwrtå†…ã€‚\næœåŠ¡æ¨¡å¼ openwrt/alpine/rc/systemd ä»¥openwrtä¸ºä¾‹ è¯·å‚è€ƒ github\nä¸‹è½½æœ€æ–°ç‰ˆ https://github.com/joyanhui/ikuai-bypass/releases\né…ç½®æ–‡ä»¶ éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ config.yml æ ¼å¼å¦‚ä¸‹ã€‚\nç„¶åè¿è¡Œ ./ikuai-bypass -c /è·¯å¾„/config.yml å³å¯åœ¨å¯åŠ¨æ—¶å€™ è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡è§„åˆ™æ–‡ä»¶ï¼Œå¹¶åœ¨ cronæŒ‡å®šçš„æ—¶é—´å†…å®šæ—¶è¿è¡Œã€‚\nä¸‹é¢çš„é…ç½®æ–‡ä»¶ ä¼šæ‰§è¡Œä¸€ä¸‹æ“ä½œ\nè‡ªåŠ¨ç™»é™†åˆ° ç½‘å€æ˜¯ http://10.1.1.1 çš„çˆ±å¿« ä½¿ç”¨ç”¨æˆ·åadmin å¯†ç  admin888ç™»é™†ï¼Œå¦‚æœç™»é™†æˆåŠŸã€‚ è¿è¥å•†/IPåˆ†æµè§„åˆ™ ä»–ä¼šå¸®ä½ æ·»åŠ  ä¸€ä¸ª å›½å†…IPåˆ—è¡¨ çš„è¿è¥å•†ï¼Œä½ éœ€è¦å»çˆ±å¿« æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ æ·»åŠ è§„åˆ™ï¼Œé€‰æ‹© å›½å†…IPåˆ—è¡¨ å¯ç”¨wan1\nä¹Ÿä¼šæ·»åŠ å‡ ä¸ª telegram google ç­‰ipåœ°å€ï¼Œä½ å¯ä»¥åˆ æ‰é‚£å‡ è¡Œï¼Œä¹Ÿå¯ä»¥æ·»åŠ è§„åˆ™ å¯ç”¨wan2 å¦å¤–ä¼šæ·»åŠ 4ä¸ªåŸŸååˆ†æµè§„åˆ™ åˆ†åˆ«å¼ºåˆ¶èµ°wan1 å’Œwan2 ä½ å¯ä»¥åœ¨ä¸‹é¢é…ç½®æ–‡ä»¶æ¸…æ™°çœ‹åˆ°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ china-list å’Œ gfwä¸¤ä¸ªæ¸…å• éƒ½å¾ˆé•¿ï¼Œæ·»åŠ /æ›´æ–°çš„æ—¶å€™ä¼šå¾ˆæ…¢ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚å†³å®šæ˜¯å¦è¦ä¿ç•™ï¼Œæ·»åŠ åä¼šå¢åŠ ä½ è®¿é—®ç½‘å€çš„é€Ÿåº¦ï¼Œä½†æ˜¯ä¼šå¢åŠ ikuaiçš„æ€§èƒ½æ¶ˆè€—ï¼ˆå¤§æ¦‚å¢åŠ 30-120Må†…å­˜æ¶ˆè€—ï¼Œcpuè´Ÿè½½ä¹Ÿä¼šå¢åŠ ä¸€ç‚¹ï¼‰ï¼Œå¦‚æœä½ çš„ikuaié…ç½®å¾ˆçƒ‚ï¼Œå¯ä»¥å»æ‰å…¶ä»–è§„åˆ™ åªä½¿ç”¨ å›½å†…IPåˆ—è¡¨ çš„IPåˆ†æµå³å¯ ã€‚ æ–‡ä»¶å†…å®¹å‚è€ƒ https://github.com/joyanhui/ikuai-bypass/blob/main/config.yml\nè¿è¡Œå‘½ä»¤å‚è€ƒ 1 ./ikuai-bypass -r cron -m ispdomain -c /opt/ikuai-bypass/config.yml å¦å¤–ä¸€ç§ä½¿ç”¨æ–¹å¼ ipåˆ†ç»„+ç«¯å£åˆ†æµå’Œä¸‹ä¸€è·³ç½‘å…³ è¿™ç§æ–¹å¼è¾ƒä¸ºç®€å•ï¼Œå¹¶ä¸”ä¸éœ€è¦openwrtè®¾å¤‡æœ‰2ä¸ªç½‘å£ã€‚çˆ±å¿«ä¹Ÿåªéœ€è¦2ä¸ªç½‘å£ã€‚\nç½‘ç»œç»“æ„ çˆ±å¿«é…ç½®å¥½wan1 å’Œlan1 ä»¥åŠpppoeç­‰ æ­£å¸¸ä¸Šç½‘ã€‚\né…ç½®å¥½ä¸€ä¸ªopenwrt è¿™é‡Œçš„openwrtä¾æ—§æ˜¯æ³›æŒ‡å¯ä»¥è¿è¡Œä½ æƒ³è¦çš„å·¥å…·è½¯ä»¶çš„ç³»ç»Ÿï¼Œä½œä¸ºçˆ±å¿«çš„ä¸‹çº§æ™®é€šè®¾å¤‡ã€‚ å¯ä»¥ä½¿ç”¨å•è‡‚è·¯ç”±ï¼Œæ‰‹åŠ¨æŒ‡å®šipä¸º 10.1.1.3 æˆ–è€…æœ‰ikuaiçš„dhcpåˆ†é…å‡å¯\né¿å…æ­»å¾ªç¯ å‚è€ƒä¸Šæ–‡\nä¸‹ä¸€è·³ç½‘å…³å’Œipåˆ†ç»„ ç”±ikuai-bypassæ¥ç»´æŠ¤ï¼Œä»ikuai-bypassçš„é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å³å¯ã€‚\nä½¿ç”¨ikuai-bypass è‡ªåŠ¨ç»´æŠ¤ipåˆ†ç»„ã€ç«¯å£åˆ†æµå’Œä¸‹ä¸€è·³ç½‘å…³ éƒ¨ç½²ikuai-bypass å‚è€ƒä¸Šæ–‡\né…ç½®æ–‡ä»¶ å‚è€ƒä¸Šæ–‡\nè¿è¡Œå‘½ä»¤å‚è€ƒ 1 ./ikuai-bypass -r cron -m ipgroup -c /opt/ikuai-bypass/config.yml docker æˆ‘æ²¡æœ‰æ‰“åŒ…dockeré•œåƒï¼Œå› ä¸ºå®Œå…¨æ²¡å¿…è¦ï¼Œä½ å¯ä»¥è‡ªå·±ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ä¸€ä¸ªdocker è¯·å‚è€ƒ ï¼š github\nä»¥åŠ githubçš„readmeä¸­çš„dockeréƒ¨åˆ† å¸¸ç”¨å‚æ•° æœ€æ–°çš„å‚æ•°è¯´æ˜è¯·å‚è€ƒgithubçš„æ–‡æ¡£æ¡Œé¢ï¼Œè¿™é‡Œæ›´æ–°å¯èƒ½å­˜åœ¨æ»åã€‚\n-c : é…ç½®æ–‡ä»¶è·¯å¾„ é»˜è®¤ä¸ºå½“å‰ç›®å½•ä¸‹config.yml å¯ç”¨ç›¸å¯¹è·¯å¾„æˆ–è€…ç»å¯¹è·¯å¾„ -m : æ˜¯å¦å¯ç”¨ipåˆ†ç»„å’Œä¸‹ä¸€è·³ç½‘å…³æ¨¡å¼ï¼ˆç«¯å£åˆ†æµï¼‰v2.0ä»¥åç‰ˆæœ¬æœ‰æ•ˆ ispdomain : ä½¿ç”¨ispå’ŒåŸŸååˆ†æµåŠŸèƒ½(é»˜è®¤ï¼Œä¸ºäº†å…¼å®¹v1.xç‰ˆæœ¬) ipgroup : ä½¿ç”¨ipåˆ†ç»„å’Œä¸‹ä¸€è·³ç½‘å…³æ¨¡å¼ï¼ˆç«¯å£åˆ†æµ) ii : åŒæ—¶ä½¿ç”¨ ä¸Šé¢ä¸¤ç§æ¨¡å¼ -r : è¿è¡Œæ¨¡å¼ é»˜è®¤ä¸ºcron cron : å…ˆè¿è¡Œä¸€æ¬¡ è€Œåç­‰å¾…è®¡åˆ’ä»»åŠ¡è§¦å‘ nocron æˆ– onceæˆ– 1: å¿½ç•¥é…ç½®æ–‡ä»¶çš„cronå®šæ—¶é…ç½®é…ç½® è¿è¡Œä¸€æ¬¡ç„¶åå°±ç›´æ¥é€€å‡ºç»“æŸï¼Œé€‚åˆè°ƒè¯•ä½¿ç”¨æˆ–è€…ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è®¡åˆ’ä»»åŠ¡æˆ–serverless/å‡½æ•°è®¡ç®—ç­‰æ–¹å¼è§¦å‘ã€‚ cronAft : å…ˆä¸è¿è¡Œç­‰è®¡åˆ’ä»»åŠ¡è§¦å‘ clean : æ¸…ç†æ¨¡å¼ é»˜è®¤å¯é€‰é™„åŠ å‚æ•°ä¸º -tag cleanAll exportDomainSteamToTxt : å¯¼å‡ºåŸŸååˆ†æµè§„åˆ™åˆ°txtæ–‡ä»¶æ¨¡å¼ æ–¹ä¾¿æ‰‹åŠ¨ä»çˆ±å¿«å¯¼å…¥ é»˜è®¤å¯é€‰é™„åŠ å‚æ•°ä¸º -exportPath /tmp æš‚æ—¶åªæ”¯æŒåŸŸååˆ†æµåŠŸèƒ½å¯¼å‡ºï¼Œ -tag : å¤‡æ³¨ä¿¡æ¯ cleanæ¸…ç†æ¨¡å¼ä¸‹çš„é™„åŠ å‚æ•° é»˜è®¤ä¸ºcleanAll(å³æ¸…ç†æ‰€æœ‰å¤‡æ³¨ä¸­åŒ…å«IKUAI_BYPASSå­—ç¬¦çš„è§„åˆ™) å•ç‹¬æŒ‡å®šå¤‡æ³¨çš„å…³é”®è¯ å¯ä»¥ä¸æ·»å†™IKUAI_BYPASS_å‰ç¼€ ä¾‹å¦‚-r clean -tag ipcn æˆ– -r clean -tag IKUAI_BYPASS_ipcn -exportPath : å¯¼å‡ºåŸŸååˆ†æµè§„åˆ™çš„è·¯å¾„ -login : ikuaiç™»é™†åœ°å€å’Œè´¦æˆ·å¯†ç ï¼Œä¼˜å…ˆçº§æ¯”é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚æ ¼å¼: http://10.1.1.1,admin,password ä¸ºç©ºåˆ™ä½¿ç”¨é…ç½®æ–‡ä»¶å†…ç™»é™†ä¿¡æ¯ -delOldRule : åˆ é™¤æ—§è§„åˆ™é¡ºåºï¼Œé»˜è®¤ä¸º after after : å…ˆæ›´æ–°è§„åˆ™æˆåŠŸåå†åˆ é™¤æ—§è§„åˆ™ before : å…ˆåˆ é™¤æ—§è§„åˆ™å†æ›´æ–°æ–°è§„åˆ™ï¼Œå¦‚æœæ›´æ–°å¤±è´¥ä¼šä¸¢å¤±è§„åˆ™ å…¶ä»–è¡¥å…… æœ¬æ–‡æœ‰ä¸€å®šæ»åæ€§ï¼Œå†…å®¹ä»¥ https://github.com/joyanhui/ikuai-bypass/ çš„æœ€æ–°è¯´æ˜ä¸ºå‡†ã€‚\nè‡ªå®šä¹‰è§„åˆ™å’Œikuai-bypassçš„è§„åˆ™ ikuai-bypass è‡ªåŠ¨ç»´æŠ¤çš„è§„åˆ™ éƒ½ä¼šæ·»åŠ å¤‡æ³¨ IKUAI_BYPASS ï¼Œåªè¦ä½ æ·»åŠ çš„è‡ªå®šä¹‰çš„è§„åˆ™å¤‡æ³¨ä¸åŒ…å«è¿™ä¸ªå­—ç¬¦å³å¯ã€‚\nå…³äºå®ä¾‹é…ç½®æ–‡ä»¶ å®ä¾‹é…ç½®æ–‡ä»¶ä½¿ç”¨äº† https://mirror.ghproxy.com ä½œä¸ºgithubçš„ä»£ç†æ–¹ä¾¿å¯ä»¥åœ¨æ— ç§‘å­¦ç¯å¢ƒæ›´æ–°è§„åˆ™ï¼Œä½†æ˜¯ghproxyæœ‰è¢«gfwæ±¡æŸ“çš„å…ˆä¾‹ï¼Œè¯·è‡ªè¡Œæ›´æ–°æ›´ç¨³å®šçš„æˆ–è€…è‡ªå»ºçš„githubä»£ç†ã€‚\né…ç½®æ–‡ä»¶ä¸­æœ‰ä¸€äº›é¢å¤–çš„é€‰é¡¹å’Œæ³¨é‡Šï¼Œå¯ä»¥è‡ªè¡Œé…Œæƒ…åˆ é™¤ã€‚\næ˜¯å¦å¯ä»¥æ›¿ä»£åŸç‰ˆikuai-bypass åŸç‰ˆæ˜¯åŸºäºdockerçš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥æ›¿ä»£ï¼Œå‚è€ƒä¸Šé¢çš„dockeré…ç½®\n","date":"2024-10-03T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/ikuai-bypass-joyanhui/","title":"çˆ±å¿«æ— æ„Ÿåˆ†æµ è‡ªåŠ¨æ›´æ–°è§„åˆ™ ikuai-bypass ä¿®æ”¹ç‰ˆ"},{"content":"autofs æ˜¯fstabçš„ä¸€ä¸ªæ›¿ä»£å’Œè¡¥å……ã€‚é€‚åˆæ•°æ®ç›®å½•ç­‰è‡ªåŠ¨æŒ‚è½½ã€‚å»ºäºnixosçš„å¯å¤ç°ç‰¹æ€§ï¼Œåœ¨å¤šè®¾å¤‡çš„å¤ç”¨åŒä¸€å¥—nixé…ç½®æƒ…å†µä¸‹ éå¸¸é€‚åˆä½¿ç”¨autofsæ¥æŒ‚è½½åˆ†åŒºã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªæœ¬åœ°ç¡¬ç›˜çš„æŒ‚è½½å®ä¾‹ï¼Œå»ºè®®å°½å¯èƒ½ä½¿ç”¨by-labelæ¥æŒ‚è½½ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 {pkgs, ...}: { environment.systemPackages = [ pkgs.dosfstools pkgs.exfat pkgs.nfs-utils pkgs.btrfs-progs pkgs.btrfs-snap ]; # è‡ªåŠ¨æŒ‚è½½åˆ° /autofs/å­ç›®å½• services.autofs = { enable = true; autoMaster = let mapConf = pkgs.writeText \u0026#34;autofs.mnt\u0026#34; \u0026#39;\u0026#39; 128g -fstype=exfat :/dev/disk/by-label/128G ntfs -fstype=ntfs :/dev/disk/by-label/NTFS \u0026#39;\u0026#39;; in \u0026#39;\u0026#39; /autofs ${mapConf} --timeout 20 \u0026#39;\u0026#39;; }; } æœ¬æ–‡åœæ­¢æ›´æ–°\nå…¶ä»–æŒ‚è½½é—®é¢˜ å»ºè®®å‚è€ƒï¼š https://dev.leiyanhui.com/nixos/disk-mount\n","date":"2024-08-06T21:24:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/autofs/","title":"nixosä½¿ç”¨autofsè‡ªåŠ¨æŒ‰éœ€æŒ‚è½½åˆ†åŒº"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 { config, lib, pkgs, ... }: { # \u0026lt;https://github.com/kholia/OSX-KVM\u0026gt; # Required by AMD boxes for OSX-KVM boot.extraModprobeConfig = \u0026#39;\u0026#39; options kvm_amd nested=1 options bt_coex_active=0 swcrypto=1 11n_disable=8 options kvm ignore_msrs=1 report_ignored_msrs=0 \u0026#39;\u0026#39;; # For Intel: /* options kvm_intel nested=1 options kvm_intel emulate_invalid_guest_state=0 options kvm ignore_msrs=1 */ virtualisation.libvirtd = { enable = true; qemu = { package = pkgs.qemu_kvm; runAsRoot = true; swtpm.enable = true; ovmf = { enable = true; #packages = [(pkgs.unstable.OVMF.override { packages = [(pkgs.OVMF.override { secureBoot = true; tpmSupport = true; }).fd]; }; }; }; environment.systemPackages = with pkgs; [ virt-manager ]; } å…¶ä»–ä¸€äº›å‚è€ƒé…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 boot.initrd.availableKernelModules = [ \u0026#34;ata_piix\u0026#34; \u0026#34;uhci_hcd\u0026#34; \u0026#34;ehci_pci\u0026#34; \u0026#34;ahci\u0026#34; \u0026#34;nvme\u0026#34; \u0026#34;sr_mod\u0026#34; ]; boot.kernelParams = [ \u0026#34;radeon.cik_support=0\u0026#34; \u0026#34;amdgpu.cik_support=1\u0026#34; \u0026#34;amd_iommu=on\u0026#34; ]; boot.initrd.kernelModules = [ \u0026#34;amdgpu\u0026#34; ]; boot.kernelModules = [ \u0026#34;iwlwifi\u0026#34; \u0026#34;iwlmvm \u0026#34; \u0026#34;kvm-amd\u0026#34; \u0026#34;vfio\u0026#34; \u0026#34;vfio_iommu_type1\u0026#34; \u0026#34;vfio_pci\u0026#34; \u0026#34;vfio_virqfd\u0026#34;]; boot.extraModprobeConfig = \u0026#39;\u0026#39; options bt_coex_active=0 swcrypto=1 11n_disable=8 \u0026#39;\u0026#39;; #boot.extraModulePackages = [config.boot.kernelPackages.rtw89]; boot.kernelPackages = pkgs.unstable.linuxPackages_latest; # Use latest kernel. boot.supportedFilesystems = [ \u0026#34;ext4\u0026#34; \u0026#34;btrfs\u0026#34; \u0026#34;xfs\u0026#34; #\u0026#34;zfs\u0026#34; \u0026#34;ntfs\u0026#34; \u0026#34;fat\u0026#34; \u0026#34;vfat\u0026#34; \u0026#34;exfat\u0026#34; ]; hardware.enableAllFirmware = true; boot.loader.systemd-boot.enable = true; # Enable systemd-boot. boot.loader.efi.canTouchEfiVariables = true; # Enable EFI variables. services.xserver.videoDrivers = [ \u0026#34;amdgpu\u0026#34; ]; #services.xserver.videoDrivers = [ \u0026#34;amdgpu\u0026#34; \u0026#34;nvidia\u0026#34;]; # ================= graphics # https://nixos.wiki/wiki/AMD_GPU nixpkgs.config.packageOverrides = pkgs: { # intel-vaapi-driver = pkgs.intel-vaapi-driver.override { enableHybridCodec = true; }; }; hardware.graphics = { enable = true; #driSupport = true; enable32Bit = true; extraPackages = with pkgs; [ rocmPackages.clr.icd ]; }; hardware.nvidia = { modesetting.enable = true; powerManagement.enable = false; powerManagement.finegrained = false; open = false; nvidiaSettings = true; package = config.boot.kernelPackages.nvidiaPackages.stable; }; environment.sessionVariables = { LIBVA_DRIVER_NAME = \u0026#34;iHD\u0026#34;; #NIXOS_OZONE_WL = \u0026#34;1\u0026#34;; chrome ele }; #services.thermald.enable = true; #é˜²æ­¢intel cpuè¿‡çƒ­ # ================= auto-cpufreq power-profiles-daemon tlp ä¸‰é€‰ services.power-profiles-daemon.enable = false; #gnomeè‡ªå¸¶çš„ é—œé–‰ # tlp services.tlp = { enable = true; settings = { CPU_SCALING_GOVERNOR_ON_AC = \u0026#34;performance\u0026#34;; CPU_SCALING_GOVERNOR_ON_BAT = \u0026#34;powersave\u0026#34;; CPU_ENERGY_PERF_POLICY_ON_BAT = \u0026#34;power\u0026#34;; CPU_ENERGY_PERF_POLICY_ON_AC = \u0026#34;performance\u0026#34;; CPU_MIN_PERF_ON_AC = 0; CPU_MAX_PERF_ON_AC = 100; CPU_MIN_PERF_ON_BAT = 0; CPU_MAX_PERF_ON_BAT = 20; #Optional helps save long term battery health START_CHARGE_THRESH_BAT0 = 40; # 40 and bellow it starts to charge STOP_CHARGE_THRESH_BAT0 = 80; # 80 and above it stops charging }; }; ","date":"2024-08-06T21:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/kvm-qemu/","title":"nixosä¸‹ä½¿ç”¨kvmå’Œæ˜¾å¡ç›´é€šç­‰ ç®€è¦é…ç½®"},{"content":"è™½ç„¶nixå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ›¿ä»£docker,ä½†æ˜¯éš¾å…è¿˜æœ‰éœ€è¦ç”¨dockerçš„æ—¶å€™ã€‚\n1 2 3 4 5 6 { config, lib, pkgs, ... }: { # https://nixos.wiki/wiki/Docker #éœ€è¦åœ¨ç”¨æˆ·é…ç½®çš„åœ°æ–¹æ·»åŠ  users.users.\u0026lt;myuser\u0026gt;.extraGroups = [ \u0026#34;docker\u0026#34; ]; virtualisation.docker.enable = true; } ","date":"2024-08-06T18:10:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/docker/","title":"nixosä¸‹ä½¿ç”¨docker"},{"content":"nixos ä¸èƒ½ç›´æ¥è¿è¡Œappimage,éœ€è¦å°è£…ä»¥ä¸‹ ä½¿ç”¨ appimageTools æ¥è¿è¡Œ ä»¥hiddifyå’ŒbalenaEtcherä¸ºä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 { pkgs, ... }: # ./hiddify: error while loading shared libraries: libepoxy.so.0: cannot open shared object file: No such file or directory { config, pkgs,nur, ... }: let hiddify_pkg = with pkgs; appimageTools.wrapType2 ({ # or wrapType1 wrapType2 : file -k XXXXX.AppImage name = \u0026#34;hiddify\u0026#34;; src = fetchurl { sha256 = \u0026#34;sha256-T4BWxhJ7q13KE1rvvFsnXhs2XVEmNkFTJbJ4e8PCg+0=\u0026#34;; url = \u0026#34;https://mirror.ghproxy.com/https://github.com/hiddify/hiddify-next/releases/download/v1.1.1/Hiddify-Linux-x64.AppImage\u0026#34;; }; extraPkgs = pkgs: with pkgs; [ libepoxy ]; }); icons=../../staticFile/icons/hiddify.png; in { home.packages = with pkgs; [ hiddify_pkg ]; home.file = { \u0026#34;.local/share/applications/Hiddify-next.desktop\u0026#34;.text = \u0026#39;\u0026#39; [Desktop Entry] Version=1.1.1 Type=Application Name=Hiddify Exec=hiddify Icon=${icons} StartupWMClass=hiddify StartupNotify=true \u0026#39;\u0026#39;; }; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 # https://discourse.nixos.org/t/how-ro-run-a-appimage-with-electron/41756?u=joyanhui { config, pkgs, nur, ... }: let balenaEtcher_pkg = with pkgs; appimageTools.wrapType2 ({ name = \u0026#34;balenaEtcher\u0026#34;; src = fetchurl { sha256 = \u0026#34;sha256-+Hu70UOcmLX4dPOYEBA2adBdX/C8Ryp/17bvi+jUfVA=\u0026#34;; url = \u0026#34;https://mirror.ghproxy.com/https://github.com/balena-io/etcher/releases/download/v1.18.11/balenaEtcher-1.18.11-x64.AppImage\u0026#34;; }; extraPkgs = pkgs: with pkgs; [ ]; }); icons = ../../staticFile/icons/balenaEtcher.png; in { home.packages = with pkgs; [ balenaEtcher_pkg ]; # --in-process-gpu to fix it. --no-sandbox disable every sandbox security # https://www.reddit.com/r/archlinux/comments/xf5pkt/comment/j3wf4gq/ home.file = { \u0026#34;.local/share/applications/balenaEtcher.desktop\u0026#34;.text = \u0026#39;\u0026#39; [Desktop Entry] Version=1.18.11 Type=Application Name=balenaEtcher Exec=balenaEtcher --in-process-gpu Icon=${icons} StartupWMClass=AppRun \u0026#39;\u0026#39;; }; } ","date":"2024-08-05T03:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/appimage/","title":"nixosä¸‹ä½¿ç”¨appimageè½¯ä»¶åŒ…"},{"content":"vmwareå®‰è£…macosè™½ç„¶ä¸èƒ½å®Œå…¨åŠ é€Ÿæ˜¾ç¤ºï¼Œä½†æ˜¯æ¯”å…¶ä»–æœªç›´é€šæ˜¾å¡çš„è™šæ‹Ÿæœºé€Ÿåº¦è¦æ˜æ˜¾å¥½ä¸€äº›ã€‚\nåœ¨é‡æ„çš„æ—¶å€™æ³¨æ„é”™è¯¯ï¼Œè²Œä¼¼æ˜¯vmwareå®˜æ–¹æœåŠ¡å™¨çš„é—®é¢˜ï¼Œå¯¹æ¢¯å­è¦æ±‚è¾ƒé«˜ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 { pkgs, ... }: { boot.blacklistedKernelModules = [ \u0026#34;kvm\u0026#34; \u0026#34;kvm_amd\u0026#34; \u0026#34;kvm_intel\u0026#34; ]; virtualisation.vmware.host = { enable = true; package = pkgs.vmware-workstation.override { enableMacOSGuests = true; }; extraPackages = with pkgs; [ ntfs3g exfat ]; }; } ","date":"2024-08-05T02:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/vmware-macos/","title":"nixosä¸‹ä½¿ç”¨vmwareå¹¶è§£é”macos"},{"content":"ç¯å¢ƒ gnome+wayland\nå› ä¸ºæœªçŸ¥çš„é—®é¢˜ï¼Œæ²¡æ—¶é—´æ’æŸ¥ï¼Œæ‰€ä»¥æˆ‘çš„fctix5æ²¡ä½¿ç”¨homemanagerç®¡ç†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 { config, lib, pkgs, ... }: let fcitx5-pinyin-moegirl = pkgs.callPackage ../../pkgs/fcitx5-pinyin-moegirl { }; fcitx5-pinyin-zhwiki = pkgs.callPackage ../../pkgs/fcitx5-pinyin-zhwiki { }; in { i18n = { defaultLocale = \u0026#34;en_US.UTF-8\u0026#34;; supportedLocales = [ \u0026#34;en_US.UTF-8/UTF-8\u0026#34; \u0026#34;zh_CN.UTF-8/UTF-8\u0026#34; ]; inputMethod = { #enabled = \u0026#34;fcitx5\u0026#34;; type = \u0026#34;fcitx5\u0026#34;; enable = true; fcitx5 = { # waylandFrontend = true; # # plasma6Support = true; #ä¸ç”¨kde6 è²Œä¼¼ä¸ç”¨å¯ç”¨ addons = with pkgs; [ fcitx5-chinese-addons fcitx5-mozc fcitx5-gtk # Fcitx5 gtk im module and glib based dbus client library fcitx5-material-color fcitx5-pinyin-moegirl fcitx5-pinyin-zhwiki ]; #ignoreUserConfig = true; #å¯ç”¨ä¸å…‰ä¸ªäººè®¾ç½®æ— æ•ˆï¼Œä¸ªäººè¯åº“ä¹Ÿä¼šæ— æ³•ä¿å­˜ settings = { addons = { classicui.globalSection.Theme = \u0026#34;Material-Color-deepPurple\u0026#34;; classicui.globalSection.DarkTheme = \u0026#34;Material-Color-deepPurple\u0026#34;; pinyin.globalSection = { PageSize = 9; CloudPinyinEnabled = \u0026#34;True\u0026#34;; CloudPinyinIndex = 2; }; cloudpinyin.globalSection = { Backend = \u0026#34;Baidu\u0026#34;; }; }; #globalOptions = { \u0026#34;Hotkey/TriggerKeys\u0026#34; = { \u0026#34;0\u0026#34; = \u0026#34;Alt+space\u0026#34;; }; }; inputMethod = { \u0026#34;Groups/0\u0026#34; = { Name = \u0026#34;Default\u0026#34;; \u0026#34;Default Layout\u0026#34; = \u0026#34;us\u0026#34;; DefaultIM = \u0026#34;keyboard-us\u0026#34;; }; \u0026#34;Groups/0/Items/0\u0026#34;.Name = \u0026#34;keyboard-us\u0026#34;; \u0026#34;Groups/0/Items/1\u0026#34;.Name = \u0026#34;pinyin\u0026#34;; GroupOrder.\u0026#34;0\u0026#34; = \u0026#34;Default\u0026#34;; }; }; }; }; }; } ../../pkgs/fcitx5-pinyin-moegirl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 { lib , stdenvNoCC , fetchurl }: stdenvNoCC.mkDerivation { pname = \u0026#34;fcitx5-pinyin-moegirl\u0026#34;; version = \u0026#34;20240309\u0026#34;; src = fetchurl { url = \u0026#34;https://github.com/outloudvi/mw2fcitx/releases/download/20240309/moegirl.dict\u0026#34;; hash = \u0026#34;sha256-ir9WQA2cz8VLL46/GaLTFAnL/H5vKWq3sbywHTcAKb8=\u0026#34;; }; dontUnpack = true; installPhase = \u0026#39;\u0026#39; install -Dm644 $src $out/share/fcitx5/pinyin/dictionaries/fcitx5-pinyin-moegirl.dict \u0026#39;\u0026#39;; meta = with lib; { description = \u0026#34; Fcitx 5 pinyin dictionary generator for MediaWiki instances. Releases for dict of zh.moegirl.org.cn. (auto update)\u0026#34;; homepage = \u0026#34;https://github.com/outloudvi/mw2fcitx\u0026#34;; license = licenses.unlicense; }; } ../../pkgs/fcitx5-pinyin-zhwiki\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 { lib , stdenvNoCC , fetchurl }: stdenvNoCC.mkDerivation { pname = \u0026#34;fcitx5-pinyin-zhwiki\u0026#34;; version = \u0026#34;20231205\u0026#34;; src = fetchurl { url = \u0026#34;https://github.com/felixonmars/fcitx5-pinyin-zhwiki/releases/download/0.2.4/zhwiki-20231205.dict\u0026#34;; hash = \u0026#34;sha256-crMmSqQ7QgmjgEG8QpvBgQYfvttCUsKYo8gHZGXIZmc=\u0026#34;; }; dontUnpack = true; installPhase = \u0026#39;\u0026#39; install -Dm644 $src $out/share/fcitx5/pinyin/dictionaries/fcitx5-pinyin-zhwiki.dict \u0026#39;\u0026#39;; meta = with lib; { description = \u0026#34;Fcitx 5 Pinyin Dictionary from zh.wikipedia.org (auto update)\u0026#34;; homepage = \u0026#34;https://github.com/felixonmars/fcitx5-pinyin-zhwiki\u0026#34;; license = licenses.unlicense; }; } ","date":"2024-08-05T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/fcitx5/","title":"nixosä¸‹fcitx5è¾“å…¥æ³•é…ç½® å’Œå¸¸ç”¨å­—åº“"},{"content":"nixos ä¸‹å¼€å‘ç¯å¢ƒå¯ä»¥ç‹¬ç«‹é…ç½®ï¼Œè¾ƒä¸ºç®€å•çš„å¼€å‘ç¯å¢ƒç±»ä¼¼ golang nodejsç­‰è¾ƒä¸ºç®€å•ã€‚è€Œflutterå°†å¯¹æ¥è¯´è¾ƒä¸ºå¤æ‚ã€‚ å…ˆçœ‹nixos ä¸‹å¼€å‘ç¯å¢ƒå¯ä»¥ç‹¬ç«‹é…ç½®ã€‚ åœ¨ç°æœ‰çš„flutteré¡¹ç›®ç›®å½•ä¸‹ï¼Œæˆ–è€…æ‰“ç®—å‚¨å­˜flutteré¡¹ç›®çš„ç›®å½•é‡Œé¢åˆ›å»ºä¸€ä¸ªflake.nix æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚\nflake.nix nix develop --impure --show-trace å‘½ä»¤è¿›å…¥flutterç¯å¢ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 # æ³¨æ„dl.google.com æœ‰å¯èƒ½ä¼šè¢«åŸŸååˆ†æµæ‰ä»£ç†ï¼Œå®é™…åªè¦è§£ææ²¡é—®é¢˜å›½å†…å¯ä»¥ç›´è¿ # idea æ‰“å¼€é¡¹ç›®åæç¤ºæ²¡æœ‰dart sdk ä¸ç”¨ç®¡ï¼Œç›´æ¥é…ç½®flutterçš„sdk è¿™é‡Œæ˜¯ /nix/store/wkaqj97xj7glb0a0za3iplwcj95jm6mj-flutter-wrapped-3.19.0-sdk-links # flutter pub get { description = \u0026#34;Flutter 3.19.x\u0026#34;; inputs = { # nixpkgs.url = \u0026#34;github:NixOS/nixpkgs/23.11\u0026#34;; # https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable/nixexprs.tar.xz?narHash=sha256-LuNFBL0P7GGtv6dNmLbD5MeyGlor0uV2482QhZRwbI8%3D\u0026#39; (2024-04-04) nixpkgs.url = \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable/nixexprs.tar.xz\u0026#34;; flake-utils.url = \u0026#34;github:numtide/flake-utils\u0026#34;; }; # build-tools-30-0-3 platforms-android-33 outputs = { self, nixpkgs, flake-utils }: flake-utils.lib.eachDefaultSystem (system: let pkgs = import nixpkgs { inherit system; config = { android_sdk.accept_license = true; #è²Œä¼¼æ— æ•ˆä½†æ˜¯ä¸å½±å“ä½¿ç”¨ allowUnfree = true; }; }; # platforms;android-33 Android SDK Platform 33 buildToolsVersion = \u0026#34;34.0.0\u0026#34;; androidComposition = pkgs.androidenv.composeAndroidPackages { buildToolsVersions = [ buildToolsVersion \u0026#34;30.0.3\u0026#34; ]; platformVersions = [ \u0026#34;34\u0026#34; \u0026#34;33\u0026#34; \u0026#34;29\u0026#34; \u0026#34;28\u0026#34; ]; #å…·ä½“éœ€è¦ç”¨é‚£ä¸ªç‰ˆæœ¬ è¿˜æ˜¯è¦çœ‹ä»£ç é‡Œé¢ ä»¥åŠçœŸæœº/æ¨¡æ‹Ÿå™¨çš„ç‰ˆæœ¬ abiVersions = [ \u0026#34;armeabi-v7a\u0026#34; \u0026#34;arm64-v8a\u0026#34; ]; }; androidSdk = androidComposition.androidsdk; in { devShell = with pkgs; mkShell rec { #çœŸæœºè°ƒè¯•éœ€è¦é…GRADLE_OPTS GRADLE_OPTS = \u0026#34;-Dorg.gradle.project.android.aapt2FromMavenOverride=${androidSdk}/libexec/android-sdk/build-tools/34.0.0/aapt2\u0026#34;; # 30.0.3 34.0.0 ANDROID_SDK_ROOT = \u0026#34;${androidSdk}/libexec/android-sdk\u0026#34;; #ANDROID_HOME = \u0026#34;${androidSdk}/libexec/android-sdk\u0026#34;; JAVA_HOME = \u0026#34;${pkgs.jdk17.home}\u0026#34;; CHROME_EXECUTABLE = \u0026#34;${pkgs.chromium}/bin/chromium\u0026#34;; buildInputs = [ flutter319 # flutter316 flutter313 flutter=3.19 androidSdk # The customized SDK that we\u0026#39;ve made above gradle #Gradle=8.6 gradle_7 gradle_6 jdk17 # æœ€å¥½æŒ‡å®šç‰ˆæœ¬ï¼Œä¸ç„¶å¯èƒ½éœ€è¦å¤„ç†gradleå’Œjdkç‰ˆæœ¬çš„å…¼å®¹ jdk=\u0026#34;21\u0026#34; #ninja cmake glibc # linuxä¸‹è°ƒè¯•æ¡Œé¢åº”ç”¨ç”¨ éœ€è¦è‡ªè¡Œè£…åˆ° home.packages è£…è¿™é‡Œå¯èƒ½æœ‰é—®é¢˜ï¼Œcå’Œrustä¹Ÿéœ€è¦æ‰€ä»¥ä¸å†™è¿™é‡Œ fish chromium #jetbrains.idea-ultimate ]; shellHook = \u0026#39;\u0026#39; echo \u0026#34; ä½ å¯èƒ½éœ€è¦è¿è¡Œä¸‹é¢çš„å‘½ä»¤ \u0026#34; echo \u0026#34; rm -rf ~/.pub-cache \u0026#34; echo \u0026#34; rm -rf ~/.gradle \u0026#34; echo \u0026#34; rm -rf ~/.dart \u0026#34; echo \u0026#34; rm -rf ~/.dartServer \u0026#34; echo \u0026#34; flutter pub get \u0026#34; exec fish \u0026#39;\u0026#39;; }; }); } ä½¿ç”¨æ³¨æ„ è¿™é‡Œæ²¡æœ‰ç”¨nixç®¡ç†ideaçš„æ’ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨åœ¨ideaå®‰è£… flutterå’Œ androidæ’ä»¶ã€‚\ndar sdk ideaæ‰“å¼€å¯¹åº”çš„é¡¹ç›®çš„æ—¶å€™ ä¼šæç¤ºé…ç½®dart sdk è¿™æ˜¯å› ä¸ºä»–æ²¡æœ‰è¯†åˆ«çš„åˆ°è¿™æ˜¯flutteré¡¹ç›®ã€‚ä¸ç”¨ä¾‹ä¼šï¼Œç›´æ¥å»é…ç½®flutter çš„sdkå³å¯ã€‚å¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬å’Œç¯å¢ƒï¼Œå¯ä»¥cdåˆ°å¯¹åº”ç¯å¢ƒçš„/nix/store/xxx æ£€æŸ¥ç‰ˆæœ¬ï¼Œæ³¨æ„é€‰æ‹©ã€‚\nçœŸæœº/æ¨¡æ‹Ÿå™¨è°ƒè¯• æ— æ³•adb å½“å‰ç”¨æˆ·ç»„éœ€è¦åœ¨ adbusers ç»„é‡Œï¼Œéœ€è¦åœ¨configuration.nix é‡Œé…ç½®\n1 2 3 4 5 6 7 programs.adb.enable = true; users.users.ä½ çš„ç”¨æˆ·å = { # ...å…¶ä»–é…ç½®é¡¹ extraGroups = [ # ... å…¶ä»–ç”¨æˆ·ç»„ \u0026#34;adbusers\u0026#34; ] å…¶ä»–é”™è¯¯ 1ã€ç½‘ç»œé—®é¢˜ï¼Œæ³¨æ„ç§‘å­¦ä¸Šç½‘ç¯å¢ƒå’Œåˆ†æµè§„åˆ™ã€‚éœ€è¦ä¸œgithubå’Œgoogleä¸‹è½½ä¸€äº›æ–‡ä»¶ã€‚\n2ã€ç‰ˆæœ¬åŒ¹é…æ–‡ä»¶ï¼Œæ£€æŸ¥é¡¹ç›®é‡Œé¢çš„å®‰å“é…ç½®ç›¸å…³çš„æƒ…å†µ\n","date":"2024-04-15T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/flutter/","title":"nixosä¸‹flutterå¼€å‘ç¯å¢ƒ"},{"content":"nixos ä¸‹å¼€å‘ç¯å¢ƒå¯ä»¥ç‹¬ç«‹é…ç½®ï¼Œgolangçš„ç¯å¢ƒç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ã€‚ åœ¨ç°æœ‰çš„goé¡¹ç›®ç›®å½•ä¸‹ï¼Œæˆ–è€…æ‰“ç®—å‚¨å­˜goé¡¹ç›®çš„ç›®å½•é‡Œé¢åˆ›å»ºä¸€ä¸ªflake.nix æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚\nrustå’Œflutter nodejsç­‰å¼€å‘ç¯å¢ƒ æœ¬ç«™ä¹Ÿæœ‰ï¼Œè¯·è‡ªè¡Œæ£€ç´¢\næœ¬æ–‡å·²ç»æ›´æ–° è¯¦æƒ…çœ‹æ–‡æœ«\nnix develop ç¯å¢ƒ ï¼ˆæ¨èï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 { description = \u0026#34;golang \u0026#34;; inputs = { #nixpkgs.url = \u0026#34;github:NixOS/nixpkgs/23.11\u0026#34;; nixpkgs.url = \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable/nixexprs.tar.xz\u0026#34;; flake-utils.url = \u0026#34;github:numtide/flake-utils\u0026#34;; }; outputs = { self, nixpkgs, flake-utils }: flake-utils.lib.eachDefaultSystem (system: { devShell = with pkgs; mkShell rec { GOPROXY = \u0026#34;https://goproxy.cn,direct\u0026#34;; buildInputs = [ go_1_22 gopls gcc upx jetbrains.goland fish #ninja cmake glibc # å¦‚æœéœ€è¦ç”¨æœ€å¥½è‡ªè¡Œè£…åˆ° home.packages è£…è¿™é‡Œå¯èƒ½æœ‰é—®é¢˜ ]; }; }); } homemanager ç¯å¢ƒï¼ˆä¸å»ºè®®ï¼‰ 1 2 3 4 5 6 7 8 9 { config, lib, pkgs, ... }: { home.packages = with pkgs;[ go_1_22 gopls gcc upx ]; } nix runæ–¹å¼ï¼ˆ2024-11-4æ›´æ–°ï¼‰ 1 nix run .#dev --show-trace 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 { { description = \u0026#34;A Nix-flake-based golang development environment\u0026#34;; inputs = { #nixpkgs.url = \u0026#34;github:NixOS/nixpkgs/23.11\u0026#34;; #nixpkgs.url = \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable/nixexprs.tar.xz\u0026#34;; nixpkgs.url = \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/nixos-24.05/nixexprs.tar.xz\u0026#34;; }; outputs = { self , nixpkgs ,... }: let # system should match the system you are running on system = \u0026#34;x86_64-linux\u0026#34;; # system = \u0026#34;x86_64-darwin\u0026#34;; in { packages.\u0026#34;${system}\u0026#34;.dev = let pkgs = import nixpkgs { inherit system; config.allowUnfree = true; }; packages = with pkgs; [ go_1_23 gopls gcc upx jetbrains.goland # allowUnfree nushell ]; in pkgs.runCommand \u0026#34;dev-shell\u0026#34; { # Dependencies that should exist in the runtime environment buildInputs = packages; # Dependencies that should only exist in the build environment nativeBuildInputs = [ pkgs.makeWrapper ]; } \u0026#39;\u0026#39; mkdir -p $out/bin/ ln -s ${pkgs.nushell}/bin/nu $out/bin/dev-shell wrapProgram $out/bin/dev-shell --set GOPROXY https://goproxy.cn,direct wrapProgram $out/bin/dev-shell --prefix PATH : ${pkgs.lib.makeBinPath packages} \u0026#39;\u0026#39;; }; } ","date":"2024-04-01T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/golang/","title":"nixosä¸‹golang+golandå¼€å‘ç¯å¢ƒ"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 { pkgs, ... }: { programs.zsh = { enable = true; history = { size = 10000; path = \u0026#34;$HOME/.zsh_history\u0026#34;; }; enableCompletion = true; autosuggestion.enable = true; syntaxHighlighting.enable = true; shellAliases = { ping = \u0026#34;ping -O\u0026#34;; killall = \u0026#34;killall -v\u0026#34;; umount = \u0026#34;umount -v\u0026#34;; lsblk = \u0026#34;lsblk -a --output \u0026#39;NAME,LABEL,FSTYPE,SIZE,FSUSE%,RO,TYPE,MOUNTPOINTS\u0026#39;\u0026#34;; chmod = \u0026#34;chmod -v\u0026#34;; chown = \u0026#34;chown -v\u0026#34;; chattr = \u0026#34;chattr -v\u0026#34;; ln = \u0026#34;ln -v\u0026#34;; cp = \u0026#34;cp -v\u0026#34;; mv = \u0026#34;mv -v\u0026#34;; rm = \u0026#34;rm -v\u0026#34;; mkdir = \u0026#34;mkdir -pv\u0026#34;; rmdir = \u0026#34;rmdir -v\u0026#34;; myupdateVM1 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#vm-nixos\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34;; myupdateVM2 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#vm-nixos\u0026#39; --option substituters https://mirrors.cernet.edu.cn/nix-channels/store\u0026#34;; myupdateB150m1 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#b150m\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34;; myupdateB150m2 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#b150m\u0026#39; --option substituters https://mirrors.cernet.edu.cn/nix-channels/store\u0026#34;; myupdateThinkBook1 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#thinkbook\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34;; myupdateThinkBook2 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#thinkbook\u0026#39; --option substituters https://mirrors.cernet.edu.cn/nix-channels/store\u0026#34;; myupdateX240-1 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#x240\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34;; myupdateX240-2 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#x240\u0026#39; --option substituters https://mirrors.cernet.edu.cn/nix-channels/store\u0026#34;; myupdateBaseDesktop1 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#baseDesktop\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34;; myupdateBaseDesktop2 = \u0026#34;sudo nixos-rebuild switch --show-trace --flake \u0026#39;/home/yh/workspace/nixos-config#baseDesktop\u0026#39; --option substituters https://mirrors.cernet.edu.cn/nix-channels/store\u0026#34;; proxySet = \u0026#34;export http_proxy=http://127.0.0.1:2334\u0026amp;\u0026amp;export https_proxy=http://127.0.0.1:2334\u0026#34;; proxyUnSet = \u0026#34;unset http_proxy\u0026amp;\u0026amp;unset https_proxy\u0026#34;; scpToX240 = \u0026#34;scp -r /home/yh/workspace/nixos-config/* yh@x240:/home/yh/workspace/nixos-config/\u0026#34;; #nix-store --optimise myclean1 = \u0026#34;sudo nix-env --profile /nix/var/nix/profiles/system --list-generations \\ sudo nix-env --profile /nix/var/nix/profiles/system --delete-generations +1 \\ sudo nix-env --profile /nix/var/nix/profiles/per-user/root/channels --delete-generations +1 \\ sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/channels --delete-generations +1 \\ sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/profile --delete-generations +1 \\ sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/home-manager --delete-generations +1 \\ nix-collect-garbage echo \u0026#39;is need to run: nix-collect-garbage -d or nix-store --gc --print-roots or nix-store --optimise\u0026#39; \u0026#34;; # # for waybar restart waybarRestart = \u0026#34;pkill waybar \u0026amp; sleep 0.5 \u0026amp;\u0026amp; waybar\u0026#34;; }; initExtra = \u0026#39;\u0026#39; #ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=\u0026#34;fg=#ff00ff,bg=cyan,bold,underline\u0026#34; ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=\u0026#39;fg=8\u0026#39; ZSH_AUTOSUGGEST_STRATEGY=(history completion) ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20 setopt extendedglob setopt globstarshort setopt autopushd # make cd keep a dir stack # å¯ç”¨å¤§å°å†™è‡ªåŠ¨ä¿®æ­£ setopt correct compinit # è®¾ç½®è¡¥å…¨ç³»ç»Ÿå¯¹å¤§å°å†™ä¸æ•æ„Ÿ zstyle \u0026#39;:completion:*\u0026#39; matcher-list \u0026#39;m:{a-zA-Z}={A-Za-z}\u0026#39; # å½©è‰² ls if [ -x /usr/bin/dircolors ]; then test -r ~/.dircolors \u0026amp;\u0026amp; eval \u0026#34;$(dircolors -b ~/.dircolors)\u0026#34; || eval \u0026#34;$(dircolors -b)\u0026#34; alias ls=\u0026#39;ls --color=auto\u0026#39; fi # å…è®¸ ctrl å·¦å³æŒ‰ç…§å•è¯ç§»åŠ¨å…‰æ ‡ bindkey \u0026#39;^[[1;5C\u0026#39; forward-word # Ctrl+ right bindkey \u0026#39;^[[1;5D\u0026#39; backward-word # Ctrl+left # ctrl a e è·³è½¬ bindkey \u0026#34;^A\u0026#34; beginning-of-line bindkey \u0026#34;^E\u0026#34; end-of-line # æç¤ºç¬¦æ ¼å¼ export PROMPT=\u0026#34;%F{green}%n@%F{90}%m\u0026gt; %F{96}%B%F{green}%~ %(?.%F{green}\u0026gt;.%F{red} ?%? \u0026gt;)%f%F{46}%f%b \u0026#34; # ä¸€äº›éœ€è¦å•ç‹¬é…ç½®ç­‰ # for golang # export GOPROXY=https://goproxy.cn,direct # for flutter and edge export PUB_HOSTED_URL=\u0026#34;https://pub.flutter-io.cn\u0026#34; export FLUTTER_STORAGE_BASE_URL=\u0026#34;https://storage.flutter-io.cn\u0026#34; # for rust export RUSTUP_DIST_SERVER=\u0026#34;https://rsproxy.cn\u0026#34; export RUSTUP_UPDATE_ROOT=\u0026#34;https://rsproxy.cn/rustup\u0026#34; \u0026#39;\u0026#39;; envExtra = \u0026#39;\u0026#39; # set colors for exa, see https://github.com/ogham/exa/blob/master/man/exa_colors.5.md export EXA_COLORS=\u0026#34;di=33;1:su=1;4:sf=1:4\u0026#34; \u0026#39;\u0026#39;; #oh-my-zsh = { # enable = true; # plugins = [ \u0026#34;git\u0026#34; \u0026#34;autosuggestions\u0026#34; \u0026#34;syntax-highlighting\u0026#34; ]; # theme = \u0026#34;dst\u0026#34;; #}; }; } ","date":"2024-04-01T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/zsh/","title":"nixosä¸‹zshæ‰‹å·¥é…ç½®"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 { pkgs, ... }: { programs.firefox = { enable = true; policies = { DisablePocket = true; DisplayBookmarksToolbar = true; DontCheckDefaultBrowser = true; OfferToSaveLogins = false; NoDefaultBookmarks = true; PasswordManagerEnable = false; #DNSOverHTTPS = { # Enabled = true; #}; }; profiles.yh = { id = 0; isDefault = true; name = \u0026#34;yh\u0026#34;; settings = { \u0026#34;browser.search.separatePrivateDefault\u0026#34; = false; \u0026#34;browser.search.separatePrivateDefault.ui.enabled\u0026#34; = true; #\u0026#34;browser.startup.homepage\u0026#34; = \u0026#34;http://dashboard.internal.flake.sh/\u0026#34;; \u0026#34;network.trr.mode\u0026#34; = 5; \u0026#34;dom.security.https_first\u0026#34; = true; #\u0026#34;dom.security.https_only_mode\u0026#34; = true; #\u0026#34;dom.security.https_only_mode_ever_enabled\u0026#34; = true; }; #extraConfig = builtins.readFile ./user.js/betterfox.js; search = { default = \u0026#34;cnbing\u0026#34;; force = true; engines = { \u0026#34;cnbing\u0026#34; = { urls = [ { template = \u0026#34;https://cn.bing.com\u0026#34;; params = [ { name = \u0026#34;q\u0026#34;; value = \u0026#34;{searchTerms}\u0026#34;; } ]; } ]; definedAliases = [ \u0026#34;@g\u0026#34; ]; }; \u0026#34;SearXNG\u0026#34; = { urls = [ { template = \u0026#34;http://100.108.113.89:8100\u0026#34;; params = [ { name = \u0026#34;q\u0026#34;; value = \u0026#34;{searchTerms}\u0026#34;; } ]; } ]; definedAliases = [ \u0026#34;@sx\u0026#34; ]; }; \u0026#34;Nix Packages\u0026#34; = { urls = [ { template = \u0026#34;https://search.nixos.org/packages\u0026#34;; params = [ { name = \u0026#34;type\u0026#34;; value = \u0026#34;packages\u0026#34;; } { name = \u0026#34;query\u0026#34;; value = \u0026#34;{searchTerms}\u0026#34;; } ]; } ]; icon = \u0026#34;\u0026#39;\u0026#39;${pkgs.nixos-icons}/share/icons/hicolor/scalable/apps/nix-snowflake.svg\u0026#34;; definedAliases = [ \u0026#34;@np\u0026#34; ]; }; \u0026#34;Bing\u0026#34;.metaData.hidden = true; \u0026#34;Google\u0026#34;.metaData.hidden = true; \u0026#34;Amazon.com\u0026#34;.metaData.hidden = true; \u0026#34;eBay\u0026#34;.metaData.hidden = true; \u0026#34;DuckDuckGo\u0026#34;.metaData.hidden = false; }; }; extensions = with pkgs.nur.repos.rycee.firefox-addons; [ # https://nur.nix-community.org/repos/rycee/ # security bitwarden #ublock-origin #canvasblocker floccus gesturefy #leisure #darkreader #mal-sync #stylus firefox-color #utility #new-tab-override #libredirect #sponsorblock #return-youtube-dislikes #misc ]; }; }; /* xdg.mimeApps = { enable = true; defaultApplications = { \u0026#34;x-scheme-handler/discord-409416265891971072\u0026#34; = [\u0026#34;discord-409416265891971072.desktop\u0026#34;]; \u0026#34;x-scheme-handler/discord-402572971681644545\u0026#34; = [\u0026#34;discord-402572971681644545.desktop\u0026#34;]; \u0026#34;x-scheme-handler/discord-696343075731144724\u0026#34; = [\u0026#34;discord-696343075731144724.desktop\u0026#34;]; \u0026#34;x-scheme-handler/http\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;x-scheme-handler/https\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;x-scheme-handler/chrome\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;text/html\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/x-extension-htm\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/x-extension-html\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/x-extension-shtml\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/xhtml+xml\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/x-extension-xhtml\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; \u0026#34;application/x-extension-xht\u0026#34; = [\u0026#34;firefox.desktop\u0026#34;]; }; }; */ } ","date":"2024-04-01T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/firefox/","title":"nixosä¸‹å¯å¤ç°çš„ç«ç‹æµè§ˆå™¨é…ç½®å®ä¾‹"},{"content":"æ¢¦ä¸­æƒ…os nixosçš„å‡ ä¸ªç‰¹è‰² æ»šä¸æ­»çš„ç³»ç»Ÿ å¼„ä¸åï¼Œéå¸¸å¼ºå£®ç¨³å®šã€‚ä¸”å›æ»šå’Œæ›´æ–°éƒ½æ›´åŠ æ–¹ä¾¿ã€‚ åº”ç”¨å¯ä»¥å¤šç‰ˆæœ¬å…±å­˜ ä¸€ä¸ªå¥—é…ç½®æ–‡ä»¶ä»å¤šæœºä¸ŠåŒ…æ‹¬åˆ«çš„å‘è¡Œç‰ˆéšæ—¶å¤ç° NixåŒ…æ•°é‡éå¸¸å¤šï¼Œå¹¶ä¸ä»…é™å®˜æ–¹çš„8ä¸‡åŒ… å¹¶ä¸æ¯”archçš„aurï¼Œå„æœ‰åƒç§‹ nixåŒ…ç®¡ç†åŒæ—¶æ”¯æŒmacos wslå’Œ énixosçš„linuxå‘è¡Œç‰ˆæœ¬ å¼€å‘ç¯å¢ƒå¯ä»¥å¤šç‰ˆæœ¬ å¤šå¹³å° å¤šé¡¹ç›® ç›¸äº’ç‹¬ç«‹å’Œéš”ç¦» flake.nix å¯ä»¥æä¾›é«˜åº¦ä¸€è‡´çš„ç¯å¢ƒ/ç³»ç»Ÿ å¤ç°èƒ½åŠ› nix home manager å¯ä»¥é›†ä¸­åŒ–ç®¡ç†å¤šæ•°è½¯ä»¶ï¼ˆå‡ ä¹æ˜¯å…¨éƒ¨ï¼‰çš„é…ç½®æ–‡ä»¶/é…ç½®é¡¹,å¹¶æä¾›éå¸¸é«˜çš„å¯å¤ç°èƒ½åŠ› nix-shell å¯ä»¥æ²™ç®±ä¸´æ—¶æµ‹è¯•ä¸€ä¸ªè½¯ä»¶ï¼Œéšåè‡ªåŠ¨æˆ–æ‰‹åŠ¨gcæ‰ è¿œç¨‹éƒ¨ç½²å·¥å…· deploy-rs NixOps ç­‰ è½»æ¾åœ¨åˆ«çš„å‘è¡Œç‰ˆä¸ŠåŸåœ°å·å®¶åˆ‡æ¢åˆ°nixos åˆ«çš„å‘è¡Œç‰ˆå¯ä»¥å¼•å…¥nixåŒ…ç®¡ç†ï¼Œå¤ç”¨nixosçš„é…ç½®æ–‡ä»¶ æ”¯æŒçš„cpuæ¶æ„å¾ˆå¤šï¼ŒåŒ…æ‹¬ arm aarch risc mips ç­‰ çº¯å‡€ï¼Œä½ å¯ä»¥æŠŠ/æŒ‚è½½åˆ°å†…å­˜ åªæŒä¹…åŒ– /nix /home /var ç­‰ä¸ªåˆ«ç›®å½• nixosæ˜¯ä¸å¯å˜ç³»ç»Ÿï¼Œä¼˜ç‚¹ä¸ç”¨å±•å¼€è¯´äº†ã€‚ç›®å‰æ¥çœ‹ï¼Œè¿™å¾ˆå¤§å¯èƒ½æ˜¯æ“ä½œç³»ç»Ÿä»¥åçš„è¶‹åŠ¿ ç”±æ­¤ å¯ä»¥å»¶ç”³å¾ˆå¤šåœºæ™¯ æ¯”å¦‚ æˆ‘æƒ³ä½“éªŒä¸€ä¸‹åˆšåˆšå‘å¸ƒçš„ kde plasma 6 ï¼Œå‘ç°ç›®å‰ç‰ˆæœ¬æ’ä»¶å…¼å®¹å¾ˆå·® å¹¶ä¸å€¼å¾—æˆ‘å‡çº§ï¼Œæ‰€ä»¥ä½“éªŒäº†ä¸€ä¼šå„¿å é©¬ä¸Šå›åˆ° æˆ‘å¹²å¹²å‡€å‡€çš„ kde plasma 5ã€‚\næ¯”å¦‚ æˆ‘æƒ³ neofetch æˆªä¸ªå›¾è£…ä¸ªxï¼Œ ä½†æ˜¯æˆ‘å¹³æ—¶æ ¹æœ¬ä¸éœ€è¦å®ƒ nix-shell -p neofetch æˆªå›¾å®Œæ¯• å…³æ‰çª—å£ neofetch å°±æ— äº†ã€‚åŒæ ·æˆ‘æƒ³ä¸´æ—¶è£…ä¸€ä¸ªæµè§ˆå™¨æµ‹è¯•ä¸€ä¸‹webç½‘é¡µå…¼å®¹æ€§ï¼Œæˆ–è€…æµ‹è¯•ä¸€ä¸ªç½‘ç«™æ— cookiesæ–°æµè§ˆå™¨æŒ‡çº¹çš„æ•ˆæœ æˆ‘å¹³æ—¶ä½¿ç”¨edgeï¼Œé‚£ä¹ˆæˆ‘ç°åœ¨åªéœ€è¦å®‰è£…ä¸€ä¸ªfirefoxå°±å¥½äº†ã€‚\næ¯”å¦‚ æˆ‘å¹³æ—¶ä½¿ç”¨zshçš„è‡ªå®šä¹‰é…ç½®ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥å†™åˆ°nixä¸­ï¼Œé‚£ä¹ˆåœ¨ä»»æ„ä¸€å°æœºå™¨ä¸Š å®‰è£…å zshå°±æŒ‰ç…§æˆ‘ä¹ æƒ¯éƒ¨ç½²å¥½äº†ã€‚\næ¯”å¦‚ æˆ‘æœ‰å¤šå°äº‘ä¸»æœºï¼Œæˆ‘å¯ä»¥åœ¨æˆ‘æœ¬æœºç¼–è¯‘é…ç½®å¥½ç¯å¢ƒï¼Œç„¶åäº‘ä¸»æœºå…¨éƒ¨ä»åˆå§‹ç³»ç»Ÿåˆ‡æ¢åˆ°nixosï¼Œè€Œä¸”æˆ‘æœ¬åœ°ç›´æ¥æ¨é€åˆ°äº‘ä¸»æœºäºŒè¿›åˆ¶ä¸Šå»ã€‚è¿™å’Œk8s docker å¹¶ä¸å†²çªï¼Œåªæ˜¯å¤šäº†ä¸ªè¿ç»´é€‰æ‹©ã€‚\nä¸ºä»€ä¹ˆä¸é€‰æ‹©nixos nixosä¹Ÿæœ‰å¾ˆå¤šç¼ºç‚¹\nå…¥é—¨è¾ƒéš¾ï¼š linuxæ–°æ‰‹åŸºæœ¬æä¸å®šï¼Œå°ç™½æƒ³éƒ½åˆ«æƒ³ã€‚ nixè¯­è¨€è™½ç„¶ç®€å•ï¼Œä½†æ˜¯nixosçš„æ–‡æ¡£å’Œwikiè¾ƒä¸ºåˆ†æ•£ä¸”æ··ä¹±ï¼Œchatgptç»™ä½ çš„ç­”æ¡ˆå¤§æ¦‚ç‡éƒ½æ˜¯é”™çš„ã€‚ä½ å¯èƒ½éå¸¸éœ€è¦ç¤¾åŒºå’Œç”µæŠ¥ç¾¤çš„å¸®åŠ©ï¼ nixos æœ‰ ä¼ ç»Ÿconfiguration.nix flakes.nix home-manage.nix è¿˜æœ‰ç±»ä¼¼apt yumåŒ…ç®¡ç† ä»¥åŠä¸´æ—¶ä½¿ç”¨ä¸€ä¸ªè½¯ä»¶çš„æ–¹å¼ï¼Œè¿˜æœ‰ nix develop/profileåˆ‡æ¢/devShell/mkShellç­‰ç­‰åŠŸèƒ½ï¼Œéå¸¸å®¹æ˜“è¿·ç³Šã€‚ å› ä¸ºnixosçš„é…ç½®/åŒ…ç®¡ç†/ç¯å¢ƒç®¡ç† æ–¹å¼å¤ªå¤šï¼Œå¯¼è‡´ä½ ç›´æ¥å¤åˆ¶åˆ«äººçš„nixä»£ç å¤§æ¦‚ç‡æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨çš„ï¼Œä½ éœ€è¦å­¦nixè¯­æ³•ã€‚ è™½ç„¶nixosåŒ…æ•°é‡ä¸å°‘ï¼Œä½†æ˜¯è¦†ç›–é¢ä¸é«˜ï¼Œå¾ˆå¤šè½¯ä»¶éƒ½ä¸æä¾›nixosä¸‹çš„æ‰˜ç®¡å®‰è£…ï¼Œä¸€äº›å°ä¼—è½¯ä»¶ éœ€è¦è‡ªå·±å†™nixæ„å»ºã€‚éƒ¨åˆ†è½¯ä»¶éœ€è¦è¾ƒä¸ºå¤æ‚çš„é…ç½®ï¼Œæ¯”å¦‚ç»•è¿‡å‘è¡Œç‰ˆæ£€æµ‹ï¼Œæœ‰ç‰ˆæƒé—®é¢˜çš„ï¼Œå¼ºä¾èµ–fhsæ–‡ä»¶ç³»ç»Ÿçš„ æŸäº›è½¯ä»¶çš„æ‰“åŒ…ä¼šæ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚todesk,ä»–çš„æ§åˆ¶ç«¯ä¹Ÿéœ€è¦å¯åŠ¨ä¸€ä¸ªsystemdã€‚æŸäº›å°åœ°æ–¹å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯”å¦‚nautilusé»˜è®¤å³é”®æ‰“å¼€shell æ˜¯gnome-terminalï¼Œå¦‚æœæˆ‘ä»¬è¦æ›¿æ¢ä¸ºå…¶ä»–ç»ˆç«¯ï¼Œå¸¸è§„æ“ä½œç³»ç»Ÿä¸‹ç›´æ¥æ›¿æ¢æ‰/usr/bin/ä¸‹çš„æ–‡ä»¶å³å¯ï¼Œä½†æ˜¯nixosä¸å¯ä»¥è¿™æ ·æ“ä½œã€‚ å¯¹å¤–ç½‘çš„ä¾èµ–åº¦æ¯”è¾ƒé«˜ï¼Œå›½å†…ç½‘ç»œç¯å¢ƒå¤§å®¶éƒ½æ‡‚çš„ï¼Œå¦‚æœä½ æ²¡æœ‰æ¢¯å­å³ä¾¿æ˜¯å‹‰å¼ºå®‰è£…ä¸Šä¸€ä¸ªåŸºç¡€ç³»ç»Ÿï¼Œåé¢ä½¿ç”¨nixosä¼šéå¸¸ä¸çˆ½ã€‚å¦å¤–å›½å†…çš„é•œåƒæº ç›®å‰(20240312)æ¸…åçš„æ˜¯å´©çš„çŠ¶æ€ ustcç›®å‰åŒ…ä¸å…¨ï¼Œå¥½åƒä¹Ÿç»å¸¸é™é€Ÿã€‚ sjtuç›®å‰æ˜¯é™é€Ÿå¹¶ç»å¸¸æ–­æ‰çš„çŠ¶æ€,è¿˜æœ‰ä¸€äº›åŒ…æ˜¯å†™æ­»çš„è¢«å¢™æ‰çš„url,è¿™äº›åœ°å€åœ¨å›½å†…å¾€å¾€æ— æ³•è®¿é—®æˆ–è€…é€Ÿåº¦éå¸¸æ…¢ã€‚ ç¡¬ç›˜å ç”¨ï¼Œnixosä¼šæ¯”å¸¸è§„å‘è¡Œç‰ˆéœ€è¦çš„ç©ºé—´æ›´å¤šä¸€äº›ï¼ŒåŸºæœ¬çš„nixosç³»ç»ŸåŒ…å«gnomeå’Œæ—¥ç”¨çš„åŸºç¡€è½¯ä»¶ï¼ŒåŸºæœ¬ä¸Šéœ€è¦8-15Gå·¦å³çš„ç£ç›˜ç©ºé—´ï¼ˆbtrfs å‹ç¼©ç­‰çº§5ï¼‰ã€‚ ä¸è¿‡ä¸€èˆ¬/ æˆ–è€…/nix é¢„ç•™30-60G ä¹Ÿè¶³å¤Ÿäº†ã€‚ å¯¹nixosçš„è¯¯åŒº nixoså¯ä»¥è¿è¡Œå¤è‘£è½¯ä»¶ï¼Œæ˜¯å¯ä»¥ï¼Œä½†æ˜¯æ–°æ‰‹åˆ«æƒ³ï¼Œå¦‚æœæ²¡æœ‰åˆ«äººå†™å¥½çš„nixé…ç½®ï¼Œä½ éœ€è¦æ‰‹æ’¸nixã€‚ nixosä¸æ”¯æŒä¾èµ–fhsæ–‡ä»¶ç»“æ„çš„è½¯ä»¶ï¼Œå¹¶ä¸æ˜¯ã€‚nixoså¯ä»¥è™šæ‹Ÿä¸€ä¸ªfhsç¯å¢ƒç»™è¿™äº›è½¯ä»¶ç”¨ï¼Œæ³¨æ„ä¸æ˜¯å®¹å™¨ã€‚é™¤éæŸäº›è½¯ä»¶æ¶æ„ä¸å…¼å®¹è¿™ç§æ–¹å¼ï¼Œå¦åˆ™éƒ½æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ã€‚ nixoså¯ä»¥100%å¤ç°ï¼Œé”™è¯¯ã€‚nixosåªæ˜¯ç›¸å¯¹æ¥è¯´æ›´å®¹æ˜“100%å¤ç°ï¼Œå®é™…ä¸Šéœ€è¦ä¸€äº›é¢å¤–çš„æ‰‹æ®µæ‰èƒ½ä¿è¯100%ã€‚ nixoså¾ˆéš¾ï¼Œä¹Ÿæ²¡é‚£ä¹ˆéš¾ã€‚å®ƒçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚éš¾çš„æ˜¯å½»åº•å¼„æ˜ç™½ã€‚ dockerå¯ä»¥æå®šçš„ä¸ºä»€ä¹ˆè¦nixï¼Œè™½ç„¶ä»–ä»¬æœ‰ä¸€äº›åœ°æ–¹å¾ˆæ¥è¿‘ï¼Œä½†æ˜¯å®Œå…¨ä¸æ˜¯ä¸€å›äº‹ï¼Œå„æœ‰æ‰€é•¿ã€‚æ¯”å¦‚nixå’Œdockeréƒ½å¯ä»¥å¤ç°è¿è¡Œç¯å¢ƒï¼Œä½†æ˜¯nixå¹¶ä¸æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨èµ„æºï¼Œå¦å¤–è¿è¡Œuiè½¯ä»¶åŒ…æ‹¬è®¿é—®ç¡¬ä»¶èµ„æºï¼ˆåŒ…æ‹¬æ˜¾å¡åŠ é€Ÿï¼‰ä¹Ÿæ›´æ–¹ä¾¿ã€‚nixä¹Ÿå¯ä»¥ç®¡ç†dockerå¯ä»¥æ›¿ä»£dockerfile,ä½†æ˜¯dockeræ“…é•¿çš„é¢†åŸŸå°±ä¸æ˜¯nixçš„èƒ½æå®šçš„ã€‚ ä¸ºä»€ä¹ˆè¯´nixosæ˜¯æ¢¦ä¸­æƒ…os è¿™å¥è¯ä»…ä»…é’ˆå¯¹å¯¹linuxæœ‰ä¸€äº›åŸºç¡€ï¼Œå¹¶ä¸”æœ‰æ—¶é—´ç²¾åŠ›å’Œå…´è¶£å»å­¦ä¹ ä¸€ä¸ªé™¤äº†nix/nixos æ²¡å•¥åˆ«çš„åµç”¨çš„nixè¯­è¨€ï¼Œå¹¶æ„¿æ„æŠ˜è…¾nixosçš„äººã€‚\né‚£ä¹ˆnixosçš„ç¼ºç‚¹ï¼Œä½ éƒ½å¯ä»¥å‡è£…ä¸å­˜åœ¨ã€‚åªçœ‹å®ƒçš„ä¼˜ç‚¹çš„è¯ï¼ŒçœŸé¦™ï¼\næ—¥å¿—è®°å½• åŸºæœ¬å®‰è£… ä½¿ç”¨ configuration.nix å®‰è£…ä¸€ä¸ªå¸¦sshå’Œå¸¸ç”¨å·¥å…·çš„ nixos [åŸºæœ¬å®‰è£… configuration](https://dev.leiyanhui.com/nixos/1base-install]\nå¯ç”¨ flake åŸºæœ¬å®‰è£… configuration flake\nå¯ç”¨ Home Manager åŸºæœ¬å®‰è£… configuration flake\nç›®å½•ç»“æ„ å’Œæœ€ç»ˆé…ç½®æ–‡ä»¶ åŸºç¡€ ç›®å½•ç»“æ„ å’Œæœ€ç»ˆé…ç½®æ–‡ä»¶\nkdeæ¡Œé¢ kdeæ¡Œé¢ç®€å•ä½“éªŒ\ngnomeæ¡Œé¢ gnomeæ¡Œé¢ç®€å•ä½“éªŒ\næ¸…ç†ç£ç›˜ æ¸…ç†ç£ç›˜\nå…³äºnix unstable å¯ç”¨äº†flakeå’Œ Home Managerçš„æƒ…å†µä¸‹åˆ‡æ¢åˆ°unstable\næ¸…ç†ç£ç›˜å‘½ä»¤ æ¸…ç†ç£ç›˜å‘½ä»¤\nflutterå¼€å‘ç¯å¢ƒ flutter+ideaå¼€å‘ç¯å¢ƒ\ngolangå¼€å‘ç¯å¢ƒ golang+golandå¼€å‘ç¯å¢ƒ\n","date":"2024-04-01T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/start/","title":"nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"æ—è·¯ç”±/ç½‘å…³åœ¨ç»´æŠ¤çš„æ—¶å€™å¯¼è‡´æ–­ç½‘æˆ–å…¶ä»–ä¸€äº›åœ°æ–¹è‚¯å®šä¸æ˜¯å¤Ÿç¨³å®šï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ›´åŠ æ™ºèƒ½æ— æ„Ÿçš„è‡ªåŠ¨åˆ‡æ¢æ–¹æ¡ˆã€‚ ä¼ ç»Ÿdhcpåˆ‡æ¢ç½‘å…³çš„æ–¹å¼ç›¸åº”é€Ÿåº¦æ…¢ï¼Œæ‰çº¿æ—¶é—´é•¿ã€‚çˆ±å¿«åˆ†æµæ–¹æ¡ˆè™½ç„¶å¯ä»¥æ— æ„Ÿåˆ‡æ¢ä½†æ˜¯éœ€è¦ä¸€ä¸ªx86è®¾å¤‡è¿è¡Œä¸å¼€æºæœ‰è¿‡é»‘å†å²çš„çˆ±å¿«ã€‚\näºæ˜¯æƒ³åˆ°æƒ³åˆ°äº†ä¸€ä¸ªæ–°çš„æ–¹æ¡ˆï¼Œæˆ‘å§‘ä¸”ç§°ä¹‹ä¸º ä¸»è·¯ç”±è‡ªåŠ¨åˆ‡æ¢ipæ¥ä½ç½‘å…³æ–¹æ¡ˆ\næ—§çš„æ—è·¯ç”±è‡ªåŠ¨æ–¹æ¡ˆ ç›®å‰ä¸»è¦æœ‰ä¸¤ç§\nä¼ ç»Ÿçš„æ—ç½‘å…³å½¢å¼ï¼Œå†…å¤–è®¾å¤‡å•ç‹¬é…ç½®ä¸€ä¸ªç½‘å…³è®¾å¤‡ã€‚åœ¨è¿™ä¸ªç½‘å…³è®¾å¤‡å¤±æ•ˆçš„åï¼Œé€šè¿‡è‡ªåŠ¨è„šæœ¬é…åˆdhcpç­‰æ–¹å¼å®ç°åˆ‡æ¢ï¼Œéœ€è¦ä¸‹æ¸¸è®¾å¤‡æ–­å¼€é‡è¿ï¼Œæˆ–é‡å¯ä¸»è·¯ç”±åˆ‡æ¢æ—¶é—´è¾ƒé•¿ã€‚è¿™æ˜¯æ•ˆæœæœ€å·®çš„ä¸€ç§å¯åŠ¨åˆ‡æ¢æ–¹æ¡ˆã€‚ ä¸»è·¯ç”±ç”¨çˆ±å¿«æ ¹æ®ipå’ŒåŸŸåé€šè¿‡è¿è¥å•†é…ç½®ç»‘å®šwan2çš„åˆ†æµæ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯ ikuai-bypassï¼Œä½¿ç”¨ä½“éªŒä¸Šè¦æ¯”ä¸Šä¸€ç§æ–¹å¼å¥½éå¸¸å¤šï¼Œä¸å­˜åœ¨çŸ­æ—¶æ–­ç½‘ï¼Œå ªç§°å®Œç¾ï¼Œä½†æ˜¯éœ€è¦x86åšä¸»è·¯ç”±å¹¶åˆ·é—­æºçš„çˆ±å¿«ã€‚åˆ‡æ¢æ—¶é—´æœ€å°‘1åˆ†é’Ÿï¼Œä½†æ˜¯åˆ‡æ¢æœŸé—´ä¸ä¼šå¯¼è‡´æ–­ç½‘ã€‚å¦‚æœæ‚¨ç”¨ ikuai-bypass æ–¹æ¡ˆï¼Œä¹ŸæœŸå¾…èƒ½ç»™æˆ‘ç‚¹ä¸€ä¸ªstarã€‚ æ€è·¯ æ–°æ–¹æ¡ˆä½¿ç”¨ä¸»è·¯ç”±å’Œæ—è·¯ç”± ipè½®æ›¿çš„æ–¹å¼ï¼ŒåŸç†ï¼š æ—è·¯ç”±ç”¨æ¡¥æ¥/åˆ«åæˆ–è™šæ‹Ÿç½‘å¡çš„æ–¹å¼é…ç½®ä¸¤ä¸ªip ç¬¬ä¸€ä¸ªipæˆ‘ä»¬æš‚ä¸”ç§°ä¹‹ä¸ºå·¥ä½œipï¼Œç¬¬äºŒä¸ªipå§‘ä¸”å«è¾…åŠ©ipã€‚\nä¸»è·¯ç”±ä¸æ–­pingæ—è·¯ç”±çš„ç¬¬äºŒä¸ªipï¼Œå¦‚æœpingä¸é€šï¼Œé‚£ä¹ˆä¸»è·¯ç”±æŠŠè‡ªå·±çš„ipä¿®æ”¹ä¸ºæ—è·¯æœ‰å·¥ä½œipæ¥æ›¿æ—è·¯ç”±çš„å·¥ä½œã€‚æ—è·¯è·¯ç”±æ­£å¸¸å†æŠŠè‡ªå·±æ”¹å›å»ã€‚è¿™æ ·å°±å®ç°å…é‡è¿åˆ‡æ¢ã€‚\næ–°æ–¹æ¡ˆä¼˜ç‚¹ åŸç†ç®€å•ç»´æŠ¤ä¹Ÿç®€å•ã€‚åˆ‡æ¢é€Ÿåº¦å¿«ï¼ˆ3-10ç§’ä»¥å†…ï¼‰ï¼Œä¸éœ€è¦å†…ç½‘è®¾å¤‡æ–­ç½‘åé‡è”ï¼Œä¸»è·¯ç”±ä¸éœ€è¦æ˜¯x86è®¾å¤‡ï¼Œä¸éœ€è¦é—­æºçš„çˆ±å¿«ã€‚\nå„æ–¹é¢ä½“éªŒè¿œé«˜äºdhcpåˆ‡æ¢æ–¹æ¡ˆï¼Œç¼ºç‚¹æ˜¯ä¸å¦‚ikuai-bypassçš„å®Œå…¨æ— ç¼åˆ‡æ¢ï¼Œåˆ‡æ¢æœŸé—´ä¼šæœ‰3-10ç§’æ–­ç½‘ã€‚\nåˆ‡æ¢å’Œé…ç½® æˆ‘ä»¬ä¸ºäº†ä¾¿äºç†è§£å’Œç®¡ç†æ–¹å¼ï¼Œå¹²è„†ç»™ä¸¤ä¸ªè®¾å¤‡è§„åˆ’4ä¸ªipï¼Œåˆ†åˆ«ä¸ºï¼š\nä¸»è·¯ç”± é»˜è®¤IP(10.1.1.1) ä¸»è·¯ç”±è¾…åŠ©ip(10.1.1.11ï¼Œç”¨æ¥ç™»å½•ä¸»è·¯ç”±çš„webç®¡ç†ç•Œé¢)\næ—è·¯ç”± å·¥ä½œIP(10.1.1.2) æ—è·¯è·¯ç”±è¾…åŠ©ip(10.1.1.22ï¼Œç”¨æ¥æ£€æµ‹æ˜¯å¦æ—è·¯ç”±åœ¨çº¿)\nä¸»è·¯ç”±è´Ÿè´£dhcpæœåŠ¡ï¼Œæ—è·¯ç”±å…³é—­dhcpã€‚dhcpæŒ‡å®šä¸‹æ¸¸è®¾å¤‡çš„ç½‘å…³å‡ä¸ºæ—è·¯ç”±å·¥ä½œIP(10.1.1.2)ã€‚\nä¸‹æ–‡ä»¥openwrtä¸ºä¾‹ï¼ˆæ–‡æœ«æœ‰Padavan/æ¢…æ—çš„å…¼å®¹å®ç°ï¼‰ï¼Œå†…æ ¸ä¸º5.15.148 ç‰ˆæœ¬git-25.050.75038-257d60d ä½¿ç”¨ openwrt.ai çš„åœ¨çº¿ç¼–è¯‘å›ºä»¶ æ„Ÿè°¢ supes\nä¸»è·¯ç”±ä¸ºä¸€ä¸ª4å£ramipsç¡¬è·¯ç”± æ—è·¯æœ‰ä¸ºvmå†…çš„x86è·¯ç”± å·²ç»é…ç½®å¥½ä½è°ƒä¸Šç½‘æ’ä»¶ä»¥åŠdnsåˆ†æµ å¹¿å‘Šå±è”½ç­‰ã€‚\nåŒipçš„å®ç° openwrtç½‘ç»œ-æ¥å£é¢æ¿ï¼Œæ–°å»ºä¸€ä¸ªæ¥å£ å’Œlanå£ä¸€æ · æ¡¥æ¥ br-lan ç„¶åé™æ€ipé…ç½®ä¸ºå¦å¤–ä¸€ä¸ªipå³å¯ã€‚å‚è€ƒ/etc/config/network ä¸­lanéƒ¨åˆ†å¦‚ä¸‹\nä¸»è·¯ç”± æ­£å¸¸å·¥ä½œçŠ¶æ€ ï¼ˆä¸»è·¯ç”±æ˜¯ä¸€ä¸ªå››å£ç¡¬è·¯ç”±ï¼‰ ç”¨æ¡¥æ¥æ–¹å¼é…ç½®äº†ä¸¤ä¸ªip\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 config device option name \u0026#39;br-lan\u0026#39; option type \u0026#39;bridge\u0026#39; list ports \u0026#39;lan1\u0026#39; list ports \u0026#39;lan2\u0026#39; list ports \u0026#39;lan3\u0026#39; list ports \u0026#39;lan4\u0026#39; option promisc \u0026#39;1\u0026#39; config interface \u0026#39;lan\u0026#39; option device \u0026#39;br-lan\u0026#39; option proto \u0026#39;static\u0026#39; option ipaddr \u0026#39;10.1.1.1\u0026#39; option netmask \u0026#39;255.255.255.0\u0026#39; option ip6assign \u0026#39;60\u0026#39; option dns \u0026#39;223.5.5.5 114.114.114.114\u0026#39; config interface \u0026#39;lanManager\u0026#39; option proto \u0026#39;static\u0026#39; option device \u0026#39;br-lan\u0026#39; option ipaddr \u0026#39;10.1.1.11\u0026#39; option netmask \u0026#39;255.255.255.0\u0026#39; æ—è·¯ç”±æ­£å¸¸å·¥ä½œçŠ¶æ€ æ—è·¯ç”±æ˜¯ä¸€ä¸ªå•å£è™šæ‹Ÿæœºçš„openwrt ç”¨æ¡¥æ¥æ–¹å¼é…ç½®äº†ä¸¤ä¸ªip\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 config device option name \u0026#39;br-lan\u0026#39; option type \u0026#39;bridge\u0026#39; list ports \u0026#39;eth0\u0026#39; option promisc \u0026#39;1\u0026#39; config interface \u0026#39;lan\u0026#39; option device \u0026#39;br-lan\u0026#39; option proto \u0026#39;static\u0026#39; option ipaddr \u0026#39;10.1.1.2\u0026#39; option ipaddr \u0026#39;10.1.1.1\u0026#39; option netmask \u0026#39;255.255.255.0\u0026#39; option ip6assign \u0026#39;60\u0026#39; list dns \u0026#39;223.5.5.5\u0026#39; config interface \u0026#39;lanCheck\u0026#39; option proto \u0026#39;static\u0026#39; option device \u0026#39;br-lan\u0026#39; option ipaddr \u0026#39;10.1.1.22\u0026#39; option netmask \u0026#39;255.255.255.0\u0026#39; ä¸¤ä¸ªè·¯ç”±å™¨çš„lanå£çš„é…ç½®æˆªå›¾ è¯·å‚è€ƒ æˆ‘çš„æ©å±±å¸–å­ https://www.right.com.cn/forum/thread-8355919-1-1.html\nopenwrt é…ç½®dhcpç½‘å…³ ä¸»è·¯ç”±openwrt é…ç½®dhcpæœåŠ¡åˆ†é…ç»™ä¸‹æ¸¸è®¾å¤‡çš„ç½‘å…³ä¸º10.1.1.2 sshç™»å½•åˆ°ä¸»è·¯ç”±å è¿è¡Œä¸‹é¢ä¸¤è¡Œå‘½ä»¤ ã€‚\n1 2 uci add_list dhcp.lan.dhcp_option=\u0026#34;3,10.1.1.2\u0026#34; uci commit dhcp å®Œæˆåé‡å¯dhcp å¹¶é‡è¿ä¸‹æ¸¸è®¾å¤‡ï¼Œæˆ–å¹²è„†é‡å¯ä¸€ä¸‹è·¯ç”±å™¨ã€‚\ndhcp_optionçš„å«ä¹‰ä»¥åŠæŒ‡å®šçš„ä¸‹æ¸¸è®¾å¤‡é€šè¿‡dhcpåˆ†ç»„æˆ–æŒ‰ç…§macç»™ä¸‹æ¸¸è®¾å¤‡åˆ†åˆ«é…ç½®ä¸åŒç½‘å…³åŠŸèƒ½ï¼Œæœ¬æ–‡ä¸æ‰©å±•\næ£€æŸ¥çŠ¶æ€ æ­¤æ—¶ ä¸‹æ¸¸è®¾å¤‡dhcpåˆ†é…çš„ç½‘å…³åº”è¯¥æ˜¯10.1.1.2 åœ¨æ—è·¯ç”±æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸‹æ¸¸è¢«åˆ†é…åˆ°10.1.1.2ç½‘å…³çš„è®¾å¤‡åº”è¯¥éƒ½å¯ä»¥æ­£å¸¸ä½è°ƒä¸Šç½‘ã€‚\næ­¤æ—¶å’Œä¼ ç»Ÿæ—è·¯æ–¹æ¡ˆå®Œå…¨ä¸€è‡´ã€‚æ—è·¯ç”±æ–­å¼€åï¼Œä¸‹æ¸¸è®¾å¤‡æ— æ³•ä¸Šç½‘ï¼Œéœ€è¦é€šè¿‡dhcpé‡æ–°åˆ†é…ç½‘å…³ipï¼Œä¸‹æ¸¸è®¾å¤‡æ–­å¼€é‡è¿æˆ–æ‰‹åŠ¨ä¿®æ”¹ä¸‹æ¸¸è®¾å¤‡ç½‘å…³ æ‰å¯ä»¥æ¢å¤ç½‘ç»œã€‚è¯´ä¸ä¸Šå®Œç¾ï¼Œåªèƒ½è¯´å‡‘åˆè€Œå·²ã€‚\nä¸‹é¢å®ç°åœ¨æ—è·¯ç”±ä¸‹çº¿åï¼Œä¸»è·¯ç”±è‡ªåŠ¨æ¥æ›¿æ—è·¯ç”±å·¥ä½œï¼Œå¹¶åœ¨æ—è·¯ç”±ä¸Šçº¿åè®©ä½ç»™æ—è·¯ç”±ã€‚\nè‡ªåŠ¨åˆ‡æ¢ç¨‹åº openwrt ä¸»è·¯ç”± è¿™ä¸ªè„šæœ¬è¿è¡Œåœ¨ä¸»è·¯ç”±ä¸Šã€‚ ä»¥openwrtä¸ºä¾‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 mkdir /opt vi /opt/ReplaceBypass.sh ================================ #!/bin/sh check_ip_available(){ ping -c 3 $1 | grep packets | awk \u0026#39;{print $4}\u0026#39; } while true do echo \u0026#34;ping 10.1.1.22 ...\u0026#34; res=`check_ip_available 10.1.1.22` current_ip=`uci get network.lan.ipaddr` echo \u0026#34;current_ip $current_ip\u0026#34; if [ $(($res)) -eq 0 ]; then echo \u0026#34;bypass is offline\u0026#34; if [ \u0026#34;$current_ip\u0026#34; != \u0026#34;10.1.1.2\u0026#34; ]; then echo \u0026#34;change to 10.1.1.2\u0026#34; sed -i \u0026#34;s/10.1.1.1\u0026#39;/10.1.1.2\u0026#39;/\u0026#34; /etc/config/network ifdown lan \u0026amp;\u0026amp; ifup lan fi else echo \u0026#34;bypass is online\u0026#34; if [ \u0026#34;$current_ip\u0026#34; != \u0026#34;10.1.1.1\u0026#34; ]; then echo \u0026#34;change to 10.1.1.1\u0026#34; sed -i \u0026#34;s/10.1.1.2\u0026#39;/10.1.1.1\u0026#39;/\u0026#34; /etc/config/network ifdown lan \u0026amp;\u0026amp; ifup lan fi fi sleep 2 #æ—¶é—´å¯ä»¥ä¿®æ”¹ä¸º1-5ç§’ done è¿™æ˜¯ä¸€ä¸ªå¾ªç¯shellè„šæœ¬ç¨‹åºï¼Œé—´éš”5ç§’ç”¨pingå‘½ä»¤æ£€æµ‹ä¸€æ¬¡æ—è·¯ç”±çš„è¾…åŠ©ipç„¶åå¦‚æœè·¯ç”±åœ¨çº¿é‚£ä¹ˆåˆ‡æ¢è‡ªå·±åˆ°10.1.1.1è¿™ä¸ªipï¼Œå¦åˆ™åˆ‡æ¢åˆ°10.1.1.2æ›¿ä»£è·¯ç”±å·¥ä½œã€‚\nå…ˆæ‰‹åŠ¨æ‰§è¡Œsh /opt/ReplaceBypass.shï¼ŒæœŸé—´åå¤æ–­å¼€å’Œè”é€šæ—è·¯ç”±è§‚å¯Ÿ ä¸»è·¯ç”±ipåˆ‡æ¢æƒ…å†µã€‚æœŸé—´å¯ä»¥ç”¨ 10.1.1.11 è¿™ä¸ªipç™»å½•åˆ°ä¸»è·¯ç”±webç®¡ç†ç•Œé¢æ£€æŸ¥ã€‚\næµ‹è¯•æ­£å¸¸åï¼Œæˆ‘ä»¬åœ¨ä¸»è·¯ç”±åˆ›å»ºä¸€ä¸ªæœåŠ¡æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå¹¶å¹¶è®©openwrtçš„å¼€æœºè‡ªå¯è¿™ä¸ªæœåŠ¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 vi /etc/init.d/ReplaceBypass =========================================== #!/bin/sh /etc/rc.common START=99 start(){ echo \u0026#34;ReplaceBypass service is staring\u0026#34; sh /opt/ReplaceBypass.sh \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 \u0026amp; } stop(){ PID=$(ps | grep \u0026#34;sh /opt/ReplaceBypass.sh\u0026#34; | grep -v grep | awk \u0026#39;{print $1}\u0026#39;) kill $PID echo \u0026#34;ReplaceBypass service is stoped\u0026#34; } ç¼–è¾‘å®Œæˆå å¯ç”¨è¿™ä¸ªæœåŠ¡\n1 2 3 4 chmod +x /etc/init.d/ReplaceBypass # å¿…é¡»æ‰§è¡Œ service ReplaceBypass enable # å¼€å¯è‡ªå¯ service ReplaceBypass start # æ‰‹åŠ¨æ‰§è¡Œ ps |grep ReplaceBypass # æ£€æŸ¥è¿›ç¨‹æ˜¯å¦å­˜åœ¨ Padavanä¸»è·¯ç”± è¡¥å……ä¸€ä¸ªPadavanä½œä¸ºä¸»è·¯ç”±çš„æ£€æµ‹è„šæœ¬ï¼Œå†™å®Œæœªæµ‹è¯• ç†è®ºå¯è¡Œï¼Œ ä¾›å‚è€ƒã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 cat \u0026gt; /etc/storage/change_ip.sh \u0026lt;\u0026lt; \\EOF #!/bin/bash MainDefaultIp=\u0026#39;10.1.1.1\u0026#39; BypassWorkIp=\u0026#39;10.1.1.2\u0026#39; BypassCheckIp=\u0026#39;10.1.1.22\u0026#39; check_ip_available(){ ping -c 3 $1 | grep packets | awk \u0026#39;{print $4}\u0026#39; } res=`check_ip_available $BypassCheckIp` #æ£€æµ‹æ—è·¯ç”±æ˜¯å¦å­˜åœ¨ current_ip=`nvram get lan_ipaddr` #ä¸»è·¯ç”±å½“å‰ip æ›´å¤šå‘½ä»¤ nvram show change_ip(){ nvram set lan_ipaddr=$1 #è®¾ç½®ip nvram set lan_gateway=$1 nvram commit #æäº¤ä¿®æ”¹ sleep 3 reboot # éœ€è¦é‡å¯è®¾å¤‡ è€æ¯›å­å•ç‹¬é‡å¯lanå£è²Œä¼¼æ— æ•ˆ } if [ $(($res)) -eq 0 ]; #å³æ—è·¯ç”±ä¸å­˜åœ¨ï¼Œä¸»è·¯ç”±åº”è¯¥æŠŠè‡ªå·±ä¿®æ”¹æ—è·¯è·¯ç”±çš„å·¥ä½œip then if [ \u0026#34;$current_ip\u0026#34; != \u0026#34;$BypassWorkIp\u0026#34; ]; then #å¦‚æœå½“å‰ipä¸æ˜¯å·¥ä½œip echo \u0026#34;change ip to $BypassWorkIp \u0026#34; `change_ip $BypassWorkIp` fi exit 1 fi if [ $(($res)) -ne 0 ]; # å³æ—è·¯ç”±å­˜åœ¨ï¼Œä¸»è·¯ç”±åº”è¯¥æŠŠè‡ªå·±æ”¹ä¸ºé»˜è®¤ip then if [ \u0026#34;$current_ip\u0026#34; != \u0026#34;$MainDefaultIp\u0026#34; ]; then #å¦‚æœå½“å‰ipä¸æ˜¯é»˜è®¤ip echo \u0026#34;change ip to $MainDefaultIp \u0026#34; `change_ip $MainDefaultIp` fi exit 1 fi EOF chmod +x /etc/storage/change_ip.sh #è®¾ç½®è„šæœ¬è¿è¡Œæƒé™ /sbin/mtd_storage.sh save #ä¿å­˜è„šæœ¬ï¼Œé˜²æ­¢é‡å¯ä¸¢å¤± # è‡ªåŠ¨å®šæ—¶è¿è¡Œè„šæœ¬ï¼ˆæ¯ä¸€åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡ï¼‰ï¼š # åœ¨è€æ¯›å­çš„ `ç³»ç»Ÿç®¡ç† - æœåŠ¡ ` è°ƒåº¦ä»»åŠ¡ (Crontab) åŠ å…¥ `*/1 * * * * /etc/storage/change_ip.sh` å¦‚æœæ‚¨åœ¨ä½¿ç”¨ikuai-bypass æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½ç»™ç‚¹ä¸ªstar\n","date":"2024-03-19T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/replacebypass/","title":"æ—è·¯ç”±-ä¸»è·¯ç”±è‡ªåŠ¨æ›¿ä»£æ—è·¯ç”±çš„è‡ªåŠ¨åˆ‡æ¢æ–¹æ¡ˆ"},{"content":"nixos ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹å°±æ˜¯ è¿™ç©æ„ç‹‚åƒç£ç›˜\n1 2 3 4 5 6 7 8 9 10 sudo nix-env --profile /nix/var/nix/profiles/system --list-generations sudo nix-env --profile /nix/var/nix/profiles/system --delete-generations +1 sudo nix-env --profile /nix/var/nix/profiles/per-user/root/channels --delete-generations +1 sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/channels --delete-generations +1 sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/profile --delete-generations +1 sudo nix-env --profile /nix/var/nix/profiles/per-user/yh/home-manager --delete-generations +1 nix-collect-garbage nix-collect-garbage -d nix-store --gc --print-roots nix-store --optimise +$1 æ˜¯ä½ æƒ³ä¿ç•™çš„å¿«ç…§æ¬¡æ•°\n","date":"2024-03-13T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/7nix-clean-disk/","title":"(å…¥é—¨å®‰è£… 7 ä½¿ç”¨ nixæ¸…ç†ç£ç›˜)nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"nixos å› ä¸ºé™¤éæ¶æ„ï¼Œç†è®ºä¸Šæ°¸è¿œä¸ä¼šæ»šæŒ‚ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„éƒ½ä¼šä½¿ç”¨ustableç‰ˆæœ¬\nåœ¨å¯ç”¨ flakeså’Œhome manageçš„æƒ…å†µä¸‹ åªéœ€è¦ä¿®æ”¹ flake.nix å³å¯ ä¸€ä¸ªå‚è€ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 cat /etc/nixos/flake.nix { description = \u0026#34;NixOS configuration\u0026#34;; inputs = { #nixpkgs.url = \u0026#34;github:nixos/nixpkgs/nixos-23.11\u0026#34;; nixpkgs.url = \u0026#34;github:nixos/nixpkgs/nixos-unstable\u0026#34;; home-manager = { url = \u0026#34;github:nix-community/home-manager/release-23.11\u0026#34;; inputs.nixpkgs.follows = \u0026#34;nixpkgs\u0026#34;; }; }; outputs = inputs@{ nixpkgs, home-manager, ... }: { nixosConfigurations = { # è¿™é‡Œçš„ vm-nixos æ›¿æ¢æˆä½ çš„ä¸»æœºåç§° vm-nixos = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix home-manager.nixosModules.home-manager { home-manager.useGlobalPkgs = true; home-manager.useUserPackages = true; home-manager.users.yh = import ./home.nix; } ]; }; }; }; } ","date":"2024-03-13T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/8-os-to-unstable/","title":"(å…¥é—¨å®‰è£… 8 å¯ç”¨unstable)nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"è¾“å…¥æ³• æ·»åŠ åˆ° configuration.nix\n1 2 3 4 5 6 7 i18n.inputMethod = { enabled = \u0026#34;fcitx5\u0026#34;; fcitx5.addons = with pkgs; [ fcitx5-chinese-addons fcitx5-gtk ]; }; å¯ç”¨æ¡Œé¢ æ·»åŠ åˆ° configuration.nix\n1 2 3 services.xserver.enable = true; services.xserver.displayManager.gdm.enable = true; services.xserver.desktopManager.gnome.enable = true; å»æ‰ä¸€äº›ä¸éœ€è¦çš„åŒ… è¿™äº›åŒ…éƒ½ä¼šè¢«æ’é™¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 environment.gnome.excludePackages = (with pkgs; [ gnome-photos gnome-tour yelp ]) ++ (with pkgs.gnome; [ gnome-maps gnome-contacts gnome-calendar cheese # webcam tool gnome-music gnome-terminal gedit # text editor epiphany # web browser geary # email reader evince # document viewer gnome-characters totem # video player tali # poker game iagno # go game hitori # sudoku game atomix # puzzle game ]); ä¸€äº›å¯èƒ½çš„é”™ å¦‚æœä½ ä½¿ç”¨äº†unstable ä¸€äº›çš„åŒ…å’Œé…ç½®åç§°å¯èƒ½ä¼šå˜åŒ–ï¼Œæ¯”å¦‚ gnome-text-editor gedit=\u0026gt; pkgs.gedit\næ„å»º plasma6 ç›®å‰è¿˜åœ¨unstableé˜¶æ®µï¼Œå¹¶ä¸”ç¡®å®å¾ˆå¤šæ’ä»¶éƒ½æœ‰é—®é¢˜ï¼Œå»ºè®®å…ˆç”¨plasma5\n1 sudo nixos-rebuild switch --option substituters https://mirror.sjtu.edu.cn/nix-channels/store ä½†æ˜¯ å›½å†…æºå¾ˆå¤šæœ‰æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ç§‘å­¦ä¸Šç½‘ å¦‚æœæ„å»ºä¸­å‡ºé—®é¢˜éœ€è¦æ›´æ¢æºç ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¸…ç†åé‡æ–°è¿è¡Œ\n1 sudo nix-collect-garbage -d è¿›é˜¶ flake + home-manager ç®¡ç†gnome\ngnome-flake.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 { options, config, lib, pkgs, ... }: with lib; with lib.plusultra; let in { services.xserver.enable = true; services.xserver.displayManager.gdm = { enable = true; autoSuspend = false; wayland = true; }; services.xserver.desktopManager.gnome = { enable = true; extraGSettingsOverridePackages = [pkgs.gnome.gnome-settings-daemon]; }; # gsettings set org.gnome.desktop.wm.preferences resize-with-right-button true services.udev.packages = with pkgs; [ gnome.gnome-settings-daemon ]; # å¯ä»¥å’Œ kde-connect åè®®è¿æ¥çš„ gnome è½¯ä»¶ programs.kdeconnect = { enable = true; package = pkgs.gnomeExtensions.gsconnect; }; # éœ€è¦å±è”½çš„gnome è½¯ä»¶ environment.gnome.excludePackages = (with pkgs; [ gnome-photos gnome-tour yelp gnome-text-editor snapshot #æ‘„åƒå¤´Camera xterm ]) ++ (with pkgs.gnome; [ simple-scan gnome-maps gnome-contacts gnome-calendar cheese # webcam tool gnome-music gnome-terminal #gedit # text editor pkgs.gedit epiphany # web browser geary # email reader evince # document viewer gnome-characters totem # video player tali # poker game iagno # go game hitori # sudoku game atomix # puzzle game ]); } gnome-home-manager.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 { config, pkgs, ... }: let wallpaper = \u0026#34;${../../../pkgs/wallpaper-hm/pics/butterfly_surface_wooden_116623_3840x2160.jpg}\u0026#34;; avatar = \u0026#34;${../../../staticFile/avatar.jpg}\u0026#34;; in { imports = [ # ../../../pkgs/wallpaper-hm ]; home.file.\u0026#34;.face\u0026#34;.source = avatar; #å¤´åƒ home.packages = with pkgs;[ gnome.gnome-tweaks gnome.gnome-themes-extra wl-clipboard gnome.adwaita-icon-theme pkgs.whitesur-gtk-theme gnome.dconf-editor gnomeExtensions.appindicator #gnomeExtensions.dash-to-dock gnomeExtensions.clipboard-history #gnomeExtensions.kimpanel #è¾“å…¥æ³•æ ·å¼ï¼Œæ³¨é‡Šæ‰ ä½¿ç”¨ fcitx5.pkgsçš„é…ç½® gnomeExtensions.blur-my-shell #gnomeExtensions.paperwm #ä¸å¤ªå¥½ç”¨ alt+tab è¿˜å¯ä»¥ #gnomeExtensions.material-shell ä¸å…¼å®¹æœ€æ–°ç‰ˆ gnomeExtensions.bing-wallpaper-changer ]; gtk = { enable = true; font = { package = pkgs.cantarell-fonts; name = \u0026#34;Cantarell 11\u0026#34;; }; #theme = { # name = \u0026#34;vimix-dark-ruby\u0026#34;; # package = pkgs.vimix-gtk-themes.override { # themeVariants = [\u0026#34;beryl\u0026#34;];#[doder|beryl|ruby|amethyst|jade|grey|all] # colorVariants = [\u0026#34;dark\u0026#34;]; # tweaks = [\u0026#34;flat\u0026#34; \u0026#34;grey\u0026#34;]; # }; # }; #Adwaita-dark #theme.name = \u0026#34;Adwaita-dark\u0026#34;; theme = { name = \u0026#34;Adwaita-dark\u0026#34;; package = pkgs.gnome3.gnome-themes-extra; }; #cursorTheme = { # name = \u0026#34;Vanilla-DMZ\u0026#34;; # package = pkgs.vanilla-dmz; #}; #iconTheme = { # name = \u0026#34;Vanilla-DMZ\u0026#34;; # package = pkgs.vanilla-dmz; # gnome3.adwaita-icon-theme; #}; iconTheme = { package = pkgs.papirus-icon-theme; name = \u0026#34;Papirus-Dark\u0026#34;; }; gtk3.extraConfig = { #gtk-decoration-layout = \u0026#34;appmenu:\u0026#34;; #gtk-decoration-layout = \u0026#34;appmenu:minimize,close\u0026#34;; #å»æ‰æœ€å¤§åŒ–æŒ‰é’® æ²¡å•¥åµç”¨ }; }; dconf = { enable = true; settings = { \u0026#34;org/gnome/shell\u0026#34; = { disable-user-extensions = false; enabled-extensions = [ \u0026#34;appindicatorsupport@rgcjonas.gmail.com\u0026#34; #ç³»ç»Ÿæ‰˜ç›˜ #\u0026#34;dash-to-dock@micxgx.gmail.com\u0026#34; \u0026#34;clipboard-history@alexsaveau.dev\u0026#34; # å‰ªåˆ‡æ¿ #\u0026#34;kimpanel@kde.org\u0026#34; \u0026#34;blur-my-shell@aunetx\u0026#34; #æ¯›ç»ç’ƒ \u0026#34;BingWallpaper@ineffable-gmail.com\u0026#34; \u0026#34;apps-menu@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;auto-move-windows@gnome-shell-extensions.gcampax.github.corm\u0026#34; #\u0026#34;drive-menu@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;launch-new-instance@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;light-style@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;native-window-placement@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;places-menu@gnome-shell-extensions.gcampax.github.com\u0026#34; \u0026#34;screenshot-window-sizer@gnome-shell-extensions.gcampax.github.com\u0026#34; \u0026#34;user-theme@gnome-shell-extensions.gcampax.github.com\u0026#34; \u0026#34;window-list@gnome-shell-extensions.gcampax.github.com\u0026#34; \u0026#34;windowsNavigator@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;workspace-indicator@gnome-shell-extensions.gcampax.github.com\u0026#34; #\u0026#34;paperwm@paperwm.github.com\u0026#34; #\u0026#34;material-shell@papyelgringo\u0026#34; ]; favorite-apps = [ \u0026#34;firefox.desktop\u0026#34; \u0026#34;chromium-browser.desktop\u0026#34; \u0026#34;microsoft-edge.desktop\u0026#34; \u0026#34;brave-browser.desktop\u0026#34; \u0026#34;com.vivaldi.Vivaldi.desktop\u0026#34; \u0026#34;terminator.desktop\u0026#34; \u0026#34;org.gnome.Terminal.desktop\u0026#34; \u0026#34;org.gnome.Nautilus.desktop\u0026#34; \u0026#34;code.desktop\u0026#34; \u0026#34;sublime_text.desktop\u0026#34; \u0026#34;nixos-manual.desktop\u0026#34; \u0026#34;gparted.desktop\u0026#34; \u0026#34;idea-ultimate.desktop\u0026#34; \u0026#34;rust-rover.desktop\u0026#34; \u0026#34;goland.desktop\u0026#34; \u0026#34;pycharm-professional.desktop\u0026#34; \u0026#34;goland.desktop\u0026#34; \u0026#34;jetbrains-toolbox.desktop\u0026#34; \u0026#34;AnotherRedisDesktopManager.desktop\u0026#34; \u0026#34;Hiddify-next.desktop\u0026#34; \u0026#34;virtualbox.desktop\u0026#34; ]; }; \u0026#34;org/gnome/desktop/background\u0026#34; = { # å£çº¸ picture-uri = wallpaper; picture-uri-dark = wallpaper; }; \u0026#34;org/gnome/mutter\u0026#34; = { # æ–°çª—å£åœ¨å±å¹•ä¸­å¿ƒæ‰“å¼€ center-new-windows = true; }; \u0026#34;org/gnome/desktop/interface\u0026#34; = { # gtk-theme=\u0026#34;Adwaita-dark\u0026#34;; clock-show-date = true; clock-show-weekday = true; color-scheme = \u0026#34;prefer-dark\u0026#34;; }; #ç”µæºå’Œåšé”å± =============== \u0026#34;org/gnome/desktop/screensaver\u0026#34; = { lock-delay = 0; lock-enabled = true; }; \u0026#34;org/gnome/desktop/session\u0026#34; = { idle-delay = 0; }; #gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type \u0026#39;nothing\u0026#39; #gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-battery-type \u0026#39;nothing\u0026#39; \u0026#34;org.gnome.settings-daemon.plugins.power\u0026#34; = { sleep-inactive-ac-type = \u0026#34;nothing\u0026#34;; sleep-inactive-battery-type = \u0026#34;nothing\u0026#34;; }; \u0026#34;org/gnome/settings-daemon/plugins/power\u0026#34; = { idle-dim = false; power-button-action = \u0026#34;suspend\u0026#34;; sleep-inactive-ac-type = \u0026#34;nothing\u0026#34;; sleep-inactive-battery-timeout = 1800; sleep-inactive-battery-type = \u0026#34;hibernate\u0026#34;; }; #ç”µæºå’Œåšé”å± =============== \u0026#34;org/gnome/desktop/wm/preferences\u0026#34; = { resize-with-right-button = true; #win+å³é”® ä¿®æ”¹çª—å£å¤§å° button-layout = \u0026#34;appmenu:minimize,close\u0026#34;; #å»æ‰æœ€å¤§åŒ–æŒ‰é’® æ²¡å•¥åµç”¨ focus-mode = \u0026#34;sloppy\u0026#34;; }; \u0026#34;org/gnome/desktop/wm/keybindings\u0026#34; = { close = [ \u0026#34;\u0026lt;Alt\u0026gt;F4\u0026#34; \u0026#34;\u0026lt;Super\u0026gt;\u0026lt;Shift\u0026gt;q\u0026#34; ]; # å…³é—­çª—å£ show-desktop = [ \u0026#34;\u0026lt;Super\u0026gt;d\u0026#34; ]; # win+d æ˜¾ç¤ºæ¡Œé¢å£çº¸ }; \u0026#34;org/gnome/settings-daemon/plugins/media-keys\u0026#34; = { custom-keybindings = [ \u0026#34;/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/\u0026#34; \u0026#34;/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom1/\u0026#34; \u0026#34;/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom2/\u0026#34; \u0026#34;/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom3/\u0026#34; \u0026#34;/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom4/\u0026#34; ]; home = [ \u0026#34;\u0026lt;Super\u0026gt;e\u0026#34; ]; # æ‰“å¼€æ–‡ä»¶home ä½¿ç”¨é»˜è®¤æ–‡ä»¶ç®¡ç†å™¨ }; \u0026#34;org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0\u0026#34; = { binding = \u0026#34;\u0026lt;Super\u0026gt;Return\u0026#34;; command = \u0026#34;terminator\u0026#34;; name = \u0026#34;Open terminator\u0026#34;; }; \u0026#34;org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom1\u0026#34; = { binding = \u0026#34;\u0026lt;Super\u0026gt;p\u0026#34;; command = \u0026#34;flameshot gui\u0026#34;; name = \u0026#34;Open flameshot gui\u0026#34;; }; \u0026#34;org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom2\u0026#34; = { binding = \u0026#34;\u0026lt;Shift\u0026gt;\u0026lt;Ctrl\u0026gt;Escape\u0026#34;; command = \u0026#34;gnome-system-monitor\u0026#34;; name = \u0026#34;gnome-system-monitor\u0026#34;; }; # æ¯›ç»ç’ƒæ•ˆæœ ============================================================ start \u0026#34;org/gnome/shell/extensions/blur-my-shell\u0026#34; = { hacks-level = 3; }; \u0026#34;org/gnome/shell/extensions/blur-my-shell/applications\u0026#34; = { whitelist = [ \u0026#34;terminator\u0026#34; \u0026#34;kitty\u0026#34; \u0026#34;emacs\u0026#34; ]; blur-on-overview = true; sigma = 44; opacity = 241; }; \u0026#34;org/gnome/shell/extensions/blur-my-shell/appfolder\u0026#34; = { blur = true; dialog-opacity = 1; }; # æ¯›ç»ç’ƒæ•ˆæœ ============================================================ end \u0026#34;org/gnome/desktop/notifications/application/com-tencent-wechat\u0026#34; = { force-expanded = true; show-banners = true; }; }; }; } ","date":"2024-03-12T21:16:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/6dektop-gnome/","title":"(6 gnome æ¡Œé¢)nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"è¾“å…¥æ³• æ·»åŠ åˆ° configuration.nix\n1 2 3 4 5 6 7 i18n.inputMethod = { enabled = \u0026#34;fcitx5\u0026#34;; fcitx5.addons = with pkgs; [ fcitx5-chinese-addons fcitx5-gtk ]; }; å¯ç”¨æ¡Œé¢ æ·»åŠ åˆ° configuration.nix\n1 2 3 services.xserver.enable = true; services.xserver.displayManager.sddm.enable = true; services.xserver.desktopManager.plasma5.enable = true; æ„å»º plasma6 ç›®å‰è¿˜åœ¨unstableé˜¶æ®µï¼Œå¹¶ä¸”ç¡®å®å¾ˆå¤šæ’ä»¶éƒ½æœ‰é—®é¢˜ï¼Œå»ºè®®å…ˆç”¨plasma5\n1 sudo nixos-rebuild switch --option substituters https://mirror.sjtu.edu.cn/nix-channels/store ä½†æ˜¯ å›½å†…æºå¾ˆå¤šæœ‰æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ç§‘å­¦ä¸Šç½‘ å¦‚æœæ„å»ºä¸­å‡ºé—®é¢˜éœ€è¦æ›´æ¢æºç ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¸…ç†åé‡æ–°è¿è¡Œ\n1 sudo nix-collect-garbage -d ä¸€ä¸ªå•ç‹¬configuration.nix å¸¦plasma6 ä½†æ˜¯ æ²¡æœ‰å¸¦flakesçš„å®ä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;nixos\u0026#34;; # Define your hostname. time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; i18n.inputMethod = { enabled = \u0026#34;fcitx5\u0026#34;; fcitx5.addons = with pkgs; [ fcitx5-chinese-addons fcitx5-gtk ]; }; services.xserver.enable = true; services.xserver.displayManager.sddm.enable = true; services.xserver.desktopManager.plasma6.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;$y$j9T$I9BXOYYJGTV/Yx5hM7YmJ/$0Mhrve6QTJW4qZtBHRqUG7dJnXWRmdjwkFkNMM0ARA3\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip zsh ntfs3g wqy_zenhei kitty microsoft-edge ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa XXXXX joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa XXXXX joyanhui@qq.com\u0026#34; ]; programs.wayfire = { enable = true; plugins = with pkgs.wayfirePlugins; [ wcm wf-shell wayfire-plugins-extra ]; }; users.defaultUserShell = pkgs.zsh; programs.zsh = { enable = true; enableCompletion = true; autosuggestions.enable = true; syntaxHighlighting.enable = true; shellAliases = { }; #history.size = 10000; #history.path = \u0026#34;${config.xdg.dataHome}/zsh/history\u0026#34;; }; system.stateVersion = \u0026#34;23.11\u0026#34;; } æ„å»º\n1 2 3 nix-channel --add https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable nixos nix-channel --update sudo nixos-rebuild switch --option substituters https://mirrors.ustc.edu.cn/nix-channels/store ","date":"2024-03-12T20:16:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/5dektop-kde/","title":"(5 kde Plasma æ¡Œé¢)nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"ç›®å½•ç»“æ„ 1 2 3 4 5 6 7 ls -lh /etc/nixos/ total 20K -rw-r--r-- 1 root root 2.3K Mar 12 19:45 configuration.nix -rw-r--r-- 1 root root 1.2K Mar 12 20:21 flake.lock -rw-r--r-- 1 root root 1.3K Mar 12 20:21 flake.nix -rw-r--r-- 1 root root 1.3K Mar 12 16:31 hardware-configuration.nix -rw-r--r-- 1 root root 669 Mar 12 20:20 home.nix configuration.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;vm-nixos\u0026#34;; # Define your hostname. nix.settings.experimental-features = [ \u0026#34;nix-command\u0026#34; \u0026#34;flakes\u0026#34; ]; time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;XXXXXXXXXXXXXXXX\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip fish ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa XXXX joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa XXXX joyanhui@qq.com\u0026#34; ]; system.stateVersion = \u0026#34;23.11\u0026#34;; } flake.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 { description = \u0026#34;NixOS configuration\u0026#34;; inputs = { nixpkgs.url = \u0026#34;github:nixos/nixpkgs/nixos-23.11\u0026#34;; home-manager = { url = \u0026#34;github:nix-community/home-manager/release-23.11\u0026#34;; inputs.nixpkgs.follows = \u0026#34;nixpkgs\u0026#34;; }; }; outputs = inputs@{ nixpkgs, home-manager, ... }: { nixosConfigurations = { # è¿™é‡Œçš„ vm-nixos æ›¿æ¢æˆä½ çš„ä¸»æœºåç§° vm-nixos = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix # å°† home-manager é…ç½®ä¸º nixos çš„ä¸€ä¸ª module # è¿™æ ·åœ¨ nixos-rebuild switch æ—¶ï¼Œhome-manager é…ç½®ä¹Ÿä¼šè¢«è‡ªåŠ¨éƒ¨ç½² home-manager.nixosModules.home-manager { home-manager.useGlobalPkgs = true; home-manager.useUserPackages = true; # è¿™é‡Œçš„ ryan ä¹Ÿå¾—æ›¿æ¢æˆä½ çš„ç”¨æˆ·å # è¿™é‡Œçš„ import å‡½æ•°åœ¨å‰é¢ Nix è¯­æ³•ä¸­ä»‹ç»è¿‡äº†ï¼Œä¸å†èµ˜è¿° home-manager.users.yh = import ./home.nix; # å–æ¶ˆæ³¨é‡Šä¸‹é¢è¿™ä¸€è¡Œï¼Œå°±å¯ä»¥åœ¨ home.nix ä¸­ä½¿ç”¨ flake çš„æ‰€æœ‰ inputs å‚æ•°äº† # home-manager.extraSpecialArgs = inputs; } ]; }; }; }; } home.nix 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { config, pkgs, ... }: { # æ³¨æ„ä¿®æ”¹è¿™é‡Œçš„ç”¨æˆ·åä¸ç”¨æˆ·ç›®å½• home.username = \u0026#34;yh\u0026#34;; home.homeDirectory = \u0026#34;/home/yh\u0026#34;; # ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œlnæ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½•ï¼Œæˆ–è€…ç›´æ¥textå†™æ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½• # é€šè¿‡ home.packages å®‰è£…ä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ # è¿™äº›è½¯ä»¶å°†ä»…åœ¨å½“å‰ç”¨æˆ·ä¸‹å¯ç”¨ï¼Œä¸ä¼šå½±å“ç³»ç»Ÿçº§åˆ«çš„é…ç½® # å»ºè®®å°†æ‰€æœ‰ GUI è½¯ä»¶ï¼Œä»¥åŠä¸ OS å…³ç³»ä¸å¤§çš„ CLI è½¯ä»¶ï¼Œéƒ½é€šè¿‡ home.packages å®‰è£… è¿™é‡Œå°±å®‰è£…äº†ä¸€ä¸ª neofetch home.packages = with pkgs;[ neofetch ]; home.stateVersion = \u0026#34;23.11\u0026#34;; # Let Home Manager install and manage itself. programs.home-manager.enable = true; } hardware-configuration.nix ä¸€èˆ¬ä¸ç”¨ç®¡ï¼Œä½ å¯ä»¥ä¿®æ”¹æˆby-lable\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 { config, lib, pkgs, modulesPath, ... }: { imports = [ ]; boot.initrd.availableKernelModules = [ \u0026#34;ata_piix\u0026#34; \u0026#34;uhci_hcd\u0026#34; \u0026#34;ehci_pci\u0026#34; \u0026#34;ahci\u0026#34; \u0026#34;nvme\u0026#34; \u0026#34;sr_mod\u0026#34; ]; boot.initrd.kernelModules = [ ]; boot.kernelModules = [ ]; boot.extraModulePackages = [ ]; fileSystems.\u0026#34;/\u0026#34; = { device = \u0026#34;/dev/disk/by-uuid/e762404a-c507-44c8-914d-936a37170a89\u0026#34;; fsType = \u0026#34;btrfs\u0026#34;; }; fileSystems.\u0026#34;/boot\u0026#34; = { device = \u0026#34;/dev/disk/by-uuid/2C95-235F\u0026#34;; fsType = \u0026#34;vfat\u0026#34;; }; swapDevices = [ { device = \u0026#34;/dev/disk/by-uuid/374a6b36-390c-45f0-8e00-22ef4389dd1c\u0026#34;; } ]; # Enables DHCP on each ethernet and wireless interface. In case of scripted networking # (the default) this is the recommended approach. When using systemd-networkd it\u0026#39;s # still possible to use this option, but it\u0026#39;s recommended to use it in conjunction # with explicit per-interface declarations with `networking.interfaces.\u0026lt;interface\u0026gt;.useDHCP`. networking.useDHCP = lib.mkDefault true; # networking.interfaces.ens160.useDHCP = lib.mkDefault true; nixpkgs.hostPlatform = lib.mkDefault \u0026#34;x86_64-linux\u0026#34;; } flake.lock 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 { \u0026#34;nodes\u0026#34;: { \u0026#34;home-manager\u0026#34;: { \u0026#34;inputs\u0026#34;: { \u0026#34;nixpkgs\u0026#34;: [ \u0026#34;nixpkgs\u0026#34; ] }, \u0026#34;locked\u0026#34;: { \u0026#34;lastModified\u0026#34;: 1706981411, \u0026#34;narHash\u0026#34;: \u0026#34;sha256-cLbLPTL1CDmETVh4p0nQtvoF+FSEjsnJTFpTxhXywhQ=\u0026#34;, \u0026#34;owner\u0026#34;: \u0026#34;nix-community\u0026#34;, \u0026#34;repo\u0026#34;: \u0026#34;home-manager\u0026#34;, \u0026#34;rev\u0026#34;: \u0026#34;652fda4ca6dafeb090943422c34ae9145787af37\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;github\u0026#34; }, \u0026#34;original\u0026#34;: { \u0026#34;owner\u0026#34;: \u0026#34;nix-community\u0026#34;, \u0026#34;ref\u0026#34;: \u0026#34;release-23.11\u0026#34;, \u0026#34;repo\u0026#34;: \u0026#34;home-manager\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;github\u0026#34; } }, \u0026#34;nixpkgs\u0026#34;: { \u0026#34;locked\u0026#34;: { \u0026#34;lastModified\u0026#34;: 1710162809, \u0026#34;narHash\u0026#34;: \u0026#34;sha256-i2R2bcnQp+85de67yjgZVvJhd6rRnJbSYNpGmB6Leb8=\u0026#34;, \u0026#34;owner\u0026#34;: \u0026#34;nixos\u0026#34;, \u0026#34;repo\u0026#34;: \u0026#34;nixpkgs\u0026#34;, \u0026#34;rev\u0026#34;: \u0026#34;ddcd7598b2184008c97e6c9c6a21c5f37590b8d2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;github\u0026#34; }, \u0026#34;original\u0026#34;: { \u0026#34;owner\u0026#34;: \u0026#34;nixos\u0026#34;, \u0026#34;ref\u0026#34;: \u0026#34;nixos-23.11\u0026#34;, \u0026#34;repo\u0026#34;: \u0026#34;nixpkgs\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;github\u0026#34; } }, \u0026#34;root\u0026#34;: { \u0026#34;inputs\u0026#34;: { \u0026#34;home-manager\u0026#34;: \u0026#34;home-manager\u0026#34;, \u0026#34;nixpkgs\u0026#34;: \u0026#34;nixpkgs\u0026#34; } } }, \u0026#34;root\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;version\u0026#34;: 7 } ","date":"2024-03-12T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/4base-cnf/","title":"(åŸºç¡€å®‰è£…çš„ç›®å½•ç»“æ„ å’Œæœ€ç»ˆé…ç½®æ–‡ä»¶ )nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"æœ¬æ–‡è®°å½•å…¨æ–°å®‰è£…ï¼Œä»¥VMware + efi ä¸ºä¾‹ ï¼Œæ¨¡æ‹ŸçœŸå®ç‰©ç†æœºçš„å®‰è£…ã€‚\nå‡†å¤‡ å®‰è£…é•œåƒ è¿™é‡Œç”¨ Minimal ISO image https://nixos.org/download.html#nix-more æ‰¾åˆ° Minimal ISO image ä¸‹è½½ æ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯ nixos-minimal-23.11.5213.b94a96839afc-x86_64-linux.iso\nå‡†å¤‡VMware VMwareåˆ›å»ºè™šæ‹Ÿæœº é€‰æ‹©è‡ªå®šä¹‰ å®‰è£…ç¨‹åºå…‰ç›˜æ˜ åƒé€‰æ‹© ä¸Šé¢ä¸‹è½½çš„ nixos-mino æ“ä½œç³»ç»Ÿ é€‰æ‹© linux å‘è¡Œç‰ˆ é€‰æ‹© Fedora 64 ä½ï¼ˆå¯ä»¥å¼€efiï¼‰ï¼Œcpuå’Œå†…å­˜è‡ªå·±çœ‹ç€å¼„ï¼Œç£ç›˜ç±»å‹è¿™é‡Œé€‰æ‹©nvmeï¼Œåˆ›å»ºæ–°è™šæ‹Ÿç£ç›˜ï¼Œ4Gä»¥ä¸Šå“¦ï¼Œæˆ‘è¿™é€‰20Gã€‚\né…ç½®è™šæ‹Ÿæœº å®Œæˆåä¸éœ€è¦å¯åŠ¨è™šæ‹Ÿæœºï¼Œé…ç½®è™šæ‹Ÿæœº åœ¨æ˜¾å¡çš„åœ°æ–¹ å¯ä»¥é€‰æ‹©æ‰“å¼€3DåŠ é€Ÿï¼Œä½†æ˜¯æ˜¾å­˜è°ƒæ•´ä¸€ä¸‹ï¼Œç»™512M-768M å°±å¤Ÿäº†ã€‚\nè™šæ‹Ÿçš„é€‰é¡¹ é«˜çº§é‡Œé¢ æœ‰å›ºä»¶ç±»å‹ é€‰ä¸ºefiã€‚\nå¯åŠ¨minimalå®‰è£…æ˜ åƒ å› ä¸ºè¿™é‡Œæ˜¯è™šæ‹Ÿæœºç¯å¢ƒï¼Œä¸€èˆ¬ä¸éœ€è¦é…ç½®ç½‘ç»œï¼Œæ‰€ä»¥ç›´æ¥è£…å°±å¯ä»¥ã€‚å¦‚æœä½ éœ€è¦é…ç½®ç½‘ç»œ å‚è€ƒ https://nixos.org/manual/nixos/stable/#sec-installation\nä¸ºäº†æ–¹ä¾¿ ï¼Œè¿˜æ˜¯æœ¬åœ°ç‰©ç†æœºsshè¿›å»æ“ä½œã€‚å…‰ç›˜ç¯å¢ƒ é»˜è®¤æ˜¯å¯†ç éƒ½æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥æ‰§è¡Œ sudu passwd ç»™rootè®¾ç½®ä¸€ä¸ªå¯†ç  ip aæŸ¥çœ‹ä¸€ä¸‹ip\nç„¶åæœ¬æœº ssh root@192.168.xx.xx è¿›å»ã€‚\nåˆ†åŒºé…ç½® æˆ‘è¿™é‡Œåˆ†ä¸‰ä¸ªåŒº åˆ†åˆ« efi / å’Œ swap\n1 2 3 4 5 6 7 8 9 parted /dev/nvme0n1 -- mklabel gpt parted /dev/nvme0n1 -- mkpart ESP fat32 1MB 512MB parted /dev/nvme0n1 -- mkpart primary 512MB -2GB parted /dev/nvme0n1 -- mkpart swap linux-swap -2GB 100% parted /dev/nvme0n1 -- set 1 esp on mkfs.fat -F 32 -n boot /dev/nvme0n1p1 mkfs.btrfs -L NIXOS /dev/nvme0n1p2 mkswap -L swap /dev/nvme0n1p3 æŸ¥çœ‹åˆ†åŒºæƒ…å†µ\n1 2 3 4 5 6 7 8 lsblk -o NAME,SIZE,TYPE,MOUNTPOINT,LABEL NAME SIZE TYPE MOUNTPOINT LABEL loop0 918.2M loop /nix/.ro-store sr0 964M rom /iso nixos-minimal-23.11-x86_64 nvme0n1 20G disk â”œâ”€nvme0n1p1 487M part boot â”œâ”€nvme0n1p2 17.7G part NIXOS â””â”€nvme0n1p3 1.9G part swap æŒ‚è½½ 1 2 3 4 mount /dev/disk/by-label/NIXOS /mnt mkdir -p /mnt/boot mount /dev/disk/by-label/boot /mnt/boot swapon /dev/nvme0n1p3 æ›´æ–°livecd è¿™ä¸€æ­¥éå¿…é¡»çš„ï¼Œnixçš„å›½å†…æºéƒ½ä¸ç¨³å®š ä½¿ç”¨ä¹‹å‰æœ€å¥½é—®ä¸€ä¸‹å“ªä¸ªæºåœ¨å½“å‰æ—¶é—´ä¸‹æ¯”è¾ƒé è°±ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 sudo -i nix-channel --add https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable nixpkgs # è®¢é˜…é•œåƒä»“åº“é¢‘é“ nix-channel --add https://mirrors.ustc.edu.cn/nix-channels/nixos-23.11 nixos # è¯·æ³¨æ„ç³»ç»Ÿç‰ˆæœ¬ nix-channel --list ---------------------------- #nixos https://mirrors.ustc.edu.cn/nix-channels/nixos-23.11 #nixpkgs https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable ---------------------------- nix-channel --update # æ›´æ–°å¹¶è§£åŒ…é¢‘é“ # nixos-rebuild --option substituters https://mirrors.ustc.edu.cn/nix-channels/store switch --upgrade # ä¸´æ—¶åˆ‡æ¢äºŒè¿›åˆ¶ç¼“å­˜æºï¼Œå¹¶æ›´æ–°ç”Ÿæˆ nixos-rebuild --option substituters https://mirror.sjtu.edu.cn/nix-channels/store switch --upgrade # ä¸´æ—¶åˆ‡æ¢äºŒè¿›åˆ¶ç¼“å­˜æºï¼Œå¹¶æ›´æ–°ç”Ÿæˆ åˆ›å»ºå’Œç¼–è¾‘ nixé…ç½® ç”Ÿæˆä¸€ä¸ªåŸºç¡€çš„ 1 nixos-generate-config --root /mnt ç®€å•ä¿®æ”¹ä¸€ä¸‹ /mnt/etc/nixos ä¸‹é»˜è®¤æœ‰ä¸¤ä¸ªæ–‡ä»¶ configuration.nix å’Œ hardware-configuration.nix ã€‚configuration æ˜¯nixosç›®å‰çš„å”¯ä¸€é…ç½®æ–‡ä»¶ï¼Œhardware-configurationæ˜¯ç¡¬ä»¶ç›¸å…³çš„ï¼Œé‡Œé¢é»˜è®¤åªæœ‰nixos-generate-configå¸®ä½ ç”Ÿæˆçš„ç¡¬ç›˜æŒ‚è½½ä¿¡æ¯ã€‚\nç›®å‰æˆ‘ä»¬å¹¶æ²¡æœ‰ å¯ç”¨ flakes æ‰€ä»¥ æ²¡æœ‰flakesç›¸å…³çš„ã€‚ æ–°æ–‡ç« ä¼šåŒ…å«flakesçš„ç›¸å…³å†…å®¹\n1 2 cd /mnt/etc/nixos nano configuration.nix ä¸‹æ–‡ä¸­å‡ ä¸ªç‰¹åˆ«è¯´æ˜\nvirtualisation.vmware.guest.enable = true; å¯ç”¨ vmtools nixpkgs.config.allowUnfree = true; æ˜¯å¦ä½¿ç”¨éå¼€æºè‡ªç”±è½¯ä»¶ï¼ŒæŒ‰éœ€è¦å¼€å¯ users.mutableUsers = false; ç¦æ­¢ä½¿ç”¨useradd ä¹‹ç±»çš„æŒ‡ä»¤æ·»åŠ æ–°ç”¨æˆ· æŒ‰éœ€è¦ users.users.yh= è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç”¨æˆ· ç”¨æˆ·åä¸º yh ä½ å¯ä»¥åˆ æ‰æ•´æ®µ é‡Œé¢çš„ hashedPassword æ˜¯è¿™ä¸ªç”¨æˆ·çš„å¯†ç hash sound.enable 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;nixos\u0026#34;; # Define your hostname. time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;*************\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa *** joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa *** joyanhui@qq.com\u0026#34; ]; system.stateVersion = \u0026#34;23.11\u0026#34;; } å®‰è£… 1 2 cd /mnt nixos-install --show-trace --option substituters https://mirror.sjtu.edu.cn/nix-channels/store å®‰è£…å®Œæˆå å®‰è£…æœ€åä¼šè®©ä½ è¾“å…¥rootå¯†ç ï¼Œä½†æ˜¯å¶å°”ä¼šæ— æ•ˆï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬åˆ‡æ¢åˆ°æ–°ç³»ç»Ÿé‡Œé¢ é…ç½®rootå¯†ç \n1 2 nixos-enter # è¿›å…¥éƒ¨ç½²å¥½çš„ç³»ç»Ÿï¼Œç±»ä¼¼ arch çš„ chroot passwd root # é‡ç½® root å¯†ç  å¦‚æœä½ éœ€è¦æ‰‹åŠ¨æ·»åŠ ç”¨æˆ·\n1 2 useradd -m -G wheel username1 # æ·»åŠ æ™®é€šç”¨æˆ·ï¼Œå¹¶åŠ å…¥ wheel ç»„ passwd username1 # è®¾ç½®æ™®é€šè´¦æˆ·å¯†ç  åˆ‡æ¢åˆ°flakes åŸºç¡€å®‰è£…å‚è€ƒ\n","date":"2024-03-12T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/1base-install/","title":"å…¥é—¨å®‰è£…ï¼ˆnixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os ï¼‰"},{"content":"åŸºæœ¬å®‰è£… åœ¨æƒ³ä½¿ç”¨flakesä¹‹å‰ä½ æœ€å¥½å¯¹nixosæœ‰åˆæ­¥çš„äº†è§£ï¼ŒçŸ¥é“ configuration.nix çš„åŸºæœ¬é…ç½® åŸºç¡€å®‰è£…å‚è€ƒã€‚ flakeå‚è€ƒã€‚\nä½¿ç”¨ Home Manager å¿…é¡»æœ‰è‰¯å¥½çš„ç½‘ç»œç¯å¢ƒï¼Œæ„å‘³ç€ä½ éœ€è¦è§£å†³ç§‘å­¦ä¸Šç½‘çš„é—®é¢˜ã€‚\n/etc/nixos/home.nix åˆ›å»º/etc/nixos/home.nix\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { config, pkgs, ... }: { # æ³¨æ„ä¿®æ”¹è¿™é‡Œçš„ç”¨æˆ·åä¸ç”¨æˆ·ç›®å½• home.username = \u0026#34;yh\u0026#34;; home.homeDirectory = \u0026#34;/home/yh\u0026#34;; # ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œlnæ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½•ï¼Œæˆ–è€…ç›´æ¥textå†™æ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½• # é€šè¿‡ home.packages å®‰è£…ä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ # è¿™äº›è½¯ä»¶å°†ä»…åœ¨å½“å‰ç”¨æˆ·ä¸‹å¯ç”¨ï¼Œä¸ä¼šå½±å“ç³»ç»Ÿçº§åˆ«çš„é…ç½® # å»ºè®®å°†æ‰€æœ‰ GUI è½¯ä»¶ï¼Œä»¥åŠä¸ OS å…³ç³»ä¸å¤§çš„ CLI è½¯ä»¶ï¼Œéƒ½é€šè¿‡ home.packages å®‰è£… è¿™é‡Œå°±å®‰è£…äº†ä¸€ä¸ª neofetch home.packages = with pkgs;[ neofetch ]; home.stateVersion = \u0026#34;23.11\u0026#34;; # Let Home Manager install and manage itself. programs.home-manager.enable = true; } ä¿®æ”¹/etc/nixos/flake.nix åŸå§‹å†…å®¹\n1 2 3 4 5 6 7 8 9 { outputs = { self, nixpkgs }: { # replace \u0026#39;vm-nixo\u0026#39; with your hostname here. nixosConfigurations.vm-nixos = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix ]; }; }; } ä¿®æ”¹ä¸º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 { description = \u0026#34;NixOS configuration\u0026#34;; inputs = { nixpkgs.url = \u0026#34;github:nixos/nixpkgs/nixos-23.11\u0026#34;; home-manager = { url = \u0026#34;github:nix-community/home-manager/release-23.11\u0026#34;; inputs.nixpkgs.follows = \u0026#34;nixpkgs\u0026#34;; }; }; outputs = inputs@{ nixpkgs, home-manager, ... }: { nixosConfigurations = { # è¿™é‡Œçš„ vm-nixos æ›¿æ¢æˆä½ çš„ä¸»æœºåç§° vm-nixos = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix # å°† home-manager é…ç½®ä¸º nixos çš„ä¸€ä¸ª module # è¿™æ ·åœ¨ nixos-rebuild switch æ—¶ï¼Œhome-manager é…ç½®ä¹Ÿä¼šè¢«è‡ªåŠ¨éƒ¨ç½² home-manager.nixosModules.home-manager { home-manager.useGlobalPkgs = true; home-manager.useUserPackages = true; # è¿™é‡Œçš„ ryan ä¹Ÿå¾—æ›¿æ¢æˆä½ çš„ç”¨æˆ·å # è¿™é‡Œçš„ import å‡½æ•°åœ¨å‰é¢ Nix è¯­æ³•ä¸­ä»‹ç»è¿‡äº†ï¼Œä¸å†èµ˜è¿° home-manager.users.yh = import ./home.nix; # å–æ¶ˆæ³¨é‡Šä¸‹é¢è¿™ä¸€è¡Œï¼Œå°±å¯ä»¥åœ¨ home.nix ä¸­ä½¿ç”¨ flake çš„æ‰€æœ‰ inputs å‚æ•°äº† # home-manager.extraSpecialArgs = inputs; } ]; }; }; }; } æ„å»º 1 2 3 sudo nixos-rebuild switch --flake \u0026#39;/etc/nixos#vm-nixos\u0026#39; # å¦‚æœä¸»æœºåä¸€æ ·ï¼Œå¯ä»¥å¿½ç•¥flakeå‚æ•° sudo nixos-rebuild switch è¿™æ ·æ„å»ºå®Œæˆå ç”¨æˆ·yh å°±å¯ä»¥ä½¿ç”¨ neofetch\nè¿›é˜¶ flake.nix å’Œ Home Manager ","date":"2024-03-12T00:16:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/3base-install-home/","title":"(å…¥é—¨å®‰è£… 3 ä½¿ç”¨ Home Manager )nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"åŸºæœ¬æŒ‰ç…§ åœ¨æƒ³ä½¿ç”¨flakesä¹‹å‰ä½ æœ€å¥½å¯¹nixosæœ‰åˆæ­¥çš„äº†è§£ï¼ŒçŸ¥é“ configuration.nix çš„åŸºæœ¬é…ç½® åŸºç¡€å®‰è£…å‚è€ƒã€‚\nè¿™é‡Œåªéœ€è¦ä¿®æ”¹ configuration.nix æ·»åŠ ä¸€è¡Œ nix.settings.experimental-features = [ \u0026quot;nix-command\u0026quot; \u0026quot;flakes\u0026quot; ]; å¦å¤–ç¼–è¾‘ä¸€ä¸‹æˆ–è€…è®°å½•ä¸€ä¸‹ hostname networking.hostName = \u0026quot;vm-nixos\u0026quot;; å› ä¸º flakeså¯ä»¥æ ¹æ®ä¸åŒçš„hostnameåšä¸åŒçš„é…ç½®\nåŸºæœ¬çš„ flake.nix åˆ›å»ºä¸€ä¸ª flake.nix å¦‚æœä½ æ˜¯æŒ‰ç…§å‰æ–‡æ–°å®‰è£…çš„ é‚£ä¹ˆ è·¯å¾„åº”è¯¥æ˜¯ /mnt/etc/nixos/flake.nix å¦åˆ™æ˜¯ /etc/nixos/flake.nix\n1 2 3 4 5 6 7 8 9 { outputs = { self, nixpkgs }: { # replace \u0026#39;vm-nixo\u0026#39; with your hostname here. nixosConfigurations.vm-nixos = nixpkgs.lib.nixosSystem { system = \u0026#34;x86_64-linux\u0026#34;; modules = [ ./configuration.nix ]; }; }; } è¿™é‡Œå¤§æ¦‚çš„æ„æ€ æ˜¯ å†è·³è½¬å›å» configuration.nix è¿™æ ·å°±å¯ä»¥ ç»§ç»­ä½¿ç”¨åŸæ¥çš„ é…ç½®ã€‚\nä¿®æ”¹åçš„configuration.nix å‚è€ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 cat /etc/nixos/configuration.nix { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirror.sjtu.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;vm-nixos\u0026#34;; # Define your hostname. nix.settings.experimental-features = [ \u0026#34;nix-command\u0026#34; \u0026#34;flakes\u0026#34; ]; time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;XXXXX\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip fish ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;XXXXX joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;XXXXX joyanhui@qq.com\u0026#34; ]; system.stateVersion = \u0026#34;23.11\u0026#34;; } æ„å»º 1 sudo nixos-rebuild switch --option substituters https://mirror.sjtu.edu.cn/nix-channels/store ä¹Ÿå¯ä»¥ # åé¢æ˜¯hostname\n1 sudo nixos-rebuild switch --flake \u0026#39;/etc/nixos#vm-nixos\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store å¦‚æœæ˜¯æ–°å®‰è£…çš„ è¦ç›´æ¥å¯ç”¨flake ä¸€èˆ¬å¿…é¡»ä½¿ç”¨ \u0026ndash;flake å› ä¸ºlivecdçš„hostnameå’Œä½ é…ç½®æ–‡ä»¶çš„ä¸ä¸€æ ·çš„å“¦\n1 nixos-install --show-trace --flake \u0026#39;/mnt/etc/nixos#vm-nixos\u0026#39; --option substituters https://mirror.sjtu.edu.cn/nix-channels/store è¿›é˜¶ flake.nix å’Œ Home Manager Home Managerã€‚\n","date":"2024-03-12T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/nixos/2base-install-flakes/","title":"(å…¥é—¨å®‰è£… 2 ä½¿ç”¨ flakes)nixos ä»0å®ç°å…¨é›†  æ¢¦ä¸­æƒ…os"},{"content":"æœ¬æ–‡ä¸å†æ›´æ–°ï¼Œå»ºè®®æŸ¥çœ‹ https://dev.leiyanhui.com/nixos/start/\nç¡¬ç›˜ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 echo -e \u0026#34;mklabel gpt \\nmkpart ESP fat32 1MiB 512MiB \\nset 1 esp on \\nmkpart primary 512MiB 100% \\nquit\u0026#34; | parted /dev/nvme0n1 mkfs.fat -F 32 /dev/nvme0n1p1 #dosfslabel /dev/nvme0n1p1 EFI mkfs.btrfs -L NIXOS /dev/nvme0n1p2 mount /dev/nvme0n1p2 /mnt # å°†æ ¹åˆ†åŒºæŒ‚è½½åˆ° /mnt ä¸‹ btrfs subvolume create /mnt/root # åˆ›å»º root å­å· btrfs subvolume create /mnt/home # åˆ›å»º home å­å· btrfs subvolume create /mnt/nix # åˆ›å»º nix å­å· umount /mnt # å–æ¶ˆæŒ‚è½½ mount -o compress=zstd,subvol=root /dev/nvme0n1p2 /mnt # å¯ç”¨é€æ˜å‹ç¼©å‚æ•°æŒ‚è½½ root å­å· mkdir /mnt/{home,nix,boot} # åˆ›å»º homeï¼Œnixï¼Œboot ç›®å½• mount -o compress=zstd,subvol=home /dev/nvme0n1p2 /mnt/home # å¯ç”¨é€æ˜å‹ç¼©å‚æ•°æŒ‚è½½ home å­å· mount -o compress=zstd,noatime,subvol=nix /dev/nvme0n1p2 /mnt/nix # å¯ç”¨é€æ˜å‹ç¼©å¹¶ä¸è®°å½•æ—¶é—´æˆ³å‚æ•°æŒ‚è½½ nix å­å· mount /dev/nvme0n1p1 /mnt/boot # æŒ‚è½½ boot nixos-generate-config --root /mnt cd /mnt/etc/nixos/ sed -i \u0026#39;s/ \\[ \u0026#34;subvol=root\u0026#34; \\]/ \\[ \u0026#34;subvol=nix\u0026#34; \u0026#34;compress=zstd\u0026#34; \\]/g\u0026#39; hardware-configuration.nix sed -i \u0026#39;s/ \\[ \u0026#34;subvol=home\u0026#34; \\]/ \\[ \u0026#34;subvol=nix\u0026#34; \u0026#34;compress=zstd\u0026#34; \\]/g\u0026#39; hardware-configuration.nix sed -i \u0026#39;s/ \\[ \u0026#34;subvol=nix\u0026#34; \\]/ \\[ \u0026#34;subvol=nix\u0026#34; \u0026#34;compress=zstd\u0026#34; \u0026#34;noatime\u0026#34; \\]/g\u0026#39; hardware-configuration.nix configuration.nix base with zsh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;nixos\u0026#34;; # Define your hostname. time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;$y$j9T$I9BXOYYJGTV/Yx5hM7YmJ/$0Mhrve6QTJW4qZtBHRqUG7dJnXWRmdjwkFkNMM0ARA3\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip zsh wqy_zenhei ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDwkV1nzSvgoklrfinn8BzxveOPd0UPY1sYwwMMMQrjoAih1PZldT8LcA6zqUsERLXGHf2qy1gSdMFomAAejDEo1aU0PmaGGX4+LWgvlH2xvr3MlbItWLwbXYQdhsfqKu93Qnt7aODJ1Ts2kzp7CP1yR1O4BFUemfnPMVyj07Vj70yg1nDPIXxCPzcMEsJ1OGUduCaDqNA8Ag+TmSSCM+E9rEgMEAcRqpziQYeUEU/RASRYPDeDj5kE81qcDDhseknTFGGa99yZU1R+zuVh4IQEZnr0rZbty0noRFU4AFgMxKaMXwrusjOoX62pEQ0KKU7+pJoKgzVNSFDwt7j50PgOXCue3cqi3Rf4zMpVPkrJP2V+ELR44i/PNHP0GflaNU0RumX8jwScqxMT/NOAdsPs5fRIiUocDXASypjM/2dpJ9wlmmU+ngVFba316Q1kff1LQ0NH5kmKs5DDmL+vbC8wcWuwVuZty2FPJwpdxXK1Oax8GEw4WIM6QjJJ4jqh//k= joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDwkV1nzSvgoklrfinn8BzxveOPd0UPY1sYwwMMMQrjoAih1PZldT8LcA6zqUsERLXGHf2qy1gSdMFomAAejDEo1aU0PmaGGX4+LWgvlH2xvr3MlbItWLwbXYQdhsfqKu93Qnt7aODJ1Ts2kzp7CP1yR1O4BFUemfnPMVyj07Vj70yg1nDPIXxCPzcMEsJ1OGUduCaDqNA8Ag+TmSSCM+E9rEgMEAcRqpziQYeUEU/RASRYPDeDj5kE81qcDDhseknTFGGa99yZU1R+zuVh4IQEZnr0rZbty0noRFU4AFgMxKaMXwrusjOoX62pEQ0KKU7+pJoKgzVNSFDwt7j50PgOXCue3cqi3Rf4zMpVPkrJP2V+ELR44i/PNHP0GflaNU0RumX8jwScqxMT/NOAdsPs5fRIiUocDXASypjM/2dpJ9wlmmU+ngVFba316Q1kff1LQ0NH5kmKs5DDmL+vbC8wcWuwVuZty2FPJwpdxXK1Oax8GEw4WIM6QjJJ4jqh//k= joyanhui@qq.com\u0026#34; ]; users.defaultUserShell = pkgs.zsh; programs.zsh = { enable = true; enableCompletion = true; autosuggestions.enable = true; syntaxHighlighting.enable = true; shellAliases = { }; #history.size = 10000; #history.path = \u0026#34;${config.xdg.dataHome}/zsh/history\u0026#34;; }; system.stateVersion = \u0026#34;23.11\u0026#34;; } configuration.nix with kde6 and wayfire 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 { config, lib, pkgs, ... }: { imports = [ ./hardware-configuration.nix ]; boot.loader.systemd-boot.enable = true; boot.loader.efi.canTouchEfiVariables = true; nix.settings.substituters = [ \u0026#34;https://mirrors.ustc.edu.cn/nix-channels/store\u0026#34; ]; nixpkgs.config.allowUnfree = true; networking.hostName = \u0026#34;nixos\u0026#34;; # Define your hostname. time.timeZone = \u0026#34;Asia/Shanghai\u0026#34;; virtualisation.vmware.guest.enable = true; i18n.inputMethod = { enabled = \u0026#34;fcitx5\u0026#34;; fcitx5.addons = with pkgs; [ fcitx5-chinese-addons fcitx5-gtk ]; }; services.xserver.enable = true; services.xserver.displayManager.sddm.enable = true; services.xserver.desktopManager.plasma6.enable = true; sound.enable = true; users.mutableUsers = false; # ç¦æ­¢useraddæ·»åŠ ç”¨æˆ· #security.sudo.wheelNeedsPassword = false; users.users.yh= { #ç”¨æˆ·åæ˜¯yh isNormalUser = true; hashedPassword = \u0026#34;$y$j9T$I9BXOYYJGTV/Yx5hM7YmJ/$0Mhrve6QTJW4qZtBHRqUG7dJnXWRmdjwkFkNMM0ARA3\u0026#34;; extraGroups = [ \u0026#34;wheel\u0026#34; \u0026#34;users\u0026#34; ]; }; environment.systemPackages = with pkgs; [ wget curl unzip zsh ntfs3g wqy_zenhei kitty microsoft-edge ]; services.openssh.enable = true; users.users.root.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDwkV1nzSvgoklrfinn8BzxveOPd0UPY1sYwwMMMQrjoAih1PZldT8LcA6zqUsERLXGHf2qy1gSdMFomAAejDEo1aU0PmaGGX4+LWgvlH2xvr3MlbItWLwbXYQdhsfqKu93Qnt7aODJ1Ts2kzp7CP1yR1O4BFUemfnPMVyj07Vj70yg1nDPIXxCPzcMEsJ1OGUduCaDqNA8Ag+TmSSCM+E9rEgMEAcRqpziQYeUEU/RASRYPDeDj5kE81qcDDhseknTFGGa99yZU1R+zuVh4IQEZnr0rZbty0noRFU4AFgMxKaMXwrusjOoX62pEQ0KKU7+pJoKgzVNSFDwt7j50PgOXCue3cqi3Rf4zMpVPkrJP2V+ELR44i/PNHP0GflaNU0RumX8jwScqxMT/NOAdsPs5fRIiUocDXASypjM/2dpJ9wlmmU+ngVFba316Q1kff1LQ0NH5kmKs5DDmL+vbC8wcWuwVuZty2FPJwpdxXK1Oax8GEw4WIM6QjJJ4jqh//k= joyanhui@qq.com\u0026#34; ]; users.users.yh.openssh.authorizedKeys.keys = [ \u0026#34;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDwkV1nzSvgoklrfinn8BzxveOPd0UPY1sYwwMMMQrjoAih1PZldT8LcA6zqUsERLXGHf2qy1gSdMFomAAejDEo1aU0PmaGGX4+LWgvlH2xvr3MlbItWLwbXYQdhsfqKu93Qnt7aODJ1Ts2kzp7CP1yR1O4BFUemfnPMVyj07Vj70yg1nDPIXxCPzcMEsJ1OGUduCaDqNA8Ag+TmSSCM+E9rEgMEAcRqpziQYeUEU/RASRYPDeDj5kE81qcDDhseknTFGGa99yZU1R+zuVh4IQEZnr0rZbty0noRFU4AFgMxKaMXwrusjOoX62pEQ0KKU7+pJoKgzVNSFDwt7j50PgOXCue3cqi3Rf4zMpVPkrJP2V+ELR44i/PNHP0GflaNU0RumX8jwScqxMT/NOAdsPs5fRIiUocDXASypjM/2dpJ9wlmmU+ngVFba316Q1kff1LQ0NH5kmKs5DDmL+vbC8wcWuwVuZty2FPJwpdxXK1Oax8GEw4WIM6QjJJ4jqh//k= joyanhui@qq.com\u0026#34; ]; programs.wayfire = { enable = true; plugins = with pkgs.wayfirePlugins; [ wcm wf-shell wayfire-plugins-extra ]; }; users.defaultUserShell = pkgs.zsh; programs.zsh = { enable = true; enableCompletion = true; autosuggestions.enable = true; syntaxHighlighting.enable = true; shellAliases = { }; #history.size = 10000; #history.path = \u0026#34;${config.xdg.dataHome}/zsh/history\u0026#34;; }; system.stateVersion = \u0026#34;23.11\u0026#34;; } å‘½ä»¤ 1 2 3 4 5 ix-channel --add https://mirrors.ustc.edu.cn/nix-channels/nixpkgs-unstable nixos nix-channel --update sudo nixos-rebuild switch --option substituters https://mirrors.ustc.edu.cn/nix-channels/store cd /mnt nixos-install --show-trace --option substituters https://mirrors.ustc.edu.cn/nix-channels/store ","date":"2024-03-12T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/nixos-install/","title":"nixosåŸºç¡€å®‰è£… å’Œå¸¦æ¡Œé¢å®‰è£…"},{"content":"æƒŠé—»å¾®ä¿¡å‡ºlinuxç‰ˆï¼Œä¸€å¼€å§‹ä»¥ä¸ºæ˜¯uosçš„é‚£ä¸ªwebå¾®ä¿¡å‡çº§äº†ã€‚åæ¥çŸ¥é“æ˜¯åŸç”Ÿæµ‹è¯•ç‰ˆæœ¬ã€‚ å½“ç„¶åªæ”¯æŒé“¶æ²³éº’éºŸå’Œç»Ÿä¿¡ï¼Œä¸è¿‡æœ‰è§£å†³é¢å‘ã€‚\næ–°ç‰ˆå¾®ä¿¡ debian12 å¯ä»¥ç›´æ¥å®‰è£…\n1 2 3 https://www.52pojie.cn/thread-1896902-1-1.html # ä¸‹è½½åœ°å€ https://cloud.cnxclm.com/s/XOxIb?path=%2F%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95 ä¸ä¸€å®šéœ€è¦\n1 mkdir /usr/lib/license/ \u0026amp;\u0026amp; cp ./libuosdevicea.so /usr/lib/license/ å¸è½½å’Œå®‰è£… 1 2 3 4 5 6 sudo apt install dpkg-dev # éå¿…é¡» sudo apt install ./store.spark-app.wechat-linux-spark_2.2-real-1.0.0.145_amd64.deb killall wechat sudo apt purge store.spark-app.wechat-linux-spark ä½“éªŒ æ¯”winçš„å¾®ä¿¡å·®äº†ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ï¼Œæ¯”webå¾®ä¿¡å¼ºäº†ä¹Ÿä¸æ˜¯ä¸€ç‚¹åŠç‚¹ ã€‚\nå†…å­˜ æœ‰ä¸€ä¸ªweichaè¿›ç¨‹80-150Må†…å­˜ æœ‰å‡ ä¸ª wechatAPPexè¿›ç¨‹ æ¯ä¸ª 8-80Mä¸ç­‰ æ€»å…± 400Må†…å­˜å·¦å³ã€‚ xwaylandå’Œxorg ä¸‹fcitx5 éƒ½ä¸éœ€è¦å•ç‹¬å¤„ç† ç›´æ¥å¯ç”¨ã€‚\næ‰˜ç›˜å›¾æ ‡æœ‰ï¼Œä½†æ˜¯å³é”®æ²¡ååº” killall wechat å°±è¡Œäº†ã€‚ æœ‰æ—¶å€™éœ€è¦ç‚¹å‡»ä¸¤æ¬¡æ‰å¯ä»¥å”¤èµ·å¾®ä¿¡çª—å£ gnome dashå›¾æ ‡ç©ºç™½çš„è“è‰²é½¿è½®å›¾ æ¶ˆæ¯æé†’ä¸æ˜¾ç¤ºæ¶ˆæ¯å†…å®¹ åªæœ‰ \u0026ldquo;wechat is ready\u0026rdquo; waylandä¸‹æˆªå›¾ä¸å¯ç”¨ é»‘å±ï¼Œxorgä¸‹æ­£å¸¸ã€‚alt+x æˆªå›¾å¿«æ·é”®æ­£å¸¸ æ²¡æœ‰ç¾¤æ¶ˆæ¯æŠ˜å  ç¾¤å¤ªå¤šçš„è¯ä¾æ—§è›‹ç–¼ ç»´æŒå’Œ æŸä¸€ä¸ªå¥½å‹çš„å¯¹è¯æ¡†çš„æƒ…å†µä¸‹ï¼Œæ”¶åˆ°å¥½å‹æ¶ˆæ¯åï¼Œæ‰‹æœºä¹Ÿä¼šæé†’ã€‚(webå¾®ä¿¡ä¸å¯ä»¥ï¼Œéå¸¸å®¹æ˜“æ¼æ¶ˆæ¯) æ²¡æœ‰æš—é»‘æ¨¡å¼é€‚é…ï¼Œç™½æ™ƒæ™ƒçš„äº®ççœ¼ç› èŠå¤©è®°å½•æ²¡æœ‰æ¸…ç†åŠŸèƒ½ã€‚å¯ä»¥åˆ é™¤æ¶ˆæ¯ä½†æ˜¯åªèƒ½ä¸€æ¡ä¸€æ¡çš„ã€‚ è¢«åŠ å¥½å‹ æ²¡æœ‰ä»»ä½•æé†’ æ²¡æœ‰æœ‹å‹åœˆåŠŸèƒ½ï¼Œæœ‰å°ç¨‹åº çœ‹ä¸€çœ‹ è§†é¢‘å· ç¾¤èŠå†…æ— æ³•ç‚¹å‡»å¥½å‹å¤´åƒè½¬ç§èŠ æŸ¥çœ‹å›¾ç‰‡åŠŸèƒ½ escæ— æ•ˆè¦ alt+f4 è²Œä¼¼æ˜¯qtå¼€å‘çš„ï¼Œå‘é€æ–‡ä»¶çš„é€‰æ‹©æ–‡ä»¶å¯¹è¯æ¡† æ•´ä¸ªä¸Šå¤é£ï¼Œä¸è¿‡å¯ä»¥è¾“å…¥è·¯å¾„å‰ç¼€å®šä½æ–‡ä»¶ã€‚ æ¶ˆæ¯ä¸èƒ½æ’¤å›ï¼ï¼ï¼ æ®è¯´åœ¨éº’éºŸå’Œuosä¸‹æ‰˜ç›˜å’Œæ¶ˆæ¯æé†’åŠŸèƒ½é€‚é…çš„ä¸é”™ï¼Œä½†æ˜¯debianä¸‹ åªèƒ½å‡‘åˆç”¨\nå…¶ä»–å‚è€ƒ https://www.52pojie.cn/thread-1896902-1-1.html\n","date":"2024-03-07T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/wecha-new-debian/","title":"debian12å®‰è£…å¾®ä¿¡åŸç”Ÿç‰ˆ éweb éelectron éwine"},{"content":"å‰åå°è¯•äº†ä¸€åœˆç¬”è®°è½¯ä»¶ æœ€ååœç•™åœ¨æ€æºï¼Œä½†æ˜¯å› ä¸ºé™¤äº†æ€æºçš„é»‘å†å²çš„è†ˆåº”å’Œæœ€è¿‘çš„åŒæ­¥æ”¶è´¹é—®é¢˜ã€‚æ€æºæœ¬èº«ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ã€‚æ‰€ä»¥å°è¯•äº†ä¸€ä¸‹outlineã€‚\nè¿ç§»è¿‡ç¨‹è¯´æ˜ æ€æºé€ä¸ªå¯¼å‡ºmd.zip é€ä¸ªè§£å‹åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ç„¶åå‹ç¼©æˆzip å¯¼å…¥åˆ°outlineã€‚ å¦‚æœæ–‡æ¡£ç¬”è®°å¤šï¼Œå¯ä»¥ç°åœ¨æ€æºæŠŠå¤šä¸ªæ–‡æ¡£åˆå¹¶åˆ°3-5ä¸ªæ–‡æ¡£çš„å­æ–‡æ¡£é‡Œé¢å†å¯¼å‡ºmdã€‚\n::: ä¸¢å¤±éƒ¨åˆ†å†…è”å˜æˆçº¯æ–‡æœ¬äº†ã€‚ éƒ¨åˆ†å›¾ç‰‡åœ°å€æœ‰è¯¯ã€‚\nä½“éªŒä¸å¥½çš„åœ°æ–¹ æ²¡æœ‰å¤šæ–‡ä»¶ç¼–è¾‘ éœ€è¦ç”¨æ”¶è—åŠŸèƒ½æˆ–è€…æµè§ˆå™¨çš„å¤šæ ‡ç­¾æ›¿ä»£å¤šæ ‡ç­¾åˆ‡æ¢ï¼Œ ä¸¤ä¸ªè¿ç»­çš„åŒºå—ï¼ˆä»£ç åº“ æç¤º å¼•ç”¨ä¹‹ç±»çš„ï¼‰ä¸­é—´æ— æ³•æ’å…¥æ–°å†…å®¹ï¼Œéœ€è¦åˆ é™¤åé¢çš„å†…å®¹åŠ ç©ºè¡Œåé‡æ–°ç²˜è´´ï¼ˆæˆ–è€…æ˜¯æˆ‘ä¸ä¼šï¼‰ åœ¨ä¸Šä¸€ä¸ªåŒºå—çš„æœ«è¡Œç©ºè¡Œå›è½¦å³å¯ éœ€è¦pgsql redis è¿˜æœ‰å¼ºåˆ¶s3å‚¨å­˜ ç¬¬ä¸‰æ–¹ç™»é™†ç­‰ éƒ¨ç½²éº»çƒ¦ä¸€ä¸¢ä¸¢ï¼Œç”¨äº†vicalloy/outline-docker-compose ç›´æ¥æä¹Ÿè¿˜å¥½ è²Œä¼¼æ²¡æœ‰aiæ”¯æŒ è¯•äº†è¯•Codeiumçš„æµè§ˆå™¨æ’ä»¶å¥½åƒè¯†åˆ«ä¸äº†ï¼Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°è§£å†³åŠæ³•å…ˆå¿ä¸€ä¸‹ã€‚ ä¹Ÿæ²¡æœ‰çº¯mdä»£ç ç¼–è¾‘æ¨¡å¼ çˆ½ç‚¹ å¤šäººåä½œ è¯„è®ºåŠŸèƒ½ urlåˆ†äº« å†å²è®°å½• æ¨¡æ¿åŠŸèƒ½ç›´è§‚æ˜“ç”¨ï¼Œå¯ä»¥åœ¨outlineç›´æ¥å†™hugo hexo vuepressçš„è‰ç¨¿ æ•´ä¸ªå·¥ä½œåŒºå¯¼å‡ºä¸ºmd å¤åˆ¶mdåˆ°å‰ªåˆ‡æ¿ï¼ˆæ€æºçš„éœ€è¦å•ç‹¬çš„ä¸»é¢˜æ’ä»¶æ‰æ”¯æŒï¼Œè²Œä¼¼é‚£ä¸ªä¸»é¢˜ä¹Ÿè¢«ä¸‹æ¶äº†ï¼‰ å’Œæ€æºä¸€æ ·æ”¯æŒwebéƒ¨ç½²ï¼Œç§»åŠ¨ç‰ˆå¤šå¹³å°å¯ä»¥ç›´æ¥webappï¼Œæ›´æ˜¯æ”¯æŒå¤šç”¨æˆ· å®‰è£…è¿‡ç¨‹ clone vicalloyçš„è„šæœ¬ 1 2 3 4 5 mkdir -p /myfile/outline \u0026amp;\u0026amp; cd /myfile/outline echo \u0026#34;https://github.com/vicalloy/outline-docker-compose.git\u0026#34;\u0026gt;/myfile/outline/README_outline-docker-compose.md git clone https://github.com/vicalloy/outline-docker-compose.git cd outline-docker-compose cp scripts/config.sh.sample scripts/config.sh ç®€å•ä¿®æ”¹ ä¿®æ”¹ç‚¹\nè¯­è¨€ DEFAULT_LANGUAGE æ—¶åŒº TIME_ZONE nginxç«¯å£å’Œip HTTP_PORT_IP HTTP_IP outlineç‰ˆæœ¬ OUTLINE_VERSION nasä¸Šç»Ÿä¸€çš„ç®¡ç†çš„httpsåŸŸåå’Œç«¯å£ URL è¿™ä¸ªå’Œè¿™é‡Œçš„nginxæ— å…³ï¼Œæ˜¯å¤–éƒ¨è®¿é—®ç”¨çš„ï¼Œæˆ‘è¿™é‡Œæ˜¯caddy+dnspods 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 # update config file: vim scripts/config.sh cat \u0026gt; /myfile/outline/outline-docker-compose/scripts/config.sh \u0026lt;\u0026lt;\\EOF # Outline Wiki 0.72.0-1 supports local file storage. # Specify what storage system to use. Possible value is one of \u0026#34;s3\u0026#34; or \u0026#34;local\u0026#34;. # For \u0026#34;local\u0026#34;, the avatar images and document attachments will be saved on local disk. FILE_STORAGE=local # The url used to vist this web site. URL=https://XXXXXXX.leiyanhui.com:XXX # The default interface language. See translate.getoutline.com for a list of # available language codes and their rough percentage translated. DEFAULT_LANGUAGE=zh_CN # https://docs.djangoproject.com/en/2.2/ref/settings/#language-code LANGUAGE_CODE=en-us # https://en.wikipedia.org/wiki/List_of_tz_database_time_zones TIME_ZONE=Asia/Shanghai FORCE_HTTPS=false # The domain in you email. # Comma separated list of domains to be allowed (optional). # If not set, the first user\u0026#39;s domain is allowed by default. ALLOWED_DOMAINS= # Docker image version OUTLINE_VERSION=0.75.2 POSTGRES_VERSION=15.2-alpine3.17 MINIO_VERSION=RELEASE.2022-11-17T23-20-09Z MINIO_MC_VERSION=RELEASE.2022-11-17T21-20-39Z # Nginx # The nginx bind ip and port. # If you use ip address to access outline, this ip and port should be same as the URL. # If this server behind a proxy(nginx), you can bind to `127.0.0.1`. HTTP_IP=0.0.0.0 HTTP_PORT_IP=8081 # Docker # If you server behind a proxy(nginx), and the proxy created by docker. You can use the proxy\u0026#39;s network. Set the `NETWORKS` to proxy\u0026#39;s network name, and set `NETWORKS_EXTERNAL` to `true` . # The sample config for host nginx can be find in `config/sample/nginx_outline.conf`. NETWORKS=outlinewiki NETWORKS_EXTERNAL=false # Secret keys, update by script. # You shouldn\u0026#39;t edit it. MINIO_ACCESS_KEY= MINIO_SECRET_KEY= OIDC_CLIENT_SECRET= OUTLINE_SECRET_KEY= OUTLINE_UTILS_SECRET= DJANGO_SECRET_KEY= EOF å¸¸ç”¨å‘½ä»¤ 1 2 3 4 5 make install make start #start outline make stop #stop outline ä¹Ÿä¼šåˆ é™¤å®¹å™¨ make clean #remove all config file generated by script. make clean-data # You will lose all your data æ•°æ®å¤‡ä»½ /myfile/outline/outline-docker-compose/data ç›®å½• æˆ–è€… outlineå†…ç›´æ¥å¯¼å‡º\n","date":"2024-03-06T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/siyuan-to-outline/","title":"ç§æœ‰åŒ–ç¬”è®°è½¯ä»¶ä»æ€æºè¿ç§»åˆ°outline"},{"content":"å…ˆè¯´ç»“è®ºï¼ŒæŒ‡é’ˆä¼ å‚ æ€§èƒ½è¦è¿œè¿œé«˜äºç›´æ¥ä¼ é€’å€¼ã€‚å¹¶ä¸ä¼šå› ä¸ºæŒ‡é’ˆå¯¼è‡´å†…å­˜é€ƒé€¸åˆ°å †ä¸Šã€‚\nåŸå› å¾ˆç®€å•ï¼šå‡½æ•°å†…çš„å˜é‡åˆ›å»ºå’Œé”€æ¯éœ€è¦å¤§é‡çš„æ€§èƒ½å¼€æ”¯ã€‚\næ— è®ºæ˜¯å¦ç”¨åç¨‹ æ— è®ºå‚æ•°ç±»å‹ï¼Œæ— è®ºæ•°æ®åœ¨å‡½æ•°å†…æ€ä¹ˆå¤„ç†ã€‚\nreq,err=func(xxx) çš„æ€§èƒ½ ä¹Ÿä½äº func(\u0026amp;xxx,\u0026amp;req,\u0026amp;err)\nç”¨æŒ‡é’ˆéœ€è¦æ³¨æ„çš„æ˜¯ 1ã€å‡½æ•°å†…éƒ¨ä¿®æ”¹å€¼çš„æ—¶å€™æ•°æ®çš„å®‰å…¨ 2ã€å¦‚æœæœ‰å†…å­˜é€ƒé€¸çš„æƒ…å†µä¼šå¢åŠ gcè´Ÿæ‹… ä¼šå¯¼è‡´æ€§èƒ½ä¼šä¸‹æ»‘\næµ‹è¯•ä»£ç  ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥çš„å› ä¸ºç‰µæ‰¯åˆ°å†…å­˜çš„é‡æ–°åˆ†é…æ‰€ä»¥æ€§èƒ½å·®è·æ›´å¤§ã€‚ ä¸æ‹¼æ¥åªæ£€æŸ¥å­—ç¬¦ä¸²é•¿åº¦ï¼Œå¯ä»¥å¢åŠ mianLoopé‡‡æ ·æ¬¡æ•° æ­¤æ—¶æŒ‡é’ˆä¾æ—§æ˜¯æ›´å¿«çš„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 package main import ( \u0026#34;log\u0026#34; \u0026#34;time\u0026#34; ) func main() { var strLong string = \u0026#34;Sr5sLSyfjqUR8LBp0DHM6HfnYDLR09vmxwLNlM_fn7fa6Psm-4vWjEvooi6OsT5b8a_k7w-wOuGB2PHPUPMse2zj9YxYOyEDQejFDf_ESqe3ESDa_evh8rnZWF7j3jsYjB-BsCF1jWS41M2UI7UjDX_3QZGZ9EScMmMOZykAkWN8AJUbjsEbc_gofOmxjAabmSvKcHh1zhK3IQcomP3s5oBj2T32oV098jR3IqZsPkaAOcvr-LHSETaTmwKmjd-Qb00haPiuuTWxVqm0gPJ3nz-JzWTh8_9H8Jv9IMWbH0mh2T-KuzcHFGevPGqNM-5GdGo4iISCkx10Sekj1TDb1YHyS6G1A6MZCWHcjml5iQ0Ull-Wynp1EOqZHInbOl0h4JDEyFEk4UAGGr705_FwB_6R6WRJd1Ma6UFfP2HtbU0BsMoHLcTlhdsuURRdHY33KAJCD4pdduuGKeCqtRVLFa4furAjbsqnvivg44FIVyxDmxFSKf9SkgMJ3OiwpVn9bWTiuKlJu1ezb5L68JkNGcOEf94hC34XKCBI6uTA0pKZg6bTAru5ZknCa3-PeSmJAP7mznL3lLPinMIEhuoF0y09qGTVIIleM9wCsmZHa5Gdw8YndeVzlHKA9BBO5GMMuUFMBH4bbCj0onuiJ7vlYxO7PMQF-pEIk0TcZyjL__XqhAA07xg-L-xF4tfvHI-MBgJNrfjCPayIfYsjxtQ23V5uXhfoAeluzZNxPjr3f857VPxagTU4VgAUlZYC7qH0LqoKHsngAnEV38QIOFC4H3T3KOykT-Vf-z8xbZQ2u-0h2GAb4h1blmg9li9zmRXhoE88q9_H8PUP3d1CklPtP6Mqi0b2f3GPM9YqSAvEF-IfZ4nepn9dRmKg18Wnz8IC0_7gaOXX_C-OcSuR60Qk9WwRw0pyjig75VwY6ZFQ0MyuGM_1T8nIeIt84Ks272LWFHpIPt7s9uFcM0AtGbeg_SK4NkjRg6F1DrXKLqtFXZfszK19_WWvG2bEpsByvmjcuu_4Sye6OxBgpkyS1yxMsBQKCwoa4kaPtdXCxFHBLT6wLw4uS11Ym_Z5d36X035j6v5W9l9dst5hzsnUq1C2ZOLAuptiKkRTt-O-jzZTPGaJc-K79xtT8dyUn0CuRylRCbl1XFCSu2ZgEeebpJ8s-zEiNA3wZq9ZsEMQsNmD_433XUY4FAdQTFRAD-iQvFcUuKb2yhJ4zu1diw_pIstvrOZy04CNdxLtKswNYFN3CaiGVU-egu_r-Ao-SIUXgFi-G7ARsnNBpUKeL3NXjcStEa_b-ldZrzSZc2fTca_kH7CykR47q-x-pAVj9CxCMMZK10i1rCeHyMWqfWRFmKmztb9kW8xI0x7aUZwLosHs52ljg8dvwHyZQGEU2rYNehGvbvaz1M-Y1qaRZIym9w9M-qlmQc7ymnIjr3TKBDpq8UcoNT6wQj12l5TdcrtmzOWX\u0026#34; //strLong = \u0026#34;1234567890abcdefghijklmnopqrstuvwxyz\u0026#34; var strLong2 = strLong log.Println(\u0026#34;ã€‚ã€‚ã€‚\u0026#34;, len(strLong2)) log.Println(\u0026#34;å­—ç¬¦é•¿åº¦\u0026#34;, len(strLong)) var NumberOfprocesses = 100 var count int64 = 0 for mianLoop := 0; mianLoop \u0026lt; 1000; mianLoop++ { //var wg sync.WaitGroup startTime := time.Now().UnixNano() for i := 0; i \u0026lt; NumberOfprocesses; i++ { //wg.Add(1) //go func(varStr string) { func(varStr string) { //defer wg.Done() //varStr = varStr + strLong2 if len(varStr) \u0026gt; i { return } }(strLong) } //wg.Wait() endTime := time.Now().UnixNano() timeDiff1 := endTime - startTime //log.Println(\u0026#34;è€—æ—¶\u0026#34;, timeDiff1, \u0026#34;çº³ç§’\u0026#34;) startTime = time.Now().UnixNano() for i2 := 0; i2 \u0026lt; NumberOfprocesses; i2++ { //wg.Add(1) //go func(varStr *string) { func(varStr *string) { //defer wg.Done() //*varStr = strLong2 + strLong2 if len(*varStr) \u0026gt; i2 { return } }(\u0026amp;strLong) } //wg.Wait() endTime = time.Now().UnixNano() timeDiff2 := endTime - startTime //log.Println(\u0026#34;è€—æ—¶\u0026#34;, timeDiff2, \u0026#34;çº³ç§’\u0026#34;) //log.Println(\u0026#34;å·®å€¼\u0026#34;, timeDiff1-timeDiff2, \u0026#34;çº³ç§’\u0026#34;) count = count + (timeDiff1 - timeDiff2) } log.Println(\u0026#34;å·®å€¼\u0026#34;, count, \u0026#34;çº³ç§’\u0026#34;) } æ£€æŸ¥å†…å­˜\n1 go build -gcflags \u0026#39;-m\u0026#39; ./ ","date":"2024-02-17T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/funpointerparameter/","title":"golang æŒ‡é’ˆä¼ å‚å’Œç›´æ¥ä¼ çš„æ€§èƒ½ç®€å•å¯¹æ¯”"},{"content":"éœ€è¦è‡ªè¡Œç¼–è¯‘å›ºä»¶ ä¸‹é¢ä»£ç åŸºäºmicropython-1.22.1 å’Œ esp-idf-v5.0.4\nesp-idf ä»4.xåˆ°5.xæœ‰ä¸€äº›å˜åŒ– è®°å½•ä¸€ä¸‹æ–°ç‰ˆæœ¬çš„ä½¿ç”¨æ–¹æ³•\næ·»åŠ ä¸€ä¸ªCæ¨¡å— éœ€è¦4ä¸ªæ–‡ä»¶ cd micropython-1.22.1/ports/esp32/\n1 2 3 4 #ls cmodules/ micropython.cmake sensorcoretemper ls cmodules/sensorcoretemper micropython.cmake micropython.mk sensorcoretemper.c sensorcoretemper.c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 #include \u0026#34;py/obj.h\u0026#34; #include \u0026#34;py/runtime.h\u0026#34; #include \u0026#34;esp_log.h\u0026#34; #include \u0026#34;driver/temperature_sensor.h\u0026#34; // å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡æ¥ä¿å­˜å¥æŸ„ static temperature_sensor_handle_t tsens = NULL; static const char *TAG = \u0026#34;sensorcoretemper\u0026#34;; // å‡½æ•° åˆå§‹åŒ– å¹¶å¯åŠ¨ STATIC mp_obj_t sensorcoretemper_init(void) { ESP_LOGI(TAG, \u0026#34;Install temperature sensor, expected temp ranger range: 10~50 â„ƒ\u0026#34;); temperature_sensor_config_t temp_sensor = TEMPERATURE_SENSOR_CONFIG_DEFAULT(10, 50); //ESP_ERROR_CHECK(temperature_sensor_install(\u0026amp;temp_sensor)); ESP_ERROR_CHECK(temperature_sensor_install(\u0026amp;temp_sensor, \u0026amp;tsens)); // æ³¨æ„è¿™é‡Œçš„æ”¹åŠ¨ ESP_LOGI(TAG, \u0026#34;Enable temperature sensor\u0026#34;); //ESP_ERROR_CHECK(temperature_sensor_enable()); ESP_ERROR_CHECK(temperature_sensor_enable(tsens)); // æ³¨æ„è¿™é‡Œçš„æ”¹åŠ¨ return mp_const_none; } STATIC MP_DEFINE_CONST_FUN_OBJ_0(sensorcoretemper_init_obj, sensorcoretemper_init); // å‡½æ•° è·å– STATIC mp_obj_t sensorcoretemper_getT(void) { ESP_LOGI(TAG, \u0026#34;Read temperature\u0026#34;); float tsens_value; //ESP_ERROR_CHECK(temperature_sensor_get_celsius(\u0026amp;tsens_value)); ESP_ERROR_CHECK(temperature_sensor_get_celsius(tsens, \u0026amp;tsens_value)); ESP_LOGI(TAG, \u0026#34;Temperature value %.02f â„ƒ\u0026#34;, tsens_value); return mp_obj_new_float(tsens_value); } STATIC MP_DEFINE_CONST_FUN_OBJ_0(sensorcoretemper_getT_obj, sensorcoretemper_getT); // å‡½æ•° åœæ­¢ STATIC mp_obj_t sensorcoretemper_stop(void) { //ESP_ERROR_CHECK(temperature_sensor_disable()); ESP_ERROR_CHECK(temperature_sensor_disable(tsens)); // æ³¨æ„è¿™é‡Œçš„æ”¹åŠ¨ return mp_const_none; } STATIC MP_DEFINE_CONST_FUN_OBJ_0(sensorcoretemper_stop_obj, sensorcoretemper_stop); STATIC const mp_rom_map_elem_t sensorcoretemper_module_globals_table[] = { { MP_ROM_QSTR(MP_QSTR___name__), MP_ROM_QSTR(MP_QSTR_sensorcoretemper) }, { MP_ROM_QSTR(MP_QSTR_getT), MP_ROM_PTR(\u0026amp;sensorcoretemper_getT_obj) }, { MP_ROM_QSTR(MP_QSTR_init), MP_ROM_PTR(\u0026amp;sensorcoretemper_init_obj) }, { MP_ROM_QSTR(MP_QSTR_stop), MP_ROM_PTR(\u0026amp;sensorcoretemper_stop_obj) }, }; STATIC MP_DEFINE_CONST_DICT(sensorcoretemper_module_globals, sensorcoretemper_module_globals_table); const mp_obj_module_t sensorcoretemper_user_cmodule = { .base = { \u0026amp;mp_type_module }, .globals = (mp_obj_dict_t *)\u0026amp;sensorcoretemper_module_globals, }; //MP_REGISTER_MODULE(MP_QSTR_sensorcoretemper, sensorcoretemper_user_cmodule, MODULE_sensorcoretemper_ENABLED); MP_REGISTER_MODULE(MP_QSTR_sensorcoretemper, sensorcoretemper_user_cmodule); å…¶ä»–ä¸‰ä¸ªæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 cd ~/mpy-bin/micropython-1.22.1/ports/esp32 mkdir -p cmodules/sensorcoretemper # æ–‡ä»¶ ===\u0026gt; micropython.cmake cat \u0026gt; cmodules/micropython.cmake\u0026lt;\u0026lt; \\EOF # Add sensorcoretemper. include(${CMAKE_CURRENT_LIST_DIR}/sensorcoretemper/micropython.cmake) EOF # æ–‡ä»¶ ===\u0026gt; micropython.cmake cat \u0026gt; cmodules/sensorcoretemper/micropython.cmake \u0026lt;\u0026lt; \\EOF # Create an INTERFACE library for our C module. add_library(usermod_sensorcoretemper INTERFACE) # Add our source files to the lib target_sources(usermod_sensorcoretemper INTERFACE ${CMAKE_CURRENT_LIST_DIR}/sensorcoretemper.c ) # Link our INTERFACE library to the usermod target. target_link_libraries(usermod INTERFACE usermod_sensorcoretemper) EOF # æ–‡ä»¶ ===\u0026gt; micropython.mk cat \u0026gt; cmodules/sensorcoretemper/micropython.mk\u0026lt;\u0026lt; \\EOF sensorcoretemper_MOD_DIR := $(USERMOD_DIR) # Add all C files to SRC_USERMOD. SRC_USERMOD_C += $(sensorcoretemper_MOD_DIR)/sensorcoretemper.c EOF ç¼–è¯‘ 1 2 3 make clean BOARD=LOLIN_S2_MINI USER_C_MODULES=../cmodules/micropython.cmake #esp32-s2 make submodules make BOARD=LOLIN_S2_MINI USER_C_MODULES=../cmodules/micropython.cmake ä½¿ç”¨æ–¹æ³• 1 2 3 4 5 6 7 8 import sensorcoretemper import time sensorcoretemper.init() for _ in range(10): print(sensorcoretemper.getT()) time.sleep(1) sensorcoretemper.stop() æŠ€å·§ å†…ç½®ä¼ æ„Ÿå™¨æ¸©åº¦ é€šå¸¸æ¯”ç¯å¢ƒæ¸©åº¦é«˜1-3æ‘„æ°åº¦ä¸ç­‰ï¼Œåœ¨ç¨³å®šçš„ç¯å¢ƒä¸­ å¯ä»¥ç®€å•æ ¡å‡†ä¸€ä¸‹ä½œä¸ºå‚è€ƒæ¸©åº¦\n","date":"2024-01-22T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/esp32-s2-coretemp/","title":"esp32 s2 C3 åœ¨micropythonä¸‹ä½¿ç”¨å†…ç½®æ¸©åº¦ä¼ æ„Ÿå™¨"},{"content":"åŸæ–‡åªæ˜¯å‘äº†ä¸€ä¸ª æ·±è“è¯åº“è½¬è¡Œå·¥å…·ï¼Œç«Ÿç„¶é‚£æ”¶åˆ°äº†æœç‹—çš„è­¦å‘Šå‡½ã€‚\nç°åœ¨åˆ é™¤åŸæ–‡ï¼Œç²˜è´´é‚®ä»¶å‡ºæ¥ï¼Œçœ‹çœ‹è¿™å®¶å…¬å¸çš„å˜´è„¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 å—åŒ—äº¬æœç‹—ç§‘æŠ€å‘å±•æœ‰é™å…¬å¸ï¼ˆä¸‹ç§°â€œæƒåˆ©äººâ€ï¼‰çš„å§”æ‰˜æˆæƒï¼Œç°å°±è´µæ–¹æ‰€æœ‰å¹¶è¿è¥çš„ã€å°ç±»éšæ‰‹è®°ã€‘å¹³å°ï¼Œåœ¨çº¿æä¾›æ¶‰å«Œä¾µå®³æƒåˆ©äººè®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒåŠå…¶ä»–åˆæ³•æƒç›Šçš„è½¯ä»¶ä¸€äº‹è‡´å‡½ï¼š æƒåˆ©äººç³»ã€æœç‹—è¾“å…¥æ³•ã€‘ï¼ˆä¸‹ç§°â€œç›¸å…³è½¯ä»¶â€ï¼‰çš„è‘—ä½œæƒäººã€è¿è¥æ–¹ï¼ˆè§é™„ä»¶ä¸€ï¼šè®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒç™»è®°è¯ä¹¦ï¼‰ï¼Œæƒåˆ©äººå¯¹ç›¸å…³è½¯ä»¶ä¸‹çš„åŒ…æ‹¬è¯åº“åœ¨å†…çš„æ±‡ç¼–ä½œå“äº«æœ‰çŸ¥è¯†äº§æƒã€‚ æƒåˆ©äººå‘ç°ï¼Œè´µæ–¹æ‰€æœ‰å¹¶è¿è¥çš„å¹³å°ä¸­ï¼Œå‡ºç°äº†ï¼ˆ1ï¼‰å¯¹æƒåˆ©äººæ‹¥æœ‰çŸ¥è¯†äº§æƒçš„è¯åº“å†…å®¹ï¼Œè¿›è¡Œä½¿ç”¨ã€å‡ºç§Ÿã€å‡ºå€Ÿã€å¤åˆ¶ã€ä¿®æ”¹ã€é“¾æ¥ã€è½¬è½½ã€æ±‡ç¼–ã€å‘è¡¨ç­‰è¡Œä¸ºï¼›åŠ/æˆ–ï¼ˆ2ï¼‰å¯¹è½¯ä»¶æˆ–è€…è½¯ä»¶è¿è¡Œè¿‡ç¨‹ä¸­é‡Šæ”¾åˆ°ä»»ä½•ç»ˆç«¯å†…å­˜ä¸­çš„æ•°æ®ã€è½¯ä»¶è¿è¡Œè¿‡ç¨‹ä¸­å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯çš„äº¤äº’æ•°æ®ï¼Œä»¥åŠè½¯ä»¶è¿è¡Œæ‰€å¿…éœ€çš„ç³»ç»Ÿæ•°æ®ï¼Œè¿›è¡Œå¤åˆ¶ã€ä¿®æ”¹ã€å¢åŠ ã€åˆ é™¤ã€æŒ‚æ¥è¿è¡Œæˆ–åˆ›ä½œä»»ä½•è¡ç”Ÿä½œå“ï¼Œå½¢å¼åŒ…æ‹¬ä½†ä¸é™äºä½¿ç”¨æ’ä»¶ã€å¤–æŒ‚æˆ–éç»æœç‹—æˆæƒçš„ç¬¬ä¸‰æ–¹å·¥å…·/æœåŠ¡æ¥å…¥è½¯ä»¶å’Œç›¸å…³ç³»ç»Ÿï¼›åŠ/æˆ–ï¼ˆ3ï¼‰æ•™å”†ã€å¸®åŠ©å®æ–½ä¸Šè¿°ä¾µæƒè¡Œä¸ºçš„æƒ…å½¢ã€‚è´µå¹³å°ä¾µæƒå†…å®¹è§å¦‚ä¸‹é“¾æ¥ï¼š 1ã€https://dev.leiyanhui.com/linux/fctix5-sogou/ é‰´äºä»¥ä¸Šï¼Œç°éƒ‘é‡é€šçŸ¥è´µå¹³å°åŠæ—¶é‡‡å–å¦‚ä¸‹è¡¥æ•‘æªæ–½ï¼š 1ã€ç«‹å³åœæ­¢ä¾µæƒã€‚è¯·è´µå¹³å°åœ¨æ”¶åˆ°æœ¬å‡½12å°æ—¶å†…ï¼Œå°†ä¾µæƒå†…å®¹ä»è´µå¸å¹³å°ä¸­å½»åº•åˆ é™¤ã€ä¸‹æ¶ï¼Œå¹¶å°†å¤„ç†ç»“æœåŠæ—¶é‚®ä»¶åé¦ˆæˆ‘å¸ï¼›é’ˆå¯¹æœ¬æ¬¡æŠ•è¯‰æ¶‰åŠçš„ä»»ä½•é—®é¢˜ï¼Œå› è´µå¸æ€ äºå¤„ç†/æœªåŠæ—¶åé¦ˆä¿¡æ¯å¯¼è‡´çš„å…¶ä»–åæœè‡ªè´Ÿã€‚ 2ã€å½»æŸ¥å¹¶é¢„é˜²ä¾µæƒã€‚è¯·è´µå¹³å°å…¨é¢æ’æŸ¥å¹¶æ¸…é™¤å¹³å°å†…å…¶ä»–çš„ä¾µå®³æƒåˆ©äººä½œå“çš„ä¾µæƒå†…å®¹ï¼Œåˆ¶æ­¢ä¾µæƒè¡Œä¸ºçš„æŒç»­å®æ–½ã€‚ æˆ‘å¸å°†æŒç»­è·Ÿè¸ªè´µå¹³å°å¯¹ä¸Šè¿°ä¾µæƒå†…å®¹çš„å¤„ç†æƒ…å†µï¼›æƒåˆ©äººäº¦å°†ä¾æ®è´µå¹³å°å¯¹ä¸Šè¿°ä½œå“çš„å¤„ç†æƒ…å†µå†³å®šæ˜¯å¦é‡‡å–è¿›ä¸€æ­¥çš„æ³•å¾‹æªæ–½ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæ°‘äº‹è¯‰è®¼ã€ç”³è¯·è¯‰å‰ç¦ä»¤ã€å‘è¡Œæ”¿æœºå…³æŠ•è¯‰ç­‰ï¼‰è¿½ç©¶è´µå¹³å°è´£ä»»ï¼Œè¯·è´µå¹³å°æ…é‡è€ƒè™‘ç”±æ­¤å¸¦æ¥çš„ä¸€åˆ‡æ³•å¾‹åæœï¼Œå¹¶è¿›è¡Œå¦¥å–„å¤„ç†ã€‚å¦‚æœ‰ç–‘ä¹‰ï¼Œè¯·ä¸æˆ‘å¸è”ç»œã€‚ æˆ‘æ–¹è”ç³»æ–¹å¼å¦‚ä¸‹ï¼š è”ç³»é‚®ç®±ï¼šzhaoliuqing@qilvelawyer.com åŒ—äº¬æœç‹—ç§‘æŠ€å‘å±•æœ‰é™å…¬å¸å—æ‰˜äººï¼šèµµæŸ³é’ 2026å¹´1æœˆ12æ—¥ é™„ä»¶ï¼š ä¸€ã€è‘—ä½œæƒç™»è®°è¯ä¹¦åŠè½¯ä»¶ç”¨æˆ·åè®® äºŒã€å§”æ‰˜æ–¹å…¬å¸è¥ä¸šæ‰§ç…§ ä¸‰ã€æˆæƒå§”æ‰˜ä¹¦ å››ã€ä¾µæƒæˆªå›¾ ","date":"2024-01-15T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/fctix5-sogou/","title":"fctix5å’Œæœç‹—è¾“å…¥æ³•çš„ä¸ªäººè¯åº“è½¬æ¢"},{"content":"jwtæ˜¯ä¼˜ç§€çš„æ— çŠ¶æ€æœåŠ¡çš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚ä½†æ˜¯jwtæœ‰ä¸€ä¸ªå°ç¼ºç‚¹å°±æ˜¯å­—ç¬¦ä¸²å¤ªé•¿ï¼Œåœ¨ç‰©è”ç½‘è®¾å¤‡ä¸­å ç”¨å®è´µçš„å‚¨å­˜ç©ºé—´ã€‚\næ‰€ä»¥æœ‰ä¸€äº›åœºæ™¯ä¸‹ä¸é€‚åˆã€‚ è¿™é‡Œåˆ†äº«ä¸€ç§ ç±»ä¼¼jwtçš„è½»é‡tokenå®ç°æ–¹æ³•ã€‚\nå‡ ä¸ªå…ƒç´  1ã€èº«ä»½æ ‡è¯†ï¼šä¸€èˆ¬æ˜¯ç‰©è”ç½‘è®¾å¤‡çš„ä¸²å·ã€macåœ°å€ æˆ–è€…å…¶ä»–çš„å”¯ä¸€idã€‚ä¸‹æ–‡ä¸­ä»¥macåœ°å€ä¸ºä¾‹ 2ã€è¿‡æœŸæ—¶é—´: æ˜æ–‡ç”¨æ—¶é—´æˆ³å³å¯ï¼Œè€ƒè™‘åˆ°æ—¶é—´æˆ³ 1703981684 å‰é¢çš„17æœ€è¿‘å‡ å¹´ä¸ä¼šå˜åŒ–ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ 03981684ã€‚æˆ–è€…å¹²è„†ä¸º 202312311023 è¿™ç§æ ¼å¼ï¼Œç„¶åå»æ‰å‰é¢çš„20ï¼Œå³2312311023 ä»£23å¹´12çº¦32æ—¥10ç‚¹23åˆ†è¿‡æœŸ 3ã€é•¿çŸ­tokenï¼š ä¸€èˆ¬jwtä¸­åº”ç”¨å­˜åœ¨ä¸¤ä¸ªtoken ä¸€ä¸ªtokenåŒäºé¢‘ç¹çš„é€šè®¯æœ‰æ•ˆæœŸé€šå¸¸æ˜¯å‡ åˆ†é’Ÿåˆ°å‡ ååˆ†é’Ÿ ç§°ä¹‹ä¸º accessToken ï¼Œå¦å¤–ä¸€ä¸ªtokenä¸ºé•¿æœŸtoken ç”¨äºæ›´æ–°token,æœ‰æ•ˆæœŸé€šå¸¸ä¸ºå‡ åå¤©ï¼Œç§°ä¹‹ä¸º refreshToken 4ã€ç›å€¼ï¼šå› ä¸ºæˆ‘ä»¬ç®€åŒ–äº†jwt æ”¹ä¸ºç›´æ¥é€šè¿‡MACåœ°å€çš„md5å€¼æ¥æ£€æŸ¥ï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥ä¸€ä¸ªsaltæ¥ä¿è¯åè®®çš„å®‰å…¨æ€§ã€‚æ¯ä¸€ä¸ªè®¾å¤‡å…·æœ‰å”¯ä¸€çš„ä¸€ä¸ªsaltå€¼ã€‚\né€»è¾‘ å› ä¸ºç‰©è”ç½‘è®¾å¤‡ ä¸ä¼šè¦æ±‚ç”¨æˆ·å»ç™»é™†æ³¨å†Œï¼Œæ‰€ä»¥ä¸¤ä¸ªtokençš„æ›´æ–°éƒ½æ˜¯æ— æ„Ÿè¿›è¡Œçš„ã€‚\nè®¾å¤‡é¦–æ¬¡è”ç½‘ï¼Œä½¿ç”¨è®¾å¤‡MACåœ°å€å‘ jwt-lite æœåŠ¡å™¨è¯·æ±‚ï¼Œjwt-liteæ£€ç´¢æ•°æ®åº“ï¼Œç¡®å®šmacåœ°å€åœ¨ç™½åå•ä¸­ï¼Œé‚£ä¹ˆå‘æ”¾ä¸¤ä¸ªtoken,æ ¼å¼ä¸ºå‡ä¸º è¿‡æœŸæ—¶é—´+md5(è¿‡æœŸæ—¶é—´+MAC+salt)ï¼Œå…¶ä¸­ refreshToken å¯ä»¥å†™å…¥åˆ°è®¾å¤‡çš„flashä¸­ï¼Œè€ŒaccessToken å°±æš‚å­˜åˆ°ram æ‰ç”µå³ä¸¢å¼ƒã€‚\nè®¾å¤‡é‡æ–°é€šç”µåï¼Œæ£€æŸ¥ refreshToken æ˜¯å¦å°†è¦è¿‡æœŸæˆ–è€…æ˜¯å¦å­˜åœ¨ï¼Œç„¶åæ ¹æ®éœ€è¦ä½¿ç”¨macåœ°å€é‡æ–°è¯·æ±‚accessToken å’Œ refreshTokenã€‚éšåæ”¹ä¸ºå®šæ—¶æ£€æŸ¥\nè®¾å¤‡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå®šæ—¶æ£€æŸ¥/æˆ–è€…æ¯æ¬¡è¦å’ŒæœåŠ¡å™¨äº¤äº’ä¹‹å‰å…ˆæ£€æŸ¥ accessToken ï¼ˆå’Œ refreshTokenï¼‰ ã€‚ å¦‚æœ accessToken å°†è¦è¿‡æœŸï¼Œä½†æ˜¯ refreshToken æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆä½¿ç”¨refreshTokené‡æ–°è¯·æ±‚accessTokenã€‚ refreshToken åˆ™å¦å¤–çš„å®šæ—¶é€»è¾‘å¤„ç†ã€‚\nåŠ å¯† å› ä¸ºç‰©è”ç½‘è®¾å¤‡ å‡ºå‚çš„æ—¶å€™ï¼Œæ¯ä¸ªè®¾å¤‡æˆ‘ä»¬å¯ä»¥é¢„è®¾ä¸€ä¸ªåŠ å¯†keyã€‚æ‰€ä»¥ä¸Šé¢çš„ è¿‡æœŸæ—¶é—´+md5(è¿‡æœŸæ—¶é—´+MAC+salt) æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¾‹å¦‚AES åŠ å¯†ä¸€ä¸‹ é¢„é˜²æ¶æ„ç¬¬ä¸‰æ–¹ã€‚å½“ç„¶å®é™…æ„ä¹‰ä¸å¤§ã€‚å¦‚æœä¸è€ƒè™‘æœåŠ¡å™¨ç«¯å‹åŠ›ï¼Œç§æœ‰åè®® over tlsæˆ–https æ›´ä¸ºåˆç†ã€‚\nç‰©è”ç½‘è®¾å¤‡ç«¯ ç‰©è”ç½‘è®¾å¤‡ç«¯ï¼Œå› ä¸ºéƒ½æ˜¯åŸºæœ¬å¯ä¿¡å®¢æˆ·ç«¯ï¼Œå¯ä»¥å»æ‰refreshTokenï¼Œåªä½¿ç”¨accessToken å¹¶é€‚å½“å»¶é•¿ accessTokençš„æœ‰æ•ˆæœŸ ä¸€èˆ¬ä¸ºå‡ ååˆ†é’Ÿã€‚\nappç«¯/webç«¯ å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•\nå®‰å…¨é˜²æŠ¤ é™ä½æœåŠ¡å™¨æ ¡éªŒå¼€æ”¯ æ— çŠ¶æ€æœåŠ¡å™¨ é€šè¿‡redisæˆ–è€…å†…å­˜map ç»´æŠ¤ä¸€ä¸ª å·²ç»éªŒè¯è¿‡çš„token list å’Œå¯¹åº”è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ¯æ¬¡éƒ½æ ¡éªŒtokenã€‚\nè¿™ä¸ªlistè¦å®šæ—¶ç»´æŠ¤æ¸…ç†ï¼Œé¿å…å ç”¨è¿‡å¤šèµ„æºã€‚\né»‘åå•tokenå›æ”¶å·²ç­¾å‘çš„token åŒæ—¶ç»´æŠ¤ä¸€ä¸ªé»‘åå•token,æ‰‹åŠ¨æˆ–è€…è‡ªåŠ¨ï¼ŒåŠ å…¥é»‘åå•ã€‚\né¿å…è¢«åå°„æ”»å‡» å’Œåè®®æœ¬èº«ä»¥åŠupd/tcpæ— å…³ï¼Œéœ€è¦åœ¨ispæˆ–è€…iptableå¤„ç†ã€‚\nSYN Floodã€ACK Floodã€TCPåå°„ã€UDP Floodã€UDPåå°„ æ˜¯å¸¸è§çš„è¢«æ”»å‡»çš„æ–¹å¼ã€‚å½“ç„¶è¿™å’Œä½ ç”¨ä»€ä¹ˆåè®®æ— å…³ï¼Œåªè¦æ˜¯åŸºäºtcp/udp å°±è¦é¢å¯¹è¿™äº›ã€‚é¦–å…ˆè¦æƒ³åŠæ³•é¿å…è‡ªå·±æˆä¸ºåå°„è§’è‰²ï¼Œå…¶æ¬¡è¦é¢„é˜²å¸¸è§çš„åå°„æ”»å‡»ã€‚ ç°åœ¨ ä¸»è¦çš„çš„åå°„æºæœ‰ : DNSã€NTPã€SSDPã€QOTDã€SNMPã€CHARGENã€LDAPã€MEMCACHEã€WS-DISCOVERYã€DVRã€CLDAPã€RPC ç­‰ ä¸»è¦åå°„æºç«¯å£ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸Šè¿°åè®®çš„é»˜è®¤ç«¯å£ã€‚ ä¸€èˆ¬åœ¨å…¥å£æµé‡çš„åœ°æ–¹ é€šè¿‡ç™½åå•ip+ç«¯å£ ä»¥åŠ æŒ‡çº¹åˆ†æ å’Œ å¸¦å®½å¼¹æ€§éƒ¨ç½² ä»¥åŠ eipåˆ‡æ¢ æ¥åº”å¯¹\né¿å…è¢«è‡ªå·±æ”¾å¤§æ”»å‡» åœ¨tokenæœªæ ¡éªŒé€šè¿‡/ä¸ç¬¦åˆæ ¼å¼ çš„è¿”å›çš„é”™è¯¯æ¶ˆæ¯ä½“å°½å¯èƒ½ç®€çŸ­ï¼Œæˆ–è€…ç›´æ¥ä¸è¿”å›ã€‚\né…åˆé»‘åå•åˆ¶åº¦ï¼Œå³ä½¿æŠŠè¯·æ±‚å¼‚å¸¸çš„tokenåŠ å…¥åˆ°é»‘åå•\n","date":"2023-12-31T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/lot/jwt-lite/","title":"ç§æœ‰åè®®çš„è½»é‡jwt-tokençš„å®ç°ï¼Œç‰©è”ç½‘è®¾å¤‡"},{"content":"2024-03-7 å·²ç»æœ‰åŸç”Ÿç‰ˆå¾®ä¿¡ï¼Œè™½ç„¶ç›®å‰ä¹‹æ”¯æŒuoså’Œéº’éºŸç­‰ç³»ç»Ÿï¼Œå®é™…ä¸Šå…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨ã€‚\n2022å¹´12æœˆ07æ—¥ è…¾è®¯å·²ç»å‘å¸ƒæ–°ç‰ˆlinux qq linuxä½¿ç”¨å¾®ä¿¡ åªæœ‰wine å’Œ ä»¿uos webå¾®ä¿¡ ä¸¤ç§ã€‚\nwineæ–¹å¼çš„å¾®ä¿¡åŠŸèƒ½æ›´å…¨ä¸€äº›ï¼Œæ¯”å¦‚æ”¯æŒå¤šæ•°å°ç¨‹åºæ”¯æŒæœ‹å‹åœˆã€‚ä½†æ˜¯ä¹Ÿæ¯”è¾ƒå¡ï¼Œè€Œä¸”éœ€è¦wineã€‚\næˆ‘çš„å‡ ä¸ªå¾®ä¿¡å·ï¼Œéƒ½ç™»é™†è¿‡webå¾®ä¿¡ï¼Œä½†æ˜¯éƒ½æ˜¯åæœŸæ— æ³•ä½¿ç”¨ã€‚è€Œä¸”æˆ‘å¾®ä¿¡ä¸»è¦æ˜¯å·¥ä½œæ–‡å­—äº¤æµå’Œå°æ–‡ä»¶æ‰‹æ³•ã€‚webå¾®ä¿¡è¶³å¤Ÿä½¿ç”¨ã€‚æ‰€ä»¥å¯»æ‰¾webå¾®ä¿¡çš„ç™»é™†æ–¹å¼ã€‚\né€šè¿‡é€†å‘uosç‰ˆæœ¬å¾®ä¿¡ï¼Œå¯ä»¥å¾—çŸ¥ï¼š å¾®ä¿¡ç»™uosé‚£è¾¹é€‚é…webå¾®ä¿¡ä½¿ç”¨äº†ç®€å•åŒºåˆ†çš„æ–¹å¼ï¼Œå°±æ˜¯åœ¨headeré‡Œé¢æ·»åŠ äº†ä¸¤ä¸ªå­—æ®µ ã€‚ è¿™ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯æ˜¯é™æ€çš„ï¼Œè€Œä¸”éƒ½æ”¾åˆ°äº†åŒä¸€ä¸ªsoæ–‡ä»¶é‡Œé¢ï¼Œåªåšäº†å­—ç¬¦ä¸²æ··æ·†ï¼Œæ··æ·†è¿˜æ˜¯æœ€ç®€å•çš„ xorã€‚æˆ–è®¸è¿™æ˜¯é€‚é…uosçš„ç¨‹åºå‘˜çš„è‰¯å¿ƒã€‚ æœ€åæ•´ç†å¾—åˆ°ä¸¤ä¸ªheaderå†…å®¹å¦‚ä¸‹\n1 2 3 client-version = 2.0.0 extspam = Go8FCIkFEokFCggwMDAwMDAwMRAGGvAESySibk50w5Wb3uTl2c2h64jVVrV7gNs06GFlWplHQbY/5FfiO++1yH4ykCyNPWKXmco+wfQzK5R98D3so7rJ5LmGFvBLjGceleySrc3SOf2Pc1gVehzJgODeS0lDL3/I/0S2SSE98YgKleq6Uqx6ndTy9yaL9qFxJL7eiA/R3SEfTaW1SBoSITIu+EEkXff+Pv8NHOk7N57rcGk1w0ZzRrQDkXTOXFN2iHYIzAAZPIOY45Lsh+A4slpgnDiaOvRtlQYCt97nmPLuTipOJ8Qc5pM7ZsOsAPPrCQL7nK0I7aPrFDF0q4ziUUKettzW8MrAaiVfmbD1/VkmLNVqqZVvBCtRblXb5FHmtS8FxnqCzYP4WFvz3T0TcrOqwLX1M/DQvcHaGGw0B0y4bZMs7lVScGBFxMj3vbFi2SRKbKhaitxHfYHAOAa0X7/MSS0RNAjdwoyGHeOepXOKY+h3iHeqCvgOH6LOifdHf/1aaZNwSkGotYnYScW8Yx63LnSwba7+hESrtPa/huRmB9KWvMCKbDThL/nne14hnL277EDCSocPu3rOSYjuB9gKSOdVmWsj9Dxb/iZIe+S6AiG29Esm+/eUacSba0k8wn5HhHg9d4tIcixrxveflc8vi2/wNQGVFNsGO6tB5WF0xf/plngOvQ1/ivGV/C1Qpdhzznh0ExAVJ6dwzNg7qIEBaw+BzTJTUuRcPk92Sn6QDn2Pu3mpONaEumacjW4w6ipPnPw+g2TfywJjeEcpSZaP4Q3YV5HG8D6UjWA4GSkBKculWpdCMadx0usMomsSS/74QgpYqcPkmamB4nVv1JxczYITIqItIKjD35IGKAUwAA== å¦å¤–ä¸€ç‚¹å°±æ˜¯ç™»é™†åœ°å€è¦ç”¨ https://wx.qq.com/?\u0026amp;lang=zh_CN\u0026amp;target=t å¤šä¸€ä¸ª\u0026amp;target=t\næ‰¾ä¸€ä¸ªæ”¯æŒæµè§ˆå™¨headerä¿®æ”¹çš„æ‰©å±•ï¼Œé€‚é…wx.qq.comè¿™ä¸ªåŸŸå æ·»åŠ ä¸Šé¢ä¸¤ä¸ªå­—æ®µå³å¯ã€‚ webå¾®ä¿¡åªæœ‰ç™»é™†çš„æ—¶å€™ä¼šæ ¡éªŒè¿™ä¸ªå­—æ®µï¼Œåé¢ä½¿ç”¨çš„æ—¶å€™ä¸ä¼šå†æ£€æŸ¥ï¼Œæ‰€ä»¥åªéœ€åŒ¹é…url:https://wx.qq.com/cgi-bin/mmwebwx-bin/webwxnewloginpage\næœ‰å¯èƒ½éœ€è¦ç™»é™†ä¸€æ¬¡å¾®ä¿¡ç½‘é¡µæ–‡ä»¶ä¼ è¾“åŠ©æ‰‹åæ‰å¯ä»¥https://filehelper.weixin.qq.com/ ç™»é™†ä¸€æ¬¡å³å¯ï¼Œä»¥åæ¨å‡ºä¹Ÿä¸å½±å“ã€‚ å¦‚æœä¾æ—§ä¸è¡Œï¼Œå¯ä»¥è™šæ‹Ÿæœºè£…ä¸€ä¸ªuos å…ˆå»uosä¸‹è¯•è¯•æ˜¯å¦å¯ä»¥ã€‚\nä¹Ÿå¯ä»¥ç”¨ç°æˆçš„æ‰©å±•ï¼š https://github.com/lqzhgood/wechat-need-web/releases\nä¸‹è½½chrom.zip è§£å‹ï¼Œç„¶åæ‰“å¼€ï¼ˆchrome/edgeï¼‰æµè§ˆå™¨æ’ä»¶ç®¡ç†,å‹¾é€‰å¼€å‘è€…æ¨¡å¼ï¼Œé€‰æ‹©åŠ è½½å·²ç»è§£å‹çš„æ‰©å±•ç›®å½•ã€‚ ä¸ç”¨ä»»ä½•é…ç½®å³å¯ä½¿ç”¨ã€‚\nlinuxä¸‹edgeå‡çº§ æœ‰å¯èƒ½è‡ªå·±åˆ æ‰è¿™ç§è‡ªå·±æ‰‹åŠ¨åŠ è½½çš„æ‰©å±•ï¼Œéœ€è¦è‡ªå·±é‡æ–°å†å®‰è£…ä¸€æ¬¡æ‰©å±•ã€‚\nåŒæ ·çš„æ‰©å±•æœ‰ï¼šhttps://github.com/adamyi/wechrome\nMonkeyè„šæœ¬ç‰ˆæœ¬ï¼šhttps://greasyfork.org/en/scripts/456545-wechromium-%E5%BE%AE%E4%BF%A1%E7%BD%91%E9%A1%B5%E7%89%88-%E7%BD%91%E9%A1%B5%E7%89%88%E5%BE%AE%E4%BF%A1-linux%E5%BE%AE%E4%BF%A1/\nelectron ç‰ˆæœ¬ï¼š å¦å¤–æœ‰ä¸€ä¸ªç±»ä¼¼æ–¹å¼å®ç°çš„å·²ç»æ‰“åŒ…å¥½çš„ xchat https://github.com/xYx-c/xchat ï¼ˆåŸºäºelectron+react ä¸æ˜¯å¾ˆå»ºè®®ï¼ŒåŠŸèƒ½æ¯”webå¾®ä¿¡æœ‰ç¼ºå¤±ï¼Œå¶å°”å¡é¡¿ä¸¢æ¶ˆæ¯ï¼‰\nå¦å¤– åŸºäº wechaty-puppet-wechat çš„ä¹Ÿå¾ˆå¤š\næ³¨æ„ ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼ï¼Œå¾ˆæœ‰å¯èƒ½åœ¨æ•°å¤©/æ•°å‘¨åè¢«ç–¼é€Šè­¦å‘Šä½¿ç”¨äº†ç¬¬ä¸‰æ–¹å·¥å…·ã€‚ä¹Ÿæœ‰äººåé¦ˆè¯´ä¼šè¢«å°å·ã€‚\nå¦å¤–ç»‘å®šå¢ƒå¤–æ‰‹æœºå·çš„å¾®ä¿¡æ— æ³•ä½¿ç”¨webå¾®ä¿¡ï¼Œåœ¨è½¬åˆ°wechatçš„æ—¶å€™æœ‰æ¡æ¬¾æé†’çš„å“¦ã€‚\n","date":"2023-12-26T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/wechat-web/","title":"linuxä¸‹ä½¿ç”¨webå¾®ä¿¡çš„å¥‡æŠ€æ·«å·§"},{"content":"ä¸šåŠ¡å‘å±•åˆ°ä¸€å®šè§„æ¨¡åï¼Œmqtt/coapåè®®æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œæ‰€æœ‰ç§æœ‰åè®®åŠ¿åœ¨å¿…è¡Œã€‚\nç°æœ‰ç§æœ‰åè®® å…¼é€š udp tcp ä»¥åŠ http websocker\nåè®®ä¸­æœ‰ä¸€éƒ¨åˆ†ï¼Œéœ€è¦å…¼é¡¾å¯è¯»æ€§å’Œé™ä½å¸¦å®½å ç”¨ã€‚æ‰€ä»¥ç®€å•ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ä¸²åˆ†å‰²çš„æ–¹å¼æ¥è¡¨è¾¾ã€‚ ä¾‹å¦‚ï¼š usename|password\nä½†æ˜¯åœ¨urlä¼ è¾“ä¸­åˆ†å‰²ç¬¦å·éœ€è¦è€ƒè™‘ä¸€ä¸‹åº”è¯¥å¦‚ä½•é€‰æ‹©ã€‚\nurlå‚æ•°ä¸­å¯å­—ç¬¦ä¸²æœ‰\n1 2 3 4 5 6 7 8 # ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ è¿™äº›ä¸èƒ½æ”¾åˆ°å‚æ•°å€¼å†… ; / ? : @ \u0026amp; = + $ , ã€Œ10ä¸ªã€ # éä¿ç•™å­—ç¬¦é›† éƒ¨åˆ†ä½ç½®ä¸å…è®¸å‡ºç°ï¼Œä½†æ˜¯å‚æ•°å†…éƒ¨å¯ç”¨ - _ . ! ~ * \u0026#39; ( ) ã€Œ9ä¸ªã€ # é¿å…ä½¿ç”¨çš„ å› ä¸ºç½‘è·¯ä¸­éƒ¨åˆ†ç½‘å…³ä¼šä½¿ç”¨æ‰€ä»¥éœ€è¦è½¬ä¹‰ { } | \\ ^ [ ] ã€Œ8ä¸ªã€ # å…¶ä»–ç”±ASCIIæ§åˆ¶å­—ç¬¦ \u0026lt; \u0026gt; # % \u0026#34; ç©ºæ ¼ encodeURI æ–¹æ³•ä¸ä¼šå¯¹ASCIIå­—æ¯ã€æ•°å­—ã€!@#$\u0026amp;*()=:/,;?+\u0026rsquo; ç¼–ç ã€‚ encodeURIComponent æ–¹æ³•ä¸ä¼šå¯¹ASCIIå­—æ¯ã€æ•°å­—ã€!*()\u0026rsquo; ç¼–ç ã€‚\nå¦å¤–éœ€è¦è€ƒè™‘çš„å› ç´ \n1ã€redisä¸­keynameçš„åˆ†éš”ç¬¦æˆ‘ä»¬å¸¸ç”¨ã€Œ:ã€å†’å·æ¥å¤„ç† 2ã€base64urlä¸­ ä¼šä½¿ç”¨ _ - æ‰€ä»¥åˆ†éš”ç¬¦çš„é€‰æ‹©å°±åªå‰©ä¸‹ . ! ~ * ' ( ) æŒ‰ç…§å…¼å®¹æ€§è€ƒè™‘å¯é€‰å­—ç¬¦é¡ºåºï¼š\nä¸ºäº†èƒ½åœ¨åè®®ä¸­ä¼ è¾“å¸¦å°æ•°çš„æ•°æ®ï¼Œæ‰€ä»¥ ã€Œ.ã€ ä¹Ÿä¸èƒ½ç”¨ åˆå‰©ä¸‹ ! ~ * ' ( ) è€Œ ã€Œ\u0026rsquo;ã€åœ¨éƒ¨åˆ†å®‰å…¨é˜²æŠ¤äº§å“ä¸­ä¼šè®¤ä¸ºsqlæ³¨å…¥ç¬¦ï¼Œæ‰€ä»¥æœ€å¥½ä¹Ÿä¸ç”¨ åˆå‰©ä¸‹ ! ~ * ( ) ã€Œ~ã€åœ¨éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­ä¼šè¢«ç¼–ç æˆ %7e åˆå‰©ä¸‹ ! * ( ) ã€Œ*ã€åœ¨éƒ¨åˆ†ç³»ç»Ÿé‡Œé¢ä¼šè¢«è®¤ä½œä¿ç•™å­—ç¬¦ åˆå‰©ä¸‹ ! ( ) ã€Œ()ã€æœ¬èº«å¯ä»¥åšä¸ºåŒ…è£¹æ•°æ®ä½¿ç”¨ æ‰€ä»¥åªå‰©ä¸‹ ! æ‰€ä»¥é€šå¸¸æ¥è¯´ ï¼Œæ‰€ä»¥é€‰æ‹©ç”¨!æ¥åšéåè®®å­—æ®µåˆ†éš”ç¬¦ *åšä¸º:çš„æ›¿ä»£ç¬¦(å®è·µä¸­é€‰æ‹©keyä¸ä¼šå­˜åœ¨çš„å­—ç¬¦ä¸²æ›¿ä»£ï¼Œä¾‹å¦‚ï¼šAA / O0O)\n","date":"2023-12-26T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/lot/privateprotocoldelimiter/","title":"ç§æœ‰åè®®åˆ†éš”ç¬¦ï¼Œå³urlå‚æ•°å¯ç”¨çš„åˆ†éš”ç¬¦"},{"content":"åœ¨è·¨äº‘å¼‚åœ°å¤šæ´»éƒ¨ç½²é‡åˆ°çš„æœ€å¤§çš„ä¸¤ä¸ªé—®é¢˜ 1 æ˜¯å¤æ‚åº¦ 2æ˜¯æˆæœ¬ã€‚ ä¸€ä¸ªé¡¹ç›®æƒ³è¾¾åˆ°99.9%çš„é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸”ä¸ä¾èµ–äº‘å‚å•†è¿˜æ˜¯éå¸¸å›°éš¾ã€‚ å¼‚åœ°å¤šæ´»æœ‰å¾ˆå¤šå®ç°æ–¹æ³•ï¼Œä¸‹é¢åˆ†äº«ä¸€ç§ è¾ƒä¸ºç®€å•å¹¶å°½å¯èƒ½çš„é™ä½æˆæœ¬çš„æ–¹æ¡ˆã€‚ä»¥é˜¿é‡Œäº‘ è…¾è®¯äº‘ åä¸ºäº‘ï¼Œåˆ†åˆ« ä¸Šæµ· å¹¿å· åŒ—äº¬ ä¸‰åŸã€‚ä»¥é˜¿é‡Œï¼ˆä¸Šæµ·ï¼‰å’Œè…¾è®¯ï¼ˆå¹¿å·ï¼‰ä¸ºä¸»ï¼Œåä¸ºä¸ºè¾…ã€‚\nä¸‹æ–‡ä¸­æ‰€æœ‰çš„redisæ‰€æŒ‡å‡ä¸ºkeydb6.xã€‚\nä¸»è¦å†…å®¹ è´Ÿè½½å‡è¡¡ è·¯ç”±å±‚ ä¸šåŠ¡å±‚ ç¼“å­˜å±‚ æ•°æ®å±‚ å®šæ—¶å¤‡ä»½\nè´Ÿè½½å‡è¡¡å’Œè·¯ç”±å±‚ å› ä¸ºéä¼ ç»Ÿwebé¡¹ç›®ï¼Œæœ‰å®¢æˆ·ç«¯ï¼Œè¿™éƒ¨åˆ†å†…å®¹é›†æˆåˆ°å®¢æˆ·ç«¯ã€‚ç”±å®¢æˆ·ç«¯æ ¹æ®é¢„ç½®è§„åˆ™é€‰æ‹© è¯·æ±‚åˆ°æŸä¸€ä¸ªæœºæˆ¿ã€‚\nä¸šåŠ¡å±‚ è¦å…¨éƒ¨æ”¹é€ ä¸ºæ— çŠ¶æ€æœåŠ¡ï¼Œ éƒ¨åˆ†ä¸šåŠ¡éœ€è¦å®Œå…¨å…¼å®¹åä¸º/é˜¿é‡Œ/è…¾è®¯çš„å‡½æ•°è®¡ç®—ï¼Œå¹¶åœ¨å¯¹åº”çš„äº‘å‚å•†å’Œè‡ªå·±çš„æœºå™¨ä¸Šéƒ½æœ‰éƒ¨ç½²ã€‚ éƒ¨åˆ†ä¸šåŠ¡æœ‰è¯»å†™å†²çªçš„æƒ…å†µï¼Œè™½ç„¶å¤šæ´»éƒ¨ç½²ï¼Œä½†æ˜¯ä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹å¤„åœ¨è¿è¡ŒçŠ¶æ€ï¼Œå…¶ä»–å®ä¾‹ç­‰å¾…æŠ¢å ä¸Šä½ã€‚\nç¼“å­˜å±‚å’Œæ•°æ®å±‚ åº”ç”¨å±‚å¯¹æ•°æ®åº“çš„è¯»å†™ éƒ½åœ¨redisä¸­ï¼Œå°‘æ•°åœ¨pgsqlã€‚pgsqlçš„æ•°æ®åªä½œä¸ºåˆ†æå’Œç»Ÿè®¡ä½¿ç”¨ã€‚ å…¶ä»–éœ€è¦å‚¨å­˜çš„æ•°æ®é‡‡ç”¨äº‘å‚å•†çš„å¯¹è±¡å‚¨å­˜ã€‚ï¼ˆè¦ä¼˜åŒ–ä¸€ä¸‹ï¼‰\nredis ä½¿ç”¨å¤šä¸ªé›†ç¾¤ æ ¸å¿ƒé›†ç¾¤è·¨äº‘è·¨æœºæˆ¿ è¯»å¤šå†™å°‘å…¨å±€å†™å…¥é›†ç¾¤ å‚¨å­˜æ ¸å¿ƒæ•°æ® è‡³å°‘3ä¸»ä¸‰ä»åˆ†æ•£éƒ¨ç½²åˆ° ä¸‰äº‘ä¸‰åŸå¸‚ã€‚\næ ¸å¿ƒæ•°æ®ä¸»è¦ç”¨äºå‚¨å­˜ä¸€äº›å¢é•¿ç¼“æ…¢ä½†æ˜¯è¯»å–é¢‘ç¹çš„æ•°æ®ã€‚ä¾‹å¦‚ ç”¨æˆ·ä¿¡æ¯ ç‰©è”ç½‘è®¾å¤‡é…ç½®ä¿¡æ¯ç­‰ã€‚\nä¸ºäº†é˜²æ­¢é¢‘ç¹è·¨äº‘è¯»å–ï¼Œåº”ç”¨å±‚éœ€è¦é’ˆå¯¹æ€§çš„åšä¸€äº›æ”¹é€ ï¼Œé’ˆå¯¹è¯»å†™éå¸¸é¢‘ç¹çš„æ•°æ®ï¼Œæœ¬åœ°æœºæˆ¿åº”è¯¥å¼€ä¸€ä¸ªrediså®ä¾‹æ¥ç¼“å­˜æ ¸å¿ƒé›†ç¾¤çš„æ•°æ®é™ä½æ ¸å¿ƒé›†ç¾¤å‹åŠ›ã€‚\n1ã€åº”ç”¨å±‚åœ¨å¯åŠ¨çš„æ—¶å€™ä»redisæŒ‰éœ€è¦è¯»å–æ•°æ®åˆ°æœ¬åœ°å…¨å±€mapï¼Œå¹¶åœ¨æ¯æ¬¡å¤„ç†è¯·æ±‚çš„æ—¶å€™æˆ–è€…ç”¨å®šæ—¶å™¨/æ¶ˆæ¯è®¢é˜…ç­‰æ–¹å¼æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°ä»redisè¯»å–æ•°æ®ã€‚\n2ã€å¯¹è¯»å–éå¸¸é¢‘ç¹çš„æ•°æ®ï¼Œéœ€è¦åœ¨æœ¬æœºæœºæˆ¿æ­å»ºä¸€ä¸ªrediså®ä¾‹ç”¨æ¥ä½œä¸ºæ ¸å¿ƒé›†ç¾¤çš„ä»åº“ï¼Œæ ¸å¿ƒé›†ç¾¤çš„éƒ¨åˆ†æ•°æ®ï¼Œé™ä½æ ¸å¿ƒé›†ç¾¤å‹åŠ›ï¼Œå¹¶é™ä½æ ¸å¿ƒé›†ç¾¤å…¬ç½‘é€šè®¯å¼€æ”¯ã€‚\n3ã€åº”ç”¨å±‚åœ¨å†™å…¥æ•°æ®çš„æ˜¯ï¼Œéœ€è¦æŒ‰éœ€åˆ¤æ–­æœ¬åœ°redisåŒæ­¥åº“æ˜¯å¦å·²ç»åŒæ­¥æˆåŠŸã€‚\næœºæˆ¿å†…éƒ¨ç¼“å­˜ è¯»ç¼“å­˜ ä¸Šæ–‡å·²ç»æåˆ°ï¼Œæœºæˆ¿å†…åº”è¯¥å¢åŠ è‡³å°‘ä¸€ä¸ªrediså®ä¾‹æˆ–è€…é›†ç¾¤ï¼Œç”¨æ¥ä½œä¸ºæ ¸å¿ƒé›†ç¾¤çš„ä»åº“ï¼Œä½œä¸ºæœ¬åœ°éƒ¨åˆ†æ•°æ®çš„è¯»å–ä½¿ç”¨ã€‚ä»¥é™ä½æ ¸å¿ƒé›†ç¾¤çš„å…¬ç½‘é€šè®¯å¼€æ”¯ã€‚\nä¸€è‡´æ€§è¦æ±‚éå¸¸é«˜çš„æ•°æ®ï¼Œä¾æ—§æ˜¯ä»æ ¸å¿ƒé›†ç¾¤è¯»å–ã€‚\nå†™ç¼“å­˜çš„å®ç° ä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„æ•°æ®ï¼Œå†™å…¥åˆ°æœ¬åœ°çš„redisé›†ç¾¤ï¼Œå¹¶å®‰éœ€å®šæ—¶åŒæ­¥åˆ°æ ¸å¿ƒé›†ç¾¤ã€‚ä¾‹å¦‚ï¼šè®¾å¤‡çš„åœ¨çº¿çŠ¶æ€å’Œä¼ æ„Ÿå™¨æ•°æ®ï¼ˆå®¹è®¸1-2ç§’å»¶è¿Ÿï¼Œæ•…éšœæ—¶å®¹è®¸10-15ç§’å»¶è¿Ÿï¼‰\néœ€è¦è½åœ°æŒä¹…åŒ–çš„æ•°æ®ï¼Œå¹¶å®¹è®¸çŸ­æ—¶é—´ä¸¢å¤±çš„æ•°æ®ï¼ˆè®¾å¤‡ä¼ æ„Ÿå™¨çš„å†å²æ•°æ®å®¹è®¸ä¸¢å¤±3-5åˆ†é’Ÿçš„ï¼‰å…ˆå†™å…¥åˆ°æœ¬åœ°çš„keydb å¼€å¯flashæŒä¹…åŒ–ï¼Œå¹¶å®šæ—¶åŒæ­¥flashæ–‡ä»¶å’Œrdb aofæ–‡ä»¶åˆ° æœ¬äº‘çš„å¯¹è±¡å‚¨å­˜ï¼ˆå› ä¸ºæ•°æ®åºå¤§ï¼Œåæ–‡é’ˆå¯¹æ­¤æ–¹æ¡ˆåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–é™ä½å¼€æ”¯ï¼‰ã€‚ ä¸€è‡´æ€§è¦æ±‚é«˜çš„æ•°æ®ï¼Œç›´æ¥å†™å…¥åˆ°æ ¸å¿ƒé›†ç¾¤ã€‚\nredisåŒæ­¥ é™¤äº†redis clusterä¹‹å¤–ä½¿ç”¨é˜¿é‡Œçš„RedisShakeæ¥åšå•å‘åŒæ­¥ã€‚\npgsql æ—¶åºæ•°æ®/kvæŒä¹…åŒ–å‚¨å­˜ å®ç° é¡¹ç›®ä»¥å†™ä¸ºä¸»ï¼Œè¯»å–è¾ƒå°‘ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥ä½¿ç”¨keydbæ›¿ä»£redisã€‚åŒæ—¶éƒ¨ç½²å¤šä¸ªé›†ç¾¤æ¥ä½œä¸ºçº¯redis å’Œkvç¡¬ç›˜å‚¨å­˜ä½¿ç”¨ã€‚\næ²¡æœ‰å¼•å…¥æ—¶åºæ•°æ®åº“ï¼Œæ˜¯å› ä¸ºæ•°é‡æ²¡æœ‰é‚£ä¹ˆåºå¤§ï¼Œkeddbçš„flashæ–¹æ¡ˆå¯ä»¥æ»¡è¶³ã€‚\nå®¹ç¾å’Œæ•°æ®åˆå¹¶ æ•°æ®åˆå¹¶ å› ä¸ºæ­¤é¡¹ç›®çš„è¿™éƒ¨åˆ†æ•°æ®éƒ½æ˜¯åŸºäºè®¾å¤‡æˆ–ç”¨æˆ·çš„ï¼Œæ‰€ä»¥åŒä¸€ä¸ªè®¾å¤‡å’ŒåŒä¸€ä¸ªæ•°æ®çš„å†å²æ•°æ®å¯ä»¥åˆå¹¶åˆ°åŒä¸€ä¸ªkeyé‡Œé¢ ä»¥å‡å°‘RocksDBï¼ˆkeydbçš„flashåŠŸèƒ½åŸºäºRocksDBï¼‰çš„å°æ–‡ä»¶æ•°é‡é™ä½å¯¹è±¡å‚¨å­˜æˆæœ¬ã€‚\né€šè¿‡k8s/swarm åœ¨é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘åˆ†åˆ« åˆ†åˆ«éƒ¨ç½²ä¸€ä¸ªå®ä¾‹ã€‚ä¸¤ä¸ªå®ä¾‹å…ˆæŸ¥è¯¢æœ¬åœ°è¦å¤„ç†çš„æ•°æ®é‡ï¼Œå¹¶åå•†ä»¥æ•°æ®é‡è¾ƒå¤šçš„ä¸ºä¸»å®ä¾‹ã€‚ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åˆå¹¶å‰ä¸€å¤©çš„å†å²æ•°æ®åˆ°æ•°ç»„/map ï¼Œä¸»å®ä¾‹åœ¨å¤„ç†çš„æ—¶å€™è¯¢é—®ä»å®ä¾‹æ˜¯å¦æœ‰åŒä¸€ä¸ªè®¾å¤‡/ç”¨æˆ·çš„æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®äº¤ä»˜ç»™ä¸»å®ä¾‹å¤„ç†ã€‚å¦‚æœæ²¡æœ‰ä»å®ä¾‹è‡ªå·±å¤„ç†ã€‚ é˜¿é‡Œäº‘èµ°å†…ç½‘æ•°æ®æŒä¹…åˆ°oss è…¾è®¯äº‘äº‘èµ°å†…ç½‘æ•°æ®æŒä¹…åŒ–åˆ°cosã€‚å¦å¤–ä¸€å°ä¸é™åˆ¶å¸¦å®½çš„æœåŠ¡å™¨åŒæ­¥åˆå¹¶ä¸¤å®¶å¯¹è±¡å‚¨å­˜æ•°æ®ä¿æŒä¸€è‡´ã€‚\næŸ¥è¯¢çš„æ—¶å€™ï¼Œå½“æ—¥æ•°æ®ä»keydbæŸ¥è¯¢ï¼Œå‰ä¸€æ—¥æ•°æ®ä»å¯¹è±¡å‚¨å­˜æŸ¥è¯¢ã€‚\nè´Ÿè½½å‡è¡¡å’Œå†å²æ•°æ®çš„å¤„ç† è®¾å¤‡å’Œappçš„è´Ÿè½½å‡è¡¡ è®¾å¤‡å®æ—¶æ•°æ® æ¥å—çš„åº”ç”¨å±‚ åˆ†åˆ«éƒ¨ç½²åˆ°é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘çš„å¤šå°æœºå™¨ä¸Šï¼Œç”±å®¢æˆ·ç«¯å…ˆè¯¢é—®æœåŠ¡ä¸Šçš„å…¥å£åº”ç”¨ç¨‹åºè‡ªå·±åº”è¯¥è¯·æ±‚é‚£å°æœåŠ¡ï¼Œå¹¶åœ¨ä¸€å®šå‘¨æœŸå†…ï¼ˆæœªæ–­ç”µé‡å¯ï¼‰æŒç»­è¯·æ±‚è¿™å°æœåŠ¡ã€‚å¦‚æœå¯¹åº”çš„æœºå™¨è´Ÿè½½è¾ƒå¤§ï¼Œä¼šé€šçŸ¥å®¢æˆ·ç«¯æ›´æ¢ä¸€ä¸ªåˆ«çš„åœ°å€ï¼Œæˆ–è€…åœ°å€è¿ä¸åŒçš„æ—¶å€™å®¢æˆ·ç«¯ä¹Ÿä¼šæ›´æ¢ä¸€ä¸ªåœ°å€ã€‚ï¼ˆç”¨æˆ·çš„appåŒæ ·çš„è§„åˆ™ï¼‰\næ•°æ®çš„å‚¨å­˜ å®æ—¶æ•°æ® å› ä¸ºå®¹è®¸éƒ¨åˆ†æ•°æ®ä¸¢å¤±ï¼Œæ‰€ä»¥å®æ—¶æ•°æ®ç”±å¯¹åº”çš„devConnæœåŠ¡ç›´æ¥å‚¨å­˜åˆ°mapï¼Œè€Œä¸å†™å…¥redisã€‚ç”¨æˆ·ç«¯appåœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œä¼šå…ˆæ ¹æ®æ ¸å¿ƒredisçš„ä»åº“ä¸­çš„å¯¹åº”è®¾å¤‡çš„è®°å½•è·å–å¯¹åº”è®¾å¤‡çš„æœåŠ¡å™¨åœ°å€ï¼Œç›´æ¥æŸ¥è¯¢map.\nå†å²æ•°æ® å®æ—¶æ•°æ®éœ€è¦åŠæ—¶è½ç›˜ï¼Œå®¹è®¸ä¸¢å¤±ä¸€å°éƒ¨åˆ†ï¼Œä½†æ˜¯ä¸èƒ½äº§ç”Ÿå¤§é‡ç¢æ–‡ä»¶ï¼Œä¸ç„¶ä¼šå¯¼è‡´åç»­å‚¨å­˜è´¹ç”¨å¤ªé«˜ã€‚\nä¸ºäº†é™ä½io,ç”±devConnè‡ªå·±å¤„ç†å‚¨å­˜é—®é¢˜ã€‚å‚¨å­˜åå¦‚ä½•åŒæ­¥åˆ°äº‘å‚¨å­˜å‚è€ƒä¸Šæ–‡ã€‚\nå…¶ä»– æ¨èé˜…è¯» http://kaito-kidd.com/2021/10/15/what-is-the-multi-site-high-availability-design/\n","date":"2023-12-20T18:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/mcloud/","title":"ä½æˆæœ¬é«˜å¯ç”¨æ€§å¼‚åœ°å¤šæ´»è·¨äº‘éƒ¨ç½²æ–¹æ¡ˆ"},{"content":"redisçš„Clusteré›†ç¾¤å»ä¸­å¿ƒåŒ–ï¼Œä»¥åŠé«˜å¯ç”¨å’Œé«˜å¼¹æ€§éƒ¨ç½²çš„ä¼˜åŠ¿ï¼Œæˆä¸º3èŠ‚ç‚¹ä»¥ä¸Šrediså¿…é€‰çš„é›†ç¾¤æ–¹æ¡ˆã€‚ keydbå…¼å®¹redis6.x,å¹¶æä¾›æ¯”redisæ€§èƒ½æ›´å¥½å¤šæ ¸ä¼˜åŒ–ã€‚å¦å¤–keydbæ”¯æŒflashå‚¨å­˜æ¨¡å¼å’Œçƒ­æ•°æ®å†…å­˜å‚¨å­˜ï¼Œä¹Ÿæˆä¸ºå¤§å®¹é‡kvæ•°æ®åº“çš„ä¸€ä¸ªä¼˜å…ˆè€ƒè™‘æ–¹æ¡ˆã€‚\næœ€è¿‘å‡ å¹´äº‘å‚å•†é¢‘ç¹æ•…éšœï¼Œä¹Ÿä¿ƒä½¿å¤§å®¶å¼€å§‹åªä½¿ç”¨äº‘å‚å•†çš„åŸºç¡€æœåŠ¡ï¼ˆä¸»æœºï¼‰è€Œæ›´å¤šçš„å¼€å§‹é€‰æ‹©è·¨äº‘è·¨åœ°åŒºéƒ¨ç½²ã€‚\nè€Œredisçš„Gossipåè®®æ­¤æ—¶ä¼šå ç”¨å¤§é‡é‡‘è´µçš„å…¬ç½‘å¸¦å®½\nGossipæ¶ˆæ¯æœ‰å¤šå¤§ä¼šå ç”¨å¤šå¤§å¸¦å®½ Redis å®ä¾‹å‘é€çš„ PING æ¶ˆæ¯çš„æ¶ˆæ¯ä½“æ˜¯ç”± clusterMsgDataGossip ç»“æ„ä½“ç»„æˆçš„ã€‚\n1 2 3 4 5 6 7 8 9 10 typedef struct { char nodename[CLUSTER_NAMELEN]; //40å­—èŠ‚ uint32_t ping_sent; //4å­—èŠ‚ uint32_t pong_received; //4å­—èŠ‚ char ip[NET_IP_STR_LEN]; //46å­—èŠ‚ uint16_t port; //2å­—èŠ‚ uint16_t cport; //2å­—èŠ‚ uint16_t flags; //2å­—èŠ‚ uint32_t notused1; //4å­—èŠ‚ } clusterMsgDataGossip; ä¸€ä¸ª Gossip æ¶ˆæ¯çš„å¤§å°äº†ï¼Œå³ 104 å­—èŠ‚ã€‚ æ¯ä¸ªå®ä¾‹åœ¨å‘é€ä¸€ä¸ª Gossip æ¶ˆæ¯æ—¶ï¼Œé™¤äº†ä¼šä¼ é€’è‡ªèº«çš„çŠ¶æ€ä¿¡æ¯ï¼Œé»˜è®¤è¿˜ä¼šä¼ é€’é›†ç¾¤ååˆ†ä¹‹ä¸€å®ä¾‹çš„çŠ¶æ€ä¿¡æ¯ã€‚ æ‰€ä»¥ï¼Œå¯¹äºä¸€ä¸ªåŒ…å«äº† 1000 ä¸ªå®ä¾‹çš„é›†ç¾¤æ¥è¯´ï¼Œæ¯ä¸ªå®ä¾‹å‘é€ä¸€ä¸ª PING æ¶ˆæ¯æ—¶ï¼Œä¼šåŒ…å« 100 ä¸ªå®ä¾‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œæ€»çš„æ•°æ®é‡æ˜¯ 10400 å­—èŠ‚ï¼Œå†åŠ ä¸Šå‘é€å®ä¾‹è‡ªèº«çš„ä¿¡æ¯ï¼Œä¸€ä¸ª Gossip æ¶ˆæ¯å¤§çº¦æ˜¯ 10KBã€‚ æ­¤å¤–ï¼Œä¸ºäº†è®© Slot æ˜ å°„è¡¨èƒ½å¤Ÿåœ¨ä¸åŒå®ä¾‹é—´ä¼ æ’­ï¼ŒPING æ¶ˆæ¯ä¸­è¿˜å¸¦æœ‰ä¸€ä¸ªé•¿åº¦ä¸º 16,384 bit çš„ Bitmapï¼Œè¿™ä¸ª Bitmap çš„æ¯ä¸€ä½å¯¹åº”äº†ä¸€ä¸ª Slotï¼Œå¦‚æœæŸä¸€ä½ä¸º 1ï¼Œå°±è¡¨ç¤ºè¿™ä¸ª Slot å±äºå½“å‰å®ä¾‹ã€‚è¿™ä¸ª Bitmap å¤§å°æ¢ç®—æˆå­—èŠ‚åï¼Œæ˜¯ 2KBã€‚æˆ‘ä»¬æŠŠå®ä¾‹çŠ¶æ€ä¿¡æ¯å’Œ Slot åˆ†é…ä¿¡æ¯ç›¸åŠ ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª PING æ¶ˆæ¯çš„å¤§å°äº†ï¼Œå¤§çº¦æ˜¯ 12KBã€‚ PONG æ¶ˆæ¯å’Œ PING æ¶ˆæ¯çš„å†…å®¹ä¸€æ ·ï¼Œæ‰€ä»¥ï¼Œå®ƒçš„å¤§å°å¤§çº¦æ˜¯ 12KBã€‚æ¯ä¸ªå®ä¾‹å‘é€äº† PING æ¶ˆæ¯åï¼Œè¿˜ä¼šæ”¶åˆ°è¿”å›çš„ PONG æ¶ˆæ¯ï¼Œä¸¤ä¸ªæ¶ˆæ¯åŠ èµ·æ¥æœ‰ 24KBã€‚ å¦‚æœå®ä¾‹æ­£å¸¸å¤„ç†çš„å•ä¸ªè¯·æ±‚åªæœ‰å‡  KB çš„è¯ï¼Œé‚£ä¹ˆï¼Œå®ä¾‹ä¸ºäº†ç»´æŠ¤é›†ç¾¤çŠ¶æ€ä¸€è‡´ä¼ è¾“çš„ PING/PONG æ¶ˆæ¯ï¼Œå°±è¦æ¯”å•ä¸ªä¸šåŠ¡è¯·æ±‚å¤§äº†ã€‚è€Œä¸”ï¼Œæ¯ä¸ªå®ä¾‹éƒ½ä¼šç»™å…¶å®ƒå®ä¾‹å‘é€ PING/PONG æ¶ˆæ¯ã€‚éšç€é›†ç¾¤è§„æ¨¡å¢åŠ ï¼Œè¿™äº›å¿ƒè·³æ¶ˆæ¯çš„æ•°é‡ä¹Ÿä¼šè¶Šå¤šï¼Œä¼šå æ®ä¸€éƒ¨åˆ†é›†ç¾¤çš„ç½‘ç»œé€šä¿¡å¸¦å®½ï¼Œè¿›è€Œä¼šé™ä½é›†ç¾¤æœåŠ¡æ­£å¸¸å®¢æˆ·ç«¯è¯·æ±‚çš„ååé‡ã€‚\né€šè®¯é¢‘ç‡ Redis Cluster çš„å®ä¾‹å¯åŠ¨åï¼Œé»˜è®¤ä¼šæ¯ç§’ä»æœ¬åœ°çš„å®ä¾‹åˆ—è¡¨ä¸­éšæœºé€‰å‡º 5 ä¸ªå®ä¾‹ï¼Œå†ä»è¿™ 5 ä¸ªå®ä¾‹ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€ä¹…æ²¡æœ‰é€šä¿¡çš„å®ä¾‹ï¼ŒæŠŠ PING æ¶ˆæ¯å‘é€ç»™è¯¥å®ä¾‹ã€‚è¿™æ˜¯å®ä¾‹å‘¨æœŸæ€§å‘é€ PING æ¶ˆæ¯çš„åŸºæœ¬åšæ³•ã€‚ è¿™æœ‰å¯èƒ½ä¼šå‡ºç°ï¼Œæœ‰äº›å®ä¾‹ä¸€ç›´æ²¡æœ‰è¢«å‘é€ PING æ¶ˆæ¯ï¼Œå¯¼è‡´å®ƒä»¬ç»´æŠ¤çš„é›†ç¾¤çŠ¶æ€å·²ç»è¿‡æœŸäº†ã€‚ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒRedis Cluster çš„å®ä¾‹ä¼šæŒ‰ç…§æ¯ 100ms ä¸€æ¬¡çš„é¢‘ç‡ï¼Œæ‰«ææœ¬åœ°çš„å®ä¾‹åˆ—è¡¨ï¼Œå¦‚æœå‘ç°æœ‰å®ä¾‹æœ€è¿‘ä¸€æ¬¡æ¥æ”¶ PONG æ¶ˆæ¯çš„æ—¶é—´ï¼Œå·²ç»å¤§äºé…ç½®é¡¹ cluster-node-timeout çš„ä¸€åŠäº†ï¼ˆcluster-node-timeout/2ï¼‰ï¼Œå°±ä¼šç«‹åˆ»ç»™è¯¥å®ä¾‹å‘é€ PING æ¶ˆæ¯ï¼Œæ›´æ–°è¿™ä¸ªå®ä¾‹ä¸Šçš„é›†ç¾¤çŠ¶æ€ä¿¡æ¯ã€‚ æˆ‘ä»¬æ¥æ€»ç»“ä¸‹å•å®ä¾‹æ¯ç§’ä¼šå‘é€çš„ PING æ¶ˆæ¯æ•°é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nPING æ¶ˆæ¯å‘é€æ•°é‡ = 1 + 10 * å®ä¾‹æ•°ï¼ˆæœ€è¿‘ä¸€æ¬¡æ¥æ”¶ PONG æ¶ˆæ¯çš„æ—¶é—´è¶…å‡º cluster-node-timeout/2ï¼‰\nå‡è®¾å•ä¸ªå®ä¾‹æ£€æµ‹å‘ç°ï¼Œæ¯ 100 æ¯«ç§’æœ‰ 10 ä¸ªå®ä¾‹çš„ PONG æ¶ˆæ¯æ¥æ”¶è¶…æ—¶ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå®ä¾‹æ¯ç§’å°±ä¼šå‘é€ 101 ä¸ª PING æ¶ˆæ¯ï¼Œçº¦å  1.2MB/s å¸¦å®½ã€‚å¦‚æœé›†ç¾¤ä¸­æœ‰ 30 ä¸ªå®ä¾‹æŒ‰ç…§è¿™ç§é¢‘ç‡å‘é€æ¶ˆæ¯ï¼Œå°±ä¼šå ç”¨ 36MB/s å¸¦å®½ï¼Œè¿™å°±ä¼šæŒ¤å é›†ç¾¤ä¸­ç”¨äºæœåŠ¡æ­£å¸¸è¯·æ±‚çš„å¸¦å®½ã€‚\nå¦‚ä½•é™ä½å®ä¾‹é—´çš„é€šä¿¡å¼€é”€ æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼Œå®ä¾‹é—´å‘é€æ¶ˆæ¯çš„é¢‘ç‡æœ‰ä¸¤ä¸ªã€‚\næ¯ä¸ªå®ä¾‹æ¯ 1 ç§’å‘é€ä¸€æ¡ PING æ¶ˆæ¯ã€‚ è¿™ä¸ªé¢‘ç‡ä¸ç®—é«˜ï¼Œå¦‚æœå†é™ä½è¯¥é¢‘ç‡çš„è¯ï¼Œé›†ç¾¤ä¸­å„å®ä¾‹çš„çŠ¶æ€å¯èƒ½å°±æ²¡åŠæ³•åŠæ—¶ä¼ æ’­äº†ã€‚\næ¯ä¸ªå®ä¾‹æ¯ 100 æ¯«ç§’ä¼šåšä¸€æ¬¡æ£€æµ‹ï¼Œç»™ PONG æ¶ˆæ¯æ¥æ”¶è¶…è¿‡ cluster-node-timeout/2 çš„èŠ‚ç‚¹å‘é€ PING æ¶ˆæ¯ã€‚\nå®ä¾‹æŒ‰ç…§æ¯ 100 æ¯«ç§’è¿›è¡Œæ£€æµ‹çš„é¢‘ç‡ï¼Œæ˜¯ Redis å®ä¾‹é»˜è®¤çš„å‘¨æœŸæ€§æ£€æŸ¥ä»»åŠ¡çš„ç»Ÿä¸€é¢‘ç‡ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹å®ƒã€‚\né…ç½®é¡¹ cluster-node-timeout å®šä¹‰äº†é›†ç¾¤å®ä¾‹è¢«åˆ¤æ–­ä¸ºæ•…éšœçš„å¿ƒè·³è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 15 ç§’ã€‚å¦‚æœ cluster-node-timeout å€¼æ¯”è¾ƒå°ï¼Œé‚£ä¹ˆï¼Œåœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸­ï¼Œå°±ä¼šæ¯”è¾ƒé¢‘ç¹åœ°å‡ºç° PONG æ¶ˆæ¯æ¥æ”¶è¶…æ—¶çš„æƒ…å†µã€‚ ä¸ºäº†é¿å…è¿‡å¤šçš„å¿ƒè·³æ¶ˆæ¯æŒ¤å é›†ç¾¤å¸¦å®½ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒå¤§ cluster-node-timeout å€¼ï¼Œæ¯”å¦‚è¯´è°ƒå¤§åˆ° 20 ç§’æˆ– 25 ç§’ã€‚è¿™æ ·ä¸€æ¥ï¼Œ PONG æ¶ˆæ¯æ¥æ”¶è¶…æ—¶çš„æƒ…å†µå°±ä¼šæœ‰æ‰€ç¼“è§£ï¼Œå•å®ä¾‹ä¹Ÿä¸ç”¨é¢‘ç¹åœ°æ¯ç§’æ‰§è¡Œ 10 æ¬¡å¿ƒè·³å‘é€æ“ä½œäº†ã€‚ å¦‚ä½•éªŒè¯ ä¸ºäº†éªŒè¯è°ƒæ•´ cluster-node-timeout å€¼åï¼Œæ˜¯å¦èƒ½å‡å°‘å¿ƒè·³æ¶ˆæ¯å ç”¨çš„é›†ç¾¤ç½‘ç»œå¸¦å®½ï¼Œæˆ‘ç»™ä½ æä¸ªå°å»ºè®®ï¼šä½ å¯ä»¥åœ¨è°ƒæ•´ cluster-node-timeout å€¼çš„å‰åï¼Œä½¿ç”¨ tcpdump å‘½ä»¤æŠ“å–å®ä¾‹å‘é€å¿ƒè·³ä¿¡æ¯ç½‘ç»œåŒ…çš„æƒ…å†µã€‚ æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åï¼Œæˆ‘ä»¬å¯ä»¥æŠ“å–åˆ° 192.168.10.3 æœºå™¨ä¸Šçš„å®ä¾‹ä» 16379 ç«¯å£å‘é€çš„å¿ƒè·³ç½‘ç»œåŒ…ï¼Œå¹¶æŠŠç½‘ç»œåŒ…çš„å†…å®¹ä¿å­˜åˆ° r1.cap æ–‡ä»¶ä¸­ï¼š bashå¤åˆ¶ä»£ç tcpdump host 192.168.10.3 port 16379 -i ç½‘å¡å -w /tmp/r1.cap\né€šè¿‡åˆ†æç½‘ç»œåŒ…çš„æ•°é‡å’Œå¤§å°ï¼Œå°±å¯ä»¥åˆ¤æ–­è°ƒæ•´ cluster-node-timeout å€¼å‰åï¼Œå¿ƒè·³æ¶ˆæ¯å ç”¨çš„å¸¦å®½æƒ…å†µäº†ã€‚\nå…³äºCodis Codisé‡‡å–å•ç‹¬ç®¡ç†Slotçš„ ä»¥åŠä½œä¸ºredisçš„ä¸€ä¸ªå‰ç«¯ä»£ç†çš„æ–¹å¼å¯ä»¥ä¸ä½¿ç”¨Gossipåè®®ï¼Œæ‰€ä»¥æ²¡æœ‰è¿™éƒ¨å¸¦å®½å ç”¨ã€‚ä½†æ˜¯codiså·²ç»å¾ˆä¹…ä¸ç»´æŠ¤ï¼Œå¹¶ä¸”å¼•å…¥äº†ä¸­é—´ä»¶ä»¥åä¼šé™ä½æ•´ä½“æ€§èƒ½ã€‚ æ‰€ä»¥æœ€å¥½çš„æ–¹æ³• è¿˜æ˜¯ 1ã€æ§åˆ¶é›†ç¾¤å®ä¾‹çš„æ•°é‡ 2ã€è°ƒå¤§cluster-node-timeout å€¼å¹¶åšå¥½é›†ç¾¤æ•…éšœ/è„‘è£‚çš„è‡ªæ„ˆ\n","date":"2023-12-19T18:14:20+08:00","permalink":"https://dev.leiyanhui.com/redis/gossipoptimization/","title":"redisé›†ç¾¤Gossipåè®®å ç”¨å¸¦å®½è¿‡å¤§çš„ä¼˜åŒ–"},{"content":"æ·»åŠ ç•Œé¢ï¼Œå‘ŠçŸ¥å·¥å•ç”³è¯·ï¼Œå·¥å•ç”³è¯·åå‘ŠçŸ¥ æ‚¨å¥½ã€‚éå¸¸æŠ±æ­‰ã€‚ipv6å›æºç›®å‰å·²ä¸æ”¯æŒã€‚ä¸è¿‡æ‚¨é€šè¿‡EOï¼ˆè¾¹ç¼˜å®‰å…¨åŠ é€Ÿå¹³å°ï¼‰æ¥å…¥\nçœŸçš„ä½©æœæ˜‚ï¼\næ²¡æœ‰ä»»ä½•æå‰é€šçŸ¥ï¼Œç›´æ¥ç»™å…³æ‰äº†ï¼\n","date":"2023-12-05T18:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/tencent-cdn/","title":"è…¾è®¯cdnåœ¨æ— ä»»ä½•é€šçŸ¥çš„æƒ…å†µä¸‹ç›´æ¥å…³é—­äº†ipv6å›æº"},{"content":"é€‰å‹ ä¸šåŠ¡ç±»å‹ å…è®¸çŸ­æ—¶é—´ï¼ˆæ•°ç§’å†…ï¼‰éƒ¨åˆ†ä¸šåŠ¡ä¸­æ–­ï¼Œä¸å…è®¸è¶…è¿‡1åˆ†é’Ÿä»¥ä¸Šçš„æ•…éšœã€‚ ç°æœ‰æœåŠ¡ å¤šä¸ºæ— çŠ¶æ€æœåŠ¡ï¼Œä¸€éƒ¨åˆ†ä¸ºåŠæ— çŠ¶æ€ï¼Œå¦å¤–æœ‰rediså’Œpgsql ã€‚ æœåŠ¡å™¨ ç›®å‰å…±æœ‰ 12å° ç›®å‰10å°åœ¨çº¿ 2å°å†—ä½™çƒ­å¤‡ã€‚ä¸»è¦æ˜¯é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ï¼Œå¦æœ‰ä¸¤å°å¼‚åœ°pveã€‚\né¦–å…ˆè¯´ï¼ŒæœåŠ¡å™¨æœ‰ä¸€äº›æœ¬èº«æ˜¯äº‘å‚å•†çš„æ´»åŠ¨ä»·æ ¼è´­å…¥çš„ï¼Œé…ç½®2H2Gé‚£ç§ã€‚k8sè‚¯å®šæ˜¯ä¸é€‚åˆï¼Œå¤ªé‡ã€‚k3såªèƒ½è¯´æ˜¯ç©ºæœåŠ¡çš„æ˜¯å†…å­˜å ç”¨å¯ä»¥ï¼ˆæœ¬èº«512Må·¦å³å†…å­˜ï¼‰ï¼Œå¼€å¯æœåŠ¡åå’Œk8så¹¶æ²¡æœ‰æ˜æ˜¾æœ‰æ—¶ã€‚\né™¤å»æ€§èƒ½çš„å ç”¨ï¼Œk8s/k3sé›†ç¾¤å…¬ç½‘é€šè®¯å¼€æ”¯è¾ƒå¤§ã€‚å®¹å™¨æ•°é‡åªæœ‰å‡ åä¸ªï¼Œæœºå™¨ä¸åˆ°10å°ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•Kuberneteséƒ½ä¸é€‚åˆç›®å‰çš„åœºæ™¯ã€‚\nå…¶æ¬¡è€ƒè™‘åˆ° mesos,æ— å¥ˆäº†è§£å¤ªå°‘ï¼ŒåŠ ä¸Šè¿‡äºéä¸»æµäº†ï¼Œæ‰€ä»¥æ²¡æœ‰å»å°è¯•ã€‚\nç„¶åç›®å…‰å°±æŠ•åˆ°äº† docker swarmã€‚\ndocker swarm ä¼˜åŠ¿ ç¡¬ä»¶èµ„æºå ç”¨å¾ˆä½ï¼Œcpuå’Œå†…å­˜å ç”¨å¯ä»¥å¿½ç•¥ä¸è®¡ èŠ‚ç‚¹ä¹‹é—´å…¬ç½‘é€šè®¯å¸¦å®½å ç”¨åœ¨10-å‡ åKï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ åŸdocker/podmanå®¹å™¨è¿ç§»æˆæœ¬æ—¶é—´æˆæœ¬æä½ï¼Œæ¯•ç«Ÿdockerè‡ªå®¶çš„ï¼Œdocker compose ymlç•¥å¾®ä¿®æ”¹å°±å¯ä»¥ã€‚ partainer å¤Ÿè½»é‡ï¼Œå¤Ÿç›´è§‚ï¼Œä¹Ÿè¶³å¤Ÿdocker swarmçš„å›¾å½¢åŒ–ç®¡ç†ï¼ˆæ¯•ç«Ÿæœ‰æ—¶å€™è¿˜æ˜¯éœ€è¦ç›´è§‚çš„æŸ¥çœ‹çš„æœåŠ¡çš„åˆ†å¸ƒæƒ…å†µï¼‰ docker swarm çš„ç¼ºç‚¹ åªé’ˆå¯¹ç›®å‰é¡¹ç›®çš„æƒ…å†µçš„ä¸€äº›çœ‹æ³•\næ—¥åè¿ç§»äº‘k8séœ€è¦äºŒæ¬¡æŠ˜è…¾ï¼Œç›®å‰ä¸»æµäº‘å‚å•†éƒ½æ”¾å¼ƒäº†docker swarm å¯èƒ½Bæ ¼ä¸å¤Ÿ æœ‰äººä¸ºé˜»åŠ› æœåŠ¡çš„å¤„ç† åŠæ— çŠ¶æ€æœåŠ¡ï¼ˆå¼±æŒä¹…åŒ–å‚¨å­˜ä¾èµ–çš„ï¼‰ æ— çŠ¶æ€æœåŠ¡æ²¡å•¥å¯è¯´çš„ï¼Œä½†æ˜¯æœ‰ä¸€äº›åŠæ— çŠ¶æ€çš„æœåŠ¡ï¼Œéœ€è¦å­˜å–æ•°æ®ã€‚åœ¨ä»æ‰‹åŠ¨ç®¡ç†dockerå‡åˆ°swarmçš„æ—¶å€™éœ€è¦ç®€å•å¤„ç†ä¸€ä¸‹ã€‚\nå°½å¯èƒ½ ä½¿ç”¨constraintå‚æ•° æŠŠæœåŠ¡åˆ†å¸ƒæŒ‡å®šçš„æŸå°æˆ–æŸç»„æœºå™¨ä¸Šã€‚ ä½¿ç”¨äº‘å‚¨å­˜ï¼Œåœ¨äº‘ä¸»æœºä¸Šä½¿ç”¨å†…ç½‘è¯»å†™å¯¹åº”çš„æ•°æ®ã€‚ æœ‰çŠ¶æ€æœåŠ¡redis/mysql é¡¹ç›®é‡Œé¢å­˜åœ¨3ä¸ªredisé›†ç¾¤ ä¸€ä¸ªpgsqlä¸»ä»ã€‚\nåŸåˆ™ä¸Š å°½å¯èƒ½çš„ä½¿ç”¨äº‘å‚å•†çš„ï¼Œä¸è‡ªå»ºã€‚éè¦è‡ªå»ºçš„æƒ…å†µå‚è€ƒä¸‹æ–‡ ä½¿ç”¨constraintå‚æ•° æŠŠæœåŠ¡åˆ†å¸ƒæŒ‡å®šçš„æŸå°æˆ–æŸç»„æœºå™¨ä¸Šã€‚ è¯»å†™ä¸é¢‘ç¹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚redisçš„ rdb/aof ç›´æ¥åˆ°äº‘å‚¨å­˜ä¸Šã€‚ è¯»å†™é¢‘ç¹ä½†æ˜¯å¯ç”¨æ€§è¦æ±‚ä¸é«˜çš„æ–‡ä»¶ï¼Œç›´æ¥è½åœ°åˆ°æœºå™¨çš„ç¡¬ç›˜ä¸Šï¼Œç„¶åå®šæ—¶åŒæ­¥åˆ°äº‘å‚¨å­˜ã€‚ è¯»å†™é¢‘ç¹å¹¶ä¸”å¯ç”¨æ€§è¦æ±‚é«˜çš„æ–‡ä»¶ï¼Œç›´æ¥è½åœ°äº‘å‚¨å­˜æˆ–è€…ç›´æ¥ç”¨äº‘å‚å•†çš„æœåŠ¡ã€‚æ¯”å¦‚pgsql å®è·µ é…ç½®é¡¹ç›® å°½å¯èƒ½ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œç›´æ¥åˆ°swarmçš„æœåŠ¡é‡Œé¢ã€‚ é…ç½®é¡¹ç›® åªèƒ½ä½¿ç”¨é…ç½®æ–‡ä»¶çš„ï¼Œé…ç½®æ–‡ä»¶åˆ°äº‘å‚¨å­˜ã€‚ä½¿ç”¨ docker rcloneæ’ä»¶ï¼Œç›´æ¥ç»‘å®šåˆ°dockerå·ã€‚ åµŒå…¥å¼kvï¼Œå†™é¢‘ç¹ä½†æ˜¯å…è®¸çŸ­æ—¶é—´ä¸¢å¤±çš„ï¼Œè½åœ°ç¡¬ç›˜ï¼Œå¹¶å®šæ—¶åŒæ­¥åˆ°çš„äº‘å‚¨å­˜ã€‚ redisæŒä¹…åŒ–æ–‡ä»¶ ä½¿ç”¨ docker rcloneæ’ä»¶ï¼Œç›´æ¥ç»‘å®šåˆ°dockerå·ã€‚ ","date":"2023-12-03T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/multcloud/","title":"è·¨äº‘é›†ç¾¤ç®¡ç† k8s/k3s/docker swarm /apache mesos é€‰å‹å’Œæ€»ç»“"},{"content":"ä½¿ç”¨ ForEachMaster å³å¯ï¼Œå¦‚æœä»Slaveè·å–æœ‰å¯èƒ½ä¼šæœ‰é‡å¤çš„éœ€è¦å¦å¤–å»é‡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 func GetKeysWithPrefixForCluster(rdb redis.ClusterClient, ctx context.Context, prefix string) (keys []string, err error) { // ä»æ‰€æœ‰ä¸»èŠ‚ç‚¹ä¸­ä¾æ¬¡è·å– err = rdb.ForEachMaster(ctx, func(ctx context.Context, shard *redis.Client) (err error) { thisKeys, err := shard.Keys(ctx, prefix+\u0026#34;*\u0026#34;).Result() if err != nil { return err } keys = append(keys, thisKeys...) return nil }) if err != nil { log.Println(\u0026#34;GetKeysWithPrefixForCluster err:\u0026#34;, err) return keys, nil } //keys=unique(keys) return keys, nil } å»é‡å¤\n1 2 3 4 5 6 7 8 9 10 11 func unique(slice []string) []string { keysMap := make(map[string]bool) var uniqueKeys []string for _, entry := range slice { if _, value := keysMap[entry]; !value { keysMap[entry] = true uniqueKeys = append(uniqueKeys, entry) } } return uniqueKeys } ","date":"2023-11-30T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/getkeyswithprefixforcluster/","title":"golang ä»redis clusterè·å–æ‰€æœ‰keys"},{"content":"å…ˆæµ‹è¯•è§¦å‘å™¨ https://api.aliyun.com/api/FC/2023-03-30/GetTrigger?useCommon=true\nå¾—åˆ°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { \u0026#34;triggerName\u0026#34;: \u0026#34;h t t p\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;openapiæ§åˆ¶\u0026#34;, \u0026#34;triggerId\u0026#34;: \u0026#34;XXXXXX\u0026#34;, \u0026#34;sourceArn\u0026#34;: null, \u0026#34;triggerType\u0026#34;: \u0026#34;http\u0026#34;, \u0026#34;invocationRole\u0026#34;: null, \u0026#34;qualifier\u0026#34;: \u0026#34;LATEST\u0026#34;, \u0026#34;triggerConfig\u0026#34;: \u0026#34;{\\\u0026#34;methods\\\u0026#34;:[\\\u0026#34;GET\\\u0026#34;,\\\u0026#34;POST\\\u0026#34;,\\\u0026#34;PUT\\\u0026#34;,\\\u0026#34;DELETE\\\u0026#34;],\\\u0026#34;authType\\\u0026#34;:\\\u0026#34;anonymous\\\u0026#34;,\\\u0026#34;disableURLInternet\\\u0026#34;:false}\u0026#34;, \u0026#34;createdTime\u0026#34;: \u0026#34;2023-11-28T23:16:27Z\u0026#34;, \u0026#34;lastModifiedTime\u0026#34;: \u0026#34;2023-11-28T23:22:11Z\u0026#34;, \u0026#34;status\u0026#34;: null, \u0026#34;targetArn\u0026#34;: null, \u0026#34;httpTrigger\u0026#34;: { \u0026#34;urlInternet\u0026#34;: \u0026#34;https://X\u0026#34;, \u0026#34;urlIntranet\u0026#34;: \u0026#34;https://\u0026#34; } } ä¸»è¦æ˜¯ triggerConfig\n1 {\u0026#34;methods\u0026#34;:[\u0026#34;GET\u0026#34;,\u0026#34;POST\u0026#34;,\u0026#34;PUT\u0026#34;,\u0026#34;DELETE\u0026#34;],\u0026#34;authType\u0026#34;:\u0026#34;anonymous\u0026#34;,\u0026#34;disableURLInternet\u0026#34;:false} è·å¾—golang é˜¿é‡Œäº‘çš„è¿™ä¸ªåœ°æ–¹ æ³›åŒ–è°ƒç”¨æ–¹æ¡ˆï¼ˆCommonæ¨¡å¼ï¼‰ æœ‰bug åªèƒ½ç”¨ ç‰¹åŒ–è°ƒç”¨ä»£ç \n1 2 3 4 go get github.com/alibabacloud-go/fc-20230330/v3/client go get github.com/alibabacloud-go/darabonba-openapi/v2/client go get github.com/alibabacloud-go/tea-utils/v2/service go get github.com/alibabacloud-go/tea/tea ç„¶åä¿®æ”¹ä¸‹é¢ä»£ç ä¸­çš„ TriggerConfig ï¼Œæ¯”å¦‚ç¦æ­¢å…¬ç½‘è®¿é—® ç­‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; fc20230330 \u0026#34;github.com/alibabacloud-go/fc-20230330/v3/client\u0026#34; openapi \u0026#34;github.com/alibabacloud-go/darabonba-openapi/v2/client\u0026#34; util \u0026#34;github.com/alibabacloud-go/tea-utils/v2/service\u0026#34; \u0026#34;github.com/alibabacloud-go/tea/tea\u0026#34; ) /** * ä½¿ç”¨AK\u0026amp;SKåˆå§‹åŒ–è´¦å·Client * @param accessKeyId * @param accessKeySecret * @return Client * @throws Exception */ func CreateClient (accessKeyId *string, accessKeySecret *string) (_result *fc20230330.Client, _err error) { config := \u0026amp;openapi.Config{ // å¿…å¡«ï¼Œæ‚¨çš„ AccessKey ID AccessKeyId: accessKeyId, // å¿…å¡«ï¼Œæ‚¨çš„ AccessKey Secret AccessKeySecret: accessKeySecret, } // Endpoint è¯·å‚è€ƒ https://api.aliyun.com/product/FC config.Endpoint = tea.String(\u0026#34;X X X X X X X.cn-shanghai.fc.aliyuncs.com\u0026#34;) _result = \u0026amp;fc20230330.Client{} _result, _err = fc20230330.NewClient(config) return _result, _err } func _main (args []*string) (_err error) { // è¯·ç¡®ä¿ä»£ç è¿è¡Œç¯å¢ƒè®¾ç½®äº†ç¯å¢ƒå˜é‡ ALIBABA_CLOUD_ACCESS_KEY_ID å’Œ ALIBABA_CLOUD_ACCESS_KEY_SECRETã€‚ // å·¥ç¨‹ä»£ç æ³„éœ²å¯èƒ½ä¼šå¯¼è‡´ AccessKey æ³„éœ²ï¼Œå¹¶å¨èƒè´¦å·ä¸‹æ‰€æœ‰èµ„æºçš„å®‰å…¨æ€§ã€‚ä»¥ä¸‹ä»£ç ç¤ºä¾‹ä½¿ç”¨ç¯å¢ƒå˜é‡è·å– AccessKey çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œä»…ä¾›å‚è€ƒï¼Œå»ºè®®ä½¿ç”¨æ›´å®‰å…¨çš„ STS æ–¹å¼ï¼Œæ›´å¤šé‰´æƒè®¿é—®æ–¹å¼è¯·å‚è§ï¼šhttps://help.aliyun.com/document_detail/378661.html client, _err := CreateClient(tea.String(os.Getenv(\u0026#34;ALIBABA_CLOUD_ACCESS_KEY_ID\u0026#34;)), tea.String(os.Getenv(\u0026#34;ALIBABA_CLOUD_ACCESS_KEY_SECRET\u0026#34;))) if _err != nil { return _err } updateTriggerInput := \u0026amp;fc20230330.UpdateTriggerInput{ TriggerConfig: tea.String(\u0026#34;{\\\u0026#34;methods\\\u0026#34;:[\\\u0026#34;GET\\\u0026#34;,\\\u0026#34;POST\\\u0026#34;,\\\u0026#34;PUT\\\u0026#34;,\\\u0026#34;DELETE\\\u0026#34;],\\\u0026#34;authType\\\u0026#34;:\\\u0026#34;anonymous\\\u0026#34;,\\\u0026#34;disableURLInternet\\\u0026#34;:false}\u0026#34;), } updateTriggerRequest := \u0026amp;fc20230330.UpdateTriggerRequest{ Body: updateTriggerInput, } runtime := \u0026amp;util.RuntimeOptions{} headers := make(map[string]*string) tryErr := func()(_e error) { defer func() { if r := tea.Recover(recover()); r != nil { _e = r } }() // å¤åˆ¶ä»£ç è¿è¡Œè¯·è‡ªè¡Œæ‰“å° API çš„è¿”å›å€¼ _, _err = client.UpdateTriggerWithOptions(tea.String(\u0026#34;FCNAME\u0026#34;), tea.String(\u0026#34;httpX X X X\u0026#34;), updateTriggerRequest, headers, runtime) if _err != nil { return _err } return nil }() if tryErr != nil { var error = \u0026amp;tea.SDKError{} if _t, ok := tryErr.(*tea.SDKError); ok { error = _t } else { error.Message = tea.String(tryErr.Error()) } // é”™è¯¯ message fmt.Println(tea.StringValue(error.Message)) // è¯Šæ–­åœ°å€ var data interface{} d := json.NewDecoder(strings.NewReader(tea.StringValue(error.Data))) d.Decode(\u0026amp;data) if m, ok := data.(map[string]interface{}); ok { recommend, _ := m[\u0026#34;Recommend\u0026#34;] fmt.Println(recommend) } _, _err = util.AssertAsString(error.Message) if _err != nil { return _err } } return _err } func main() { err := _main(tea.StringSlice(os.Args[1:])) if err != nil { panic(err) } } ","date":"2023-11-28T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/fc/ali-http-trigger/","title":"é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—httpè§¦å‘å™¨ æ“ä½œæ¥å£å®ä¾‹"},{"content":"ä¸æ”¯æŒè·¨ç«™\n1 2 3 4 5 6 7 8 9 10 11 12 13 package main import webview \u0026#34;github.com/webview/webview_go\u0026#34; func main() { w := webview.New(false) defer w.Destroy() w.SetTitle(\u0026#34;Basic Example\u0026#34;) w.SetSize(480, 320, webview.HintNone) w.Navigate(\u0026#34;http://www.ip33.com/browser.html\u0026#34;) w.Run() } ç¼–è¯‘\n1 go build -o \u0026#34;$(basename \u0026#34;$(pwd)\u0026#34;)_exe\u0026#34; *.go\u0026amp;\u0026amp; ls -lh *exe è·¨å¹³å°ç¼–è¯‘è²Œä¼¼æœ‰é—®é¢˜\n","date":"2023-11-28T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/webview/","title":"golang æ¯”è¾ƒé è°±çš„ webview"},{"content":"åœ¨å¹³é“ºæ¡Œé¢ä¸‹ ä¸€èˆ¬å¸¸ç”¨çš„ å¿«æ·è°ƒæ•´çª—å£å¤§å°çš„å¿«æ·é”®ï¼Œé™¤äº†é”®ç›˜è°ƒæ•´ä¹‹å¤–ï¼Œæœ€å¸¸ç”¨çš„ win+é¼ æ ‡å³é”®\nä½†æ˜¯gnomeä¸‹ é»˜è®¤æ˜¯ win+ é¼ æ ‡ä¸­é”® åˆšåˆšåˆ‡æ¢åˆ°gnomeåå¾ˆä¸é€‚åº” è°ƒæ•´èµ·æ¥æ¯”è¾ƒåƒåŠ›ã€‚\nä¸¤ä¸ªè§£å†³æ–¹æ³•\n1 gsettings set org.gnome.desktop.wm.preferences resize-with-right-button true æˆ–è€…ç”¨ gnome-tweaks é€‰æ‹© çª—å£ å¯ç”¨ å‰¯é”®è°ƒæ•´çª—å£å¤§å°\n","date":"2023-11-27T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/gnome-resize-win/","title":"gnomeè°ƒæ•´çª—å£å¤§å°å¿«æ·ä¿®æ”¹ win+ä¸­é”® æ”¹ä¸º å³é”®"},{"content":"åˆ†æµè¯´æ˜ ä½¿ç”¨çˆ±å¿«åˆ†æµè§„åˆ™ + ä¸€ä¸ªäºŒçº§è·¯ç”±çš„æ–¹å¼ å®ç°æ¯”æ—è·¯ç”±æ¨¡å¼æ›´ç¨³å®š é€Ÿåº¦æ›´å¿«çš„ æ·±åº¦å­¦ä¹ ç½‘ç»œã€‚\niKuai Bypassä¿®æ”¹ç‰ˆ è¯´æ˜ é¡¹ç›®åœ°å€ https://github.com/joyanhui/ikuai-bypass/\nfork è‡ª https://github.com/ztc1997/ikuai-bypass/\niKuai Bypass åŠŸèƒ½ ipåˆ†æµè§„åˆ™å’ŒåŸŸååˆ†æµè§„åˆ™æ·»åŠ åˆ°çˆ±å¿«çš„è‡ªå®šä¹‰è¿è¥å•†å’ŒåŸŸååˆ†æµï¼Œå¹¶è‡ªåŠ¨æ›´æ–°è§„åˆ™æ–‡ä»¶ã€‚\næ›´æ–° å¹¶å‘å¤„ç† è¿è¥å•†/IPåˆ†æµ å’Œ åŸŸååˆ†æµ æ›´æ–°æˆåŠŸåå†åˆ é™¤æ—§è§„åˆ™ æ”¯æŒæ— dockerè¿è¡Œ æ”¯æŒå•æ¬¡è¿è¡Œå‚æ•°-r nocronå¿½ç•¥é…ç½®æ–‡ä»¶çš„croné…ç½® æ”¯æŒå•ç‹¬æ¸…ç†æ¨¡å¼-r clean æ¸…ç†æœ¬å·¥å…·æ·»åŠ çš„å¤‡æ³¨ä¸ºIKUAI_BYPASSçš„åˆ†æµè§„åˆ™ æ”¯æŒcronè¿è¡Œå‚æ•°-r cron -r cronAft å‘½ä»¤ 1 ikuai-bypass -c é…ç½®æ–‡ä»¶è·¯å¾„ -r è¿è¡Œæ¨¡å¼ é…ç½®æ–‡ä»¶è·¯å¾„ï¼šé»˜è®¤ä¸ºå½“å‰ç›®å½•ä¸‹çš„ config.yml è¿è¡Œæ¨¡å¼ cron é»˜è®¤ï¼Œä¼šå…ˆæ‰§è¡Œä¸€æ¬¡ç„¶åä½¿ç”¨é…ç½®æ–‡ä»¶çš„cronå®šæ—¶é‡å¤æ‰§è¡Œï¼Œå¦‚æœcronä¸ºç©ºé‚£ä¹ˆæ‰§è¡Œä¾æ¬¡åç›´æ¥é€€å‡º cronAft ä¸é©¬ä¸Šæ‰§è¡Œ,ç­‰åˆ°cronå®šæ—¶ä»»åŠ¡è§¦å‘åå†æ‰§è¡Œ nocronä¸ºå•æ¬¡æ‰§è¡Œ è¿è¡Œå®Œæˆåè‡ªåŠ¨æ¨å‡º clean æ¸…ç†æœ¬å·¥å…·æ·»åŠ çš„å¤‡æ³¨ä¸ºIKUAI_BYPASSçš„åˆ†æµè§„åˆ™ é€šå¸¸ä½¿ç”¨æ–¹æ³• ç®€å•è¯´æ˜ å»ºè®®åœ¨pve/esxi/unraid/ç¾¤æ™–/docker/lxc/podmanä¸­è¿è¡Œçˆ±å¿«+openwrtï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç‰©ç†è®¾å¤‡ã€‚ å•ç½‘å¡ pveæµ‹è¯•æ²¡é—®é¢˜ï¼Œå…¶ä»–ç¯å¢ƒåŒæ ·ä¸ä¼šæœ‰é—®é¢˜ã€‚ çˆ±å¿«3ä¸ªæˆ–è€…3ä¸ªä»¥ä¸Šç½‘å¡/è™šæ‹Ÿç½‘å¡ ä½œä¸ºä¸»è·¯ç”±\nopenwrt/å…¶ä»–linux åŒç½‘å¡/è™šæ‹Ÿç½‘å¡ï¼Œä½œä¸ºä¸‹çº§è·¯ç”±ï¼ˆéæ—è·¯ç”±ï¼‰\npveä¸‹æ¨èé…ç½® æ¨è 2Gå†…å­˜å®‰è£…ikuai 32ä½ç‰ˆï¼Œç¡¬ç›˜1Gå³å¯ï¼Œç„¶åä¿®æ”¹ä¸º 512Må†…å­˜\nopenwrt å®˜æ–¹ç‰ˆï¼Œæˆ–è€…è‡ªç¼–è¯‘ç‰ˆæœ¬ å†…å­˜ 256-512Mï¼ˆå¼€clashè¦300Mï¼Œv2ç³»256Må°±å¯ä»¥ï¼‰ ç¡¬ç›˜512Må³å¯ï¼Œæˆ–è€…çœ‹ä½ imgçš„åˆ†åŒºã€‚æˆ–lxcè¿è¡Œ\niKuai Bypass è¿è¡Œåœ¨ openwrt mosdns ä¹Ÿå¯ä»¥è¿è¡Œåœ¨ openwrt mosdns all in oneæ–¹æ¡ˆ modnsé…adgæ–¹æ¡ˆ 64ä½ çˆ±å¿«ï¼Œkvm/docker è¿è¡Œ openwrt å’Œ iKuai Bypass ä»¥åŠ mosdns ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸æ¨èã€‚\nç‰©ç†ç½‘ç»œ/è™šæ‹Ÿç½‘å¡é…ç½® ä¸¾ä¾‹ çˆ±å¿« lan1 ç»‘å®šåˆ° eth0 å¼€DHCP dhcpèŒƒå›´ 10.1.1.5-10.1.1.254\nçˆ±å¿« wan1 ç»‘å®šåˆ° eth1 pppoeæ‹¨å· wan1å…ˆè®¾ç½®ä¸ºé»˜è®¤çº¿è·¯ çˆ±å¿« wan2 ç»‘å®šåˆ° eth2 é™æ€ipæŒ‡å®š 10.0.0.2 ç½‘å…³10.0.0.1\nopenwrt wan ç»‘å®šåˆ°eth1 DHCPå®¢æˆ·ç«¯ï¼Œè¿æ¥åˆ°çˆ±å¿«lan1 ä»çˆ±å¿«é™æ€ipç»‘å®šä¸º10.1.1.3 openwrt lan ç»‘å®šå¥—eth0 å…³é—­DHCPæœåŠ¡ï¼Œipåœ°å€é…ç½® 10.1.1.1\nä¸‹æ–‡è¯´é…ç½®éƒ½ä»¥ä¸Šè¿°ä¸ºä¾‹\né¿å…æ­»å¾ªç¯ çˆ±å¿«æ·»åŠ ä¸€ä¸ªåˆ†æµè§„åˆ™ æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; ç«¯å£åˆ†æµ\nåˆ†æµæ–¹å¼ï¼šå¤–ç½‘çº¿è·¯ çº¿è·¯ï¼šwan1 æºåœ°å€ ip/macåˆ†ç»„ æ·»åŠ ä¸€ä¸ª 10.1.1.3 ç‚¹åŠ å…¥ ä¿å­˜\næ­¤æ—¶ openwrtå‡ºæ¥çš„æµé‡ èµ°wan1 ä¸ä¼šå†åˆ°wan2å›åˆ°openwrt å¯¼è‡´æ­»å¾ªç¯ã€‚\næ­¤æ—¶openwrt å¯ä»¥æ­£å¸¸è®¿é—®å¤–éƒ¨ç½‘ç»œã€‚\né…ç½® wan2 ä¸ºé»˜è®¤çº¿è·¯ æ­¤æ—¶æ‰€æœ‰å¯¹å¤–ç½‘è®¿é—® éƒ½ä¼š ç»è¿‡wan2 åˆ°openwrt,ç„¶åæ ¹æ®ä½ çš„æ·±åº¦å­¦ä¹ è½¯ä»¶çš„åˆ†æµæƒ…å†µå†³å®šæ˜¯å¦åŠ å¯†ï¼Œå†å›åˆ°çˆ±å¿«çš„lan1 å†æµå‘å¤–ç½‘ã€‚\næ­¤æ—¶ä½ çš„ä¸Šç½‘é€Ÿåº¦å’Œä¼ ç»Ÿçš„æ—è·¯ç”±æ¨¡å¼å®Œå…¨ä¸€æ ·ï¼Œç•¥æ…¢ã€‚\né…ç½®å›½å†…åŸŸåå¼ºåˆ¶èµ°wan1ç›´è¿ æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; åŸŸååˆ†æµï¼Œé€‰æ‹©wan1 ï¼Œè¾“å…¥å‡ ä¸ªåŸŸåï¼Œè¾“å…¥å®¢æˆ·ç«¯ip,å»ºè®® 10.1.1.5-10.1.1.254 ï¼Œæ­¤æ—¶10.1.1.5-10.1.1.254 çš„è®¾å¤‡è®¿é—®è¿™ä¸ªåŸŸåä¼šç›´æ¥èµ°wan1 , ä¸ç»è¿‡openwrtï¼Œé€Ÿåº¦é£å¿«ã€‚\nå½“ç„¶ä½ è‡ªå·±è¾“å…¥å¤ªéº»çƒ¦äº†ã€‚ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªåŸŸååˆ—è¡¨ã€‚\né…ç½®æŸäº›åŸŸåå¼ºåˆ¶èµ°wan2 äº¤ç»™openwrtå¤„ç† ç›®çš„æ˜¯å•¥ï¼Œä½ è‚¯å®šçŸ¥é“ã€‚é…ç½®å’Œä¸Šé¢ä¸€æ ·ï¼ŒåŒæ · ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªåŸŸååˆ—è¡¨ã€‚\né…ç½®å›½å†…ipå¼ºåˆ¶èµ°wan1 å› ä¸ºåŸŸåæ¸…å•é‡Œé¢çš„åŸŸåä¸èƒ½è¦†ç›–æ‰€æœ‰ç½‘ç«™ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯æ²¡æœ‰åŸŸåç›´æ¥ipè¿æ¥æƒ…å†µã€‚æ‰€ä»¥éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ ¹æ®ipåˆ†æµçš„è§„åˆ™ã€‚\næµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ è‡ªå®šä¹‰è¿è¥å•† æ·»åŠ è¿è¥å•† åç§°ï¼šå›½å†…ipåœ°å€ ç›®çš„åœ°å€ï¼šè¾“å…¥å‡ ä¸ªå›½å†…çš„ip,å¤‡æ³¨ï¼šè‡ªå®šä¹‰\nè¿”å› æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ ç‚¹å³ä¾§æ·»åŠ  è¿è¥å•†ï¼šé€‰æ‹©ä½ åˆšåˆšæ·»åŠ çš„åç§°ï¼Œç‚¹wan1 åé¢çš„å¯ç”¨ï¼Œä¿å­˜ã€‚\næ­¤æ—¶ ä½ è®¿é—®è¿™ä¸ªipä¸Šçš„ç½‘ç«™æˆ–è€…å…¶ä»–ä¸œè¥¿ï¼Œä¼šå¼ºåˆ¶èµ°wan1 ä¸ç»è¿‡openwrtï¼Œé€Ÿåº¦é£å¿«ã€‚ åŒæ · ikuai-bypass å¯ä»¥è‡ªåŠ¨å¸®ä½ ç»´æŠ¤è¿™ä¸ªIPåœ°å€åˆ—è¡¨ã€‚\né…ç½®é»˜è®¤çº¿è·¯ ç¡®ä¿ç½‘ç»œ100%å¯ç”¨æ€§ æŠŠwan2 é…ç½®ä¸ºé»˜è®¤çº¿è·¯ï¼Œç½‘ç»œè®¾ç½® \u0026gt; å†…å¤–ç½‘è®¾ç½® wan2 åŒæ—¶æ‰“å¼€\né»˜è®¤ç½‘å…³ï¼šè®¾æ­¤æ¡çº¿è·¯ä¸ºé»˜è®¤ç½‘å…³ è‡ªåŠ¨åˆ‡æ¢ï¼šæ‰çº¿è‡ªåŠ¨åˆ‡æ¢ çº¿è·¯æ£€æµ‹ï¼šHTTP www.google.com æ­¤æ—¶ï¼Œè®¿é—®ä¸åœ¨å›½å†…åŸŸåæ¸…å•çš„åŸŸåï¼Œå¹¶ä¸”ipä¸å†è‡ªå®šä¹‰è¿è¥å•†çš„å›½å†…ipåœ°å€çš„æœåŠ¡å™¨ï¼Œä¼šé»˜è®¤èµ°wan2ã€‚å¦‚æœopenwrtæ­»æœºæˆ–è€…googleè¿ä¸ä¸Šï¼Œä¼šè‡ªåŠ¨ä¸´æ—¶ç¦ç”¨wan2 é»˜è®¤èµ°wan1ã€‚\nä½¿ç”¨ikuai-bypass è‡ªåŠ¨ç»´æŠ¤ipå’ŒåŸŸåè§„åˆ™ã€‚ é…ç½®æ–‡ä»¶ éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ config.yml æ ¼å¼å¦‚ä¸‹ã€‚\nç„¶åè¿è¡Œ ./ikuai-bypass -c /è·¯å¾„/config.yml å³å¯åœ¨å¯åŠ¨æ—¶å€™ è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡è§„åˆ™æ–‡ä»¶ï¼Œå¹¶åœ¨ cronæŒ‡å®šçš„æ—¶é—´å†…å®šæ—¶è¿è¡Œã€‚\nä¸‹é¢çš„é…ç½®æ–‡ä»¶ ä¼šæ‰§è¡Œä¸€ä¸‹æ“ä½œ\nè‡ªåŠ¨ç™»é™†åˆ° ç½‘å€æ˜¯ http://10.1.1.1 çš„çˆ±å¿« ä½¿ç”¨ç”¨æˆ·åadmin å¯†ç  admin888ç™»é™†ï¼Œå¦‚æœç™»é™†æˆåŠŸã€‚ è¿è¥å•†/IPåˆ†æµè§„åˆ™ ä»–ä¼šå¸®ä½ æ·»åŠ  ä¸€ä¸ª å›½å†…IPåˆ—è¡¨ çš„è¿è¥å•†ï¼Œä½ éœ€è¦å»çˆ±å¿« æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; å¤šçº¿è´Ÿè½½ æ·»åŠ è§„åˆ™ï¼Œé€‰æ‹© å›½å†…IPåˆ—è¡¨ å¯ç”¨wan1\nä¹Ÿä¼šæ·»åŠ å‡ ä¸ª telegram google ç­‰ipåœ°å€ï¼Œä½ å¯ä»¥åˆ æ‰é‚£å‡ è¡Œï¼Œä¹Ÿå¯ä»¥æ·»åŠ è§„åˆ™ å¯ç”¨wan2 å¦å¤–ä¼šæ·»åŠ 4ä¸ªåŸŸååˆ†æµè§„åˆ™ åˆ†åˆ«å¼ºåˆ¶èµ°wan1 å’Œwan2 ä½ å¯ä»¥åœ¨ä¸‹é¢é…ç½®æ–‡ä»¶æ¸…æ™°çœ‹åˆ°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ china-list å’Œ gfwä¸¤ä¸ªæ¸…å• éƒ½å¾ˆé•¿ï¼Œæ·»åŠ /æ›´æ–°çš„æ—¶å€™ä¼šå¾ˆæ…¢ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚å†³å®šæ˜¯å¦è¦ä¿ç•™ï¼Œæ·»åŠ åä¼šå¢åŠ ä½ è®¿é—®ç½‘å€çš„é€Ÿåº¦ï¼Œä½†æ˜¯ä¼šå¢åŠ ikuaiçš„æ€§èƒ½æ¶ˆè€—ï¼ˆå¤§æ¦‚å¢åŠ 30-120Må†…å­˜æ¶ˆè€—ï¼Œcpuè´Ÿè½½ä¹Ÿä¼šå¢åŠ ä¸€ç‚¹ï¼‰ï¼Œå¦‚æœä½ çš„ikuaié…ç½®å¾ˆçƒ‚ï¼Œå¯ä»¥å»æ‰å…¶ä»–è§„åˆ™ åªä½¿ç”¨ å›½å†…IPåˆ—è¡¨ çš„IPåˆ†æµå³å¯ ã€‚ æ–‡ä»¶å†…å®¹å‚è€ƒ https://github.com/joyanhui/ikuai-bypass/blob/main/config_example.yml\néƒ¨ç½²ikuai-bypass ikuai-bypass åªè¦éƒ¨ç½²åœ¨å¯ä»¥è®¿é—®åˆ° çˆ±å¿«è·¯ç”±å™¨çš„åœ°æ–¹å³å¯ã€‚\nä¸‹è½½æœ€æ–°ç‰ˆ https://github.com/joyanhui/ikuai-bypass/releases\nç›´æ¥è¿è¡Œ 1 ./ikuai-bypass_linux_amd64 -c /opt/ikuai-bypass/config_example.yml æœåŠ¡æ¨¡å¼ openwrt/alpine/rc/systemd ä»¥openwrtä¸ºä¾‹\n1 2 3 4 5 6 7 8 cd /root wget https://github.com/joyanhui/ikuai-bypass/releases/download/vç‰ˆæœ¬å·/ikuai-bypass_vç‰ˆæœ¬å·_linux_amd64.tar.gz tar -zxvf ikuai-bypass*linux_amd64.tar.gz rm ikuai-bypass*linux_amd64.tar.gz # é»˜è®¤é…ç½®æ–‡ä»¶ è‡ªå·±å¯ä»¥æ ¹æ®éœ€æ±‚ç¼–è¾‘ä¸€ä¸‹ wget -c https://github.com/joyanhui/ikuai-bypass/raw/main/config_example.yml -O kuai-bypass.yml # æµ‹è¯• /root/ikuai-bypass -c /root/kuai-bypass.yml æ·»åŠ æœåŠ¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 cat \u0026gt;/etc/init.d/ikuai-bypass\u0026lt;\u0026lt; \\EOF #!/bin/sh /etc/rc.common #service startup sequence START=99 start() { #start your process with parameters in background /root/ikuai-bypass -c /root/kuai-bypass.yml \u0026amp; } stop() { killall ikuai-bypass } EOF chmod +x /etc/init.d/ikuai-bypass # å¼€æœºå¯åŠ¨ service ikuai-bypass enable # ç°åœ¨å¯åŠ¨ service ikuai-bypass start #æˆ–è€… /etc/init.d/ikuai-bypass start é‡å¯ openwrt,ç„¶åshellè¿è¡Œ ps |grep ikuai-bypass éªŒè¯ä¸€ä¸‹æ˜¯å¦å¼€æœºè‡ªåŠ¨å¯åŠ¨ã€‚\nå¦‚æœä¸èƒ½è‡ªåŠ¨å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿ å¯åŠ¨é¡¹ æœ¬åœ°å¯åŠ¨è„šæœ¬ æ·»åŠ ä¸€è¡Œ æ”¾åˆ° exit 0 å‰é¢\n1 sh -c \u0026#39;sleep 30 \u0026amp;\u0026amp; /etc/init.d/ikuai-bypass start \u0026#39; \u0026amp; docker æˆ‘æ²¡æœ‰æ‰“åŒ…dockeré•œåƒï¼Œå› ä¸ºå®Œå…¨æ²¡å¿…è¦ï¼Œä½ å¯ä»¥è‡ªå·±ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ä¸€ä¸ªdocker\n1 2 3 4 5 6 7 8 mkdir ~/ikuai-bypass/ \u0026amp;\u0026amp; cd ï½/ikuai-bypass_exe wget -c https://github.com/joyanhui/ikuai-bypass/raw/main/ikuai-bypass_linux_amd64 chmod +x ./ikuai-bypass_linux_amd64 wget -c https://github.com/joyanhui/ikuai-bypass/raw/main/config_example.yml docker run -itd --name ikuai-bypass --privileged=true --restart=always \\ -v ~/ikuai-bypass/:/opt/ikuai-bypass/ \\ alpine:3.18.4 /opt/ikuai-bypass/ikuai-bypass_linux_amd64 -c /opt/ikuai-bypass/config_example.yml å¦‚æœä½ æƒ³éƒ¨ç½²åˆ°çˆ±å¿«å†…çš„dockeré‡Œé¢ ä¸‹è½½ alpineé•œåƒï¼Œä¸Šä¼ ä¸¤ä¸ªæ–‡ä»¶ï¼Œç„¶åå…¥å£ å‘½ä»¤ä¿®æ”¹ä¸º ç±»ä¼¼ä¸‹é¢çš„å‘½ä»¤å³å¯\n1 chmod +x /opt/ikuai-bypass/ikuai-bypass_linux_amd64 \u0026amp;\u0026amp; /opt/ikuai-bypass/ikuai-bypass_linux_amd64 -c /opt/ikuai-bypass/config_example.yml å…¶ä»–è¡¥å…… è‡ªå®šä¹‰è§„åˆ™å’Œikuai-bypassçš„è§„åˆ™ ikuai-bypass è‡ªåŠ¨ç»´æŠ¤çš„è§„åˆ™ éƒ½ä¼šæ·»åŠ å¤‡æ³¨ IKUAI_BYPASS ï¼Œåªè¦ä½ æ·»åŠ çš„è‡ªå®šä¹‰çš„è§„åˆ™å¤‡æ³¨ä¸æ˜¯è¿™ä¸ªå³å¯ã€‚\nå…³äºå®ä¾‹é…ç½®æ–‡ä»¶ å®ä¾‹é…ç½®æ–‡ä»¶ä½¿ç”¨äº† https://mirror.ghproxy.com ä½œä¸ºgithubçš„ä»£ç†æ–¹ä¾¿å¯ä»¥åœ¨æ— ç§‘å­¦ç¯å¢ƒæ›´æ–°è§„åˆ™ï¼Œä½†æ˜¯ghproxyæœ‰è¢«gfwæ±¡æŸ“çš„å…ˆä¾‹ï¼Œè¯·è‡ªè¡Œæ›´æ–°æ›´ç¨³å®šçš„æˆ–è€…è‡ªå»ºçš„githubä»£ç†ã€‚\næ˜¯å¦å¯ä»¥æ›¿ä»£åŸç‰ˆikuai-bypass å¯ä»¥ç›´æ¥æ›¿ä»£ï¼Œå‚è€ƒä¸Šé¢çš„dockeré…ç½®\n","date":"2023-11-26T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/ikuai-bypass-joyanhui-old/","title":"çˆ±å¿«æ— æ„Ÿåˆ†æµ è‡ªåŠ¨æ›´æ–°è§„åˆ™ ikuai-bypass ä¿®æ”¹ç‰ˆ"},{"content":"atomic æŸå†™æ“ä½œåœ¨å¤§å¹¶å‘çš„ç¯å¢ƒä¸‹ æœ‰ä¸€äº›å·®å¼‚ã€‚ä¸‹æ–‡ä¸­ tttt1å’Œ tttt3 æ˜¯ç»å¯¹å®‰å…¨çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 package main import ( \u0026#34;log\u0026#34; \u0026#34;runtime\u0026#34; \u0026#34;sync/atomic\u0026#34; \u0026#34;time\u0026#34; ) var ( NowtimeATO atomic.Int64 LastUpdateCfgATO atomic.Int64 UpdateCfgLock atomic.Int32 ) func main() { log.SetFlags(log.Lmicroseconds) NowtimeATO.Store(time.Now().Unix()) LastUpdateCfgATO.Store(NowtimeATO.Load()) var count int64 = 0 for { count++ for i := 0; i \u0026lt; 3000000; i++ { go tttt3(count) } time.Sleep(1 * time.Second) } } func tttt1(x int64) { NowtimeATO.Store(time.Now().Unix()) if NowtimeATO.Load()-LastUpdateCfgATO.Load() \u0026gt; 0 { //è¶…è¿‡Nç§’ if UpdateCfgLock.CompareAndSwap(0, 1) { //å¦‚æœæ˜¯0 é‚£ä¹ˆä¿®æ”¹ä¸º1 å¦‚æ˜¯0 å¦åˆ™ä¸æ‰§è¡Œ LastUpdateCfgATO.Store(NowtimeATO.Load()) UpdateCfg(x) UpdateCfgLock.Store(0) } } time.Sleep(3 * time.Second) } func tttt2(x int64) { NowtimeATO.Store(time.Now().Unix()) if NowtimeATO.Load()-LastUpdateCfgATO.Load() \u0026gt; 0 { //è¶…è¿‡Nç§’ LastUpdateCfgATO.Store(NowtimeATO.Load()) UpdateCfg(x) } time.Sleep(3 * time.Second) } func tttt3(x int64) { if time.Now().Unix()-LastUpdateCfgATO.Load() \u0026gt; 0 { //è¶…è¿‡Nç§’ if UpdateCfgLock.CompareAndSwap(0, 1) { //å¦‚æœæ˜¯0 é‚£ä¹ˆä¿®æ”¹ä¸º1 å¦‚æ˜¯0 å¦åˆ™ä¸æ‰§è¡Œ LastUpdateCfgATO.Store(time.Now().Unix()) //æå°æ¦‚ç‡å’Œå‰é¢çš„ä¸ä¸€è‡´ UpdateCfg(x) UpdateCfgLock.Store(0) } } //time.Sleep(2000 * time.Microsecond) time.Sleep(3 * time.Second) } func UpdateCfg(x int64) { //log.Println(\u0026#34;val:\u0026#34;, UpdateCfgLock.Load(), \u0026#34;times:\u0026#34;, x) log.Println(\u0026#34;times:\u0026#34;, x, \u0026#34;NumGoroutine\u0026#34;, runtime.NumGoroutine()) } ","date":"2023-11-26T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/atomic-lastupdate/","title":"golang atomicå’Œå®šæ—¶ä»»åŠ¡çš„æ€è€ƒ"},{"content":"golangçš„base64url æœ‰ä¸€ä¸ªå°å‘ã€‚\nbase64.URLEncoding.EncodeToString å’Œ base64.URLEncoding.DecodeString æœ«å°¾ä¼šå¸¦ = ç¬¦å·ï¼Œå’Œå…¶ä»–è¯­è¨€çš„å®šä¹‰ä¸ä¸€æ ·\næ¢æˆ base64.RawURLEncoding.EncodeToString å’Œ base64.RawURLEncoding.DecodeString å³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import \u0026#34;encoding/base64\u0026#34; func main() { var strToBase64UrlTest = \u0026#34;161\u0026amp;q=aes+å‘ç”Ÿçš„\u0026amp;cvid=å¯¹ä»˜å¯¹æ–¹\u0026amp;gs\u0026#34; base64urlStr := base64.URLEncoding.EncodeToString([]byte(strToBase64UrlTest)) println(base64urlStr) getStr, err := base64.URLEncoding.DecodeString(base64urlStr) if err != nil { panic(err) } println(string(getStr)) } åº”è¯¥ä¿®æ”¹ä¸º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import \u0026#34;encoding/base64\u0026#34; func main() { var strToBase64UrlTest = \u0026#34;161\u0026amp;q=aes+å‘ç”Ÿçš„\u0026amp;cvid=å¯¹ä»˜å¯¹æ–¹\u0026amp;gs\u0026#34; base64urlStr := base64.RawURLEncoding.EncodeToString([]byte(strToBase64UrlTest)) println(base64urlStr) getStr, err := base64.RawURLEncoding.DecodeString(base64urlStr) if err != nil { panic(err) } println(string(getStr)) } ","date":"2023-11-26T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/base64url/","title":"golang bas64urlçš„å°å‘"},{"content":"rediså…¬ç½‘é›†ç¾¤æŒ‡å®šäº†åŸŸåï¼Œä½†æ˜¯åœ¨åŒå±€åŸŸç½‘çš„å®¢æˆ·ç«¯ç¨‹åºä¸­ï¼Œåº”è¯¥ç›´æ¥ç”¨å†…ç½‘ipè¿æ¥ã€‚\nåä¸ºäº‘é‚£è¾¹å¯ä»¥ç›´æ¥åœ¨vpcçš„å†…ç½‘åŸŸåé…ç½®redisåŸŸåçš„ip,é˜¿é‡Œäº‘è¿™è¾¹éœ€è¦è‡ªå»ºdnsï¼Œæœ¬ç€æœåŠ¡ä¹‹é—´å°½é‡ä¸è€¦åˆçš„åŸåˆ™ï¼ŒåŠ ä¸Šé˜¿é‡Œäº‘è¿™è¾¹çš„å‡½æ•°è®¡ç®—å®é™…æ˜¯ç‹¬ç«‹çš„hostsæ–‡ä»¶å¯ä»¥ç›´æ¥ä¿®æ”¹ã€‚\nä¸‹é¢ç®—æ³•ï¼Œå…ˆç”¨ç¯å¢ƒå˜é‡åˆ¤æ–­æ˜¯å¦ä¿®æ”¹hostsæ–‡ä»¶ï¼ˆåä¸ºäº‘fcæ²¡æœ‰ä¿®æ”¹æƒé™ï¼‰ï¼Œç„¶åä»redisä¸­æ ¹æ®ç¯å¢ƒå¾—åˆ°è¦ä¿®æ”¹çš„hostså†…å®¹ã€‚è€Œåå¤åˆ¶å¤‡ä»½/etc/hosts æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„hosts ç„¶ååˆå¹¶ä¸¤ä¸ªæ–‡ä»¶ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 package lib_hosts import ( \u0026#34;bufio\u0026#34; \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net\u0026#34; \u0026#34;os\u0026#34; \u0026#34;regexp\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/buger/jsonparser\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func UpdateHostsFileFormRedisAndLookupIP(rdb redis.ClusterClient, ctx context.Context) { EnvHostsTag := os.Getenv(\u0026#34;EnvHostsTag\u0026#34;) if EnvHostsTag == \u0026#34;\u0026#34; { log.Println(\u0026#34;== ä¸éœ€è¦æ£€æŸ¥å’Œä¿®æ”¹ åŸŸåè§£æ\u0026#34;) return } //æ˜¯å¦æ›´æ–° hostsæ–‡ä»¶ï¼Œåä¸ºäº‘é‚£è¾¹ä¸èƒ½ä¿®æ”¹ï¼Œéœ€è¦é€šè¿‡vpcçš„å†…ç½‘åŸŸåçš„Aè®°å½•æ¥æ§åˆ¶ enableUpdataHostsFile := os.Getenv(\u0026#34;EnvHostsEndEnableUpdateFile\u0026#34;) == \u0026#34;1\u0026#34; //æ‰§è¡Œå®Œæˆåæ˜¯å¦pingä¸€ä¸‹ EnablePing := os.Getenv(\u0026#34;EnvHostsEndEnablePing\u0026#34;) == \u0026#34;1\u0026#34; val, err := rdb.Get(ctx, \u0026#34;f501:Config:/etc/hosts\u0026#34;).Result() if err != nil { log.Println(\u0026#34;UpdateHostsFileFormRedis f501:Config:/etc/hosts é”™è¯¯ï¼ï¼ï¼\u0026#34;, err) return } else { linesString, err := jsonparser.GetString([]byte(val), EnvHostsTag, \u0026#34;Lines\u0026#34;) if err != nil { log.Println(\u0026#34;UpdateHostsFileFormRedis æ²¡æ‰¾åˆ°ç›¸å…³ä¿¡æ¯ \u0026#34;, err) return } if enableUpdataHostsFile { UpdateHostsFile(linesString) //æ›´æ–°hostsæ–‡ä»¶ åä¸ºé‚£è¾¹zipéƒ¨ç½²çš„fcä¸æ”¯æŒéœ€è¦æ‰‹åŠ¨é…ç½®ä¿®æ”¹vpc } else { log.Println(\u0026#34;éƒ¨åˆ†ç¯å¢ƒä¸å¯ç”¨/etc/hostsæ›´æ–°,å¦‚æœè¦å¯åŠ¨è¯· åˆ°redisä¿®æ”¹...\u0026#34;) log.Println(\u0026#34;è·³è¿‡/etc/hostsé…ç½®,ä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨é…ç½®dnsæˆ–vpcç»„ç½‘çš„å†…ç½‘åŸŸåçš„Aè®°å½• ...\u0026#34;) } if EnablePing { //æ‰§è¡Œpingå‘½ä»¤ log.Println(\u0026#34;æ‰€æœ‰åŸŸååˆ†åˆ«LookupIP ...\u0026#34;) time.Sleep(200 * time.Microsecond) re := regexp.MustCompile(`\\s+`) linesString = re.ReplaceAllString(linesString, \u0026#34; \u0026#34;) lines := strings.Split(linesString, \u0026#34;,\u0026#34;) for _, line := range lines { linesArr := strings.Split(line, \u0026#34; \u0026#34;) if len(linesArr) \u0026gt; 1 { ipAddresses, err := net.LookupIP(linesArr[1]) if err != nil { log.Println(\u0026#34;net.LookupIP Error:\u0026#34;, err) return } for _, ip := range ipAddresses { log.Println(\u0026#34;net.LookupIP :\u0026#34;, linesArr[1], ip) } } else { log.Println(\u0026#34;UpdateHostsFileFormRedis é•¿åº¦ä¸ç¬¦\u0026#34;, linesArr) } } } } } // ä¿®æ”¹hostsæ–‡ä»¶ func UpdateHostsFile(linesString string) { log.Println(\u0026#34;æ›´æ–°hosts æ–‡ä»¶...\u0026#34;) lines := strings.Split(linesString, \u0026#34;,\u0026#34;) exists := FileExists(\u0026#34;/etc/hosts-fish-source\u0026#34;) if !exists { err := CopyFile(\u0026#34;/etc/hosts\u0026#34;, \u0026#34;/etc/hosts-fish-source\u0026#34;) if err != nil { log.Println(err) return } else { //log.Println(\u0026#34;å¤åˆ¶hostsæ–‡ä»¶ åˆ° /etc/hosts-fish-source\u0026#34;) } } fileAppend, err := os.Create(\u0026#34;/etc/hosts-fish-append\u0026#34;) if err != nil { log.Println(\u0026#34;æ— æ³•åˆ›å»ºç›®æ ‡æ–‡ä»¶: \u0026#34;, err) return } defer fileAppend.Close() writer := bufio.NewWriter(fileAppend) defer writer.Flush() for _, line := range lines { _, err := writer.WriteString(line + \u0026#34;\\n\u0026#34;) if err != nil { log.Println(\u0026#34;å†™å…¥æ–‡ä»¶å¤±è´¥:\u0026#34;, err) return } } writer.Flush() /*\tbuf2, err := os.ReadFile(\u0026#34;/etc/hosts-fish-append\u0026#34;) if err != nil { log.Println(\u0026#34;æ–‡ä»¶è¯»å–å¤±è´¥\u0026#34;, \u0026#34;append\u0026#34;, err) return } log.Println(\u0026#34;###---###å†…å®¹ wjx append\u0026#34;, string(buf2)) // å°†å†…å®¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å° */ //log.Println(\u0026#34;æ–°å»ºæ–‡ä»¶ åˆ° /etc/hosts-fish-append å‡†å¤‡åˆå¹¶\u0026#34;) err = MergeFiles(\u0026#34;/etc/hosts-fish-source\u0026#34;, \u0026#34;/etc/hosts-fish-append\u0026#34;, \u0026#34;/etc/hosts\u0026#34;) if err != nil { log.Println(\u0026#34;æ–‡ä»¶åˆå¹¶æˆåŠŸé”™è¯¯\u0026#34;, err) } else { //log.Println(\u0026#34;æ–‡ä»¶åˆå¹¶æˆåŠŸ\u0026#34;) } } func FileExists(filename string) bool { _, err := os.Stat(filename) if err == nil { return true // æ–‡ä»¶å­˜åœ¨ } if os.IsNotExist(err) { return false // æ–‡ä»¶ä¸å­˜åœ¨ } return false // å…¶ä»–é”™è¯¯ï¼Œæ— æ³•ç¡®å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ } func MergeFiles(file1, file2, outputFile string) error { err := ClearFile(outputFile) if err != nil { log.Println(\u0026#34;æ–‡ä»¶æ¸…ç©ºå¤±è´¥\u0026#34;, err) return err } /*\tcontent, err := os.ReadFile(outputFile) // è¯»å–æ–‡ä»¶å†…å®¹ if err != nil { log.Println(\u0026#34;æ–‡ä»¶æ¸…ç©ºåé‡æ–°è¯»å–å¤±è´¥\u0026#34;, outputFile, err) return err } log.Println(\u0026#34;###---###å†…å®¹\u0026#34;, outputFile, string(content)) // å°†å†…å®¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å° */ buf1, err := os.ReadFile(file1) if err != nil { log.Println(\u0026#34;æ–‡ä»¶è¯»å–å¤±è´¥\u0026#34;, file1, err) return err } //log.Println(\u0026#34;###---###å†…å®¹\u0026#34;, file1, string(buf1)) // å°†å†…å®¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å° buf2, err := os.ReadFile(file2) if err != nil { log.Println(\u0026#34;æ–‡ä»¶è¯»å–å¤±è´¥\u0026#34;, file2, err) return err } //log.Println(\u0026#34;###---###å†…å®¹\u0026#34;, file2, string(buf2)) // å°†å†…å®¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å° file, err := os.OpenFile(outputFile, os.O_CREATE|os.O_RDWR|os.O_APPEND, 0666) if err != nil { log.Println(\u0026#34;æ–‡ä»¶æ‰“å¼€å¤±è´¥\u0026#34;, outputFile, err) return err } defer file.Close() writer := bufio.NewWriter(file) writer.Write(buf1) writer.Write(buf2) writer.Flush() return nil } func ClearFile(filename string) error { // æ‰“å¼€æ–‡ä»¶å¹¶æˆªæ–­å†…å®¹ file, err := os.OpenFile(filename, os.O_RDWR|os.O_TRUNC, 0666) if err != nil { return err } defer file.Close() // æ¸…ç©ºæ–‡ä»¶å†…å®¹ err = file.Truncate(0) if err != nil { return err } //log.Printf(\u0026#34;æ–‡ä»¶ %s å·²æˆåŠŸæ¸…ç©º\u0026#34;, filename) return nil } func CopyFile(sourceFile string, destinationFile string) error { src, err := os.Open(sourceFile) if err != nil { return fmt.Errorf(\u0026#34;æ— æ³•æ‰“å¼€æºæ–‡ä»¶ %s: %s\u0026#34;, sourceFile, err) } defer src.Close() dst, err := os.Create(destinationFile) if err != nil { return fmt.Errorf(\u0026#34;æ— æ³•åˆ›å»ºç›®æ ‡æ–‡ä»¶ %s: %s\u0026#34;, destinationFile, err) } defer dst.Close() _, err = io.Copy(dst, src) if err != nil { return fmt.Errorf(\u0026#34;å¤åˆ¶æ–‡ä»¶æ—¶å‡ºé”™: %s\u0026#34;, err) } return nil } ","date":"2023-11-24T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/go-manage-hosts/","title":"golang ç»´æŠ¤ hosts,å…¼å®¹é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—"},{"content":"AdGuardHome çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯è§†åŒ–ï¼Œæœ‰å»å¹¿å‘Šè§„åˆ™å¯ç”¨ã€‚ ä½†æ˜¯AdGuardHomeè‡ªå·±çš„åˆ†æµè§„åˆ™é…ç½®è¾ƒä¸ºå¤æ‚ï¼Œæœ‰ç¬¬ä¸‰æ–¹æä¾›åˆ†æµè§„åˆ™ï¼Œä½†æ˜¯å®é™…æµ‹è¯•å› ä¸ºæ— æ³•ä½¿ç”¨adgçš„å¹¶å‘æŸ¥è¯¢ä»¥åŠadgè‡ªèº«çš„æ€§èƒ½å±€é™æ‰€ä»¥æ•ˆæœå¹¶ä¸å¥½ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯å’Œmsdnsé…åˆä½¿ç”¨ï¼Œä¾‹å¦‚ mosdnsä»£ç†ä¸¤ä¸ªadgåˆ†åˆ«è´Ÿè´£å›½å†…å’Œå›½å¤–dns,æˆ–è€…adgä½œä¸ºå‰ç«¯åç«¯ä½¿ç”¨modnsã€‚\nä½†æ˜¯å¦‚æœä½ å¯¹å¯è§†åŒ–ç®¡ç†å’Œdnsç»Ÿè®¡æ²¡å•¥éœ€æ±‚çš„è¯ï¼Œå®Œå…¨æ²¡å¿…è¦ï¼Œå•ç‹¬mosdnså³å¯å®Œæˆã€‚\nä¸‹æ–‡ä»¥pve lxc alpineä¸ºä¾‹ openwrtæˆ–å…¶ä»–linuxå‘è¡Œç‰ˆåŒæ ·æ“ä½œ\nå®‰è£… ç›´æ¥ä¸‹è½½ mosdns ä¸‹è½½unzipè§£å‹åˆ° /opt/mosdnsè¿è¡Œ ./mosdns service install å³å¯ã€‚\nå‡†å¤‡å‡ ä¸ªè§„åˆ™æ–‡ä»¶ ä¸»è¦æ˜¯ å›½å†…ipæ¸…å• å›½å†…åç«™åŸŸåæ¸…å• å›½å¤–åç«™åŸŸåæ¸…å• ä¸€ä¸ªç©ºç™½çš„hosts.txt å¦‚æœä½ æœ‰è‡ªé€‰cf ipéœ€æ±‚è¿˜éœ€è¦å‡†å¤‡ cf ipè‡ªåŠ¨åˆ—è¡¨\n1 2 3 4 5 6 7 8 9 cd /opt/mosdns/ wget https://raw.githubusercontent.com/IceCodeNew/4Share/master/geoip_china/china_ip_list.txt -O geoip_cn.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/reject-list.txt -O geosite_category-ads-all.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/proxy-list.txt -O geosite_geolocation-!cn.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/direct-list.txt -O geosite_cn.txt echo \u0026#34;localhost 127.0.0.1\u0026#34;\u0026gt; /opt/mosdns/hosts.txt #æ³¨æ„æ ¼å¼å’Œç³»ç»Ÿçš„hostsæ–‡ä»¶ä¸ä¸€æ · wget https://www.cloudflare.com/ips-v4 -O cf4.txt #cf ipåœ°å€ wget https://www.cloudflare.com/ips-v6 -O cf6.txt cat cf4.txt \u0026lt;(echo) cf6.txt \u0026gt;geoip_cloudflare.txt #åˆå¹¶ å¯é€‰çš„è‡ªå»ºdoh ç›®çš„æ˜¯åœ¨æ·±åº¦å­¦ä¹ ç¯å¢ƒä¸ç”¨çš„æƒ…å†µä¸‹ä¾æ—§å¯ä»¥æ­£ç¡®è¿”å›åŸŸåå®é™…ip. https://dev.leiyanhui.com/route/safe-dns æŸ¥çœ‹ cfworkè‡ªå»ºdoh\nconfig.yaml åŸºæœ¬é€»è¾‘ï¼Œå›½å†…åŸŸågeosite_cn.txtä½¿ç”¨å›½å†…dnsï¼ˆdotï¼‰å¹¶å‘è§£æï¼Œå›½å¤–åŸŸågeosite_geolocation-!cn.txtä½¿ç”¨ å›½å¤–dnså’Œè‡ªå»ºdohè§£æ\nå¦‚æœéæ¸…å•å†…çš„åŸŸåï¼Œå¹¶ä¸”å›½å†…dnsæŸ¥è¯¢çš„ä¸€ä¸ªåŸŸåè¿”å›çš„æ˜¯ä¸€ä¸ªéå›½å†…ipï¼Œé‚£ä¹ˆä½¿ç”¨å›½å¤– å›½å¤–dnså’Œè‡ªå»ºdohè§£æ é‡æ–°è§£æä¸€æ¬¡è§£å†³è¢«æ±¡æŸ“é—®é¢˜ å› ä¸ºå»å¹¿å‘Šgeosite_category-ads-all.txt ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œå¹¶ä¸”æˆ‘è¿™é‡Œæ²¡è¿™ä¸ªéœ€æ±‚ï¼Œæ‰€ä»¥æ²¡æœ‰æ·»åŠ å»å¹¿å‘Šè§„åˆ™ã€‚ä½ å¯ä»¥è‡ªå·±æ·»åŠ ä¸Š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 cat \u0026gt; /opt/mosdns/config.yaml \u0026lt;\u0026lt; \\EOF log: level: error #æ—¥å¿—çº§åˆ«ã€‚å¯é€‰ \u0026#34;debug\u0026#34; \u0026#34;info\u0026#34; \u0026#34;warn\u0026#34; \u0026#34;error\u0026#34;ã€‚é»˜è®¤ \u0026#34;info\u0026#34; file: \u0026#34;/opt/mosdns/log.log\u0026#34; # API å…¥å£è®¾ç½® api: http: \u0026#34;0.0.0.0:9091\u0026#34; include: [] plugins: # è‡ªå®šä¹‰hosts æ³¨æ„æ ¼å¼å’Œç³»ç»Ÿhostsä¸åŒ æ”¯æŒæ³›åŸŸådomainå’Œfulldomain - tag: mosdns_hosts type: hosts args: files: - \u0026#34;/opt/mosdns/hosts.txt\u0026#34; # æµ‹è¯•pipeline ./mosdns probe pipeline tls://101.226.4.6 # é˜¿é‡Œå’Œ360çš„ä¸æ”¯æŒ # è½¬å‘è‡³æœ¬åœ°æœåŠ¡å™¨ å›½å†…è§£æ - tag: forward_local type: forward args: concurrent: 3 #mosdnsé™åˆ¶æœ€å¤§3å¹¶å‘ upstreams: #å› ä¸ºæœ€å¤§3å¹¶å‘æ‰€ä»¥ä¸‰ä¸ªå°±å¤Ÿäº†è‡ªå·±é€‰é€Ÿåº¦å¥½çš„ - addr: \u0026#34;tls://223.5.5.5\u0026#34; #é˜¿é‡Œ enable_pipeline: false - addr: \u0026#34;tls://1.12.12.12\u0026#34; #è…¾è®¯ dnspod enable_pipeline: true - addr: \u0026#34;tls://101.226.4.6\u0026#34; #360ç”µä¿¡ enable_pipeline: false # è½¬å‘è‡³è¿œç¨‹æœåŠ¡å™¨ å¢ƒå¤–è§£æä¸Šæ¸¸ - tag: forward_remote type: forward args: concurrent: 3 #æœ€å¤§3å¹¶å‘ upstreams: - addr: tls://8.8.8.8 enable_pipeline: true - addr: tls://1.1.1.1 enable_pipeline: true - addr: https://ä½ çš„è‡ªå»ºdohåœ°å€ bootstrap: 223.5.5.5 #bootstrapåœ°å€è´Ÿè´£è§£ædohåŸŸå åªèƒ½udp bootstrap_version: 4 #è§£æçš„dohåŸŸåè¿”å›ipv4è¿˜æ˜¯v6 enable_pipeline: false enable_http3: false #http3 udpä¸ç¨³ è¿˜æ˜¯å¼ºåˆ¶èµ°http2 # å›½å†…åŸŸå - tag: geosite_cn type: domain_set args: files: - \u0026#34;/opt/mosdns/geosite_cn.txt\u0026#34; # å›½å†… IP - tag: geoip_cn type: ip_set args: files: - \u0026#34;/opt/mosdns/geoip_cn.txt\u0026#34; # å›½å¤–åŸŸå - tag: geosite_no_cn type: domain_set args: files: - \u0026#34;/opt/mosdns/geosite_geolocation-!cn.txt\u0026#34; # ç¼“å­˜ - tag: lazy_cache type: cache args: size: 20000 lazy_cache_ttl: 86400 #dump_file: \u0026#34;/opt/mosdns/cache.dump\u0026#34; #dump_interval: 600 # å›½å†…è§£æ - tag: local_sequence type: sequence args: - exec: $forward_local # å›½å¤–è§£æ - tag: remote_sequence type: sequence args: - exec: prefer_ipv4 - exec: $forward_remote # æœ‰å“åº”ç»ˆæ­¢è¿”å› - tag: has_resp_sequence type: sequence args: - matches: has_resp exec: accept # fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence # è¿”å›éå›½å†… ip åˆ™ drop_resp - tag: query_is_local_ip type: sequence args: - exec: $local_sequence - matches: \u0026#34;!resp_ip $geoip_cn\u0026#34; exec: drop_resp # fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence - tag: query_is_remote type: sequence args: - exec: $remote_sequence # fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence - tag: fallback type: fallback args: primary: query_is_local_ip secondary: query_is_remote threshold: 500 always_standby: true # æŸ¥è¯¢å›½å†…åŸŸå - tag: query_is_local_domain type: sequence args: - matches: qname $geosite_cn exec: $local_sequence # æŸ¥è¯¢å›½å¤–åŸŸå - tag: query_is_no_local_domain type: sequence args: - matches: qname $geosite_no_cn exec: $remote_sequence # ä¸»è¦çš„è¿è¡Œé€»è¾‘æ’ä»¶ # sequence æ’ä»¶ä¸­è°ƒç”¨çš„æ’ä»¶ tag å¿…é¡»åœ¨ sequence å‰å®šä¹‰ï¼Œ # å¦åˆ™ sequence æ‰¾ä¸åˆ°å¯¹åº”æ’ä»¶ã€‚ - tag: main_sequence type: sequence args: - exec: $mosdns_hosts - exec: query_summary entry - exec: $lazy_cache - exec: $query_is_local_domain - exec: jump has_resp_sequence - exec: $query_is_no_local_domain - exec: jump has_resp_sequence - exec: $fallback #### æœ€åé…ç½® server........ç•¥ - tag: server type: udp_server # ç›®å‰æœ‰ udp/tcp/http_server args: entry: main_sequence listen: 0.0.0.0:53 - tag: server_tcp type: tcp_server args: entry: main_sequence listen: 0.0.0.0:53 - tag: \u0026#34;server_http\u0026#34; type: \u0026#34;http_server\u0026#34; args: entries: # []extry - path: /dns-query # æœ¬è·¯å¾„æ‰§è¡Œ exec: main_sequence # å¯æ‰§è¡Œæ’ä»¶çš„ tagã€‚ src_ip_header: \u0026#34;X-Forwarded-For\u0026#34; # ä» HTTP å¤´è·å–ç”¨æˆ· IPã€‚ listen: 0.0.0.0:80 # ç›‘å¬åœ°å€ã€‚ cert: \u0026#34;\u0026#34; # ç•™ç©º cert å’Œ key åä¼šç¦ç”¨ TLSã€‚ è¿™é‡Œæ²¡æœ‰é…ç½®è¯ä¹¦ï¼Œå¤–ç½‘ä½¿ç”¨å¦å¤–æœ‰acmeå’Œnginxå¤„ç†https key: \u0026#34;\u0026#34; idle_timeout: 10 # ç©ºè¿æ¥è¶…æ—¶ã€‚å•ä½ç§’ã€‚é»˜è®¤ 30ã€‚ EOF /etc/init.d/mosdns restart éƒ¨ç½² è·¯ç”±å™¨å’Œå†…ç½‘æœºå™¨ å› ä¸ºæˆ‘è¿™é‡Œæ˜¯ç‹¬ç«‹éƒ¨ç½²åœ¨ pve lxcé‡Œé¢ï¼Œipæ˜¯ 10.1.1.104ã€‚\nåœ¨openwrt æˆ–è€… ikuaiä¸­é…ç½®ä¸Šæ¸¸dnsä¸º 10.1.1.104å³å¯ï¼Œå†…ç½‘å†…å…¶ä»–æœºå™¨çš„dnså¯ä»¥ç”¨è·¯ç”±å™¨ipä½œä¸ºdnsæˆ–è€…mosdnsçš„10.1.1.104å‡å¯\nclash clash åˆ é™¤å…¶ä»–dns NameServer FallBack Default-NameServer å…¨éƒ¨è®¾ç½®ä¸º 10.1.1.104\nå¤–ç½‘éƒ¨ç½² å› ä¸ºå®¶å®½æ˜¯æ²¡æœ‰53ç«¯å£çš„ï¼Œä½ å¯ä»¥ä»è·¯ç”±å™¨ç”¨ç«¯å£æ˜ å°„ä¿®æ”¹ä¸€ä¸‹udp tcpçš„ç«¯å£ï¼Œæˆ–è€…å¤–ç½‘ç›´æ¥ç”¨server_http èµ°doh\nå­˜åœ¨çš„é—®é¢˜ ä¸»è¦æ˜¯è‡ªå®šä¹‰åŸŸåè§£æï¼š\nhttps://irine-sistiana.gitbook.io/mosdns-wiki/mosdns-v5/ru-he-pei-zhi-mosdns/yu-ming-pi-pei-gui-ze mosdns çš„hostsæ–¹æ³•ï¼Œæ”¯æŒdomain å’Œ full keyword å’Œ æ­£åˆ™ã€‚ å¯ä»¥è§£å†³å¤šæ•°è‡ªå®šä¹‰åŸŸåè§£æçš„é—®é¢˜ã€‚\nä½†æ˜¯ä¿®æ”¹hostsæ–‡ä»¶å éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆ è¿™å°±æçš„å¾ˆçƒ¦ã€‚\n","date":"2023-11-21T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/mosdns-all-in-one/","title":"mosdns all in one åˆ†æµåŠ è‡ªå®šä¹‰è§£æï¼Œä¸ä¾èµ– AdGuardHome"},{"content":"å‡çº§ç›®çš„ å—é˜¿é‡Œäº‘(2023-11-12)æ•…éšœäº‹ä»¶å½±å“ï¼Œè™½ç„¶é¡¹ç›®ä¸€å¼€å§‹éƒ½è·¨äº‘è·¨åœ°åŒºéƒ¨ç½²ï¼Œä½†æ˜¯æˆ‘ä»¬çš„éƒ¨åˆ†ä¸šåŠ¡ä¾æ—§å—åˆ°ç‰µè¿ï¼Œé­é‡é‡æŒ«ã€‚æ‰€ä»¥æ­¤æ¬¡å‡çº§ä¸»è¦æ˜¯è·¨äº‘å¤§é‡é›¶ç¢å°æ•°æ®å‚¨å­˜ï¼Œæ›´æ¢ä¸ºç½‘ç»œkvå‚¨å­˜ï¼ˆä¹‹å‰æ˜¯å®šæ—¶åˆå¹¶æ–‡ä»¶ååŒæ­¥åˆ°é˜¿é‡Œäº‘ossï¼‰ã€‚ å½»åº•è§£å†³ä¸šåŠ¡å¯¹é˜¿é‡Œäº‘ossçš„ä¾èµ–ã€‚é˜¿é‡Œäº‘osså’Œè…¾è®¯coséƒ½æ”¹ä¸ºæ•°æ®å¤‡ä»½ä¸“ç”¨ï¼Œä¸å†å’Œä¸šåŠ¡æœ‰å…³è”ã€‚\næœ¬æœˆé€æ­¥ä½¿ç”¨podman æ›¿ä»£docker ä½¿ç”¨keydbæ›¿ä»£redisã€‚ å› ä¸ºæ‰“ç®—ä¸Škeydb,æ‰€ä»¥åŸæœ‰redisé›†ç¾¤ä¹Ÿæ›¿æ¢ä¸ºkeydbã€‚ å¹¶æ–°å»ºä¸€ä¸ªé›†ç¾¤ç”¨äºå‚¨å­˜æµ·é‡ç¢æ•°æ®ã€‚\nå…³äºpodman podmançš„å¥½å¤„å¯¹æˆ‘ä»¬ç›®å‰çš„ç‰©è”ç½‘é¡¹ç›®æ¥è¯´ä¸»è¦æ˜¯å¯ä»¥å…rootç”¨æˆ·éƒ¨ç½²ç»´æŠ¤ã€‚\nåœ¨è¯•è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œä»å‡ å°æœåŠ¡å™¨çº¿ä¸Šä½¿ç”¨åæ²¡é—®é¢˜åˆ°å…¨éƒ¨æœåŠ¡å™¨éƒ½å¼€å§‹æ›¿æ¢dockerï¼Œå†æ—¶ä¸¤ä¸ªæœˆæ²¡å‡ºç°ä»»ä½•é—®é¢˜ã€‚\nkeydb è€Œkeydbç»è¿‡ä¸€å‘¨çš„åå¤æµ‹è¯•ï¼Œåœ¨å®é™…åº”ç”¨åœºæ™¯ä¸‹ keydb6.3.x æ€§èƒ½è¿œè¿œè¶…è¿‡redis6.2.13å’Œredis7.2.3ã€‚å› ä¸ºè·¨äº‘å…¬ç½‘é›†ç¾¤ï¼Œæ‰€ä»¥tlsæ˜¯å¿…é¡»çš„ï¼Œè€Œkeydbçš„tlsæ€§èƒ½ç»è¿‡æµ‹è¯•è¦æ¯”redis7.2.3çš„qpsé«˜å‡º6-10å€ã€‚tcpæ€§èƒ½é«˜å‡º40%-2å€ã€‚\nkeydbå®Œå…¨å…¼å®¹redis6.2.x ä¸€å‘¨çš„çº¿ä¸Šéƒ¨åˆ†èŠ‚ç‚¹æµ‹è¯•ä¸­æ²¡å‘ç°é—®é¢˜ã€‚\né‡åˆ°çš„å‡ ä¸ªå‘ åä¸ºäº‘å’Œdebian11 è…¾è®¯äº‘å’Œé˜¿é‡Œäº‘éƒ½å¾ˆé¡ºåˆ©ï¼Œä¸»è¦æ˜¯åä¸ºäº‘é‚£è¾¹ã€‚åä¸ºäº‘æ²¡æœ‰æä¾›debian12çš„é•œåƒï¼Œåœ¨æ‰‹åŠ¨å‡çº§åˆ°debian12å å®¹å™¨æ— æ³•å¯åŠ¨ã€‚å› ä¸ºæ—¶é—´ç´§å¼ æ²¡æœ‰å»æ£€æŸ¥æ˜¯åä¸ºäº‘é•œåƒé‡Œé¢å†…ç½®çš„åä¸ºç»„ä»¶å¯¼è‡´çš„è¿˜æ˜¯åˆ«çš„çš„é—®é¢˜ã€‚ ä»¥ä¸‹è®°å½• åŸºäºdebian12 åä¸ºäº‘éƒ¨åˆ†åŸºäºdebian11\nlxcä¸»æœºä¸‹çš„podman å’Œdockerä¸å¤ªä¸€æ ·ï¼Œéç‰¹æƒlxcä¹Ÿè¦è§£å†³cgroup2\nsuåˆ‡æ¢ç”¨æˆ·çš„ä¸¢å¤±XDG_RUNTIME_DIR 1 2 export XDG_RUNTIME_DIR=/run/user/$(id -u) echo $XDG_RUNTIME_DIR keydbé›†ç¾¤ç»´æŠ¤å’Œredis7ä¸ä¸€æ ·çš„åœ°æ–¹ keydb 6.2.3 åº”è¯¥æ˜¯åŸºäºredis6.xçš„ï¼Œåœ¨é›†ç¾¤åˆ›å»ºå’Œæ·»åŠ èŠ‚ç‚¹çš„ï¼Œä¸æ”¯æŒç”¨åŸŸåå’Œhostnameçš„æ–¹å¼ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šip,å¦åˆ™é›†ç¾¤æ— æ³•é€šè®¯ã€‚\né˜¿é‡Œäº‘çš„åŸŸåé—®é¢˜ å› ä¸ºä¸ºäº†éš”ç¦»å®ä½“ï¼Œè¿™æ¬¡å‡çº§ï¼Œæˆ‘ä»¬æ–°ä½¿ç”¨äº†ä¸€ä¸ªå’Œæˆ‘ä¸ªäººä»¥åŠå…¬å¸ä¸ç›¸å…³çš„åŸŸåï¼ˆæœªåœ¨é˜¿é‡Œäº‘å¤‡æ¡ˆï¼‰ç»„å»ºredisé›†ç¾¤ã€‚ç»“æœåœ¨é˜¿é‡Œäº‘é‚£è¾¹ tlsé¢‘ç¹è¢«é‡ç½®ã€‚ é›†ç¾¤ä¹Ÿç»å¸¸å¡æ‰ã€‚ åå¤æ£€æŸ¥åï¼Œå¹¶å’Œé˜¿é‡Œäº‘æŠ€æœ¯æ²Ÿé€šå‡ æ¬¡åå‘ç°ç¡®å®æ˜¯å¤‡æ¡ˆçš„é—®é¢˜ã€‚ï¼ˆéwebä¸šåŠ¡åŸŸåä¹Ÿè¦å¤‡æ¡ˆï¼‰\nåæ›´æ¢ä¸€ä¸ªåœ¨é˜¿é‡Œäº‘å¤‡æ¡ˆè¿‡çš„åŸŸå æ²¡æœ‰å†å‡ºé—®é¢˜ã€‚\næˆ‘æœè¿™äº›æ”¿ç­–çœŸçš„æ˜¯ã€‚ã€‚ã€‚\nACL keydb6.3.4 ä¾æ—§ä¸æ”¯æŒRedis 7.X ACLï¼Œéƒ¨åˆ†ä¸šåŠ¡ä»£ç éœ€è¦è°ƒæ•´ã€‚ä¹‹å‰è¯´2023å¹´ä¸­æ”¯æŒï¼Œå¥½åƒè·³ç¥¨äº†ã€‚ä½†æ˜¯ç›®å‰æœ€æ–°ä»£ç ä¸­å·²ç»æœ‰aclç›¸å…³çš„å†…å®¹ unstable ç‰ˆæœ¬æœªæµ‹è¯•\nå…¶ä»–å¯é€‰çš„kvå‚¨å­˜ ä¸€å¼€å§‹æ˜¯æ‰“ç®—å…ˆåœ¨éƒ¨åˆ†éœ€è¦å‚¨å­˜çš„ä¸šåŠ¡ä¸Šæ›¿æ¢ç›®å‰çš„s3å‚¨å­˜ï¼Œæ–°æ–¹æ¡ˆéœ€è¦å»ä¸­å¿ƒåŒ–è·¨äº‘çš„é›†ç¾¤ï¼ŒåŠ ä¸Šæˆ‘ä»¬å¯¹go-reids sdké’ˆå¯¹æ€§çš„ä¼˜åŒ–è¿‡ï¼Œæ‰€ä»¥ä¼˜å…ˆè€ƒå¯Ÿäº†å‡ ä¸ªå…¼å®¹redisåè®®çš„ ä»¥åŠminioé›†ç¾¤ã€‚\nä¸»è¦æ˜¯ minio kvrocks tendis redrock Pika\nminioé›†ç¾¤ å»ä¸­å¿ƒåŒ–ï¼Œä½†æ˜¯æ‰©å±•éœ€è¦æŒ‡æ•°æ‰©å±•ï¼Œå¦å¤–etcdè”é‚¦æ–¹æ¡ˆè¿‡äºå¤æ‚ã€‚æˆ‘ä»¬å®é™…æƒ…å†µæ˜¯å¤§é‡å°æ•°æ®æ®µï¼Œå†™å…¥å¤šä½†æ˜¯è¯»å–ä¹Ÿä¸å°‘ï¼Œåœ¨å®é™…æµ‹è¯•åminioé›†ç¾¤æ–¹å¼å¸¦æ¥çš„è´¹ç”¨å¯èƒ½æ¯”ç›´æ¥ä½¿ç”¨äº‘å‚å•†çš„å¯¹è±¡å‚¨å­˜åè¿˜è¦é«˜ã€‚ tendis æœªå°è¯•ï¼Œå› ä¸ºä¸æ”¯æŒtlsä¸è·¨äº‘éƒ¨ç½²ã€‚ redrock ä¸ªäººå¼€å‘è€…ï¼Œä½œè€…åœ¨çŸ¥ä¹ï¼Œgithubä¸æ´»è·ƒï¼Œä»£ç å·²ç»è®¸ä¹…æ²¡ç»´æŠ¤ï¼Œæ–‡æ¡£ä¸å…¨ã€‚ç®€å•æµ‹è¯•åæ€§èƒ½å’Œrediså·®ä¸å¤šï¼Œä½äºkeydbã€‚ kvrocks èŠ±è´¹å¤§é‡æ—¶é—´æµ‹è¯•å’Œæƒè¡¡åå¾—åˆ°çš„ç»“è®ºï¼šä»–çš„é›†ç¾¤çš„ç®¡ç†ä»¥åŠæ•…éšœè½¬ç§»æ–¹å¼è™½ç„¶æ²¡æœ‰gossipå¼€æ”¯ï¼Œéœ€è¦ä¸€ä¸ªå¤–éƒ¨èŠ‚ç‚¹æ¥è‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»ï¼Œå¦å¤–å°±æ˜¯ä»–çš„çƒ­æ•°æ®æ˜¯åŸºäºrocksçš„cacheæ¥ç®¡ç†åœ¨qpsæ¯”è¾ƒé«˜çš„æ—¶å€™çš„è¡¨ç°ä¸€èˆ¬ï¼Œåœ¨æµ‹è¯•è¿‡å‡ è½®åå’Œredis6/7çš„å·®è·è¾ƒå¤§ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆæ‰€æœ‰kvæ•°æ®å»vs redisçš„æ—¶å€™éƒ½å»å’Œå•çº¿ç¨‹çš„redisæ¯”è¾ƒ\u0026hellip;ï¼‰ã€‚ pika çœ‹èµ·æ¥ä¸æ˜¯å®Œå…¨å»ä¸­å¿ƒåŒ–çš„ï¼Œå’Œæˆ‘ä»¬å®é™…éœ€æ±‚ä¸ç›¸ç¬¦ã€‚\nä¸»è¦æ˜¯æˆ‘ä»¬è¿˜éœ€è¦çƒ­æ•°æ®æŸ¥è¯¢é€Ÿåº¦å¥½ä¸€äº›ï¼Œè™½ç„¶å¦å¤–æœ‰ä¸€ä¸ªredisé›†ç¾¤ï¼Œä½†æ˜¯æœ¬ç€å°½å¯èƒ½ç‹¬ç«‹çš„åŸåˆ™ã€‚å‰©ä¸‹ä¹Ÿå°±keydb å’Œ kvrockså¯é€‰äº†ã€‚\nå› ä¸ºçº¿ä¸‹æ¨¡æ‹Ÿæµ‹è¯•å’Œçº¿ä¸Šå®é™…æƒ…å†µæœ‰å‡ºå…¥ï¼Œè€Œkvrockså’Œkeydbéƒ½æ˜¯å…¼å®¹redis clusterï¼Œæˆ‘ä»¬ç›®å‰æƒ…å†µæ˜¯qpsè¾ƒé«˜è€ŒèŠ‚ç‚¹æ•°é‡å¹¶ä¸å¤šï¼Œgossipåè®®å¯¹æˆ‘ä»¬å½±å“ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€ç»ˆå†³å®šå…ˆé€æ­¥åœ¨çº¿ä¸Šç”¨keydbæ›¿ä»£rediså’Œkvå‚¨å­˜ã€‚æ—¥åå†è°ƒç ”kvrocks keydbçš„ç¡¬ç›˜å­˜å‚¨åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯flashåŠŸèƒ½ï¼Œç›®å‰è¿˜æ˜¯æµ‹è¯•ç‰ˆã€‚ä½†æ˜¯è¿™æ˜¯ä»keydbä¸“ä¸šç‰ˆåˆå¹¶åˆ°å¼€æºç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ç®€å•çš„ get set ç»è¿‡ä¸€å‘¨æµ‹è¯•ç¨³å®šæ€§å’Œæ€§èƒ½éƒ½æ²¡æœ‰é—®é¢˜ã€‚\néƒ¨ç½²è¿‡ç¨‹ ç³»ç»Ÿç¯å¢ƒå‡†å¤‡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 wget https://githubä»£ç†ç«™/https://github.com/rclone/rclone/releases/download/v1.64.2/rclone-v1.64.2-linux-amd64.deb apt install ./rclone-v1.64.2-linux-amd64.deb rm ./rclone-v1.64.2-linux-amd64.deb #apt install docker-compose apt-get -y install podman crun slirp4netns fuse-overlayfs systemctl enable --now podman # debian11 éœ€è¦ # åˆ«å alpineçš„å†™åˆ° /etc/profile cp /etc/containers/registries.conf /etc/containers/registries.conf-bak cat \u0026gt; /etc/containers/registries.conf\u0026lt;\u0026lt; EOF unqualified-search-registries = [\u0026#39;registry.redhat.io\u0026#39;, \u0026#39;docker.io\u0026#39;] [[registry]] prefix = \u0026#34;docker.io\u0026#34; location = \u0026#34;docker.io\u0026#34; [[registry.mirror]] location = \u0026#34;docker.nju.edu.cn\u0026#34; [[registry.mirror]] location = \u0026#34;docker.mirrors.sjtug.sjtu.edu.cn\u0026#34; [[registry.mirror]] location = \u0026#34;é˜¿é‡Œäº‘å®¹å™¨é•œåƒåŠ é€Ÿåœ°å€.mirror.aliyuncs.com\u0026#34; EOF mkdir -p ~/.config/rclone/ cat \u0026gt; ~/.config/rclone/rclone.conf \u0026lt;\u0026lt; EOF [oss-hz] type = s3 provider = Alibaba access_key_id = XXXXX secret_access_key = XXXX endpoint = oss-cn-shanghai.aliyuncs.com acl = private storage_class = STANDARD bucket_acl = private EOF ç‹¬ç«‹ç”¨æˆ· 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 adduser --shell /bin/bash keydb loginctl enable-linger keydb # å…è®¸ç”¨æˆ·å¸¸é©» ##éœ€è¦ç»™ æ£€æŸ¥sudoæƒé™ï¼Œå¦åˆ™å®¹å™¨çš„ä¸€äº›ç›®å½•ä»–æ²¡æœ‰æƒé™åˆ é™¤ï¼Œ usermod -aG sudo keydb #éƒ¨ç½²å®Œæˆå ç§»é™¤sudo sudo -l -U keydb # éƒ¨åˆ†äº‘ä¸»æœºï¼ˆè…¾è®¯äº‘ï¼‰æ”¹åŠ¨è¿‡sudoeræ–‡ä»¶ éœ€è¦æ‰‹åŠ¨æ·»åŠ  sudoç”¨æˆ·ç»„ echo \u0026#34;%sudo\tALL=(ALL:ALL) ALL\u0026#34; \u0026gt; /etc/sudoers.d/sudogrup # é…ç½®è¯ä¹¦ su keydb mkdir -p ~/.ssh/ cat \u0026gt; ~/.ssh/authorized_keys \u0026lt;\u0026lt; \\EOF ssh-rsa AAAXXXXXXXX EOF chmod -R 600 ~/.ssh/authorized_keys æ¨å‡ºssh,é‡æ–°ç”¨ keydbç”¨æˆ·ç™»é™†åˆ°æœåŠ¡å™¨ï¼Œåé¢æ“ä½œéƒ½æ˜¯åŸºäºkeydb\ntlsè¯ä¹¦ ç”¨rclone ä»ossè·å–\n1 2 rclone copyto oss-hz:/XXXX/redis_tls ~/redis_tls rm -rf ~/.config/rclone/rclone.conf # ç”¨å®Œåˆ æ‰é…ç½®æ–‡ä»¶ keydbæ¨¡æ¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 cat \u0026gt; ~/etc/keydb_tpl_all.conf \u0026lt;\u0026lt; \\EOF # flashç‰ˆæœ¬ # ä¸»è¦è®¾ç½® maxmemory128mb maxmemory {MaxMem} # allkeys-lfu allkeys-lru maxmemory-policy allkeys-lfu maxmemory-samples 5 # storage-provider flash /path/to/flash/db storage-provider flash /data/flash # === æŒä¹…åŒ– appendonly yes appendfilename \u0026#34;appendonly.aof\u0026#34; appendfsync everysec rdbcompression yes rdbchecksum yes dbfilename dump.rdb rdb-del-sync-files no dir /data hz 10 dynamic-hz yes aof-rewrite-incremental-fsync yes rdb-save-incremental-fsync yes no-appendfsync-on-rewrite no auto-aof-rewrite-percentage 100 auto-aof-rewrite-min-size 64mb aof-load-truncated yes aof-use-rdb-preamble yes # ======= å¯†ç  requirepass \u0026#34;{password}\u0026#34; masterauth \u0026#34;{password}\u0026#34; # ======== tls tls-port {tlsPort} tls-cert-file {tlsCert}/redis.crt tls-key-file {tlsCert}/redis.key tls-client-cert-file {tlsCert}/client.crt tls-client-key-file {tlsCert}/client.key tls-client-key-file-pass {tlsCert}/secret tls-dh-params-file {tlsCert}/redis.dh tls-ca-cert-file {tlsCert}/ca.crt tls-ca-cert-dir {tlsCert} tls-auth-clients no tls-auth-clients optional tls-replication yes tls-cluster yes tls-protocols \u0026#34;TLSv1.2 TLSv1.3\u0026#34; tls-ciphers DEFAULT:!MEDIUM tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256 tls-prefer-server-ciphers yes tls-session-caching no tls-session-cache-size 5000 tls-session-cache-timeout 60 #=== é›†ç¾¤ cluster-enabled yes cluster-config-file \u0026#34;nodes.conf\u0026#34; cluster-node-timeout 5000 cluster-announce-ip {domian} cluster-announce-bus-port {PORT_BUS} # ======= å…¶ä»– protected-mode no bind * -::* port {port} tcp-backlog 511 timeout 0 tcp-keepalive 300 supervised no pidfile /var/run/keydb.pid #loglevel notice warning loglevel notice databases 16 always-show-logo no set-proc-title yes proc-title-template \u0026#34;{title} {listen-addr} {server-mode}\u0026#34; save 900 1 save 300 10 save 60 10000 stop-writes-on-bgsave-error yes replica-serve-stale-data yes replica-read-only yes repl-diskless-sync no repl-diskless-sync-delay 5 repl-diskless-load disabled repl-disable-tcp-nodelay no replica-priority 100 acllog-max-len 128 lazyfree-lazy-eviction no lazyfree-lazy-expire no lazyfree-lazy-server-del no replica-lazy-flush no lazyfree-lazy-user-del no lazyfree-lazy-user-flush no oom-score-adj no oom-score-adj-values 0 200 800 disable-thp yes lua-time-limit 5000 slowlog-log-slower-than 10000 slowlog-max-len 128 latency-monitor-threshold 0 notify-keyspace-events \u0026#34;\u0026#34; hash-max-ziplist-entries 512 hash-max-ziplist-value 64 list-max-ziplist-size -2 list-compress-depth 0 set-max-intset-entries 512 zset-max-ziplist-entries 128 zset-max-ziplist-value 64 hll-sparse-max-bytes 3000 stream-node-max-bytes 4096 stream-node-max-entries 100 activerehashing yes client-output-buffer-limit normal 0 0 0 client-output-buffer-limit replica 256mb 64mb 60 client-output-buffer-limit pubsub 32mb 8mb 60 jemalloc-bg-thread yes server-threads 2 replica-weighting-factor 2 active-client-balancing yes EOF é€šè¿‡æ¨¡æ¿åˆ›å»ºNä¸ªkeydbé…ç½®æ–‡ä»¶ ä¸‹é¢åˆ›å»ºäº† 5+5 10ä¸ªï¼Œæ¯ä¸ªå®ä¾‹éœ€è¦3ä¸ªç«¯å£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 get_keydb_conf() { mkdir -p ~/etc \u0026amp;\u0026amp; cd ~/etc rm -rf ./keydb$PORT_TCP.conf cp ./keydb_tpl_all.conf ./$PORT_TCP.conf # æ¨¡æ¿ sed -i \u0026#34;s/{port}/$PORT_TCP/g\u0026#34; ./$PORT_TCP.conf #tcp ç«¯å£ sed -i \u0026#34;s/{tlsPort}/$PORT_TLS/g\u0026#34; ./$PORT_TCP.conf #tls ç«¯å£ sed -i \u0026#34;s/{PORT_BUS}/$PORT_BUS/g\u0026#34; ./$PORT_TCP.conf #BUS ç«¯å£ sed -i \u0026#34;s/{domian}/$KEYDB_DOMAIN/g\u0026#34; ./$PORT_TCP.conf #åŸŸå sed -i \u0026#34;s/{tlsCert}/\\/redis_tls/g\u0026#34; ./$PORT_TCP.conf #è¯ä¹¦ sed -i \u0026#34;s/{password}/$KEYDB_PSW/g\u0026#34; ./$PORT_TCP.conf #å¯†ç  sed -i \u0026#34;s/{MaxMem}/$MaxMem/g\u0026#34; ./$PORT_TCP.conf #æœ€å¤§å†…å­˜ if [[ $(uname -m) == arm* || $(uname -m) == aarch* ]]; then echo \u0026#34;å½“å‰æ˜¯ ARM æ¶æ„ éœ€è¦æ·»åŠ ä¸€è¡Œ ARM64-COW-BUG \u0026#34; echo \u0026#34;ignore-warnings ARM64-COW-BUG\u0026#34;\u0026gt;\u0026gt; ./$PORT_TCP.conf # arméœ€è¦è¿™ä¸ª fi } KEYDB_PSW=mypasswd MaxMem=\u0026#34;512mb\u0026#34; KEYDB_DOMAIN=\u0026#34;serv-ali-1.leiyanhui.com\u0026#34; for i in {1..5}; do PORT_TCP=$((4000 + i)) PORT_TLS=$((4100 + i)) PORT_BUS=$((14100 + i)) get_keydb_conf done MaxMem=\u0026#34;1024mb\u0026#34; for i in {1..5}; do PORT_TCP=$((5000 + i)) PORT_TLS=$((5100 + i)) PORT_BUS=$((15100 + i)) get_keydb_conf done nano 6001.conf åˆ›å»ºå®¹å™¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 get_podman() { podman stop keydb$PORT_TCP\u0026amp;\u0026amp;podman rm keydb$PORT_TCP sudo rm -rf ~/storage$PORT_TCP \u0026amp;\u0026amp; mkdir ~/storage$PORT_TCP # å…ˆsudo åˆ é™¤å‚¨å­˜ç›®å½• podman run -itd --name keydb$PORT_TCP --hostname keydb$PORT_TCP --network host \\ -v ~/etc:/keydb_etc \\ -v ~/redis_tls:/redis_tls \\ -v ~/storage$PORT_TCP:/data \\ -e TZ=Asia/Shanghai \\ --restart=always \\ --shm-size 128M \\ -d $DOCKEIMAGE keydb-server /keydb_etc/$PORT_TCP.conf # å¤„ç†ç”¨æˆ·æœåŠ¡ mkdir -p ~/.config/systemd/user \u0026amp;\u0026amp; cd ~/.config/systemd/user rm -rf ./container-keydb$PORT_TCP.service podman generate systemd --name keydb$PORT_TCP --files --new systemctl --user daemon-reload systemctl --user enable container-keydb$PORT_TCP.service } export DOCKEIMAGE=docker.io/eqalpha/keydb:alpine_x86_64_v6.3.4 for i in {1..5}; do PORT_TCP=$((4000 + i)) get_podman done for i in {1..5}; do PORT_TCP=$((5000 + i)) get_podman done ls podman ps -a å¼€æ”¾ç«¯å£ å»å„å®¶äº‘ä¸»æœºæ§åˆ¶é¢æ¿ é˜²ç«å¢™ å¼€æ”¾ç«¯å£\n4101-4105,14101-14105, 5101-5105,15101-15105\nä¸»é›†ç¾¤è¿æ¥ keydbå¿…é¡»ä½¿ç”¨ipè¿æ¥\n1 2 3 4 5 6 7 8 9 podman exec -it keydb6001 keydb-cli --tls \\ --cacert /redis_tls/ca.crt \\ -a å¯†ç  \\ --cluster create 18.18.18.18:4101 18.18.18.18:4102 18.18.18.18:4103 18.18.18.18:4104 18.18.18.18:4105 podman exec -it keydb6001 keydb-cli --tls \\ --cacert /redis_tls/ca.crt \\ -a å¯†ç  \\ --cluster create 18.18.18.18:5101 18.18.18.18:5102 18.18.18.18:5103 18.18.18.18:5104 18.18.18.18:5105 æ·»åŠ ä»èŠ‚ç‚¹ ä¹Ÿå¿…é¡»ç”¨ipæ–¹å¼\n1 2 3 4 5 podman exec -it keydb6001 keydb-cli --tls \\ --cacert /redis_tls/ca.crt \\ -a å¯†ç  \\ --cluster add-node æ–°èŠ‚ç‚¹:4105 ç°æœ‰ä»»æ„ä¸€ä¸ªæ—§èŠ‚ç‚¹ip:4101 \\ --cluster-slave --cluster-master-id \u0026lt;æœ¬èŠ‚ç‚¹çš„ä¸»èŠ‚ç‚¹id\u0026gt; æ‰‹åŠ¨è°ƒæ•´ä¸»èŠ‚ç‚¹ é€ä¸ªè¿æ¥åˆ°è¦æä¸ºä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼Œè¿™é‡Œå¯ä»¥ç”¨åŸŸåäº†å“ˆ\n1 2 3 4 5 podman exec -it keydb6001 keydb-cli --tls \\ --cacert /redis_tls/ca.crt \\ -a å¯†ç  \\ -h è¦æä¸ºä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹çš„ipæˆ–è€…åŸŸå -p 4104 \\ CLUSTER FAILOVER TAKEOVER å¯¼å…¥å†å²æ•°æ® æ–¹æ³•1 ã€ https://github.com/joyanhui/redis-back\næ–¹æ³•2ã€ aof å’Œ rdbæ–‡ä»¶ç›´æ¥æ¢å¤\nå®é™…3ã€ é›†ç¾¤æœªåœæœºï¼Œä¸»èŠ‚ç‚¹éƒ½åœ¨çº¿ï¼Œæ‰€ä»¥ç›´æ¥æ¥å…¥\né˜²æ­¢ä¸»èŠ‚ç‚¹è¿‡äºé›†ä¸­ æŸäº›æç«¯æƒ…å†µä¸‹ï¼Œå¤šæ•°ä¸»èŠ‚ç‚¹ä¼šè¢«é›†ç¾¤è¿ç§»åˆ°å…¶ä¸­ä¸€å°æœºå™¨ä¸Šï¼ˆç›®å‰æ˜¯4å°æœºå™¨ï¼Œæ¯ä¸ªé›†ç¾¤5ä¸ªä¸»èŠ‚ç‚¹ï¼‰ã€‚å¦‚æœæœ‰3ä¸ªä¸»èŠ‚ç‚¹è¢«é›†ç¾¤è‡ªåŠ¨è¿ç§»åˆ°ä¸€å°æœºå™¨ä¸Šï¼Œåˆšå¥½è¿™å°æœºå™¨å®•æœºã€‚é‚£ä¹ˆæ•´ä¸ªé›†ç¾¤ä¼šæ— æ³•è‡ªæ„ˆã€‚\néœ€è¦å¦å¤–è¿è¡Œä¸€ä¸ªè„šæœ¬å®šæ—¶æ‰§è¡ŒCLUSTER NODESæ£€æŸ¥èŠ‚ç‚¹éƒ¨åˆ†æƒ…å†µã€‚\næˆ‘ä»¬æ˜¯éƒ¨ç½²åœ¨äº‘å‡½æ•°ä¸Šçš„golang+shellè„šæœ¬å®ç° å®šæ—¶å™¨äº‹ä»¶è§¦å‘ï¼Œå…·ä½“å®ç°ç•¥\né˜²æ­¢ä¸»ä»åŒæ­¥å¸¦å®½å ç”¨è¿‡å¤§ æ¯ä¸ªé›†ç¾¤æ˜¯ 1ä¸»2ä» 1ä»å’Œå®ƒçš„ä¸»æ”¾åœ¨åŒä¸€ä¸ªäº‘ä¸Šï¼Œä¿®æ”¹hostsä¸ºå†…ç½‘ipï¼Œå¦å¤–ä¸€ä»è·¨äº‘ã€‚\nè¿™æ ·å°½å¯èƒ½çš„é™ä½ä¸»ä»åŒæ­¥çš„å¸¦å®½å ç”¨ã€‚åœ¨ç»æµæ€§å’Œé«˜å¯ç”¨æ€§ä¹‹é—´æ‰¾å¹³è¡¡ã€‚\nå¯¹redisçš„ä¸€äº›çœ‹æ³• å…¶å®æ— è®ºæ˜¯keydbè¿˜æ˜¯dragonflyå®é™…è¿è¡Œç¯å¢ƒä¸­ï¼Œæ€§èƒ½éƒ½å·²ç»è¿œè¿œè¶…è¿‡redisï¼Œè¿æ¥æ•°æ¯”è¾ƒå¤šçš„æ—¶å€™cpuå’Œå†…å­˜çš„å¼€æ”¯ä¹Ÿéƒ½æ¯”rediså°å¾ˆå¤šã€‚ ç”šè‡³kvrocksåœ¨ramdisæˆ–è€…å‚²è…¾ä¸‹ï¼Œæ€§èƒ½éƒ½è¶…è¿‡redis æ‰€ä»¥å¦‚æœå’Œæˆ‘ä¸€æ ·æ˜¯è‡ªå»ºçš„è¯ï¼Œå°½æ—©åˆ‡æ¢å§ã€‚ redisçš„è®¾è®¡é€»è¾‘æœ‰ä¸€äº›å›ºæ‰§ï¼Œæˆ–è®¸è¿™ä¹Ÿæ˜¯redisä¸€å¼€å§‹æˆåŠŸçš„åŸå› ã€‚\n","date":"2023-11-20T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/container/podman-keydb/","title":"podmanè·¨äº‘éƒ¨ç½²keydbé›†ç¾¤æ›¿ä»£docker+redisçš„è¿‡ç¨‹å’Œå‡ ä¸ªå‘"},{"content":"åœºæ™¯ ä¹‹å‰æœåŠ¡éƒ½æ˜¯åŸºäº rustå’Œgolang æ‰€ä»¥ä¸€ç›´ä½¿ç”¨å…¬ç”¨é•œåƒã€‚ä½†æ˜¯åœ¨ä½¿ç”¨å¯¹è±¡å‚¨å­˜çš„æ—¶å€™å‘ç°ç¼ºå°‘sslæ”¯æŒã€‚\nä¸å¾—ä¸\nå‡†å¤‡æ–‡ä»¶ sources.list ï¼ˆæœåŠ¡å™¨ä¸Š æ²¡ç§‘å­¦å·¥å…·ï¼‰ zsh é…ç½®æ–‡ä»¶ï¼ˆå¶å°”éœ€è¦åœ¨å®¹å™¨å†…éƒ¨æ“ä½œæ‰€ä»¥è¿˜æ˜¯åŠ ä¸Šï¼‰ sourece.list 1 2 3 4 5 6 7 8 9 10 11 deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware # deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware # deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware # deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware deb http://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware # deb-src http://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware zsh é…ç½®æ–‡ä»¶ https://github.com/joyanhui/oh-my-zsh\n1 2 3 4 5 rm -rf .oh-my-zsh yhZsh.zip .zshrc curl -L -e \u0026#39;; auto\u0026#39; -o yhZsh.zip https://mirror.ghproxy.com/https://github.com/joyanhui/oh-my-zsh/archive/refs/heads/main.zip unzip yhZsh.zip mv oh-my-zsh-main/.oh-my-zsh . \u0026amp;\u0026amp; cp oh-my-zsh-main/.zshrc . rm -rf yhZsh.zip oh-my-zsh-main é€‚å½“åˆ é™¤ä¸€äº›æ²¡ç”¨çš„æ’ä»¶å’Œä¸»é¢˜\nDockerfile 1 2 3 4 5 6 7 8 9 10 11 12 13 FROM debian:stable-20231120-slim MAINTAINER author \u0026#34;leiyanhui@gmail.com\u0026#34; ADD sources.list /etc/apt/ ADD .zshrc /root/ COPY .oh-my-zsh /root/.oh-my-zsh #ADD rclone /usr/bin/ RUN rm -rf /etc/apt/sources.list.d/debian.sources \u0026amp;\u0026amp; \\ apt-get update \u0026amp;\u0026amp; apt-get install -y apt-transport-https ca-certificates gnupg lsb-release \u0026amp;\u0026amp; \\ apt-get install -y psmisc wget curl unzip zip fuse zsh ntp iftop openssh-server \u0026amp;\u0026amp; \\ apt autoremove \u0026amp;\u0026amp; apt-get clean \u0026amp;\u0026amp; apt-get autoclean \u0026amp;\u0026amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\ WORKDIR /root EXPOSE 22 CMD [\u0026#34;/usr/sbin/sshd\u0026#34;,\u0026#34;-D\u0026#34;] å®¹å™¨æœåŠ¡ å› ä¸ºæ›´æ–°è¾ƒå°‘ï¼Œæ‰€ä»¥ä½¿ç”¨é˜¿é‡Œäº‘çš„\n1 2 3 4 5 6 7 8 9 10 11 sudo docker login --username=\u0026lt;ç”¨æˆ·å\u0026gt; registry.cn-shanghai.aliyuncs.com nowTime=$(date \u0026#34;+%Y%m%d%H%M%S\u0026#34;) sudo docker build -t registry.cn-shanghai.aliyuncs.com/fish/debian:base-\u0026#34;${nowTime}\u0026#34; . sudo docker tag registry.cn-shanghai.aliyuncs.com/fish/debian:base-\u0026#34;${nowTime}\u0026#34; registry.cn-shanghai.aliyuncs.com/fish/debian:base-latest sudo docker push registry.cn-shanghai.aliyuncs.com/fish/debian:base-\u0026#34;${nowTime}\u0026#34; sudo docker push registry.cn-shanghai.aliyuncs.com/fish/debian:base-latest swarmé›†ç¾¤éƒ¨ç½² åœ¨é›†ç¾¤ä¸Šåˆ†åˆ«ç™»é™† ç„¶å\n1 docker pull registry.cn-shanghai.aliyuncs.com/fish/debian:latest ","date":"2023-11-19T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-fishbase/","title":"docker swarm é›†ç¾¤debianåŸºç¡€é•œåƒ"},{"content":"ä¹‹å‰ä¸€ç›´åœ¨ç”¨gnetï¼Œä½†æ˜¯gnetæœ‰ä¸¤ä¸ªç—›ç‚¹ï¼š1ã€ä¸æ”¯æŒtls/https 2ã€httpå’Œwebsocketçš„åŠŸèƒ½ä¸å®Œæ•´ã€‚\nå› ä¸ºä¸»è¦æ˜¯åšapiä½¿ç”¨ï¼Œæ‰€ä»¥ç¬¬äºŒç‚¹å¯¹æˆ‘å›°æ‰°å¹¶ä¸å¤§ï¼Œä½†æ˜¯ç¬¬ä¸€ç‚¹å¸¦æ¥å¾ˆå¤šéº»çƒ¦ã€‚\näºæ˜¯å¶å°”åœ¨v2exçœ‹åˆ° nbioçš„ä½œè€…çš„è‡ªå¹è´´ï¼Œè¯¦ç»†çœ‹äº†ä»–çš„æµ‹è¯•ç»“æœï¼Œçœ‹äº†ä¸€éƒ¨åˆ†æºç åï¼Œè§‰å¾—æ–°çš„æœåŠ¡åº”è¯¥å»å°è¯•ä¸€ä¸‹ã€‚\nåŒæ—¶åœ¨tcp/tlsåŸºç¡€ä¸Šå®ç°ç®€æ˜“çš„httpï¼ˆå•çº¯éå¿…è¦ä¸ç”¨å®Œæ•´httpï¼‰\n1 go get github.com/lesismal/nbio@v1.3.19 tcp ï¼šhttps://github.com/lesismal/nbio-examples/blob/master/echo/server/server.go\nç®€æ˜“http server 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 package main import ( \u0026#34;bytes\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;github.com/lesismal/nbio\u0026#34; ) func main() { engine := nbio.NewEngine(nbio.Config{ Network: \u0026#34;tcp\u0026#34;, Addrs: []string{\u0026#34;:8888\u0026#34;}, MaxWriteBufferSize: 6 * 1024 * 1024, }) engine.OnData(func(c *nbio.Conn, data []byte) { //å°è£…http start joinLengthBytes := []byte(strings.Join([]string{strconv.Itoa(len(data)), \u0026#34;\\r\\n\\r\\n\u0026#34;}, \u0026#34;\u0026#34;)) htmlList := [][]byte{ []byte(\u0026#34;HTTP/1.1 200\\r\\nServer:fish-v5\\r\\nContent-Type:text/plain\\r\\nContent-Length:\u0026#34;), joinLengthBytes, data, } http_response := bytes.Join(htmlList, nil) c.Write(http_response) //å°è£…http end //c.Write(append([]byte{}, data...)) }) err := engine.Start() if err != nil { fmt.Printf(\u0026#34;nbio.Start failed: %v\\n\u0026#34;, err) return } defer engine.Stop() \u0026lt;-make(chan int) } ç®€æ˜“ https server rsaCertPEM å’Œ rsaKeyPEM å¯ä»¥ç”¨nginxæ ¼å¼çš„ .cerï¼ˆè‡³å°‘éœ€è¦ç¬¬ä¸€æ®µï¼‰å’Œkey,å½“ç„¶ä¹Ÿæ”¯æŒ acmeç”³è¯·çš„è¯ä¹¦\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 package main import ( \u0026#34;bytes\u0026#34; \u0026#34;log\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;github.com/lesismal/llib/std/crypto/tls\u0026#34; \u0026#34;github.com/lesismal/nbio\u0026#34; ntls \u0026#34;github.com/lesismal/nbio/extension/tls\u0026#34; ) func main() { cert, err := tls.X509KeyPair(rsaCertPEM, rsaKeyPEM) if err != nil { log.Fatalf(\u0026#34;tls.X509KeyPair failed: %v\u0026#34;, err) } tlsConfig := \u0026amp;tls.Config{ Certificates: []tls.Certificate{cert}, InsecureSkipVerify: true, } g := nbio.NewGopher(nbio.Config{ Network: \u0026#34;tcp\u0026#34;, Addrs: []string{\u0026#34;:8888\u0026#34;}, }) isClient := false g.OnOpen(ntls.WrapOpen(tlsConfig, isClient, func(c *nbio.Conn, tlsConn *tls.Conn) { log.Println(\u0026#34;OnOpen:\u0026#34;, c.RemoteAddr().String()) })) g.OnClose(ntls.WrapClose(func(c *nbio.Conn, tlsConn *tls.Conn, err error) { log.Println(\u0026#34;OnClose:\u0026#34;, c.RemoteAddr().String()) })) g.OnData(ntls.WrapData(func(c *nbio.Conn, tlsConn *tls.Conn, data []byte) { log.Println(\u0026#34;OnData:\u0026#34;, c.RemoteAddr().String(), string(data)) joinLengthBytes := []byte(strings.Join([]string{strconv.Itoa(len(data)), \u0026#34;\\r\\n\\r\\n\u0026#34;}, \u0026#34;\u0026#34;)) htmlList := [][]byte{ []byte(\u0026#34;HTTP/1.1 200\\r\\nServer:fish-v5\\r\\nContent-Type:text/plain\\r\\nContent-Length:\u0026#34;), joinLengthBytes, data, } http_response := bytes.Join(htmlList, nil) //c.Write(http_response) tlsConn.Write(http_response) })) err = g.Start() if err != nil { log.Fatalf(\u0026#34;nbio.Start failed: %v\\n\u0026#34;, err) return } defer g.Stop() g.Wait() } var rsaCertPEM = []byte(`-----BEGIN CERTIFICATE----- MIIDazCCAlOgAwIBAgIUJeohtgk8nnt8ofratXJg7kUJsI4wDQYJKoZIhvcNAQEL BQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM GEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMDEyMDcwODIyNThaFw0zMDEy MDUwODIyNThaMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw HwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB AQUAA4IBDwAwggEKAoIBAQCy+ZrIvwwiZv4bPmvKx/637ltZLwfgh3ouiEaTchGu IQltthkqINHxFBqqJg44TUGHWthlrq6moQuKnWNjIsEc6wSD1df43NWBLgdxbPP0 x4tAH9pIJU7TQqbznjDBhzRbUjVXBIcn7bNknY2+5t784pPF9H1v7h8GqTWpNH9l cz/v+snoqm9HC+qlsFLa4A3X9l5v05F1uoBfUALlP6bWyjHAfctpiJkoB9Yw1TJa gpq7E50kfttwfKNkkAZIbib10HugkMoQJAs2EsGkje98druIl8IXmuvBIF6nZHuM lt3UIZjS9RwPPLXhRHt1P0mR7BoBcOjiHgtSEs7Wk+j7AgMBAAGjUzBRMB0GA1Ud DgQWBBQdheJv73XSOhgMQtkwdYPnfO02+TAfBgNVHSMEGDAWgBQdheJv73XSOhgM QtkwdYPnfO02+TAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQBf SKVNMdmBpD9m53kCrguo9iKQqmhnI0WLkpdWszc/vBgtpOE5ENOfHGAufHZve871 2fzTXrgR0TF6UZWsQOqCm5Oh3URsCdXWewVMKgJ3DCii6QJ0MnhSFt6+xZE9C6Hi WhcywgdR8t/JXKDam6miohW8Rum/IZo5HK9Jz/R9icKDGumcqoaPj/ONvY4EUwgB irKKB7YgFogBmCtgi30beLVkXgk0GEcAf19lHHtX2Pv/lh3m34li1C9eBm1ca3kk M2tcQtm1G89NROEjcG92cg+GX3GiWIjbI0jD1wnVy2LCOXMgOVbKfGfVKISFt0b1 DNn00G8C6ttLoGU2snyk -----END CERTIFICATE----- `) var rsaKeyPEM = []byte(`-----BEGIN RSA PRIVATE KEY----- MIIEogIBAAKCAQEAsvmayL8MImb+Gz5rysf+t+5bWS8H4Id6LohGk3IRriEJbbYZ KiDR8RQaqiYOOE1Bh1rYZa6upqELip1jYyLBHOsEg9XX+NzVgS4HcWzz9MeLQB/a SCVO00Km854wwYc0W1I1VwSHJ+2zZJ2Nvube/OKTxfR9b+4fBqk1qTR/ZXM/7/rJ 6KpvRwvqpbBS2uAN1/Zeb9ORdbqAX1AC5T+m1soxwH3LaYiZKAfWMNUyWoKauxOd JH7bcHyjZJAGSG4m9dB7oJDKECQLNhLBpI3vfHa7iJfCF5rrwSBep2R7jJbd1CGY 0vUcDzy14UR7dT9JkewaAXDo4h4LUhLO1pPo+wIDAQABAoIBAF6yWwekrlL1k7Xu jTI6J7hCUesaS1yt0iQUzuLtFBXCPS7jjuUPgIXCUWl9wUBhAC8SDjWe+6IGzAiH xjKKDQuz/iuTVjbDAeTb6exF7b6yZieDswdBVjfJqHR2Wu3LEBTRpo9oQesKhkTS aFF97rZ3XCD9f/FdWOU5Wr8wm8edFK0zGsZ2N6r57yf1N6ocKlGBLBZ0v1Sc5ShV 1PVAxeephQvwL5DrOgkArnuAzwRXwJQG78L0aldWY2q6xABQZQb5+ml7H/kyytef i+uGo3jHKepVALHmdpCGr9Yv+yCElup+ekv6cPy8qcmMBqGMISL1i1FEONxLcKWp GEJi6QECgYEA3ZPGMdUm3f2spdHn3C+/+xskQpz6efiPYpnqFys2TZD7j5OOnpcP ftNokA5oEgETg9ExJQ8aOCykseDc/abHerYyGw6SQxmDbyBLmkZmp9O3iMv2N8Pb Nrn9kQKSr6LXZ3gXzlrDvvRoYUlfWuLSxF4b4PYifkA5AfsdiKkj+5sCgYEAzseF XDTRKHHJnzxZDDdHQcwA0G9agsNj64BGUEjsAGmDiDyqOZnIjDLRt0O2X3oiIE5S TXySSEiIkxjfErVJMumLaIwqVvlS4pYKdQo1dkM7Jbt8wKRQdleRXOPPN7msoEUk Ta9ZsftHVUknPqblz9Uthb5h+sRaxIaE1llqDiECgYATS4oHzuL6k9uT+Qpyzymt qThoIJljQ7TgxjxvVhD9gjGV2CikQM1Vov1JBigj4Toc0XuxGXaUC7cv0kAMSpi2 Y+VLG+K6ux8J70sGHTlVRgeGfxRq2MBfLKUbGplBeDG/zeJs0tSW7VullSkblgL6 nKNa3LQ2QEt2k7KHswryHwKBgENDxk8bY1q7wTHKiNEffk+aFD25q4DUHMH0JWti fVsY98+upFU+gG2S7oOmREJE0aser0lDl7Zp2fu34IEOdfRY4p+s0O0gB+Vrl5VB L+j7r9bzaX6lNQN6MvA7ryHahZxRQaD/xLbQHgFRXbHUyvdTyo4yQ1821qwNclLk HUrhAoGAUtjR3nPFR4TEHlpTSQQovS8QtGTnOi7s7EzzdPWmjHPATrdLhMA0ezPj Mr+u5TRncZBIzAZtButlh1AHnpN/qO3P0c0Rbdep3XBc/82JWO8qdb5QvAkxga3X BpA7MNLxiqss+rCbwf3NbWxEMiDQ2zRwVoafVFys7tjmv6t2Xck= -----END RSA PRIVATE KEY----- `) ","date":"2023-11-15T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/nbio/","title":"golang é«˜æ€§èƒ½ç½‘ç»œioæ¡†æ¶ nbio"},{"content":"é˜¿é‡Œäº‘åœ¨è¿™æ¬¡ï¼ˆ2023å¹´11æœˆ12æ—¥ï¼‰å¤§è§„æ¨¡æ•…éšœæ—¶é—´ä¸­ï¼Œå¯ä»¥è¯´ç»™æ‰€æœ‰äººè¿å¤´ä¸€å‡»ã€‚\nå¾—ç›Šå¤„è¿™äº›å¹´é‡åˆ°çš„å¤ªå¤šç¾éš¾ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡å¼€å±•åˆæœŸå°±è€ƒè™‘åˆ°äº†è·¨åœ°åŒºè·¨æœºæˆ¿è·¨äº‘è·¨åŸŸåè·¨dnsè·¨ä¸»ä½“,ä½†æ˜¯ä¾æ—§æœ‰éƒ¨åˆ†ä¸šåŠ¡è¢«å½±å“ã€‚\nå„ç§è·¨çš„å¿…è¦æ€§å’Œæ–¹æ¡ˆ è·¨äº‘å‚å•† å¿…è¦æ€§è¿™ä¸ªä¸ç”¨è¯´äº†ï¼Œè¿™æ¬¡äº‹æƒ…éƒ½çŸ¥é“äº†ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ ¸å¿ƒä¸šåŠ¡æœ€å¥½ä¸€å¾‹è·¨å‚å•†å¤šæ´»éƒ¨ç½²ã€‚\nå°¤å…¶æ˜¯æ˜¯æ ¸å¿ƒæ•°æ® åœ¨éšè—å¥½ipçš„æƒ…å†µä¸‹ï¼ˆèƒ½ä¸Šipv6ä¸€å®šä¸Šipv6ï¼‰,å…¬ç½‘åŠ å¯†ä¸»ä»åŒæ­¥è‡ªåŠ¨åˆ‡æ¢æ˜¯å¿…é¡»çš„ã€‚\nå¯¹äºredisæ•°æ®åº“æ¥è¯´æ¥Clusteræ˜¯ä¸€å¼€å§‹å°±è¦å‡†å¤‡çš„\nè·¨åœ°åŒºå’Œæœºæˆ¿ åœ¨åŒä¸€å®¶äº‘å‚å•†ï¼Œå°½é‡è·¨åœ°åŒº/æœºæˆ¿éƒ¨ç½²å¤šæ´»éƒ¨ç½²ã€‚\nè·¨åŸŸåè·¨dns æ•°å¹´å‰çš„dnspodæ—¶é—´ä¸çŸ¥é“è¿˜æœ‰äººè®°å¾—å—ï¼Ÿ\nåŸŸåè¢«æš‚åœè§£æä¸çŸ¥é“æœ‰å¤šå°‘äººé‡åˆ°è¿‡ï¼Œæ•°å¹´å‰æ›´æœ‰äººé‡åˆ°åŸŸåè¿‡æˆ·/è½¬ç§»ç­‰å¥‡è‘©äº‹ä»¶ã€‚\næ‰€ä»¥ é™¤éæ˜¯ç½‘ç«™çš„ç½‘å€ï¼Œå…¶ä»–åœ°æ–¹ä¸€å®šæœ‰å¤šä¸ªåŸŸå\nå¦å¤–åŸŸåçš„dnsä¸è¦åªä½¿ç”¨ä¸€å®¶çš„\nè·¨ä¸»ä½“ å› ä¸ºå›½å†…ç›®å‰çš„æ”¿ç­–å› ç´ ï¼Œå³ä¾¿æ˜¯ä½ åˆæ³•åˆè§„çš„è¿è¥ï¼Œèƒ½100%ç¡®å®šè‡ªå·±ä¸ä¼šé‡åˆ°å¤‡æ¡ˆåŠé”€åŸŸåæš‚åœè§£æã€‚å•ä¸€ä¸»ä½“ä¾æ—§å­˜åœ¨é£é™©ã€‚\nå› ä¸ºå¤‡æ¡ˆåˆ¶åº¦ï¼Œä»»ä½•äººéƒ½å¯ä»¥æŸ¥åˆ°ä½ å…¬å¸æˆ–è€…ä¸ªäººåä¸‹çš„æ‰€æœ‰åŸŸåï¼Œè¿›ä¸€æ­¥æ‹¿åˆ°ä½ éƒ¨åˆ†apiåœ°å€ï¼Œæ›´æ˜¯å¯ä»¥ç›´æ¥çœ‹åˆ°ä½ åŸŸådnsåœ°å€ï¼ˆdnsä¸€é”…ç«¯ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰ã€‚\nå…³äºæ— çŠ¶æ€æœåŠ¡ å¾®æœåŠ¡åœ¨è§„åˆ’çš„æ—¶å€™ï¼Œæ³¨æ„èƒ½æ— çŠ¶æ€æœåŠ¡çš„å°±ç”¨æ— çŠ¶æ€çš„ã€‚\nå’ŒåŸŸåç›¸å…³çš„ ç”¨è°çš„åŸŸå å¦‚æœä¸ä¼šäº§ç”Ÿé¢å¤–çš„è´¹ç”¨ï¼Œå¹¶ä¸”æ¥å£åœ°å€ä½ å¯ä»¥éšæ—¶æ›´æ¢çš„çš„æƒ…å†µä¸‹ï¼Œå°½é‡ç”¨äº‘å‚å•†é€çš„åŸŸåï¼ˆä¾‹å¦‚é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—çš„httpè§¦å‘å™¨åŸŸåï¼‰ã€‚\nå› ä¸ºäº‘å‚å•†çš„åŸŸådnsé˜²æŠ¤ç¨‹åº¦éƒ½æ¯”è¾ƒé«˜ï¼Œå…è´¹çš„åœ¨æŸäº›æ—¶å€™æ¯”ä½ èŠ±é’±çš„æ›´å¥½ã€‚\nå½“ç„¶å¦‚æœä½ æ²¡æœ‰åŠæ³•éšæ—¶åˆ‡æ¢æ¥å£çš„åœ°å€ï¼Œé‚£ä¹ˆè¿˜æ˜¯ç”¨è‡ªå·±æœ‰æ§åˆ¶æƒçš„åŸŸåã€‚\næ³›åŸŸå å¯¹äºå¯ä»¥æ†ç»‘åŸŸåçš„httpç±»ä¸šåŠ¡ï¼Œæ³›åŸŸåè§£æè™½ç„¶ä¸èƒ½é¿å…è§£æè®°å½•æ³„éœ²ï¼Œä½†æ˜¯å¯ä»¥é¿å…é€šè¿‡åŸŸådnså†å²è§£æè®°å½•æ‹¿åˆ°æ¥å£ç»‘å®šçš„hostnameã€‚è€Œä¸”è¿™ä¸ªæ“ä½œå¹¶ä¸éº»çƒ¦ã€‚\nä¾‹å¦‚ä½  ä¸€ä¸ª æ¥å£ ä¸º http://usercenter-aliyun.leiyanhui.com ï¼ŒåŸæ¥cnameæˆ–è€…Aè®°å½• usercenter-aliyunï¼Œä¹‹éœ€è¦ä¿®æ”¹ä¸º *.usercenter-aliyun åŒæ—¶åœ¨ä¸šåŠ¡ä¸Šç»‘å®šçš„åŸŸåä¿®æ”¹ä¸º http://run1.usercenter-aliyun.leiyanhui.comï¼ˆä¸è¦ç»‘å®šæ³›åŸŸåï¼‰ å¦‚æœå‘ç”Ÿé’ˆå¯¹è¿™ä¸ªåœ°å€çš„ä¸€äº›æ”»å‡»ï¼Œå»ä¸šåŠ¡é‚£è¾¹ä¿®æ”¹ä¸º http://run2.usercenter-aliyun.leiyanhui.com å³å¯ä¸´æ—¶è§„é¿ä¸€ä¸‹\nå…³äºentrypoint è¿™é‡Œå®šä¹‰çš„é¡¹ç›®çš„entrypoint ä¸»è¦æ˜¯é¢å‘å®¢æˆ·ç«¯çš„ï¼ˆapp/ç‰©è”ç½‘è®¾å¤‡/htmlå†…çš„apiï¼‰ã€‚å³å®¢æˆ·ç«¯éœ€è¦å…ˆè¿æ¥entrypointæŸ¥è¯¢åç«¯apiæ¥å£ï¼Œå†è¿æ¥apiå¤„ç†åç»­å·¥ä½œã€‚\nentrypointåº”è¯¥è·¨äº‘è·¨åŸŸåè·¨ä¸»ä½“éƒ¨ç½² ã€‚ ç›¸å…³ä¸šåŠ¡åœ¨è¿è¡Œä¸­æˆ–å¦‚æœå’Œå…¶ä»–ä¸šåŠ¡é€šä¿¡æ•…éšœï¼Œå»è¿™äº›åœ°å€é‡Œé¢æŸ¥è¯¢å¯ç”¨çš„èŠ‚ç‚¹ã€‚\næ¯”è¾ƒç»å…¸çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¸€èˆ¬æƒ…å†µ appçš„åç«¯apiåœ°å€ä¸º http://api.app.com ï¼Œä¸€èˆ¬å¯èƒ½è¿˜ä¼šé¢„ç•™ä¸€ä¸ª http://api2.app.com ä½œä¸ºå¤‡ç”¨åœ°å€ã€‚\nä¿®æ”¹åçš„æ–¹æ¡ˆä¸º\nappåº”è¯¥ http://entrypoint1.url.com http://entrypoint.url2.com http://entrypoint.url3.com http://entrypoint.urlNNN.com ç­‰å¤šä¸ªåœ°å€å¹¶å‘æŸ¥è¯¢ a é€šè¿‡ä¸Šé¢çš„entrypointè¿”å›çš„ apiåœ°å€ï¼Œå†ç»§ç»­æ“ä½œã€‚\nentrypoint è™½ç„¶å¤šåœ°è·¨äº‘è·¨åŸŸåç”šè‡³è·¨ä¸»ä½“éƒ¨ç½²ï¼Œä½†æ˜¯å› ä¸ºåªæ˜¯ä¸€ä¸ªç®€å•çš„jsoné™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œç”šè‡³å¯ä»¥éƒ¨ç½²åˆ°cdnï¼Œä»¥åŠservless æ‰€ä»¥ç»´æŠ¤æˆæœ¬å¾ˆä½ã€‚\nå¦å¤– entrypointçš„åœ°å€ï¼Œæœ€å¥½å…¶ä¸­æœ‰é¢„ç•™1-3ä¸ªäº‘å‚å•†/å¤§å‚çš„åŸŸåï¼Œä¾‹å¦‚ é˜¿é‡Œäº‘çš„ å‡½æ•°è®¡ç®— çš„urlï¼Œ ä»¥åŠ å„ä¸ªäº‘å‚å•†çš„å¯¹è±¡å‚¨å­˜çš„æ–‡ä»¶è®¿é—®åœ°å€ï¼Œå› ä¸ºä»–ä»¬çš„åŸŸåéƒ½åšå¥½äº†dnsé˜²æŠ¤ï¼Œå¯ç”¨æ€§è¦æ¯”æˆ‘ä»¬çš„dnsé«˜å¾ˆå¤šã€‚ ä¸ºäº†èŠ‚çœå¼€æ”¯æ”¾ç½®servlesså’Œå¯¹è±¡å‚¨å­˜è¢«åˆ·ï¼Œå¹³æ—¶ç¦æ­¢è®¿é—®å³å¯ï¼Œåœ¨éœ€è¦çš„æ—¶å€™å¼€å¯å…è®¸å…¬ç½‘è®¿é—®å³å¯ã€‚\nä¸è¿‡åä¸ºäº‘å‡½æ•°è®¡ç®—å°±ç®—äº†ï¼Œä»–ç»™çš„åŸŸåå…¬ç½‘è®¿é—®æ¬¡æ•°é™åˆ¶1000æ¬¡/å¤©\nå›°æ‰° è·¨äº‘éƒ¨ç½²æœ€å¤§çš„å›°æ‰° å°±æ˜¯ æˆæœ¬ï¼Œå¸¦å®½å ç”¨ æœåŠ¡å™¨é—²ç½® ç®¡ç†æˆæœ¬ã€‚\nå°¤å…¶æ˜¯å¤§é‡æ•°æ® åœ¨ å…¬ç½‘ä¸ŠåŠ å¯†åŒæ­¥ã€‚ã€‚ã€‚\n","date":"2023-11-15T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/clouds-migrate/","title":"å…³äºè·¨äº‘éƒ¨ç½²çš„ä¸€äº›æ€è·¯å’Œå›°æ‰°"},{"content":"é¡¹ç›®é€æ­¥åˆ‡æ¢åˆ°golangå éƒ¨åˆ†é¡¹ç›®æƒ³é€æ­¥è¿ç§»åˆ°serverlessã€‚ä½†æ˜¯ç¬¬ä¸€æ¬¡æŠ˜è…¾ é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè€Œæ–‡æ¡£å¾ˆä¹±çœ‹çš„äº‘é‡Œé›¾é‡Œã€‚æ…¢æ…¢è§£å†³åï¼Œè¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹ã€‚\nä¸‹æ–‡ä¸»è¦æ˜¯ä»¥aliyunä¸ºä¾‹\nä¼ ç»Ÿè¿ç§»serverlessçš„å‡ ä¸ªæ³¨æ„ç‚¹ å…³äºè„±ç¦»å¯¹äº‘å‚å•†çš„ä¾èµ– ä¹‹å‰ä»¥ä¸ºå¿…é¡»è¦å¼•å…¥å‚å•†çš„sdkæ‰å¯ä»¥ï¼Œåæ¥å‘ç° å¤šæ•°äº‘å‚å•†å·²ç»ä¸éœ€è¦ã€‚\nå…³äºå†»ç»“ åœ¨å¤„ç†å®Œæˆä¸€ä¸ªäº‹ä»¶åï¼ˆhttpè¯·æ±‚ã€å®šæ—¶å™¨ã€æ¶ˆæ¯ç­‰ï¼‰ï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½ä¼šè¢«å†»ç»“ã€‚ç›´åˆ°ä¸‹æ¬¡äº‹ä»¶æ‰§è¡Œã€‚\nè¿™ä¹Ÿæ˜¯æ‰€è°“çš„æ— çŠ¶æ€æœåŠ¡ï¼Œä¹Ÿä¼šåŒæ—¶å¯¼è‡´ï¼Œä½ æ²¡æœ‰å®Œæˆçš„åç¨‹è¢«å†»ç»“ï¼\nå…³äºhttpç±»ç¨‹åº å¯ä»¥ç›´æ¥ç”¨httpäº‹ä»¶è§¦å‘ï¼Œå¤§æ¦‚å°±æ˜¯å‡½æ•°è®¡ç®— ç®—æ˜¯ä¸€ä¸ªnginx,è½¬å‘å®¢æˆ·è¯·æ±‚åˆ°åˆ°ä½ çš„åç«¯ç¨‹åº(http://:9000)ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°è®¡ç®—ä¼šé™„åŠ ä¸€äº›headerä¿¡æ¯å¤§æ¦‚æœ‰1.5kçš„æ•°æ®è¿‡æ¥ï¼Œé™¤äº†å‰ç½®ç½‘å…³æ²¡æœ‰åŠæ³•å…³é—­è¿™äº›ä¿¡æ¯ã€‚\nå¦‚æœä½ å’Œæˆ‘ä¸€æ ·ç§æœ‰åè®®å¹¶ä¸¥æ ¼é™åˆ¶äº†ä¿¡æ¯é•¿åº¦ï¼Œ è¿™é‡Œæ˜¯ä¸€ä¸ªå°å‘ã€‚\nå…³äºéhttpç±»ç¨‹åº æ¯”å¦‚ å®šæ—¶å™¨è§¦å‘çš„ä¸€ä¸ªåŠŸèƒ½ã€‚æˆ‘ä¹‹å‰ç†è§£ä»¥ä¸º å®šæ—¶å™¨äº‹ä»¶è§¦å‘ æˆ‘ä»¬çš„ç¨‹åºï¼Œç„¶åæ‰§è¡Œå®Œæˆç¨‹åºæ¨å‡ºï¼Œèµ„æºå›æ”¶/å†»ç»“ã€‚\næœŸé—´é‡åˆ° code 0çš„å‘ï¼Œä¹Ÿå‡ºç°ç¨‹åºä¸€ç›´è¢«å¤šæ¬¡åå¤ä¸æŒ‰ç…§é¢„æœŸçš„æ‰§è¡Œã€‚ åœ¨é˜¿é‡Œäº‘å”®åç¾¤å’Œå‘å·¥å•åä¾æ—§æ²¡æœ‰å¤´ç»ªã€‚\næœ€åæ‰å¼„æ˜ç™½ï¼Œé’ˆå¯¹è¿™ç±»åº”ç”¨ï¼Œé˜¿é‡Œäº‘æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼šä»»åŠ¡å¤„ç†å‡½æ•° å’Œ æœåŠ¡\u0026gt;å‡½æ•°ã€‚è€Œæˆ‘ä¸»è¦ç”¨çš„åŒºåŸŸæ˜¯é˜¿é‡Œäº‘çš„ååŒ—1é’å²›ï¼Œä¸æ”¯æŒä»»åŠ¡å¤„ç†å‡½æ•°ï¼Œä¹Ÿæ²¡æ³¨æ„åˆ°è¿™ç‚¹ã€‚æ‰€ä»¥æˆ‘çœ‹çš„æ–‡æ¡£æ˜¯ä»»åŠ¡å¤„ç†å‡½æ•°ï¼Œä½†æ˜¯å´åœ¨æœåŠ¡\u0026gt;å‡½æ•°é‡Œé¢ è°ƒè¯•çš„\u0026hellip;.\nä»»åŠ¡å¤„ç†å‡½æ•° https://fcnext.console.aliyun.com/cn-åŒºåŸŸ/tasks\nå¦‚æœé‡‡ç”¨dockeréƒ¨ç½²ï¼Œæˆ‘ä»¬çš„ç¨‹åºåœ¨æ­£å¸¸æ‰§è¡Œå®Œæˆå è¿›ç¨‹ exit 0 å³å¯ã€‚\né˜¿é‡Œäº‘å®˜ç½‘æç¤º: åœ¨ä½¿ç”¨é Web Server æ¨¡å¼æ—¶ï¼ŒæˆåŠŸå¤„ç†å®Œè¯·æ±‚åï¼Œæ‚¨éœ€è¦ä¸»åŠ¨é€€å‡ºè¿›ç¨‹ï¼Œå¹¶ä¸” ExitCode éœ€è¦ä¸º 0ã€‚æ­¤å¤–ï¼Œè¯·æ±‚çš„â€œäº‹ä»¶å‚æ•°â€ä¼šä»¥ç¯å¢ƒå˜é‡ FC_CUSTOM_CONTAINER_EVENT çš„å½¢å¼ä¼ é€’ç»™å‡½æ•°ã€‚\nè€Œä»»åŠ¡å¤„ç†å‡½æ•°ï¼Œåˆåˆ†ä¸º è¿è¡Œæ—¶å’Œdockerä¸¤ç§æ–¹æ¡ˆã€‚è¿™é‡Œç‰¹æŒ‡dockeræ–¹æ¡ˆã€‚è¿è¡Œæ—¶æ–¹æ¡ˆæˆ‘æ²¡æœ‰å°è¯•ï¼Œä½†æ˜¯çœ‹èµ·æ¥å’ŒæœåŠ¡å‡½æ•°çš„å·®è·ä¸å¤§ã€‚\næœåŠ¡å‡½æ•° https://fcnext.console.aliyun.com/cn-åŒºåŸŸ/services è¿™é‡Œä¾æ—§æ˜¯ éœ€è¦å¼€httpserverå“åº”/invoke è·¯å¾„çš„post\n1 2 3 4 5 6 7 func main() { http.HandleFunc(\u0026#34;/invoke\u0026#34;, func(w http.ResponseWriter, r *http.Request) { //è¿™é‡Œå¤„ç† ä¸šåŠ¡åŠŸèƒ½ fmt.Fprintf(w, \u0026#34;Hello å®šæ—¶å™¨\u0026#34;) }) http.ListenAndServe(\u0026#34;:9000\u0026#34;, nil) } ä¸¤è€…çš„åŒºåˆ« ä¸ªäººä½“éªŒåçœ‹æ³•ï¼Œå¦‚æœä¸æƒ³æ”¹åŠ¨ä»£ç ï¼Œä½ åŸæ¥çš„ç¨‹åºå°±æ˜¯æ‰§è¡Œå®Œæˆåè‡ªåŠ¨æ¨å‡ºçš„ã€‚é‚£ä¹ˆå°±ç”¨ ä»»åŠ¡å¤„ç†å‡½æ•°ã€‚ å¦‚æœä½ æ–¹ä¾¿ä¿®æ”¹ä»£ç  è€Œä¸” ä½ ç¨‹åºåœ¨åˆå§‹åŒ–çš„æ—¶å€™ éœ€è¦è¿›è¡Œä¸€äº›æ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œé‚£ä¹ˆå°½é‡è¿ç§»åˆ°æœåŠ¡æ¨¡å¼ã€‚\nå¦å¤–ä¸€ç‚¹ ï¼šæœåŠ¡æ¨¡å¼çš„å‡½æ•°ï¼Œå¦‚æœä½ è¯·æ±‚é¢‘ç¹ï¼Œæ¯”å¦‚ å®šæ—¶å™¨äº‹ä»¶ 1åˆ†é’Ÿ æ‰§è¡Œä¸€æ¬¡ï¼Œé‚£ä¹ˆï¼Œä½ çš„å®ä¾‹åŸºæœ¬ä¸ä¼šè¢«é‡Šæ”¾ã€‚è™½ç„¶é—²ç½®cpuä¸è®¡è´¹ï¼Œä½†æ˜¯ä½ è¿˜éœ€è¦ä¸ºå†…å­˜ä¹°å•ã€‚åœ¨å’¨è¯¢é˜¿é‡Œäº‘æŠ€æœ¯åå¾—çŸ¥ï¼Œä½ éœ€è¦ä¸ºæ•´ä¸ªå®ä¾‹çš„å†…å­˜ï¼ˆæœ€å°128mï¼‰ä¹°å•ã€‚\nè¿™æ˜¯å’Œä»»åŠ¡å¤„ç†å‡½æ•° çš„ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«ã€‚\nå…³äºæ¶ˆæ¯è®¢é˜… åŸºæœ¬ä¸Šæ˜¯æ²¡æ³•ç”¨äº†ã€‚æš‚æ—¶ä¸çŸ¥é“æ€ä¹ˆå¤„ç†ã€‚\nä¸€äº›ç®€å•å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„æ•°æ®æ›´æ–°ï¼Œå¯ä»¥åœ¨æ¯æ¬¡å“åº”httpçš„æ—¶å€™ æ£€æŸ¥ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ç„¶åå†ä»æ•°æ®åº“/oss/naså¤æŸ¥çš„æ–¹å¼ã€‚\nå…³äºå¼‚æ­¥çš„åç¨‹ æš‚æ—¶åªèƒ½ç”±httpå”¤èµ·ï¼Œç„¶åç­‰åç¨‹æ‰§è¡Œå®Œæˆåå†fmt.Fprintf(w,\u0026quot;\u0026quot;) å›å»\nå…³äºé˜¿é‡Œäº‘çš„fc 3.0 3.0å»æ‰äº†æœåŠ¡çš„æ¦‚å¿µï¼Œåªå‰©ä¸‹ åº”ç”¨å’Œå‡½æ•° ä¸¤ä¸ªæ¦‚å¿µã€‚åº”ç”¨ æ²¡ç ”ç©¶ï¼Œåº”è¯¥æ˜¯éœ€è¦ç»‘å®šäº‘å‚å•†ã€‚ å‡½æ•° å¯¹åº”ä¹‹å‰çš„ æœåŠ¡å‡½æ•°ï¼Œæ¦‚å¿µå˜ä¸ºï¼š äº‹ä»¶å‡½æ•° webå‡½æ•° dockeré•œåƒï¼ˆé’å²›åœ°åŒºä¸æ”¯æŒï¼Œå…¶ä»–åœ°åŒºä¸æ¸…æ¥šï¼‰ã€‚ æˆ‘ç›®å‰åªæµ‹è¯•æˆåŠŸäº†ä»–çš„webå‡½æ•°æ–¹å¼ï¼Œæˆ‘è‡ªå·±ä¸Šä¼ zipåŒ…çš„æ–¹æ³•ã€‚dockeræ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬çš„dockerç›®å‰éƒ½åœ¨é’å²›åœ°åŒºï¼Œæ‰€ä»¥æ— ä»æµ‹è¯•ã€‚å…³äº3.0çš„äº‹ä»¶å‡½æ•° å› ä¸ºæˆ‘æ²¡æœ‰æ‰“ç®—å¼•å…¥é˜¿é‡Œäº‘çš„sdk,æŒ‰ç…§http server /invoke çš„æ–¹å¼æ²¡æµ‹è¯•æˆåŠŸã€‚\nç„¶ååœ¨2.0 é‡Œé¢çš„ è‡ªå®šä¹‰è¿è¡Œæ—¶çš„ä»»åŠ¡å‡½æ•°æ¦‚å¿µ å¥½åƒå–æ¶ˆäº†ã€‚\nåŒæ—¶ä»–çš„webå‡½æ•°æ–¹å¼ï¼Œå…¼å®¹ httpserver çš„ /invoke æ¨¡å¼ã€‚ä¸è¿‡ä»–ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªhttpè§¦å‘å™¨ï¼Œè‡ªå·±å»å…³é—­å³å¯ã€‚\nä½†\nå…³äº3.0å¸¦æ¥çš„å¥½å¤„ å…³äº3.0 ç›®å‰æ„Ÿè§‰æœ€å¤§çš„å¥½å¤„å°±æ˜¯ å¯ä»¥ç”¨ å…¶ä»–äº‹ä»¶ + httpçš„æ–¹å¼è§¦å‘ ã€‚ä¾‹å¦‚ï¼š\nå®šæ—¶å™¨1å°æ—¶è¿è¡Œä¸€æ¬¡ /invoke ï¼Œç„¶åæˆ‘ä»¬éœ€è¦å¼ºåˆ¶è¿è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥å¤–éƒ¨è®¿é—® http://url//invoke?token=jwtçš„æ–¹å¼æ¥ä¸»åŠ¨è§¦å‘ã€‚ å¯ä»¥å•ç‹¬ä¸ºä¸€ä¸ªå‡½æ•°å…³é—­æ—¥å¿—ã€‚é˜¿é‡Œäº‘çš„æ—¥å¿—æœåŠ¡æ˜¯è¦é’±çš„ å…³äºå…¶ä»–å‚å•† aws é‚£è¾¹æ²¡æœ‰å¼„æ˜ç™½ï¼Œè…¾è®¯è¿™ä¸ªå’Œé˜¿é‡Œäº‘ç›¸å·®ä¸å¤§ï¼Œä½†æ˜¯è…¾è®¯é‚£è¾¹æœ‰æœˆç§Ÿè´¹ï¼Œä½†æ˜¯ä¸æ‰“ç®—èŠ±æ—¶é—´å’Œç²¾åŠ›å»æµ‹è¯•ã€‚\nAzure é‚£è¾¹æ”¯æŒæœ‰çŠ¶æ€æœåŠ¡ï¼Œæ²¡æœ‰ä»”ç»†å»çœ‹ã€‚\nè€Œåä¸ºäº‘è¿™è¾¹ï¼Œè²Œä¼¼äº‹ä»¶/è§¦å‘å™¨å‡½æ•° å¿…é¡»è¦å¼•å…¥åä¸ºçš„sdk,httpç±»çš„ å¼ºåˆ¶å…¥å£æ–‡ä»¶ æ˜¯bootstrap è²Œä¼¼æ˜¯ä¸€ä¸ªç±»ä¼¼shellçš„è„šæœ¬ã€‚ è™½ç„¶å¦‚æ­¤ï¼Œä¸è¿‡å¯ä»¥ç”¨å†…ç½®çš„nodejs pyç­‰æ–¹å¼é…ç½®äº‹ä»¶å‡½æ•°ï¼Œç„¶ååœ¨æ—¶é—´å‡½æ•°ä¸­å»curlï¼ˆå¸¦tokenï¼‰ å¦å¤–ä¸€ä¸ªhttpçš„å‡½æ•°æ¥å®ç°ä¸å¼•ç”¨sdkçš„æ–¹å¼å®ç°äº‹ä»¶å‡½æ•°. åŒæ—¶ é˜¿é‡Œäº‘é‚£è¾¹æ”¯æŒ jwtè®¤è¯ï¼Œè€Œåä¸ºè¿™è¾¹æ˜¯ Appkey\u0026amp;Appsecret è®¤è¯ã€‚\nå¦å¤–åä¸ºäº‘è¿™è¾¹äº‹ä»¶å‡½æ•°çš„ éœ€è¦\nå“åº” curl -sS -LD \u0026ldquo;$HEADERS\u0026rdquo; -X GET \u0026ldquo;http://$RUNTIME_API_ADDR/v1/runtime/invocation/request\nè¿”å› curl -X POST \u0026ldquo;http://$RUNTIME_API_ADDR/v1/runtime/invocation/response/$REQUEST_ID\u0026rdquo; -d \u0026ldquo;$RESPONSE\u0026rdquo; åä¸ºæœ‰ç»™å‡ºå®ä¾‹ https://support.huaweicloud.com/usermanual-functiongraph/functiongraph_01_0406.html#section4 æœ€æ–¹ä¾¿çš„æ— ç—›è¿ç§»æ–¹å¼ï¼Œå°±æ˜¯ç›´æ¥ç”¨åä¸ºç»™çš„å®ä¾‹ä»£ç  ä¸€æ¬¡æ€§è¿è¡Œ ,ä¸ç„¶å°±è¦åœ¨åŸå§‹ä»£ç ä¸­äºŒæ¬¡ä¿®æ”¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 cat \u0026gt;bootstrap\u0026lt;\u0026lt; \\EOF #!/bin/sh set -o pipefail while true do HEADERS=\u0026#34;$(mktemp)\u0026#34; EVENT_DATA=$(curl -sS -LD \u0026#34;$HEADERS\u0026#34; -X GET \u0026#34;http://$RUNTIME_API_ADDR/v1/runtime/invocation/request\u0026#34;) REQUEST_ID=$(grep -Fi x-cff-request-id \u0026#34;$HEADERS\u0026#34; | tr -d \u0026#39;[:space:]\u0026#39; | cut -d: -f2) if [ -z \u0026#34;$REQUEST_ID\u0026#34; ]; then continue fi $RUNTIME_CODE_ROOT/ä½ çš„golangç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ RESPONSE=\u0026#34;Echoing request: \u0026#39;$EVENT_DATA\u0026#39;\u0026#34; curl -sS -X POST \u0026#34;http://$RUNTIME_API_ADDR/v1/runtime/invocation/response/$REQUEST_ID\u0026#34; -d \u0026#34;$RESPONSE\u0026#34; done EOF å…³äºæ¥å£è¢«åˆ·çš„é—®é¢˜ å¼¹æ€§ä¼¸ç¼©é™åˆ¶è§„åˆ™ å¯ä»¥è®¾ç½®ä¸Šé™ï¼Œå¹¶é€šè¿‡æŠ¥è­¦è§„åˆ™å¤„ç†ã€‚\nè¢«ddos cc çŸ­æœŸjwt æœ€ç®€å•ï¼Œjwtå¤±è´¥çš„å¥½åƒä¸ä¼šè®¡è´¹ã€‚ ä½†æ˜¯è´Ÿè´£åˆ†å‘çš„jwtçš„æœåŠ¡ä¾æ—§å­˜åœ¨é£é™©ã€‚\nä»€ä¹ˆä¸šåŠ¡é€‚åˆä¸Šserverless ä¸€å¥è¯ä¸»è¦æ˜¯ è¾¹ç¼˜å¾®æœåŠ¡ å…¶æ¬¡ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„ã€‚å¯ä»¥è¾¾åˆ°çœé’± çœç²¾åŠ› é«˜å¯ç”¨æ€§ç›®çš„æƒ…å†µä¸‹æ‰é€‚åˆåˆ‡æ¢\nä¸€å®šæ˜¯ä¸€äº›éæ ¸å¿ƒçš„ä¸šåŠ¡å¹¶ä¸”ä¸æŠŠsevlessä½œä¸ºä¸»æœåŠ¡ï¼šäº‘ä¹Ÿå¤§é¢ç§¯å®•æœº ä¸€äº›ä¼šä¸å®šæœŸå ç”¨å¤§é‡èµ„æºçš„ä¸šåŠ¡ï¼Œå…å¾—å½±å“ä¸»ä¸šåŠ¡ ä»£ç è¿­ä»£ä¸æ˜¯å¾ˆé¢‘ç¹çš„ä¸šåŠ¡ï¼šå‡½æ•°è®¡ç®—è°ƒè¯•å›°éš¾ï¼Œæ—¥å¿—åˆ†æåŠŸèƒ½éå¸¸ä¾èµ–äº‘å‚å•† æŸäº›å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„å¼‚æ­¥ä¸šåŠ¡ï¼š å¸¸è§çš„æ¯”å¦‚é‚®ä»¶å‘é€ã€æ•°æ®åº“æ•´ç† ç­‰ æ ¸å¿ƒä¸šåŠ¡ä¸»æœåŠ¡å™¨çš„å¤‡ç”¨èŠ‚ç‚¹ï¼š ä¸»æœåŠ¡å™¨å…¨éƒ¨å®•æœºçš„æƒ…å†µä¸‹å¯ä»¥ä¸´æ—¶é¡¶ä¸Šï¼Œè¿™ç®—æ˜¯æœ€å¤§çš„è¯±æƒ‘äº†ã€‚æ¯•ç«Ÿå¹³æ—¶ä¸ç”¨ç»´æŠ¤ ç›‘æ§ç±»ä¸šåŠ¡ï¼šæ¯”å¦‚å®šæ—¶ç›‘æ§å„ä¸ªæœåŠ¡çš„çŠ¶æ€ï¼Œè‡ªåŠ¨å¤„ç†æˆ–è€…æŠ¥è­¦ å…¶ä»–ä¸€äº›ç‰¹æ®Šçš„ï¼Œå¹³æ—¶æ²¡è®¿é—®é‡çš„ï¼šä¾‹å¦‚ï¼Œä¼ä¸šç½‘ç«™çš„cdnå›æºç«¯ çº¿ä¸Šä¸´æ—¶ä½¿ç”¨çš„GPUä¸šåŠ¡ å…¶ä»–ä¸€äº›éœ€è¦ä¸´æ—¶çº¿ä¸Šæ‰§è¡Œä½†æ˜¯å¯èƒ½ä¼šå½±å“è‡ªå·±çš„æœåŠ¡å™¨èµ„æºå ç”¨æˆ–è€…ä¼šå¯¼è‡´ç®¡ç†æ··ä¹±çš„ ä¸æƒ³æš´éœ²è‡ªå·±çš„åŸŸåå’Œipç­‰ä¿¡æ¯çš„ä¸šåŠ¡ï¼Œå¯ä»¥ç”¨å‡½æ•°è®¡ç®—çš„httpè§¦å‘å™¨çš„åŸŸåå’Œè¯ä¹¦ æˆ‘ç›®å‰é€‚åˆè¿ç§»çš„ å…¥å£æ–‡ä»¶è‡ªåŠ¨éƒ¨ç½²ï¼š è‡ªåŠ¨æ£€ç´¢æ‰€æœ‰apièŠ‚ç‚¹ï¼Œåˆ›å»ºjsonæ–‡ä»¶åˆ†å‘åˆ°cdn ä¾›ç‰©è”ç½‘è®¾å¤‡ç«¯å’Œappæœç´¢å¯ä»¥ç”¨èŠ‚ç‚¹ ç‰©è”ç½‘è®¾å¤‡ä¸Šçº¿ç¦»çº¿æ£€æµ‹åŠŸèƒ½ï¼šè¿™ä¸ªè¯·æ±‚æ•°å’Œå¹¶å‘éƒ½ä¸ä½ï¼Œå¯ç”¨æ€§è¦æ±‚æé«˜ï¼Œä½†æ˜¯å¸¦å®½å ç”¨éå¸¸ä½ï¼Œserverlessè¿™è¾¹åšå¤‡ç”¨èŠ‚ç‚¹ã€‚ ç‰©è”ç½‘è®¾å¤‡çš„å†å²æ•°æ®ä¸ŠæŠ¥åŠŸèƒ½ï¼šå¹¶å‘ä¸é«˜ï¼Œå¯ç”¨æ€§è¦æ±‚ä¸é«˜ï¼Œä½†æ˜¯å¸¦å®½å ç”¨æœ‰ä¸€äº›ï¼Œserverlessè¿™è¾¹ä¾æ—§æ˜¯ å¤‡ç”¨èŠ‚ç‚¹ã€‚ appæ®µçš„æ¥å£ï¼š å¹¶å‘å’Œå¸¦å®½éƒ½ä¸é«˜ï¼Œå¯ç”¨æ€§è¦æ±‚é«˜ï¼Œservlessè¿™è¾¹ä¾æ—§æ˜¯å¤‡ç”¨èŠ‚ç‚¹ã€‚ å®Œå…¨ä¸é€‚åˆè¿ç§»servless å¹³å°ç®¡ç†ç±»ï¼šè¿™ä¸ªåªèƒ½å†…ç½‘è®¿é—®ï¼Œéƒ¨ç½²åˆ°servlessæ²¡å¤ªå¤§æ„ä¹‰ æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼šä¸é€‚åˆï¼Œä½†æ˜¯éƒ¨åˆ†å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„å¯ä»¥ç®€å•ä¿®æ”¹ä¸€ä¸‹é€»è¾‘ç”¨servlesså¤„ç†ã€‚ éƒ¨ç½²æ–¹å¼ nodejs python ä¹‹ç±»çš„éƒ½æ˜¯å¯ä»¥åœ¨çº¿ç¼–è¾‘åœ¨çº¿éƒ¨ç½²çš„ï¼Œgo java rustä¹‹ç±»çš„å°±åªèƒ½ä¸Šä¼ äºŒè¿›åˆ¶æˆ–è€…dockerã€‚\nå½“ç„¶ go å› ä¸ºç¼–è¯‘é€Ÿåº¦é£å¿« éç”Ÿäº§éƒ¨ç½² ä¹Ÿå¯ä»¥ ç”¨ go run ã€‚\näºšé©¬é€Šé‚£è¾¹ è²Œä¼¼ä¸æ”¯æŒ zipå’Œæ–‡ä»¶å¤¹ä¸Šä¼ çš„æ–¹å¼éƒ¨ç½²ï¼Œåªèƒ½åœ¨çº¿ç¼–è¾‘å’Œdockeréƒ¨ç½²ã€‚\nä¸€äº›æœ‰è¶£çš„æƒ³æ³• gitea ç­‰ webä¸ºä¸»çš„åº”ç”¨ ä¹‹å‰çœ‹åˆ°æœ‰äººåœ¨serverless éƒ¨ç½²gitea,æ•°æ®æŒä¹…åŒ–é—®é¢˜å¥½è§£å†³ï¼Œä½†æ˜¯giteaå®é™…ä¸Šæ˜¯æœ‰å¾ˆå¤šåå°ä»»åŠ¡éœ€è¦æ‰§è¡Œçš„ã€‚\næ³¨æ„åˆ° å¼¹æ€§ä¼¸ç¼©é™åˆ¶è§„åˆ™ é‡Œé¢å¯ä»¥é…ç½®æŸä¸€ä¸ªæ—¶æ®µä¿æ´»ä¸€ä¸ªå®ä¾‹ï¼Œå¥½åƒå°±å¯ä»¥è§£å†³ä¸€éƒ¨åˆ†æƒ…å†µäº†ã€‚\nä¸è¿‡ æ•°æ®æ¯æ¬¡ä¼ è¾“é‡ä¸èƒ½è¶…è¿‡32M\nå¯¹è±¡å‚¨å­˜è½¬webdav åŒä¸Š\nç§æœ‰åŒ– bitwarden åŒä¸Š\nå¯¹äº‘å‚å•†ä»¥åŠserverlessçš„ä¸€äº›çœ‹æ³• è·¨äº‘éƒ¨ç½² åœ¨æˆ‘è°ƒè¯•æœŸé—´ å†æ¬¡é‡åˆ° é˜¿é‡Œäº‘å¤§é¢ç§¯å®•æœºäº‹ä»¶ï¼ˆ2023-12-12ï¼‰ï¼Œæ§åˆ¶é¢æ¿æ— æ³•ç™»å‡º(2023-11-14) è…¾è®¯äº‘é‚£è¾¹ä¹Ÿä¸æ˜¯ä¸€æ¬¡ä¸¤æ¬¡å‡ºé—®é¢˜ï¼Œæ‰€ä»¥è·¨äº‘éƒ¨ç½²å·²ç»æ˜¯å¿…ä¸å¯å°‘çš„æ–¹æ¡ˆã€‚\nserverlesså’Œäº‘å‚å•†çš„ç»‘å®š è€Œä¼ ç»Ÿçš„servless å¯¹äº‘å‚å•†æ·±åº¦ç»‘å®šï¼Œåªæ˜¯è¿‘å‡ å¹´å¼€å§‹æœ‰ä¸€äº›å†…å·ï¼Œå·²ç»å¯ä»¥äºŒè¿›åˆ¶æˆ–docker ä¸ä¿®æ”¹ä»»ä½•ä»£ç ç›´æ¥éƒ¨ç½²ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥å°½é‡ä¸ç»‘å®šäº‘å‚å•†çš„sdkä»¥åŠç›¸å…³ä¸šåŠ¡çš„çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è·¨äº‘éƒ¨ç½²ä¸€äº›å‡½æ•°ä¸Šå»ã€‚\n","date":"2023-11-13T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/up-serverless/","title":"ä¼ ç»Ÿé¡¹ç›®ä¸Šserverless å‡½æ•°è®¡ç®—çš„ åˆæ­¥è¯´æ˜"},{"content":"firefoxçš„æ–°ç‰ˆæœ¬ç›®å‰å·²ç»ä¸æ”¯æŒè‡ªå®šä¹‰ä»»æ„æœç´¢å¼•æ“ï¼Œå³ è‡ªå®šä¹‰ https://url?keyword={å…³é”®è¯} è¿™ç§æ ¼å¼ã€‚ è€Œ chromeå’Œedgeéƒ½å¯ä»¥çµæ´»è‡ªå®šä¹‰ã€‚\nfirefox æ—§ç‰ˆæœ¬æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯çŸ¥é“ä»€ä¹ˆæ—¶å€™ æ›´æ–°åå°±ä¸æ”¯æŒäº†ã€‚åªèƒ½ç”¨æ’ä»¶æ–¹å¼å®‰è£…ï¼Œä½†æ˜¯æ’ä»¶æ˜¯æ”¯æŒçš„æœç´¢å¼•æ“å°±é‚£ä¹ˆå‡ ä¸ªä¹Ÿä¸æ˜¯æˆ‘ä»¬å¸¸ç”¨éœ€è¦è‡ªå®šä¹‰çš„ã€‚\næ‰¾åˆ°ä¸€ä¸ªæ›²çº¿è§£å†³æ–¹æ³•ã€‚ åˆ©ç”¨firefoxçš„åœ°å€æ å¯ä»¥æœç´¢ä¹¦ç­¾ ä»¥åŠ ä¹¦ç­¾å¯ä»¥å®šä¹‰å…³é”®è¯çš„åŠŸèƒ½ã€‚\nä»¥bing æ¢åˆ°cn.bing.comä¸ºä¾‹ï¼Œfirefoxé»˜è®¤æ˜¯è°ƒç”¨ www.bing.com åœ¨æŸäº›ç¯å¢ƒä¸­å¾ˆå¡ã€‚\nç½‘å€å¦‚ä¸‹ï¼š https://cn.bing.com/search?q=111\næŠŠè¿™ä¸ªåœ°å€æ·»åŠ åˆ°ä¹¦ç­¾ï¼Œåç§°éšæ„ï¼Œåœ°å€ä¿®æ”¹ä¸º https://cn.bing.com/search?q=%s å…³é”®è¯è¾“å…¥ cnbingï¼ˆå’Œå…¶ä»–çš„ä¸å†²çªå³å¯ï¼‰\nç„¶ååœ°å€æ è¾“å…¥ cnbing+ç©ºæ ¼+å…³é”®è¯ å³å¯è°ƒç”¨cn.bing.com æœç´¢å¯¹åº”å…³é”®è¯\nåŒæ ·å¯ä»¥æ·»åŠ  github ä¸ªäººåšå®¢ ç­‰ç­‰ æ‰€æœ‰æ”¯æŒgetæ–¹å¼çš„æœç´¢\nè¿™ä¸ªæ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯ æ²¡æ³•çœç•¥å‰é¢çš„å…³é”®è¯å’Œç©ºæ ¼ ä½œä¸ºé»˜è®¤æœç´¢å¼•æ“ä½¿ç”¨ã€‚\nåæ§½ï¼š firefox çœŸçš„èƒ½ç ï¼Œç æ‰äº†æ¸å˜appï¼ˆwebappï¼‰åˆç è‡ªå®šä¹‰æœç´¢å¼•æ“ï¼Œå¦‚æœä¸æ˜¯å› ä¸ºä»–åœ¨linuxä¸‹æ”¯æŒç¡¬è§£ï¼ŒçœŸçš„å¤Ÿå¤Ÿçš„çš„ã€‚\nedgeçš„linuxç‰ˆæœ¬çš„å‚ç›´æ ‡ç­¾åŠŸèƒ½å·²ç»éå¸¸å®Œå–„ï¼Œä¸ç»å¸¸åœ¨çº¿çœ‹è§†é¢‘çš„è¯ï¼Œæ—©ç‚¹ç¦»å¼€å§ã€‚\né™„ï¼š\nè·¨æµè§ˆå™¨ è·¨è®¾å¤‡åŒæ­¥ä¹¦ç­¾å’Œå¯†ç æ’ä»¶æ¨èï¼š\nfloccusï¼ˆéœ€è¦ä¸€ä¸ªwebdavåŒæ­¥ å¯ä»¥ç”¨nasæˆ–è€…åšæœäº‘ï¼‰ bitwarden ï¼ˆå¯ä»¥è‡ªå»ºæœåŠ¡ç«¯ï¼Œå…¨å¹³å°å¯ç”¨ iosç«¯ä¸ºæ•°ä¸å¤šçš„ä½“éªŒä¸é”™çš„å¯†ç ç®¡ç†å™¨ï¼‰ ","date":"2023-11-10T20:40:20+08:00","permalink":"https://dev.leiyanhui.com/web/firefox-search-diy/","title":"firefoxè‡ªå®šä¹‰æœç´¢å¼•æ“"},{"content":"k2p åˆ· Padavan ä¸­ç»§æ¨¡å¼ï¼Œåœ¨ä¸»è·¯ç”±ç»´æŠ¤æˆ–è€…æ›´æ¢åï¼Œk2pæ— æ³•è‡ªåŠ¨è¿æ¥ä¸Šï¼Œå¹¶ç»™æ¥å…¥çš„è®¾å¤‡åˆ†é…ipã€‚\næ‰€ä»¥æ·»åŠ ä¸€ä¸ªè„šæœ¬æ¥å®ç° 1åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡å’Œä¸»è·¯ç”±çš„è¿æ¥æƒ…å†µï¼Œå¦‚æœè¿æ¥æ­£å¸¸ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿä¸åšï¼Œå¦‚æœè¿æ¥å¼‚å¸¸ï¼Œé‚£ä¹ˆ30ç§’åé‡å¯ã€‚\nssh ç™»é™†è·¯ç”± æ·»åŠ ä¸€ä¸ªè„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 cat \u0026gt; /etc/storage/auto_reboot.sh \u0026lt;\u0026lt; \\EOF #!/bin/bash default_gateway=\u0026#39;10.1.1.1\u0026#39; # 10.1.1.1 or 223.5.5.5 check_ip_available(){ ping -c 3 $1 | grep packets | awk \u0026#39;{print $4}\u0026#39; } sleep 30 res=`check_ip_available $default_gateway` if [ $(($res)) -eq 0 ]; then echo \u0026#34;rebooting...\u0026#34; /sbin/reboot fi echo \u0026#34;nothing need todo\u0026#34; EOF chmod +x /etc/storage/auto_reboot.sh /sbin/mtd_storage.sh save è‡ªåŠ¨å®šæ—¶è¿è¡Œè„šæœ¬ï¼ˆæ¯ä¸€åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡ï¼‰ï¼š\nç³»ç»Ÿç®¡ç† - æœåŠ¡ è°ƒåº¦ä»»åŠ¡ (Crontab) åŠ å…¥ */1 * * * * /etc/storage/auto_reboot.sh\nåŒæ ·ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸º æ£€æµ‹ping ä¸€ä¸ªå›½å†…ç¨³å®šçš„å…¬ç½‘ip .\næ—è·¯ç”±æ–¹æ¡ˆè‡ªåŠ¨åˆ‡æ¢ç½‘å…³ https://dev.leiyanhui.com/openwrt/auto-change-gatway/\n","date":"2023-11-10T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/k2p-ap-reboot/","title":"k2p Padavan ç¦»çº¿è‡ªåŠ¨é‡å¯ï¼Œä¸­ç»§æ¨¡å¼æ£€æµ‹ä¸»è·¯ç”±ä¸åœ¨è‡ªåŠ¨é‡å¯æ–¹æ¡ˆ"},{"content":"ç®€ä»‹ åˆ©ç”¨cfworkæ­å»º ä¸€ä¸ªåå‘ä»£ç†ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½ä¼šç©ã€‚åŒæ ·æˆ‘ä»¬å¯ä»¥åœ¨cfworkæ­å»ºä¸€ä¸ªvlessèŠ‚ç‚¹ã€‚æ¥å®ç°è‡ªå»ºä¸€ä¸ªç¨³å®šçš„å‡†ç§æœ‰èŠ‚ç‚¹ã€‚\næœ¬æ–‡è®°å½•ç›¸å…³æ“ä½œä»¥åŠå¦‚ä½•å¯¼å…¥åˆ°ç°æœ‰çš„clashè®¢é˜…å’Œv2rayNä¸­ã€‚\nå‡†å¤‡ cloudflareè´¦å· åœ¨cloudflareä¸­æ·»åŠ ä¸€ä¸ªä½ è‡ªå·±çš„åŸŸåï¼ˆéå¿…éœ€ï¼‰ åˆ›å»º åˆ›å»ºä¸€ä¸ªcfwork æ·»åŠ  ä¸€ä¸ªï¼Œè„šæœ¬ç”¨ https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js è¿™ä½å¤§ä½¬çš„\nä¹Ÿæœ‰ä¸€äº›åˆ«äººå¤åˆ¶çš„ https://github.com/Misaka-blog/cf-wkrs-pages-vless/blob/main/_worker.js\næ¨èä½¿ç”¨Misakaçš„ï¼Œä»–åœ¨åŸç‰ˆåŸºç¡€ä¸ŠåŠ äº†ç«™ç‚¹ä¼ªè£…å’Œåˆå§‹çš„proxyIP éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ userID å’Œ proxyIP ã€‚\nuserIDå¯ä»¥ç†è§£ä¸º ä¸ºäº†éšè—æˆ‘ä»¬çš„èŠ‚ç‚¹ï¼Œä¹Ÿé˜²æ­¢è¢«äººç™½å«–ã€‚ å¯ä»¥éšä¾¿å¡«å†™ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨çº¿å·¥å…·ç”Ÿæˆ https://www.uuidgenerator.net proxyIP è¿™ä¸ªæ˜¯è®¿é—®æŸä¸€äº›æœ¬èº«éƒ¨ç½²åœ¨ cf cdnä¸Šçš„ç½‘ç«™è¦ç”¨çš„ï¼Œå¯ä»¥è‡ªå·±å»ç­›é€‰ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ«äººå·²ç»ç­›é€‰å¥½çš„ã€‚ è¿™é‡Œç›´æ¥é€‰åˆ«äººçš„\n1 2 3 4 5 cdn-all.xn--b6gac.eu.org cdn.xn--b6gac.eu.org cdn-b100.xn--b6gac.eu.org edgetunnel.anycast.eu.org cdn.anycast.eu.org è·å–èŠ‚ç‚¹åœ°å€ æ‰“å¼€ https://cfåˆ†ç»™ä½ çš„åŸŸå.workers.dev/xxxx-d424-4583-b36e-524ab1f0afa4 åé¢æ˜¯ä½ çš„userid\næ›¿æ¢åŸŸå workers.dev é»˜è®¤æ˜¯è¢«å¢™çš„çŠ¶æ€ï¼Œéœ€è¦æ›¿æ¢æˆä½ çš„è‡ªå·±çš„åŸŸåï¼Œåœ¨è§¦å‘å™¨çš„åœ°æ–¹æ·»åŠ è‡ªå®šä¹‰åŸŸï¼Œç„¶åè¾“å…¥ä¸€ä¸ªä½ æ‰˜ç®¡åœ¨cfçš„åŸŸåå³å¯ã€‚\nç„¶åæ‰“å¼€ https://ä½ è‡ªå·±çš„åŸŸåv/xxxx-d424-4583-b36e-524ab1f0afa4\næ³¨æ„ åŸŸåä¼šè¢«å¢™è¯†åˆ«åˆ°ï¼Œæ‰€ä»¥ä½ æœ€å¥½ç”¨ä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åŸŸå ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¼ªè£…ã€‚\nå®¢æˆ·ç«¯ä¼˜é€‰ip åœ¨çº¿æ–¹å¼ è¿™ä¸ªæ–¹å¼å‡‘åˆèƒ½ç”¨\nhttps://vfarid.github.io/cf-ip-scanner/?max=30\næœ¬åœ°æµ‹è¯•æ–¹å¼ ç•¥å¾®å¤æ‚ä¸€äº›ï¼Œæœ¬åœ°è¿è¡Œå·¥å…·é€ä¸ªæµ‹è¯•ã€‚\nç½‘ä¸Šå¾ˆå¤šç›¸å…³æ•™ç¨‹ä¸å†èµ˜è¿°ï¼Œæ¨è https://github.com/XIU2/CloudflareSpeedTest\nç™½å«–æ–¹å¼ è¿™ä¸ªæ–¹å¼ ï¼Œå°±é€šè¿‡ä½ ç”¨åœ¨çº¿æˆ–è€…æœ¬åœ°ä¼˜é€‰çš„æ–¹å¼ è·å–åˆ°çš„æ„Ÿè§‰é€Ÿåº¦å°šå¯ip å»ipåæŸ¥ç½‘ç«™ï¼Œçœ‹æœ‰æ²¡æœ‰åˆ«çš„å¤§ä½¬åšå¥½çš„åŸŸåã€‚ç„¶åé€ä¸ªå»åœ¨çº¿pingç½‘ç«™pingä»–åŸŸåã€‚\nhttps://ipchaxun.com/ è¿™é‡Œï¼Œä¸‹é¢é€‰æ‹©ä¸€ä¸ªä½æˆæœ¬åç¼€çš„åŸŸåï¼Œæˆ–è€…åŸŸåé‡Œé¢åœ¨cfæˆ–è€…ip,æˆ–yxä¹‹ç±»çš„æ„æ€çš„ï¼Œå¤§æ¦‚ç‡å°±æ˜¯åˆ«äººé…ç½®å¥½çš„ã€‚\nè¿™é‡Œæä¾›å‡ ä¸ªçƒ­é—¨ip 140.238.12.33 140.238.12.33 47.245.37.41 ç„¶åå» itdog chinazä¹‹ç±»çš„ç½‘ç«™åœ¨çº¿pingç¡®è®¤ä¸€ä¸‹ã€‚\nè¿™é‡Œç›´æ¥è´´å‡ ä¸ªæŸ¥åˆ°çš„åŸŸå 443.cf.bestl.de 80.cf.bestl.de cdn.chigua.tk yx.piaosir.link cf.yumy.gay yx.pztvdiao.link yx.s2.gay yx.skyvps.link ip.zijingshan.link cdn-ip.tgbird.top yxip.tgood.eu.org cf.gzgrd.com\nåŒæ ·çš„é“ç†ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹å¼æ¥æå®šmsdoså¯¹cfçš„ä¼˜é€‰ipçš„é‡å†™ã€‚\næœ€åçš„åœ°å€å¤„ç† æ— è®ºé‚£æ–¹å¼ï¼Œä½ è·å–åˆ°çš„ip æœ€ç»ˆéƒ½è¦æ›¿æ¢åˆ°ä¸Šé¢ä½ çš„cfworkæç¤ºçš„vlessåœ°å€çš„é‡Œé¢ vless://XXXXX-d424-4583-b36e-524ab1f0afa4@è¿™é‡Œé€‰æ‹©ä¼˜é€‰ipä¼˜é€‰åŸŸå:443?encryption=none\u0026amp;security=tls\u0026amp;sni=XXXX\u0026amp;fp=randomized\u0026amp;type=ws\u0026amp;host=XXXX\u0026amp;path=%2F%3Fed%3D2048#XXXX\né™„åŠ åˆ°ç°æœ‰clashè®¢é˜… ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹è½¬æ¢çš„ç½‘ç«™ æ·»åŠ ä¸Šï¼Œç„¶åå†ç”¨è½¬æ¢ç½‘ç«™æä¾›çš„åœ°å€å³å¯ã€‚ å¦åˆ™åªèƒ½æ·»åŠ åˆ°æœ¬åœ°çš„yamlæ–‡ä»¶é‡Œé¢\n","date":"2023-11-09T18:40:20+08:00","permalink":"https://dev.leiyanhui.com/cloudflare/vless/","title":"åˆ©ç”¨cfwokrå…è´¹æ­å»ºè‡ªå·±çš„èŠ‚ç‚¹"},{"content":"å› ä¸º clash for windows ä½œè€…è‡ªæˆ‘å¼€ç›’ï¼ˆä¸å°å¿ƒæ³„éœ²è½¦ç‰Œå·ç ï¼‰éšååˆ åº“å¯¼è‡´çš„è¿é”ååº”ï¼Œclashå’Œclash meta ç­‰ç›¸ç»§æŠŠä»“åº“è®¾ç½®ä¸ºå½’æ¡£å¹¶æš‚æ—¶åœæ­¢æ›´æ–°ã€‚ å…¶å®clash for windows åªæ˜¯clashä¸€ä¸ªåœ¨windowsçš„uié…ç½®å·¥å…· uiéƒ¨åˆ†åŸºäºElectron,åç«¯è¿˜æ˜¯ clashå’Œclash metaã€‚ä½†æ˜¯å› ä¸ºä»–æ¯”è¾ƒç›´è§‚å¹¶ä¸”å¾ˆç¾è§‚ï¼Œæ‰€ä»¥ä½¿ç”¨è€…ä¼—å¤šã€‚\nç›®å‰æš‚æ—¶çœ‹ clashå’Œclash meta ï¼Œåº”è¯¥ä¸ä¼šä¸€ç›´åœæ­¢æ›´æ–°ã€‚æ‰€ä»¥å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚\né‡ç‚¹ï¼šclash å’Œclash-mete clash-tun ä¾æ—§å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼ï¼ï¼\nclash metaçš„ä¼˜ç‚¹ æœ‰å¾ˆå¤šï¼Œä¸»è¦åˆ†æµè§„åˆ™å®Œå–„ä¸”çµæ´»ï¼Œå¹¶ä¸”æ”¯æŒçš„åè®®å¤šï¼ŒåŸºæœ¬ä¸Šè¦†ç›–æ‰€æœ‰åè®®ã€‚ä½†å…¶å®æœ‰ä¸¤ä¸ªé—®é¢˜ã€‚ 1ã€åœ¨ä½é…ç¡¬ä»¶ä¸Šè·‘ä¸æ»¡å¸¦å®½ï¼Œç”šè‡³åªæœ‰å¸¦å®½çš„10-20%\n2ã€é…ç½®è¾ƒä¸ºç¹çï¼Œå¯¹æ–°æ‰‹ä¸å‹å¥½ï¼Œç”šè‡³ä¸å°‘å¤§ç¥ä¹Ÿå¯¹clashçš„é…ç½®å¾ˆæ‡µ\nä¸»æµçš„æ›¿ä»£è½¯ä»¶å®¢æˆ·ç«¯å†…æ ¸ æ¯”å¦‚ v2ray xray sing-box Hysteria,åªæ˜¯å…¶ä»–è½¯ä»¶çš„åˆ†æµå’Œåè®®æ”¯æŒåº¦æˆ–è€…æ˜“ç”¨æ€§éƒ½æ²¡æœ‰clashå¥½ã€‚\nè¿™äº›å¯ä»¥ä¸æ“å¿ƒï¼Œå…¶ä»–éåŸºäºclashçš„å®¢æˆ·ç«¯æœ‰ï¼š\nV2rayN (Winç«¯)https://github.com/2dust/v2rayN/wiki/List-of-supported-cores\nv2rayA( linux + win + macos)\nv2flyNG(android) V2rayNG (android) Nekoray (win+linux) https://github.com/MatsuriDayo/nekoray\nNekobox (android)\nSurge (æ”¶è´¹ macos ios) sing-boxï¼ˆå…¨å¹³å°ï¼‰ IOSç«¯ï¼šsing-box Shadowrocket QuantumultX Surgeç­‰\nä¸Šé¢æ”¯æŒlinuxçš„åœ¨openwrtä¸Šéƒ½å¯ä»¥ç”¨ï¼Œä½†æ˜¯å¦å¤–æœ‰ä¸€äº›å¸¦luciç•Œé¢ï¼š PassWall Bypass SSR-Plus PassWall2 VSSR (Hello World)ï¼Œ\næœ€åï¼š è¾ƒä¸ºçœ‹å¥½sing-box,å·²ç»æœ‰éƒ¨åˆ†æœºåœºå¼€å§‹æ”¯æŒï¼ˆä¹Ÿæœ‰ä¸€äº›clashè½¬æ¢sing-boxçš„è½¬æ¢å·¥å…·ï¼‰ioså®¢æˆ·ç«¯æ˜¯å…è´¹çš„ã€‚\n","date":"2023-11-08T20:40:20+08:00","permalink":"https://dev.leiyanhui.com/route/clash-new/","title":"clashåˆ åº“äº‹ä»¶å‘ç”Ÿåçš„æ›¿ä»£æ–¹æ¡ˆ"},{"content":"å±€åŸŸç½‘å†…éé›†ç¾¤pve è¿ç§»\nè¿ç§» ct/lxc ä»10.1.1.5 è¿ç§»åˆ°10.1.1.6\næˆ‘è¿™é‡Œç›´æ¥ç”¨ ç›´æ¥ç”¨scpè¿ç§»ï¼Œæˆ‘è¿™é‡Œè¿˜æ˜¯æ‰‹åŠ¨é€ä¸ªè¿ç§»ã€‚å…ˆç¡®å®šä¸¤è¾¹çš„å‚¨å­˜è·¯å¾„\n1 2 3 4 5 pveid=3000 ssh root@10.1.1.5 \u0026#34;pct stop ${pveid}\u0026#34; scp -r root@10.1.1.5:/var/lib/vz/images/${pveid} /autofs_my/btrfs/images/${pveid} scp root@10.1.1.5:/etc/pve/lxc/${pveid}.conf /etc/pve/lxc/${pveid}.conf sed -i \u0026#34;s@rootfs: local:@rootfs: nvme_btrfs:@g\u0026#34; /etc/pve/lxc/${pveid}.conf å¦‚æœæ²¡æœ‰é…ç½®keyç™»é™†ï¼Œå¯ä»¥ç”¨sshpass é¿å…æ¯æ¬¡è¾“å…¥å¯†ç \n1 2 3 4 5 6 7 8 9 10 apt install sshpass rootpsw=xxxxä½ çš„rootå¯†ç  pveid=101 sshpass -p \u0026#34;${rootpsw}\u0026#34; ssh root@10.1.1.5 \u0026#34;pct stop ${pveid}\u0026#34; sshpass -p \u0026#34;${rootpsw}\u0026#34; scp -r root@10.1.1.5:/var/lib/vz/images/${pveid} /autofs_my/btrfs/images/${pveid} sshpass -p \u0026#34;${rootpsw}\u0026#34; scp root@10.1.1.5:/etc/pve/lxc/${pveid}.conf /etc/pve/lxc/${pveid}.conf sed -i \u0026#34;s@rootfs: local:@rootfs: nvme_btrfs:@g\u0026#34; /etc/pve/lxc/${pveid}.conf /usr/sbin/pct start ${pveid} ä¸Šé¢æ˜¯è¿ç§»å®¹å™¨ï¼Œå› ä¸ºå®¹å™¨çš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶æˆ‘ä»¬ä¸€èˆ¬éƒ½æŒ‰éœ€åˆ†é…çš„ï¼Œä½“ç§¯ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ã€‚ä½†æ˜¯vmçš„è¯ æœ€å¥½å…ˆç”¨ qm-img è½¬æ¢ä¸€ä¸‹ qcow2 kvmçš„é…ç½®æ–‡ä»¶ç›®å½•ä¿®æ”¹ä¸ºï¼š/etc/pve/qemu-server/${pveid}.conf\n","date":"2023-10-31T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/move/","title":"pve åœ¨çº¿è¿ç§»lxcå’Œkvm"},{"content":"lxcæˆ–è€…dockerå†…ç›´æ¥è¿è¡Œtailscale upä¼šæç¤º\nfailed to connect to local tailscaled (which appears to be running as tailscaled, pid 4722). Got error: 503 Service Unavailable: no backend\næˆ–è€…\nfailed to connect to local tailscaled (which appears to be running as tailscaled, pid 2695). Got error: Failed to connect to local Tailscale daemon for /localapi/v0/status; systemd tailscaled.service not running. Error: dial unix /var/run/tailscaled.socket: connect: no such file or directory\nå³ä¾¿æ˜¯å·²ç»å¯åŠ¨äº† tailscaledæœåŠ¡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæœ€åå‘ç°æ˜¯tunçš„é—®é¢˜ã€‚\nlxcé…ç½®æ–‡ä»¶æ·»åŠ  ä¸¤è¡Œ\n1 2 lxc.cgroup2.devices.allow: c 10:200 rwm lxc.mount.entry: /dev/net dev/net none bind,create=dir å¦‚æœlxcåŒæ—¶è¿è¡Œdocker,æ³¨æ„ ä¸Šé¢ä¸¤è¡Œè¦åŠ åˆ°lxcå¥—dockerçš„ç²®è¡Œé…ç½®åé¢ã€‚å‚è€ƒé…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 arch: amd64 cores: 12 features: fuse=1,mknod=1,mount=nfs;cifs,nesting=1 hostname: derper memory: 512 net0: name=eth0,bridge=vmbr0,firewall=1,gw=10.1.1.1,hwaddr=76:1A:21:0B:26:78,ip=10.1.1.211/24,ip6=dhcp,type=veth ostype: alpine rootfs: nvme_btrfs:211/vm-211-disk-0.raw,size=1G searchdomain: 10.1.1.1 swap: 0 lxc.cgroup.devices.allow: a lxc.cap.drop: lxc.cgroup2.devices.allow: c 10:200 rwm lxc.mount.entry: /dev/net dev/net none bind,create=dir å…³é—­ctå®¹å™¨ é‡æ–°å¯åŠ¨å³å¯\ndockerä¸‹è¿è¡Œçš„èŠ±ï¼ŒåŒæ ·éœ€è¦æ˜ å°„ /dev/net/tun åˆ°å®¹å™¨å†…\n","date":"2023-10-29T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/vpn/tailscale-lxc/","title":"pve lxcä¸‹ä½¿ç”¨tailscale"},{"content":"ç”¨nginx å¥—ssl\n1 2 3 4 5 6 7 8 docker run -itd --name derper --hostname derper \\ --restart always \\ -p 81:12345 -p 3478:3478/udp \\ -e DERP_ADDR=:12345 \\ -e DERP_DOMAIN=ä½ çš„åŸŸå \\ -e DERP_VERIFY_CLIENTS=true \\ -d ghcr.io/yangchuansheng/derper:latest # https://icloudnative.io/posts/custom-derp-servers/ curl æµ‹è¯• http://10.1.1.211:81 nginx åå¸¦ http://10.1.1.211:81 é˜²ç«å¢™ æ‰“å¼€ 3478ç«¯å£udpåè®®\næ‰“å¼€https://login.tailscale.com/admin/acls/file åœ¨é¡¶å±‚æ·»åŠ \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026#34;derpMap\u0026#34;: { \u0026#34;OmitDefaultRegions\u0026#34;: false, \u0026#34;Regions\u0026#34;: {\u0026#34;900\u0026#34;: { \u0026#34;RegionID\u0026#34;: 900, \u0026#34;RegionCode\u0026#34;: \u0026#34;åå­—1\u0026#34;, \u0026#34;RegionName\u0026#34;: \u0026#34;åå­—2\u0026#34;, \u0026#34;Nodes\u0026#34;: [{ \u0026#34;Name\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;RegionID\u0026#34;: 900, \u0026#34;HostName\u0026#34;: \u0026#34;ä½ çš„åŸŸå\u0026#34;, \u0026#34;DERPPort\u0026#34;: nginxçš„httpsç«¯å£, }], },\u0026#34;901\u0026#34;: { \u0026#34;RegionID\u0026#34;: 901, \u0026#34;RegionCode\u0026#34;: \u0026#34;åå­—1\u0026#34;, \u0026#34;RegionName\u0026#34;: \u0026#34;åå­—2\u0026#34;, \u0026#34;Nodes\u0026#34;: [{ \u0026#34;Name\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;RegionID\u0026#34;: 901, \u0026#34;HostName\u0026#34;: \u0026#34;ä½ çš„åŸŸå\u0026#34;, \u0026#34;DERPPort\u0026#34;: nginxçš„httpsç«¯å£, }], }}, }, OmitDefaultRegions è®¾ç½®æ˜¯trueåªç”¨è‡ªå·±çš„èŠ‚ç‚¹ï¼Œ ä¸Šçš„RegionID æœ€å°æ•°å­—æ˜¯900 å°äº900ä¸ºå®˜æ–¹ä¿ç•™\nå®¢æˆ·ç«¯ æŸ¥çœ‹èŠ‚ç‚¹æƒ…å†µå’Œé€Ÿåº¦\n1 tailscale netcheck ","date":"2023-10-29T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/vpn/tailscale-derper/","title":"tailscaleå¤šä¸ªDerperé…ç½®"},{"content":"dns ä¸ºä»€ä¹ˆä¼šè¢«æ³„éœ² å› ä¸ºé»˜è®¤æƒ…å†µä¸‹å®¶åº­ç½‘ç»œçš„dnséƒ½æ˜¯èµ° æ˜æ–‡ udpçš„53ç«¯å£ã€‚ä½†æ˜¯å³ä¾¿æ˜¯é…ç½®äº†èµ°doh/dotä¹Ÿä¼šæ³„éœ²ã€‚\ndns æ³„éœ²åæœ‰ä»€ä¹ˆä¸å¥½çš„ å¦‚æœ ä½ å¯¹è¿è¥å•†æˆ–è€…å›½å†…dns å‘èµ·äº†ä¸€ä¸ª æŸ¥è¯¢æŸä¸€ä¸ªåŸŸådnsçš„è¯·æ±‚ï¼Œéšåä½ åˆåŠ å¯†è¿æ¥åˆ°äº†ä¸€ä¸ªå¢ƒå¤–ipå¹¶ä¼ è¾“äº†å¤§æµé‡æ•°æ®ã€‚ ä½ åœ¨å¹²ä»€ä¹ˆ å°±éå¸¸æ˜¾è€Œæ˜“è§äº†ã€‚ åœ¨è¿™ä¸ªçº¢è‰²ææ€–å……æ–¥çš„2023å¹´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä½œæ­»çš„äº‹æƒ…ã€‚\nä»€ä¹ˆæ˜¯dnsæ±¡æŸ“ é˜»æ–­å’ŒåŠ«æŒ ç®€å•çš„è¯´ï¼Œå°±æ˜¯ ä½ è¯·æ±‚äº†æŸä¸€ä¸ªå…¬å…±dns,ä½†è¿”å›çš„æ•°æ®æ˜¯é”™è¯¯çš„ï¼Œæˆ–è€…åŠè·¯è¢«ç¯¡æ”¹æ‰äº†ã€‚\nè¿”å›é”™è¯¯æ•°æ® æ˜¯å› ä¸ºå›½å†…æ”¿ç­–è¦æ±‚ï¼Œæ‰€ä»¥å…¬å…±dnsæœåŠ¡å™¨å¯¹æŸä¸€äº›åŸŸåè¿›è¡Œäº†é˜»æ–­ï¼Œä¸€èˆ¬ä¼šè¿”å›ä¸€ä¸ªæœ¬åœ°å±€åŸŸç½‘iæˆ–è€…éšæ„ä¸€ä¸ªå›½å¤–ipã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨å›½å¤–å…¬å…±dnsæ¥å¤„ç†ä¸€äº›åŸŸåçš„è§£æã€‚ æ•°æ®è¢«ç¯¡æ”¹ï¼Œåªæœ‰ä½ åœ¨æ˜æ–‡è¿›è¡Œdnsè¯·æ±‚çš„æ—¶å€™ï¼Œè¿”å›æ•°æ®è¢«è¿è¥å•†æˆ–è€…æŸéƒ¨é—¨æˆ–è€…æ¶æ„ç¬¬å››æ–¹ç¯¡æ”¹æ‰ï¼Œè¿™ç§æƒ…å†µä»…é™æ˜æ–‡dnsè¯·æ±‚çš„æƒ…å†µä¸‹ã€‚æ‰€ä»¥æœ‰äº†dohå’Œdotçš„åŠ å¯†dnsè¯·æ±‚ã€‚\nä»€ä¹ˆæ˜¯dohå’Œdot dns over tls å’Œ dns over https å°±æ˜¯ç”¨ç”¨tcp tls æˆ–è€… https åŠ å¯†ä½ çš„ dnsè¯·æ±‚ã€‚\nä¸€èˆ¬æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿ éƒ½æ”¯æŒã€‚\ndohå’Œdotå¯ä»¥é¿å…æ±¡æŸ“ é˜»æ–­ åŠ«æŒå’Œ æ³„éœ²å— å¹¶ä¸èƒ½å®Œå…¨é¿å…ã€‚ dohå’Œdotæ˜¯å¯ä»¥é¿å…dnsè§£æè®°å½•è¢«ä¸­é—´äººç¯¡æ”¹å’Œçª¥æ¢çš„ï¼Œä½†æ˜¯ä½¿ç”¨å›½å†…å…¬å…±dnsæ— æ³•è§£å†³æ”¿ç­–åŸå› å¯¼è‡´çš„æ±¡æŸ“ã€‚\nå¦‚æœä½  doh/dotåˆ° å›½å†…çš„ doh/dotçš„dnsæœåŠ¡ï¼Œé‚£ä¹ˆåªæ˜¯ä½ ä¸Šæ¸¸ç½‘ç»œï¼ˆå®½å¸¦è¿è¥å•†ï¼‰æ— æ³•å¾—çŸ¥ä½ çš„dnsè¯·æ±‚äº†è€Œå·²ã€‚ä½†æ˜¯å¯¹åº”çš„å›½å†…dnsæœåŠ¡å•†ä¾æ—§å¯ä»¥å¾—çŸ¥ã€‚\nä½ ç›´æ¥ä½¿ç”¨å›½å¤–åŠ å¯†dns,ç†è®ºå»æ˜¯å¯ä»¥çš„é¿å…æ‰€æœ‰é—®é¢˜ï¼Œä½†æ˜¯å›½å¤–åŠ å¯†dnsæœ‰ä¸‰ä¸ªé—®é¢˜ï¼š\nå›½å†…ç›´æ¥è®¿é—®é€Ÿåº¦å¤ªæ…¢ ä¸¥é‡å½±å“ä½¿ç”¨ å›½å¤–åŠ å¯†dnséƒ½å·²ç»è¢«å¹²æ‰°å¹¶ä¸”ä¸å®šæœŸé˜»æ–­å’Œé‡å®šå‘ æ— æ³•æ­£å¸¸ç¨³å®šä½¿ç”¨ æœ‰ä¸€äº›å›½å†…ç½‘ç«™åŸºäºdnsåšäº†åˆ†åœ°åŒºæˆ–è€…ä¸€äº›ä¼˜åŒ–ï¼Œä¾‹å¦‚ä½ è®¿é—®æŸä¸€ä¸ªç½‘ç«™ç”¨çš„å›½å¤–çš„dnså¯èƒ½ä¼šè¢«é‡å®šå‘åˆ°å¯¹æ–¹çš„å›½é™…ç«™ç‚¹ã€‚ æ€ä¹ˆå®Œç¾è§£å†³ ä¸‰å¥è¯ï¼š\nä½¿ç”¨clashä»£ç†å›½å¤–ä¸»æµdoh/dotçš„dnsæœåŠ¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹clashè½¬æ¢è§„åˆ™åŒ…æ‹¬æœºåœºè‡ªå¸¦çš„è§„åˆ™ ä»¥åŠå¸¸è§çš„è·¯ç”±å™¨åˆ†æµé…ç½® éƒ½å¯ä»¥è¯†åˆ«åˆ°è¿™éƒ¨åˆ†æµé‡ éƒ½ä¼šå¸®ä½ ä»£ç†å‡ºå»ã€‚ å›½å†…åŸŸååˆ° å›½å†…çš„doh/dotçš„dnsæœåŠ¡å•†ï¼Œgfwæ¸…å•ä¸­çš„åŸŸååˆ°å›½å¤–ä¸»æµdoh/dotçš„dnsæœåŠ¡å•† å¦‚æœégfwæ¸…å•ä¸­åŸŸåï¼Œä½†æ˜¯è¿”å›äº†å›½å¤–ip,é‚£ä¹ˆåˆ°å›½å¤–ä¸»æµdoh/dotä¸Šå†æ¬¡æŸ¥è¯¢ä¸€æ¬¡ è¿™æ ·å°±å®Œç¾è§„é¿äº†ä¸Šè¿°æ‰€æœ‰é—®é¢˜ã€‚ æ€ä¹ˆå®ç° mosdnsåˆ†æµæå®šä¸€åˆ‡ã€‚å¦‚æœæœ‰ç‰¹æ®Šéœ€æ±‚ï¼ŒåŠ è¾…åŠ©dnsçš„ä¸Šæ¸¸,ä¾‹å¦‚AdGuardHomeå’Œè‡ªå»ºdohã€‚\næ€ä¹ˆä¼˜é›…å®ç° åŸç† ä½¿ç”¨mosdnsï¼Œmosdns åˆ¤æ–­æ˜¯gfwåŸŸåç›´æ¥è¯·æ±‚ googleå’Œcfæˆ–è€…ä½ çš„è‡ªå»ºdohã€‚å¦åˆ™è¯·æ±‚å›½å†…doh/dot å¦‚æœè¯·æ±‚äº†å›½å†…dnsä½†æ˜¯è¿”å›äº†ä¸€ä¸ªå›½å¤–ip,é‚£ä¹ˆå†æ¬¡è¯·æ±‚ googleå’Œcfæˆ–è€…ä½ çš„è‡ªå»ºdoh ç¡®è®¤ä¿®æ­£ä¸€æ¬¡ã€‚ å›½å†…doh/dot æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½œä¸ºAdGuardHomeçš„ä¸Šæ¸¸ï¼Œé¡ºå¸¦å»å¹¿å‘Šæˆ–è€…å¤„ç†ä¸€ä¸‹åˆ«çš„æƒ…å†µã€‚\næœ€ä½³æ–¹æ¡ˆï¼ˆæ–°æ‰‹æ¨èï¼‰ mosdns ä½œä¸ºç½‘å†…çš„ä¸»dns,æˆ–è€…è·¯ç”±å™¨çš„ä¸Šæ¸¸ä¸»dnsã€‚ ä¸¤ä¸ª AdGuardHome åˆ†åˆ«å¤„ç† å¢ƒå¤–ç½‘ç«™å’Œå›½å†…ç½‘ç«™ï¼Œè¿™ä¸¤ä¸ªAdGuardHomeä½œä¸ºmosdnsçš„ä¸Šæ¸¸dns. è¿™æ ·çš„å¥½å¤„æ˜¯ AdGuardHomeæœ‰è¾ƒä¸ºç›´è§‚çš„webuiç®¡ç†ç•Œé¢ï¼Œå¹¶é¡ºå¸¦å¤„ç†å¹¿å‘Šé—®é¢˜ã€‚ å¦å¤–ä¸€ä¸ªçŒ´ç‰ˆæ–¹æ¡ˆ æ˜¯ AdGuardHomeä½œä¸ºä¸»dns, mosdnsä½œä¸º AdGuardHome çš„ä¸Šæ¸¸ï¼Œä¸€æ ·å¯ä»¥å®ç°ã€‚è¿™æ ·çœä¸€ä¸ªAdGuardHomeï¼Œä½†æ˜¯æœ‰ç‰¹æ®Šè¦æ±‚çš„æƒ…å†µä¸‹ä¸é€‚ç”¨ã€‚\nå•mosdnsæ–¹æ¡ˆï¼ˆè€æ‰‹æ¨èï¼‰ ä¹Ÿæ˜¯æˆ‘ç›®å‰ä½¿ç”¨çš„æ–¹æ¡ˆï¼Œä¼˜ç‚¹æ˜¯æ›´åŠ çµæ´»æ€§èƒ½ä¹Ÿæ¯”è¾ƒå¥½ã€‚ https://dev.leiyanhui.com/route/mosdns-all-in-one\nä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨clashè‡ªå¸¦çš„dnsåŠ«æŒ ä¸»è¦æ˜¯è‡ªå¸¦çš„clash dnsè§„åˆ™è¾ƒä¸ºå¤æ‚ï¼Œä¸€ä¸æ¶ˆæ¯å°±ä¼šæ³„éœ²dnsã€‚\nè¿™ä¹ˆå¤æ‚ä¸ä¼šæ‹–ç´¯é€Ÿåº¦å— ä¸ä¼šï¼Œå› ä¸ºmosdnsé€Ÿåº¦éå¸¸å¿«ï¼Œè€Œä¸”è‡ªå·±æœ‰è‰¯å¥½çš„ç¼“å­˜æœºåˆ¶ã€‚ æˆ‘ä»¬ä½¿ç”¨è¿è¥å•†çš„dnsä»–ä¹Ÿä¼šé€çº§è¯·æ±‚ä¸Šå±‚dns,åªæ˜¯ä¸éœ€è¦æˆ‘ä»¬é…ç½®è€Œå·²ã€‚\nå‡†å¤‡ï¼š 1ã€mosdnså’Œå¯¹åº”çš„geoip.datï¼Œgeosite.dat 2ã€ï¼ˆå¯é€‰ï¼‰cfworkè‡ªå»ºä¸€ä¸ªdoh 3ã€ï¼ˆå¯é€‰ï¼‰AdGuardHomeé¡ºå¸¦å»å¹¿å‘Š\nmosdns å»ºè®®dockerå®‰è£… æ¨è https://hub.docker.com/r/601096721/mosdns\ncfworkè‡ªå»ºdoh å› ä¸ºcfå’ŒgoogleåŒ…æ‹¬å…¶ä»–çŸ¥åå›½å¤–çš„dns,æ— è®ºæ˜¯å¦doh/dotéƒ½è¢«å¹²æ‰°äº†ï¼Œéå¸¸ä¸ç¨³å®šç”šè‡³æŸäº›æ—¶å€™æ— æ³•ä½¿ç”¨ã€‚ è€Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç›´è¿æŸ¥è¯¢ã€‚ æ¨èindex.js https://github.com/tina-hello/doh-cf-workers è®°å¾—ç»‘å®šä¸€ä¸ªè‡ªå·±çš„åŸŸåï¼Œå› ä¸ºcfworké»˜è®¤åˆ†é…çš„åŸŸåæœ¬èº«æ˜¯è¢«å¢™çš„çŠ¶æ€ï¼Œé‚£ä¹ˆä½ è‡ªå·±æ­å»ºçš„åå‘ä»£ç†ä¹Ÿå°±æ— æ„ä¹‰äº†ã€‚ cfworkæ¯ä¸ªè´¦æˆ·æ¯å¤©æœ‰å…è´¹10ä¸‡æ¬¡æŸ¥è¯¢é¢åº¦ï¼Œè‡ªå·±ç”¨è¶³å¤Ÿäº†ã€‚ä¸Šé¢çš„ä»£ç ä¸­æ²¡æœ‰åŒ…å«è·¯ç”±åŠŸèƒ½ï¼Œä½ å¯ä»¥è‡ªå·±é…ç½®ä¸€ä¸‹ï¼Œé˜²æ­¢è¢«ç›—ç”¨ã€‚\nè¿™ä¸ªæ–¹å¼è‡ªå»ºdoh é€Ÿåº¦è‚¯å®šæ˜¯ä¸å¥½çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨clashæˆ–è€…è½¯è·¯ç”±çš„åˆ†æµè§„åˆ™ç›´è¿è¿™ä¸ªåœ°å€ï¼Œæœ¬èº«é€Ÿåº¦å°±ä¸å¿«ï¼Œè€Œä¸”æˆ‘ä»¬çš„è‡ªå»ºdohå®é™…æ˜¯åå‘ä»£ç†äº†ä¸€æ¬¡cfçš„doh,æ‰€ä»¥é€Ÿåº¦æ–¹é¢å°±ä¸ç”¨æƒ³ä¼šå¤šå¿«äº†ã€‚è¿™åªæ˜¯åœ¨æˆ‘ä»¬æ— æ³•ä½¿ç”¨ä»£ç†ï¼Œå¹¶ä¸”éœ€è¦æ­£ç¡®dnsçš„æ—¶å€™æœ€åçš„æ‰‹æ®µã€‚\nå› ä¸ºcfworkåªæ”¯æŒhttp/httpsè¯·æ±‚ï¼Œæ‰€ä»¥ä¸èƒ½æ­å»ºdotåªèƒ½doh,ç†è®ºä¸Šdohå› ä¸ºåŸºäºhttpåè®®éœ€è¦æºå¸¦httpå¤´éƒ¨ä¿¡æ¯ï¼Œæ•°æ®åŒ…å¤§ä¸€äº›ï¼Œé€Ÿåº¦ä¼šæ…¢ä¸€ç‚¹ï¼Œå®é™…ä¸Šä¸¤è€…ä½¿ç”¨ä½“éªŒä¸Šå¹¶æ— å·®åˆ« ä¸Šé¢çš„è„šæœ¬å¯ä»¥é€‚å½“çš„ä¿®æ”¹åç¼€ï¼Œæˆ–è€…åœ¨cfé¢æ¿ä¸­æ·»åŠ è§„åˆ™é˜²æ­¢è¢«åˆ«äººç™½å«–ã€‚jsè¯­æ³•å¾ˆç®€å•ï¼Œè‡ªå·±çœ‹æ³¨é‡Šä¿®æ”¹ä¸€ä¸‹å³å¯ã€‚\nAdGuardHome ä¸ºä»€ä¹ˆè¦AdGuardHome ï¼Ÿ é™¤äº†å»å¹¿å‘Šä¹‹å¤– AdGuardHomeçš„å¹¶å‘dnsæŸ¥è¯¢å¯ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦ã€‚å¦å¤–ddnsçš„åŸŸåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‡å‘å†…ç½‘ip,è¿™æ ·åœ¨æˆ‘ä»¬ipå˜åŒ–åä½†æ˜¯ddnså› ä¸ºå—åˆ°ttlçš„é™åˆ¶ä¸èƒ½é©¬ä¸Šåˆ·æ–°çš„æƒ…å†µä¸‹ä¸ä¼šå½±å“å†…ç½‘ä½¿ç”¨ã€‚ AdGuardHomeçš„é…ç½®è¾ƒä¸ºç®€å• å°±ä¸ç”¨å¤šè¯´äº†ã€‚dnsé‡Œé¢åŠ ä¸€å †å›½å†…çš„dotè¿è¥å•†å³å¯,å‚è€ƒä¸‹é¢çš„ä¸Šæ¸¸ DNS æœåŠ¡å™¨ åˆ†åˆ«é…ç½®çš„é˜¿é‡Œäº‘ 360å’Œè…¾è®¯dnspodçš„dot\n1 2 3 4 5 6 tls://223.5.5.5 tls://223.6.6.6 tls://101.226.4.6 tls://123.125.81.6 tls://1.12.12.12 tls://120.53.53.53 å»ºè®®å…¨éƒ¨ç›´æ¥ç”¨ipèµ°dotæˆ–doh è€Œä¸æ˜¯ç”¨åŸŸå ,è¿™æ ·å¯ä»¥é¿å…Bootstrap dnsé…ç½®é”™è¯¯å¯¼è‡´çš„é—®é¢˜ã€‚ ä½ å¯ä»¥å…ˆç”¨https://ipåœ°å€ è®¿é—®å¯¹åº”çš„dnså¦‚æœæ²¡æœ‰æç¤ºè¯ä¹¦é”™è¯¯ é‚£ä¹ˆä»–å°±æ˜¯æ”¯æŒipç›´è¿dohï¼Œé‚£ä¹Ÿå¯ä»¥ipèµ°dotã€‚ä¹Ÿå¯ä»¥æŸ¥è¯¢å¯¹åº”dnsæœåŠ¡å™¨çš„æ–‡æ¡£ã€‚\nåœ¨çˆ±å¿«å’Œros openwrtä¸‹å¦‚ä½•é…ç½® å»ºè®® mosdnså’ŒAdGuardHomeéƒ½ä¸è¦åŠ«æŒæœ¬åœ°çš„dns.è€Œåœ¨ è·¯ç”±å™¨è®¾ç½®å§mosdnsçš„å†…ç½‘ipæˆ–è€…dockeripä½œä¸ºè·¯ç”±çš„é¦–é€‰dnsã€‚\nçˆ±å¿«3.7.7 ä½“éªŒç‰ˆæœ¬å·²ç»æ”¯æŒ dnsçš„ç¬¬ä¸‰æ–¹ä»£ç†æ¨¡å¼ é…ç½®ä¸»dnsï¼ˆmosdnsï¼‰å’Œä¸‰ä¸ªå¤‡ç”¨dnsï¼ˆå›½å†…å…¬å…±dnsï¼‰ï¼Œè™½ç„¶ç›®å‰æµ‹è¯•å­˜åœ¨é—®é¢˜ï¼Œä½†æ˜¯åç»­ç‰ˆæœ¬åº”è¯¥ä¼šä¿®å¤ã€‚\nopenclashé‡Œé¢æ€ä¹ˆé…ç½® ç›´æ¥å§clashçš„dns æ‰€æœ‰dnså…¨éƒ¨æ›¿æ¢ä¸ºmosdns\nmosdnsé…ç½®æ–‡ä»¶ mosdns ç›¸å½“äºæ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒdnsäº†ã€‚æˆ‘ç›®å‰çš„é…ç½®å¦‚ä¸‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 # æ—¥å¿— log: level: error #æ—¥å¿—çº§åˆ«ã€‚å¯é€‰ \u0026#34;debug\u0026#34; \u0026#34;info\u0026#34; \u0026#34;warn\u0026#34; \u0026#34;error\u0026#34;ã€‚é»˜è®¤ \u0026#34;info\u0026#34; file: \u0026#34;\u0026#34; production: false # api: # http: 127.0.0.1:8888 # include: [] plugins: # forward å¯ä»¥å°†æ‰€æœ‰çš„ upstream å†™ä¸€èµ·ï¼Œsequence é‡ŒæŒ‰éœ€è°ƒç”¨ \u0026#34;$æ’ä»¶tag ä¸Šæ¸¸tag...\u0026#34;ã€‚çœ‹ä¸‹ä¸€æ¡æ³¨é‡Šã€‚ - tag: cache type: cache args: size: 1024 lazy_cache_ttl: 0 # è‡ªå®šä¹‰Hosts - tag: hosts type: hosts args: files: - \u0026#34;./hosts\u0026#34; - tag: upstreams type: forward args: upstreams: - tag: adguardhome addr: udp://10.10.1.3 #ä¸Šæ¸¸æ˜¯å¢ƒå†…dns enable_pipeline: true idle_timeout: 30 insecure_skip_verify: true - tag: adguardhome2 #ä¸Šæ¸¸æ˜¯å¢ƒå¤–dns addr: udp://10.10.1.5 enable_pipeline: true idle_timeout: 30 insecure_skip_verify: true # åé¢çš„ä½œä¸ºå¤‡ç”¨æš‚æ—¶ä¸ä½¿ç”¨,è¿™é‡Œç›´æ¥ä½¿ç”¨ä¸¤ä¸ªadgä½œä¸ºä¸Šæ¸¸ - tag: cf_worker addr: https://xxxxx #è‡ªå·±åœ¨cfworkæ­å»ºçš„doh enable_pipeline: true idle_timeout: 50 insecure_skip_verify: true - tag: cloudflare_tls addr: tls://1.0.0.1 enable_pipeline: true idle_timeout: 50 insecure_skip_verify: true - tag: google_tls addr: tls://8.8.8.8 enable_pipeline: true idle_timeout: 50 insecure_skip_verify: true - tag: dnspod addr: tls://1.12.12.12 enable_pipeline: true idle_timeout: 30 insecure_skip_verify: true - tag: aliyun addr: tls://dns.alidns.com bootstrap: 223.5.5.5 enable_pipeline: true idle_timeout: 30 insecure_skip_verify: true # cnåŸŸåçš„è§„åˆ™ - tag: geosite_cn_seq type: sequence args: - exec: $upstreams adguardhome # æ›¿æ¢ cloudflare çš„ IP æˆè‡ªå·±çš„æœ€ä¼˜ IP çš„è§„åˆ™ # æ²¡æ‰¾åˆ°txtï¼Œä¸ç”¨è¿™æ¡ # - tag: fastest_cf # type: sequence # args: # - matches: resp_ip \u0026amp;./geoip_cloudflare.txt # æ˜¯ä¸æ˜¯ cloudflare çš„ IP # exec: black_hole 1.1.1.1 ::1 # ç”¨ black_hole å¼ºåˆ¶æ¢æˆè¿™äº› IP çš„åº”ç­”ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„ IP åªæ˜¯ç¤ºä¾‹ä¸æ˜¯ cloudflare çš„ã€‚ # è¿œç¨‹åŸŸåçš„è§„åˆ™ - tag: remote_seq type: sequence args: - exec: prefer_ipv4 # å¸Œæœ› remote ä¼˜å…ˆ ipv4. #- exec: $upstreams adguardhome2 cf_worker cloudflare_tls google_tls - exec: $upstreams adguardhome2 # - exec: jump fastest_cf # jump ç›¸å¯¹äºæŠŠ fastest_cf çš„è§„åˆ™é“¾æ’åˆ°æ­¤å¤„ã€‚ # è¿™ä¸ª sequence è½¬å‘è¯·æ±‚åˆ°æœ¬åœ°ï¼Œè¿”å›åªåŒ…å« cn IP çš„åº”ç­”ã€‚(è¿‡æ»¤æ‰é cn çš„åº”ç­”) - tag: local_must_has_cn type: sequence args: #- exec: $upstreams adguardhome dnspod aliyun - exec: $upstreams adguardhome - matches: \u0026#34;!resp_ip \u0026amp;./geoip_cn.txt\u0026#34; exec: drop_resp # å¦‚æœåº”ç­”é‡Œæ²¡æœ‰ cn IPï¼Œä¸¢æ‰ã€‚ # åˆ©ç”¨ fallback æœºåˆ¶æŒ‰ IP åˆ†æµã€‚å¦‚æœ local æœåŠ¡å™¨è¿”å›äº† cn çš„åº”ç­”å°±æ¥å—ï¼Œé cn çš„åº”ç­”ä¼šè¢«ä¸¢å¼ƒï¼Œä½¿ç”¨ remote æœåŠ¡å™¨çš„åº”ç­”ã€‚ - tag: fallback_ip type: fallback args: primary: local_must_has_cn # ç©ºåº”ç­”(æœ¬åœ°æœåŠ¡å™¨è¿”å›äº†écn IPç„¶ååº”ç­”è¢«ä¸¢å¼ƒäº†)è§¦å‘ fallbackã€‚ secondary: remote_seq # fallback åå°±ä¼šä½¿ç”¨ remote çš„åº”ç­”ã€‚ always_standby: true ############################## # é…ç½®ä¸» sequence è§„åˆ™ï¼Œä½œä¸ºæœåŠ¡å™¨çš„å…¥å£ã€‚ - tag: main type: sequence args: - exec: $hosts - exec: query_summary entry #- matches: # - qname \u0026amp;./geosite_category-ads-all.txt #è‡ªå¸¦çš„å¹¿å‘Šè¿‡æ»¤ # exec: reject 0 - exec: $cache - {matches: has_resp, exec: accept} # cache/hosts ç­‰æ’ä»¶ä¸å†â€œå‘½ä¸­è®°å½•è‡ªåŠ¨è·³è¿‡åç»­æ’ä»¶â€ï¼Œéœ€ç”¨æˆ·è‡ªè¡Œåˆ¤æ–­æ˜¯å¦æœ‰åº”ç­”ã€‚ # æ–¹ä¾¿éœ€è¦ ipset/nftables ç”¨æˆ·å®šåˆ¶æµç¨‹ã€‚ # yaml æ”¯æŒè¿™ç§ç®€å†™ã€‚ - matches: - qname \u0026amp;./geosite_cn.txt # cn åŸŸå exec: goto geosite_cn_seq # goto åˆ° local è§„åˆ™ï¼Œä¸åœ¨æ‰§è¡Œåç»­è§„åˆ™ã€‚ - matches: - qname \u0026amp;./geosite_geolocation-!cn.txt # é cn åŸŸå exec: goto remote_seq # goto åˆ° remote è§„åˆ™ã€‚ - exec: $fallback_ip # å‰©ä½™åŸŸåç”¨ ip åˆ†æµã€‚ #### åŠ¨æ€è·¯ç”± + cacheã€‚ # æ–°ç‰ˆçš„cacheåªä¼šå°†å‘½ä¸­çš„åº”ç­”æ”¾åœ¨è¯·æ±‚ï¼Œä¸å†è‡ªåŠ¨ç»ˆæ­¢åç»­è§„åˆ™ã€‚æ‰€ä»¥éœ€è¦åŠ¨æ€è·¯ç”±æ—¶ï¼Œå¯ä»¥å°† # sequence çš„è½¬å‘æ“ä½œç”¨ !has_resp çŸ­è·¯ã€‚åšåˆ°æ¯æ¬¡è¯·æ±‚éƒ½èƒ½åˆ·æ–°è·¯ç”±è¡¨ã€‚ # - tag: s1 # type: sequence # args: # - exec: $cache # - matches: # - \u0026#34;!has_resp\u0026#34; # ä¸Šä¸€æ­¥cacheå‘½ä¸­ç¼“å­˜æœ‰åº”ç­”äº†å°±ä¸è½¬å‘äº†ã€‚ # exec: $forward_remote # - exec: ipset ...... # ipset æ¯æ¬¡è¯·æ±‚éƒ½èƒ½æ‰§è¡Œã€‚ ##### ####### mark ä½¿ç”¨ç¤ºä¾‹ # mark åœ¨ exec å†…æ˜¯æ‰“æ ‡ã€‚åœ¨ matches å†…æ˜¯åŒ¹é…ã€‚ # mark å½“ä½œå¼€å…³çš„ç¤ºä¾‹ã€‚ # - tag: s1 # type: sequence # args: # - exec: mark 1 2 # å…ˆæ‰“æ ‡ã€‚ # - matches: # - mark 1 # exec: $cache # æœ‰ mark 1 ç¼“å­˜ä¼šç”Ÿæ•ˆ # - matches: # - mark 2 # exec: ecs 1.2.3.4 # æœ‰ mark 2 è¯·æ±‚ä¼šè¢«é™„åŠ  ecs # ... # - matches: # - mark 3 # exec: jump fastest_cf # æ²¡ mark 3 ä¸ä¼šæ›¿æ¢ cloudflare ipã€‚ #### æœ€åé…ç½® server........ç•¥ - tag: server type: udp_server # ç›®å‰æœ‰ udp/tcp/http_server args: entry: main listen: 0.0.0.0:53 - tag: server_tcp type: tcp_server args: entry: main listen: 0.0.0.0:53 - tag: \u0026#34;server_http\u0026#34; type: \u0026#34;http_server\u0026#34; args: entries: # []extry - path: /dns-query # æœ¬è·¯å¾„æ‰§è¡Œ exec: main # å¯æ‰§è¡Œæ’ä»¶çš„ tagã€‚ src_ip_header: \u0026#34;X-Forwarded-For\u0026#34; # ä» HTTP å¤´è·å–ç”¨æˆ· IPã€‚ listen: 0.0.0.0:80 # ç›‘å¬åœ°å€ã€‚ cert: \u0026#34;\u0026#34; # ç•™ç©º cert å’Œ key åä¼šç¦ç”¨ TLSã€‚ è¿™é‡Œæ²¡æœ‰é…ç½®è¯ä¹¦ï¼Œå¤–ç½‘ä½¿ç”¨æˆ‘è¿™é‡Œå¦å¤–æœ‰acmeå’Œnginxå¤„ç†https key: \u0026#34;\u0026#34; idle_timeout: 10 # ç©ºè¿æ¥è¶…æ—¶ã€‚å•ä½ç§’ã€‚é»˜è®¤ 30ã€‚ ####### æ‰‹åŠ¨æ›´æ–°mosdnsçš„åˆ†æµæ•°æ® 601096721/mosdnsçš„dockeré•œåƒæ²¡æœ‰æ·»åŠ è®¡åˆ’ä»»åŠ¡ï¼Œåªæœ‰åœ¨æ›´æ–°é•œåƒçš„æ—¶å€™ æ‰ä¼šæ›´æ–°ã€‚ å¯ä»¥åœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ›´æ–°æ•°æ®åº“æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨å®¹å™¨å†…éƒ¨å®‰è£…crond å®šæ—¶æ›´æ–°ã€‚\n1 2 3 4 5 6 7 8 wget https://raw.githubusercontent.com/IceCodeNew/4Share/master/geoip_china/china_ip_list.txt -O /geoip_cn.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/reject-list.txt -O /geosite_category-ads-all.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/proxy-list.txt -O /geosite_geolocation-!cn.txt wget https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/direct-list.txt -O /geosite_cn.txt cp -u /geoip_cn.txt /etc/mosdns/geoip_cn.txt cp -u /geosite_category-ads-all.txt /etc/mosdns/geosite_category-ads-all.txt cp -u /geosite_geolocation-!cn.txt /etc/mosdns/geosite_geolocation-!cn.txt cp -u /geosite_cn.txt /etc/mosdns/geosite_cn.txt è¡¥å…… adguardhome æœ¬èº«å¯ä»¥åˆ©ç”¨è§„åˆ™çš„æ–¹å¼å®ç°åˆ†æµåè®®ã€‚æœ‰ç¬¬ä¸‰æ–¹ä½œè€…çš„è§„åˆ™ï¼Œå®é™…æµ‹è¯•æ•ˆæœä¸å¥½ï¼Œä¸»è¦æ˜¯é€Ÿåº¦ä¸ç†æƒ³ã€‚\nadguardhome æ­å»ºè‡ªå·±çš„ç§æœ‰dohéœ€è¦å¼ºåˆ¶è¯ä¹¦ï¼Œç•¥å¾®ä¸æ–¹ä¾¿ã€‚è€Œmosdns æ€§èƒ½æ›´å¥½ï¼Œä¸”å¯ä»¥ä¸ä½¿ç”¨è¯ä¹¦æ­å»º dns over httpï¼ˆéhttpsï¼‰ï¼Œè€Œåç”¨nginx+acme.shç»Ÿä¸€åä»£åˆ°httpsã€‚ ä½†æ˜¯mosdnsæ²¡æœ‰ç®€å•æ–¹ä¾¿çš„webuiç®¡ç†å·¥å…·ï¼Œå»å¹¿å‘ŠåŠŸèƒ½ä¹Ÿæ²¡æœ‰adguardhomeé‚£ä¹ˆæ–¹ä¾¿ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯å†…å­˜ç‰¹åˆ«ç´§å¼ çš„æƒ…å†µä¸‹ï¼Œmosdns+adguardhomeä¾æ—§æ˜¯æ–°æ‰‹çš„æœ€ä½³æ–¹æ¡ˆã€‚\nadguardhome æœ¬èº«å¤§æ¦‚éœ€è¦ 40-80Må†…å­˜ï¼Œæˆ‘åœ¨ä½¿ç”¨mosdns+åŒadguardhomeçš„æ—¶å€™ï¼Œå¤§æ¦‚éœ€è¦æ¶ˆè€—150-180Må†…å­˜ã€‚\nå¦‚æœå¯¹å¯è§†åŒ–ç®¡ç†æ²¡æœ‰éœ€æ±‚ï¼Œå»ºè®®ç”¨å•mosdnsæ–¹æ¡ˆ https://dev.leiyanhui.com/route/mosdns-all-in-one\n","date":"2023-10-28T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/safe-dns/","title":"å…³äºdnsæ³„éœ²çš„é‚£äº›äº‹æƒ… è·¯ç”±å™¨ mosdnsåˆ†æµ clash"},{"content":"å‰ åŸºäº ztc1997/ikuai-bypass/ äºŒå¼€çš„ ikuai-bypass å·²ç» æµ‹è¯•å®Œæˆï¼Œè¯·é˜…è¯»æœ¬æ–‡ï¼š\nhttps://dev.leiyanhui.com/route/ikuai-bypass-joyanhui/\nä¼˜ç‚¹ å¯ä»¥æ¥å— OpenWrt æ­»æœº/æ•…éšœã€‚å®Œå…¨æ— æ„Ÿ æ·±é€ ç‚¸äº†ä¸ä¼šæœ‰ä»»ä½•å½±å“ OpenWrtå…³é—­ä¹Ÿä¸å½±å“æ­£å¸¸ä¸Šç½‘ã€‚ ä¸æ¯«ä¸å½±å“ipv6,æ— è§†fake-ipæ¨¡å¼å¸¦æ¥çš„ä¸€ç³»åˆ—é—®é¢˜ã€‚ çˆ±å¿«ä¸‹å†…ç½‘è®¾å¤‡åŒä¸€ä¸ªç½‘ç»œå†…ï¼Œæ²¡æœ‰è·¨ä¸‰å±‚é—®é¢˜ã€‚ ä¾æ—§å¯ä»¥åœ¨çˆ±å¿«ä¸Šè®¾ç½®æŸä¸ªæˆ–è€…æŸäº›è®¾å¤‡èµ° OpenWrt ï¼Œæˆ–è€…ä¸æ·±é€ ã€‚ å†…ç½‘æµé‡å’Œå›½å†…æµé‡ä»…ç»è¿‡ä¸€ä¸ªç½‘å…³ï¼Œæ²¡æœ‰ç½‘å…³æŸè€—é—®é¢˜ã€‚ å¯ä»¥æ— æ„Ÿè¦†ç›–ipsecæ‹¨å…¥çš„å¤–ç½‘è®¾å¤‡ã€‚ å›½å†…ç½‘ç«™ç§’å¼€ï¼Œå›½å¤–ç½‘ç«™é€Ÿåº¦ä¹Ÿä¸æ¯”clashå·®ã€‚ opå’Œclashæœ‰é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œå›½å¤–æœªå¢™ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®ã€‚ ä¸ç”¨æ“å¿ƒclashè‡ªå®šä¹‰è§„åˆ™ï¼Œå¯ä»¥ç”¨çˆ±å¿«å®Œæˆå…¨éƒ¨åˆ†æµã€‚ ä¸ç”¨ç»™è®¾å¤‡åˆ†é…ç‹¬ç«‹ç½‘å…³ï¼Œæ‰€æœ‰è®¾å¤‡éƒ½ç”¨çˆ±å¿«ä½œä¸ºç½‘å…³å³å¯ã€‚ ç¼ºç‚¹ å®¶é‡Œæ˜¯å¤šçº¿å®½å¸¦çš„æƒ…å†µï¼Œä¼šç•¥å¾®å¤æ‚ä¸€äº›ï¼Œå•çº¿çš„è¯éå¸¸ç®€å•æ˜äº†ã€‚\næƒ…å†µ ç‰©ç†æœºï¼Œå•ç½‘å¡ä¸»æœºã€‚å®‰è£…pve 10.1.1.5\nå…‰çŒ« å¼€æ¡¥æ¥\npveç‰©ç†æœºå’Œã€å…‰çŒ«ã€ap ä»¥åŠå…¶ä»–è®¾å¤‡éƒ½æ¥å…¥äº¤æ¢æœºå™¨ pve åˆ›å»ºè™šæ‹Ÿæœºå®‰è£…çˆ±å¿« 10.1.1.1 lxc æˆ–è€… docker æˆ–è€… vm è¿è¡Œ openwrt+openclashæˆ–è€…linux+clashæˆ–è€…v2rayç­‰å‡å¯ topå›¾ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ æˆ–è€…æ©å±±å¸–å­\nåŸç† openwrtä½œä¸ºçˆ±å¿«çš„ä¸‹çº§è·¯ç”±å™¨ï¼Œä½†æ˜¯ä½œä¸ºçˆ±å¿«çš„wan2çš„ä¸Šçº§è·¯ç”±å™¨ï¼Œç«¯å£åˆ†æµè§„åˆ™é¿å…ç¯å›é—®é¢˜ã€‚ åˆ©ç”¨çˆ±å¿«çš„æµæ§åˆ†æµåŠŸèƒ½å’Œè‡ªåŠ¨wanæ£€æµ‹åŠŸèƒ½ï¼Œæ ¹æ®ipæˆ–è€…åŸŸååˆ†æµåˆ°openwrtå†å›åˆ°pppoe. çˆ±å¿«é»˜è®¤çš„åˆ†æµä¼˜å…ˆçº§é¡ºåºä¸ºï¼šé™æ€è·¯ç”±\u0026gt;åŸŸååˆ†æµ\u0026gt;ç«¯å£åˆ†æµ\u0026gt;åè®®åˆ†æµ\u0026gt;å¤šçº¿è´Ÿè½½\u0026gt;é»˜è®¤ç½‘å…³ã€‚ æˆ‘ä»¬è¦ç”¨çš„æ˜¯ å¤šçº¿è´Ÿè½½åˆ†æµ å’Œ é»˜è®¤ç½‘å…³åˆ†æµã€‚æ–‡æœ«ä¹Ÿæœ‰æä¾›åŸŸååˆ†æµæ–¹æ³•ã€‚ åˆ©ç”¨pve esxiç­‰è™šæ‹Ÿç½‘å¡å’Œå†…éƒ¨äº¤æ¢æœºåŠŸèƒ½ ä¸å¢åŠ ç‰©ç†è®¾å¤‡çš„æƒ…å†µä¸‹ é«˜æ•ˆè¿æ¥çˆ±å¿«å’ŒOpenWrt. åŸç†å›¾ æ²¡æƒ³åˆ°å¾ˆå¤šäººçœ‹ä¸æ˜ç™½ï¼Œä¹Ÿæœ‰æœ‹å‹æ¥è¯¢é—®ï¼Œæ‰€ä»¥ç®€å•è¯´æ˜å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #çˆ±å¿«ç½‘å£ çˆ±å¿«lan1[10.1.1.1] çˆ±å¿«wan2[192.168.10.2] ==\u0026gt; [lan 192.168.10.1] openwrt/clash [wan 10.1.1.3] ==\u0026gt;çˆ±å¿«==\u0026gt;çˆ±å¿«wan1 çˆ±å¿«wan1 ==\u0026gt; pppoe/å®½å¸¦è¿è¥å•† #åˆ†æµè§„åˆ™ ==\u0026gt; gfwåŸŸå =\u0026gt; å›ºå®šèµ°çˆ±å¿«wan2 [==\u0026gt;openwrt] è®¿é—®è¯·æ±‚ ==\u0026gt; å›½å†…ip =\u0026gt; å›ºå®šèµ°çˆ±å¿«wan1 ==\u0026gt; å…¶ä»–æƒ…å†µä¸”wan2å¯ç”¨ =\u0026gt; çˆ±å¿«wan2 [==\u0026gt;openwrt] ==\u0026gt; å…¶ä»–æƒ…å†µä¸”wan2ä¸å¯ç”¨ =\u0026gt; çˆ±å¿«wan1 ==\u0026gt; æ¥è‡ªopenwrtçš„æµé‡ ==\u0026gt;çˆ±å¿«wan1 #é¿å…å›åˆ°wan2æ­»å¾ªç¯ ==\u0026gt; å…¶ä»–è‡ªå®šä¹‰è§„åˆ™ =\u0026gt; çˆ±å¿«wan1æˆ–è€…wan2è‡ªç”±é…ç½® #dns DNSè¯·æ±‚ ==\u0026gt; çˆ±å¿«DNSåŠ é€Ÿ==\u0026gt;ç¬¬ä¸‰æ–¹ä»£ç†æ¨¡å¼==\u0026gt;mosdnså¯ç”¨ ==\u0026gt;mosdns/adg ==\u0026gt;mosdnsä¸å¯ç”¨ ==\u0026gt; å¤‡ç”¨dnsï¼ˆçˆ±å¿«3.7.7,éœ€è¦20ç§’å·¦å³æ‰èƒ½åˆ‡æ¢ï¼‰ ç½‘å£è®¾ç½® çˆ±å¿« ä¸‰ä¸ªè™šæ‹Ÿç½‘å£\n1 2 3 4 5 6 7 8 lan1 10.1.1.1 wan1 pppoe wan2 IPï¼š192.168.10.2 ç½‘å…³ï¼š192.168.10.1 æ©ç ï¼š255.255.255.0 é»˜è®¤ç½‘å…³ï¼š âˆš è®¾æ­¤æ¡çº¿è·¯ä¸ºé»˜è®¤ç½‘å…³ è‡ªåŠ¨åˆ‡æ¢ï¼š âˆš æ‰çº¿è‡ªåŠ¨åˆ‡æ¢ çº¿è·¯æ£€æµ‹ï¼šHTTP www.google.com æˆ–è€… ping 192.168.10.1 openwrt ä¸¤ä¸ªè™šæ‹Ÿç½‘å£\n1 2 3 4 5 6 7 8 br-lan lan é™æ€ip IPv4 åœ°å€ï¼š192.168.10.1 IPv4 æ©ç ï¼š255.255.255.0 IPv4 ç½‘å…³ ç•™ç©º IPv4 å¹¿æ’­åœ°å€ ç•™ç©º DHCPæœåŠ¡å™¨ âˆš å¿½ç•¥æ­¤æ¥å£ wan eth1 DHCPå®¢æˆ·ç«¯ ï¼ˆå»çˆ±å¿«çš„é™æ€dhcpé‡Œé¢ç»™é…ç½®ä¸º 10.1.1.3ï¼‰ wan6 ä¸ç”¨ç®¡ï¼Œä½ å¼€å¯ipv6 å’Œwané…ç½®ä¸ºDHCPå®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ï¼Œwan6ä¼šè‡ªåŠ¨è·å–ipv6åœ°å€ æ­¤æ—¶ï¼Œç›¸å½“äº openwrtä½œä¸ºçˆ±å¿«çš„ä¸‹çº§è·¯ç”±å™¨ï¼Œä½†æ˜¯ä½œä¸ºçˆ±å¿«çš„wan2çš„ä¸Šçº§è·¯ç”±å™¨ã€‚ä¸‹é¢ä¼šæ·»åŠ ä¸€ä¸ªç«¯å£åˆ†æµè§„åˆ™é¿å…ç¯å›é—®é¢˜ã€‚\nçˆ±å¿«åˆ†æµè§„åˆ™ 1 2 3 4 5 6 è®¿é—®è¯·æ±‚ ==\u0026gt; çˆ±å¿«åˆ¤æ–­è¯·æ±‚ä¸­çš„åŸŸåæˆ–è€…ip å¦‚æœè¯·æ±‚æ˜¯gfwçš„åŸŸå ==\u0026gt; wan2 (æµæ§åˆ†æµ\u0026gt;åˆ†æµè®¾ç½®\u0026gt;åŸŸååˆ†æµ) å¦‚æœè¯·æ±‚çš„ipæ˜¯å›½å†…ip ==\u0026gt; wan1ç›´è¿ (æµæ§åˆ†æµ\u0026gt;åˆ†æµè®¾ç½®\u0026gt;å¤šçº¿è´Ÿè½½) (è‡ªå®šä¹‰è¿è¥å•†æ·»åŠ å›½å†…æ‰€æœ‰ipåœ°å€) å…¶ä»–æƒ…å†µä¸”wan2å¯ç”¨ ==\u0026gt; wan2 ï¼ˆå› ä¸ºä¸Šæ–‡ä¸­å§wan2è®¾ç½®ä¸ºé»˜è®¤äº†ï¼‰ å…¶ä»–æƒ…å†µä¸”wan2ä¸å¯ç”¨ ==\u0026gt; wan1ç›´è¿ å¦‚æœæµé‡æ˜¯æ¥è‡ªopenwrt ==\u0026gt; wan1 (æµæ§åˆ†æµ\u0026gt;åˆ†æµè®¾ç½®\u0026gt;ç«¯å£åˆ†æµ)æŠŠ10.1.1.3(openwrt)å®šå‘åˆ°wan1é¿å…ç¯å› è¾…åŠ©å·¥å…·å’Œå…¶ä»–è¯´æ˜ ztc1997/ikuai-bypass å¯ä»¥è‡ªåŠ¨ç»™çˆ±å¿«æ·»åŠ gwfåŸŸååˆ—è¡¨å’Œå›½å†…ipåœ°å€åˆ—è¡¨ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨æ›´æ–°ã€‚\nåæ–‡ä¸­çš„openwrtå¯ä»¥è¿è¡Œåœ¨kvm docker lxc éƒ½å¯ä»¥æ— å½±å“ï¼Œçˆ±å¿«å†…çš„dockerå’Œkvmä¹Ÿå¯ä»¥ã€‚ è¿™ä¸ªæ–¹æ¡ˆé€‚åˆpve esxi unraid ã€‚ å¦‚æœæ˜¯kvm è¿™ä¸ªæ–¹æ¡ˆä¸­æ‰€æœ‰çš„ç½‘å£éƒ½è¦ç”¨ virtio æ€§èƒ½æ˜¯æœ€å¥½çš„ï¼Œå¯ä»¥æœ€ä½çš„èµ„æºå ç”¨è·‘æ»¡ã€‚\nopenwrt å¯ä»¥ç”¨lxc/docker/kvmè¿è¡Œçš„æ™®é€šlinux+clashæ›¿ä»£ï¼Œå¼€ipv4å’Œipv6è½¬å‘å°±å¥½ ã€‚\nå‡†å¤‡å·¥ä½œ åé¢æ˜¯åŸå§‹è®°å½•\nçˆ±å¿«è®¾å¤‡ æˆ‘è¿™é‡Œæ˜¯pve ç”¨vmè¿è¡Œçš„è®¾å¤‡ã€‚å…ˆæ·»åŠ ä¸¤ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œä¸€ä¸ªåšwanä¸€ä¸ªåšlan, é…ç½®wan1åˆ° eth1 pppoe é…ç½®lan1 åˆ° eth0 ipé…ç½®ä¸º10.1.1.1 é…ç½®dhcp ä¸º 10.1.1.Xæ®µ dnsä¸º10.1.1.1 ï¼Œé…ç½®dns è¾“å…¥ä¸¤ä¸ªå›½å†…æ­£å¸¸çš„dns,å…ˆé…ç½®DNSåŠ é€Ÿæ¨¡å¼ ä¸ºä»£ç†æ¨¡å¼ doh https://doh.pub/dns-query è¿™æ ·æ¥å…¥çˆ±å¿«çš„è®¾å¤‡ å‡å¯æ­£å¸¸ä¸Šç½‘ï¼Œåªæ˜¯ä¸èƒ½æ·±é€ å­¦ä¹ ã€‚ å†æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ å¹¶ä»pveå…³é—­çˆ±å¿«åé‡æ–°æ‰“å¼€,çˆ±å¿«ä¸­å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ª eth2 å¤‡ç”¨\næ·±é€ è®¾å¤‡ å¯ä»¥ç”¨lxc docker æˆ–è€… vm éƒ½å¯ä»¥ çœ‹è‡ªå·±ã€‚ ä¹Ÿå¯ä»¥ç‰©ç†è®¾å¤‡ n1 ä¹‹ç±»çš„ã€‚ æˆ‘è¿™é‡Œå› ä¸ºæ˜¯pve,æ‰€ä»¥ lxc è¿è¡Œäº†ä¸€ä¸ª openwrt+openclash. openwrt éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„openwrtä¸æ˜¯æ—è·¯ç”±æ¨¡å¼ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸¤ä¸ªè™šæ‹Ÿç½‘å¡ ç”¨äºlan(192.168.10.1)å’Œwan(10.1.1.3 ä¹Ÿå¯ä»¥ä»çˆ±å¿«dhcp) æ­£å¸¸lxcæˆ–è€…vmå®‰è£…openwrtã€‚é…ç½®å¥½æ·±é€ ã€‚ ç„¶åæ‰¾ä¸€ä¸ªç”µè„‘æˆ–è€…vm/lxc ipè®¾ç½®ä¸º å’ŒlanåŒä¸€ä¸ªç½‘æ®µçš„ip ç½‘å…³å’Œdnséƒ½é…ç½®ä¸º192.168.10.1. wan å£ä¹Ÿå¯ä»¥é…ç½®ä¸ºdhcp,ç„¶ååœ¨çˆ±å¿«é‡Œç»™ä»–é™æ€åˆ†é…ä¸€ä¸ªä¹Ÿå¯ä»¥ã€‚\næ‰‹åŠ¨ip v4 é…ç½®æ–¹æ³• å…ˆç¡®ä¿å…³é—­çˆ±å¿«å’Œ\nå›½å†…ip v4åœ°å€åˆ—è¡¨ å…ˆçœ‹æ‰‹åŠ¨æ·»åŠ æ–¹æ³•ï¼Œæ–‡æœ«æœ‰è‡ªåŠ¨ç»´æŠ¤æ–¹æ³•ã€‚ https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt å¦‚æœæ²¡æœ‰æ·±é€ ï¼Œå¯ä»¥ç”¨https://ghproxy.com/https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt è¿™ä¸ªåœ°å€æ‰“å¼€ å› ä¸ºçˆ±å¿«ä¸€æ¬¡åªèƒ½è¾“å…¥5000ä¸ªip,ä½†æ˜¯å›½å†…çš„ipåœ°å€æœ‰6000å¤šæ¡ï¼Œæˆ‘ä»¬éœ€è¦å‰5000æ¡å’Œåé¢1000å¤šæ¡åˆ†ä¸¤æ¬¡æ’å…¥ã€‚ æ‰€ä»¥æŠŠä¸Šé¢çš„åœ°å€å¤åˆ¶åˆ°ä¸€ä¸ªæ”¯æŒè¡Œæ•°æ˜¾ç¤ºçš„æ–‡æœ¬ç¼–è¾‘å™¨é‡Œé¢ã€‚å¤‡ç”¨ã€‚\nçˆ±å¿«å†…é…ç½®å›½å†…ipv4 çˆ±å¿« æµæ§åˆ†æµ\u0026gt;å¤šçº¿è´Ÿè½½\u0026gt;è‡ªå®šä¹‰è¿è¥å•†. æ·»åŠ è¿è¥å•† åç§°å«åš å›½å†… ipåœ°å€ç²˜è´´å‰5000æ¡ å¤‡æ³¨å›½å†…1 åŒæ ·åé¢çš„1000å¤šæ¡ ä¹Ÿç²˜è´´è¿›æ¥ åç§°ä¹Ÿæ˜¯å«åšå›½å†… å¤‡æ³¨ å›½å†…2\nåˆ†æµ çˆ±å¿« æµæ§åˆ†æµ\u0026gt;å¤šçº¿è´Ÿè½½ï¼Œç‚¹æ·»åŠ  è´Ÿè½½æ¨¡å¼ï¼šæºIP+ç›®çš„IP+ç›®çš„ç«¯å£ è¿è¥å•† é€‰æ‹©å›½å†… è´Ÿè½½æ¯”ä¾‹ï¼šwan1 1 ç‚¹æ“ä½œåé¢çš„å¼€å¯ã€‚ç„¶åä¿å­˜\nwan2 ç„¶åè¿”å› ç½‘ç»œè®¾ç½® \u0026gt; å†…å¤–ç½‘è®¾ç½® åˆ›å»ºä¸€ä¸ªæ¥å£ wan2 ï¼Œç»‘å®šåˆ° eth2ã€‚ä½¿ç”¨é™æ€ip 192.168.10.2 ï¼Œç½‘å…³ä¸º192.168.10.1ï¼ˆopenwrtçš„åœ°å€ï¼‰\nä¸‹é¢ å‹¾é€‰ è®¾æ­¤æ¡çº¿è·¯ä¸ºé»˜è®¤ç½‘å…³ å’Œ æ‰çº¿è‡ªåŠ¨åˆ‡æ¢ å¯ä»¥è®¾ç½®ä¸º:çº¿è·¯æ£€æµ‹ HTTP æ£€æµ‹åœ°å€ google.com è¿™æ ·å½“ OpenWrt ä¸èƒ½æ­£å¸¸è®¿é—®å›½å¤–ç½‘ï¼Œæµé‡ä¼šåˆ‡æ¢åˆ° wan1 ä¹Ÿå¯ä»¥ çº¿è·¯æ£€æµ‹ï¼šping æ£€æµ‹åœ°å€ 192.168.10.1 ,è¿™ä¸ªåœ°å€æ˜¯ OpenWrt çš„ lan åœ°å€ï¼Œæ£€æŸ¥å®ƒçš„å­˜åœ¨ä¸å¦ï¼Œç”¨æ¥ç¡®å®šæ˜¯ä¸æ˜¯è¦å°†æµé‡åˆ‡æ¢åˆ° wan1 ã€‚\nè®¾ç½®openwrtå‡ºå£å¼ºåˆ¶ä¸ºwan1 ä¸ç„¶ å¤–ç½‘ipä¼šåˆ†æµåˆ°opåˆå†æ¬¡åˆ†æµä¼šwan2åˆ°openwrt æ­»å¾ªç¯ã€‚ çˆ±å¿« æµæ§åˆ†æµ \u0026gt; åˆ†æµè®¾ç½® \u0026gt; ç«¯å£åˆ†æµ æ·»åŠ ä¸€æ¡è§„åˆ™ åˆ†æµæ–¹å¼ï¼šå¤–ç½‘ çº¿è·¯ wan1 IP/åˆ†ç»„ï¼š æ·»åŠ openwrtçš„wanåœ°å€ 10.1.1.3\næ‰“å¼€ipv6 æµ‹è¯•æ²¡æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œçˆ±å¿« ç½‘ç»œè®¾ç½® \u0026gt; IPv6 \u0026gt; IPv6è®¾ç½® wan1 DHCPv6å®¢æˆ·ç«¯(åŠ¨æ€è·å–) å¯ç”¨ openwrt ç³»ç»Ÿ è®¾ç½®å‘å¯¼ å¯ç”¨ ipv6 ï¼ˆæ²¡æœ‰è¿™ä¸ªé€‰é¡¹çš„å›ºä»¶å¯èƒ½éœ€è¦ å¦å¤–é…ç½®ï¼‰\nå…³é—­openwrtçš„dhcp å› ä¸ºæˆ‘è¿™é‡Œ éƒ½æ˜¯è™šæ‹Ÿç½‘å¡ ç†è®ºä¸Šéƒ½ä¼šæ¥å…¥å”¯ä¸€çš„ä¸»äº¤æ¢æœºï¼Œæ‰€ä»¥çˆ±å¿«å’Œopéƒ½å¼€dhcpçš„è¯ï¼Œæœ‰å¯èƒ½ä¼šæœ‰å†²çªã€‚æ‰€ä»¥å…³æ‰openwrtçš„dchp. ç½‘ç»œ æ¥å£ lan å…³é—­ dhcp\nè¿›é˜¶ ipv4 åœ°å€åˆ—è¡¨ https://github.com/17mon/china_ip_list https://github.com/Loyalsoldier/geoip/tree/release/text https://ispip.clang.cn/all_cn.txt\nipv6 åœ°å€åˆ—è¡¨ https://ispip.clang.cn/all_cn_ipv6.txt\nåŸºäºåŸŸåçš„ https://github.com/Loyalsoldier/v2ray-rules-dat/tree/release\ndockerè‡ªåŠ¨æ›´æ–°è§„åˆ™ https://github.com/ztc1997/ikuai-bypass ztc1997å¤§ä½¬çš„dockeræ”¯æŒè‡ªåŠ¨æ›´æ–°ipåˆ—è¡¨å’ŒgfwåŸŸååˆ—è¡¨ã€‚æ”¯æŒçˆ±å¿«å†…dockerè¿è¡Œæˆ–è€…å…¶ä»–èƒ½è®¿é—®çˆ±å¿«é¢æ¿çš„åœ°æ–¹è¿è¡Œã€‚æ”¯æŒå®šæ—¶ä»»åŠ¡ã€‚ é…åˆ¶æ–‡ä»¶ä¼˜åŒ–å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 ## æœ¬æ–‡ä»¶/data/ikuai-bypass/config.yml ## /data/ikuai-bypass/ æ˜ å°„åˆ° /etc/ikuai-bypass ## çˆ±å¿«ç®¡ç†é¡µé¢çš„ URLï¼Œç»“å°¾ä¸è¦åŠ  \u0026#34;/\u0026#34;ï¼Œ ## å¦‚ä¸å¡«å†™ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªæ¥å£çš„ç½‘å…³åœ°å€ä½œä¸ºçˆ±å¿«åœ°å€ï¼Œ ikuai-url: http://10.1.1.1 #çˆ±å¿«åœ°å€ username: admin # çˆ±å¿«ç”¨æˆ·å password: ****** # çˆ±å¿«å¯†ç  cron: 0 4 * * * # æ‰§è¡Œæ›´æ–°çš„å‘¨æœŸ crontab custom-isp: # è‡ªå®šä¹‰è¿è¥å•† - name: å›½å†… # è‡ªå®šä¹‰è¿è¥å•†åç§°cnipå°±ç›´æ¥èµ°wan1 écnipèµ°åœ¨é»˜è®¤å¯ç”¨çš„æƒ…å†µä¸‹èµ°é»˜è®¤å³wan2 ## è‡ªå®šä¹‰è¿è¥å•† cidr åˆ—è¡¨ç½‘å€ï¼Œæ¯è¡Œä¸€ä¸ªï¼Œè¶…è¿‡5000è¡Œä¼šè‡ªåŠ¨åˆ†ä¸ºå¤šä¸ªï¼Œipv6 åœ°å€ä¼šè¢«åˆ é™¤ url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/text/cn.txt ## ä¸‹é¢çš„ip å¯ä»¥åˆ†åˆ«æ·»åŠ åˆ°åˆ°wan2çš„ å¤šçº¿è´Ÿè½½ è§„åˆ™ - name: telegram url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/text/telegram.txt - name: google url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/text/google.txt - name: twitter url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/text/twitter.txt - name: facebook url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/text/facebook.txt stream-domain: # åŸŸååˆ†æµ è¢«å¢™çš„åŸŸå æ— è„‘èµ°wan2 - interface: wan2 # åˆ†æµçº¿è·¯ src-addr: 10.1.1.5-10.1.1.250 # åˆ†æµçš„æºåœ°å€ æˆ‘è¿™è¾¹10.1.1.1æ˜¯çˆ±å¿« 2/4æ˜¯AP 3æ˜¯openwrt ## åŸŸååˆ—è¡¨ç½‘å€ï¼Œæ¯è¡Œä¸€ä¸ªï¼Œè¶…è¿‡1000è¡Œä¼šè‡ªåŠ¨åˆ†ä¸ºå¤šä¸ª url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/gfw.txt - interface: wan2 src-addr: 10.1.1.5-10.1.1.250 url: https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/greatfire.txt è¿™ä¸ªå®¹å™¨åœ¨æ›´æ–°çš„æ—¶å€™åªä¼šåˆ é™¤ å¤‡æ³¨åç§°ä¸ºIKUAI_BYPASSçš„è§„åˆ™ï¼Œè‡ªå·±æ·»åŠ çš„è§„åˆ™ä¸ä¼šæœ‰å½±å“ã€‚\nå»å¹¿å‘Šå’ŒdnsåŠ é€Ÿ adguardhome é…åˆ¶ çˆ±å¿«çš„dnsåŠ é€Ÿå³å¯ã€‚ adg åˆ†æµ https://github.com/mouyase/ChinaListForAdGuardHome/\nä¹Ÿå¯ä»¥ä¸å•ç‹¬åˆ†æµï¼Œç›´æ¥ä¸€è‚¡è„‘æŠŠdnså…¨éƒ¨å†™å…¥ ä¹Ÿå¯ä»¥.\nå¦å¤–æœ€å¥½ç”¨ çˆ±å¿« 3.7.7 ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ä½“éªŒç‰ˆ ikuai9.com:555/1/main/iKuai_x86_beta ç›´æ¥åå°ç›´æ¥ä¸Šä¼ å‡çº§ã€‚3.7.7 çš„ç¬¬ä¸‰æ–¹ä»£ç†åŠ é€Ÿæ¨¡å¼æ”¯æŒè®¾ç½®å¤‡ç”¨dns.å¯ä»¥åœ¨adguardhomeå…³é—­æˆ–è€…å®•æœºä¿è¯æ­£å¸¸ã€‚\nå…³äºipv6 ä¸Šé¢ipv4 æ­£å¸¸åï¼Œopå’Œçˆ±å¿«è¿™è¾¹éƒ½å¯ä»¥æ‰“å¼€ipv6 å¯ä»¥æ­£å¸¸æ”¯æŒã€‚\néƒ¨åˆ†é…ç½®æˆªå›¾ é»˜è®¤ä¸Šä¼ åˆ°imgur è¯·æŒ‚æ·±åº¦å­¦ä¹ å·¥å…·æŸ¥çœ‹ï¼Œä¹Ÿå¯èƒ½å¤±æ•ˆ\nçˆ±å¿« ç½‘ç»œè®¾ç½® \u0026gt; å†…å¤–ç½‘è®¾ç½® ç‚¹å‡»æŸ¥çœ‹imgur\nçˆ±å¿« wan2 è®¾ç½® ç‚¹å‡»æŸ¥çœ‹imgur\nçˆ±å¿« åŸºäºipçš„åˆ†æµè®¾ç½® ç‚¹å‡»æŸ¥çœ‹imgur\nçˆ±å¿« åŸºäºipçš„è‡ªå®šä¹‰è¿è¥å•†çš„è®¾ç½®ï¼Œçº¢æ¡†éƒ¨åˆ†ç”±ztc1997/ikuai-bypassè‡ªåŠ¨ç®¡ç† ç‚¹å‡»æŸ¥çœ‹imgur çˆ±å¿« åŸºäºåŸŸåçš„è®¾ç½® çº¢æ¡†éƒ¨åˆ†ç”±ztc1997/ikuai-bypassè‡ªåŠ¨ç®¡ç† ç‚¹å‡»æŸ¥çœ‹imgur çˆ±å¿« å¼ºåˆ¶openwrtçš„å‡ºå£æµé‡èµ°wan1çš„è®¾ç½® 10.1.1.3æ˜¯çˆ±å¿«é€šè¿‡dhcpç»™openwrtåˆ†é…çš„åŸŸå ç‚¹å‡»æŸ¥çœ‹imgur çˆ±å¿«å†…kvmè¿è¡Œçš„openwrtçš„é…ç½® pve/lxc/dockerè¿è¡Œéƒ½æ˜¯ä¸€æ ·ï¼Œå…³é”®æ˜¯éœ€è¦ä¸¤ä¸ªè™šæ‹Ÿç½‘å£ ç‚¹å‡»æŸ¥çœ‹imgur openwrt ä¸¤ä¸ªç½‘å£çš„è®¾ç½® ç‚¹å‡»æŸ¥çœ‹imgur\né™„lxcçš„openwrté…ç½®æ–‡ä»¶ cat /etc/pve/lxc/103.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 arch: amd64 cores: 12 hostname: op memory: 512 net0: name=eth0,bridge=vmbr0,hwaddr=1A:C2:8D:8D:56:70,type=veth net1: name=eth1,bridge=vmbr0,hwaddr=EA:49:A6:98:4D:59,type=veth ostype: unmanaged rootfs: nvme_btrfs:103/vm-103-disk-0.raw,size=512M swap: 0 lxc.include: /usr/share/lxc/config/openwrt.common.conf lxc.cgroup2.devices.allow: c 108:0 rwm lxc.mount.entry: /dev/ppp dev/ppp none bind,create=file lxc.mount.entry: /dev/net dev/net none bind,create=dir lxc.cap.drop: lxc.cgroup2 é€‚åˆpve7-8ç‰ˆæœ¬ æ—§ç‰ˆæ˜¯ lxc.cgroup\n/dev/ppp å› ä¸ºè¿™é‡Œopä¸éœ€è¦æ‹¨å·æ‰€ä»¥éå¿…éœ€ /dev/net æ˜¯ clash-tunè¦ç”¨çš„\né™„ikuaiçš„kvmé…ç½®æ–‡ä»¶ cat /etc/pve/qemu-server/101.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 agent: 1 boot: order=scsi0;ide2;net0 cores: 12 cpu: host ide2: nvme_btrfs:iso/iKuai8_x64_3.7.6_Build202309081651.iso,media=cdrom,size=52604K machine: q35 memory: 4096 meta: creation-qemu=8.0.2,ctime=1698058265 name: ikuai net0: virtio=F6:9E:AC:C8:3B:64,bridge=vmbr0,firewall=1 net1: virtio=0A:58:E2:6F:14:21,bridge=vmbr0,firewall=1 net2: virtio=DA:36:A5:E6:93:9B,bridge=vmbr0,firewall=1 numa: 0 onboot: 1 ostype: l26 scsi0: nvme_btrfs:101/vm-101-disk-0.qcow2,cache=unsafe,iothread=1,size=4G scsihw: virtio-scsi-single smbios1: uuid=cd6edce3-e6d4-44e2-abd7-f6907dcaf34c sockets: 1 vmgenid: 42a99cea-820b-48fe-9ef5-2989a97e9758 å¯ä»¥ç”¨3.7.6å®‰è£…åå‡çº§åˆ°3.7.7\nä¸‰ä¸ªè™šæ‹Ÿç½‘å£\næœ¬æ–‡å¦å¤–å‘å¸ƒåˆ°æ©å±±å¸– https://www.right.com.cn/forum/thread-8310402-1-1.html\næœ¬æ–‡å‚è€ƒ https://www.right.com.cn/forum/thread-8252571-1-1.html\n","date":"2023-10-23T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/route/ikuai-bypass-gfw/","title":"çˆ±å¿«æ— æ„Ÿåˆ†æµ"},{"content":"monit åŸºæœ¬å‘½ä»¤ 1 2 3 4 monit # é»˜è®¤æ–‡ä»¶å¯åŠ¨ /etc/monit/monitrc monit -c /XXX/_config/monit/monitrc # ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨ monit reload -c /XXX/_config/monit/monitrc #é‡è½½ monit procmatch \u0026#34;/usr/bin/ddns-go\u0026#34; #æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼ é€‚åˆ æ²¡æœ‰pidçš„è¿›ç¨‹ monit åŸºæœ¬é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 set daemon 5 # å¤šä¹…æ£€æµ‹ä¸€æ¬¡ # with start delay 240 # ç¬¬ä¸€æ¬¡æ£€æŸ¥ å»¶è¿Ÿ å¤šä¹…ï¼Œé»˜è®¤å¯åŠ¨åå°±æ£€æŸ¥ #set log /var/log/monit.log set log /XXX/log/monit.log # set pidfile /var/run/monit.pid # æ²¡å¤ªå¤§å¿…è¦ set pidfile /XXX/pid/monit.pid # set idfile /var/.monit.id è®¾ç½®Monitå®ä¾‹çš„idæ–‡ä»¶è·¯å¾„ã€‚idæ–‡ä»¶è®°å½•äº†Monitå®ä¾‹çš„å”¯ä¸€IDï¼ˆæ ‡è¯†ï¼‰ï¼Œidåœ¨ç¬¬ä¸€æ¬¡Monitå¯åŠ¨æ—¶ç”Ÿæˆå¹¶å­˜å‚¨ã€‚é»˜# è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶æ”¾ç½®åœ¨$HOME/.monit.id #set idfile /var/lib/monit/id #set idfile /monit/id set idfile /XXX/pid/monit.idfile # set statefile /var/.monit.state #ä¿å­˜ç›‘è§†çŠ¶æ€çš„MonitçŠ¶æ€æ–‡ä»¶çš„ä½ç½® #set statefile /var/lib/monit/state set statefile /XXX/pid/monit.state set eventqueue basedir /XXX/pid/monit.events # è®¾ç½®å­˜å‚¨äº‹ä»¶çš„åŸºæœ¬ç›®å½• slots 100 # å¯é€‰æ‹©é™åˆ¶é˜Ÿåˆ—å¤§å° set httpd port 8022 and #è¿™é‡Œå…è®¸å…¬ç½‘è®¿é—® ä¸ç»‘å®šip with ssl { pemfile:/XXX/my_ssl/domain_aio.pem # äºŒåˆä¸€è¯ä¹¦æ–‡ä»¶ selfsigned: allow #å…è®¸è‡ªç­¾å } allow ç”¨æˆ·å:å¯†ç  include /XXX/_config/monit/include/*.conf #åŒ…å«æ–‡ä»¶ å¸¸ç”¨é…ç½® å‡ ä¸ªæ³¨æ„ç‚¹ å®ˆæŠ¤è¿›ç¨‹ ä¼˜å…ˆä½¿ç”¨pidï¼Œå…¶æ¬¡å†é€‰æ‹© matching è¿›ç¨‹åç§° å¯åŠ¨å’Œå…³é—­è¿›ç¨‹ä¼˜å…ˆä½¿ç”¨/etc/init.d/ monitrc æ–‡ä»¶ æƒé™å¿…é¡»æ˜¯700 includeçš„æ–‡ä»¶æƒé™æ— æ‰€è°“ æ§åˆ¶sshd 1 2 3 4 5 6 7 check process sshd with pidfile /run/sshd.pid start program = \u0026#34;/etc/init.d/ssh start\u0026#34; with timeout 120 seconds stop program = \u0026#34;/usr/bin/killall sshd\u0026#34; with timeout 120 seconds ---- æˆ–è€… mkdir -p /run/sshd å- --------- check process sshd with matching \u0026#34;/usr/sbin/sshd\u0026#34; if does not exist then exec \u0026#34;/usr/sbin/sshd\u0026#34; stop program = \u0026#34;/usr/bin/killall sshd\u0026#34; with timeout 120 seconds æ³¨æ„ /etc/init.d/ssh stop æ— æ³•å½»åº•å…³é—­sshd\næ§åˆ¶crontab 1 2 3 check process crontab with pidfile /var/run/crond.pid start program = \u0026#34;/etc/init.d/cron start\u0026#34; with timeout 120 seconds stop program = \u0026#34;/etc/init.d/cron stop\u0026#34; with timeout 120 seconds æ³¨æ„crontablæ˜¯ä½¿ç”¨ /usr/sbin/cron è€Œä¸æ˜¯ /usr/bin/crontab\næ§åˆ¶ddns-go ç­‰æ²¡æœ‰pidçš„ 1 2 3 check process ddns-go with matching \u0026#34;ddns-go\u0026#34; if does not exist then exec \u0026#34;/usr/bin/ddns-go\u0026#34; stop program = \u0026#34;/usr/bin/killall ddns-go\u0026#34; with timeout 120 seconds æŒ‡å®šç”¨æˆ·è¿è¡Œredis 1 2 3 4 5 check process redis6001 with pidfile /XXX/pid/redis6001.pid start program = \u0026#34;/bin/su - userRedis -c \u0026#39;/usr/bin/redis-server /XXX/_config/redis/redis6001.conf \u0026amp;\u0026#39; \u0026#34; with timeout 120 seconds stop program = \u0026#34;/bin/su - userRedis -c \u0026#39;/usr/bin/redis-cli -p 6001 -a å¯†ç  -h localhost SHUTDOWN \u0026amp; /usr/bin/sleep 5 \u0026amp;\u0026amp;/usr/bin/kill -9 $( lsof -t -i:6001)\u0026#39;\u0026#34; with timeout 120 seconds æ§åˆ¶rcloneæŒ‚è½½ 1 2 3 4 5 CHECK FILESYSTEM rclone_dev_log PATH /localPath start program = \u0026#34;/usr/bin/rclone mount --allow-other --daemon oss-qd:xxx/ /localPath/ --config /XXX/_config/rclone.conf\u0026#34; with timeout 120 seconds stop program = \u0026#34;/usr/bin/fusermount -u /localPath \u0026#34; with timeout 120 seconds å¤šç”¨æˆ·ç¯å¢ƒè¿™é‡Œ æ³¨æ„ \u0026ndash;allow-other å‚æ•° ä¸ç„¶å…¶ä»–ç”¨æˆ·æ— æ³•è®¿é—®\n","date":"2023-10-21T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/monit-exp/","title":"monitå¸¸ç”¨ä¾‹å­å’Œå‘"},{"content":"xfce xfce4 æ¯”è¾ƒç¨³ï¼Œå¼€ç®±å³ç”¨ï¼Œè¯¥æœ‰çš„åŠŸèƒ½éƒ½æœ‰ã€‚ ç¾åŒ–æ¯”è¾ƒç®€å•ï¼Œå¦‚æœä¸æ˜¯éè¦ç”¨waylandçš„ å¾ˆä¸é”™ã€‚ xfce4é»˜è®¤ç»™ä½ åˆ›å»ºçš„é¢æ¿2å®é™…æ˜¯ä¸€ä¸ªå¯åŠ¨å™¨è€Œä¸æ˜¯dockï¼Œéœ€è¦è‡ªå·±å¦å¤–å¤„ç†ä¸€ä¸‹ã€‚\nkde å’Œgnome kdeå’Œgnome è‡ªå®šä¹‰åŠŸèƒ½å¤æ‚ï¼Œè€Œä¸”å¾ˆå¤šæ— æ³•å®ç°ã€‚ gnomeå¤šæ•°è‡ªå®šä¹‰åŠŸèƒ½éœ€è¦æ’ä»¶æ¥ï¼Œä½†æ˜¯éšç€ç‰ˆæœ¬æ›´æ–°å¾ˆå¤šæ’ä»¶ä¼šå¤±æ•ˆã€‚å³ä¾¿å¦‚æ­¤gnomeçš„ä¸ªæ€§åŒ–å’Œè‡ªå®šä¹‰åŠŸèƒ½è¿˜æ˜¯éå¸¸æœ‰é™ï¼Œè€Œä¸”éƒ¨åˆ†åŠŸèƒ½å®ç°èµ·æ¥éå¸¸å¤æ‚ã€‚ kdeè‡ªå®šä¹‰åŠŸèƒ½è¦æ¯”gnomeå¤šå¾ˆå¤šï¼Œä½†æ˜¯å¾ˆå¤šéƒ½æ˜¯é¢æ¿é…ç½®ï¼Œç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶éœ€è¦ç†Ÿæ‚‰ä»–çš„é…ç½®é¡¹ï¼Œå¤ªå¤šå¤ªå¤æ‚ï¼Œæ²¡æœ‰å¿…è¦æµªè´¹ç²¾ç¥ã€‚\ndwm å’Œ i3 è¿™ä¸¤ä¸ªæˆ‘é•¿æœŸä½¿ç”¨çš„æ¡Œé¢ï¼Œdwmå…¥å‘ï¼Œéšåå‡ ä¸ªæœˆåå°±è½¬å…¥i3 å¹¶é•¿æœŸä½¿ç”¨ã€‚ dwmé™¤äº†ä¿®æ”¹é…ç½®éœ€è¦é‡æ–°ç¼–è¯‘ä¹‹å¤–ï¼Œä¹Ÿå°±åªæœ‰åŸºç¡€çš„ä¸€äº›åŠŸèƒ½ã€‚ç›¸å¯¹æ¥è¯´i3çš„åŠŸèƒ½æ›´åŠ å®Œå–„ã€‚ è¿™ä¸¤ä¸ªæ¡Œé¢ æ€§èƒ½éƒ½éå¸¸å¥½ï¼Œåœ¨ä½é…æœºå™¨ä¸Šç›¸åº”é€Ÿåº¦ä¹Ÿéå¸¸æµç•…ï¼Œåœ¨xrdpè¿œç¨‹ç¯å¢ƒä¸‹å·¥ä½œä¹Ÿè‰¯å¥½ã€‚\nwayfire ç›®å‰è¿˜æ˜¯åˆçº§é˜¶æ®µï¼ŒæŠ˜è…¾å¹¶ä½¿ç”¨è¿‡ä¸€æ®µæ—¶é—´ï¼Œå¾ˆå¤šå¸¸è§„çª—å£ç®¡ç†çš„çƒ­é”®å°šä¸æ”¯æŒã€‚è€Œä¸”é‡åˆ°å‡ æ¬¡æ•´ä¸ªæ¡Œé¢é—ªæ‰å›é€€åˆ°ttyçš„æƒ…å†µã€‚ å¹³é“ºæ¨¡å¼ä¸‹ å¾ˆå¤šå¸¸ç”¨çƒ­é”®ä¸æ”¯æŒï¼Œä¹Ÿæ— æ³•è‡ªè¡Œé…ç½®ã€‚ ä¸è¿‡waybarç¡®å®ä¸é”™ã€‚ å¤šå±å¹•ç®¡ç†æœ‰ä¸€ç‚¹é—®é¢˜ã€‚\nopenbox å †å æ¡Œé¢çš„è½»é‡é€‰æ‹©ï¼Œéœ€è¦è‡ªå·±ç®€å•é…ç½®ä¸€ä¸‹çƒ­é”®å’Œå³é”®èœå•ã€‚å¹¶é…åˆ tin2 æˆ–è€…plankä½¿ç”¨ã€‚ ä½œä¸ºå †å æ¡Œé¢ï¼Œå¤Ÿç”¨ã€‚ä½œä¸ºå¹³é“ºæ¡Œé¢ä½¿ç”¨çš„è¯éå¸¸ä¸æ–¹ä¾¿ã€‚\nawesome ç›®å‰ä½¿ç”¨çš„ã€‚ awesome è¿˜æ˜¯æ¯”è¾ƒæ¨èçš„ï¼Œä»–æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹\nä¼˜ç‚¹ å¼€ç®±å³ç”¨ å¹¶ä¸”åŒæ—¶æ”¯æŒå¹³é“ºå’Œå †å  é»˜è®¤é…ç½®æ–‡ä»¶å’Œå®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸°å¯Œçš„å®ä¾‹ï¼Œåªè¦æœ‰ç¼–ç¨‹åŸºç¡€ä¸éœ€è¦ä¼šluaè¯­è¨€å°±å¯ä»¥è½»æ¾ä¸ªæ€§åŒ–ã€‚ å› ä¸ºåŸºäºluaçš„é…ç½®ä¸‹æ‰€ä»¥è¿›é˜¶ä½¿ç”¨åŠŸèƒ½æ¯”i3ä¸°å¯Œå¾ˆå¤š å ªç§°ç‰›é€¼ã€‚ å’Œi3 ã€dwm ä¸€æ ·çš„ç¨³å®šæ€§å…¼å®¹æ€§ åœ¨ä½é…ç”µè„‘ä¸Šå·¥ä½œè‰¯å¥½ åœ¨xrdpå’Œvncæ¨¡å¼ä¸‹ åŒæ ·ååº”é€Ÿåº¦å¾ˆå¿« å¯ä»¥å•ç‹¬æŸä¸€ä¸ªå±å¹•ä½¿ç”¨æµ®åŠ¨çª—å£ ç½—åˆ—å‡ ä¸ªluaé…ç½®å¯ä»¥å®ç°çš„ä¸€äº›i3å’Œå…¶ä»–è½»é‡çº§æ¡Œé¢æ— æ³•å¾ˆä¼˜é›…å®ç°çš„åŠŸèƒ½ã€‚ å¯ä»¥ç”¨ popup å’Œ tasklist ä¸¤ä¸ªç»„ä»¶ å®ç° alt+tab çš„åŠŸèƒ½ ï¼Œè€Œi3ä¸‹ä¸€èˆ¬æ˜¯ä½¿ç”¨rofiæ¥å®ç°ã€‚è‡ªå·±å®ç°çš„ä¼šæ›´åŠ çµæ´»ã€‚ çª—å£çš„rules æ§åˆ¶è§„åˆ™å¯ä»¥æ›´ç²¾ç»†ï¼Œç”šè‡³å¯ä»¥ç²¾ç¡®åˆ°æŸä¸€ä¸ªåº”ç”¨çš„æŸä¸€ä¸ªå¯¹è¯æ¡†ã€è®¾ç½®æ¡†ã€‚å½“ç„¶i3 æ”¯æŒ åº”ç”¨é»˜è®¤åœ¨å›ºå®šçš„æ¡Œé¢/æ˜¾ç¤ºå™¨ éƒ½æ˜¯æ”¯æŒçš„ã€‚ å› ä¸ºluaæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è¯­è¨€ï¼Œæ‰€ä»¥å¯ä»¥å®ç°ä¸€ä¸ªä¸ä¾èµ–python è·å–å…¶ä»–è¯­è¨€çš„ çº¯luaå®ç°çš„ä¸€äº›å°æ’ä»¶åˆ°awesome åŒæ ·ç»„ä»¶ç»„åˆçš„åŠŸèƒ½ï¼Œå¯ä»¥å®ç°æ¯”polybaræ›´åŠ ä¸°å¯Œå’Œç¾è§‚çš„bar å¤šä¸ªèœå•çš„ç»„åˆ ä¼šæ›´åŠ çµæ´» æ•´ä¸ªæ¡Œé¢åŠŸèƒ½ï¼Œå¯ä»¥åªéœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆrc.luaï¼‰ä¸éœ€è¦å…¶ä»–ä»»ä½•ä¾èµ–ã€‚ ç¼ºç‚¹ åŸºäºluaçš„é…ç½®æ–‡ä»¶ï¼Œå¾ˆå¤šå¹³é“ºæ¡Œé¢å…šå¤šæ•°æ˜¯é€‰çš„i3 ä¸­æ–‡èµ„æ–™è¾ƒå°‘ ä¼šåŠé€€å¾ˆå¤šäººã€‚ x11è½¬å‘åˆ°æœ¬åœ°çš„çª—å£åœ¨å¹³é“ºæ¨¡å¼ä¸‹ ä¿®æ”¹çª—å£å¤§å° ä¼šæœ‰ä¸€ç‚¹æ‹–å½±ã€‚ æˆ‘çš„awesomeé…ç½® å¯èƒ½æœ‰ä¸€å®šçš„æ»åæ€§ï¼Œæœ€æ–°çš„å¯ä»¥æŸ¥çœ‹ https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 799 800 801 802 803 804 805 806 807 808 809 810 811 812 813 814 815 816 817 818 819 820 821 822 823 824 825 826 827 828 829 830 831 832 833 834 835 836 837 838 839 840 841 842 843 844 845 846 847 848 849 850 851 852 853 854 855 856 857 858 859 860 861 862 863 864 865 866 867 868 869 870 871 872 873 874 875 876 877 878 879 880 881 882 883 884 -- If LuaRocks is installed, make sure that packages installed through it are -- found (e.g. lgi). If LuaRocks is not installed, do nothing. pcall(require, \u0026#34;luarocks.loader\u0026#34;) -- Standard awesome library local gears = require(\u0026#34;gears\u0026#34;) local awful = require(\u0026#34;awful\u0026#34;) require(\u0026#34;awful.autofocus\u0026#34;) -- Widget and layout library local wibox = require(\u0026#34;wibox\u0026#34;) -- Theme handling library local beautiful = require(\u0026#34;beautiful\u0026#34;) -- Notification library local naughty = require(\u0026#34;naughty\u0026#34;) local menubar = require(\u0026#34;menubar\u0026#34;) local hotkeys_popup = require(\u0026#34;awful.hotkeys_popup\u0026#34;) -- Enable hotkeys help widget for VIM and other apps -- when client with a matching name is opened: require(\u0026#34;awful.hotkeys_popup.keys\u0026#34;) -- Load Debian menu entries local debian = require(\u0026#34;debian.menu\u0026#34;) local has_fdo, freedesktop = pcall(require, \u0026#34;freedesktop\u0026#34;) -- è·Ÿéšå¯åŠ¨ local function run_once(cmd_arr) for _, cmd in ipairs(cmd_arr) do awful.spawn.with_shell(string.format(\u0026#34;pgrep -u $USER -fx \u0026#39;%s\u0026#39; \u0026gt; /dev/null || (%s)\u0026#34;, cmd, cmd)) end end -- éƒ¨åˆ† é€æ˜ run_once({\u0026#34;compton\u0026#34;}) -- ç½‘ç»œ run_once({\u0026#34;nm-tray\u0026#34;}) -- plank å¦‚æœåœ¨å·¦å³ä¾§é¢ ä¼šé®æŒ¡ baréƒ¨åˆ†åŒºåŸŸå¯¼è‡´æ— æ³•ç‚¹å‡»ï¼Œcairo-dockä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ --run_once({ \u0026#34;plank\u0026#34; }) -- tint2 æ²¡æ„ä¹‰ï¼Œä¸å¦‚é…ç½®ä¸€ä¸‹ awful.widget.tasklist --run_once({\u0026#34;tint2\u0026#34;}) -- éšæœºå£çº¸ run_once({\u0026#34;/usr/bin/feh --randomize --bg-fill ~/bg/* \u0026#34;}) --awful.spawn.with_shell(\u0026#34;\u0026#34;) --awful.spawn.with_shell(\u0026#34;sh .config/polybar/polybar_run.sh\u0026#34;) -- {{{ Error handling -- Check if awesome encountered an error during startup and fell back to -- another config (This code will only ever execute for the fallback config) if awesome.startup_errors then naughty.notify({preset = naughty.config.presets.critical, title = \u0026#34;Oops, there were errors during startup!\u0026#34;, text = awesome.startup_errors}) end -- Handle runtime errors after startup do local in_error = false awesome.connect_signal(\u0026#34;debug::error\u0026#34;, function (err) -- Make sure we don\u0026#39;t go into an endless error loop if in_error then return end in_error = true naughty.notify({preset = naughty.config.presets.critical, title = \u0026#34;Oops, an error happened!\u0026#34;, text = tostring(err)}) in_error = false end) end -- }}} -- {{{ Variable definitions -- Themes define colours, icons, font and wallpapers. å£çº¸ å’Œä¸»é¢˜ç­‰ -- ls /usr/share/awesome/themes default gtk sky xresources zenburn -- beautiful.init(gears.filesystem.get_themes_dir() .. \u0026#34;default/theme.lua\u0026#34;) beautiful.init(string.format(\u0026#34;%s/.config/awesome/themes/my-zenburn/theme.lua\u0026#34;, os.getenv(\u0026#34;HOME\u0026#34;))) -- This is used later as the default terminal and editor to run. terminal = \u0026#34;x-terminal-emulator\u0026#34; editor = os.getenv(\u0026#34;EDITOR\u0026#34;) or \u0026#34;editor\u0026#34; editor_cmd = terminal .. \u0026#34; -e \u0026#34; .. editor -- Default modkey. -- Usually, Mod4 is the key with a logo between Control and Alt. -- If you do not like this or do not have such a key, -- I suggest you to remap Mod4 to another key using xmodmap or other tools. -- However, you can use another modifier like Mod1, but it may interact with others. modkey = \u0026#34;Mod4\u0026#34; -- å¯ç”¨å¸ƒå±€ awful.layout.layouts = { awful.layout.suit.tile, -- å¸ƒå±€ç±»ä¼¼ï¼š å·¦å³ å£ä¸‰ awful.layout.suit.floating, --æµ®åŠ¨ awful.layout.suit.corner.nw, -- ä¸»çª— çš„ å³ä¾§å’Œä¸‹éƒ¨ ç¯ç»•å°çª— awful.layout.suit.magnifier, -- ä¸»çª—å£ å›ºå®šåœ¨å±å¹•ä¸­å¤® å…¶ä»–çª—å£ æ¨ªå‘å¹³é“ºåˆ°èƒŒæ™¯ --[[ awful.layout.suit.tile.left, -- å·¦å³ ä¸‰å£ awful.layout.suit.spiral,-- å¤æ‚å¸ƒå±€ å·¦ä¾§å¤§ å³ä¸Š 1/4 å³ä¸‹ Nå£ awful.layout.suit.spiral.dwindle, -- å¤æ‚å¸ƒå±€ å·¦ä¾§å¤§ å³ä¸Š 1/4 å³ä¸‹ å£N awful.layout.suit.tile.bottom, -- ä¸Šä¸‹ å£ ä¸‰ awful.layout.suit.tile.top, -- ä¸Šä¸‹ ä¸‰å£ awful.layout.suit.fair, -- å·¦å³ ä¸‰äºŒ å¸ƒå±€ awful.layout.suit.fair.horizontal, --ä¸Šä¸‹ ä¸‰äºŒ å¸ƒå±€ awful.layout.suit.max, awful.layout.suit.max.fullscreen, -- æ´»åŠ¨çª—å£å…¨å± awful.layout.suit.corner.ne, - ä¸»çª— çš„ å·¦ä¾§ä¾§å’Œä¸‹éƒ¨ ç¯ç»•å°çª— awful.layout.suit.corner.sw, -- ä¸»çª— çš„ å³ä¾§å’Œé¡¶éƒ¨ ç¯ç»•å°çª— awful.layout.suit.corner.se, - ä¸»çª— çš„ å·¦ä¾§ä¾§å’Œä¸Šéƒ¨ ç¯ç»•å°çª— --]] } -- }}} -- {{{ Menu -- Create a launcher widget and a main menu myawesomemenu = { {\u0026#34;æŸ¥çœ‹çƒ­é”®\u0026#34;, function() hotkeys_popup.show_help(nil, awful.screen.focused()) end}, {\u0026#34;æŸ¥çœ‹æ‰‹å†Œ\u0026#34;, terminal .. \u0026#34; -e man awesome\u0026#34;}, -- { \u0026#34;éšå³å£çº¸\u0026#34;, awful.spawn.with_shell(\u0026#34;/usr/bin/feh --randomize --bg-fill ~/bg/\u0026#34;)}, {\u0026#34;éšæœºå£çº¸\u0026#34;, function() awful.spawn.with_shell(\u0026#34;/usr/bin/feh --randomize --bg-fill ~/bg/*\u0026#34;) end}, {\u0026#34;ç¼–è¾‘é…ç½®\u0026#34;, editor_cmd .. \u0026#34; \u0026#34; .. awesome.conffile}, {\u0026#34;é‡å¯as\u0026#34;, awesome.restart}, {\u0026#34;é€€å‡ºæ¡Œé¢\u0026#34;, function() awesome.quit() end}, } local menu_awesome = {\u0026#34;awesome\u0026#34;, myawesomemenu, beautiful.awesome_icon} local menu_terminal = {\u0026#34;open terminal\u0026#34;, terminal} local menu_alacritty = {\u0026#34;æ‰“å¼€ alacritty\u0026#34;, \u0026#34;alacritty\u0026#34;} local menu_exitmenu = {\u0026#34;exit menu(Esc)\u0026#34;, \u0026#34;\u0026#34;} if has_fdo then mymainmenu = freedesktop.menu.build({ before = {menu_awesome}, after = {menu_terminal, menu_alacritty, menu_exitmenu}}) else mymainmenu = awful.menu({ items = { menu_awesome, {\u0026#34;Debian\u0026#34;, debian.menu.Debian_menu.Debian}, menu_terminal, menu_alacritty, menu_exitmenu }}) end mylauncher = awful.widget.launcher({image = beautiful.awesome_icon, menu = mymainmenu}) -- Menubar configuration menubar.utils.terminal = terminal -- Set the terminal for applications that require it -- }}} -- Keyboard map indicator and switcher mykeyboardlayout = awful.widget.keyboardlayout() -- {{{ Wibar -- Create a textclock widget --mytextclock = wibox.widget.textclock() mytextclock = wibox.widget.textclock(\u0026#39;%H:%M\u0026#39;) -- åªè¦æ—¶é—´ ä¸è¦æ—¥æœŸ -- Create a wibox for each screen and add it local taglist_buttons = gears.table.join( awful.button({}, 1, function(t) t:view_only() end), awful.button({modkey}, 1, function(t) if client.focus then client.focus:move_to_tag(t) end end), awful.button({}, 3, awful.tag.viewtoggle), awful.button({modkey}, 3, function(t) if client.focus then client.focus:toggle_tag(t) end end), awful.button({}, 4, function(t) awful.tag.viewnext(t.screen) end), awful.button({}, 5, function(t) awful.tag.viewprev(t.screen) end)) local function set_wallpaper(s) -- Wallpaper if beautiful.wallpaper then local wallpaper = beautiful.wallpaper -- If wallpaper is a function, call it with the screen if type(wallpaper) == \u0026#34;function\u0026#34; then wallpaper = wallpaper(s) end gears.wallpaper.maximized(wallpaper, s, true) end end -- Re-set wallpaper when a screen\u0026#39;s geometry changes (e.g. different resolution) screen.connect_signal(\u0026#34;property::geometry\u0026#34;, set_wallpaper) awful.screen.connect_for_each_screen(function(s) -- Wallpaper set_wallpaper(s) -- Each screen has its own tag table. awful.tag({\u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34;, \u0026#34;5\u0026#34;, \u0026#34;6\u0026#34;, \u0026#34;7\u0026#34;, \u0026#34;8\u0026#34;, \u0026#34;9\u0026#34;}, s, awful.layout.layouts[1]) -- Create a promptbox for each screen s.mypromptbox = awful.widget.prompt() -- Create an imagebox widget which will contain an icon indicating which layout we\u0026#39;re using. -- We need one layoutbox per screen. s.mylayoutbox = awful.widget.layoutbox(s) s.mylayoutbox:buttons(gears.table.join( awful.button({}, 1, function () awful.layout.inc(1) end), awful.button({}, 3, function () awful.layout.inc(-1) end), awful.button({}, 4, function () awful.layout.inc(1) end), awful.button({}, 5, function () awful.layout.inc(-1) end))) s.mylayoutbox.forced_height = 18 s.mylayoutbox.forced_width = 18 s.mylayoutbox.opacity = 0.5 local mylayoutbox = wibox.container.margin(s.mylayoutbox, 0, 0, 2, 0) -- è®¾ç½®å®¹å™¨çš„è¾¹è· -- Create a taglist widget s.mytaglist = awful.widget.taglist { screen = s, filter = awful.widget.taglist.filter.all, buttons = taglist_buttons } --[[ local tasklist_buttons = gears.table.join( awful.button({}, 1, function (c) -- å·¦é”® é»˜è®¤æ˜¯ å¦‚æœæ˜¯ç„¦ç‚¹é‚£ä¹ˆæœ€å°åŒ– å¦åˆ™åˆ‡æ¢ä¸ºç„¦ç‚¹ --if c == client.focus then -- å¦‚æœæ˜¯ç„¦ç‚¹é‚£ä¹ˆæœ€å°åŒ– -- c.minimized = true --else -- c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;tasklist\u0026#34;, {raise = true}) -- å¦åˆ™åˆ‡æ¢ä¸ºç„¦ç‚¹ --end -- å·¦é”®ä¿®æ”¹ä¸º å°±æ›¿æ¢åˆ°å¯¹åº”tag å› ä¸ºä¸»è¦ç”¨å¹³é“º c.minimized = false -- å–æ¶ˆæœ€å°åŒ– awful.tag.viewonly(c.first_tag) --åˆ‡æ¢åˆ°çª—å£æ‰€åœ¨å±å¹• -- å–æ¶ˆå…¶ä»–çª—å£çš„ activate {{ local current_screen = awful.screen.focused() for _, cl in ipairs(current_screen.clients) do if cl ~= c and not cl.minimized then cl:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;tasklist\u0026#34;, {raise = false}) end end c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;tasklist\u0026#34;, {raise = true}) -- é‡æ–°ç»˜åˆ¶ä»»åŠ¡æ  s.mytasklist:emit_signal(\u0026#34;widget::redraw_needed\u0026#34;) -- å°†é¼ æ ‡ç§»åŠ¨åˆ°æ¿€æ´»çš„çª—å£çš„ä¸­å¿ƒä½ç½® client.focus = c c:raise() local geo = c:geometry() local x = geo.x + geo.width / 2 local y = geo.y + geo.height / 2 mouse.coords({x = x, y = y}, true) end), awful.button({}, 3, function() awful.menu.client_list({theme = {width = 250}}) end), -- å³é”® æ˜¾ç¤ºæ‰€æœ‰çª—å£ awful.button({}, 4, function () awful.client.focus.byidx(1) end), --æ»šè½®åˆ‡æ¢çª—å£ ç„¦ç‚¹ awful.button({}, 5, function () awful.client.focus.byidx(-1) end) --æ»šè½®åˆ‡æ¢çª—å£ ) -- Create a tasklist widget ä»»åŠ¡æ  é»˜è®¤æ˜¾ç¤ºå›¾æ ‡å’Œæ–‡å­— s.mytasklist = awful.widget.tasklist { screen = s, filter = awful.widget.tasklist.filter.currenttags, -- æ˜¾ç¤ºå½“å‰æ ‡ç­¾é¡µä¸­çš„ä»»åŠ¡ filter = awful.widget.tasklist.filter.alltags, -- æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾é¡µä¸­çš„ä»»åŠ¡ buttons = tasklist_buttons -- ä»»åŠ¡æ æŒ‰é”®ç‚¹å‡»è¡Œä¸º } -- ]] -- å®šä¹‰ç‚¹å‡»ä»»åŠ¡æ çš„è¡Œä¸º local tasklist_buttons = gears.table.join( awful.button({}, 1, function (c) -- å·¦é”®ä¿®æ”¹ä¸º å°±åˆ‡æ¢åˆ°å¯¹åº”tag å› ä¸ºä¸»è¦ç”¨å¹³é“º c.minimized = false -- å–æ¶ˆæœ€å°åŒ– awful.tag.viewonly(c.first_tag) --åˆ‡æ¢åˆ°çª—å£æ‰€åœ¨å±å¹• c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;tasklist\u0026#34;, {raise = true}) -- æ¿€æ´»çª—å£ end), awful.button({}, 3, function() awful.menu.client_list({theme = {width = 250}}) end), -- å³é”® æ˜¾ç¤ºæ‰€æœ‰çª—å£ awful.button({}, 4, function () awful.client.focus.byidx(1) end), --æ»šè½®åˆ‡æ¢çª—å£ ç„¦ç‚¹ awful.button({}, 5, function () awful.client.focus.byidx(-1) end) --æ»šè½®åˆ‡æ¢çª—å£ ) -- ä»»åŠ¡æ çš„é…ç½® s.mytasklist = awful.widget.tasklist { screen = s, filter = awful.widget.tasklist.filter.allscreen, -- awful.widget.tasklist.filter.focused buttons = tasklist_buttons, -- æŒ‰é’®è¡Œä¸ºæ§åˆ¶å‡½æ•° åªæ˜¯é¼ æ ‡çš„æ§åˆ¶å°±å¥½ style = { shape_border_width = 1, shape_border_color = \u0026#39;#555\u0026#39;, shape = gears.shape.rounded_bar, }, layout = { spacing = 5, --é—´éš” layout = wibox.layout.flex.horizontal -- æ¨ªå‘æ’åˆ— }, widget_template = { { { { -- ä»»åŠ¡æ å›¾æ ‡ { id = \u0026#39;icon_role\u0026#39;, widget = wibox.widget.imagebox, }, margins = 3, --ç”¨è¾¹è·æ§åˆ¶å›¾æ ‡å¤§å° widget = wibox.container.margin, }, { -- ä»»åŠ¡æ æ–‡å­— id = \u0026#39;text_role\u0026#39;, widget = wibox.widget.textbox, }, layout = wibox.layout.fixed.horizontal, }, left = 2, right = 2, widget = wibox.container.margin }, --forced_width = 10000, id = \u0026#39;background_role\u0026#39;, widget = wibox.container.background, }, } -- Create the wibox çŠ¶æ€æ  -- s.mywibox = awful.wibar({ position = \u0026#34;bottom\u0026#34;, screen = s }) s.mywibox = awful.wibar({position = \u0026#34;top\u0026#34;, screen = s}) s.mywibox.opacity = 0.8 --çŠ¶æ€æ æ•´ä½“é€æ˜åº¦ shell_pot = awful.widget.watch(\u0026#39;echo ğŸ”¸\u0026#39;, 3600000) -- ä¸€ä¸ªåˆ†éš”ç¬¦ shell_space = awful.widget.watch(\u0026#39;echo -e \u0026#34;ã€€\u0026#34; \u0026#39;, 3600000) --ä¸­æ–‡å…¨è§’ç©ºæ ¼ shell_weather = awful.widget.watch(\u0026#39;bash -c \u0026#34;python3 ~/.config/topbar_plus/weather-plugin.py\u0026#34;\u0026#39;, 1800) --å¤©æ°”é¢„æŠ¥ shell_weather:buttons(gears.table.join( awful.button({}, 1, function() awful.spawn(\u0026#34;xdg-open http://www.weather.com.cn/weather15d/101120802.shtml\u0026#34;) end), -- å·¦é”® awful.button({}, 3, function() awful.spawn(\u0026#34;xdg-open http://www.weather.com.cn/weather15d/101120802.shtml\u0026#34;) end)--å³é”® )) shell_lunarDate = awful.widget.watch(\u0026#39;bash -c \u0026#34;$HOME/.env/lunarDate_plugin/bin/python ~/.config/topbar_plus/lunarDate-plugin.py\u0026#34;\u0026#39;, 1) -- å†œå†é˜³å†å‘¨ shell_lunarDate:buttons(gears.table.join( awful.button({}, 1, function() awful.spawn(\u0026#34;xdg-open https://wannianli.tianqi.com/\u0026#34;) end), -- å·¦é”® awful.button({}, 3, function() awful.spawn(\u0026#34;xdg-open https://wannianli.tianqi.com/\u0026#34;) end)--å³é”® )) local vicious = require(\u0026#34;vicious\u0026#34;) -- ç›‘æµ‹ CPU ä½¿ç”¨æƒ…å†µ cpuwidget = wibox.widget.textbox() vicious.cache(vicious.widgets.cpu) vicious.register(cpuwidget, vicious.widgets.cpu, \u0026#34;CPU: \u0026lt;span foreground=\u0026#39;#20B2AA\u0026#39;\u0026gt; $1% \u0026lt;/span\u0026gt;\u0026#34;, 13) memwidget = wibox.widget.textbox() vicious.cache(vicious.widgets.mem) vicious.register(memwidget, vicious.widgets.mem, \u0026#34;å†…å­˜: \u0026lt;span foreground=\u0026#39;#20B2AA\u0026#39;\u0026gt; $1% \u0026lt;/span\u0026gt;\u0026#34;, 13) -- æ‰˜ç›˜ mysystray = wibox.widget.systray() --mysystray.forced_width =50 --mysystray.forced_height=10 -- ç›´æ¥ç”¨ forced_width ä¼šå¯¼è‡´å›¾æ ‡å¤šçš„æ—¶å€™å›¾æ ‡å¤ªå°ï¼Œforced_heightè²Œä¼¼æ— æ•ˆï¼Œæ‰€ä»¥ä¸‹é¢æŠŠæ‰˜ç›˜æ”¾åˆ°å®¹å™¨é‡Œé¢ï¼Œæ§åˆ¶å®¹å™¨è¾¹è·å˜ç›¸ä¿®æ”¹æ‰˜ç›˜å¤§å° local mysystray_container = wibox.container.margin(mysystray, 0, 0, 4, 5) -- è®¾ç½®å®¹å™¨çš„è¾¹è· [, left[, right[, top[, bottom[, color[, draw_empty]]]]]] -- éŸ³é‡ volume_widget = wibox.widget.textbox() --awful.widget.watch(\u0026#39;bash -c \u0026#34;LANG=en_US.utf8 \u0026amp;\u0026amp; pactl list sinks | grep \\\u0026#39;front-left\\\u0026#39; \u0026amp;\u0026amp; pactl list sinks | grep \\\u0026#39;Mute:\\\u0026#39; \u0026#34;\u0026#39;, 1, function(widget, stdout) awful.widget.watch(\u0026#39;bash -c \u0026#34;LANG=en_US.utf8 \u0026amp;\u0026amp; pactl list sinks | grep -E \\\u0026#39;front-left|Mute:\\\u0026#39;\u0026#34; \u0026#39;, 1, function(widget, stdout) -- ä»è¾“å‡ºä¸­è·å–éŸ³é‡ä¿¡æ¯ local volume = string.match(stdout, \u0026#34;(%d+)%%\u0026#34;) -- ä»è¾“å‡ºä¸­è·å–é™éŸ³çŠ¶æ€ä¿¡æ¯ local mute = string.match(stdout, \u0026#34;Mute: (%a+)\u0026#34;) -- æ›´æ–°æ–‡æœ¬æ¡†å†…å®¹ local text = \u0026#39; ğŸ”ˆ\u0026lt;span foreground=\u0026#34;#20B2AA\u0026#34;\u0026gt;\u0026#39; .. volume .. \u0026#39;\u0026lt;/span\u0026gt; %\u0026#39; if mute == \u0026#34;yes\u0026#34; then text = \u0026#39; ğŸ”‡\u0026lt;span foreground=\u0026#34;#ce2605\u0026#34;\u0026gt;\u0026#39; .. volume .. \u0026#39;\u0026lt;/span\u0026gt; %\u0026#39; end widget:set_markup(text) -- widget:set_text(text) end, volume_widget) -- éŸ³é‡ æŒ‰é”®æ“ä½œ volume_widget:buttons(gears.table.join( awful.button({}, 1, function() awful.spawn(\u0026#34;pactl set-sink-mute @DEFAULT_SINK@ toggle\u0026#34;) end), -- å·¦é”®é™éŸ³ awful.button({}, 3, function() awful.spawn(\u0026#34;pavucontrol\u0026#34;) end), --å³é”®æ‰“å¼€ é¢æ¿ awful.button({}, 4, function() awful.spawn(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ +1%\u0026#34;) end), -- å‘ä¸Šæ»šåŠ¨å¢å¤§éŸ³é‡ å¦å¤–ç»‘å®šé”®ç›˜çš„ éŸ³é‡é”®åœ¨ éŸ³é‡æ§åˆ¶ é‚£è¾¹ awful.button({}, 5, function() awful.spawn(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ -1%\u0026#34;) end)-- å‘ä¸‹æ»šåŠ¨å‡å°éŸ³é‡ )) -- æ»šè½®äº‹ä»¶å¤„ç† volume_widget:connect_signal(\u0026#34;button::scroll_up\u0026#34;, function() awful.spawn(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ +5%\u0026#34;) end) volume_widget:connect_signal(\u0026#34;button::scroll_down\u0026#34;, function() awful.spawn(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ -5%\u0026#34;) end) -- Add widgets to the wibox çŠ¶æ€æ å¸ƒå±€ æ’åº å…¨å±€æ ‡é¢˜æ  s.mywibox:setup { layout = wibox.layout.align.horizontal, {-- Left widgets layout = wibox.layout.fixed.horizontal, mylauncher, s.mytaglist, s.mypromptbox, }, s.mytasklist, -- Middle widget {-- Right widgets layout = wibox.layout.fixed.horizontal, cpuwidget, memwidget, shell_pot, shell_weather, shell_pot, shell_lunarDate, shell_space, mytextclock, shell_pot, volume_widget, shell_space, --mykeyboardlayout, -- wibox.widget.systray(), mysystray_container, shell_space, mylayoutbox, }, } end) -- }}} -- {{{ Mouse bindings è¿™é‡Œæ˜¯å±å¹•ç©ºç™½åœ°æ–¹çš„é¼ æ ‡æ“ä½œ root.buttons(gears.table.join( awful.button({}, 3, function () mymainmenu:toggle() end), --å³é”®æ‰“å¼€ä¸»èœå• awful.button({}, 4, awful.tag.viewnext), -- æ»šè½®åˆ‡æ¢æ ‡ç­¾ ä¸æ˜¯çª—å£ awful.button({}, 5, awful.tag.viewprev))) -- æ»šè½®åˆ‡æ¢æ ‡ç­¾ -- }}} -- {{{ Key bindings æŒ‰é”®ç»‘å®š globalkeys = gears.table.join( awful.key({modkey, }, \u0026#34;s\u0026#34;, hotkeys_popup.show_help, {description = \u0026#34;show help æ˜¾ç¤ºå¿«æ·é”®\u0026#34;, group = \u0026#34;awesome\u0026#34;}), awful.key({modkey, }, \u0026#34;Left\u0026#34;, awful.tag.viewprev, --åˆ‡æ¢æ ‡ç­¾ {description = \u0026#34;view previous åˆ‡æ¢æ ‡ç­¾\u0026#34;, group = \u0026#34;tag\u0026#34;}), awful.key({modkey, }, \u0026#34;Right\u0026#34;, awful.tag.viewnext, {description = \u0026#34;view next åˆ‡æ¢æ ‡ç­¾\u0026#34;, group = \u0026#34;tag\u0026#34;}), --åˆ‡æ¢æ ‡ç­¾ awful.key({modkey, }, \u0026#34;Escape\u0026#34;, awful.tag.history.restore, --è¿”å›æ ‡ç­¾ {description = \u0026#34;go back è¿”å›æ ‡ç­¾\u0026#34;, group = \u0026#34;tag\u0026#34;}), awful.key({modkey, }, \u0026#34;j\u0026#34;, -- åˆ‡æ¢ çª—å£ç„¦ç‚¹ function () awful.client.focus.byidx(1) end, {description = \u0026#34;focus next by index åˆ‡æ¢ çª—å£ç„¦ç‚¹\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, }, \u0026#34;k\u0026#34;, -- åˆ‡æ¢ çª—å£ç„¦ç‚¹ function () awful.client.focus.byidx(-1) end, {description = \u0026#34;focus previous by index åˆ‡æ¢ çª—å£ç„¦ç‚¹\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, }, \u0026#34;w\u0026#34;, function () mymainmenu:show() end, -- æ˜¾ç¤ºä¸»èœå• {description = \u0026#34;show main menu æ˜¾ç¤ºä¸»èœå•\u0026#34;, group = \u0026#34;awesome\u0026#34;}), -- Layout manipulation awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;j\u0026#34;, function () awful.client.swap.byidx(1) end, -- ç§»åŠ¨çª—å£ä½ç½® {description = \u0026#34;swap with next client by index\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;k\u0026#34;, function () awful.client.swap.byidx(-1) end, -- ç§»åŠ¨çª—å£ä½ç½® {description = \u0026#34;swap with previous client by index\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;j\u0026#34;, function () awful.screen.focus_relative(1) end, {description = \u0026#34;focus the next screen\u0026#34;, group = \u0026#34;screen\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;k\u0026#34;, function () awful.screen.focus_relative(-1) end, {description = \u0026#34;focus the previous screen\u0026#34;, group = \u0026#34;screen\u0026#34;}), awful.key({modkey, }, \u0026#34;u\u0026#34;, awful.client.urgent.jumpto, {description = \u0026#34;jump to urgent client\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, }, \u0026#34;Tab\u0026#34;, function () awful.client.focus.history.previous() if client.focus then client.focus:raise() end end, {description = \u0026#34;go back\u0026#34;, group = \u0026#34;client\u0026#34;}), -- Standard program --awful.key({ modkey, }, \u0026#34;Return\u0026#34;, function () awful.spawn(terminal) end, awful.key({modkey, }, \u0026#34;Return\u0026#34;, function () awful.spawn(\u0026#34;alacritty\u0026#34;) end, {description = \u0026#34;open a terminal æ‰“å¼€ç»ˆç«¯\u0026#34;, group = \u0026#34;launcher\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;r\u0026#34;, awesome.restart, --ä¿ç•™awesomeçš„ win ctrl+r é…ç½®å‡ºé”™çš„æ—¶å€™ åªèƒ½ç”¨è¿™ä¸ªå¿«æ·é”®é‡è½½ {description = \u0026#34;reload awesome é‡è½½aw\u0026#34;, group = \u0026#34;awesome\u0026#34;}), awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;s\u0026#34;, awesome.restart, --å’Œi3ä¸€è‡´æ–¹ä¾¿è¿‡åº¦ {description = \u0026#34;reload awesome é‡è½½aw\u0026#34;, group = \u0026#34;awesome\u0026#34;}), --awful.key({ modkey, \u0026#34;Shift\u0026#34; }, \u0026#34;q\u0026#34;, awesome.quit, --- {description = \u0026#34;æ¨å‡º awesome \u0026#34;, group = \u0026#34;awesome\u0026#34;}), -- æ¨å‡º awesome awful.prompt -- awful.key({ modkey, \u0026#34;Shift\u0026#34; }, \u0026#34;e\u0026#34;, function() -- awful.prompt.run { -- prompt = \u0026#34;ç¡®å®šè¦é€€å‡º Awesome WM å—ï¼Ÿ (y/n): \u0026#34;, -- textbox = awful.screen.focused().mypromptbox.widget, -- exe_callback = function(answer) -- if answer == \u0026#34;y\u0026#34; then -- awesome.quit() -- end -- end -- } -- end, { description = \u0026#34;é€€å‡º Awesome WM\u0026#34;, group = \u0026#34;awesome\u0026#34; }) -- æ¨å‡º awesome ï¼Œç”¨naughty.notify --awful.key({ modkey, \u0026#34;Shift\u0026#34; }, \u0026#34;e\u0026#34;, function() -- naughty.notify({ -- text = \u0026#34;ã€€ç¡®å®šè¦é€€å‡º Awesome WM å—ï¼Ÿã€€\\nã€€å¦‚æœè¦æ¨å‡ºè¾“å…¥y,ä¸æ¨å‡ºæŒ‰ä¸‹escæ­£å¸¸æ“ä½œã€€\u0026#34;, -- timeout = 3, -- position = \u0026#34;bottom_right\u0026#34;, -- bg = \u0026#34;#FF0000\u0026#34;, -- fg = \u0026#34;#FFFFFF\u0026#34;, -- font = \u0026#34;sans 25\u0026#34; -- }) -- awful.prompt.run { -- prompt = \u0026#34;\u0026#34;, -- textbox = awful.screen.focused().mypromptbox.widget, -- exe_callback = function(answer) -- if answer == \u0026#34;y\u0026#34; then -- awesome.quit() -- end -- end -- } --end, { description = \u0026#34;ç¡®å®šé€€å‡º Awesome WM\u0026#34;, group = \u0026#34;awesome\u0026#34; }), -- å’Œi3 ä¸€è‡´ æ¨å‡º awesome -- ä¾èµ– zenity awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;e\u0026#34;, function() local command = \u0026#34;zenity --question --text \u0026#39;ç¡®å®šè¦é€€å‡º Awesome WM å—ï¼Ÿ\u0026#39; --no-wrap --title \u0026#39;äº²çˆ±å“’\u0026#39;\u0026#34; awful.spawn.easy_async_with_shell(command, function(_, _, _, exit_code) if exit_code == 0 then awesome.quit() end end) end, {description = \u0026#34;ç¡®å®šé€€å‡º Awesome WM\u0026#34;, group = \u0026#34;awesome\u0026#34;}), awful.key({modkey, }, \u0026#34;l\u0026#34;, function () awful.tag.incmwfact(0.05) end, {description = \u0026#34;increase master width factor + ä¸»å®½åº¦\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, }, \u0026#34;h\u0026#34;, function () awful.tag.incmwfact(-0.05) end, {description = \u0026#34;decrease master width factor - ä¸»å®½åº¦\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;h\u0026#34;, function () awful.tag.incnmaster(1, nil, true) end, {description = \u0026#34;å¢åŠ ä¸»åŒºåŸŸçš„çª—å£æ•°é‡\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;l\u0026#34;, function () awful.tag.incnmaster(-1, nil, true) end, {description = \u0026#34;å‡å°‘ä¸»åŒºåŸŸçš„çª—å£æ•°é‡\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;h\u0026#34;, function () awful.tag.incncol(1, nil, true) end, {description = \u0026#34;å¢åŠ åˆ—çš„æ•°é‡\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;l\u0026#34;, function () awful.tag.incncol(-1, nil, true) end, {description = \u0026#34;å‡å°‘åˆ—çš„æ•°é‡\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, }, \u0026#34;space\u0026#34;, function () awful.layout.inc(1) end, {description = \u0026#34;select next å¸ƒå±€æ¨¡å¼\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;space\u0026#34;, function () awful.layout.inc(-1) end, {description = \u0026#34;select previous å¸ƒå±€æ¨¡å¼\u0026#34;, group = \u0026#34;layout\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;n\u0026#34;, function () local c = awful.client.restore() -- Focus restored client if c then c:emit_signal( \u0026#34;request::activate\u0026#34;, \u0026#34;key.unminimize\u0026#34;, {raise = true}) end end, {description = \u0026#34;restore minimized æ¢å¤æœ€å°åŒ–çš„\u0026#34;, group = \u0026#34;client\u0026#34;}), -- Prompt awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;Return\u0026#34;, function () awful.spawn(\u0026#34;rofi -show drun\u0026#34;) end, {description = \u0026#34;rofi -show drun å¯åŠ¨å™¨\u0026#34;, group = \u0026#34;launcher\u0026#34;}), awful.key({modkey}, \u0026#34;Tab\u0026#34;, function () awful.spawn(\u0026#34;rofi -show window\u0026#34;) end, {description = \u0026#34;rofi -show window çª—å£åˆ‡æ¢\u0026#34;, group = \u0026#34;launcher\u0026#34;}), awful.key({modkey}, \u0026#34;p\u0026#34;, function () awful.spawn(\u0026#34;/usr/bin/flameshot gui \u0026#34;) end, {description = \u0026#34;flameshot gui æˆªå›¾ \u0026#34;, group = \u0026#34;launcher\u0026#34;}), awful.key({modkey}, \u0026#34;e\u0026#34;, function () awful.spawn(\u0026#34;pcmanfm \u0026#34;) end, {description = \u0026#34;pcmanfm æ–‡ä»¶ç®¡ç†å™¨ \u0026#34;, group = \u0026#34;launcher\u0026#34;}), -- è¿è¡Œå‘½ä»¤ è¿™ä¸ªç”¨rofiæ›¿ä»£æ‰ -- awful.key({ modkey ,\u0026#34;Shift\u0026#34;,\u0026#34;Alt\u0026#34;}, \u0026#34;r\u0026#34;, function () awful.screen.focused().mypromptbox:run() end, -- {description = \u0026#34;run promptæ­¤åŠŸèƒ½å…³é—­\u0026#34;, group = \u0026#34;launcher\u0026#34;}), -- è¿è¡Œluaä»£ç  ä¸éœ€è¦ -- awful.key({ modkey ,\u0026#34;Shift\u0026#34; ,\u0026#34;Alt\u0026#34; }, \u0026#34;x\u0026#34;, -- function () -- awful.prompt.run { -- prompt = \u0026#34;Run Lua code: \u0026#34;, -- textbox = awful.screen.focused().mypromptbox.widget, -- exe_callback = awful.util.eval, -- history_path = awful.util.get_cache_dir() .. \u0026#34;/history_eval\u0026#34; -- } -- end, -- {description = \u0026#34;lua execute promptæ­¤åŠŸèƒ½å…³é—­\u0026#34;, group = \u0026#34;awesome\u0026#34;}), -- éŸ³é‡æ§åˆ¶ awful.key({}, \u0026#34;XF86AudioRaiseVolume\u0026#34;, function() os.execute(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ +5%\u0026#34;) end, {description = \u0026#34;volume up\u0026#34;, group = \u0026#34;hotkeys\u0026#34;}), awful.key({}, \u0026#34;XF86AudioLowerVolume\u0026#34;, function() os.execute(\u0026#34;pactl set-sink-volume @DEFAULT_SINK@ -5%\u0026#34;) end, {description = \u0026#34;volume down\u0026#34;, group = \u0026#34;hotkeys\u0026#34;}), awful.key({}, \u0026#34;XF86AudioMute\u0026#34;, function() os.execute(\u0026#34;pactl set-sink-mute @DEFAULT_SINK@ toggle\u0026#34;) end, {description = \u0026#34;toggle mute\u0026#34;, group = \u0026#34;hotkeys\u0026#34;}) -- Menubar åº”ç”¨ç¨‹åºèœå• ä¸éœ€è¦ï¼Œrifo ä»¥åŠå³é”®èœå•ä»¥åŠå³ä¸Šè§’ mylauncher = awful.widget.launcher éƒ½å¯ä»¥æå®š --awful.key({ modkey ,\u0026#34;Shift\u0026#34;}, \u0026#34;p\u0026#34;, function() menubar.show() end, -- {description = \u0026#34;show the menubar åº”ç”¨ç¨‹åºèœå•\u0026#34;, group = \u0026#34;launcher\u0026#34;}) ) clientkeys = gears.table.join( awful.key({modkey, }, \u0026#34;f\u0026#34;, function (c) c.fullscreen = not c.fullscreen c:raise() end, {description = \u0026#34;toggle fullscreenå…¨å±\u0026#34;, group = \u0026#34;client\u0026#34;}), --[[ awful.key({ modkey, \u0026#34;Shift\u0026#34; }, \u0026#34;c\u0026#34;, function (c) c:kill() end, awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;q\u0026#34;, function (c) c:kill() end, {description = \u0026#34;closeå…³é—­çª—å£\u0026#34;, group = \u0026#34;client\u0026#34;}), local window_title = focused_client.name or \u0026#34;\u0026#34; -- æ„å»º Zenity å‘½ä»¤ local command = string.format(\u0026#34;zenity --question --text \u0026#39;%s\u0026#39; --no-wrap --title \u0026#39;äº²çˆ±å“’\u0026#39;\u0026#34;, window_title) --]] awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;q\u0026#34;, function(c) local window_title = c.name or \u0026#34;\u0026#34; --çª—å£æ ‡é¢˜ local command = string.format(\u0026#34;zenity --question --text \u0026#39;ç¡®å®šè¦å…³é—­ %s å—ï¼Ÿ\u0026#39; --no-wrap --title \u0026#39;äº²çˆ±å“’\u0026#39;\u0026#34;, window_title) awful.spawn.easy_async_with_shell(command, function(_, _, _, exit_code) if exit_code == 0 then c:kill() end end) end, {description = \u0026#34;ç¡®å®šé€€å‡º çª—å£\u0026#34;, group = \u0026#34;awesome\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;space\u0026#34;, awful.client.floating.toggle, {description = \u0026#34;toggle floatingæµ®åŠ¨\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;Return\u0026#34;, function (c) c:swap(awful.client.getmaster()) end, {description = \u0026#34;move to masterä¸»åŒºåŸŸ\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, }, \u0026#34;o\u0026#34;, function (c) c:move_to_screen() end, {description = \u0026#34;move to screen\u0026#34;, group = \u0026#34;client\u0026#34;}), awful.key({modkey, }, \u0026#34;t\u0026#34;, function (c) c.ontop = not c.ontop end, {description = \u0026#34;toggle keep on top\u0026#34;, group = \u0026#34;client\u0026#34;}), -- éšè—å’Œæ˜¾ç¤ºæ ‡é¢˜æ  awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;b\u0026#34;, function (c) awful.titlebar.toggle(c) end, {description = \u0026#34;Show/Hide Titlebarséšè—å’Œæ˜¾ç¤ºæ ‡é¢˜æ \u0026#34;, group = \u0026#34;client\u0026#34;}), -- æœ€å°åŒ– awful.key({modkey, }, \u0026#34;n\u0026#34;, function (c) -- The client currently has the input focus, so it cannot be -- minimized, since minimized clients can\u0026#39;t have the focus. c.minimized = true end, {description = \u0026#34;minimize æœ€å°åŒ–\u0026#34;, group = \u0026#34;client\u0026#34;}), -- æœ€å¤§åŒ– awful.key({modkey, }, \u0026#34;m\u0026#34;, function (c) c.maximized = not c.maximized c:raise() end, {description = \u0026#34;(un)maximize æœ€å¤§åŒ–\u0026#34;, group = \u0026#34;client\u0026#34;}), -- å‚ç›´æœ€å¤§åŒ– awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;m\u0026#34;, function (c) c.maximized_vertical = not c.maximized_vertical c:raise() end, {description = \u0026#34;(un)maximize vertically å‚ç›´æœ€å¤§åŒ–\u0026#34;, group = \u0026#34;client\u0026#34;}), -- æ°´å¹³æœ€å¤§åŒ– awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;m\u0026#34;, function (c) c.maximized_horizontal = not c.maximized_horizontal c:raise() end, {description = \u0026#34;(un)maximize horizontally æ°´å¹³æœ€å¤§åŒ–\u0026#34;, group = \u0026#34;client\u0026#34;})) -- Bind all key numbers to tags. -- Be careful: we use keycodes to make it work on any keyboard layout. -- This should map on the top row of your keyboard, usually 1 to 9. for i = 1, 9 do globalkeys = gears.table.join(globalkeys, -- View tag only åˆ‡æ¢æ¡Œé¢ awful.key({modkey}, \u0026#34;#\u0026#34; .. i + 9, function () local screen = awful.screen.focused() local tag = screen.tags[i] if tag then tag:view_only() end end, {description = \u0026#34;view tag #\u0026#34;..i, group = \u0026#34;tag\u0026#34;}), -- Toggle tag display.åˆå¹¶ä¸¤ä¸ªæ¡Œé¢çš„çª—å£ awful.key({modkey, \u0026#34;Control\u0026#34;}, \u0026#34;#\u0026#34; .. i + 9, function () local screen = awful.screen.focused() local tag = screen.tags[i] if tag then awful.tag.viewtoggle(tag) end end, {description = \u0026#34;toggle tag #\u0026#34; .. i, group = \u0026#34;tag\u0026#34;}), -- Move client to tag. ç§»åŠ¨çª—å£åˆ°æ¡Œé¢x awful.key({modkey, \u0026#34;Shift\u0026#34;}, \u0026#34;#\u0026#34; .. i + 9, function () if client.focus then local tag = client.focus.screen.tags[i] if tag then client.focus:move_to_tag(tag) end end end, {description = \u0026#34;move focused client to tag #\u0026#34;..i, group = \u0026#34;tag\u0026#34;}), -- Toggle tag on focused client. çª—å£åŒæ—¶æ˜¾ç¤ºåˆ°æ¡Œé¢x awful.key({modkey, \u0026#34;Control\u0026#34;, \u0026#34;Shift\u0026#34;}, \u0026#34;#\u0026#34; .. i + 9, function () if client.focus then local tag = client.focus.screen.tags[i] if tag then client.focus:toggle_tag(tag) end end end, {description = \u0026#34;toggle focused client on tag #\u0026#34; .. i, group = \u0026#34;tag\u0026#34;})) end -- çª—å£çš„ç‚¹å‡»äº‹ä»¶ clientbuttons = gears.table.join( awful.button({}, 1, function (c) c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;mouse_click\u0026#34;, {raise = true}) --é¼ æ ‡å·¦é”®å•å‡»ï¼šæ¿€æ´»è¯¥çª—å£ï¼ˆå¦‚æœæ²¡æœ‰æ¿€æ´»ï¼‰ï¼Œå¹¶å°†å…¶ç½®äºé¡¶å±‚ã€‚ end), awful.button({modkey}, 1, function (c) c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;mouse_click\u0026#34;, {raise = true}) -- Mod é”® + é¼ æ ‡å·¦é”®å•å‡»ï¼šæ¿€æ´»è¯¥çª—å£ï¼Œå¹¶å¼€å§‹ç§»åŠ¨çª—å£ä½ç½®ã€‚ awful.mouse.client.move(c) end), awful.button({modkey}, 3, function (c) c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;mouse_click\u0026#34;, {raise = true}) -- Mod é”® + é¼ æ ‡å³é”®å•å‡»ï¼šæ¿€æ´»è¯¥çª—å£ï¼Œå¹¶å¼€å§‹æ”¹å˜çª—å£å¤§å°ã€‚ awful.mouse.client.resize(c) end)) -- Set keys root.keys(globalkeys) -- }}} -- {{{ Rules -- Rules to apply to new clients (through the \u0026#34;manage\u0026#34; signal). -- è§„åˆ™ awful.rules.rules = { -- All clients will match this rule. {rule = {}, properties = {border_width = beautiful.border_width, border_color = beautiful.border_normal, focus = awful.client.focus.filter, raise = true, keys = clientkeys, buttons = clientbuttons, -- çª—å£ç‚¹å‡»äº‹ä»¶ screen = awful.screen.preferred, placement = awful.placement.no_overlap + awful.placement.no_offscreen }}, -- Floating clients. å†…ç½®çš„è‡ªåŠ¨æµ®åŠ¨è§„åˆ™ {rule_any = { instance = { \u0026#34;DTA\u0026#34;, -- Firefox addon DownThemAll. \u0026#34;copyq\u0026#34;, -- Includes session name in class. \u0026#34;pinentry\u0026#34;, }, class = { \u0026#34;Arandr\u0026#34;, \u0026#34;Blueman-manager\u0026#34;, \u0026#34;Gpick\u0026#34;, \u0026#34;Kruler\u0026#34;, \u0026#34;MessageWin\u0026#34;, -- kalarm. \u0026#34;Sxiv\u0026#34;, \u0026#34;Tor Browser\u0026#34;, -- Needs a fixed window size to avoid fingerprinting by screen size. \u0026#34;Wpa_gui\u0026#34;, \u0026#34;veromix\u0026#34;, \u0026#34;xtightvncviewer\u0026#34;}, -- Note that the name property shown in xprop might be set slightly after creation of the client -- and the name shown there might not match defined rules here. name = { \u0026#34;Event Tester\u0026#34;, -- xev. }, role = { \u0026#34;AlarmWindow\u0026#34;, -- Thunderbird\u0026#39;s calendar. \u0026#34;ConfigManager\u0026#34;, -- Thunderbird\u0026#39;s about:config. \u0026#34;pop-up\u0026#34;, -- e.g. Google Chrome\u0026#39;s (detached) Developer Tools. }}, properties = {floating = true}}, -- Add titlebars to normal clients and dialogs æ ‡é¢˜æ  {rule_any = {type = {\u0026#34;normal\u0026#34;, \u0026#34;dialog\u0026#34;}}, properties = {titlebars_enabled = true}}, -- xprop|grep CLASS è‡ªåŠ¨éšè—æ ‡é¢˜æ çš„è½¯ä»¶ æ— æ ‡é¢˜æ  {rule_any = { class = { \u0026#34;Sublime_text\u0026#34;, \u0026#34;Geany\u0026#34;, \u0026#34;Code\u0026#34;, \u0026#34;Plank\u0026#34;, \u0026#34;QQ\u0026#34;, \u0026#34;TelegramDesktop\u0026#34;, \u0026#34;Chromium\u0026#34;, \u0026#34;Google-chrome\u0026#34;, \u0026#34;Firefox-esr\u0026#34;, \u0026#34;Microsoft-edge\u0026#34;, \u0026#34;org.remmina.Remmina\u0026#34;, \u0026#34;another-redis-desktop-manager\u0026#34;, \u0026#34;Thonny\u0026#34;, \u0026#34;Thunar\u0026#34;}, }, properties = {titlebars_enabled = false}}, -- xprop|grep CLASS å¼ºåˆ¶é»˜è®¤å¹³é“º {rule_any = { class = { \u0026#34;Microsoft-edge\u0026#34;, }, }, properties = {floating = false}}, -- xprop|grep CLASS è‡ªåŠ¨æµ®åŠ¨çš„è½¯ä»¶ ä½†ä¸æ§åˆ¶çª—å£ä½ç½® {rule_any = { class = { \u0026#34;Plank\u0026#34;, \u0026#34;tint2\u0026#34;, \u0026#34;Tint2\u0026#34; }, }, properties = {floating = true}}, -- xprop|grep CLASS è‡ªåŠ¨æµ®åŠ¨çš„è½¯ä»¶ å¹¶å±…ä¸­æ˜¾ç¤º {rule_any = { name={\u0026#34;å›¾ç‰‡æŸ¥çœ‹å™¨\u0026#34;}, class = { \u0026#34;Pavucontrol\u0026#34;, \u0026#34;fcitx5-config-qt\u0026#34;, \u0026#34;Tint2conf\u0026#34;,\u0026#34;vlc\u0026#34; }, }, properties = {floating = true, placement = awful.placement.centered} }, } -- }}} -- {{{ Signals -- Signal function to execute when a new client appears. client.connect_signal(\u0026#34;manage\u0026#34;, function (c) -- Set the windows at the slave, -- i.e. put it at the end of others instead of setting it master. -- if not awesome.startup then awful.client.setslave(c) end if awesome.startup and not c.size_hints.user_position and not c.size_hints.program_position then -- Prevent clients from being unreachable after screen count changes. awful.placement.no_offscreen(c) end end) -- Add a titlebar if titlebars_enabled is set to true in the rules. client.connect_signal(\u0026#34;request::titlebars\u0026#34;, function(c) -- buttons for the titlebar local buttons = gears.table.join( awful.button({}, 1, function() c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;titlebar\u0026#34;, {raise = true}) awful.mouse.client.move(c) end), awful.button({}, 3, function() c:emit_signal(\u0026#34;request::aRctivate\u0026#34;, \u0026#34;titlebar\u0026#34;, {raise = true}) awful.mouse.client.resize(c) end)) -- çª—å£çš„æ ‡é¢˜æ é…ç½® awful.titlebar(c) : setup { {-- Left awful.titlebar.widget.iconwidget(c), buttons = buttons, layout = wibox.layout.fixed.horizontal }, {-- Middle {-- Title align = \u0026#34;center\u0026#34;, widget = awful.titlebar.widget.titlewidget(c)}, buttons = buttons, layout = wibox.layout.flex.horizontal }, {-- Right æ ‡é¢˜å³ä¾§ awful.titlebar.widget.floatingbutton (c), awful.titlebar.widget.maximizedbutton(c), awful.titlebar.widget.stickybutton (c), awful.titlebar.widget.ontopbutton (c), awful.titlebar.widget.closebutton (c), layout = wibox.layout.fixed.horizontal()}, layout = wibox.layout.align.horizontal, -- é»˜è®¤éšè—æ ‡é¢˜æ  æ­¤ä»£ç ä¼šè¦†ç›–æ‰å‰é¢ruleä¸­çš„é…ç½® --awful.titlebar.hide(c) } end) -- Enable sloppy focus, so that focus follows mouse. client.connect_signal(\u0026#34;mouse::enter\u0026#34;, function(c) c:emit_signal(\u0026#34;request::activate\u0026#34;, \u0026#34;mouse_enter\u0026#34;, {raise = false}) end) client.connect_signal(\u0026#34;focus\u0026#34;, function(c) c.border_color = beautiful.border_focus end) client.connect_signal(\u0026#34;unfocus\u0026#34;, function(c) c.border_color = beautiful.border_normal end) -- }}} ","date":"2023-10-18T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/light-desktop/","title":"linuxä¸‹è½»é‡çº§æ¡Œé¢å¯¹æ¯”å’Œé€‰æ‹©"},{"content":"åœºæ™¯ è¿œç¨‹æœºå™¨ï¼ˆå¯ä»¥æ˜¯ docker lxcï¼‰ ï¼Œæ²¡æœ‰è£…å›¾å½¢æ¡Œé¢ï¼Œä½†æ˜¯è£…äº†edgeæµè§ˆå™¨ã€‚ æœ¬åœ°ä½¿ç”¨x11 è½¬å‘æ‰“å¼€edgeå æ’­æ”¾è§†é¢‘æ²¡å£°éŸ³ã€‚ è¿œç¨‹æœºå™¨ æ˜¯ lxc debian12 æœ¬åœ°æ˜¯ pve è£…äº†æ¡Œé¢\nç®€æ˜ 1 2 apt install pipwaire pulseaudio-module-zeroconf # ä¸¤è¾¹éƒ½è£… apt install avahi-daemon # æœ¬åœ°å®‰è£… æœ¬åœ° 1 2 3 sudo systemctl status avahi-daemon.service # ç¡®å®šä¸€ä¸‹çŠ¶æ€ é»˜è®¤å®‰è£…åä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¦‚æœæ²¡æœ‰æ‰‹åŠ¨å¯åŠ¨ä¸€ä¸‹è¿™ä¸ªæœåŠ¡ pactl load-module module-native-protocol-tcp listen=10.1.1.6 # listen=10.1.1.6 å¯ä»¥ä¸è¾“å…¥ï¼Œä½†æ˜¯ä¸èƒ½æœ‰é”™è¯¯ pactl load-module module-zeroconf-publish avahi-daemon éœ€è¦ä½¿ç”¨5353 ç«¯å£ï¼Œæ³¨æ„é˜²ç«å¢™\nè¿œç¨‹ 1 pactl load-module module-zeroconf-discover ç„¶åè¿œç¨‹æ‰“å¼€ä¸€ä¸ªæœ‰å£°éŸ³è¾“å…¥çš„è½¯ä»¶ å°±å¯ä»¥äº† ä¾‹å¦‚è¿œç¨‹æœºå™¨ä¸Š cat ~/start.sh\n1 2 3 4 5 6 7 8 9 10 11 12 export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=@im=fcitx export SDL_IM_MODULE=fcitx export GLFW_IM_MODULE=ibus killall fcitx5 -9 fcitx5 \u0026amp; pactl load-module module-zeroconf-discover #firefox \u0026amp; microsoft-edge-stable \u0026amp; æœ¬åœ°\n1 2 3 4 5 pactl load-module module-native-protocol-tcp pactl load-module module-zeroconf-publish ssh -X yanhui@10.1.1.231 #----- sh ~/start.sh èµ°çš„çš„å‘ pactl load-module module-native-protocol-tcp è¿™ä¸ªå‘½ä»¤åœ¨ç¬¬äºŒæ¬¡è¿è¡Œçš„æ—¶å€™ ä¼šæç¤º æœªçŸ¥é”™è¯¯ï¼Œå®é™…ä¸Šæœ‰æ•ˆçš„ã€‚\nå…¶ä»–ä¸€äº›å·¥å…· paprefs è²Œä¼¼ä¸é€‚åˆ pipewire qpwgraph å¯ç”¨ï¼Œå¯ä»¥ç”¨ä¸¤è¾¹æ£€æŸ¥è¿æ¥çŠ¶æ€ ï¼Œæˆ–è€…å±€åŸŸç½‘å†…æœ‰å¤šä¸ªavahiçš„æƒ…å†µä¸‹æ‰‹åŠ¨è°ƒæ•´ã€‚æ­£å¸¸è¿è¡Œçš„æ—¶å€™ è¿œç¨‹æ®µçš„qpwgraph æ˜¯å¯ä»¥çœ‹åˆ°æœ¬åœ°çš„éŸ³é¢‘è®¾å¤‡ã€‚ æ­£å¸¸æ˜¯æ’­æ”¾å£°éŸ³çš„app è¿æ¥åˆ° ç›®æ ‡æœºå™¨çš„ å†…ç½®æ•°å­—ç«‹ä½“å£°çš„play_back å°±å¥½äº†ã€‚\n","date":"2023-10-17T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/pipwire-remote/","title":"debianä¸‹x11å’Œpipewireç½‘ç»œæ’­æ”¾å£°éŸ³çš„æ–¹æ³• "},{"content":"i3ç”¨äº†å¾ˆä¹…éš¾å…æœ‰ä¸€ä¸¢ä¸¢è…»æ­ªï¼Œå°¤å…¶æ˜¯ä¸‘é™‹çš„æ ‡é¢˜æ å“ˆã€‚ wayfire å¯åŠ¨ å¹³é“ºæ¡Œé¢ï¼Œä¹Ÿå°±æ˜¯simple-tile\nå¯åŠ¨å¹³é“ºå’Œå±å¹•çš„é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 [core] plugins = \\ #.....å…¶ä»–æ’ä»¶ simple-tile #.....å…¶ä»–é…ç½® # å¹³é“ºçª—å£çš„é…ç½® [simple-tile] # ç§»åŠ¨çª—å£ button_move=\u0026lt;super\u0026gt; # å¹³é“ºçª—å£å¤§å° button_resize=\u0026lt;super\u0026gt; # æŒ‡å®šæ›´æ”¹ç„¦ç‚¹æ—¶æ˜¯å¦ä¿æŒå…¨å±çŠ¶æ€ã€‚å¦‚æœä¸ºtrueï¼Œåˆ™ä¸‹ä¸€ä¸ªèšç„¦çª—å£ä¹Ÿå°†å˜ä¸ºå…¨å±ã€‚å¦‚æœä¸ºfalseï¼Œåˆ™é€€å‡ºå…¨å±ã€‚é»˜è®¤å€¼ä¸ºtrueã€‚ keep_fullscreen_on_adjacent=true # åˆ‡æ¢ç„¦ç‚¹ key_focus_above =\u0026lt;super\u0026gt; KEY_UP key_focus_below =\u0026lt;super\u0026gt; KEY_DOWN key_focus_left =\u0026lt;super\u0026gt; KEY_LEFT key_focus_right =\u0026lt;super\u0026gt; KEY_RIGHT # åˆ‡æ¢å¹³é“º key_toggle = \u0026lt;super\u0026gt; \u0026lt;shift\u0026gt; KEY_C # ä¸ºç¬¦åˆæŒ‡å®šæ¡ä»¶çš„çª—å£å¯ç”¨å¹³é“ºã€‚é»˜è®¤å€¼ä¸ºall,è¿™é‡Œ tile_by_default = (floating is false) # è®¾ç½®å¹³é“ºçª—å£é—´éš” inner_gap_size = 0 # çª—å£ä¹‹é—´é—´è· outer_vert_gap_size = 0 #å±å¹•ä¸Šä¸‹é—´è· outer_horiz_gap_size= 0 #å±å¹•å·¦å³é—´è· ç›®å‰é‡åˆ°çš„å‡ ä¸ªé—®é¢˜ åœ¨çƒ­é‡è½½é…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œå¹³é“ºçš„çª—å£å¤§æ¦‚ç‡ä¼šå˜æˆæµ®åŠ¨ ã€‚ä½†æ˜¯çª—å£æœ€å°åŒ–å†æ¢å¤åå¯ä»¥è½¬æ¢ä¸ºå¹³é“ºã€‚ çª—å£çš„æµ®åŠ¨å’Œå¹³é“º çŠ¶æ€ä¸å¤ªå®¹æ˜“ ç›´è§‚çš„åŒºåˆ†ï¼Œå½“ä½ è¦å¯¹ä»–è¿›è¡Œå¯¹åº”çš„æ“ä½œçš„æ—¶å€™ï¼Œå‘ç°yçš„ä¸æ˜¯æµ®åŠ¨/å±å¹•çš„ æœ‰ç„¦ç‚¹ç§»åŠ¨çƒ­é”®ï¼Œæ²¡æœ‰åŠæ³•ç”¨çƒ­é”®ç§»åŠ¨çª—å£çš„å¹³é“ºä½ç½® åŒæ ·ä¹Ÿæ²¡æœ‰çƒ­é”®ä¿®æ”¹å¹³é“ºçª—å£å¤§å°çš„åŠŸèƒ½ã€‚ å¹³é“ºæ¨¡å¼ æ‹–åŠ¨çª—å£å¤§å°ï¼Œä¼šæœ‰é—ªçƒæŒºéš¾å—ã€‚ çœ‹wikiçš„è¯´æ˜ï¼Œå¹³é“ºæ˜¯ç”¨çš„ç™½åå•åˆ¶ï¼Œå’Œi3çš„åˆšå¥½ç›¸åã€‚æ²¡æœ‰å»çœ‹æºç ä¸çŸ¥é“æ˜¯å¦å¯ä»¥é»‘åå•ï¼Œæˆ–è€…æµ®åŠ¨ç™½åå•ã€‚ æœ‰å‡ ä¸ªé”®åç§°ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œæœ‰ä¸€äº›åœ¨é»˜è®¤é…ç½®æ–‡ä»¶é‡Œé¢ä½†æ˜¯æ— æ•ˆï¼Œè²Œä¼¼ä¹Ÿä¸æ”¯æŒé”®ç  æ‰‹åŠ¨ç”¨key_toggleåˆ‡æ¢ä¸ºæµ®åŠ¨çš„çª—å£ æœ€å°åŒ–åï¼Œå†æ¢å¤åˆä¼šå˜æˆå¹³é“ºã€‚ä½†æ˜¯è²Œä¼¼ä¸æ˜¯æ¯ä¸ªè½¯ä»¶éƒ½ä¼šå¦‚æ­¤ã€‚ çª—å£æµ®åŠ¨åï¼Œå†æ¬¡å¹³é“ºï¼Œä¸ä¼šå›åˆ°åŸä½ç½®ï¼ˆè¿™\u0026hellip; çœŸçš„è›‹ç–¼ï¼ï¼ï¼ï¼ï¼‰ éƒ¨åˆ†è½¯ä»¶åœ¨å¹³é“ºæ¨¡å¼ä¸‹ç¼©å°çš„è¿‡å°ï¼Œä¼šç›´æ¥ç¼©æ”¾çª—å£å†…å®¹å½“ç„¶å¤§æ¦‚ç‡ä¹Ÿä¼šå˜å½¢æ¨¡ç³Šçœ‹ä¸æ¸…ã€‚ç›®å‰é‡åˆ°sublimeTextå’Œremmina debianç³»ç»Ÿæºé‡Œçš„waybaråœ¨wayfireä¸‹ workapce/æ¡Œé¢ æš‚æ—¶æ˜¯æ— æ³•åœ¨waybaræ˜¾ç¤ºç¼–å·å’Œæ ‡æ³¨å½“å‰çª—å£çš„ï¼ˆéœ€è¦è‡ªå·±ç¼–è¯‘å¯åŠ¨warbarçš„å®éªŒé€‰é¡¹ï¼‰ éƒ¨åˆ†è½¯ä»¶çš„å¯¹è¯æ¡† éƒ½ä¸ä¼šè¢«è‡ªåŠ¨æµ®åŠ¨ï¼Œç„¶åç»™ä½ å¹³é“ºåˆ°åŒå±å¹•ä¸Šã€‚è‡ªç„¶ä¹Ÿæ˜¯å˜å½¢æ¨¡ç³Šä¸æ¸…ã€‚å³ä¾¿æ˜¯é…ç½®äº†tile_by_default = (floating is false) ä¹Ÿæœ‰æ¦‚ç‡å‡ºç°ã€‚ waybar çš„wlr/taskbar æœ‰æ¦‚ç‡ä¼šå¯¼è‡´çª—å£ä»åˆ«çš„æ¡Œé¢è·‘åˆ°å½“å‰æ¡Œé¢ã€‚è§£å†³å…«æ³•å°±æ˜¯\u0026quot;wlr/taskbar\u0026quot;é‡Œé¢ä¸ä½¿ç”¨ minimize åªä½¿ç”¨ activate å’Œ close wayfireå°šä¸æ”¯æŒext_workspace_unstable_v1 æ— æ³•åœ¨waybarå’Œpolybarä¸­æ˜¾ç¤ºå·¥ä½œåŒºã€‚ ","date":"2023-10-13T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/wayland/wayfire-i3/","title":"wayfireå¹³é“ºæ¡Œé¢çš„é…ç½®"},{"content":" 1 apt install swaylock æµ‹è¯•\n1 2 3 swaylock --color 015000 swaylock --image ./bg/zifa.jpg swaylock --image ./bg/zifa.jpg --color 015000 --show-keyboard-layout ä¿®æ”¹wayfireé…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 [autostart] #ç©ºé—²é”å± idle = swayidle before-sleep swaylock --image ./bg/zifa.jpg --color 015000 --show-keyboard-layout [command] #çƒ­é”®é”å®š binding_Lock =\u0026lt;super\u0026gt; KEY_L command_Lock= swaylock --image ./bg/zifa.jpg --color 015000 --show-keyboard-layout ","date":"2023-10-13T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/wayland/wayfire-lock/","title":"wayfireé”å±çš„ç®€å•é…ç½®"},{"content":"wayfireä¸‹ä¸å°å¿ƒè½¬åŠ¨çª—å£åä¸çŸ¥é“å¦‚ä½•æ¢å¤çª—å£ã€‚ å¯ä»¥å…³é—­çš„çª—å£å¯ä»¥å…³æ‰é‡æ–°æ‰“å¼€ã€‚ä½†æ˜¯èƒ½å…³é—­çš„å°±éº»çƒ¦äº†ã€‚ ç»è¿‡æ£€æŸ¥å\nwayfire é»˜è®¤æœ‰ä¸€ä¸ªé…ç½®\n1 2 [wrot] activate = \u0026lt;super\u0026gt; \u0026lt;ctrl\u0026gt; BTN_RIGHT è¿™ä¸ªæ˜¯æ°´å¹³è½¬åŠ¨çš„ï¼Œä½†æ˜¯è¿˜æœ‰éšè—çš„win + shfit + é¼ æ ‡å³é”®çš„ç«‹ä½“æ–¹å‘çš„è½¬åŠ¨ã€‚\nå¦‚æœè¦å…³é—­è¿™ä¸ªä¸¤ä¸ªåŠŸèƒ½ï¼Œï¼Œå¯ä»¥ç›´æ¥å»æ‰ wrot å³å¯ã€‚ å¦‚æœè¿˜æƒ³ä¿ç•™ã€‚æˆ‘ç›®å‰æ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆ å°±æ˜¯ åˆ©ç”¨wayfireçš„çƒ­é‡è½½é…ç½®æ–‡ä»¶åŠŸèƒ½ ä¿®æ”¹ wayfire çš„é…ç½®æ–‡ä»¶å…³æ‰wrotï¼Œç„¶åå†æ¢å¤wrotã€‚\nä¹Ÿå°±æ˜¯\n1 2 3 [core] plugins = \\ wrot \\ æ›¿æ¢ä¹‹å ç„¶åå†æ¢å¤ shellå¦‚ä¸‹\n1 2 sed -i \u0026#39;s/wrot \\\\/#wrot \\\\/g\u0026#39; $HOME/.config/wayfire.ini sed -i \u0026#39;s/#wrot \\\\/wrot \\\\/g\u0026#39; $HOME/.config/wayfire.ini å¯ä»¥ç›´æ¥ç»‘å®šä¸€ä¸ªçƒ­é”®ï¼Œå»command é‡Œé¢å¢åŠ ä¸€ä¸ª\n1 2 3 4 [command] # æ¢å¤æ‰€æœ‰æ—‹è½¬çš„çª—å£ binding_recoverWrot = \u0026lt;super\u0026gt; \u0026lt;ctrl\u0026gt; KEY_R command_recoverWrot = sed -i \u0026#39;s/wrot \\\\/#wrot \\\\/g\u0026#39; $HOME/.config/wayfire.ini \u0026amp;\u0026amp; sed -i \u0026#39;s/#wrot \\\\/wrot \\\\/g\u0026#39; $HOME/.config/wayfire.ini ","date":"2023-10-13T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/wayland/wf-wrot/","title":"wayfire ä¸å°å¿ƒè½¬åŠ¨çª—å£åå¦‚ä½•æ¢å¤çª—å£æ˜¾ç¤º"},{"content":"å…¨æ–‡åŸºäºdebian12 é»˜è®¤æºã€‚\nåŸºæœ¬å®‰è£… 1 2 3 4 apt install wayfire waybar seatd swaylock swayidle wlogout kanshi mako-notifier wlsunset wofi swaybg brightnessctl apt install xdg-desktop-portal xdg-desktop-portal-gtk xdg-desktop-portal-wlr apt install xwayland apt install fonts-font-awesome # å­—ä½“ waybar éå¿…é¡»ï¼Œå¯ä»¥ç”¨ polybar æ›¿ä»£ wlsunset æš–è‰²é…ç½®å·¥å…· éå¿…éœ€ wofi å¯ä»¥ç”¨ rofiæ›¿ä»£ é…ç½®æ–‡ä»¶ é»˜è®¤çš„\n1 2 3 4 5 cp /usr/share/doc/wayfire/examples/wayfire.ini ~/.config/wayfire.ini mkdir -p ~/.config/waybar/ cp /etc/xdg/waybar/config ~/.config/waybar/ cp /etc/xdg/waybar/style.css ~/.config/waybar/ mkdir -p ~/.config/kanshi \u0026amp;\u0026amp; touch ~/.config/kanshi/config æ›´å¤šé…ç½®æ–‡ä»¶è¿™é‡Œä¸åœ¨è¯´ï¼Œwayfireçš„é…ç½®è¾ƒä¸ºç®€å•\nwarbar è·Ÿéšwayfire å¯åŠ¨ æ·»åŠ æˆ–è€…ç¼–è¾‘ ~/.config/wayfire.ini\n1 2 [autostart] bar = waybar waybar çš„é…ç½®å’Œpolybaréå¸¸æ¥è¿‘ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªcssæ–‡ä»¶ï¼Œæ›´åŠ çµæ´»æ¼‚äº®ã€‚è¿™é‡Œä¹Ÿä¸å¤šè¯´ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šç°æˆçš„å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚\næˆªå›¾æ–¹æ¡ˆ ç›®å‰æœ€æ–°ç‰ˆæœ¬ flameshot 12.1.0 åœ¨ wayfire æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨ã€‚ éœ€è¦è‡ªå·±å¤„ç†æå®šæˆªå›¾éƒ¨åˆ†ã€‚åˆ†ä¸‰æ­¥ 1ã€é€‰åŒº(slurp) 2ã€ æˆªå›¾(grim) 3ç¼–è¾‘(swappy ksnip photoflare GIMP)ã€‚\n1 apt install slurp grim ksnip å†™ä¸€ä¸ªbashæ–‡ä»¶ï¼Œç„¶ååœ¨ wayfire.ini ç»‘å®šå¿«æ·é”®å³å¯\n1 2 3 4 #!/bin/sh NOW=$(date +\u0026#34;%Y-%m-%d-%H%M%S\u0026#34;) grim -g \u0026#34;$(slurp )\u0026#34; -t png $HOME/Pictures/grim-$NOW.png ksnip $HOME/Pictures/grim-$NOW.png ä¸Šé¢ä»£ç ksnip ï¼Œå®é™…æµ‹è¯• åœ¨ksnipå†…å¤åˆ¶åˆ°å‰ªåˆ‡æ¿çš„æ—¶å€™ä¼šä¸¢å¤±çªç ´çš„ä¸‹åŠéƒ¨åˆ† å¹¶ä¸”æ— æ³•ç²˜è´´åˆ°linuxqqã€‚photoflare kolourpaint ä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚ swappy ç›®å‰æ²¡æœ‰debçš„åŒ…ï¼Œéœ€è¦è‡ªå·±ç¼–è¯‘,æˆ‘æ²¡æœ‰æµ‹è¯•ã€‚ å¦‚æœå¯ä»¥æ¥å—GIMPçš„å¯åŠ¨é€Ÿåº¦ å’Œç¹çä¸æ–¹ä¾¿çš„ï¼Œå¯ä»¥ç”¨GIMPæ¥æ›¿ä»£ä¸Šé¢çš„ ksnipã€‚ä½†æ˜¯å› ä¸ºgimpå¯åŠ¨å®åœ¨å¤ªæ…¢äº†ï¼Œå¦‚æœè¦é¢‘ç¹æˆªå›¾å°±ä¸è¦å…³é—­gimpäº†ã€‚\nè§£å†³ç²˜è´´æ¿ å› ä¸ºä¸Šé¢çš„æ–¹æ¡ˆåœ¨ç²˜è´´åˆ°qqçš„æ—¶å€™ä¼šä¸¢å¤±å†…å®¹å¹¶ä¸”æ— æ³•å‘é€ï¼Œç²˜è´´åˆ°åˆ«å¤„ä¹Ÿä¼šä¸¢å†…å®¹ã€‚æ‰€ä»¥æœ‰äº†ä¸‹é¢çš„æ–¹æ¡ˆ\n1 apt install wl-clipboard ç„¶å ä¿®æ”¹ksnip é…ç½®é¡¹ 1ã€å…³é—­ å•åŠ¿åŠ› 2ã€å…³é—­ å…³é—­å’Œæœ€å°åŒ–çš„ç³»ç»Ÿæ‰˜ç›˜ã€‚ å·¥ä½œæ‹†è§£\n1 2 3 4 5 SAVEPATH=$HOME/Pictures/screenshot \u0026amp;\u0026amp; mkdir -p $SAVEPATH # æˆªå›¾ä¸´æ—¶å‚¨å­˜ç›®å½• NOW=$(date +\u0026#34;%Y-%m-%d-%H%M%S\u0026#34;) \u0026amp;\u0026amp; grim -g \u0026#34;$(slurp )\u0026#34; -t png $SAVEPATH/grim-$NOW.png # æˆªå›¾é€‰åŒºåˆ°ä¸´æ—¶ç›®å½• ksnip $SAVEPATH/grim-$NOW.png #ç¼–è¾‘ wl-copy \u0026lt; $SAVEPATH/grim-$NOW.png #å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ find \u0026#34;$SAVEPATH\u0026#34; -type f -mtime +3 -exec rm {} + #åˆ é™¤3å¤©å‰çš„æ–‡ä»¶ ~/.config/wayfire.ini\n1 2 3 [command] binding_screenshot = \u0026lt;super\u0026gt; KEY_P command_screenshot = SAVEPATH=$HOME/Pictures/screenshot \u0026amp;\u0026amp; mkdir -p $SAVEPATH \u0026amp;\u0026amp; NOW=$(date +\u0026#34;%Y-%m-%d-%H%M%S\u0026#34;) \u0026amp;\u0026amp; grim -g \u0026#34;$(slurp )\u0026#34; -t png $SAVEPATH/grim-$NOW.png \u0026amp;\u0026amp; ksnip $SAVEPATH/grim-$NOW.png \u0026amp;\u0026amp; wl-copy \u0026lt; $SAVEPATH/grim-$NOW.png \u0026amp;\u0026amp; find \u0026#34;$SAVEPATH\u0026#34; -type f -mtime +3 -exec rm {} + ä½¿ç”¨æ–¹æ³• æŒ‰ä¸‹ win+p æˆ–è€…ä½ è‡ªå·±ä¿®æ”¹çš„çƒ­é”®ã€‚ é€‰åŒº æˆªå›¾ ä¼šè‡ªåŠ¨æ‰“å¼€ ksnip ï¼Œæ ‡æ³¨ ä¿å­˜ï¼ˆctrl+sï¼‰ï¼Œç„¶åå…³é—­ ksnip ï¼ˆalt+f4 | win+q | win+ shift+qï¼‰ æˆ–è€…ç›´æ¥å…³é—­ ï¼Œæˆ–è€…å…³é—­æç¤ºä¿å­˜ä¿®æ”¹çš„æ—¶å€™å›è½¦ã€‚\nè¿›é˜¶æ€è·¯ è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ ä¸Šé¢çš„shellå¾ˆç®€å•äº†ï¼Œä¹Ÿå¯ä»¥ç”¨rcloneæˆ–è€…curlä¸Šä¼ åˆ°å›¾åºŠå¹¶è¿”å›mdä»£ç åˆ°å‰ªåˆ‡æ¿ã€‚ksnipä¹Ÿè‡ªå¸¦è¿™ä¸ªåŠŸèƒ½ã€‚ è¿™é‡Œå°±ä¸å•°å—¦äº†ã€‚\nä¸ä¿å­˜ä¸´æ—¶æ–‡ä»¶ è·¯å¾„æ”¾åˆ° /tmp æˆ–è€… /dev/shm å°±å¥½äº†ã€‚æˆ–è€…è‡ªå®šä¹‰ctrl+v å¹¶åˆ é™¤ä¸´æ—¶æ–‡ä»¶ä¹Ÿè¡Œã€‚\nå½•å±æ–¹æ¡ˆ ç›®å‰ wayfire åªèƒ½ å…¨å±å½•åˆ¶ï¼Œå¥½åƒæ²¡æœ‰åˆ«çš„åŠæ³•ã€‚\n1 apt install obs-studio å› ä¸ºæˆ‘å‡ ä¹ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥æ²¡æœ‰å»å¯»æ‰¾å…¶ä»–æ–¹æ¡ˆã€‚ä½†æ˜¯ç®€å•æƒ³ä¸€ä¸‹ï¼Œåº”è¯¥æ˜¯å¯ä»¥ç”¨wayvncåŠŸèƒ½ åœ¨x11ä¸‹å½•åˆ¶çš„ å“ˆå“ˆã€‚\n","date":"2023-10-13T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/wayland/wayfire/","title":"debianä¸‹wayfireæˆªå›¾çš„è§£å†³æ–¹æ¡ˆ æ¥è¿‘å®Œç¾"},{"content":"/usr/share/applications/qq.desktop\n1 2 3 4 5 6 7 8 9 [Desktop Entry] Type=Application Encoding=UTF-8 Name=qq Comment=qq Exec=/opt/startup_appimage.sh /opt/qq.AppImage Icon= Terminal=false Categories=System; /opt/startup_appimage.sh\n1 2 3 4 5 6 7 8 9 #!/bin/bash if [ \u0026#34;$(id -u)\u0026#34; -eq 0 ]; then echo \u0026#34;å½“å‰ç”¨æˆ·æ˜¯root\u0026#34; $1 --no-sandbox else echo \u0026#34;å½“å‰ç”¨æˆ·ä¸æ˜¯root\u0026#34; $1 fi ","date":"2023-10-08T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/startup_appimage/","title":"linuxå¯åŠ¨appimage å¿«æ·æ–¹å¼å’Œè„šæœ¬"},{"content":"æœ¬æ–‡å†…å®¹æ˜¯ https://dev.leiyanhui.com/pve/pve-uhd-hook-win-11-all çš„åç»­ã€‚ ä¸»è¦æ˜¯ä¸ºäº†å®ç°ï¼š pve å®¿ä¸»æœºå™¨å®‰è£…æ¡Œé¢ä½œä¸ºæ—¥ç”¨æœºä½¿ç”¨ï¼ˆlightdm+i3wï¼‰æ­¤æ­¥éª¤ç•¥ã€‚ win11-1 ï¼ˆ1101ï¼‰å¼€æœºåä¸ç›´é€šä»»ä½•è®¾å¤‡ä¸å½±å“pveå®¿ä¸»æ¡Œé¢ï¼Œåªèƒ½é€šè¿‡rdpè¿œç¨‹è®¿é—®ã€‚ win11-2 ï¼ˆ1102ï¼‰å¼€æœºåæ¥ç®¡æ ¸æ˜¾ å’Œusbé”®é¼ ç­‰ï¼Œå…³æœºåç¡¬ä»¶é€€è¿˜ç»™å®¿ä¸»æœºã€‚ win11-3 ï¼ˆ1103ï¼‰å’Œ win11-2 ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯win11-3æ”¯æŒpveç½‘é¡µæ§åˆ¶å°çš„vncå±å¹•ï¼Œä¹Ÿå°±æ˜¯åŒå±å¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªè®¾å¤‡ä¸Šç®€å•çš„å®ç°åˆ†å±åŠŸèƒ½ã€‚ä½†æ˜¯æ²¡æœ‰å¼€æœºå¯åŠ¨ç”»é¢ä¼šçŸ­æš‚é»‘å±æ— ä¿¡å·ï¼Œä¸€ç›´åˆ°winç™»é™†ç•Œé¢æ‰å¯ä»¥ç‚¹äº®æ ¸æ˜¾ã€‚ ä¸‰ä¸ªvm ç£ç›˜å’Œç³»ç»Ÿå†…å®¹å®Œå…¨ä¸€æ ·ï¼Œå…±äº«è™šæ‹Ÿç£ç›˜æ–‡ä»¶ ä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªå¼€æœºå¤„äºå¼€æœºçŠ¶æ€ã€‚\næœ¬æ–‡å†…å®¹å‚è€ƒzhing å’Œ ledIsBeat ä¸¤ä½å¤§ç¥ï¼Œå¹¶è¿›ä¸€æ­¥ä¼˜åŒ–å’Œç²¾ç®€ã€‚ å…¶ä»–å†…å®¹ä¾‹å¦‚ biosé…ç½®å’Œcsmç­‰å‚è€ƒ å‰æ–‡ ã€‚\npveå’Œbiosé…ç½® ç®€å•çš„è¯´ï¼Œå°±æ˜¯ ä¸è¦é»‘åå•ï¼Œä¸è¦vfioé…ç½®ã€‚grubåªintel_iommu=on ã€‚\nbiosé…ç½®å‚è€ƒå‰æ–‡\ngrub 1 2 nano /etc/default/grub # ä¿®æ”¹ä¸‹é¢å†…å®¹ï¼Œè¿™é‡Œä¸è¦åˆ«çš„å†…å®¹ GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet intel_iommu=on\u0026#34; å…¶ä»– /etc/modules éœ€è¦æ·»åŠ  å››è¡Œ vfio vfio_iommu_type1 vfio_pci vfio_virqfdï¼ˆæœ‰çš„è®¾å¤‡ä¸éœ€è¦ï¼‰ /etc/modprobe.d/pve-blacklist.conf åˆ é™¤ blacklist i915 ã€ blacklist snd_hda_intel ã€blacklist snd_hda_codec_hdmi ä¸éœ€è¦å±è”½ï¼Œä¸ç„¶å®¿ä¸»æœºæ ¸æ˜¾æ²¡æ˜¾ç¤ºäº†ã€‚å¦‚æœä½ éœ€è¦å±è”½æ‰èƒ½ç›´é€šã€‚æœ¬æ–‡ä¸é€‚åˆä½ ã€‚ /etc/modprobe.d/vfio.conf å¦‚æœä½ ä¹‹å‰åšäº†vfio ï¼Œç›´æ¥åˆ æ‰è¿™ä¸ªæ–‡ä»¶ï¼Œä¸éœ€è¦ã€‚ ls /etc/modprobe.d/ æ£€æŸ¥æœ‰æ²¡æœ‰å¤šäºçš„æ–‡ä»¶ åº”è¯¥åªæœ‰ä¸€ä¸ª pve-blacklist.conf æ–‡ä»¶æ‰å¯ä»¥ å¦‚æœä½ æ²¡æœ‰ç‹¬æ˜¾pve-blacklist.confä¹Ÿå¯ä»¥åˆ æ‰ã€‚\n1 2 update-grub update-initramfs -u -k all # å¯èƒ½éœ€è¦æ›´æ–°gurbåé‡å¯åå†è¿è¡Œè¿™è¡Œ å‡†å¤‡æ–‡ä»¶ win11 å®‰è£…é•œåƒï¼š https://www.microsoft.com/zh-cn/software-download/windows11 win virioé©±åŠ¨iso ï¼šhttps://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/ é’©å­è„šæœ¬ ï¼š https://github.com/joyanhui/file.leiyanhui.com/tree/main/pve-igpu-hooks æŠ€å˜‰ B150M-PIO-SI R3 ä¸»æ¿è™šæ‹Ÿbiosæ–‡ä»¶ï¼šhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-igpu-hooks/b150m.bin ï¼ˆå¤§å¤§å¸…å¤§ä½¬ç»™ä¿®æ”¹çš„ï¼‰\nå®‰è£…win11-1ï¼ˆ1101ï¼‰ æœ‰å¾ˆå¤šç§æ¨¡å¼å¯ä»¥å®ç°ï¼Œæˆ‘è¿™é‡Œç”¨q35+ovmf+tpm æ­£å¸¸åœ¨pve ç½‘é¡µæ§åˆ¶å° å®‰è£…æ ‡å‡†ç‰ˆwin11 22H2 ã€‚è¿™é‡Œå°±ä¸è¯´äº†ï¼Œç›´æ¥è´´é…ç½®æ–‡ä»¶/etc/pve/qemu-server/1101.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 agent: 1 bios: ovmf boot: order=virtio0;ide2 cores: 12 cpu: host efidisk0: local:1101/vm-1101-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K ide0: local:iso/virtio-win-0.1.240.iso,media=cdrom,size=612812K ide2: local:iso/Win11_22H2_Chinese_Simplified_x64v2.iso,media=cdrom,size=5723780K machine: pc-q35-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695966414 name: win11-1 net0: virtio=72:57:35:2C:58:36,bridge=vmbr0,firewall=1 numa: 0 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=9263edd9-30d2-43e7-8907-46bc55fbe996 sockets: 1 tpmstate0: local:1101/vm-1101-disk-1.raw,size=4M,version=v2.0 virtio0: local:1101/vm-1101-disk-2.qcow2,cache=unsafe,iothread=1,size=12G vmgenid: 9a7d17fc-bc6b-4b76-87d2-f523834aee4a æ‰¾ä¸åˆ°ç¡¬ç›˜é©±åŠ¨çš„æ—¶å€™ï¼Œç‚¹å‡»æµè§ˆï¼Œé€‰æ‹©cdromï¼ˆvirtioï¼‰ä¸­çš„ amd64ç›®å½•ä¸‹çš„win11ï¼Œå…¶ä»–é©±åŠ¨è¿›æ¡Œé¢åå†è£… è”ç½‘ç•Œé¢ï¼Œåœ¨pveçš„ç½‘é¡µæ§åˆ¶å°ç•Œé¢ ç‚¹ä¸€ä¸‹å·¦ä¾§æ‚¬æµ®çš„ å°ç®­å¤´ï¼Œç„¶åä¾æ¬¡ç‚¹ A \u0026gt; ctrl(å¯èƒ½éœ€è¦ç‚¹ä¸¤ä¸‹) å†ç‚¹ä¸€ä¸‹é”®ç›˜çš„ Shift+F10(Fn+F10)ã€‚ç„¶ååœ¨å¼¹å‡ºçš„cmdå‘½ä»¤è¾“å…¥ oobe\\bypassnro å›è½¦ é‡å¯ï¼Œç„¶åé‡æ–°é€‰å›½å®¶é”®ç›˜ç­‰å°±å¯ä»¥é€‰æ‹©ä¸è”ç½‘ã€‚ è¿›å…¥æ¡Œé¢åå°±å¯ä»¥å®‰è£…å…‰é©±é‡Œé¢çš„é©±åŠ¨äº†ã€‚ç„¶åè”ç½‘ï¼Œå…³é—­ä¼‘çœ ï¼Œå…³é—­Cé¡µé¢æ–‡ä»¶ï¼Œä¿®æ”¹è®¡ç®—æœºåç§°æˆ–è€…ipé…ç½®ï¼Œæ‰“å¼€è¿œç¨‹æ¡Œé¢ï¼Œæœ¬åœ°è´¦å·è®¾ç½®å¯†ç ï¼Œæµ‹è¯•è¿œç¨‹æ¡Œé¢æ˜¯å¦å¯ä»¥æ­£å¸¸è¿æ¥ã€‚é¡ºå¸¦è£…ä¸ªdism++ å¯ä»¥ç®€å•æ¸…ç†ä¸€ä¸‹ã€‚\né…ç½®win11-2 ä»¥åŠç›´é€š é’©å­è„šæœ¬å‡†å¤‡ ä¸Šé¢ä¸‹è½½çš„é’©å­è„šæœ¬ å¤åˆ¶åˆ° /opt/pve-igpu-hooks è¦cdè¿›å»åŠ æ‰§è¡Œæƒé™ chmod a+x *.sh *.pl è€Œåå¤åˆ¶æ–‡ä»¶æˆ–è€…ln\n1 2 3 mkdir -p /var/lib/vz/snippets rm -rf /var/lib/vz/snippets/hooks-igpupt.pl ln -sf /opt/pve-igpu-hooks/hooks-igpupt.pl /var/lib/vz/snippets/hooks-igpupt.pl#cp hooks-igpupt.pl /var/lib/vz/snippets/hooks-igpupt.pl win11-1 å°è°ƒæ•´ ç„¶åä¸Šé¢åˆ›å»ºçš„ç¡¬ç›˜åªæœ‰12Gå¤§å°å†å°è£…ä¸æœºã€‚å¯ä»¥å¤‡ä»½ä¸€ä¸‹sudo cp /var/lib/vz/images/1101/vm-1101-disk-2.qcow2 /home/yanhui/pve-files/w11-q35-12G.qcow2 ã€‚ç„¶åè¿”å›pveç½‘é¡µæ§åˆ¶å°é€‰ä¸­è¿™ä¸ªè™šæ‹Ÿç£ç›˜æ–‡ä»¶ç£ç›˜æ“ä½œè°ƒæ•´å¤§å°ï¼Œå¢åŠ 88Gå®¹é‡ã€‚è€Œåå¯ä»¥è¿”å›winçš„ç£ç›˜ç®¡ç†é‡Œé¢ æ‰©å®¹ç£ç›˜ï¼ˆå¼€æœºçŠ¶æ€ä¸‹ virioå¯ä»¥æ‰©å®¹ï¼‰\nå¦å¤–é¢å¤–æŒ‚è½½ä¸€ä¸ªç£ç›˜ï¼Œå¹¶å»æ‰å¤šä½™çš„å…‰é©±ã€‚\nå¤åˆ¶å‡ºwin11-2 å¹¶é…ç½® cp /etc/pve/qemu-server/1101.conf /etc/pve/qemu-server/1102.conf è¿™æ ·1102 å’Œ1101 å…±äº«ç£ç›˜æ–‡ä»¶ã€‚\nç¼–è¾‘win11-2ï¼ˆ1102ï¼‰ æ˜¾ç¤º None ï¼Œæœºå‹i440fxï¼Œæ·»åŠ usbè®¾å¤‡å’Œæ ¸æ˜¾ æ¿è½½å£°å¡ã€‚ç„¶åç¼–è¾‘1102.conf æ·»åŠ args ä¿®æ”¹ æ ¸æ˜¾çš„é…ç½® ä»¥åŠæ·»åŠ hookscriptï¼Œå¦å¤–biosè®¾ç½®ä¸ºé»˜è®¤seafæœ€ç»ˆé…ç½®æ–‡ä»¶å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 agent: 1 args: -bios /opt/pve-igpu-hooks/b150m.bin -set device.hostpci0.addr=02.0 -set device.hostpci0.x-igd-gms=2 -set device.hostpci0.x-igd-opregion=on -smbios type=2 -global nec-usb-xhci.msi=off -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off -cpu host,vendor=GenuineIntel,+invtsc,+hypervisor,kvm=on,vmware-cpuid-freq=on boot: order=virtio0 cores: 12 cpu: host efidisk0: local:1101/vm-1101-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K hookscript: local:snippets/hooks-igpupt.pl hostpci0: 0000:00:02.0,legacy-igd=1 machine: pc-i440fx-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695966414 name: win11-1 net0: virtio=72:57:35:2C:58:36,bridge=vmbr0,firewall=1 numa: 0 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=9263edd9-30d2-43e7-8907-46bc55fbe996 sockets: 1 tpmstate0: local:1101/vm-1101-disk-1.raw,size=4M,version=v2.0 usb0: host=1ea7:0064,usb3=1 usb1: host=260d:0013,usb3=1 vga: none virtio0: local:1101/vm-1101-disk-2.qcow2,cache=unsafe,iothread=1,size=100G virtio1: local:1101/vm-1101-disk-3.qcow2,cache=unsafe,iothread=1,size=120G vmgenid: 9a7d17fc-bc6b-4b76-87d2-f523834aee4a ä¸»æ¿vbiosæ–‡ä»¶-bios /opt/pve-igpu-hooks/b150m.bin ä»…é€‚åˆæˆ‘çš„ä¸»æ¿ï¼Œä¸æ˜¯æ‰€æœ‰å¹³å°éƒ½éœ€è¦è¿™ä¸ªæ–‡ä»¶ï¼Œä½ å¯ä»¥åˆ æ‰argsé‡Œé¢çš„è¿™æ®µå†…å®¹å…ˆçœ‹çœ‹èƒ½ä¸èƒ½å¯åŠ¨ã€‚ä¹Ÿå¯ä»¥ä»/usr/share/kvm/ æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªã€‚argsåé¢çš„å†…å®¹ æ˜¯ä¸€äº›æ˜¾å¡çš„é…ç½®è¿˜æœ‰é˜²æ­¢è¢«æ£€æµ‹è™šæ‹Ÿæœºç­‰ã€‚\nå¼€æœºåï¼Œusbè®¾å¤‡å’Œæ ¸æ˜¾æ­£å¸¸æ—¶å¯ä»¥ç‚¹äº®çš„ã€‚æ‰©å®¹Cç›˜ï¼Œç”¨ç³»ç»Ÿæ›´æ–°åŠŸèƒ½å®‰è£…æ˜¾å¡é©±åŠ¨ï¼ˆwin11-3 å› ä¸ºæ˜¯q35æ¨¡å¼éœ€è¦å…ˆæœ‰é©±åŠ¨æ‰èƒ½ç‚¹æ ¸æ˜¾ï¼‰ã€‚\nwin11-3ï¼ˆ1103ï¼‰ cp /etc/pve/qemu-server/1101.conf /etc/pve/qemu-server/1103.conf è¿™æ ·1103 ä¹Ÿ å’Œ1101 å…±äº«ç£ç›˜æ–‡ä»¶ã€‚åªæ·»åŠ argså’Œé’©å­ ç„¶åæ·»åŠ usbè®¾å¤‡å³å¯ï¼Œæœ€ç»ˆé…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 agent: 1 args: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-opregion=on,romfile=vbios_gvt_uefi.rom bios: ovmf boot: order=virtio0 cores: 12 cpu: host efidisk0: local:1101/vm-1101-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K hookscript: local:snippets/hooks-igpupt.pl machine: pc-q35-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695966414 name: win11-q35-x2 net0: virtio=72:57:35:2C:58:36,bridge=vmbr0,firewall=1 numa: 0 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=9263edd9-30d2-43e7-8907-46bc55fbe996 sockets: 1 tpmstate0: local:1101/vm-1101-disk-1.raw,size=4M,version=v2.0 usb0: host=1ea7:0064,usb3=1 usb1: host=260d:0013,usb3=1 virtio0: local:1101/vm-1101-disk-2.qcow2,cache=unsafe,iothread=1,size=100G virtio1: local:1101/vm-1101-disk-3.qcow2,cache=unsafe,iothread=1,size=120G vmgenid: 9a7d17fc-bc6b-4b76-87d2-f523834aee4a q35 æ¨¡å¼ å¯ä»¥åŒå±å¹•ï¼Œå¯åŠ¨çš„æ—¶å€™ä¼šæç¤ºä¸€ä¸ª IGDä¸æ”¯æŒlegacyçš„è­¦å‘Šä¿¡æ¯ï¼Œä¸ç”¨ç†ä¼šã€‚\nå¦‚æœæç¤ºvfio/xx/0 ä¸å­˜åœ¨çš„é”™è¯¯ é‡å¯å†å¯åŠ¨ä¸€ä¸‹å°±å¯ä»¥ï¼Œå¯ä»¥ç”¨æ‰‹æœº sshè¿‡æ¥ qm start 1103 è¿™æ ·å¯åŠ¨\næ›´å¤šå¯ä»¥å‚è€ƒ ï¼š\nhttps://dev.leiyanhui.com/pve/win-gpu/\nhttps://dev.leiyanhui.com/pve/pve-uhd-hook-win-11-all\nhttps://zhing.fun/pve_igpupt/\n","date":"2023-09-27T22:14:22+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-uhd-hook-win-11-1/","title":"pve ç›´é€šé’©å­ - pveæ¡Œé¢ç¯å¢ƒæ—¥ç”¨ï¼Œwin11 ä¸‰æœºå™¨é’©å­è„šæœ¬è‡ªåŠ¨å ç”¨æ ¸æ˜¾ å¿«é€Ÿå®ç°"},{"content":" æœ¬æ–‡éƒ¨åˆ†å†…å®¹è¿‡æœŸï¼Œè¯·æŸ¥çœ‹æ–°ç‰ˆ\nhttps://dev.leiyanhui.com/pve/pve-uhd-hook-win-11-1\nå¦å¤–æ–‡ä¸­æ²¡æœ‰ç›´é€šå£°å¡è¿›å»ï¼Œæ‰€ä»¥è™šæ‹ŸæœºHDMIä¹Ÿæ²¡æœ‰å£°éŸ³ã€‚ è¯·å¦å¤–åŠ è¿›å»å³å¯\nç›®æ ‡ pve æ¡Œé¢ç¯å¢ƒæ—¥ç”¨winå’Œmacos å¶å°”ä½¿ç”¨ã€‚\nwin1 å¼€æœº ï¼Œä¸ç›´é€š usb å’Œ æ˜¾å¡ï¼Œä½¿ç”¨rdpè¿œç¨‹æ¡Œé¢æ“ä½œã€‚\nwin2 å¼€æœº ç‹¬å æ˜¾å¡ å£°å¡å’Œusbé”®é¼  ä»¥åŠå…¶ä»–usbè®¾å¤‡ã€‚ win2å…³æœºå ç›´é€šçš„ç¡¬ä»¶ è¿”ç»™pve.\nmacos ä¹Ÿæ˜¯ä¸€æ ·ï¼ˆæœ¬æ–‡ç›®å‰åªæœ‰winéƒ¨åˆ†çš„å†…å®¹ï¼Œmacosçš„ç¨åæ•´ç†ï¼‰ã€‚\næ³¨æ„ éƒ¨åˆ†cpu/ä¸»æ¿ æš‚æ—¶æ˜¯ä¸èƒ½å®Œå…¨æ”¯æŒçš„ã€‚æˆ‘è¿™é‡Œå¯ä»¥æ­£å¸¸æŒ‚è½½å’Œè‡ªåŠ¨é€€è¿˜ç»™å®¿ä¸»ã€‚ä½†æ˜¯å®é™…ä½¿ç”¨å­˜åœ¨ä¸€ä¸‹å‡ ä¸ªé—®é¢˜ï¼š\nå¼€æœºç”»é¢ï¼ŒQ35æ¨¡å¼ä¸‹æ²¡æå®ši440fxä¸‹å¯ç”¨ï¼Œä½†æ˜¯éœ€è¦æŒ‚è½½å®šåˆ¶ä¸»æ¿biosæ–‡ä»¶ï¼Œå¯ä»¥å’Œmacosç›´é€šæ ¸æ˜¾éœ€è¦çš„biosæ–‡ä»¶é€šç”¨ã€‚è¿™ä¸ªä¸æ˜¯å¤§é—®é¢˜ã€‚ vmå¼€æœºåï¼Œæ˜¾å¡ä¼šç›´é€šç»™vm å®¿ä¸»æœºæ¡Œé¢çš„è½¯ä»¶éƒ½ä¼šé€€å‡ºï¼Œè¿™ä¸ªæŒºä¸çˆ½çš„å“ˆã€‚è¿™ä¸ªåæœŸå¯ä»¥ä¿®æ”¹ledisbestå¤§ä½¬çš„è„šæœ¬æ¥å®ç°ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ¡Œé¢ä¸‹çš„æ‰€æœ‰è½¯ä»¶ä¸¢åˆ°vnc,è€Œåvmæ¨¡å¼ä¸‹å¯ä»¥ç”¨vncç»§ç»­æ“ä½œï¼Œvmå…³æœºåå†è¿”ç»™å®¿ä¸»çš„æ¡Œé¢ã€‚æš‚æ—¶ç•™ä¸€ä¸ªå‘ã€‚ 1 2 3 4 5 6 7 \u0026gt; æˆ‘çš„ç¡¬ä»¶é…ç½® : - qnct i7 8850h - æŠ€å˜‰ B150M-PIO-SI R3 - OS: Proxmox VE 8.0.3 x86_64 - Kernel: 6.2.16-3-pve pveç‰ˆæœ¬8.0.3 - æ ¸æ˜¾ uhd630 - æ¡Œé¢æ˜¯i3w æ¡Œé¢ç®¡ç†å™¨æœ¬æ¥æ˜¯ç”¨çš„ xinit,ä½†æ˜¯å‘ç°zhingå’Œledisbestå¤§ä½¬çš„è„šæœ¬ä¸æ”¯æŒï¼Œæ‰€ä»¥å¹²è„†å…ˆæ¢äº†lightdm ç¡¬ä»¶QNCT å®é™…æµ‹è¯•æœ‰å‡ ç§æ–¹æ¡ˆï¼ˆå‡ä¸é™åˆ¶winç‰ˆæœ¬å’Œé©±åŠ¨ç‰ˆæœ¬ï¼‰\n1ã€i440fx seaf å®é™…æµ‹è¯• æ•ˆæœä¸å¥½ï¼Œæ“ä½œæœ‰å¡é¡¿æ„Ÿï¼Œç³»ç»Ÿæ›´æ–°çš„æ—¶å€™é‡å¯é»‘å±æ— æ³•ç¯å¢ƒ å¯ä»¥æœ‰å¼€æœºç”»é¢ï¼Œwinpeä¹‹ç±»æ— é©±åŠ¨æ¨¡å¼ å¯ç”¨\n2ã€i440fx ovmf æ€§èƒ½å¯ä»¥ æ“ä½œæµç•… å¯ä»¥æœ‰å¼€æœºç”»é¢ï¼Œwinpeä¹‹ç±»æ— é©±åŠ¨æ¨¡å¼ å¯ç”¨\n3ã€q35 ovmf æ€§èƒ½å¯ä»¥ æ“ä½œæµç•… æš‚æ—¶æ²¡ç ”ç©¶æ˜ç™½æ€ä¹ˆæ·»åŠ å¼€æœºç”»é¢ï¼Œpveæ§åˆ¶å°å±å¹•å¯ç”¨ï¼Œwinpeä¹‹ç±»é©±åŠ¨æ¨¡å¼ æ— æ³•ä½¿ç”¨ã€‚winè¦å®‰è£…é©±åŠ¨åæ‰å¯ä»¥ç‚¹äº®ç›´é€šæ ¸æ˜¾ã€‚\nå…³äºtpmï¼Œå¯ä»¥ç”¨winä¸‹ç”¨batè„šæœ¬å¤„ç†isoæ–‡ä»¶ç„¶åå°±è„±ç¦»tpmå®‰è£…ã€‚ä¹Ÿå¯ä»¥ q35 ovmf+tpm å®‰è£…æˆåŠŸåä¿®æ”¹ä¸º i440fxã€‚\nåé¢å†…å®¹æœ‰ä¸€éƒ¨åˆ†ä½¿ç”¨äº†æ˜¾å¡çš„romæ–‡ä»¶ï¼Œä½†æ˜¯å®é™…æµ‹è¯•åœ¨æˆ‘çš„è®¾å¤‡ä¸Šä¸éœ€è¦\nbiosçš„é…ç½® åªéœ€è¦å¼€å¯ vt-d å³å¯ï¼Œgmsæ— è¦æ±‚ï¼Œå¯ä»¥uefiä¹Ÿå¯ä»¥ä¼ ç»Ÿæ¨¡å¼å¯åŠ¨pve.\npveå®‰è£…ä¸€ä¸ªwindows VM ID æ˜¯ 811 ç”¨uefi q35æœºå‹,é©±åŠ¨ç”¨çš„ è™šæ‹ŸåŒ–é©±åŠ¨ç”¨çš„ virtio-win-0.1.215.isoã€‚å‚è€ƒé…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 agent: 1 bios: ovmf boot: order=virtio0 cores: 12 cpu: host efidisk0: local:811/vm-811-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K ide0: local:iso/virtio-win-0.1.240.iso,media=cdrom,size=612812K ide2: local:iso/Win11_22H2_Chinese_Simplified_x64v2.iso,media=cdrom,size=5723780K machine: pc-q35-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695825773 net0: virtio=0E:01:BC:9D:02:51,bridge=vmbr0,firewall=1 numa: 1 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=37977c80-49d4-49f8-8cda-cc03b4ca2fc6 sockets: 1 tpmstate0: local:811/vm-811-disk-1.raw,size=4M,version=v2.0 virtio0: local:811/vm-811-disk-2.qcow2,cache=unsafe,iothread=1,size=30G virtio1: local:811/vm-811-disk-3.qcow2,iothread=1,size=64G vmgenid: 6328352c-225d-4a86-b7ee-643a781aafe0 æ­£å¸¸å®‰è£…ï¼Œæ‰¾ä¸åˆ°ç¡¬ç›˜çš„æ—¶å€™ åŠ è½½ä¸€ä¸‹é©±åŠ¨ï¼Œæç¤ºè”ç½‘çš„æ—¶å€™ï¼Œæ­£å¸¸è·³è¿‡: fn + shift + f10 ç„¶åç»ˆç«¯è¾“å…¥ oobe\\bypassnro.cmd å›è½¦é‡å¯\nè£…å®Œå å®‰è£…é©±åŠ¨ å…³é—­ä¼‘çœ ï¼ˆå¿…é¡»å…³é—­ï¼‰å®‰è£…å®Œæˆåï¼Œå›ºå®šwin11çš„ip(ä¹Ÿå¯ä»¥ä¿®æ”¹è®¡ç®—æœºåæˆ–è€…è·¯ç”±å™¨é‡Œé¢æŸ¥çœ‹),å¹¶æ‰“å¼€è¿œç¨‹æ¡Œé¢ï¼ˆè¦å…ˆæµ‹è¯•ç¡®å®šæ²¡é—®é¢˜ï¼‰ å…³é—­ä¼‘çœ ç­‰ã€‚\nå¤åˆ¶ä¸€ä¸ªè™šæ‹Ÿæœº è¿™æ ·å¯ä»¥åœ¨ä¸å½±å“811å•ç‹¬å¯åŠ¨çš„æƒ…å†µä¸‹ åˆ›å»ºä¸€ä¸ªæ–°çš„911è™šæ‹Ÿæœºï¼Œä¸¤ä¸ªè™šæ‹Ÿæœºç£ç›˜ä¸€æ · æ‰€ä»¥ä¸èƒ½åŒæ—¶å¯åŠ¨ã€‚\n1 sudo cp /etc/pve/qemu-server/811.conf /etc/pve/qemu-server/911.conf ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ æ·»åŠ ä¸‰è¡Œ argsè®¾ç½® æ ¸æ˜¾ç›´é€šï¼ˆvbios_gvt_uefi.romæ˜¯éå¿…é¡»çš„ï¼Œå¦‚æœéœ€è¦å¯ä»¥æ”¾åˆ°/usr/share/kvm/ï¼‰å’Œ é’©å­è„šæœ¬ï¼ˆåæ–‡è·å–ï¼‰\n1 2 3 args: -set device.hostpci0.addr=02.0 -set device.hostpci0.x-igd-gms=1 -set device.hostpci0.x-igd-opregion=on hostpci0: 0000:00:02.0,legacy-igd=1,romfile=vbios_gvt_uefi.rom hookscript: local:snippets/hooks-igpupt.pl ç„¶åè¿”å›pve ç½‘é¡µæ§åˆ¶å°ç»™911 æ·»åŠ ä¸€ä¸ªusbè®¾å¤‡ã€‚å¹¶è®¾ç½®æ˜¾ç¤ºnone,æœºå‹ä¿®æ”¹ä¸ºi440fxã€‚\nå¯åŠ¨911å pve ä¼šé»‘å±ã€‚ ç”¨å¦å¤–ä¸€ä¸ªè®¾å¤‡æ¯”å¦‚iphone iSH è¿æ¥åˆ°pve,è¿è¡Œ qm start 911â€‹ æ‰‹åŠ¨å¯åŠ¨å¹¶çœ‹ä¸‹èƒ½å¦å¯åŠ¨ï¼Œè€Œåç”¨ è¿œç¨‹æ¡Œé¢app è¿æ¥åˆ°winï¼ˆå¯ä»¥ç”¨winè®¡ç®—æœºåæˆ–è€…è·¯ç”±å™¨æŸ¥çœ‹ipï¼‰\næœ€ç»ˆå‚è€ƒå¦‚ä¸‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 agent: 1 args: -set device.hostpci0.addr=02.0 -set device.hostpci0.x-igd-gms=1 -set device.hostpci0.x-igd-opregion=on bios: ovmf boot: order=virtio0 cores: 12 cpu: host efidisk0: local:811/vm-811-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K hookscript: local:snippets/hooks-igpupt.pl hostpci0: 0000:00:02.0,legacy-igd=1 hostpci1: 0000:00:1f.3 ide0: local:iso/virtio-win-0.1.240.iso,media=cdrom,size=612812K ide2: local:iso/Win11_22H2_Chinese_Simplified_x64v2.iso,media=cdrom,size=5723780K machine: pc-i440fx-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695825773 net0: virtio=0E:01:BC:9D:02:51,bridge=vmbr0,firewall=1 numa: 1 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=37977c80-49d4-49f8-8cda-cc03b4ca2fc6 sockets: 1 tpmstate0: local:811/vm-811-disk-1.raw,size=4M,version=v2.0 usb0: host=4037:2804,usb3=1 usb1: host=1ea7:0064,usb3=1 usb2: host=260d:0013,usb3=1 vga: none virtio0: local:811/vm-811-disk-2.qcow2,cache=unsafe,iothread=1,size=30G virtio1: local:811/vm-811-disk-3.qcow2,iothread=1,size=64G vmgenid: 6328352c-225d-4a86-b7ee-643a781aafe0 ä¸å‡ºä»¥å¤–çš„è¯ï¼Œåœ¨é©±åŠ¨å®‰è£…å®Œæˆåï¼Œå±å¹•å¯ä»¥è¢«ç‚¹äº®ã€‚\nè¿›é˜¶ ä¸Šé¢çš„æ“ä½œ911 è¿™ä¸ªè™šæ‹Ÿæœºæœ‰ä¸‰ä¸ªé—®é¢˜\næ²¡æœ‰å¼€æœºç”»é¢ ä¼šç›´æ¥å…³æ‰å½“å‰å®¿ä¸»æœºå™¨çš„æ‰€æœ‰è½¯ä»¶ å¼€æœºç”»é¢ä¸æ˜¾ç¤ºè¿™ä¸ªé—®é¢˜åœ¨q35æœºå‹ä¸Š å¥½åƒæ˜¯æ— æ³•é¿å…çš„ã€‚åœ¨i440fxæœ‰çš„æœºå™¨å¯ä»¥ç›´æ¥æ˜¾ç¤º,æœ‰çš„éœ€è¦ç‰¹æ®Šæ–¹æ³•ã€‚\nå¼€æœºç”»é¢ ä¸»æ¿vbiosæ–¹æ¡ˆ - æœ‰å¼€æœºç”»é¢ å°è¯•ç»§ç»­å¤„ç† è¿™æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„711 çš„è™šæ‹Ÿæœº è¿™æ¬¡å…ˆè§£å†³å¼€æœºç”»é¢é—®é¢˜ï¼Œæˆ‘è¿™æ¬¡å¼•ç”¨äº†ä¸€ä¸ªä¿®æ”¹åçš„ä¸»æ¿biosæ–‡ä»¶ã€‚å¦‚æœä½ æ²¡æœ‰ï¼Œå¯ä»¥ä¸åŠ argsé‡Œé¢çš„biosçš„é…ç½®ï¼Œæˆ–ä»ls -lh /usr/share/kvm/*.bin é‡Œè‡ªå¸¦çš„é€ä¸ªè¯•è¯•ï¼Œæˆ‘è¿™é‡Œä¸å¼•ç”¨ä¿®æ”¹åçš„biosçš„è¯ï¼Œå¯ä»¥æ˜¾ç¤ºkvmçš„biosç•Œé¢ä½†æ˜¯æœ€ç»ˆï¼Œä¼šå¡åˆ° boot form disk çš„å‘½ä»¤ç•Œé¢ã€‚\næœ€ç»ˆé…ç½®æ–‡ä»¶å‚è€ƒå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 args: -bios /opt/pve-igpu-hooks/b150m.bin -set device.hostpci0.addr=02.0 -set device.hostpci0.x-igd-gms=2 -set device.hostpci0.x-igd-opregion=on -smbios type=2 -global nec-usb-xhci.msi=off -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off -cpu host,vendor=GenuineIntel,+invtsc,+hypervisor,kvm=on,vmware-cpuid-freq=on boot: order=virtio0 cores: 12 cpu: host hostpci0: 0000:00:02.0,legacy-igd=1 hostpci1: 0000:02:00.0 memory: 10241 meta: creation-qemu=8.0.2,ctime=1695825773 name: w11-test net0: virtio=0E:01:BC:9D:02:51,bridge=vmbr0,firewall=1 numa: 1 ostype: other scsihw: virtio-scsi-single smbios1: uuid=0c5111fb-3e27-41eb-80f7-c097ad453e7b sockets: 1 usb0: host=4037:2804,usb3=1 usb1: host=1ea7:0064,usb3=1 usb2: host=260d:0013,usb3=1 vga: none tpmstate0: local:811/vm-811-disk-1.raw,size=4M,version=v2.0 efidisk0: local:811/vm-811-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K virtio0: local:811/vm-811-disk-2.qcow2,cache=unsafe,iothread=1,size=30G virtio1: local:811/vm-811-disk-3.qcow2,iothread=1,size=64G vmgenid: 6328352c-225d-4a86-b7ee-643a781aafe0 hookscript: local:snippets/hooks-igpupt.pl ç»§ç»­ç ”ç©¶ q35æ–¹æ¡ˆ - æ— å¼€æœºç”»é¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 agent: 1 args: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-opregion=on,romfile=igd.rom bios: ovmf boot: order=virtio0 cores: 12 cpu: host efidisk0: local:811/vm-811-disk-0.qcow2,efitype=4m,pre-enrolled-keys=1,size=528K hookscript: local:snippets/hooks-igpupt.pl ide0: local:iso/virtio-win-0.1.240.iso,media=cdrom,size=612812K ide2: local:iso/Win11_22H2_Chinese_Simplified_x64v2.iso,media=cdrom,size=5723780K machine: pc-q35-8.0 memory: 10240 meta: creation-qemu=8.0.2,ctime=1695825773 net0: virtio=0E:01:BC:9D:02:51,bridge=vmbr0,firewall=1 numa: 1 ostype: win11 scsihw: virtio-scsi-single smbios1: uuid=37977c80-49d4-49f8-8cda-cc03b4ca2fc6 sockets: 1 tpmstate0: local:811/vm-811-disk-1.raw,size=4M,version=v2.0 usb0: host=4037:2804,usb3=1 usb1: host=1ea7:0064,usb3=1 usb2: host=260d:0013,usb3=1 vga: none virtio0: local:811/vm-811-disk-2.qcow2,cache=unsafe,iothread=1,size=30G virtio1: local:811/vm-811-disk-3.qcow2,iothread=1,size=64G vmgenid: 6328352c-225d-4a86-b7ee-643a781aafe0 å¯ä»¥å¯åŠ¨ï¼Œä½†æ˜¯ å¡å¼€æœºç”»é¢\nå°è¯•é»‘åå• /etc/modprobe.d/pve-blacklist.conf ä¿®æ”¹å®Œæˆå sudo update-initramfs -u -k all\n1 2 3 4 5 6 7 8 9 # This file contains a list of modules which are not supported by Proxmox VE # nvidiafb see bugreport https://bugzilla.proxmox.com/show_bug.cgi?id=701 blacklist nvidiafb blacklist i915 blacklist snd_hda_intel blacklist snd_hda_codec_hdmi å®é™…æµ‹è¯• åœ¨pve8ä¸‹ï¼Œè¿™ä¸ªé»‘åå•åœ¨ç›´é€šæ ¸æ˜¾çš„æ—¶å€™ï¼Œå±è”½åé™¤äº†ä¼šå¯¼è‡´pveæ²¡æœ‰æ˜¾ç¤ºä¹‹å¤–å¹¶æ²¡æœ‰åˆ«çš„ä»»ä½•ä½œç”¨ã€‚\nâ€\nè·å–é’©å­ æˆ‘è¿™é‡Œæ‰€æœ‰æ“ä½œéƒ½æ”¾åˆ° /opt/pve-uhd630-hooks/ è¿™ä¸ªç›®å½•\n1 2 3 4 5 6 7 8 sudo mkdir -p /opt/pve-igpu-hooks/ \u0026amp;\u0026amp; cd /opt/pve-igpu-hooks/ sudo wget https://github.com/HelloZhing/pvevm-hooks/archive/refs/heads/main.zip sudo unzip main.zip # apt install unzip sudo chown -R yanhui:yanhui /opt/pve-igpu-hooks/ # ä¸´æ—¶ä¿®æ”¹ä¸ºå½“å‰ç”¨æˆ·yanhuiæ‰€æœ‰æ–¹ä¾¿åé¢ç›´æ¥åœ¨pveæ¡Œé¢ä¸‹ä¿®æ”¹ç¼–è¾‘ mv /opt/pve-igpu-hooks/pvevm-hooks-main/*.sh /opt/pve-igpu-hooks/ mv /opt/pve-igpu-hooks/pvevm-hooks-main/hooks-igpupt.pl /opt/pve-igpu-hooks/hooks-igpupt.pl rm main.zip \u0026amp;\u0026amp; rm -r pvevm-hooks-main # åˆ æ‰æ— ç”¨æ–‡ä»¶ chmod a+x *.sh *.pl # è¿è¡Œæƒé™ éœ€è¦å‡ ä¸ªåœ°æ–¹ä¿®æ”¹\nhooks-igpupt.pl é‡Œé¢çš„ è·¯å¾„ /root/pvevm-hooksâ€‹ å…¨éƒ¨æ›¿æ¢ä¸º /opt/pve-igpu-hooksâ€‹\nvm-start.sh é‡Œé¢çš„ #$(dirname0)/vfio-startup.shâ€‹ è¿™è¡Œæ³¨å°„ä¸‹é¢ æ·»åŠ ä¸€è¡Œ /opt/pve-igpu-hooks/vfio-startup.shâ€‹ åŒç†æŠŠ vm-stop.shä¸­ æœ‰ vfio-teardown.shâ€‹ é‚£è¡Œæ³¨å°„ä¸‹é¢æ·»åŠ ä¸€è¡Œ /opt/pve-igpu-hooks/vfio-teardown.shâ€‹\né’©å­å‡½æ•°å¤åˆ¶åˆ°\n1 2 sudo rm /var/lib/vz/snippets/hooks-igpupt.pl sudo cp /opt/pve-igpu-hooks/hooks-igpupt.pl /var/lib/vz/snippets/hooks-igpupt.pl æ–°è™šæ‹Ÿé…ç½® è¿”å›åˆ°pveå¹³å°ï¼Œç¼–è¾‘å¤šå‡ºæ¥çš„911çš„è™šæ‹Ÿæœºï¼Œæ·»åŠ ç›´é€šè®¾å¤‡ï¼Œæˆ‘è¿™é‡Œæš‚æ—¶åªç›´é€šusbé”®é¼ æ ‡\nç„¶åç¼–è¾‘/etc/pve/qemu-server/911.confâ€‹\né¡¶éƒ¨æ·»åŠ ä¸€è¡Œ â€‹ args: -devive vfio-pci,host=00:02.0,addr=0x02,x-idg-gms=1,x-ide-opregion-on â€‹â€‹ ç„¶ååœ¨pve è¿è¡Œå‘½ä»¤ æ·»åŠ  hooks\n1 sudo qm set 911 --hookscript local:snippets/hooks-igpupt.pl # ä¼šå¤šå‡ºä¸€è¡Œ hookscript: local:snippets/hooks-igpupt.pl å‡†å¤‡å¦å¤–ä¸€å°è®¾å¤‡ å¯èƒ½éœ€è¦å¦å¤–ä¸€ä¸ªè®¾å¤‡æ“ä½œpve å’Œ win11çš„è¿œç¨‹æ¡Œé¢ã€‚\næˆ‘è¿™é‡Œç”¨iphone + ish+RD Clientä¸Šé¢ win11 æˆ‘å›ºå®šäº†ipæ˜¯ 10.1.1.11 æ‰€ä»¥ åœ¨å¯åŠ¨911 åï¼Œåœ¨æ‰‹æœº ish ä¸€ç›´ping è¿™ä¸ªip å°±å¥½\nâ€\nâ€\næœ¬æ–‡å‚è€ƒï¼Œå¹¶åšäº†ä¸€äº›å°ä¿®æ”¹ï¼šhttps://zhing.fun/pve_igpupt/\nâ€\n","date":"2023-09-27T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-uhd-hook-win-11-all/","title":"pve æ ¸æ˜¾ç›´é€šé’©å­ å®ç° vmå¼€æœºç›´é€šå…³æœºæ¢ç»™pve- åˆæ­¥å°è¯•"},{"content":"fake-ipå’Œ redir-hostä¸¤è€…åŒºåˆ«ï¼Œå“ªä¸ªå¥½ï¼Ÿ\nåœ¨redir-hostæ¨¡å¼ä¸‹ï¼ŒClashå…ˆå°†åŸŸåè¿›è¡Œè§£æï¼Œå†å°†å…·ä½“çš„IPåœ°å€å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”è®°å½•å…¶å¯¹åº”å…³ç³»ã€‚\nè€Œåœ¨fake-ipæ¨¡å¼ä¸‹åˆ™ä¸è¿›è¡ŒDNSè§£æï¼Œè€Œæ˜¯ç›´æ¥ç”Ÿæˆä¸€ä¸ªâ€œå‡IPâ€å¹¶å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå†è®°å½•å¯¹åº”å…³ç³»ã€‚\nè¿™å¯ä»¥æœ‰å¦‚ä¸‹ä¸¤ä¸ªå¥½å¤„ï¼š 1ã€fake-ipçš„å“åº”ä¼šæ›´å¿«(å› ä¸ºä¼šé©¬ä¸Šç»™ä½ ä¸€ä¸ªå‡IP)ï¼Œå¦‚æœæœ€ååˆ¤å®šä¸ºä»£ç†ï¼Œåˆ™æœ‰å¯èƒ½èŠ‚çœä¸€æ¬¡æœ¬åœ°çš„DNSè¯·æ±‚.åœ¨è®¿é—®å›½å†…ç½‘ç«™çš„æ—¶å€™ï¼Œé€Ÿåº¦ä¼šæå‡0.1-0.3m 2ã€ä¸éœ€è¦æ‹…å¿ƒDNSæ±¡æŸ“ï¼ˆå› ä¸ºé…ç½®æ–‡ä»¶ä¸­çš„DNSä»…ç”¨ä½œè§„åˆ™åˆ¤å®šï¼‰\nåå¤„ å°±æ˜¯ï¼Œä½ pingä»»ä½•åŸŸå è·å¾—çš„ipçš„éƒ½æ˜¯å‡çš„ã€‚å“ªæ€•ä¸å­˜åœ¨çš„åŸŸåã€‚pingçš„è¶…æ—¶æ—¶é—´ä¹Ÿè‚¯å®šæ˜¯é”™è¯¯çš„ã€‚\næ—¥å¸¸ä½¿ç”¨ä¸ä¼šæœ‰å¤ªå¤§çš„å½±å“ï¼Œä½†æ˜¯ä½ åœ¨å†…ç½‘è®¿é—®ddnsçš„åŸŸåæ—¶å€™ï¼Œé»˜è®¤è¯·æ±‚åˆ°ä½ çš„å…¬ç½‘ipç„¶åè·¯ç”±å™¨ç›´æ¥ç¯å›åˆ°å†…ç½‘ã€‚å› ä¸ºè¿™ä¸ªipæ˜¯å‡çš„ å°±å¯¼è‡´ æ— æ³• å®Œæˆåé¢çš„æ“ä½œã€‚\nåœ¨ä¸é…ç½® smartdnsçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨fake-ip ä¹Ÿä¸ç”¨å…¶å®ƒçš„dnsæ’ä»¶ã€‚ä¸ä»£ç†udpï¼ˆæ¸¸æˆï¼‰ï¼Œä»£ç†ipv6 ã€‚ æ•´ä½“ä½¿ç”¨æ„Ÿå—ä¼šå¾ˆèˆ’é€‚ã€‚\nè§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨openclashä¸­ å¼€å¯fake-ip ååˆ‡æ¢åˆ° è¦†å†™è®¾ç½® dnsè®¾ç½® Fake-IP-Filter é‡Œé¢é…ç½®ä½ è¦ç»•è¿‡ fake-ip ç›´æ¥è®¿é—®çš„åŸŸåã€‚\nä¾‹å¦‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 #LAN *.lan *.localdomain *.example *.invalid *.localhost *.test *.local *.home.arpa #æ”¾è¡ŒNTPæœåŠ¡ time.*.com time.*.gov time.*.edu.cn time.*.apple.com time-ios.apple.com time1.*.com time2.*.com time3.*.com time4.*.com time5.*.com time6.*.com time7.*.com ntp.*.com ntp1.*.com ntp2.*.com ntp3.*.com ntp4.*.com ntp5.*.com ntp6.*.com ntp7.*.com *.time.edu.cn *.ntp.org.cn +.pool.ntp.org time1.cloud.tencent.com #æ”¾è¡Œç½‘æ˜“äº‘éŸ³ä¹ music.163.com *.music.163.com *.126.net #ç™¾åº¦éŸ³ä¹ musicapi.taihe.com music.taihe.com #é…·ç‹—éŸ³ä¹ songsearch.kugou.com trackercdn.kugou.com #é…·æˆ‘éŸ³ä¹ *.kuwo.cn #JOOXéŸ³ä¹ api-jooxtt.sanook.com api.joox.com joox.com #QQéŸ³ä¹ y.qq.com *.y.qq.com streamoc.music.tc.qq.com mobileoc.music.tc.qq.com isure.stream.qqmusic.qq.com dl.stream.qqmusic.qq.com aqqmusic.tc.qq.com amobile.music.tc.qq.com #è™¾ç±³éŸ³ä¹ *.xiami.com #å’ªå’•éŸ³ä¹ *.music.migu.cn music.migu.cn #win10æœ¬åœ°è¿æ¥æ£€æµ‹ +.msftconnecttest.com +.msftncsi.com #QQç™»å½• localhost.ptlogin2.qq.com localhost.sec.qq.com +.qq.com +.tencent.com #Game #Nintendo Switch +.srv.nintendo.net *.n.n.srv.nintendo.net #Sony PlayStation +.stun.playstation.net #Microsoft Xbox xbox.*.*.microsoft.com *.*.xboxlive.com xbox.*.microsoft.com xnotify.xboxlive.com #Wotgame +.battlenet.com.cn +.wotgame.cn +.wggames.cn +.wowsgame.cn +.wargaming.net #Golang proxy.golang.org #STUN stun.*.* stun.*.*.* +.stun.*.* +.stun.*.*.* +.stun.*.*.*.* +.stun.*.*.*.*.* #Linksys Router heartbeat.belkin.com *.linksys.com *.linksyssmartwifi.com #ASUS Router *.router.asus.com #Apple Software Update Service mesu.apple.com swscan.apple.com swquery.apple.com swdownload.apple.com swcdn.apple.com swdist.apple.com #Google lens.l.google.com stun.l.google.com na.b.g-tun.com #Netflix +.nflxvideo.net #FinalFantasy XIV Worldwide Server \u0026amp; CN Server *.square-enix.com *.finalfantasyxiv.com *.ffxiv.com *.ff14.sdo.com ff.dorado.sdo.com #Bilibili *.mcdn.bilivideo.cn #Disney Plus +.media.dssott.com #shark007 Codecs shark007.net #Mijia Mijia Cloud #æ‹›å•†é“¶è¡Œ +.cmbchina.com +.cmbimg.com #AdGuard local.adguard.org #è¿…é›· +.sandai.net +.n0808.com #è‡ªå·± +.leiyanhui.com ","date":"2023-09-19T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/oc-fakeip/","title":"fake-ipä»£ç†çš„é—®é¢˜  ddnså¤±æ•ˆ ç­‰"},{"content":"å®‰è£…é…ç½® smartdns opkg install luci-app-smartdns\nç„¶åé…ç½®ä¸Šæ¸¸dns å³å¯\néœ€è¦é…ç½®å¤šä¸ª ä¸Šæ¸¸dns ï¼Œ æœ€å¥½ å‡ ä¸ªå›½å†…çš„ å‡ ä¸ªå¢ƒå¤–\nopenclash é…ç½® openclash ä½¿ç”¨redir-host æ¨¡å¼å³å¯ï¼Œç„¶åè¿½åŠ ä¸Šæ¸¸dns ä¸ºæœ¬åœ° 127.0.0.1:smartdnsç«¯å£\næ³¨æ„ smartdns å¹¶å‘è¯·æ±‚ ä¸Šæ¸¸dnsï¼Œä¹Ÿå°±æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ è®¿é—®æŸä¸€ä¸ªç½‘ç«™ï¼Œå¤šä¸ªdns éƒ½ä¼šæ”¶åˆ°æŸ¥è¯¢è¯·æ±‚ã€‚\næ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥è°ƒæ•´ é…ç½® åŸŸååˆ—è¡¨\nä¸€èˆ¬å»ºè®® é€šå¸¸æ¥è¯´ éå¿…è¦æƒ…å†µä¸‹ ä¸å»ºè®® smartdns å’Œ openclash ä¸€èµ·ä½¿ç”¨ï¼Œå¹¿å‘Šè¿‡æ»¤å¯ä»¥ openclashè§„åˆ™å¤„ç†æ‰ ï¼Œå›½å†…åŸŸåçš„dnsåŠ é€Ÿï¼Œå¯ä»¥ fake-ip å¤„ç†æ‰ã€‚\nmosdns ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼\nmosdns ç™½åå•ï¼šåŠ å…¥çš„åŸŸåå§‹ç»ˆå…è®¸ä½¿ç”¨ â€œæœ¬åœ° DNSâ€ è¿›è¡Œè§£æï¼Œä¸”ä¼˜å…ˆçº§æœ€é«˜ï¼ˆæ¯ä¸ªåŸŸåä¸€è¡Œï¼Œæ”¯æŒåŸŸååŒ¹é…è§„åˆ™ï¼‰ é»‘åå•ï¼šåŠ å…¥çš„åŸŸåå°†å±è”½ DNS è§£æï¼ˆæ¯ä¸ªåŸŸåä¸€è¡Œï¼Œæ”¯æŒåŸŸååŒ¹é…è§„åˆ™ï¼‰ ç°åå•ï¼šåŠ å…¥çš„åŸŸåå§‹ç»ˆä½¿ç”¨ â€œè¿œç¨‹ DNSâ€ è¿›è¡Œè§£æï¼ˆæ¯ä¸ªåŸŸåä¸€è¡Œï¼Œæ”¯æŒåŸŸååŒ¹é…è§„åˆ™ï¼‰ DDNS åŸŸåï¼šåŠ å…¥çš„åŸŸåå§‹ç»ˆä½¿ç”¨ â€œæœ¬åœ° DNSâ€ è¿›è¡Œè§£æï¼Œå¹¶ä¸”å¼ºåˆ¶ TTL 5 ç§’ï¼Œè§£æç»“æœä¸ä¼šè¿›å…¥ç¼“å­˜ï¼ˆæ¯ä¸ªåŸŸåä¸€è¡Œï¼Œæ”¯æŒåŸŸååŒ¹é…è§„åˆ™ï¼‰ Hostsï¼šè‡ªå®šä¹‰ Hosts é‡å†™ï¼Œå¦‚ï¼šbaidu.com 10.0.0.1ï¼ˆæ¯ä¸ªè§„åˆ™ä¸€è¡Œï¼‰ é‡å®šå‘ï¼šé‡å®šå‘è¯·æ±‚çš„åŸŸåã€‚è¯·æ±‚åŸŸå Aï¼Œä½†è¿”å›åŸŸå B çš„è®°å½•ï¼Œå¦‚ï¼šbaidu.com qq.comï¼ˆæ¯ä¸ªè§„åˆ™ä¸€è¡Œï¼‰ PTR é»‘åå•ï¼šåŠ å…¥çš„åŸŸåå°†é˜»æ­¢ PTR è¯·æ±‚ï¼ˆæ¯ä¸ªåŸŸåä¸€è¡Œï¼Œæ”¯æŒåŸŸååŒ¹é…è§„åˆ™ï¼‰\n","date":"2023-09-19T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/smartdns-openclash/","title":"smartdnså’Œopenclashçš„é…åˆ"},{"content":"devpts æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºåœ¨ Linux ç³»ç»Ÿä¸­ä¸ºä¼ªç»ˆç«¯ï¼ˆpseudo terminalï¼‰æä¾›è®¾å¤‡æ–‡ä»¶ã€‚\nä¼ªç»ˆç«¯æ˜¯ä¸€ç§ç‰¹æ®Šçš„è®¾å¤‡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç±»ä¼¼äºçœŸå®ç»ˆç«¯ï¼ˆå¦‚ç»ˆç«¯çª—å£ï¼‰çš„æ¥å£ï¼Œç”¨äºä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’å’Œæ‰§è¡Œå‘½ä»¤ã€‚ä¼ªç»ˆç«¯å¸¸ç”¨äºè¿œç¨‹ç™»å½•ã€SSH é“¾æ¥ã€ç»ˆç«¯æ¨¡æ‹Ÿå™¨ç­‰åœºæ™¯ã€‚\ndevpts æ–‡ä»¶ç³»ç»Ÿé€šè¿‡ /dev/pts ç›®å½•ä¸­çš„è®¾å¤‡æ–‡ä»¶æ¥ç®¡ç†ä¼ªç»ˆç«¯ã€‚æ¯ä¸ªä¼ªç»ˆç«¯éƒ½ä¼šåœ¨ /dev/pts ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç›¸åº”çš„è®¾å¤‡æ–‡ä»¶ï¼Œä¾‹å¦‚ /dev/pts/0ã€/dev/pts/1 ç­‰ã€‚å½“ä½ æ‰“å¼€ä¸€ä¸ªä¼ªç»ˆç«¯æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ‰“å¼€äº†ä¸€ä¸ªå¯¹åº”çš„è®¾å¤‡æ–‡ä»¶ã€‚\ndevpts æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹é€šå¸¸æ˜¯ /dev/ptsï¼Œå¯ä»¥ä½¿ç”¨ mount å‘½ä»¤å°†å…¶æŒ‚è½½åˆ°è¯¥ç›®å½•ã€‚æŒ‚è½½ devpts æ–‡ä»¶ç³»ç»Ÿåï¼Œç³»ç»Ÿå°±èƒ½æ­£å¸¸ä½¿ç”¨ä¼ªç»ˆç«¯ï¼Œå¹¶åœ¨ /dev/pts ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„è®¾å¤‡æ–‡ä»¶ã€‚\næ€»è€Œè¨€ä¹‹ï¼Œdevpts æ˜¯ç”¨äºç®¡ç†ä¼ªç»ˆç«¯è®¾å¤‡æ–‡ä»¶çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒåœ¨ Linux ç³»ç»Ÿä¸­èµ·åˆ°äº†å…³é”®çš„ä½œç”¨ã€‚\n1 mount -t devpts devpts /dev/pts å¦å¤– ä¸€äº›è¿›ç¨‹ç®¡ç†ç±»çš„ç¨‹åºéœ€è¦ç”¨ proc\n1 mount -t proc proc /proc ","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/container/chroot-devpts/","title":"chroot è¿›å»åçš„ç³»ç»Ÿ devptsé”™è¯¯"},{"content":"æœ‰ä¸¤ç§æƒ…å†µï¼Œ1æ˜¯å®¿ä¸»çš„dev æ²¡æœ‰æŒ‚è¿›æ¥ 2æ˜¯dnsé”™è¯¯\nip a å’Œ ping ipåœ°å€ å…ˆæ’æŸ¥æ˜¯1 è¿˜æ˜¯2\n1ã€å®¿ä¸»æœºçš„devæŒ‚è½½åˆ° å®¿ä¸»æœºæ‰§è¡Œ\n1 2 3 4 5 6 sudo mount -v --bind /dev ./debian12v5/dev #sys proc tmp run sudo mount --bind /sys ./debian12v5/sys sudo mount --bind /proc ./debian12v5/proc sudo mount --bind /tmp ./debian12v5/tmp sudo mount --bind /run ./debian12v5/run ç„¶å ip a å’Œpingå‘½ä»¤åº”è¯¥å°±æ­£å¸¸äº†ã€‚\n2ã€dns å®¹å™¨å†…æ‰§è¡Œ\n1 2 3 4 rm -rf /etc/resolv.conf # åœ¨dnsæ— æ³•ç”¨çš„æ—¶å€™ï¼Œè¿™é‡Œè‚¯å®šä¸€ä¸ªé”™è¯¯è¿æ¥ï¼Œè¦åˆ æ‰ echo \u0026#34;search lan\u0026#34; \u0026gt;/etc/resolv.conf echo \u0026#34;nameserver 114.114.114.114\u0026#34; \u0026gt;\u0026gt;/etc/resolv.conf cat /etc/resolv.conf ä¹Ÿå¯æŠŠå®¿ä¸»æœºçš„ln -s è¿‡æ¥\n","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/container/chroot-dns/","title":"chroot è¿›å»åçš„ç³»ç»Ÿæ— ç½‘ç»œæˆ–è€…dnsé”™è¯¯"},{"content":"chrootåçš„å®¹å™¨å†… ä½¿ç”¨æ™®é€šç”¨æˆ· æ‰§è¡Œsudu ä¼šæç¤º\nsudo: /usr/bin/sudo å¿…é¡»å±äºç”¨æˆ· ID 0(çš„ç”¨æˆ·)å¹¶ä¸”è®¾ç½® setuid ä½\nsudo: /usr/bin/sudo must be owned by uid 0 and have the setuid bit set\nåœ¨ç½‘ä¸Šæœç´¢å¾ˆä¹…ï¼Œå¤šæ•°æ˜¯è®©chmod å¤„ç†/usr/bin/sudoæƒé™ï¼Œä½†æ˜¯é‚£ä¸ªæ–¹æ³•åªé€‚åˆä½ æŠŠæƒé™æä¹±çš„æƒ…å†µä¸‹ ä¸é€‚åˆchrootã€‚\nè§£å†³æ–¹æ³• å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯rootfsç›®å½•çš„æ‰€æœ‰æƒ éœ€è¦æ˜¯rootç”¨æˆ·çš„ã€‚è€Œä¸èƒ½æ˜¯æ™®é€šç”¨æˆ·æ‰€æœ‰ï¼Œåªè¦æ˜¯rootæ‰€æœ‰å†sudo chroot è¿›å»å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚\nimgæ–¹æ³• è¿™ä¸ªæ–¹æ³•é€‚åˆéœ€è¦ç‹¬ç«‹ç®¡ç†çš„æƒ…å†µ æ–‡ä»¶æ”¾åˆ°imgåå…ˆæŒ‚è½½åˆ°ç›®å½•å é‡æ–° sudo mount -o remount,suid \u0026lt;patch\u0026gt;\n1 2 3 4 5 6 7 8 dd if=/dev/zero of=test.img bs=1G count=1 mkfs.ext4 test.img mkdir /tmp/test sudo mount -o loop test.img /tmp/test sudo mount --bind /tmp/test /tmp/test sudo mount -o remount,suid /tmp/test sudo tar -xf bookworm.tar.xz -C /tmp/test/bookworm å½“ç„¶ä¸ç”¨imgä¹Ÿæ˜¯ä¸€æ ·ï¼Œç›®å½•æŒ‚è½½é‡æ–°remount,suidä¹Ÿæ˜¯å¯ä»¥ã€‚\nç›´æ¥ç›®å½• å¦å¤–ä¸€ä¸ªå¸¸è§çš„å¤„ç†æ–¹æ³• å°±æ˜¯\n1 2 mkdir debian12v5 tat -xvJf bookworm.tar.xz -C ./debian12v5 è¿™æ—¶å€™ ä½ ç›´æ¥chrootåˆ°ç›®å½•é‡Œé¢ï¼Œæ™®é€šç”¨æˆ·æ˜¯æ— æ³•æ‰§è¡Œsudoçš„ã€‚ä½†æ˜¯åªè¦æ˜¯æŠŠrootfsæ”¹ä¸ºrootæ‰€æœ‰ å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†ã€‚\n1 2 sudo mkdir debian12v5 sudo tat -xvJf bookworm.tar.xz -C ./debian12v5 æœ¬æ–‡å‚è€ƒï¼šhttps://www.cnblogs.com/ztguang/p/12644320.html\n","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/container/chroot-sudo/","title":"chrootçš„sudo setuidé”™è¯¯çš„å¤„ç†"},{"content":"æ³¨å†Œcfè´¦å·ï¼Œå¼€é€š zero trust è¿‡ç¨‹ç•¥è¿‡ è®°ä½çš„ä½ çš„ \u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; ä¹Ÿå°±æ˜¯ https://\u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; .cloudflareaccess.com å‰é¢è¿™éƒ¨åˆ†ã€‚\né…ç½®å¯ä¿¡ä»»é‚®ç®±åç¼€ åœ¨zero trust é¢æ¿ ä¾æ¬¡ç‚¹å‡»my team \u0026gt; devices å³å¯ã€‚\næœ€å¥½ç”¨è‡ªå·±çš„åŸŸåé‚®ç®±ï¼Œä½ ç”¨å…¬ç”¨é‚®ç®±åœ°å€çš„è¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç™»é™†è¿›æ¥ã€‚\nå…è®¸ä»£ç†æ¨¡å¼ é»˜è®¤å¯èƒ½ä¸å…è®¸å®¢æˆ·ç«¯åˆ‡æ¢ä»£ç†æ¨¡å¼ ä¼šæç¤º Error: Operation not authorized in this context.\nåœ¨zero trust é¢æ¿ ä¾æ¬¡ç‚¹å‡» Settings \u0026gt; WARP Client æ‰¾åˆ° é»˜è®¤é…ç½®æ–‡ä»¶ Default ï¼Œç„¶åç‚¹å‡» Configure é…ç½® ï¼š\nLock WARP switch å…³é—­\nMode switch æ‰“å¼€ è¿™ä¸ªé€‰é¡¹å°±æ˜¯å…è®¸å®¢æˆ·ç«¯åˆ‡æ¢æ¨¡å¼äº†ã€‚ å®¢æˆ·ä¸‹ å¹¸è¿\næœ¬åœ°ç™»é™† linuxä¸‹æ— æ¡Œé¢\n1 2 warp-cli delete #åˆ é™¤æ—§çš„ warp-cli teams-enroll \u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; ä¼šæç¤ºè®©ä½ ç™»é™†ç½‘é¡µ ä»ä»»ä½•ä¸€ä¸ªæµè§ˆå™¨æ‰“å¼€ https://\u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; .cloudflareaccess.com/warp ç™»é™†æŸ¥çœ‹æºç ã€‚æŒ‰é’®é™„è¿‘æºç  æ‰¾åˆ°ä¸€æ®µ\n1 com.cloudflare.warp://\u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; .cloudflareaccess.com/auth?token=\u0026lt;token\u0026gt; å¤åˆ¶å‡ºæ¥ï¼Œç„¶åé…ç½®token\n1 warp-cli teams-enroll-token com.cloudflare.warp://\u0026lt;ä½ çš„warpç»„ç»‡å\u0026gt; .cloudflareaccess.com/auth?token=\u0026lt;token\u0026gt; æˆåŠŸåæ²¡æœ‰ä»»ä½•æç¤ºã€‚ã€‚\nç„¶ååˆ‡æ¢åˆ°ä»£ç†æ¨¡å¼,å¹¶å¯åŠ¨\n1 2 3 warp-cli is-mode-switch-allowed # æŸ¥çœ‹æ˜¯å¦å…è®¸åˆ‡æ¢ warp-cli set-mode proxy warp-cli connect ip a æŸ¥çœ‹ åº”è¯¥ä¸ä¼šå¤šå‡ºæ¥cfwarpçš„ç½‘å¡\nå¸¸è§é—®é¢˜ Error: Operation not authorized in this cloudflare ç½‘é¡µæ§åˆ¶å° è¦æ‰“å¼€ å…è®¸å®¢æˆ·ç«¯åˆ‡æ¢æ¨¡å¼ï¼Œå‚è€ƒå‰é¢çš„ã€‚ Error: Invalid setting for this account type.\nè¦ç™»é™†åˆ°teamsæˆåŠŸåæ‰å¯ä»¥ï¼Œtokenä¸èƒ½æœ‰é”™è¯¯\nwarp-cli teams-enroll-token æŠ¥é”™\nåº”è¯¥æ˜¯tokenå¤±æ•ˆï¼Œé‡æ–°æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨éšç§çª—å£é‡æ–°å¼„ä¸€æ¬¡å³å¯ã€‚\nç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ https://github.com/ViRb3/wgcf å¯ä»¥ç›´æ¥ç”Ÿæˆclashé…ç½®æ–‡ä»¶\n","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/cloudflare/zero-trust/","title":"cloudflare zero trust ç»„ç½‘ "},{"content":"æœ¬æ–‡å…¨ç¨‹åŸºäºopenwrt ï¼Œç®€å•æ¥è¯´ clash æ”¯æŒwireguardåè®® warpä¹Ÿæ˜¯åŸºäºwireguardçš„ã€‚ æˆ‘ä»¬ç”¨ç¬¬ä¸‰æ–¹å·¥å…·è·å–wireguardçš„å…¬é’¥å’Œç§é’¥å³å¯ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ teamæ¨¡å¼ ä¸æ”¯æŒä»£ç†æ¨¡å¼ã€‚ ç”¨warp/warp+ æ‰å¯ä»¥\nè·å– warp+çš„wireguard æ¨¡å¼key è¿™é‡Œä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ä¸€ä¸ªcliå®¢æˆ·ç«¯ç”¨æ¥è·å–key\n1 2 3 4 5 6 7 8 9 10 11 wget https://github.com/ViRb3/wgcf/releases/download/v2.2.19/wgcf_2.2.19_linux_amd64 mv wgcf_2.2.19_linux_amd64 cf \u0026amp;\u0026amp; chmod +x cf ./cf register #æ³¨å†Œ ./cf generate #ç”Ÿæˆé…ç½®æ–‡ä»¶ nano wgcf-account.toml #license_key ä¿®æ”¹æˆä½ çš„warp+çš„æ”¶è´¹/æ¨å¹¿license_key #æ›´æ–° ./cf update ./cf generate ./cf status æŸ¥çœ‹wgcf-profile.conf æ–‡ä»¶é‡Œé¢çš„ PublicKey å’Œ PrivateKey ä»¥åŠInterface ç¬¬ä¸€ä¸ªipv4åœ°å€é»˜è®¤æ˜¯172.16.0.2 åé¢å°±åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦åœ°æ–¹ï¼Œéœ€è¦æ‰‹æ’¸ä¸€ä¸ªclashé…ç½®æ–‡ä»¶{åé¢æä¾›äº†ä¸€é”®è„šæœ¬}ã€‚åŸºæœ¬æ ¼å¼å¦‚ä¸‹\n1 2 proxies: - {name: cloudflareä»£ç†,type: wireguard,server: \u0026lt;ä½ é€‰çš„cfçš„ip\u0026gt;,port: 2408,ip: 172.16.0.2,public-key: \u0026lt;ä½ çš„public-key\u0026gt;,private-key: \u0026lt;ä½ çš„private-key\u0026gt;,mtu: 1280,udp: true} ç»™å‡ºä¸€ä¸ªä¾‹å­\n1 2 proxies: - {name: cfèŠ‚ç‚¹1,type: wireguard,server: 162.159.192.20,port: 2408,ip: 172.16.0.2,public-key: XXXXXXXXXXXX=,private-key: XXXXX=,mtu: 1280,udp: true} ä¸€é”®éƒ¨ç½² æˆ‘è¿™é‡Œå†™äº†å¥½äº†ä¸€ä¸ªè„šæœ¬å¯ä»¥ç›´æ¥åˆ›å»ºå‡ºclashé…ç½®æ–‡ä»¶\n1 2 3 mkdir -p /opt/clash-warp-yxip \u0026amp;\u0026amp; cd /opt/clash-warp-yxip #ä»»æ„ç›®å½•å‡å¯ wget -N https://ghproxy.com/https://raw.githubusercontent.com/joyanhui/file.leiyanhui.com/main/warp-yxip-clash/clash-warp-yxip.sh bash clash-warp-yxip.sh v4 {public-key} {private-key} æ³¨æ„ è·¯ç”±å™¨è¦æœ‰bashç¯å¢ƒ,opkg install bash clash è¦ä½¿ç”¨ Clash.Meta å†…æ ¸ ä¹Ÿå¯ä»¥åŠ åˆ°è®¡åˆ’ä»»åŠ¡å®šæ—¶æ›´æ–° 1 0 7 * * * cd /opt/clash-warp-yxip \u0026amp;\u0026amp; bash clash-warp-yxip.sh v4 XXXXXXXX= XXXXXXXXX= \u0026amp;\u0026amp; rm -f /etc/openclash/config/clash-warp.yaml \u0026amp;\u0026amp; cp clash-warp.yaml /etc/openclash/config/clash-warp.yaml \u0026amp;\u0026amp; service openclash restart æ›´å¤šè¯´æ˜ï¼š https://github.com/joyanhui/file.leiyanhui.com/blob/main/warp-yxip-clash/README.md\nwarp-cli åŸºæœ¬ä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 warp-cli delete #åˆ é™¤æ—§é…ç½® warp-cli register # å¦‚æœä½ æœ‰warp+çš„é‚€è¯·æµé‡key warp-cli set-license XXX-XXX-XXX warp-cli set-mode proxy #åˆ‡æ¢åˆ°ä»£ç†æ¨¡å¼ é»˜è®¤ç«¯å£40000 warp-cli disconnect \u0026amp;\u0026amp; warp-cli connect #é‡è¿ #æµ‹è¯•ip åº”è¯¥è¿”å›ä½ çš„çœŸå®ip curl https://myip4.ipip.net #å½“å‰ä¼šè¯ä¸´æ—¶ä»£ç† export ALL_PROXY=socks5://127.0.0.1:40000 # å†æ¬¡æµ‹è¯•ip åº”è¯¥ä¼šè¿”å›cfçš„ip,ä½†æ˜¯æœ‰ipipå¯èƒ½ä¼šè¯†åˆ«æˆå›½å†…ip curl https://myip4.ipip.net ","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/cloudflare/warp-openclash/","title":"cloudflare zero trust/warp ä»£ç†æ¨¡å¼é…åˆ openclashåˆ†æµ ä»¥åŠåœ¨å®¹å™¨ä¸­ä½¿ç”¨warp "},{"content":"åœ¨pveä¸Šè¿è¡Œopenwrtä½œä¸ºä¸»è·¯ç”±ä½¿ç”¨ã€‚æ— è®ºå•ä¸ªç½‘å¡æˆ–è€…å¤šä¸ªç½‘å¡å…¶å®æ“ä½œéƒ½æ“ä½œã€‚\nlxcè¿è¡Œçš„openwrt å¯¹è™šæ‹Ÿæœºæ–¹å¼è¿è¡Œçš„æ€§èƒ½æ›´å¥½ï¼Œèµ„æºå ç”¨æ›´ä½ã€‚\næˆ‘ç›®å‰æ˜¯æœ‰ä¸¤å°pve å‡ä¸ºå•ç½‘å¡ã€‚ ä¸€å° x240ä¸»æ¿ 15-20w i3-4030U 8G 128G+1Tã€‚ ä¸Šé¢lxc è¿è¡Œ openwrtåšä¸»è·¯ç”±ï¼ŒåŒæ—¶åœ¨lxcé‡Œé¢è¿è¡Œäº†å‡ ä¸ªå¼€æºè½¯ä»¶åšæ ¸å¿ƒæ•°æ®çš„nas. å¦å¤–è™šæ‹Ÿæœºè¿è¡Œäº†ä¸€ä¸ªwin å’Œä¸€ä¸ªå¤‡ç”¨macï¼ˆx240å†…å­˜8Gè·‘å¤ªå¤šä¸å¤Ÿç©ï¼‰\nä¸€å° qnctç»„è£…æœº 20-60w 6æ ¸32G nvme 500G+12T pveè£…äº†æ¡Œé¢ç³»ç»Ÿåšæ—¥ç”¨æœºã€‚å¹¶ä¸”æŒ‚äº†4å—ç¡¬ç›˜ ä¹Ÿå¼€äº†nas,è™šæ‹Ÿè¿è¡Œwinç›´é€šæ˜¾å¡æ‰“æ¸¸æˆ macosç›´é€šæ ¸æ˜¾å¶å°”ç­¾appç”¨ã€‚\nåœºæ™¯ pveå•ç½‘å¡ pve å•ä¸ªç½‘å¡ æ¥å…¥äº¤æ¢æœº å…‰çŒ« æ¡¥æ¥ æ¥å…¥äº¤æ¢æœº å…¶ä»–è®¾å¤‡ åŒ…æ‹¬apç­‰åŒæ ·æ¥å…¥äº¤æ¢æœºã€‚ å…‰çŒ«é€šå¸¸æ’åˆ°äº¤æ¢æœºçš„ç¬¬ä¸€ä¸ªå£ä¸Šï¼Œä¸è¿‡å®¶ç”¨äº¤æ¢æœºä¸€èˆ¬éƒ½æ˜¯å‚»ç“œå¼çš„ï¼Œéšä¾¿æ’éƒ½å¯ä»¥ã€‚ è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ¡ˆ,topå›¾å¤§æ¦‚å¦‚ä¸‹ ï¼Œå°±æ˜¯æ‰€æœ‰è®¾å¤‡éƒ½æ¥åˆ°äº¤æ¢æœºå°±ok\n1 2 3 4 5 äº¤æ¢æœº \u0026lt;====\u0026gt; å…‰çŒ« è¿™é‡Œå…‰çŒ«æ˜¯æ¡¥æ¥ äº¤æ¢æœº \u0026lt;====\u0026gt; å…¶ä»–è®¾å¤‡ äº¤æ¢æœº \u0026lt;====\u0026gt; å…¶ä»–è®¾å¤‡ äº¤æ¢æœº \u0026lt;====\u0026gt; å…¶ä»–è®¾å¤‡ äº¤æ¢æœº \u0026lt;====\u0026gt; pveç‰©ç†ç½‘å¡===\u0026gt; pve vmbr0 ===\u0026gt; lxcå’Œkvm vmbr0 ä½ å¯ä»¥è§†ä½œä¸€ä¸ªè™šæ‹Ÿä¸‡å…†äº¤æ¢æœºå°±å¥½ç†è§£äº†ã€‚pveé»˜è®¤ç”¨ä½ åœ¨/etc/network/interfacesé…ç½®çš„ip,lxcå’Œkvmå†…ç”¨ä½ æŒ‡å®šæˆ–è€…ç½‘å†…ä»»æ„ä¸€ä¸ª ä½¿ç”¨è™šæ‹Ÿæœºçš„æƒ…å†µä¸‹ pveå†… å°±æ˜¯ vmbr0 æ˜ å°„ä¸€ä¸ªè™šæ‹Ÿç½‘å¡åˆ° åˆ°è™šæ‹Ÿæœºã€‚ç„¶åè™šæ‹Ÿå†…éƒ¨é…ç½®é™æ€ipçš„å’Œpveä»¥åŠäº¤æ¢æœºä¸Šçš„å…¶ä»–è®¾å¤‡åœ¨åŒä¸€ä¸ªç½‘æ®µå°±å¯ä»¥å®Œæˆäº’ç›¸è®¿é—®äº†ã€‚ é‚£ä¹ˆåˆ°lxcçš„è¯ä¹Ÿæ˜¯ä¸€æ ·ã€‚ä½†æ˜¯åˆ°openwrtçš„å› ä¸ºéœ€è¦ä¸€ä¸ªlanä¸€ä¸ªwan,æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç›´æ¥æ˜ å°„ä¸¤ä¸ªè™šæ‹Ÿç½‘å¡ç»™openwrtå°±å¥½äº†ã€‚\n1 2 vmbr0 ===\u0026gt; net0 === lxc openwrt eth0åšlan vmbr0 ===\u0026gt; net1 === lxc openwrt eth1åšwan ååº”åˆ°lxcçš„é…ç½®æ–‡ä»¶é‡Œé¢å°±æ˜¯\n1 2 net0: name=eth0,bridge=vmbr0,hwaddr=éšä¾¿å¡«å†™ä¸ªMACåœ°å€,type=veth net1: name=eth1,bridge=vmbr0,hwaddr=éšä¾¿å†æ¥ä¸ªMACåœ°å€,type=veth å½“ç„¶ä½ ä¹Ÿå¯ä»¥å»openewrtå†…éƒ¨åšç½‘æ¡¥æ¥å¼„ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚\npveå¤šç½‘å¡ pve å¤šä¸ªç½‘å¡ï¼Œç›´æ¥ç›´é€šç½‘å¡ç»™openwrtå³å¯ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯pveåŒç½‘å¡ æ¿è½½æ¥å…¥äº¤æ¢æœº usbç½‘å¡æ¥å…¥å…‰çŒ«ã€‚ pve ä¸ºå•æ¿è½½ç½‘å¡enp0s25ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªusb3åƒå…†ç½‘å¡enx0023545ca007ã€‚ä¸ºä¾‹ï¼Œå¤šç½‘å¡ä¸€æ ·æ“ä½œã€‚\nåœ¨pveä¸­ å·¦ä¾§ ç‚¹æ•°æ®ä¸­å¿ƒä¸‹çš„pve ï¼Œç„¶åç‚¹ ä¸­é—´çš„ ç³»ç»Ÿä¸‹é¢çš„ç½‘ç»œ ï¼ŒæŸ¥çœ‹è¿™ä¸¤ä¸ªç½‘å£çš„åç§°ã€‚\næ¿è½½ç½‘å¡åšä¸ºpveç®¡ç†å£ æ’å…¥äº¤æ¢æœº å±€åŸŸç½‘å…¶ä»–è®¾å¤‡ä¹Ÿæ’å…¥æ™®é€šäº¤æ¢æœºã€‚ usbç½‘å¡ä½œä¸ºé“¾æ¥å¤–ç½‘çš„ç½‘å¡ æ’å…¥å…‰çŒ«ã€‚ è®°ä½è¿™usb3ç½‘å£çš„åå­—å³å¯ã€‚ä¸‹æ–‡ç»Ÿä¸€ä»¥ enx0023545ca007 ä»£æ›¿ã€‚\næ­¥éª¤ è·å– openwrt rootfsåŒ… å¯ä»¥ä»IMG.GZ/SQUASHFS.IMG.GZ æå–ï¼Œæˆ–è€…ç›´æ¥ä¸‹è½½ ROOTFS.TAR.GZ åŒ…ã€‚ ä»IMG.GZ/SQUASHFS.IMG.GZ æå– æå–çš„æ€è·¯ï¼šè§£å‹gz æŒ‚è½½img/SQUASHFS ï¼Œæ‰“åŒ…æŒ‚è½½åçš„æ–‡ä»¶åˆ° ROOTFS.TAR.GZ å»ºè®®ç›´æ¥ç”¨ ROOTFS.TAR.GZ å³å¯ã€‚ æˆ‘è¿™é‡Œç”¨ https://openwrt.ai/ supeæä¾›çš„ ROOTFS.TAR.GZ\nrootfsåŒ…ä¸Šä¼ åˆ° pve pve åå°æ‰¾åˆ° CTæ¨¡æ¿ ç‚¹ä¸Šä¼ ã€‚æˆ‘è¿™é‡Œæ˜¯æ‰‹åŠ¨ä¸‹è½½åˆ°pveçš„ /var/lib/vz/template/cache/ éƒ½æ˜¯ä¸€æ ·çš„\nåˆ›å»ºä¸€ä¸ªCT/lxc pveç›®å‰ä¾æ—§æ— æ³•ç›´æ¥åˆ›å»ºopçš„lxcï¼Œè¿™é‡Œè¿˜æ˜¯ç”¨å‘½ä»¤è¡Œã€‚\n1 pct create 100 local:vztmpl/openwrt-09.26.2023-x86-64-generic-rootfs.tar.gz --rootfs local:1 --ostype unmanaged --hostname OP --arch amd64 --cores 2 --memory 1024 --swap 0 -net0 bridge=vmbr0,name=eth0 è§£é‡Š pct create 100 æ˜¯pveé‡Œé¢CTæˆ–è€…VMçš„idå€¼ï¼Œä½ å¯ä»¥ä¿®æ”¹æˆä½ çš„ local:vztmpl/openwrt-09.26.2023-x86-64-generic-rootfs.tar.gz æ˜¯ä¸Šé¢ä½ ä¸Šä¼ åˆ°rootfsçš„åŒ…å rootfs local:1 æ˜¯æœ¬lxcå‚¨å­˜ä½ç½®å’Œç¡¬ç›˜å ç”¨å¤§å°é™åˆ¶1G å¦‚æœç”¨å…¶ä»–åœ°æ–¹å‚¨å­˜ rootfs local-lvm:1 rootfs local-brtfs:0.5 ostype unmanaged æ“ä½œç³»ç»Ÿç±»å‹ hostname OP èŠ‚ç‚¹åç§° arch amd64 cpuå¹³å° cores 2 å¯å ç”¨çš„cpuæ ¸å¿ƒæ•° memory 1024 swap 0 å†…å­˜å’Œäº¤æ¢å†…å­˜ï¼Œå»ºè®®å…³é—­äº¤æ¢å†…å­˜ ä¹Ÿå°±æ˜¯0 net0 bridge=vmbr0,name=eth0 æŠŠpveçš„ç®¡ç†ç½‘æ¡¥ç»™opç”¨ï¼Œä¹Ÿå°±æ˜¯opæŠŠä»–ä½œä¸º lan æ‰‹åŠ¨ä¿®æ”¹é…ç½® 2-Nç½‘å¡ç›´é€šä¸€ä¸ªè¿›å» cat /etc/pve/nodes/pve/lxc/100.conf æ·»åŠ ä¸‹é¢å‡ è¡Œ\n1 2 3 4 5 6 7 8 9 lxc.include: /usr/share/lxc/config/openwrt.common.conf lxc.net.1.type: phys lxc.net.1.link: enx0023545ca007 lxc.net.1.flags: up lxc.net.1.name: eth1 lxc.cgroup2.devices.allow: c 108:0 rwm lxc.mount.entry: /dev/ppp dev/ppp none bind,create=file lxc.mount.entry: /dev/net/tun dev/net/tun none bind,create=file lxc.cap.drop: å®Œæ•´é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 arch: amd64 cores: 2 hostname: OP memory: 1024 net0: name=eth0,bridge=vmbr0,hwaddr=8A:8C:94:9B:ED:A4,type=veth onboot: 0 ostype: unmanaged rootfs: local:100/vm-100-disk-1.raw,size=1G startup: up=2 swap: 0 lxc.include: /usr/share/lxc/config/openwrt.common.conf lxc.net.1.type: phys lxc.net.1.link: enx0023545ca007 lxc.net.1.flags: up lxc.net.1.name: eth1 lxc.cgroup2.devices.allow: c 108:0 rwm lxc.mount.entry: /dev/ppp dev/ppp none bind,create=file lxc.mount.entry: /dev/net dev/net none bind,create=dir lxc.cap.drop: è§£é‡Š lxc.include åŒ…å«pveè‡ªå¸¦çš„opé…ç½®æ¨¡æ¿ lxc.net.1 ç›´é€šç½‘å¡enx0023545ca007è¿›å»ä½œä¸º eth1 lxc.cgroup2 çš„é…ç½®ï¼Œè¿™æ˜¯lxcè¿è¡Œä¸€äº›æœåŠ¡ç±»çš„ç³»ç»Ÿå¿…é¡»çš„ lxc.mount.entry æŒ‚è½½ppoeå’Œtunåˆ°lxcå†… lxc.cap.drop: å–æ¶ˆ openwrt.common.conf é‡Œé¢ å¯¹ capçš„é™åˆ¶ï¼Œä¸ç„¶openclashæ— æ³•ä½¿ç”¨ å•ç½‘å¡ å®Œæ•´é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 arch: amd64 cores: 2 hostname: OP memory: 1024 net0: name=eth0,bridge=vmbr0,hwaddr=8A:8C:94:9B:ED:A4,type=veth net1: name=eth1,bridge=vmbr0,hwaddr=8A:8C:94:9B:ED:A3,type=veth onboot: 1 ostype: unmanaged rootfs: local:100/vm-100-disk-1.raw,size=1G startup: up=2 swap: 0 lxc.include: /usr/share/lxc/config/openwrt.common.conf lxc.cgroup2.devices.allow: c 108:0 rwm lxc.mount.entry: /dev/ppp dev/ppp none bind,create=file lxc.mount.entry: /dev/net dev/net none bind,create=dir lxc.cap.drop: è§£é‡Š ä¸¤ä¸ªè™šæ‹Ÿç½‘å¡ç›´æ¥æ˜ å°„è¿›å»å°±å¯ä»¥äº†e .\nå¯åŠ¨ pct start 100\nç›®å‰å‘ç°çš„é—®é¢˜ NAT ç¯å› æ— æ•ˆ ç®€å•çš„è¯´ï¼Œå°±æ˜¯å†…ç½‘ä½¿ç”¨ddnsçš„åŸŸåè®¿é—®å†…ç½‘çš„æœåŠ¡å™¨ï¼Œæ— æ³•è®¿é—®ã€‚ ç›®å‰å°šä¸çŸ¥é“å¦‚ä½•è§£å†³ã€‚è²Œä¼¼å’Œopenwrtçš„ç‰ˆæœ¬æœ‰å…³ç³»ï¼Œåœ¨ä½¿ç”¨git-24.286.72457-5518424ç¼–è¯‘ å¹¶ä¸”æœªåœ¨openwrtå†…éƒ¨ä½¿ç”¨dockerçš„æƒ…å†µä¸‹æ­¤é—®é¢˜æ­£å¸¸ã€‚ ä½†æ˜¯åœ¨æ›´æ–°çš„ç‰ˆæœ¬ä¸­åˆå†æ¬¡å‡ºç°ã€‚ ä¸´æ—¶è§£å†³æ–¹æ³•æœ‰ä¸¤ç§\nåˆ«åä¸»æœº åˆ«åä¸»æœºå¯ä»¥åœ¨ openwrt ç½‘ç»œ -\u0026gt; dncp -\u0026gt; ä¸»æœºåæ˜ å°„çš„åœ°æ–¹ æ·»åŠ åŸŸååˆ°å¯¹åº”çš„å†…ç½‘æœºå™¨ipä¸Šã€‚ç„¶åæ¸…ç†æœ¬åœ°dnsç¼“å­˜åå³å¯è®¿é—®ã€‚ä¹Ÿå¯ä»¥åœ¨openwrté‡Œé¢è¿è¡Œ\n1 2 3 4 5 uci add dhcp domain uci set dhcp.@domain[-1].name=\u0026#39;nas.leiyanhui.com\u0026#39; uci add_list dhcp.@domain[-1].ip=\u0026#39;10.1.1.50\u0026#39; uci commit dhcp /etc/init.d/dnsmasq restart è‡ªå®šåŸŸåè§£æ å¦‚æœä½ æœ‰ä½¿ç”¨adguardHome ä¹‹ç±»çš„è‡ªå»ºdns,å¯ä»¥åœ¨dnså†…æ·»åŠ å¯¹åº”çš„åŸŸåè§£æè®°å½•åˆ°å†…ç½‘ipã€‚æˆ–è€…ä¿®æ”¹éœ€è¦è®¿é—®çš„çš„ç”µè„‘çš„hostsæ–‡ä»¶ã€‚\nopenclash tunæ— æ³•ä½¿ç”¨ æš‚æ—¶ä¸çŸ¥é“å¦‚ä½•è§£å†³ã€‚\néƒ¨åˆ†æƒ…å†µä¸‹ udpæ— æ³•è½¬å‘ éœ€è¦PVEç³»ç»ŸåŠ è½½ xt_TPROXY æ¨¡å—ã€‚åœ¨PVEç³»ç»Ÿä¸‹æ‰§è¡Œæ”¹å‘½ä»¤åé‡å¯ã€‚\n1 echo \u0026#39;xt_TPROXY\u0026#39; \u0026gt; /etc/modules-load.d/tproxy.conf å¶å°”å‘ç”Ÿpveå¤–æœºå™¨æ— æ³•ä¸Šç½‘ åç»­å‘ç°æ˜¯apçš„åŸå› ï¼Œé‡å¯apåè§£å†³ã€‚ å¦‚æœä½ çš„apåˆ·è¿‡ç³»ç»Ÿï¼Œå¯ä»¥åœ¨apå†…æ£€æµ‹ä¸»è·¯ç”±çŠ¶æ€ï¼Œå¦‚æœpingä¸åˆ°lxcçš„ä¸»è·¯ç”±ï¼Œé‚£ä¹ˆé‡å¯å³å¯ã€‚\nopenclashé…ç½®å‚è€ƒ /etc/config/openclash æ³¨æ„ä¸‹æ–‡ä¸­çš„ testingcf.jsdelivr.net åœ°å€åœ¨éƒ¨åˆ†åœ°åŒºå¯èƒ½å·²ç»å¹²æ‰°ï¼Œè¯·\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 config openclash \u0026#39;config\u0026#39; option proxy_port \u0026#39;7892\u0026#39; option tproxy_port \u0026#39;7895\u0026#39; option mixed_port \u0026#39;7893\u0026#39; option socks_port \u0026#39;7891\u0026#39; option http_port \u0026#39;7890\u0026#39; option dns_port \u0026#39;7874\u0026#39; option enable \u0026#39;1\u0026#39; option update \u0026#39;0\u0026#39; option en_mode \u0026#39;redir-host\u0026#39; option auto_update \u0026#39;1\u0026#39; option cn_port \u0026#39;9090\u0026#39; option dashboard_password \u0026#39;123456\u0026#39; option dashboard_forward_ssl \u0026#39;0\u0026#39; option rule_source \u0026#39;0\u0026#39; option enable_custom_dns \u0026#39;1\u0026#39; option ipv6_enable \u0026#39;1\u0026#39; option ipv6_dns \u0026#39;1\u0026#39; option enable_custom_clash_rules \u0026#39;0\u0026#39; option other_rule_auto_update \u0026#39;0\u0026#39; option core_version \u0026#39;linux-amd64\u0026#39; option enable_redirect_dns \u0026#39;1\u0026#39; option servers_if_update \u0026#39;0\u0026#39; option disable_masq_cache \u0026#39;1\u0026#39; option servers_update \u0026#39;0\u0026#39; option log_level \u0026#39;0\u0026#39; option proxy_mode \u0026#39;rule\u0026#39; option intranet_allowed \u0026#39;1\u0026#39; option disable_udp_quic \u0026#39;1\u0026#39; option lan_ac_mode \u0026#39;0\u0026#39; option operation_mode \u0026#39;redir-host\u0026#39; option enable_rule_proxy \u0026#39;0\u0026#39; option redirect_dns \u0026#39;1\u0026#39; option cachesize_dns \u0026#39;1\u0026#39; option filter_aaaa_dns \u0026#39;1\u0026#39; option small_flash_memory \u0026#39;0\u0026#39; option interface_name \u0026#39;0\u0026#39; option common_ports \u0026#39;21 22 23 53 80 123 143 194 443 465 587 853 993 995 998 2052 2053 2082 2083 2086 2095 2096 5222 5228 5229 5230 8080 8443 8880 8888 8889\u0026#39; option log_size \u0026#39;1024\u0026#39; option tolerance \u0026#39;0\u0026#39; option store_fakeip \u0026#39;0\u0026#39; option custom_fallback_filter \u0026#39;0\u0026#39; option custom_fakeip_filter \u0026#39;0\u0026#39; option custom_host \u0026#39;0\u0026#39; option custom_name_policy \u0026#39;0\u0026#39; option append_wan_dns \u0026#39;1\u0026#39; option stream_domains_prefetch \u0026#39;0\u0026#39; option stream_auto_select \u0026#39;0\u0026#39; option bypass_gateway_compatible \u0026#39;0\u0026#39; option github_address_mod \u0026#39;è‡ªå®šä¹‰çš„githubä»£ç†åœ°å€\u0026#39; option urltest_address_mod \u0026#39;0\u0026#39; option urltest_interval_mod \u0026#39;0\u0026#39; option delay_start \u0026#39;15\u0026#39; option router_self_proxy \u0026#39;1\u0026#39; option release_branch \u0026#39;master\u0026#39; option enable_meta_core \u0026#39;1\u0026#39; option dashboard_type \u0026#39;Official\u0026#39; option yacd_type \u0026#39;Official\u0026#39; option append_default_dns \u0026#39;0\u0026#39; option geo_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/alecthw/mmdb_china_ip_list@release/lite/Country.mmdb\u0026#39; option chnr_custom_url \u0026#39;https://ispip.clang.cn/all_cn.txt\u0026#39; option chnr6_custom_url \u0026#39;https://ispip.clang.cn/all_cn_ipv6.txt\u0026#39; option cndomain_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/felixonmars/dnsmasq-china-list@master/accelerated-domains.china.conf\u0026#39; option default_resolvfile \u0026#39;/tmp/resolv.conf.d/resolv.conf.auto\u0026#39; option find_process_mode \u0026#39;0\u0026#39; option global_client_fingerprint \u0026#39;0\u0026#39; option geodata_loader \u0026#39;0\u0026#39; option enable_geoip_dat \u0026#39;0\u0026#39; option enable_meta_sniffer \u0026#39;1\u0026#39; option enable_meta_sniffer_pure_ip \u0026#39;1\u0026#39; option enable_meta_sniffer_custom \u0026#39;0\u0026#39; option config_reload \u0026#39;1\u0026#39; option config_auto_update_mode \u0026#39;1\u0026#39; option config_update_interval \u0026#39;45\u0026#39; option config_path \u0026#39;/etc/openclash/config/skyvpn.yaml\u0026#39; option restricted_mode \u0026#39;0\u0026#39; option dnsmasq_resolvfile \u0026#39;/tmp/resolv.conf.d/resolv.conf.auto\u0026#39; option enable_custom_domain_dns_server \u0026#39;0\u0026#39; option china_ip_route \u0026#39;1\u0026#39; option geo_auto_update \u0026#39;1\u0026#39; option geo_update_week_time \u0026#39;*\u0026#39; option geo_update_day_time \u0026#39;6\u0026#39; option geoip_auto_update \u0026#39;1\u0026#39; option geosite_auto_update \u0026#39;1\u0026#39; option chnr_auto_update \u0026#39;1\u0026#39; option chnr_update_week_time \u0026#39;*\u0026#39; option chnr_update_day_time \u0026#39;3\u0026#39; option auto_restart \u0026#39;1\u0026#39; option auto_restart_week_time \u0026#39;*\u0026#39; option auto_restart_day_time \u0026#39;13\u0026#39; option core_type \u0026#39;Meta\u0026#39; option enable_udp_proxy \u0026#39;1\u0026#39; option geoip_update_week_time \u0026#39;*\u0026#39; option geoip_update_day_time \u0026#39;7\u0026#39; option geoip_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat\u0026#39; option geosite_update_week_time \u0026#39;*\u0026#39; option geosite_update_day_time \u0026#39;8\u0026#39; option geosite_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat\u0026#39; option dnsmasq_noresolv \u0026#39;0\u0026#39; option ipv6_mode \u0026#39;1\u0026#39; option enable_v6_udp_proxy \u0026#39;1\u0026#39; option china_ip6_route \u0026#39;0\u0026#39; option dnsmasq_cachesize \u0026#39;10000\u0026#39; option dnsmasq_filter_aaaa \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;nameserver\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;114.114.114.114\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;nameserver\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;119.29.29.29\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;nameserver\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;119.28.28.28\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;nameserver\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;223.5.5.5\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.pub/dns-query\u0026#39; option group \u0026#39;nameserver\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option ip \u0026#39;dns.alidns.com/dns-query\u0026#39; option group \u0026#39;nameserver\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.cloudflare.com/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.google\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;1.1.1.1/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;1.1.1.1\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;8.8.8.8\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:4860:4860::8888\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:4860:4860::8844\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:da8::666\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;public.dns.iij.jp/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;jp.tiar.app/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;jp.tiarap.org/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;jp.tiar.app\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dot.tiar.app\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.dnslify.com/dns-query\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.twnic.tw/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.oszx.co/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;doh.applied-privacy.net/query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dnsforge.de/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;doh.ffmuc.net/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.mullvad.net/dns-query\u0026#39; config authentication option enabled \u0026#39;1\u0026#39; option username \u0026#39;Clash\u0026#39; option password \u0026#39;socketåˆåŒhttpï¼ˆsï¼‰ä»£ç†å¯†ç \u0026#39; config dns_servers option enabled \u0026#39;1\u0026#39; option group \u0026#39;nameserver\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;10.1.1.104\u0026#39; option interface \u0026#39;Disable\u0026#39; option node_resolve \u0026#39;0\u0026#39; option specific_group \u0026#39;Disable\u0026#39; config dns_servers option enabled \u0026#39;1\u0026#39; option group \u0026#39;fallback\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;10.1.1.104\u0026#39; option interface \u0026#39;Disable\u0026#39; option node_resolve \u0026#39;0\u0026#39; option specific_group \u0026#39;Disable\u0026#39; config dns_servers option enabled \u0026#39;1\u0026#39; option group \u0026#39;default\u0026#39; option type \u0026#39;udp\u0026#39; option ip \u0026#39;10.1.1.104\u0026#39; option interface \u0026#39;Disable\u0026#39; option node_resolve \u0026#39;0\u0026#39; config config_subscribe option enabled \u0026#39;1\u0026#39; option name \u0026#39;skyvpn\u0026#39; option address \u0026#39;ä½ çš„è®¢é˜…åœ°å€\u0026#39; option sub_convert \u0026#39;1\u0026#39; option convert_address \u0026#39;https://api.dler.io/sub\u0026#39; option template \u0026#39;ACL4SSR è§„åˆ™ Online Full\u0026#39; option emoji \u0026#39;false\u0026#39; option udp \u0026#39;false\u0026#39; option skip_cert_verify \u0026#39;false\u0026#39; option sort \u0026#39;false\u0026#39; option node_type \u0026#39;false\u0026#39; option rule_provider \u0026#39;false\u0026#39; ","date":"2023-09-16T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/lxc-mian-op/","title":"åŒç½‘å¡ pve8.0.3 lxc è¿è¡Œ openwrtä½œä¸ºä¸»è·¯ç”± æœ€é è°±ç®€å•æ•™ç¨‹"},{"content":"æŸäº›æƒ…å†µä¸‹ï¼Œdockerå’Œlxcä¸é€‚åˆä½¿ç”¨ã€‚ä¾‹å¦‚å†…æ ¸ä¸æ”¯æŒã€æˆ–è€…dockerä¼šå¼•å…¥iptableçš„å¤æ‚åŒ–ã€‚è¿™æ—¶å€™éœ€è¦å®¹å™¨åŒ–çš„æ˜¯å¯é€‰çš„å°±åªæœ‰systemd-nspawn å’Œchrootã€‚ä½†æ˜¯systemd-nspawnä»…åœ¨æ”¯æŒsystemdçš„å‘è¡Œç‰ˆæœ‰æ•ˆã€‚å¼ºç”¨åˆä¼šå¼•å…¥æ›´å¤æ‚çš„çŠ¶å†µã€‚\nè¿™æ—¶å€™ chroot åˆæˆä¸ºäº†å”¯ä¸€çš„é€‰æ‹©ã€‚ ä½†æ˜¯chrootä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ï¼šè¿‡äºä½çº§ ä½¿ç”¨ å¤æ‚ã€‚\nchroot chroot æ˜¯ Linux å†…ç½®çš„å‘½ä»¤ï¼Œæ‰€ä»¥ä¸éœ€è¦é¢å¤–å®‰è£…ä»»ä½•è½¯ä»¶åŒ…æˆ–å·¥å…·å³å¯ä½¿ç”¨ã€‚å®ƒæ˜¯ä¸€ç§å¸¸è§ä¸”æœ‰ç”¨çš„å·¥å…·ï¼Œè¢«å¹¿æ³›åº”ç”¨äºéš”ç¦»ã€æµ‹è¯•å’Œæ¢å¤æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚\ncreate chroot éœ€è¦ä¸€ä¸ªç›®å½• æˆ–è€…ä¸€ä¸ª rawæ–‡ä»¶ é‡Œé¢åº”è¯¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„rootfs. å¸¸è§çš„å‘è¡Œç‰ˆå¯ä»¥å» https://mirrors.tuna.tsinghua.edu.cn/lxc-images/images/ è¿™é‡Œä¸‹è½½ã€‚\n1 2 3 4 mkdir ~/container-chroot \u0026amp;\u0026amp; cd ~/container-chroot # ä¸¤ä¸ªå…¸å‹çš„å‘è¡Œç‰ˆ wget https://mirrors.tuna.tsinghua.edu.cn/lxc-images/images/debian/bookworm/amd64/default/20230830_05%3A24/rootfs.tar.xz -O bookworm.tar.xz wget https://mirrors.tuna.tsinghua.edu.cn/lxc-images/images/alpine/3.18/amd64/default/20230830_13%3A00/rootfs.tar.xz -O alpine.tar.xz ä½¿ç”¨ æˆ‘ ä½¿ç”¨chroot è¿è¡Œä¸€ä¸ª redis\né…ç½®ç›®å½• debian\n1 2 mkdir bw-redis tar -xf bookworm.tar.xz -C ./bw-redis alpine\n1 2 mkdir alpine tar -xf alpine.tar.xz -C alpine åŸºç¡€ç›®å½• é•œåƒé‡Œé¢å·²ç»æœ‰ ä¸€èˆ¬ä¸éœ€è¦\n1 2 mkdir ./alpine/{dev,proc,sys,run} mkdir ./bw-redis/{dev,proc,sys,run} æŒ‚è½½ ä¸»è¦æ˜¯æŒ‚è½½/devè¿›å»\n1 2 mount -v --bind /dev ./bw-redis/dev mount -v --bind /dev ./alpine/dev çœ‹æƒ…å†µï¼Œå¯èƒ½ä½ è¿˜éœ€è¦æŒ‚è½½ /tmp ç­‰ç›®å½•\nè¿›å…¥å®¹å™¨ 1 2 sudo chroot bw-redis #debian sudo chroot alpine /bin/busybox sh # alpine é»˜è®¤æ²¡æœ‰bash é…ç½®ç½‘ç»œ ç½‘ç»œå’Œå®¿ä¸»æœºæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ²¡æœ‰dns\n1 2 3 4 5 rm -rf /etc/resolv.conf # é»˜è®¤æ˜¯ä¸€ä¸ªç©ºç¬¦å·è¿æ¥ï¼Œè¦åˆ æ‰ echo \u0026#34;search lan\u0026#34; \u0026gt;/etc/resolv.conf echo \u0026#34;nameserver 114.114.114.114\u0026#34; \u0026gt;\u0026gt;/etc/resolv.conf cat /etc/resolv.conf ping baidu.com å…¶ä»–ä¸€äº›ç›®å½•æƒé™å’Œéœ€è¦æŒ‚è½½çš„ç›®å½• éœ€è¦å¤„ç†ä¸€ä¸‹\n1 2 3 4 5 chown -R root:root /etc/sudo.conf /etc/sudoers # sudo å‘½ä»¤ chown -R root:root /etc/sudoers.d #æ ¹æ®å‘è¡Œç‰ˆä¸åŒ éœ€è¦è°ƒæ•´ä¸€ä¸‹é…ç½®æ–‡ä»¶ chmod -R 777 /tmp #ä¼šå½±å“æŸä¸€äº›æ–‡ä»¶å†™å…¥ï¼Œå¦å¤–tmpæœ€å¥½æŒ‚è½½åˆ°å®¿ä¸»ç³»ç»Ÿç”±å®¿ä¸»ç³»ç»Ÿå†³å®šæ˜¯å¦ramfs mount -t devpts devpts /dev/pts #æŒ‚è½½ devpts mount -t proc proc /proc #æŒ‚è½½proc ï¼Œ ps ä»¥åŠå…¶ä»–è¿›ç¨‹ç®¡ç†ç±»çš„å·¥å…· è¦ç”¨ å®‰è£…redis debian\n1 2 3 4 5 6 7 8 9 10 11 12 apt update apt install apt-transport-https ca-certificates # https://mirror.tuna.tsinghua.edu.cn/help/debian/ ä¿®æ”¹å›½å†…æº apt install lsb-release curl gpg curl -fsSL https://packages.redis.io/gpg | gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg echo \u0026#34;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main\u0026#34; | tee /etc/apt/sources.list.d/redis.list apt update apt install redis-tools=6:7.2.1-1rl1~bookworm1 apt install redis-server=6:7.2.1-1rl1~bookworm1 alpine\n1 2 apk update apk add redis redis æ²¡æœ‰æä¾›alpineçš„æºï¼Œå¦‚æœè¦å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„redis,å¯ä»¥è‡ªå·±ç¼–è¯‘ï¼Œæˆ–è€…å»docker é‡Œé¢æ‰£å‡ºæ¥ã€‚\nå¯åŠ¨ 1 redis-server ä¸€äº›å…¶ä»–çš„å¤„ç† redis é…ç½®æ–‡ä»¶è¦å¤„ç†ä¸€ä¸‹ã€‚\nå¦å¤– localé…ç½®ä¹Ÿå¯èƒ½ä¼šå½±å“rediså¯åŠ¨\ndebian ä¸‹éœ€è¦è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œalpineä¸‹å¯¹å®¹å™¨è¿›è¡Œçš„å¾ˆå¤šä¼˜åŒ–ï¼Œä¸éœ€è¦æè¿™äº›å¯ä»¥å¯åŠ¨ã€‚\n1 2 3 export TERM=xterm apt install locales dpkg-reconfigure locales ","date":"2023-09-15T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/container/chroot/","title":"chrootçš„ä½¿ç”¨æ–¹æ³• æ›¿ä»£docker/lxc/lxd"},{"content":"å®‰å…¨æ€§ ç®€ä¸­å¾ˆå¤šæ–‡ç« è¯´è‡ªç­¾åè¯ä¹¦ä¸å®‰å…¨ï¼Œè¿™è¦çœ‹ä½ æ€ä¹ˆç”¨ã€‚\nå¦‚æœä½ æ˜¯æ­å»ºé¢å‘å…¬ä¼—çš„æœåŠ¡ï¼Œä¾‹å¦‚ç½‘ç«™ é‚£ä¹ˆè‚¯å®šä¸å¤Ÿå®‰å…¨çš„ã€‚ è¿™æ˜¯å› ä¸º æ™®é€šç”¨æˆ·æ— æ³•é€šè¿‡ç®€å•å¹¶å®‰å…¨çš„æ–¹æ³•éªŒè¯ä½ çš„è¯ä¹¦æ˜¯å¦çœŸçš„æ˜¯ä½ çš„ã€‚å› ä¸ºæ²¡æœ‰æƒå¨caå­˜åœ¨äº†ã€‚\nè€Œå¦‚æœæ˜¯é¢å‘å†…éƒ¨ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æƒå¨ca æˆ–è€… å…¶ä»–åŠ å¯†é€”å¾„åˆ†å‘è¯ä¹¦ã€‚æˆ–è€…é€šè¿‡è¯ä¹¦æŒ‡çº¹éªŒè¯çš„æ–¹æ³•æ¥ç¡®ä¿å®‰å…¨ã€‚\nå½“ç„¶æŒ‡çº¹éªŒè¯ä¸¥æ ¼è¯´ ä¹Ÿä¸å¤Ÿå®‰å…¨ï¼Œè™½ç„¶æŒ‡çº¹è¢«ä¼ªé€ çš„å¯èƒ½æ€§ä¹Ÿå‡ ä¹æ²¡æœ‰ã€‚\næˆ‘ä»¬åªè¦ ä¿è¯ è¯ä¹¦åˆ†å‘çš„è¿‡ç¨‹æ˜¯å®‰å…¨çš„ï¼Œé‚£ä¹ˆè‡ªç­¾åè¯ä¹¦çš„å®‰å…¨æ€§ ç”šè‡³å¯ä»¥è¶…è¿‡ å¯ä¿¡caé¢å‘çš„è¯ä¹¦ï¼ˆå‚è€ƒæˆ‘æœæŸè¡™ï¼‰ã€‚\nç¢ç¢å¿µ caæœºæ„è¿è¥æ˜¯æœ‰æˆæœ¬çš„ï¼Œæ‰€æœ‰æƒå¨è¯ä¹¦éœ€è¦ä»˜è´¹æ— å¯åšéã€‚ä½†æ˜¯è‡ªç­¾è¯ä¹¦å¹¶éä¸å®‰å…¨ï¼Œèµ„æœ¬çš„æ–‡ç« çœ‹çœ‹å°±å¥½ï¼Œå¤šè¯»ä¹¦ã€‚\nåŒæ ·ç±»ä¼¼ sshåè®®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå’Œè‡ªç­¾åè¯ä¹¦çš„è¿‡ç¨‹å…¶å®å¹¶æ— å·®è·ã€‚é‚£ä¹ˆsshä¸å®‰å…¨å—ï¼Ÿ\nè‡ªç­¾åè¯ä¹¦çš„ä¼˜ç‚¹ å’Œå•†ä¸šæ”¶è´¹è¯ä¹¦åŒæ ·å®‰å…¨æ€§ï¼ŒæŸäº›æ–¹ä¾¿ç”šè‡³è¶…è¿‡æ”¶è´¹è¯ä¹¦ å¯ä»¥çµæ´»æ§åˆ¶æœ‰æ•ˆæœŸï¼Œä¾‹å¦‚åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œéœ€è¦è¶…é•¿çš„æœ‰æ•ˆæœŸ è‡ªä¸»å¯æ§ å¯ä»¥çœç•¥OCSPæœåŠ¡ï¼Œé€Ÿåº¦ä¼šæ›´å¿« OCSP ä¸»è¦æ˜¯æ–¹ä¾¿æ£€æŸ¥è¯ä¹¦æ˜¯å¦æœ‰æ•ˆçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åŠé”€æ‰å·²ç»ç­¾å‘å‡ºå»çš„è¯ä¹¦ã€‚ä½†æ˜¯OCSPä¼šå¤šäº†ä¸€ä¸ªç½‘ç»œéªŒè¯çš„æ“ä½œï¼Œè¿™ä¹Ÿæ˜¯æŸäº›åœ¨å›½å†…æ²¡æœ‰OCSPæœåŠ¡å™¨çš„ä¸€äº›å•†ä¸šè¯ä¹¦é€Ÿåº¦å¾ˆæ…¢çš„ åŸå› ã€‚\nè‡ªç­¾åcaå’ŒåŸŸå/ipè¯ä¹¦çš„è¿‡ç¨‹ ä¸‹é¢ä¸€ä¸ªç®€å•è¯´ä¸€ä¸‹ï¼Œè‡ªå·±ç”¨opensslå®ç° è‡ªå·±çš„ca å¹¶ç­¾å‘è¯ä¹¦çš„è¿‡ç¨‹\nca CAç§é’¥\n1 openssl genpkey -algorithm RSA -out ca_private.key CAè¯·æ±‚æ–‡ä»¶\n1 openssl req -new -key ca_private.key -out ca_request.csr CAè¯ä¹¦\n1 openssl x509 -req -in ca_request.csr -signkey ca_private.key -out ca_certificate.crt -days 3650 ç”¨caç­¾å‘è¯ä¹¦ ç”ŸæˆåŸŸå ç§é’¥å’Œ è¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼š openssl genpkey -algorithm RSA -out domain_private.key openssl req -new -key domain_private.key -out domain_request.csr\nä»caè¯ä¹¦ ç­¾å‘è¯ä¹¦ ç®€å•åˆ›å»º ä¸€ä¸ª 10å¹´çš„\n1 openssl x509 -req -in domain_request.csr -CA ca_certificate.crt -CAkey ca_private.key -CAcreateserial -out domain_certificate.crt -days 3650 ä½†æ˜¯è¿™ä¸ªè¯ä¹¦é‡Œé¢æ²¡æœ‰åŸŸåï¼Œå®¢æˆ·ç«¯ä¾æ—§ä¼šä¼ªé€ ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«åŸŸåçš„\n1 openssl x509 -req -in domain_request.csr -CA ca_certificate.crt -CAkey ca_private.key -CAcreateserial -out domain_certificate.crt -days 3650 -extfile \u0026lt;(printf \u0026#34;subjectAltName=DNS:*.leiyanhui.com,DNS:leiyanhui.com,DNS:*.baidu.com,DNS:baidu.com\u0026#34;) åˆ›å»ºä¸€ä¸ªåŒ…å«åŸŸåå’ŒipèŒƒå›´çš„ 1 2 IP_LIST=$(for i in {1..254}; do echo -n \u0026#34;IP:10.1.1.$i,\u0026#34;; done | sed \u0026#39;s/,$//\u0026#39;) # ip 10.1.1.1-10.1.1.254 openssl x509 -req -in domain_request.csr -CA ca_certificate.crt -CAkey ca_private.key -CAcreateserial -out domain_certificate.crt -days 3650 -extfile \u0026lt;(printf \u0026#34;subjectAltName=DNS:*.leiyanhui.com,DNS:*.shiyuxin.work,$IP_LIST\u0026#34;) åŸŸåç§é’¥å’Œè¯ä¹¦åˆå¹¶åˆ°ä¸€ä¸ª .pem æœ‰éƒ¨åˆ†è½¯ä»¶æ˜¯ä½¿ç”¨çš„ all in oneçš„ pemæ ¼å¼ï¼Œä¾‹å¦‚monit\n1 cat domain_private.key domain_certificate.crt \u0026gt; domain_aio.pem å®¢æˆ·ç«¯åº”è¯¥å¦‚ä½•ä¿¡ä»» ä¸Šé¢å‘½ä»¤ä¸­çš„ ca_certificate.crt å’Œ domain_certificate.crt éƒ½æ˜¯åŒ…å«å…¬é’¥çš„è¯ä¹¦æ–‡ä»¶ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨åˆ†å‘ç»™å®¢æˆ·ç«¯ã€‚ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹æ˜¯æ— æ³•ä¿è¯å®‰å…¨çš„ã€‚\né‚£ä¹ˆ è¿™ä¸ªä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡å…¶ä»–å¯ä¿¡çš„é€”å¾„åˆ†å‘ç»™å®¢æˆ·ç«¯ã€‚ ä¾‹å¦‚ï¼š å¯ä¿¡caçš„ https webdav email ç”šè‡³vpn çº¿ä¸‹ å†…ç½‘ ç­‰æ–¹å¼\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®å®¢æˆ·ç«¯ä¿¡ä»» ca_certificate.crt å³å¯ã€‚é‚£ä¹ˆæ‰€æœ‰ä½¿ç”¨ ca_certificate.crt ç­¾å‘çš„è¯ä¹¦ï¼Œåªè¦ip/åŸŸå èƒ½å¯¹åº” å®¢æˆ·ç«¯å°±ä¼šè®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚\nå¦‚æœåªæ˜¯ä¿¡ä»» domain_certificate.crt çš„è¯ï¼Œé‚£ä¹ˆè‡ªå·±çš„caè¯ä¹¦ç­¾å‘çš„åˆ«çš„è¯ä¹¦å°±æ— æ³•å¯ä¿¡äº†ã€‚è¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚\né‚£äº›æ–‡ä»¶æ˜¯å¯ä»¥å…¬å¼€çš„ åªæœ‰ ca_certificate.crt å’Œ domain_certificate.crt è¿™ä¸¤ä¸ªæ–‡ä»¶ å¯ä»¥å…¬å¼€çš„ã€‚å…¶ä»–æ–‡ä»¶åŠ¡å¿…å¦¥å–„ä¿ç®¡ã€‚ å°¤å…¶æ˜¯ ca_private.key è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ³„æ¼ å°±ç­‰äº å¤©æœæŸè¡™é—¨ä½œæ¶äº†ã€‚\n","date":"2023-09-12T08:30:20+08:00","permalink":"https://dev.leiyanhui.com/web/ssl/","title":"è‡ªç­¾åè¯ä¹¦çš„ä½¿ç”¨ï¼Œä»¥åŠè¾Ÿè°£ï¼šè‡ªç­¾åè¯ä¹¦å…¶å®éå¸¸å®‰å…¨ï¼Œä½†æ˜¯éœ€è¦ä½ å¤„ç†å¥½å®¢æˆ·ç«¯ä¿¡ä»»çš„é—®é¢˜"},{"content":"ä¸ºäº†æ–¹ä¾¿é‡æ–°åˆ·æœºåå¿«é€Ÿæ‰‹åŠ¨æ¢å¤ï¼Œè®°å½•ä¸€ä¸‹ã€‚\nopensshæ›¿ä»£dropbear x86ä¸‹ å»ºè®®ç¼–è¯‘çš„æ—¶å€™å°±å»æ‰dropbear ç”¨openssh ç”¨ttydæˆ–è€… å¯åŠ¨è„šæœ¬æ‰§è¡Œ ä¸‹é¢å‘½ä»¤ å†™å…¥è¯ä¹¦\n1 2 3 4 5 6 mkdir -p /root/.ssh/ cat \u0026gt; /root/.ssh/authorized_keys \u0026lt;\u0026lt; \\EOF ssh-rsa XXXXXX EOF chmod -R 600 ~/.ssh/authorized_keys /etc/init.d/sshd restart æˆ–è€…å…è®¸rootå¯†ç ç™»é™†\n1 2 3 4 /bin/cp -n /etc/ssh/sshd_config /etc/ssh/sshd_config-bak sed -i \u0026#39;s/#PermitRootLogin without-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config /etc/init.d/sshd restart é˜²ç«å¢™ å…è®¸å†…ç½‘è®¾å¤‡ip6vå¯¹å¤–æœåŠ¡ 1 2 3 4 5 6 7 8 9 10 ################################ å…è®¸å†…ç½‘ipv6 ################################ uci add firewall rule uci set firewall.@rule[-1].name=\u0026#39;MY_Allow_IPv6_Services\u0026#39; uci set firewall.@rule[-1].src=\u0026#39;wan\u0026#39; uci set firewall.@rule[-1].dest=\u0026#39;*\u0026#39; uci set firewall.@rule[-1].proto=\u0026#39;tcp udp\u0026#39; uci set firewall.@rule[-1].family=\u0026#39;ipv6\u0026#39; uci set firewall.@rule[-1].target=\u0026#39;ACCEPT\u0026#39; uci commit firewall ç«¯å£æ˜ å°„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 ################################ nginx ################################ uci add firewall redirect uci set firewall.@redirect[-1].name=\u0026#39;nginx\u0026#39; uci set firewall.@redirect[-1].family=\u0026#39;ipv4\u0026#39; uci set firewall.@redirect[-1].src=\u0026#39;wan\u0026#39; uci set firewall.@redirect[-1].dest=\u0026#39;lan\u0026#39; uci set firewall.@redirect[-1].target=\u0026#39;DNAT\u0026#39; uci set firewall.@redirect[-1].dest_ip=\u0026#39;10.1.1.50\u0026#39; uci set firewall.@redirect[-1].dest_port=\u0026#39;50400-50443\u0026#39; uci set firewall.@redirect[-1].src_dport=\u0026#39;50400-50443\u0026#39; uci commit firewall ################################ redis_tcp ################################ # çœç•¥ ################################ ipsec4500 ################################ uci add firewall redirect uci set firewall.@redirect[-1].name=\u0026#39;ipsec4500\u0026#39; uci set firewall.@redirect[-1].family=\u0026#39;ipv4\u0026#39; uci set firewall.@redirect[-1].src=\u0026#39;wan\u0026#39; uci set firewall.@redirect[-1].dest=\u0026#39;lan\u0026#39; uci set firewall.@redirect[-1].target=\u0026#39;DNAT\u0026#39; uci set firewall.@redirect[-1].dest_ip=\u0026#39;10.1.1.45\u0026#39; uci set firewall.@redirect[-1].dest_port=\u0026#39;4500\u0026#39; uci set firewall.@redirect[-1].src_dport=\u0026#39;4500\u0026#39; uci commit firewall uci add firewall redirect uci set firewall.@redirect[-1].name=\u0026#39;ipsec500\u0026#39; uci set firewall.@redirect[-1].family=\u0026#39;ipv4\u0026#39; uci set firewall.@redirect[-1].src=\u0026#39;wan\u0026#39; uci set firewall.@redirect[-1].dest=\u0026#39;lan\u0026#39; uci set firewall.@redirect[-1].target=\u0026#39;DNAT\u0026#39; uci set firewall.@redirect[-1].dest_ip=\u0026#39;10.1.1.45\u0026#39; uci set firewall.@redirect[-1].dest_port=\u0026#39;500\u0026#39; uci set firewall.@redirect[-1].src_dport=\u0026#39;500\u0026#39; uci commit firewall ################################ RustDesk ################################ uci add firewall redirect uci set firewall.@redirect[-1].name=\u0026#39;RustDesk\u0026#39; uci set firewall.@redirect[-1].family=\u0026#39;ipv4\u0026#39; uci set firewall.@redirect[-1].src=\u0026#39;wan\u0026#39; uci set firewall.@redirect[-1].dest=\u0026#39;lan\u0026#39; uci set firewall.@redirect[-1].target=\u0026#39;DNAT\u0026#39; uci set firewall.@redirect[-1].dest_ip=\u0026#39;10.1.1.15\u0026#39; uci set firewall.@redirect[-1].dest_port=\u0026#39;21115-21119\u0026#39; uci set firewall.@redirect[-1].src_dport=\u0026#39;21115-21119\u0026#39; uci commit firewall ################################ npc ################################ # # çœç•¥ #æ›´å¤š... /etc/init.d/firewall restart dhcpé™æ€ç»‘å®š 1 2 3 4 5 6 7 8 9 10 11 12 13 uci commit dhcp uci add dhcp host uci set dhcp.@host[-1].name=\u0026#39;usbWifi\u0026#39; # å®¢æˆ·ç«¯åç§° uci set dhcp.@host[-1].mac=\u0026#39;xx:xx:xx:xx:xx:xx\u0026#39; # å®¢æˆ·ç«¯çš„MACåœ°å€ uci set dhcp.@host[-1].ip=\u0026#39;10.1.1.70\u0026#39; # é™æ€IPåœ°å€ uci commit dhcp uci add dhcp host uci set dhcp.@host[-1].name=\u0026#39;iphoneL\u0026#39; uci set dhcp.@host[-1].mac=\u0026#39;xx:xx:xx:xx:xx:xx\u0026#39; uci set dhcp.@host[-1].ip=\u0026#39;10.1.1.71\u0026#39; uci commit dhcp #æ›´å¤š... /etc/init.d/dnsmasq restart openclash è‡ªå®šä¹‰è§„åˆ™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 ##script: ##rules: - DOMAIN-SUFFIX,gitea.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,mypikpak.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,dwz.date,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,chaojijichang.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,acme.sh,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,github.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,netlify.app,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,geekdocs.de,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,dmdy12.cc,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,restic.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,codigoparallevar.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,mypikpak.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,go.dev,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,v2ex.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,virtualhere.com,DIRECT - DOMAIN-SUFFIX,shiftr.io,DIRECT - DOMAIN-SUFFIX,nuaa.cf,DIRECT - DOMAIN-SUFFIX,bitwarden.com,DIRECT ## linux - DOMAIN,dl-cdn.alpinelinux.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN,gitlab.archlinux.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,alpinelinux.org,DIRECT - DOMAIN-SUFFIX,archlinux.org,DIRECT - DOMAIN-SUFFIX,archlinuxcn.org,DIRECT - DOMAIN,deb.debian.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN,cn.archive.ubuntu.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© ## å®‰å“ - DOMAIN-SUFFIX,coloros.com,DIRECT ## github - DOMAIN-SUFFIX,ghproxy.com,DIRECT - DOMAIN-SUFFIX,ghproxy.com,DIRECT ## docker - DOMAIN-SUFFIX,docker.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹© ## æ·˜å® - DOMAIN-SUFFIX,taobao.com,DIRECT - DOMAIN-SUFFIX,tmall.com,DIRECT - DOMAIN-SUFFIX,taobao.com.cn,DIRECT - DOMAIN-SUFFIX,tmall.com.cn,DIRECT - DOMAIN-SUFFIX,alibaba.com,DIRECT - DOMAIN-SUFFIX,aliexpress.com,DIRECT - DOMAIN-SUFFIX,alipay.com,DIRECT - DOMAIN-SUFFIX,etao.com,DIRECT - DOMAIN-SUFFIX,juhuasuan.com,DIRECT - DOMAIN-SUFFIX,fliggy.com,DIRECT - DOMAIN-SUFFIX,alimama.com,DIRECT - DOMAIN-SUFFIX,alibaba-inc.com,DIRECT - DOMAIN-SUFFIX,alibabacloud.com,DIRECT - DOMAIN-SUFFIX,alicdn.com,DIRECT - DOMAIN-SUFFIX,alibaba.net,DIRECT - DOMAIN-SUFFIX,aliyuncs.com,DIRECT ## netdisk - DOMAIN-SUFFIX,r2.cloudflarestorage.com,DIRECT - DOMAIN-SUFFIX,koofr.net,DIRECT - DOMAIN-SUFFIX,pcloud.com,DIRECT ## å¾®è½¯ è¡¥å……è§„åˆ™ - DOMAIN-SUFFIX,bing.com,DIRECT - DOMAIN-SUFFIX,ecosia.org,DIRECT - DOMAIN-SUFFIX,microsoft.com,DIRECT #- DOMAIN-SUFFIX,packages.microsoft.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,live.com,DIRECT - DOMAIN-SUFFIX,microsoftonline.cn,DIRECT - DOMAIN-SUFFIX,sharepoint.cn,DIRECT # ipv6 ç”¨é•œåƒç«™åŒºåˆ† - DOMAIN-SUFFIX,test-ipv6.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,ip.zxinc.org,DIRECT ## DDNS https://ip.skk.moe/ - DOMAIN-SUFFIX,checkip.dyndns.org,DIRECT - DOMAIN-SUFFIX,checkipv6.dyndns.org,DIRECT - DOMAIN-SUFFIX,checkip.synology.com,DIRECT - DOMAIN-SUFFIX,ifconfig.co,DIRECT - DOMAIN-SUFFIX,api.myip.com,DIRECT - DOMAIN-SUFFIX,ip-api.com,DIRECT - DOMAIN-SUFFIX,ipapi.co,DIRECT - DOMAIN-SUFFIX,ip6.seeip.org,DIRECT - DOMAIN-SUFFIX,members.3322.org,DIRECT ## eu.org - DOMAIN-SUFFIX,nic.eu.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,eu.org,DIRECT ## å¤©æ°”ç›¸å…³ ## poltbar - DOMAIN-SUFFIX,openweathermap.org,DIRECT ## nextcloud - DOMAIN-SUFFIX,openstreetmap.org,DIRECT - DOMAIN-SUFFIX,opentopodata.org,DIRECT - DOMAIN-SUFFIX,met.no,DIRECT ## cloudflare ipv4 ipv6 ## https://www.cloudflare.com/ips-v4 - IP-CIDR,1.1.1.1/8,DIRECT - IP-CIDR,173.245.48.0/20,DIRECT - IP-CIDR,103.21.244.0/22,DIRECT - IP-CIDR,103.22.200.0/22,DIRECT - IP-CIDR,103.31.4.0/22,DIRECT - IP-CIDR,141.101.64.0/18,DIRECT - IP-CIDR,108.162.192.0/18,DIRECT - IP-CIDR,190.93.240.0/20,DIRECT - IP-CIDR,188.114.96.0/20,DIRECT - IP-CIDR,197.234.240.0/22,DIRECT - IP-CIDR,198.41.128.0/17,DIRECT - IP-CIDR,162.158.0.0/15,DIRECT - IP-CIDR,104.16.0.0/13,DIRECT - IP-CIDR,104.24.0.0/14,DIRECT - IP-CIDR,172.64.0.0/13,DIRECT - IP-CIDR,131.0.72.0/22,DIRECT ## https://www.cloudflare.com/ips-v6 - IP-CIDR6,2400:cb00::/32,DIRECT - IP-CIDR6,2606:4700::/32,DIRECT - IP-CIDR6,2803:f800::/32,DIRECT - IP-CIDR6,2405:b500::/32,DIRECT - IP-CIDR6,2405:8100::/32,DIRECT - IP-CIDR6,2a06:98c0::/29,DIRECT - IP-CIDR6,2c0f:f248::/32,DIRECT ## dash.cloudflare.com / - DOMAIN-SUFFIX,wwww.cloudflare.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,dash.cloudflare.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© - DOMAIN-SUFFIX,static.dash.cloudflare.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹© ## vod - DOMAIN-SUFFIX,ffzy-play5.com,DIRECT - DOMAIN-SUFFIX,ffzypic.com,DIRECT ## å¼ºåˆ¶ç›´è¿ å¯†ç æ’ä»¶ - DOMAIN-SUFFIX,bitwarden.net,DIRECT ## å±è”½æ¸…å• ## é¼ æ ‡å³é”®æ’ä»¶ - DOMAIN-SUFFIX,mousegesturesapi.com,REJECT ## å…¶ä»–å›½å†…ipå¼ºåˆ¶ç›´è¿ - GEOIP,CN,DIRECT åŸºæœ¬é…ç½®æ–‡ä»¶ rm /etc/config/openclash \u0026amp;\u0026amp; nano /etc/config/openclash\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 config openclash \u0026#39;config\u0026#39; option proxy_port \u0026#39;7892\u0026#39; option tproxy_port \u0026#39;7895\u0026#39; option mixed_port \u0026#39;7893\u0026#39; option socks_port \u0026#39;7891\u0026#39; option http_port \u0026#39;7890\u0026#39; option dns_port \u0026#39;7874\u0026#39; option enable \u0026#39;1\u0026#39; option update \u0026#39;0\u0026#39; option en_mode \u0026#39;redir-host\u0026#39; option auto_update \u0026#39;1\u0026#39; option cn_port \u0026#39;9090\u0026#39; option dashboard_password \u0026#39;123456\u0026#39; option dashboard_forward_ssl \u0026#39;0\u0026#39; option rule_source \u0026#39;0\u0026#39; option enable_custom_dns \u0026#39;1\u0026#39; option ipv6_enable \u0026#39;0\u0026#39; option ipv6_dns \u0026#39;1\u0026#39; option enable_custom_clash_rules \u0026#39;0\u0026#39; option other_rule_auto_update \u0026#39;1\u0026#39; option core_version \u0026#39;linux-amd64\u0026#39; option enable_redirect_dns \u0026#39;1\u0026#39; option servers_if_update \u0026#39;0\u0026#39; option disable_masq_cache \u0026#39;1\u0026#39; option servers_update \u0026#39;0\u0026#39; option log_level \u0026#39;0\u0026#39; option proxy_mode \u0026#39;rule\u0026#39; option intranet_allowed \u0026#39;1\u0026#39; option enable_udp_proxy \u0026#39;1\u0026#39; option disable_udp_quic \u0026#39;1\u0026#39; option lan_ac_mode \u0026#39;0\u0026#39; option operation_mode \u0026#39;redir-host\u0026#39; option enable_rule_proxy \u0026#39;0\u0026#39; option redirect_dns \u0026#39;1\u0026#39; option cachesize_dns \u0026#39;1\u0026#39; option filter_aaaa_dns \u0026#39;1\u0026#39; option small_flash_memory \u0026#39;0\u0026#39; option interface_name \u0026#39;0\u0026#39; option common_ports \u0026#39;0\u0026#39; option log_size \u0026#39;1024\u0026#39; option tolerance \u0026#39;0\u0026#39; option store_fakeip \u0026#39;0\u0026#39; option custom_fallback_filter \u0026#39;0\u0026#39; option custom_fakeip_filter \u0026#39;0\u0026#39; option custom_host \u0026#39;0\u0026#39; option custom_name_policy \u0026#39;0\u0026#39; option append_wan_dns \u0026#39;0\u0026#39; option stream_domains_prefetch \u0026#39;0\u0026#39; option stream_auto_select \u0026#39;0\u0026#39; option bypass_gateway_compatible \u0026#39;0\u0026#39; option github_address_mod \u0026#39;https://ghproxy.com/\u0026#39; option urltest_address_mod \u0026#39;0\u0026#39; option urltest_interval_mod \u0026#39;0\u0026#39; option delay_start \u0026#39;0\u0026#39; option router_self_proxy \u0026#39;1\u0026#39; option release_branch \u0026#39;master\u0026#39; option enable_meta_core \u0026#39;0\u0026#39; option dashboard_type \u0026#39;Official\u0026#39; option yacd_type \u0026#39;Official\u0026#39; option append_default_dns \u0026#39;0\u0026#39; option geo_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/alecthw/mmdb_china_ip_list@release/lite/Country.mmdb\u0026#39; option chnr_custom_url \u0026#39;https://ispip.clang.cn/all_cn.txt\u0026#39; option chnr6_custom_url \u0026#39;https://ispip.clang.cn/all_cn_ipv6.txt\u0026#39; option cndomain_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/felixonmars/dnsmasq-china-list@master/accelerated-domains.china.conf\u0026#39; option default_resolvfile \u0026#39;/tmp/resolv.conf.d/resolv.conf.auto\u0026#39; option config_auto_update_mode \u0026#39;1\u0026#39; option config_update_interval \u0026#39;45\u0026#39; option config_path \u0026#39;/etc/openclash/config/skyvpn.yaml\u0026#39; option restricted_mode \u0026#39;0\u0026#39; option config_reload \u0026#39;1\u0026#39; option dnsmasq_resolvfile \u0026#39;/tmp/resolv.conf.d/resolv.conf.auto\u0026#39; option enable_custom_domain_dns_server \u0026#39;0\u0026#39; option china_ip_route \u0026#39;0\u0026#39; option other_rule_update_week_time \u0026#39;*\u0026#39; option other_rule_update_day_time \u0026#39;22\u0026#39; option geo_auto_update \u0026#39;1\u0026#39; option geo_update_week_time \u0026#39;*\u0026#39; option geo_update_day_time \u0026#39;1\u0026#39; option geoip_auto_update \u0026#39;1\u0026#39; option geosite_auto_update \u0026#39;1\u0026#39; option chnr_auto_update \u0026#39;1\u0026#39; option chnr_update_week_time \u0026#39;*\u0026#39; option chnr_update_day_time \u0026#39;4\u0026#39; option auto_restart \u0026#39;0\u0026#39; option auto_restart_week_time \u0026#39;1\u0026#39; option auto_restart_day_time \u0026#39;0\u0026#39; option geoip_update_week_time \u0026#39;*\u0026#39; option geoip_update_day_time \u0026#39;2\u0026#39; option geoip_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat\u0026#39; option geosite_update_week_time \u0026#39;*\u0026#39; option geosite_update_day_time \u0026#39;3\u0026#39; option geosite_custom_url \u0026#39;https://testingcf.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat\u0026#39; option restart \u0026#39;0\u0026#39; option dnsmasq_noresolv \u0026#39;0\u0026#39; option find_process_mode \u0026#39;0\u0026#39; option global_client_fingerprint \u0026#39;0\u0026#39; option geodata_loader \u0026#39;0\u0026#39; option enable_geoip_dat \u0026#39;0\u0026#39; option enable_meta_sniffer \u0026#39;1\u0026#39; option enable_meta_sniffer_pure_ip \u0026#39;1\u0026#39; option enable_meta_sniffer_custom \u0026#39;0\u0026#39; option dnsmasq_cachesize \u0026#39;10000\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.pub/dns-query\u0026#39; option group \u0026#39;nameserver\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option ip \u0026#39;dns.alidns.com/dns-query\u0026#39; option group \u0026#39;nameserver\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option type \u0026#39;https\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.cloudflare.com/dns-query\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.google\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;1.1.1.1/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;1.1.1.1\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option enabled \u0026#39;1\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;8.8.8.8\u0026#39; option port \u0026#39;853\u0026#39; option type \u0026#39;tls\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:4860:4860::8888\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:4860:4860::8844\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option type \u0026#39;udp\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;2001:da8::666\u0026#39; option port \u0026#39;53\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;public.dns.iij.jp/dns-query\u0026#39; option enabled \u0026#39;1\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;jp.tiar.app/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;jp.tiarap.org/dns-query\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;jp.tiar.app\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dot.tiar.app\u0026#39; option type \u0026#39;tls\u0026#39; option enabled \u0026#39;0\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.dnslify.com/dns-query\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.twnic.tw/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;1\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dns.oszx.co/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;doh.applied-privacy.net/query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;dnsforge.de/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option ip \u0026#39;doh.ffmuc.net/dns-query\u0026#39; option type \u0026#39;https\u0026#39; config dns_servers option enabled \u0026#39;0\u0026#39; option group \u0026#39;fallback\u0026#39; option type \u0026#39;https\u0026#39; option ip \u0026#39;doh.mullvad.net/dns-query\u0026#39; config authentication option enabled \u0026#39;1\u0026#39; option username \u0026#39;Clash\u0026#39; option password \u0026#39;PxWRaBiU\u0026#39; config config_subscribe option enabled \u0026#39;1\u0026#39; option name \u0026#39;skyvpn\u0026#39; option address \u0026#39;\u0026lt;è®¢é˜…åœ°å€\u0026gt;\u0026#39; option sub_convert \u0026#39;1\u0026#39; option convert_address \u0026#39;https://api.dler.io/sub\u0026#39; option template \u0026#39;ACL4SSR è§„åˆ™ Online Full\u0026#39; option emoji \u0026#39;false\u0026#39; option udp \u0026#39;false\u0026#39; option skip_cert_verify \u0026#39;false\u0026#39; option sort \u0026#39;false\u0026#39; option node_type \u0026#39;false\u0026#39; option rule_provider \u0026#39;false\u0026#39; config config_subscribe option enabled \u0026#39;1\u0026#39; option name \u0026#39;yiyuan\u0026#39; option address \u0026#39;\u0026lt;è®¢é˜…åœ°å€\u0026gt;\u0026#39; option sub_convert \u0026#39;1\u0026#39; option convert_address \u0026#39;https://api.dler.io/sub\u0026#39; option template \u0026#39;ACL4SSR è§„åˆ™ Online Full\u0026#39; option emoji \u0026#39;false\u0026#39; option udp \u0026#39;false\u0026#39; option skip_cert_verify \u0026#39;false\u0026#39; option sort \u0026#39;false\u0026#39; option node_type \u0026#39;false\u0026#39; option rule_provider \u0026#39;false\u0026#39; config config_subscribe option enabled \u0026#39;1\u0026#39; option name \u0026#39;feiniaoyun\u0026#39; option address \u0026#39;\u0026lt;è®¢é˜…åœ°å€\u0026gt;\u0026#39; option sub_convert \u0026#39;1\u0026#39; option convert_address \u0026#39;https://api.dler.io/sub\u0026#39; option template \u0026#39;ACL4SSR è§„åˆ™ Online Full\u0026#39; option emoji \u0026#39;false\u0026#39; option udp \u0026#39;false\u0026#39; option skip_cert_verify \u0026#39;false\u0026#39; option sort \u0026#39;false\u0026#39; option node_type \u0026#39;false\u0026#39; option rule_provider \u0026#39;false\u0026#39; ","date":"2023-09-12T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/uci/","title":"openwrt å¸¸ç”¨å‘½ä»¤è®°å½•"},{"content":"2025-03 æ›´æ–°ï¼š å»ºè®®ä½¿ç”¨zed-editor https://dev.leiyanhui.com/c/zed-editor\nvscode å› ä¸ºè¦å¤„ç†ä¸€äº›å¸¸è§„é¡¹ç›®ï¼Œè¿˜æ˜¯éœ€è¦ä¸€ä¸ªè½»é‡çº§çš„æ–‡æœ¬ç¼–è¾‘å™¨å·¥å…·æ¥ä½œä¸ºå‰¯ç¼–è¾‘å™¨ã€‚ åŠ ä¸Šä¸€ç›´æƒ³æ‰¾ä¸€ä¸ªè·¨å¹³å°çš„vscodeä¹‹å¤–çš„å¼€å‘å·¥å…·ã€‚ è¿™å‡ å¹´å…¶å®ä¸€ç›´åœ¨ç”¨notepad++ å’Œ ç›¸å…³çš„æ›¿ä»£è½¯ä»¶å°è¯•æ›¿ä»£å®ƒã€‚\né€‰æ‹©æ ‡å‡† æˆ‘çš„éœ€æ±‚ä¸ä¸€å®šé€‚åˆä½ ï¼Œæˆ‘éœ€è¦çš„æ˜¯è®°äº‹æœ¬çš„æ›¿ä»£å·¥å…·ã€‚ 1ã€å…é…ç½®ï¼Œå¯ä»¥ä»£ç é«˜äº®\n2ã€æ”¯æŒå¤šæ ‡ç­¾çš„ï¼Œä¸ç„¶æ— è„‘é€‰ notepad2 notepad3äº†\n3ã€è½»é‡ ä½“ç§¯å° å°æ–‡ä»¶å¯åŠ¨å¿«ï¼ˆå¤§æ–‡ä»¶æ— æ‰€è°“ è¿˜æœ‰vscodeå‘¢ï¼‰\n4ã€æœ€å¥½å…è´¹å¼€æº\n5ã€æœ€å¥½è·¨å¹³å° æœ¬æ–‡åˆ›å»ºäº2020å¹´ï¼Œåç»­è™½æœ‰éƒ¨åˆ†æ›´æ–°ä½†æ˜¯å·²ç»ä¸å…¨\nè¿‡ç¨‹ notepad2 notepad3 notepad2 ä¸é”™ï¼Œä½†æ˜¯ä¸æ”¯æŒå¤šæ ‡ç­¾ notepad3 ä¹Ÿä¸æ”¯æŒã€‚ æœ€è¦å‘½çš„è¿™ä¿©è´§éƒ½æ˜¯win only\ngedit gnome é»˜è®¤ç¼–è¾‘å™¨ ã€‚å½“ç„¶æœ‰winå’Œmacç‰ˆæœ¬ï¼Œæˆ‘æ„Ÿè§‰è¿˜ä¸é”™ã€‚é«˜çº§åŠŸèƒ½æ²¡æ€ä¹ˆç ”ç©¶è¿‡ ã€‚gnome-builder æ”¯æŒlspä½†æ˜¯ä¸è½»é‡ï¼Œå¯åŠ¨é€Ÿåº¦ä¸é€‚åˆä½œä¸ºå¤æ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨ã€‚\ngedit æœ‰ä¸€äº›å°æ’ä»¶ï¼Œä½†æ˜¯æ²¡æŠ˜è…¾è¿‡lspä¸ç¡®å®šæ˜¯å¦æ”¯æŒ\n1 2 sudo apt install gedit sudo apt install gedit-plugins ä¼˜ç‚¹ å¯åŠ¨é€Ÿåº¦å°šå¯ æœ‰å‡ ä¸ªæ²¡å•¥å¤ªå¤§åµç”¨çš„å°æ’ä»¶ æœ‰gitæœ€åæäº¤é«˜äº®æ’ä»¶ è¿™ä¸ªä¸é”™ æœ‰å¯ä»¥è‡ªå®šä¹‰çš„è‡ªåŠ¨ä¿å­˜ å®šä½å°±æ˜¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè™½ç„¶æœ‰ä»£ç ç‰‡æ®µï¼Œæ‹¬å·è¡¥å…¨ä¹‹ç±»çš„ï¼Œä½†æ˜¯ä½œä¸ºè½»é‡çº§ä»£ç ç¼–è¾‘å™¨å¾ˆå¤š å°ç¼ºç‚¹ å¯åŠ¨é€Ÿåº¦æ²¡é‚£ä¹ˆèˆ’æœ æ²¡ç ”ç©¶æ˜ç™½ä»£ç è‡ªå®šè¡¥å…¨æˆ–è€…lspçš„é…ç½® i3wæ¡Œé¢ä¸‹ å³ä¸Šè§’æœ‰æœ€å¤§åŒ–æœ€å°åŒ–æŒ‰é’® å»ä¸æ‰ æ— æ³•ä¿®æ”¹æ ‡é¢˜æ é¢œè‰² éƒ¨åˆ†æ–‡ä»¶æ ¼å¼ä¸èƒ½è‡ªåŠ¨è¯†åˆ«ï¼Œå¸¸è§çš„ confæ–‡ä»¶ éœ€æ‰‹åŠ¨é€‰æ‹©ä¸€æ¬¡ (å°é—®é¢˜) winä¸‹æœ‰ä»£ç æ¦‚æ‹¬å›¾ã€‚linuxå’Œmacosä¸‹æ²¡æœ‰ã€‚ä¹Ÿéƒ½æ²¡æœ‰å¤§çº²åŠŸèƒ½ã€‚ ä¾§æ  åªèƒ½ä¸€ä¸ª æœ‰æ’ä»¶å¯ä»¥å¼€ä¸€ä¸ªshellåº•éƒ¨æ ï¼Œä½†æ˜¯æœ‰å¤šäºçš„å¤§ç©ºç™½æŒ‰é’®å ç”¨å±å¹•ç©ºé—´ mousepad xfceé»˜è®¤ç¼–è¾‘å™¨ï¼Œæ²¡æœ‰winå’Œmacç‰ˆæœ¬ï¼Œlinuxç‰ˆä¸‹æ— æ³•å®ç°ä»£ç ä¸­å˜é‡é€‰ä¸­é«˜äº®ã€‚\nsublime text æ”¶è´¹çš„ä¸å¼€æºï¼Œä½†æ˜¯è·¨å¹³å°ï¼Œä¸ä»˜è´¹ä¼šæ˜¾ç¤ºä¸ºæ³¨å†Œä½†æ˜¯ä¸å¤ªå½±å“ä½¿ç”¨ã€‚winç‰ˆçš„è¯å¾ˆå®¹æ˜“æ‰¾åˆ°å¼€å¿ƒç‰ˆã€‚\nsublimeå¯åŠ¨é€Ÿåº¦å¿«ï¼Œè½¯ä»¶åŒ…è½¯ä½“ä¹Ÿå°ï¼Œå†…å­˜å ç”¨ä¹Ÿä¸é«˜ï¼Œå…¶å®éå¸¸ä¸é”™ï¼\nsublimeçš„æ’ä»¶æ•°é‡åªæ¯”vscé€Šè‰²ï¼Œä½†æ˜¯æ’ä»¶è´¨é‡éƒ½éå¸¸é«˜ï¼Œæ€§èƒ½ä¹Ÿå¾ˆå¥½ã€‚\nè™½ç„¶æ˜¯ä¸€ä¸ªæ”¶è´¹çš„è½¯ä»¶ï¼Œä½†æ˜¯å¯¹ä¸€äº›åç¼€åæ¯”è¾ƒç‰¹æ®Šçš„æ–‡ä»¶ï¼ˆä¾‹å¦‚.confï¼‰ä¹Ÿæ— æ³•è‡ªåŠ¨è¯†åˆ«æ ¼å¼ï¼Œæœ‰æ’ä»¶å¯ä»¥é…ç½®ä¸ºé»˜è®¤è¯†åˆ«ä¸ºæŸä¸€ç§æ ¼å¼ æ¯”å¦‚ batchï¼Œç•¥å¾®éº»çƒ¦ã€‚ è¡¥å……ä¸€å¥ï¼Œsublimeéå¸¸å¼ºï¼Œå¹¶ä¸æ¯”vscå·®ã€‚ä½†æ˜¯ä»–å’Œvscçš„æ’ä»¶æ•°é‡æ²¡æ³•æ¯”ã€‚\nkate Kateä½œä¸ºkdeçš„é»˜è®¤ç¼–è¾‘å™¨ å¾ˆç†Ÿæ‚‰äº†ï¼Œä¹Ÿç»å¸¸ç”¨ã€‚kateå¾ˆå¼ºå¤§ã€‚ åªæ˜¯kateçœŸçš„ä¸ç®—è½»é‡ å¯åŠ¨ä¹Ÿæ…¢ä¸€æ‹ã€‚åœ¨ékdeä¸‹uiä¹Ÿæœ‰ä¸€ç‚¹å°å°çš„å…¼å®¹é—®é¢˜\nnotepad next notepad \u0026ndash; æ€ä¹ˆè¯´å‘¢\u0026hellip; æ¯”è®°äº‹æœ¬å¥½ç”¨ä¸€ç‚¹ç‚¹å§ã€‚é—®é¢˜å¾ˆå¤šï¼Œå°è¯•å°±æ˜¯æµªè´¹æ—¶é—´ï¼Œå°é—®é¢˜æ•°ä¸èƒœæ•°ï¼ŒåŸºæœ¬è¿˜å¤„äºç©å…·çº§\nnotepad next ç•¥å¾®å¥½ä¸€äº›\nnotepad next æ—§ç‰ˆæœ¬é—®é¢˜ éå¸¸å¤šï¼ŒåŸºæœ¬ä¸Šæ— æ³•ä½¿ç”¨ï¼Œæ–°ç‰ˆ å¥½ä¸€äº› ä½†æ˜¯ä¹Ÿä¸æ¨èä½¿ç”¨\nå‘ç°çš„é—®é¢˜ å¯¹confåç¼€çš„ æ–‡ä»¶è¯†åˆ«æœ‰é—®é¢˜ https://github.com/dail8859/NotepadNext/issues/365 md æ–‡ä»¶çš„ æ ‡é¢˜ä¸åŠ ç²— çœ‹èµ·æ¥å¾ˆåˆ«æ‰­ ç›®å‰æœ€æ–°ç‰ˆ0.6.1 å€¼å¾—starä¸€ä¸‹ï¼Œä¸å€¼å¾—ä½œä¸ºå‰¯æ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨ linuxä¸‹ctrl+o æ‰“å¼€ä¸€ä¸ªwinæ ·å¼çš„æ–‡ä»¶ç®¡ç†å™¨\u0026hellip;linuzçš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½é¦–å­—æ¯æœç´¢ä¹Ÿå®Œå…¨ä¸èƒ½ç”¨ï¼Œå’Œ fctix5 ä¹Ÿæœ‰å…¼å®¹æ€§é—®é¢˜éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚ è™½ç„¶æ˜¯å¯¹æ ‡notepad++çš„ï¼Œä½†æ˜¯äº‘æ³¥ä¹‹åˆ« helix è·¨å¹³å°ï¼Œæ€§èƒ½å¥½ï¼Œæ”¯æŒlsp,ä½†æ˜¯å­¦ä¹ æˆæœ¬å¤ªé«˜ï¼Œæˆ‘åªæœ‰çŸ­æ—¶é—´å°è¯•è¿‡ï¼Œæ²¡æœ‰æ·±å…¥ä½¿ç”¨ ã€‚\nä¸ªäººæµ…æµ…çš„è§‚ç‚¹æ˜¯ï¼Œåœ¨æ²¡æœ‰uiçš„ç¯å¢ƒä¸‹ï¼Œç®€å•çš„ç¼–è¾‘ä¸å¦‚ç›´æ¥ç”¨vimå’Œnanoã€‚å¤æ‚çš„ä¸å¦‚æ‹–å›æ¥ï¼Œæˆ–è€…ç”¨æ”¯æŒsshè¿œç¨‹ç¼–è¾‘å™¨ã€‚ helixå’Œvimå‘½ä»¤å’Œå¿«æ·é”®ä¸å®Œå…¨å…¼å®¹ helixçš„çƒ­åº¦å¾ˆå¤šæ˜¯rustå¸¦æ¥çš„, ä½†æ˜¯helixç¡®å®å¾ˆä¸é”™ã€‚\nLapce è¿™ä¸ªç®—æ˜¯bugæœªåŠ¨ï¼Œå®£ä¼ ç¨¿å…ˆè¡Œï¼Ÿç½‘ä¸Šå¾ˆå¤šå¹ï¼Œuiæ¼‚äº®ï¼Œä½†æ˜¯åŠŸèƒ½ä¸Šæœ‰å¾ˆå¤šé—®é¢˜ã€‚\nwinä¸‹å°šä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼Œæˆ–è€…æ˜¯å¶å°”ç›´æ¥æ— ååº” å¯èƒ½æ˜¯ä¾èµ–é—®é¢˜ï¼Œä½†æ˜¯æ²¡æœ‰å…·ä½“æç¤º vs++è¿è¡Œåº“å·²ç»å®‰è£…çš„æƒ…å†µä¸‹ä¹Ÿæ— æ³•æ­£å¸¸ ä¹Ÿæ‡’å¾—å»æ£€æŸ¥\nlinuxä¸‹ä¼šå‡ºç°é¼ æ ‡å’Œç„¦ç‚¹ä¸å¯¹é½çš„æƒ…å†µã€Œæ–°ç‰ˆå·²ç»ä¿®å¤ã€ ä½“ç§¯ä¸å°ï¼Œå¯åŠ¨é€Ÿåº¦è¿˜å¯ä»¥\næ²¡é•¿æ—¶é—´ä½¿ç”¨ï¼Œæœªæ¥å¯æœŸ çœ¼ä¸‹ä¸å»ºè®®æŠ˜è…¾ atom atomä½“ç§¯å¤ªå¤§ ï¼Œè€Œä¸”å·²ç»åœæ­¢æ›´æ–°\nlite-xl è¿™ä¸ªåšä¸åˆ°å¼€ç®±ä½¿ç”¨,è¿‡äºè½»é‡äº†ï¼Œæ²¡æœ‰é•¿æ—¶é—´ä½“éªŒã€‚ æ‰“å¼€æ–‡ä»¶çš„çª—å£åªèƒ½è¾“å…¥è·¯å¾„ åŒå‡» æ— æ³•é«˜äº®åŒè¯ã€‚ä¹Ÿæ²¡æœ‰å¯¹åº”çš„æ’ä»¶æˆ–è€…é…ç½®é¡¹\nZed åŸatomä½œè€…ç”¨rustå†™çš„æ–°ç¼–è¾‘å™¨ï¼Œç›®å‰è¿˜åœ¨å…¬æµ‹ï¼Œä»…æœ‰macoså¹³å°ï¼Œå…¶ä»–å¹³å°è¿˜åœ¨è®¡åˆ’ä¸­ï¼Œæœªæ¥å¯æœŸ çœ¼ä¸‹ç®—äº†\nSlickEdit SlickEdit ï¼Œæ²¡æµ‹è¯• æ”¶è´¹çš„\nEverEdit EverEdit è¯•ç”¨äº†ä¸€ä¸‹ è¿˜ä¸é”™ï¼Œæœ‰å•ç‹¬çš„æ–‡ä»¶å…³è”å·¥å…·ï¼Œä¸è¿‡æ­£ç‰ˆè¦158å…ƒ è€Œä¸”åªæœ‰winç‰ˆ æœ‰ç ´è§£ç‰ˆ å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚æœ‰ä¸€äº›æ’ä»¶ ä¸‹è½½é€Ÿåº¦ä¹Ÿå¯ä»¥ã€‚ ä½†æ˜¯EverEdit è‡ªå¸¦çš„æ–‡ä»¶å…³è”å·¥å…·ï¼Œä¼šå¯¼è‡´regæ–‡ä»¶å…³è”å¤±æ•ˆï¼Œæ³¨æ„ï¼Œä¸è¦é€‰ä¸­ ã€‚ win only ä¸çŸ¥é“ä»€ä¹ˆäººä¼šä¹°\u0026hellip;ä¸æ‡‚ä»–ä»¬çš„ä¸–ç•Œ\u0026hellip;\nVSCodium vscode å†™ä»£ç ï¼Œä¹ æƒ¯æ€§ç‚¹ä»–çš„å›¾æ ‡äº†ã€‚ã€‚\nVSCodium å’Œ notepad3 å†™æ–‡æœ¬ æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©\nä½†æ˜¯å’Œ vscode ä¸€æ · å¯åŠ¨ç•¥æ…¢ï¼Œåƒå†…å­˜å¤šï¼Œæ‰€è°“ä¸€ä¸ªå‰¯æ–‡æœ¬ç¼–è¾‘å™¨ ä¸å€¼å¾—\nRJ TextEd æ”¯æŒlspï¼Œæ”¯æŒæ—§ç‰ˆæœ¬windowsï¼Œå¯åŠ¨ç•¥æ…¢ ä¹Ÿä¸å° ä¸æ”¯æŒéwinå¹³å°\nUltraEdit è€ç‰Œäº†ï¼Œæ”¶è´¹è€Œä¸”ä¸ä¾¿å®œï¼Œæœ¬æ¥æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½†æ˜¯ä»–æ“ç€ideçš„å¿ƒï¼Œæ–°ç‰ˆæœ¬å¯åŠ¨å¾ˆæ…¢ï¼Œå°é—®é¢˜è´¼å¤šï¼ç ´è§£ç‰ˆéƒ½ä¸å¤ªæƒ³ç”¨ã€‚ã€‚ ä¸æ”¯æŒéwinå¹³å°\neditplus é™ªä¼´æˆ‘èµ°è¿‡é’æ˜¥çš„ä¸€ä¸ªè½¯ä»¶ 35åˆ€ å¤ªè´µäº†ä¸€ç‚¹\nç°åœ¨æ˜¯2023å¹´äº†ï¼Œä»–ä¾æ—§æ˜¯åŠŸèƒ½å•è–„ï¼Œè¯¥æœ‰çš„æ²¡æœ‰ï¼Œç”šè‡³æ¯”ä¸ä¸Šå¾ˆå¤šäººå°¬å¹çš„notepad next\nBowPad åˆé‡ å…è´¹å¼€æºç»¿è‰²å•æ–‡ä»¶ï¼Œå¯åŠ¨å¿«ï¼ˆé…ç½®ä¸€æ¬¡å åŒç›®å½• ä¼šå¤šå‡ºæ¥å‡ ä¸ªé…ç½®æ–‡ä»¶ï¼‰ ä¸æ”¯æŒéwinå¹³å°\næœ‰ä¸€ä¸ªå°é—®é¢˜å°±æ˜¯ é»˜è®¤ ä¼šç»™ä¸€å †ä»£ç  åŠ ä¸Šçº¢è‰²æ³¢æµªçº¿ ï¼ˆå»æ‰ å³ä¸Šè§’çš„ Spell Checker å°±å¥½äº†ï¼‰ é»˜è®¤è‹±æ–‡ï¼Œå®˜ç½‘æœ‰ä¸­æ–‡è¯­è¨€åŒ…ï¼Œéœ€è¦ä½ å¯ä»¥è¿æ¥çš„ä¸Šgithub ï¼Œåœ¨bowpadä¸»é¢æ¿ç‚¹ other ï¼Œç„¶ååœ¨ Languages other-language ç­‰æ›´æ–°åˆ—è¡¨å åœ¨é€‰æ‹©ä¸­æ–‡ï¼Œæç¤ºé‡å¯åé‡å¯ä¸€ä¸‹å°±OKäº†ã€‚\nBowPad ä½œä¸ºä¸€ä¸ªæ–‡æ¡£ç¼–è¾‘å™¨æ¥è¯´ éå¸¸ä¸é”™\nä¼˜ç‚¹ å…è´¹ å¼€æº ä½“ç§¯å° ç¨‹åº5m è¯­è¨€æ–‡ä»¶1.3m å¯åŠ¨å¿« ç§’å¼€ æ”¯æŒå¤§æ–‡ä»¶æ‰“å¼€ ä½†æ˜¯æ‰“å¼€é€Ÿåº¦æ²¡æœ‰UltraEditå¥½ æ”¯æŒæš—é»‘ä¸»é¢˜ ä½†æ˜¯æ ‡é¢˜æ  otheré‡Œé¢ ä¸‹æ‹‰æ¡†è¿˜æ˜¯ç™½è‰²çš„ æ”¯æŒç®€å•è‡ªåŠ¨å®Œæˆï¼Œæ›´å¤æ‚çš„æ²¡ç ”ç©¶è¿‡ æ”¯æŒå¤šæ•°è¯­è¨€çš„ä»£ç é«˜äº® ç¼ºç‚¹ æ ‡é¢˜æ  å·¥å…·æ  æœ‰ç‚¹å ç”¨å±å¹•ç©ºé—´ ï¼ˆ2023-4å‘ç° å¯ä»¥éšè—ä¸æ˜¾ç¤º ç‚¹æœ€é¡¶éƒ¨çš„ å€’ä¸‰è§’ èœå•ï¼‰ ä¸å¤Ÿå¼ºå¤§å§ï¼Œæ¯•ç«Ÿæ¯”ä¸ä¸Švscode å“ˆå“ˆ è¿™ä¹ˆå¼ºå¤§çš„ç¼–è¾‘å™¨ï¼Œæ²¡æœ‰makedowné¢„è§ˆ é—æ†¾ åªæœ‰win æ²¡æœ‰å…¶ä»–å¹³å° 2023-04-11 å‘ç° bowpadåœ¨æ‰“å¼€ æŒ‚è½½çš„ç½‘ç»œæ–‡ä»¶çš„æ—¶å€™ ä¼šç»å¸¸å‘ç”Ÿå‡æ­» æ‰“å¼€rconeæŒ‚è½½çš„æ–‡ä»¶æš‚æ—¶æ²¡æœ‰é—®é¢˜\ncudatext ä¹Ÿä¸é”™ï¼Œç§’å¼€ï¼Œæ”¯æŒä»£ç å¤§çº²ã€‚\nä¸­æ–‡ https://sourceforge.net/projects/cudatext/files/addons/translations/translation.zh_CN.zip/download è§£å‹åˆ° data\\lang ï¼Œé‡å¯è½¯ä»¶ï¼Œç„¶åè®¾ç½®è¯­è¨€\né«˜äº®é€‰ä¸­çš„æ–‡æœ¬ æ²¡æ‰¾åˆ°é…ç½® å¼€å…³ ï¼Œæˆ–è®¸æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ å‘ç°çš„é—®é¢˜ å³ä¾§ ä»£ç å¤§çº²å»¶è¿Ÿæ¯”è¾ƒå¤§ï¼Œæœ‰æ—¶å€™ä¼šæœ‰æœ‰2-4ç§’çš„å»¶è¿Ÿ winå’Œlinuxä¸‹éƒ½æœ‰è¿™ä¸ªé—®é¢˜ åŒå‡»çš„é€‰ä¸­åˆ¤æ–­æœ‰ä¸€äº›å’Œnotepad++ ä¸å¤ªä¸€æ ·ï¼Œæ— æ³•åŒºåˆ†ä¸­æ–‡æ ‡ç‚¹ç¬¦å· å¾ˆæ€ªçš„æ„Ÿè§‰ ã€‚ æ•´ä½“æ„Ÿå—ï¼Œæ¼‚äº®ï¼Œé€Ÿåº¦å¯ä»¥ï¼Œä½¿ç”¨æ„Ÿè§‰ å„ç§åˆ«æ‰­ å°šä¸æ”¯æŒlspï¼Œå®˜ç½‘è¯´åœ¨è®¡åˆ’ä¸­ SciTE è¿™ä¸ªåªèƒ½ç®—æ˜¯ä¸€ä¸ªå†…æ ¸å¼•æ“ï¼Œé…ç½®æåº¦å¤æ‚ï¼Œæ²¡æœ‰è¿‡å¤šæ·±å…¥ä½¿ç”¨ã€‚notepad++ ä¹Ÿæ˜¯ç”¨çš„å®ƒ\ntextadept å…è´¹ï¼Œä½“ç§¯å¹¶ä¸å°ã€‚ ä¸€å¼€å§‹ä½¿ç”¨æ‰“å¼€ä¸­æ–‡æ–‡æ¡£ä¹±ç  æ²¡æ‰¾é…ç½®é¡¹ã€‚è€Œåå‘ç°æ–°ç‰ˆæ²¡é—®é¢˜ï¼Œå°è¯•ä¸­.\nç›®å‰çš„ä½¿ç”¨æ„Ÿå— å¯åŠ¨é€Ÿåº¦å¯ä»¥ å†…å­˜å ç”¨å¾ˆå° ç”¨å³é”®èœå• å¤šæ¬¡æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶ ä¼šç»™ä½ å¼„Nä¸ªçª—å£å‡ºæ¥ï¼Œæˆ–è®¸å¯ä»¥é…ç½®ï¼Œè¿˜åœ¨ç ”ç©¶ é…ç½®é¡¹æ˜¯luaæ–‡ä»¶ï¼Œéœ€è¦è‡ªå·±æå®š æ”¯æŒlsp è¿™ä¸ªè½¯ä»¶ å‡ ä¹å¯ä»¥è¯´ï¼Œä½ æƒ³è¦çš„åŠŸèƒ½ åŸºæœ¬æ²¡æœ‰å†…ç½®ï¼Œä½†æ˜¯å¯ä»¥æ‰©å…… å®˜ç½‘ æœ‰ä¸€äº›å¸¸ç”¨çš„æ¨¡å— https://github.com/orbitalquark/textadept/wiki é¦–é€‰é¡¹æ˜¯lua éœ€è¦è‡ªå·±å†™ linuxä¸‹é€Ÿåº¦ä¸é”™ï¼Œä½†æ˜¯ctrl+o ä¾æ—§ä¸æ˜¯linuxåŸç”Ÿï¼Œæœç´¢æ–‡ä»¶ä¸å®¹æ˜“ AkelPad ä½“ç§¯å°ï¼Œå¯åŠ¨å¿«ï¼Œæ²¡æœ‰ä¸­æ–‡è¯­è¨€åŒ…ï¼Œå¯ä»¥å¤šæ ‡ç­¾ å•çª—å£ å¤šçª—å£ ç­‰å‡ ä¸ªæ¨¡å¼ã€‚ æœ‰cudatextçš„æ‰€æœ‰é—®é¢˜ï¼Œå¹¶ä¸”ä¸èƒ½è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ä»£ç é«˜äº®ã€‚éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œæ²¡æ‰¾é…ç½®é¡¹ã€‚ æ›¿ä»£ç³»ç»Ÿè‡ªå¸¦è®°äº‹æœ¬ï¼Œ ä¸åˆæ ¼ã€‚\nemacs ä¸å¾—ä¸è¯´çš„è½¯ä»¶ï¼Œçœ‹ä½ è‡ªå·±æœ‰æ²¡æœ‰æ—¶é—´æŠ˜è…¾é€‚åº”å§ã€‚\ngeany å¾ˆæ—©ä¹‹å‰æœ‰æœ‹å‹æ¨èè¿‡ï¼Œè·¨å¹³å°ï¼Œä½“ç§¯100Må·¦å³ï¼Œå¯åŠ¨é€Ÿåº¦å¯ä»¥ã€‚ ä»£ç é«˜äº® åœ¨yaml å’Œ md æ–‡ä»¶ä¸­æ¥è¿‘æ— ã€‚ æ²¡æœ‰é€‰ä¸­é«˜äº®ã€‚ï¼ˆå¯ç”¨ shift+ctrl+m æ‰‹åŠ¨ï¼‰\nå¦å¤–æ’ä»¶ Miscellanous Plugins for Geanyï¼ˆwinä¸‹å¥½åƒæ²¡æœ‰è¿™ä¸ªæ’ä»¶ï¼‰ åæ¥å‘ç°ï¼šauto-make è¿™ä¸ªæ’ä»¶å¯ä»¥å®ç°\né»˜è®¤é…è‰²æ–¹æ¡ˆåˆ«æ‰­ï¼Œä½†æ˜¯æœ‰å†…ç½® notepad++çš„æ–¹æ¡ˆï¼Œå¯åŠ¨é€Ÿåº¦ä¹Ÿéå¸¸å¥½.\nå‘ç°çš„çš„é—®é¢˜ winrdpä¸‹ å±å¹• å–è‰²å™¨ å¸ç®¡ ä¼šä¸¢å¤±å…‰æ ‡ ä¸€ç›´åˆ°é€€å‡º winä¸‹ç¼–è¾‘ winèµ„æºç®¡ç†å™¨æŒ‚è½½çš„webdavçš„è¯ ä¼šæ— æ³•ä¿å­˜ï¼ŒrcloneæŒ‚è½½çš„æ²¡é—®é¢˜ ç¼–è¾‘rcloneæŒ‚è½½çš„æ–‡ä»¶ï¼Œä¼šä¸€ç›´ æç¤º ç£ç›˜æ–‡ä»¶æ¯”å½“å‰ç¼–è¾‘çš„æ–°ï¼Œå¾ˆçƒ¦ï¼Œ2023å¹´å¼ƒç”¨äº† linuxä¸‹ ctrl+c æœ‰é—®é¢˜ hbuilder è™½ç„¶ä½œä¸ºä¸€ä¸ªideæ¥è¯´bugæ•°é‡å¯ä»¥å…¥é€‰å‰å°¼æ–¯äº†ï¼ˆæœ‰ä¸€äº›ä¸æ˜¯hbçš„bugå¯èƒ½æ˜¯uniappæˆ–è€…vueçš„ï¼‰ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå•çº¯æ–‡æœ¬ç¼–è¾‘å™¨çš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨ï¼Œã€‚å°¤å…¶mdç¼–è¾‘åŠŸèƒ½å…¶å®å¾ˆç”¨å¿ƒäº†ã€‚ åšideå°±ç®—äº†ï¼Œè¿™ç©æ„çœŸçš„å¤ªå‘ã€‚ ä¸è£…æ’ä»¶çš„è¯ä½“ç§¯ä¹Ÿä¸å¤§ å‡ åMï¼Œè£…äº†æ’ä»¶è¯ å“ˆå“ˆ å‡ ä¸ªG å‡ åä¸‡ä¸ªæ–‡ä»¶ ã€‚ã€‚ã€‚å¦å¤–win+mac æ²¡æœ‰linuxç‰ˆæœ¬ï¼Œwineåæœ‰å¾ˆå¤šé—®é¢˜ã€‚\nwinå³é”®èœå• æœ€åé™„ä¸Š\næ·»åŠ å³é”®èœå• 1 2 3 4 5 6 7 Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\*\\shell\\Edit with Geany] \u0026#34;Icon\u0026#34;=\u0026#34;D:\\\\soft\\\\geany\\\\bin\\\\geany.exe\u0026#34; [HKEY_CLASSES_ROOT\\*\\shell\\Edit with Geany\\Command] @=\u0026#34;D:\\\\soft\\\\geany\\\\bin\\\\geany.exe \\\u0026#34;%1\\\u0026#34;\u0026#34; åˆ é™¤å³é”®èœå• 1 2 3 Windows Registry Editor Version 5.00 [-HKEY_CLASSES_ROOT\\*\\shell\\Edit with Geany] æˆ‘çš„é€‰æ‹©è¿‡ç¨‹ é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å§ï¼Œæˆ‘è¯•ç”¨ä¸€åœˆåæ„Ÿè§‰EverEdit å‡ ä¹å¯ä»¥æ— ç—›å¹³æ›¿notepad++ï¼Œ158å…ƒ ä¸€å¹´å¯ä»¥æ¿€æ´»8æ¬¡æ€»ä¸è‡³äºä¸€å¤©é‡è£…8æ¬¡ç”µè„‘ã€‚ä½†æ˜¯ä»–æœ‰ä¸€äº›æ–‡ä»¶å…³è”çš„å°é—®é¢˜ï¼Œæ‰€ä»¥ä¸æƒ³ä»˜è´¹ã€‚\n2020å¹´ç»§ç»­ç”¨notepad++ æ—§ç‰ˆæœ¬ ä¸æ›´æ–° ï¼ŒæŠ˜è…¾äº†ä¸€ä¸ªå¯‚å¯ 2020å¹´åå¼€å§‹ æ¢åˆ° geany å’Œ bowpad ä¸­é—´ä¹Ÿåœ¨ä½¿ç”¨cudatext å‘ç° bowpadåœ¨æ‰“å¼€ æŒ‚è½½çš„ç½‘ç»œæ–‡ä»¶çš„æ—¶å€™ ä¼šå‘ç”Ÿå‡æ­»\ngeany å‘ç°ç¼–è¾‘ç½‘ç»œæ–‡ä»¶çš„æ—¶å€™ï¼Œè¦ä¹ˆå‡ºé”™ï¼Œè¦ä¹ˆä¸€ç›´è®©é‡è½½\nåˆå¼€å§‹å°è¯• notepad next\n2023-4-13 æˆ‘ä¾æ—§æ²¡æœ‰æ‰¾åˆ° çœŸçš„ç¬¦åˆè‡ªå·±è¦æ±‚çš„ å‰¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œ VSCodium ä¼˜ç‚¹å¾ˆæ˜æ˜¾ å’Œ vscodeå®Œå…¨ä¸€æ ·çš„é…ç½®å’Œä½¿ç”¨ä¹ æƒ¯ï¼Œç¡®å®šä¹Ÿå¾ˆæ˜æ˜¾ å°±æ˜¯å¯åŠ¨æ…¢å†…å­˜å ç”¨å¤§ ä½¿ç”¨è¿‡è¿‡ä¸€æ®µæ—¶é—´ çš„ notepadnext gedit å’Œ sublime ã€‚ éšåè¿˜æ˜¯é€‰äº† VSCodium ,å…¶å® code-insiders ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ æˆ–è€… vscode + vscode-insiders æˆ–è€… vscodium + vscodium-insiders çš„ç»„åˆã€‚åœ¨æ’ä»¶ä¸å¤šï¼Œä¸æ‰“å¼€å¤§é¡¹ç›®æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œé€Ÿåº¦è™½ç„¶æ¯”sublimeå·®äº†ä¸€äº›ï¼Œä½†æ˜¯ä¹Ÿå‹‰å¼ºå¯ä»¥æ¥å—ã€‚\nvscode + vscode-insiders å¯ä»¥åŒæ­¥ä¸¤è¾¹è®¾ç½®ï¼Œæ”¯æŒgithub copilot vscodium + vscodium-insiders å®Œå…¨å¼€æºæ²¡æœ‰åŒæ­¥åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰copilotæ’ä»¶\nç›´æ¥ç¼–è¾‘æ–‡ä»¶ å‘½ä»¤\n1 2 3 4 code ~/.config/awesome/rc.lua code-insiders ~/.config/awesome/rc.lua codium ~/.config/awesome/rc.lua codium-insiders ~/.config/awesome/rc.lua ","date":"2023-09-11T08:30:20+08:00","permalink":"https://dev.leiyanhui.com/c/notepad-other/","title":"notepad++æ›¿ä»£å“  20å‡ ä¸ª é€ä¸ªè¯•ç”¨è¿‡ç¨‹ å’Œæœ€åçš„é€‰æ‹©"},{"content":"openwrté»˜è®¤æ˜¯ä½¿ç”¨dropbearï¼Œè™½ç„¶è½»é‡ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥ä¼šå¸¦æ¥ä¸€äº›éº»çƒ¦ã€‚ ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹dropbearç«¯å£å†å®‰è£…openssh æˆ–è€… åœ¨ç¼–è¯‘å›ºä»¶çš„æ—¶å€™ç›´æ¥ç¼–è¯‘è¿›å»ã€‚\nä½†æ˜¯ä½ ä¼šå‘rootç™»é™†ï¼Œä¸ä¸Šã€‚å¦‚æœ dropbear è¿˜å¯ä»¥ç™»é™† æˆ–è€…æœ‰æ˜¾ç¤ºå™¨ï¼Œé‚£ä¹ˆä¿®æ”¹/etc/ssh/sshd_config åé‡å¯sshå³å¯ã€‚\nå¦‚æœåªæœ‰ç½‘é¡µå¯ä»¥ç™»é™†ã€‚ é‚£ä¹ˆæ‰“å¼€ å¯åŠ¨è„šæœ¬ï¼šhttp://10.1.1.1/cgi-bin/luci/admin/system/startup\nåœ¨exit 0 å‰é¢ è¾“å…¥ å‡ è¡Œ\n1 2 3 /bin/cp -n /etc/ssh/sshd_config /etc/ssh/sshd_config-bak sed -i \u0026#39;s/#PermitRootLogin without-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config æœ‰çš„ç‰ˆæœ¬æ˜¯ without-password æœ‰çš„ç‰ˆæœ¬æ˜¯ prohibit-passwordï¼Œæ‰€ä»¥æ·»åŠ ä¸¤è¡Œã€‚ ç„¶åé‡å¯è·¯ç”±å™¨å³å¯ ç”¨rootå¯†ç ç™»é™†ã€‚\næˆ–è€… å¹²è„†ç›´æ¥å†™å…¥key ä¹Ÿæ˜¯åœ¨ exit 0 å‰é¢\n1 2 3 4 5 mkdir -p /root/.ssh/ cat \u0026gt; /root/.ssh/authorized_keys \u0026lt;\u0026lt; \\EOF ...ä½ çš„keyå†…å®¹... EOF chmod -R 600 ~/.ssh/authorized_keys ","date":"2023-09-11T07:15:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/openssh/","title":"openwrtæ›´æ¢opensshåæ— æ³•sshç™»é™†rootçš„è§£å†³æ–¹æ³•"},{"content":"é»˜è®¤æƒ…å†µä¸‹ï¼Œç›´æ¥åœ¨openwrté…ç½®ç«¯å£è½¬å‘ï¼Œä¼šè‡ªåŠ¨å¯ç”¨ NAT ç¯å›ã€‚ ä½†æ˜¯åœ¨éƒ¨åˆ†å›ºä»¶ä¸‹ï¼Œå°¤å…¶æ˜¯å­˜åœ¨docker å’Œipsecç­‰æœåŠ¡çš„æ—¶å€™ å°±ä¼šå¤±æ•ˆã€‚\nåœ¨å¸®å¤šä¸ªç½‘å‹æ’æŸ¥å¤„ç†çš„æ—¶å€™ æ€»ç»“å‡ºæ¥çš„å°ç»éªŒï¼šä¸è®²å¤æ‚çš„åŸç†ï¼Œåªè¯´å®ç°æ–¹æ³•\nå¸¸è§è§£å†³æ–¹æ³• ä¿®æ”¹ wan=\u0026gt; lançš„é˜²ç«å¢™é…ç½® ï¼ˆ æ—§ç‰ˆæœ‰æ•ˆï¼‰ åœ¨å¯¹åº”çš„ç«¯å£è½¬å‘çš„ä½ç½® å…³é—­é‡æ–°æ‰“å¼€å¯ç”¨ NAT ç¯å› ï¼ˆçœ‹è„¸ï¼‰ ä¿®æ”¹/etc/sysctl.conf ï¼ˆéƒ¨åˆ†å›ºä»¶æœ‰æ•ˆï¼‰ /etc/dnsmasq.hosts å³ dnsmasq åœ¨ç§‘å­¦è½¯ä»¶åŠ«æŒdnsåæ¦‚ç‡å¤±æ•ˆ ä¸”ä»…é™åŸºäºåŸŸåçš„ä¸šåŠ¡ å†…ç½‘æœºå™¨hostså¤§æ³• ï¼ˆè‚¯å®šæœ‰æ•ˆï¼Œä½†æ˜¯ä»…é™åŸŸåä¸šåŠ¡ï¼‰ åˆ«åä¸»æœºå¤§æ³• ï¼ˆæœ‰æ•ˆï¼Œä½†æ˜¯ä»…é™åŸŸåä¸šåŠ¡ï¼‰ å‰é¢å‡ ç§æ–¹æ³• ç½‘ä¸Šéƒ½æœ‰å¯¹åº”çš„æ•™æä¸ç”¨ç»†è¯´ï¼Œåœ¨ä¸åŒçš„æºç å›ºä»¶ä¸‹ä¸å¤ªé€šç”¨ï¼Œåœ¨æ›´æ–°å†…æ ¸åä¹Ÿæœ‰å¯èƒ½å¤±æ•ˆã€‚è¿™é‡Œåªè¯´ æœ€åä¸€ç§æ–¹æ³•ã€‚\næœ€é€šç”¨çš„è§£å†³æ–¹æ³• åˆ«åä¸»æœº\nluci æ ¹æ®ç‰ˆæœ¬ä¸åŒï¼Œå…¥å£ä½ç½®ä¸åŒ ä¸€èˆ¬åœ¨ http:///cgi-bin/luci/admin/network/dhcp åˆ«åä¸»æœº çš„ä½ç½®\nuci å’Œluciä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥shellè¿è¡Œï¼Œæ›´ç®€å•ç›´è§‚ã€‚\n1 2 3 4 5 uci add dhcp domain uci set dhcp.@domain[-1].name=\u0026#39;åŸŸååœ°å€\u0026#39; uci add_list dhcp.@domain[-1].ip=\u0026#39;10.1.1.50\u0026#39; uci commit dhcp /etc/init.d/dnsmasq restart æ³¨æ„ å¦‚è®ºæ˜¯åˆ«åä¸»æœº è¿˜æ˜¯ hosts éƒ½ä¸æ”¯æŒæ³›åŸŸå,è¦æ”¯æŒæ³›åŸŸååªæœ‰dnsmasqã€‚\næœ€å æœˆç»bug openwrt è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ä¸åŒçš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬å®˜æ–¹ç‰ˆéƒ½åå¤å‡ºç°ã€‚ ç”¨çš„è¿˜ç®—ç¨³å®šçš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¸æŠ˜è…¾ã€‚æµªè´¹é’æ˜¥ã€‚\nå»ºè®® ä¸æ˜¯å¤ªç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œå»ºè®®ç”¨åˆ«åä¸»æœºçš„æ¥å¤„ç†ã€‚å¦‚æœæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå»ºè®®å¼ƒç”¨docker ï¼Œopkgçš„è½¯ä»¶è¿˜æ˜¯è›®å¤šçš„ï¼Œéƒ¨åˆ†æ²¡æœ‰çš„å¯ä»¥ç”¨å¯ä»¥åœ¨å…¶ä»–æœºå™¨ä¸Šç”¨ dockerå¯¼å‡ºå åœ¨openwrt chrootä½¿ç”¨ã€‚\n","date":"2023-09-11T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/dnat/","title":"openwrtå†…ç½‘è®¾å¤‡æ— æ³•é€šè¿‡å¤–ç½‘åŸŸå/ipè®¿é—®çš„è§£å†³"},{"content":"æ•°æ®çš„ç»„æˆéƒ¨åˆ† ç‰©è”ç½‘è®¾å¤‡çš„æ ¸å¿ƒæ•°æ®ä¸»è¦åŒ…æ‹¬ï¼š\nè®¾å¤‡ç®¡ç†list ç”¨æˆ·ç®¡ç†list æ¸ é“list æƒé™ç®¡ç† å…¶ä»– æ•´ä½“è¿˜æ˜¯è¾ƒä¸ºç®€å•ï¼Œè€¦åˆåº¦ä¸é«˜ã€‚\nå…¶ä»–æ•°æ®å¯ä»¥ç”¨å…¶ä»–æ•°æ®å­˜å‚¨æ–¹æ³•æ¥æå®šã€‚ æ˜¯å¦è¦ä¸Šsql å› ä¸ºæ ¸å¿ƒæ•°æ®ç»“æ„è¾ƒä¸ºç®€å•ï¼Œå¹¶ä¸”æ•°æ®é‡å¾ˆå°‘ï¼Œnosqlæ•°æ®åº“ç»´æŠ¤ä¹Ÿä¸ä¼šå¤ªéº»çƒ¦ï¼Œæ‰€ä¸æ‰“ç®—ä¸Šsql\næ˜¯å¦éœ€è¦ä¸Šredis å› ä¸ºæ•°æ®è¦å¤šä¸ªæ¨¡å—éƒ½è¦ä½¿ç”¨ï¼Œè€Œä¸”é›†ç¾¤éƒ¨ç½²ï¼Œæœ¬åœ°mapæŒä¹…åŒ– æ¥å®ç°çš„è¯ é€»è¾‘ç•¥å¾®å¤æ‚ã€‚\nå¦å¤–é›†ç¾¤çš„å„ä¸ªæ¨¡å— ä»¥åŠé›†ç¾¤å†…éƒ½éœ€è¦æ¶ˆæ¯é€šè®¯ï¼Œè‡ªå·±å†ç”¨socket+mapæ¥å¼„ ä¹Ÿæ˜¯å¾’å¢å¾ˆå¤šå·¥ä½œé‡ã€‚ åæœŸç»´æŠ¤ä»£ä»·ä¹Ÿæ¯”è¾ƒå¤§ã€‚\næ‰€ä»¥ ç”¨redis é›†ç¾¤ æ¥æ›¿ä»£ sqlå’Œmq è¿˜æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚\nå€¼å¾—æ³¨æ„çš„ å› ä¸ºå¹¶å‘å¤ªé«˜ï¼Œè™½ç„¶ç”¨äº†redis,ä½†æ˜¯ä¸€äº›éœ€è¦é¢‘ç¹æŸ¥è¯¢çš„åœ°æ–¹ï¼Œè¿˜æ˜¯è¦æœ¬åœ°mapå¤„ç†ï¼Œä¸è¦é¢‘ç¹æŸ¥è¯¢redis\n","date":"2023-09-09T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/lot/coredb-select/","title":"ç‰©è”ç½‘è®¾å¤‡çš„ æ ¸å¿ƒæ•°æ®çš„ç»´æŠ¤å’Œä½¿ç”¨ æœ‰æ²¡æœ‰å¿…è¦ä¸Šsqlã€redis"},{"content":"éœ€è¦2ä¸ªæ–‡ä»¶ ä¸€ä¸ª shell(redis_docker_start.sh) ä¸€ä¸ª redis.conf æ¨¡æ¿ (redis_docker_tpl.conf)\nå¦‚æœéœ€è¦é…ç½®tls éœ€è¦ç”¨redisè‡ªå¸¦çš„å·¥å…·åˆ›å»ºä¸€ä¸‹è‡ªç­¾åè¯ä¹¦ï¼Œæˆ–è€…è´­ä¹°è¯ä¹¦ã€‚\nredisè‡ªå¸¦çš„è¯ä¹¦åˆ›å»º ï¼š https://github.com/redis/redis/blob/unstable/utils/gen-test-certs.sh å¯ä»¥è‡ªå·±ä¿®æ”¹ä¸€ä¸‹ï¼Œæœ€åä¼šåˆ›å»º11ä¸ªæ–‡ä»¶ã€‚\nå› ä¸ºåœ¨å…¬ç½‘å¼‚åœ°é›†ç¾¤ï¼Œæˆ‘è¿™é‡Œåªè®°å½•tlsçš„é›†ç¾¤\nåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ 1 bash redis_docker_start.sh 6078 6079 è¿æ¥åˆ°èŠ‚ç‚¹ 1 2 3 4 redis-cli --tls \\ --cacert /home/xxx/tls/ca.crt \\ -a XXXXX \\ -h 10.1.1.75 -p 6079 åªéœ€è¦æŒ‡å®šca.crtå³å¯\nredis_docker_start.sh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 #!/bin/bash if [ -z \u0026#34;${BASH_VERSION}\u0026#34; ]; then echo \u0026#34;è¯·ä½¿ç”¨ bash å‘½ä»¤æ‰§è¡Œè¯¥è„šæœ¬\u0026#34; exit 1 fi ################################ åˆ›å»ºè¯ä¹¦æ–‡ä»¶ å‡½æ•° ################################# function creatTLS_file { cat \u0026gt; $redisFile/tls/ca.crt \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/ca.key \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/ca.txt \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/client.crt \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/client.key \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/openssl.cnf \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/redis.crt \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/redis.dh \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/redis.key \u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/server.crt\u0026lt;\u0026lt; EOF XXXXX EOF cat \u0026gt; $redisFile/tls/server.key\u0026lt;\u0026lt; EOF XXXXX EOF } ################################## ä¸»ç¨‹åº ################################### if [ -z \u0026#34;$1\u0026#34; ]; then echo \u0026#34;tcpç«¯å£å‚æ•° \\$1 ä¸å­˜åœ¨ æ— æ³•ç»§ç»­\u0026#34; exit 1 fi if [ -z \u0026#34;$2\u0026#34; ]; then echo \u0026#34;tlsç«¯å£å‚æ•° \\$2 ä¸å­˜åœ¨ æ— æ³•ç»§ç»­\u0026#34; exit 1 fi echo \u0026#34;tcpç«¯å£:$1 tlsç«¯å£:$2\u0026#34; ################################## ç›¸å…³æ–‡ä»¶ é…ç½®################################### redisFile=$HOME/redis_docker echo â€œåˆ›å»ºç›®å½•å’Œæ—¥å¿—æ–‡ä»¶åˆ°ï¼š$redisFileâ€ mkdir -p $redisFile/$1/data $redisFile/$1/cnf $redisFile/tls $redisFile/$1/log rm -rf $redisFile/$1/log/redis.log \u0026amp;\u0026amp; touch $redisFile/$1/log/redis.log \u0026amp;\u0026amp; chmod -R 777 $redisFile/$1/log chmod -R 777 $redisFile/$1/data ################################## åˆ›å»º acl è¿™ä¸ªä¸æ˜¯å¿…é¡»çš„################################### echo â€œåˆ›å»ºaclæ–‡ä»¶ $redisFile/$1/users.aclâ€ echo \u0026#34;user default on #XXXXXX ~* \u0026amp;* +@all\u0026#34;\u0026gt;$redisFile/$1/cnf/users.acl ################################## å¤åˆ¶é…ç½®æ–‡ä»¶ ################################### echo â€œåˆ›å»ºé…ç½®æ–‡ä»¶ $redisFile/$1/cnf/redis.confâ€ rm -rf $redisFile/$1/cnf/redis.conf cp redis_docker_tpl.conf $redisFile/$1/cnf/redis.conf ################################## å¤åˆ¶é…ç½®æ–‡ä»¶ ################################### # tcp ç«¯å£ sed -i \u0026#34;s/{port}/$1/g\u0026#34; $redisFile/$1/cnf/redis.conf # tls ç«¯å£ sed -i \u0026#34;s/{tlsPort}/$2/g\u0026#34; $redisFile/$1/cnf/redis.conf # å¯†ç  sed -i \u0026#34;s/{password}/XXXXX/g\u0026#34; $redisFile/$1/cnf/redis.conf ################################## åˆ›å»ºè¯ä¹¦æ–‡ä»¶ ################################### echo â€œåˆ›å»ºè¯ä¹¦æ–‡ä»¶åˆ°ç›®å½• $redisFile/tlsâ€œ creatTLS_file # åˆ›å»ºè¯ä¹¦æ–‡ä»¶ ################################## å¯åŠ¨docker ################################### echo \u0026#34;åˆ é™¤æ—§å®¹å™¨ redis_$1 ....\u0026#34; sudo docker stop redis_$1 \u0026amp;\u0026amp;sudo docker rm redis_$1 echo \u0026#34;åˆ›å»ºæ–°å®¹å™¨ redis_$1 ....\u0026#34; sudo docker run -itd --name redis_$1 --hostname redis_$1 \\ --restart=always --net=host \\ -v $redisFile/$1/cnf:/cnf \\ -v $redisFile/$1/data:/var/lib/redis \\ -v $redisFile/$1/log:/var/log/redis \\ -v $redisFile/tls:/etc/ssl/certs \\ -d redis:7.2.1-alpine3.18 redis-server /cnf/redis.conf sudo docker ps -a sudo docker logs -f redis_$1 # tls æµ‹è¯• # -d redis:7.2.1-alpine3.18 redis-server /volume/cnf/redis.conf # docker run --name test redis:7.2.1-alpine3.18 redis_docker_tpl.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 799 800 801 802 803 804 805 806 807 808 809 810 811 812 813 814 815 816 817 818 819 820 821 822 823 824 825 826 827 828 829 830 831 832 833 834 835 836 837 838 839 840 841 842 843 844 845 846 847 848 849 850 851 852 853 854 855 856 857 858 859 860 861 862 863 864 865 866 867 868 869 870 871 872 873 874 875 876 877 878 879 880 881 882 883 884 885 886 887 888 889 890 891 892 893 894 895 896 897 898 899 900 901 902 903 904 905 906 907 908 909 910 911 912 913 914 915 916 917 918 919 920 921 922 923 924 925 926 927 928 929 930 931 932 933 934 935 936 937 938 939 940 941 942 943 944 945 946 947 948 949 950 951 952 953 954 955 956 957 958 959 960 961 962 963 964 965 966 967 968 969 970 971 972 973 974 975 976 977 978 979 980 981 982 983 984 985 986 987 988 989 990 991 992 993 994 995 996 997 998 999 1000 1001 1002 1003 1004 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1032 1033 1034 1035 1036 1037 1038 1039 1040 1041 1042 1043 1044 1045 1046 1047 1048 1049 1050 1051 1052 1053 1054 1055 1056 1057 1058 1059 1060 1061 1062 1063 1064 1065 1066 1067 1068 1069 1070 1071 1072 1073 1074 1075 1076 1077 1078 1079 1080 1081 1082 1083 1084 1085 1086 1087 1088 1089 1090 1091 1092 1093 1094 1095 1096 1097 1098 1099 1100 1101 1102 1103 1104 1105 1106 1107 1108 1109 1110 1111 1112 1113 1114 1115 1116 1117 1118 1119 1120 1121 1122 1123 1124 1125 1126 1127 1128 1129 1130 1131 1132 1133 1134 1135 1136 1137 1138 1139 1140 1141 1142 1143 1144 1145 1146 1147 1148 1149 1150 1151 1152 1153 1154 1155 1156 1157 1158 1159 1160 1161 1162 1163 1164 1165 1166 1167 1168 1169 1170 1171 1172 1173 1174 1175 1176 1177 1178 1179 1180 1181 1182 1183 1184 1185 1186 1187 1188 1189 1190 1191 1192 1193 1194 1195 1196 1197 1198 1199 1200 1201 1202 1203 1204 1205 1206 1207 1208 1209 1210 1211 1212 1213 1214 1215 1216 1217 1218 1219 1220 1221 1222 1223 1224 1225 1226 1227 1228 1229 1230 1231 1232 1233 1234 1235 1236 1237 1238 1239 1240 1241 1242 1243 1244 1245 1246 1247 1248 1249 1250 1251 1252 1253 1254 1255 1256 1257 1258 1259 1260 1261 1262 1263 1264 1265 1266 1267 1268 1269 1270 1271 1272 1273 1274 1275 1276 1277 1278 1279 1280 1281 1282 1283 1284 1285 1286 1287 1288 1289 1290 1291 1292 1293 1294 1295 1296 1297 1298 1299 1300 1301 1302 1303 1304 1305 1306 1307 1308 1309 1310 1311 1312 1313 1314 1315 1316 1317 1318 1319 1320 1321 1322 1323 1324 1325 1326 1327 1328 1329 1330 1331 1332 1333 1334 1335 1336 1337 1338 1339 1340 1341 1342 1343 1344 1345 1346 1347 1348 1349 1350 1351 1352 1353 1354 1355 1356 1357 1358 1359 1360 1361 1362 1363 1364 1365 1366 1367 1368 1369 1370 1371 1372 1373 1374 1375 1376 1377 1378 1379 1380 1381 1382 1383 1384 1385 1386 1387 1388 1389 1390 1391 1392 1393 1394 1395 1396 1397 1398 1399 1400 1401 1402 1403 1404 1405 1406 1407 1408 1409 1410 1411 1412 1413 1414 1415 1416 1417 1418 1419 1420 1421 1422 1423 1424 1425 1426 1427 1428 1429 1430 1431 1432 1433 1434 1435 1436 1437 1438 1439 1440 1441 1442 1443 1444 1445 1446 1447 1448 1449 1450 1451 1452 1453 1454 1455 1456 1457 1458 1459 1460 1461 1462 1463 1464 1465 1466 1467 1468 1469 1470 1471 1472 1473 1474 1475 1476 1477 1478 1479 1480 1481 1482 1483 1484 1485 1486 1487 1488 1489 1490 1491 1492 1493 1494 1495 1496 1497 1498 1499 1500 1501 1502 1503 1504 1505 1506 1507 1508 1509 1510 1511 1512 1513 1514 1515 1516 1517 1518 1519 1520 1521 1522 1523 1524 1525 1526 1527 1528 1529 1530 1531 1532 1533 1534 1535 1536 1537 1538 1539 1540 1541 1542 1543 1544 1545 1546 1547 1548 1549 1550 1551 1552 1553 1554 1555 1556 1557 1558 1559 1560 1561 1562 1563 1564 1565 1566 1567 1568 1569 1570 1571 1572 1573 1574 1575 1576 1577 1578 1579 1580 1581 1582 1583 1584 1585 1586 1587 1588 1589 1590 1591 1592 1593 1594 1595 1596 1597 1598 1599 1600 1601 1602 1603 1604 1605 1606 1607 1608 1609 1610 1611 1612 1613 1614 1615 1616 1617 1618 1619 1620 1621 1622 1623 1624 1625 1626 1627 1628 1629 1630 1631 1632 1633 1634 1635 1636 1637 1638 1639 1640 1641 1642 1643 1644 1645 1646 1647 1648 1649 1650 1651 1652 1653 1654 1655 1656 1657 1658 1659 1660 1661 1662 1663 1664 1665 1666 1667 1668 1669 1670 1671 1672 1673 1674 1675 1676 1677 1678 1679 1680 1681 1682 1683 1684 1685 1686 1687 1688 1689 1690 1691 1692 1693 1694 1695 1696 1697 1698 1699 1700 1701 1702 1703 1704 1705 1706 1707 1708 1709 1710 1711 1712 1713 1714 1715 1716 1717 1718 1719 1720 1721 1722 1723 1724 1725 1726 1727 1728 1729 1730 1731 1732 1733 1734 1735 1736 1737 1738 1739 1740 1741 1742 1743 1744 1745 1746 1747 1748 1749 1750 1751 1752 1753 1754 1755 1756 1757 1758 1759 1760 1761 1762 1763 1764 1765 1766 1767 1768 1769 1770 1771 1772 1773 1774 1775 1776 1777 1778 1779 1780 1781 1782 1783 1784 1785 1786 1787 1788 1789 1790 1791 1792 1793 1794 1795 1796 1797 1798 1799 1800 1801 1802 1803 1804 1805 1806 1807 1808 1809 1810 1811 1812 1813 1814 1815 1816 1817 1818 1819 1820 1821 1822 1823 1824 1825 1826 1827 1828 1829 1830 1831 1832 1833 1834 1835 1836 1837 1838 1839 1840 1841 1842 1843 1844 1845 1846 1847 1848 1849 1850 1851 1852 1853 1854 1855 1856 1857 1858 1859 1860 1861 1862 1863 1864 1865 1866 1867 1868 1869 1870 1871 1872 1873 1874 1875 1876 1877 1878 1879 1880 1881 1882 1883 1884 1885 1886 1887 1888 1889 1890 1891 1892 1893 1894 1895 1896 1897 1898 1899 1900 1901 1902 1903 1904 1905 1906 1907 1908 1909 1910 1911 1912 1913 1914 1915 1916 1917 1918 1919 1920 1921 1922 1923 1924 1925 1926 1927 1928 1929 1930 1931 1932 1933 1934 1935 1936 1937 1938 1939 1940 1941 1942 1943 1944 1945 1946 1947 1948 1949 1950 1951 1952 1953 1954 1955 1956 1957 1958 1959 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2032 2033 2034 2035 2036 2037 2038 2039 2040 2041 2042 2043 2044 2045 2046 2047 2048 2049 2050 2051 2052 2053 2054 2055 2056 2057 2058 2059 2060 2061 2062 2063 2064 2065 2066 2067 2068 2069 2070 2071 2072 2073 2074 2075 2076 2077 2078 2079 2080 2081 2082 2083 2084 2085 2086 2087 2088 2089 2090 2091 2092 2093 2094 2095 2096 2097 2098 2099 2100 2101 2102 2103 2104 2105 2106 2107 2108 2109 2110 2111 2112 2113 2114 2115 2116 2117 2118 2119 2120 2121 2122 2123 2124 2125 2126 2127 2128 2129 2130 2131 2132 2133 2134 2135 2136 2137 2138 2139 2140 2141 2142 2143 2144 2145 2146 2147 2148 2149 2150 2151 2152 2153 2154 2155 2156 2157 2158 2159 2160 2161 2162 2163 2164 2165 2166 2167 2168 2169 2170 2171 2172 2173 2174 2175 2176 2177 2178 2179 2180 2181 2182 2183 2184 2185 2186 2187 2188 2189 2190 2191 2192 2193 2194 2195 2196 2197 2198 2199 2200 2201 2202 2203 2204 2205 2206 2207 2208 2209 2210 2211 2212 2213 2214 2215 2216 2217 2218 2219 2220 2221 2222 2223 2224 2225 2226 2227 2228 2229 2230 2231 2232 2233 2234 2235 2236 2237 2238 2239 2240 2241 2242 2243 2244 2245 2246 2247 2248 2249 2250 2251 2252 2253 2254 2255 2256 2257 2258 2259 2260 2261 2262 2263 2264 2265 2266 2267 2268 2269 2270 2271 2272 2273 2274 2275 2276 2277 2278 2279 2280 2281 2282 2283 2284 2285 2286 2287 2288 2289 2290 2291 2292 2293 2294 2295 2296 2297 2298 2299 2300 2301 2302 2303 2304 2305 2306 2307 2308 2309 2310 2311 2312 2313 2314 2315 2316 2317 2318 2319 2320 2321 2322 2323 2324 2325 2326 2327 2328 2329 2330 2331 2332 2333 2334 ################################# ä¸å…è®¸åå°è¿è¡Œ docker å¿…é¡»æ‰“å¼€ ##################################### daemonize no ################################# åŸºç¡€ç½‘ç»œç›¸å…³ ##################################### bind * -::* port {port} ################################# tlsç›¸å…³ ##################################### # å¦‚æœä¸å¯ç”¨æ³¨é‡Šæ‰ä¸‹é¢å³å¯ tls-port {tlsPort} tls-cert-file /etc/ssl/certs/redis.crt tls-key-file /etc/ssl/certs/redis.key tls-client-cert-file /etc/ssl/certs/client.crt tls-client-key-file /etc/ssl/certs/client.key tls-client-key-file-pass /etc/ssl/certs/secret tls-dh-params-file /etc/ssl/certs/redis.dh tls-ca-cert-file /etc/ssl/certs/ca.crt tls-ca-cert-dir /etc/ssl/certs tls-auth-clients no tls-auth-clients optional tls-replication yes tls-cluster yes tls-protocols \u0026#34;TLSv1.2 TLSv1.3\u0026#34; tls-ciphers DEFAULT:!MEDIUM tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256 tls-prefer-server-ciphers yes tls-session-caching no tls-session-cache-size 5000 tls-session-cache-timeout 60 ################################## å®‰å…¨è®¤è¯ç›¸å…³ ################################### # å…è®¸å¤–ç½‘è®¿é—® noæ˜¯å…è®¸ protected-mode no requirepass \u0026#34;{password}\u0026#34; # åŒæ­¥å¯†ç  å’Œç®¡ç†å‘˜å¯†ç é…ç½®ä¸€æ ·çš„ï¼Œä¸ç„¶åŒæ­¥å®¹æ˜“å‡ºé—®é¢˜ masterauth \u0026#34;{password}\u0026#34; ################################## å¤šçº¿ç¨‹ ################################### io-threads-do-reads yes io-threads 2 ################################## æŒä¹…åŒ– ################################### # å¼€å¯aof å…¶ä»–ä¸ç”¨é…ç½®ç”¨é»˜è®¤å³å¯ appendonly yes ################################## é›† ç¾¤ ################################### # å¼€å¯é›†ç¾¤ å¦‚æœä¸ç”¨ æ³¨é‡Šæ‰å³å¯ cluster-enabled yes # èŠ‚ç‚¹é…ç½® é»˜è®¤ä¼šåœ¨ data ç›®å½• cluster-config-file \u0026#34;nodes.conf\u0026#34; #é›†ç¾¤è¶…æ—¶ cluster-node-timeout 5000 ################################## å¯èƒ½éœ€è¦çš„ ################################### # é™åˆ¶å†…å­˜ aclæ§åˆ¶ç­‰ ################################## åé¢æ˜¯é»˜è®¤é…ç½® ################################### # Redis configuration file example. # # Note that in order to read the configuration file, Redis must be # started with the file path as first argument: # # ./redis-server /path/to/redis.conf # Note on units: when memory size is needed, it is possible to specify # it in the usual form of 1k 5GB 4M and so forth: # # 1k =\u0026gt; 1000 bytes # 1kb =\u0026gt; 1024 bytes # 1m =\u0026gt; 1000000 bytes # 1mb =\u0026gt; 1024*1024 bytes # 1g =\u0026gt; 1000000000 bytes # 1gb =\u0026gt; 1024*1024*1024 bytes # # units are case insensitive so 1GB 1Gb 1gB are all the same. ################################## INCLUDES ################################### # Include one or more other config files here. This is useful if you # have a standard template that goes to all Redis servers but also need # to customize a few per-server settings. Include files can include # other files, so use this wisely. # # Note that option \u0026#34;include\u0026#34; won\u0026#39;t be rewritten by command \u0026#34;CONFIG REWRITE\u0026#34; # from admin or Redis Sentinel. Since Redis always uses the last processed # line as value of a configuration directive, you\u0026#39;d better put includes # at the beginning of this file to avoid overwriting config change at runtime. # # If instead you are interested in using includes to override configuration # options, it is better to use include as the last line. # # Included paths may contain wildcards. All files matching the wildcards will # be included in alphabetical order. # Note that if an include path contains a wildcards but no files match it when # the server is started, the include statement will be ignored and no error will # be emitted. It is safe, therefore, to include wildcard files from empty # directories. # # include /path/to/local.conf # include /path/to/other.conf # include /path/to/fragments/*.conf # ################################## MODULES ##################################### # Load modules at startup. If the server is not able to load modules # it will abort. It is possible to use multiple loadmodule directives. # # loadmodule /path/to/my_module.so # loadmodule /path/to/other_module.so ################################## NETWORK ##################################### # By default, if no \u0026#34;bind\u0026#34; configuration directive is specified, Redis listens # for connections from all available network interfaces on the host machine. # It is possible to listen to just one or multiple selected interfaces using # the \u0026#34;bind\u0026#34; configuration directive, followed by one or more IP addresses. # Each address can be prefixed by \u0026#34;-\u0026#34;, which means that redis will not fail to # start if the address is not available. Being not available only refers to # addresses that does not correspond to any network interface. Addresses that # are already in use will always fail, and unsupported protocols will always BE # silently skipped. # # Examples: # # bind 192.168.1.100 10.0.0.1 # listens on two specific IPv4 addresses # bind 127.0.0.1 ::1 # listens on loopback IPv4 and IPv6 # bind * -::* # like the default, all available interfaces # # ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the # internet, binding to all the interfaces is dangerous and will expose the # instance to everybody on the internet. So by default we uncomment the # following bind directive, that will force Redis to listen only on the # IPv4 and IPv6 (if available) loopback interface addresses (this means Redis # will only be able to accept client connections from the same host that it is # running on). # # IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES # COMMENT OUT THE FOLLOWING LINE. # # You will also need to set a password unless you explicitly disable protected # mode. # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #-bind 127.0.0.1 -::1 # By default, outgoing connections (from replica to master, from Sentinel to # instances, cluster bus, etc.) are not bound to a specific local address. In # most cases, this means the operating system will handle that based on routing # and the interface through which the connection goes out. # # Using bind-source-addr it is possible to configure a specific address to bind # to, which may also affect how the connection gets routed. # # Example: # # bind-source-addr 10.0.0.1 # Protected mode is a layer of security protection, in order to avoid that # Redis instances left open on the internet are accessed and exploited. # # When protected mode is on and the default user has no password, the server # only accepts local connections from the IPv4 address (127.0.0.1), IPv6 address # (::1) or Unix domain sockets. # # By default protected mode is enabled. You should disable it only if # you are sure you want clients from other hosts to connect to Redis # even if no authentication is configured. #-protected-mode yes # Redis uses default hardened security configuration directives to reduce the # attack surface on innocent users. Therefore, several sensitive configuration # directives are immutable, and some potentially-dangerous commands are blocked. # # Configuration directives that control files that Redis writes to (e.g., \u0026#39;dir\u0026#39; # and \u0026#39;dbfilename\u0026#39;) and that aren\u0026#39;t usually modified during runtime # are protected by making them immutable. # # Commands that can increase the attack surface of Redis and that aren\u0026#39;t usually # called by users are blocked by default. # # These can be exposed to either all connections or just local ones by setting # each of the configs listed below to either of these values: # # no - Block for any connection (remain immutable) # yes - Allow for any connection (no protection) # local - Allow only for local connections. Ones originating from the # IPv4 address (127.0.0.1), IPv6 address (::1) or Unix domain sockets. # # enable-protected-configs no # enable-debug-command no # enable-module-command no # Accept connections on the specified port, default is 6379 (IANA #815344). # If port 0 is specified Redis will not listen on a TCP socket. #-port 6379 # TCP listen() backlog. # # In high requests-per-second environments you need a high backlog in order # to avoid slow clients connection issues. Note that the Linux kernel # will silently truncate it to the value of /proc/sys/net/core/somaxconn so # make sure to raise both the value of somaxconn and tcp_max_syn_backlog # in order to get the desired effect. tcp-backlog 511 # Unix socket. # # Specify the path for the Unix socket that will be used to listen for # incoming connections. There is no default, so Redis will not listen # on a unix socket when not specified. # # unixsocket /run/redis/redis-server.sock # unixsocketperm 700 # Close the connection after a client is idle for N seconds (0 to disable) timeout 0 # TCP keepalive. # # If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence # of communication. This is useful for two reasons: # # 1) Detect dead peers. # 2) Force network equipment in the middle to consider the connection to be # alive. # # On Linux, the specified value (in seconds) is the period used to send ACKs. # Note that to close the connection the double of the time is needed. # On other kernels the period depends on the kernel configuration. # # A reasonable value for this option is 300 seconds, which is the new # Redis default starting with Redis 3.2.1. tcp-keepalive 300 # Apply OS-specific mechanism to mark the listening socket with the specified # ID, to support advanced routing and filtering capabilities. # # On Linux, the ID represents a connection mark. # On FreeBSD, the ID represents a socket cookie ID. # On OpenBSD, the ID represents a route table ID. # # The default value is 0, which implies no marking is required. # socket-mark-id 0 ################################# TLS/SSL ##################################### # By default, TLS/SSL is disabled. To enable it, the \u0026#34;tls-port\u0026#34; configuration # directive can be used to define TLS-listening ports. To enable TLS on the # default port, use: # # port 0 # tls-port 6379 # Configure a X.509 certificate and private key to use for authenticating the # server to connected clients, masters or cluster peers. These files should be # PEM formatted. # # tls-cert-file redis.crt # tls-key-file redis.key # # If the key file is encrypted using a passphrase, it can be included here # as well. # # tls-key-file-pass secret # Normally Redis uses the same certificate for both server functions (accepting # connections) and client functions (replicating from a master, establishing # cluster bus connections, etc.). # # Sometimes certificates are issued with attributes that designate them as # client-only or server-only certificates. In that case it may be desired to use # different certificates for incoming (server) and outgoing (client) # connections. To do that, use the following directives: # # tls-client-cert-file client.crt # tls-client-key-file client.key # # If the key file is encrypted using a passphrase, it can be included here # as well. # # tls-client-key-file-pass secret # Configure a DH parameters file to enable Diffie-Hellman (DH) key exchange, # required by older versions of OpenSSL (\u0026lt;3.0). Newer versions do not require # this configuration and recommend against it. # # tls-dh-params-file redis.dh # Configure a CA certificate(s) bundle or directory to authenticate TLS/SSL # clients and peers. Redis requires an explicit configuration of at least one # of these, and will not implicitly use the system wide configuration. # # tls-ca-cert-file ca.crt # tls-ca-cert-dir /etc/ssl/certs # By default, clients (including replica servers) on a TLS port are required # to authenticate using valid client side certificates. # # If \u0026#34;no\u0026#34; is specified, client certificates are not required and not accepted. # If \u0026#34;optional\u0026#34; is specified, client certificates are accepted and must be # valid if provided, but are not required. # # tls-auth-clients no # tls-auth-clients optional # By default, a Redis replica does not attempt to establish a TLS connection # with its master. # # Use the following directive to enable TLS on replication links. # # tls-replication yes # By default, the Redis Cluster bus uses a plain TCP connection. To enable # TLS for the bus protocol, use the following directive: # # tls-cluster yes # By default, only TLSv1.2 and TLSv1.3 are enabled and it is highly recommended # that older formally deprecated versions are kept disabled to reduce the attack surface. # You can explicitly specify TLS versions to support. # Allowed values are case insensitive and include \u0026#34;TLSv1\u0026#34;, \u0026#34;TLSv1.1\u0026#34;, \u0026#34;TLSv1.2\u0026#34;, # \u0026#34;TLSv1.3\u0026#34; (OpenSSL \u0026gt;= 1.1.1) or any combination. # To enable only TLSv1.2 and TLSv1.3, use: # # tls-protocols \u0026#34;TLSv1.2 TLSv1.3\u0026#34; # Configure allowed ciphers. See the ciphers(1ssl) manpage for more information # about the syntax of this string. # # Note: this configuration applies only to \u0026lt;= TLSv1.2. # # tls-ciphers DEFAULT:!MEDIUM # Configure allowed TLSv1.3 ciphersuites. See the ciphers(1ssl) manpage for more # information about the syntax of this string, and specifically for TLSv1.3 # ciphersuites. # # tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256 # When choosing a cipher, use the server\u0026#39;s preference instead of the client # preference. By default, the server follows the client\u0026#39;s preference. # # tls-prefer-server-ciphers yes # By default, TLS session caching is enabled to allow faster and less expensive # reconnections by clients that support it. Use the following directive to disable # caching. # # tls-session-caching no # Change the default number of TLS sessions cached. A zero value sets the cache # to unlimited size. The default size is 20480. # # tls-session-cache-size 5000 # Change the default timeout of cached TLS sessions. The default timeout is 300 # seconds. # # tls-session-cache-timeout 60 ################################# GENERAL ##################################### # By default Redis does not run as a daemon. Use \u0026#39;yes\u0026#39; if you need it. # Note that Redis will write a pid file in /var/run/redis.pid when daemonized. # When Redis is supervised by upstart or systemd, this parameter has no impact. #-daemonize yes # If you run Redis from upstart or systemd, Redis can interact with your # supervision tree. Options: # supervised no - no supervision interaction # supervised upstart - signal upstart by putting Redis into SIGSTOP mode # requires \u0026#34;expect stop\u0026#34; in your upstart job config # supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET # on startup, and updating Redis status on a regular # basis. # supervised auto - detect upstart or systemd method based on # UPSTART_JOB or NOTIFY_SOCKET environment variables # Note: these supervision methods only signal \u0026#34;process is ready.\u0026#34; # They do not enable continuous pings back to your supervisor. # # The default is \u0026#34;no\u0026#34;. To run under upstart/systemd, you can simply uncomment # the line below: # # supervised auto # If a pid file is specified, Redis writes it where specified at startup # and removes it at exit. # # When the server runs non daemonized, no pid file is created if none is # specified in the configuration. When the server is daemonized, the pid file # is used even if not specified, defaulting to \u0026#34;/var/run/redis.pid\u0026#34;. # # Creating a pid file is best effort: if Redis is not able to create it # nothing bad happens, the server will start and run normally. # # Note that on modern Linux systems \u0026#34;/run/redis.pid\u0026#34; is more conforming # and should be used instead. pidfile /run/redis/redis-server.pid # Specify the server verbosity level. # This can be one of: # debug (a lot of information, useful for development/testing) # verbose (many rarely useful info, but not a mess like the debug level) # notice (moderately verbose, what you want in production probably) # warning (only very important / critical messages are logged) loglevel notice # Specify the log file name. Also the empty string can be used to force # Redis to log on the standard output. Note that if you use standard # output for logging but daemonize, logs will be sent to /dev/null logfile /var/log/redis/redis-server.log # To enable logging to the system logger, just set \u0026#39;syslog-enabled\u0026#39; to yes, # and optionally update the other syslog parameters to suit your needs. # syslog-enabled no # Specify the syslog identity. # syslog-ident redis # Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7. # syslog-facility local0 # To disable the built in crash log, which will possibly produce cleaner core # dumps when they are needed, uncomment the following: # # crash-log-enabled no # To disable the fast memory check that\u0026#39;s run as part of the crash log, which # will possibly let redis terminate sooner, uncomment the following: # # crash-memcheck-enabled no # Set the number of databases. The default database is DB 0, you can select # a different one on a per-connection basis using SELECT \u0026lt;dbid\u0026gt; where # dbid is a number between 0 and \u0026#39;databases\u0026#39;-1 databases 16 # By default Redis shows an ASCII art logo only when started to log to the # standard output and if the standard output is a TTY and syslog logging is # disabled. Basically this means that normally a logo is displayed only in # interactive sessions. # # However it is possible to force the pre-4.0 behavior and always show a # ASCII art logo in startup logs by setting the following option to yes. always-show-logo no # By default, Redis modifies the process title (as seen in \u0026#39;top\u0026#39; and \u0026#39;ps\u0026#39;) to # provide some runtime information. It is possible to disable this and leave # the process name as executed by setting the following to no. set-proc-title yes # When changing the process title, Redis uses the following template to construct # the modified title. # # Template variables are specified in curly brackets. The following variables are # supported: # # {title} Name of process as executed if parent, or type of child process. # {listen-addr} Bind address or \u0026#39;*\u0026#39; followed by TCP or TLS port listening on, or # Unix socket if only that\u0026#39;s available. # {server-mode} Special mode, i.e. \u0026#34;[sentinel]\u0026#34; or \u0026#34;[cluster]\u0026#34;. # {port} TCP port listening on, or 0. # {tls-port} TLS port listening on, or 0. # {unixsocket} Unix domain socket listening on, or \u0026#34;\u0026#34;. # {config-file} Name of configuration file used. # proc-title-template \u0026#34;{title} {listen-addr} {server-mode}\u0026#34; ################################ SNAPSHOTTING ################################ # Save the DB to disk. # # save \u0026lt;seconds\u0026gt; \u0026lt;changes\u0026gt; [\u0026lt;seconds\u0026gt; \u0026lt;changes\u0026gt; ...] # # Redis will save the DB if the given number of seconds elapsed and it # surpassed the given number of write operations against the DB. # # Snapshotting can be completely disabled with a single empty string argument # as in following example: # # save \u0026#34;\u0026#34; # # Unless specified otherwise, by default Redis will save the DB: # * After 3600 seconds (an hour) if at least 1 change was performed # * After 300 seconds (5 minutes) if at least 100 changes were performed # * After 60 seconds if at least 10000 changes were performed # # You can set these explicitly by uncommenting the following line. # # save 3600 1 300 100 60 10000 # By default Redis will stop accepting writes if RDB snapshots are enabled # (at least one save point) and the latest background save failed. # This will make the user aware (in a hard way) that data is not persisting # on disk properly, otherwise chances are that no one will notice and some # disaster will happen. # # If the background saving process will start working again Redis will # automatically allow writes again. # # However if you have setup your proper monitoring of the Redis server # and persistence, you may want to disable this feature so that Redis will # continue to work as usual even if there are problems with disk, # permissions, and so forth. stop-writes-on-bgsave-error yes # Compress string objects using LZF when dump .rdb databases? # By default compression is enabled as it\u0026#39;s almost always a win. # If you want to save some CPU in the saving child set it to \u0026#39;no\u0026#39; but # the dataset will likely be bigger if you have compressible values or keys. rdbcompression yes # Since version 5 of RDB a CRC64 checksum is placed at the end of the file. # This makes the format more resistant to corruption but there is a performance # hit to pay (around 10%) when saving and loading RDB files, so you can disable it # for maximum performances. # # RDB files created with checksum disabled have a checksum of zero that will # tell the loading code to skip the check. rdbchecksum yes # Enables or disables full sanitization checks for ziplist and listpack etc when # loading an RDB or RESTORE payload. This reduces the chances of a assertion or # crash later on while processing commands. # Options: # no - Never perform full sanitization # yes - Always perform full sanitization # clients - Perform full sanitization only for user connections. # Excludes: RDB files, RESTORE commands received from the master # connection, and client connections which have the # skip-sanitize-payload ACL flag. # The default should be \u0026#39;clients\u0026#39; but since it currently affects cluster # resharding via MIGRATE, it is temporarily set to \u0026#39;no\u0026#39; by default. # # sanitize-dump-payload no # The filename where to dump the DB dbfilename dump.rdb # Remove RDB files used by replication in instances without persistence # enabled. By default this option is disabled, however there are environments # where for regulations or other security concerns, RDB files persisted on # disk by masters in order to feed replicas, or stored on disk by replicas # in order to load them for the initial synchronization, should be deleted # ASAP. Note that this option ONLY WORKS in instances that have both AOF # and RDB persistence disabled, otherwise is completely ignored. # # An alternative (and sometimes better) way to obtain the same effect is # to use diskless replication on both master and replicas instances. However # in the case of replicas, diskless is not always an option. rdb-del-sync-files no # The working directory. # # The DB will be written inside this directory, with the filename specified # above using the \u0026#39;dbfilename\u0026#39; configuration directive. # # The Append Only File will also be created inside this directory. # # Note that you must specify a directory here, not a file name. dir /var/lib/redis ################################# REPLICATION ################################# # Master-Replica replication. Use replicaof to make a Redis instance a copy of # another Redis server. A few things to understand ASAP about Redis replication. # # +------------------+ +---------------+ # | Master | ---\u0026gt; | Replica | # | (receive writes) | | (exact copy) | # +------------------+ +---------------+ # # 1) Redis replication is asynchronous, but you can configure a master to # stop accepting writes if it appears to be not connected with at least # a given number of replicas. # 2) Redis replicas are able to perform a partial resynchronization with the # master if the replication link is lost for a relatively small amount of # time. You may want to configure the replication backlog size (see the next # sections of this file) with a sensible value depending on your needs. # 3) Replication is automatic and does not need user intervention. After a # network partition replicas automatically try to reconnect to masters # and resynchronize with them. # # replicaof \u0026lt;masterip\u0026gt; \u0026lt;masterport\u0026gt; # If the master is password protected (using the \u0026#34;requirepass\u0026#34; configuration # directive below) it is possible to tell the replica to authenticate before # starting the replication synchronization process, otherwise the master will # refuse the replica request. # # masterauth \u0026lt;master-password\u0026gt; # # However this is not enough if you are using Redis ACLs (for Redis version # 6 or greater), and the default user is not capable of running the PSYNC # command and/or other commands needed for replication. In this case it\u0026#39;s # better to configure a special user to use with replication, and specify the # masteruser configuration as such: # # masteruser \u0026lt;username\u0026gt; # # When masteruser is specified, the replica will authenticate against its # master using the new AUTH form: AUTH \u0026lt;username\u0026gt; \u0026lt;password\u0026gt;. # When a replica loses its connection with the master, or when the replication # is still in progress, the replica can act in two different ways: # # 1) if replica-serve-stale-data is set to \u0026#39;yes\u0026#39; (the default) the replica will # still reply to client requests, possibly with out of date data, or the # data set may just be empty if this is the first synchronization. # # 2) If replica-serve-stale-data is set to \u0026#39;no\u0026#39; the replica will reply with error # \u0026#34;MASTERDOWN Link with MASTER is down and replica-serve-stale-data is set to \u0026#39;no\u0026#39;\u0026#34; # to all data access commands, excluding commands such as: # INFO, REPLICAOF, AUTH, SHUTDOWN, REPLCONF, ROLE, CONFIG, SUBSCRIBE, # UNSUBSCRIBE, PSUBSCRIBE, PUNSUBSCRIBE, PUBLISH, PUBSUB, COMMAND, POST, # HOST and LATENCY. # replica-serve-stale-data yes # You can configure a replica instance to accept writes or not. Writing against # a replica instance may be useful to store some ephemeral data (because data # written on a replica will be easily deleted after resync with the master) but # may also cause problems if clients are writing to it because of a # misconfiguration. # # Since Redis 2.6 by default replicas are read-only. # # Note: read only replicas are not designed to be exposed to untrusted clients # on the internet. It\u0026#39;s just a protection layer against misuse of the instance. # Still a read only replica exports by default all the administrative commands # such as CONFIG, DEBUG, and so forth. To a limited extent you can improve # security of read only replicas using \u0026#39;rename-command\u0026#39; to shadow all the # administrative / dangerous commands. replica-read-only yes # Replication SYNC strategy: disk or socket. # # New replicas and reconnecting replicas that are not able to continue the # replication process just receiving differences, need to do what is called a # \u0026#34;full synchronization\u0026#34;. An RDB file is transmitted from the master to the # replicas. # # The transmission can happen in two different ways: # # 1) Disk-backed: The Redis master creates a new process that writes the RDB # file on disk. Later the file is transferred by the parent # process to the replicas incrementally. # 2) Diskless: The Redis master creates a new process that directly writes the # RDB file to replica sockets, without touching the disk at all. # # With disk-backed replication, while the RDB file is generated, more replicas # can be queued and served with the RDB file as soon as the current child # producing the RDB file finishes its work. With diskless replication instead # once the transfer starts, new replicas arriving will be queued and a new # transfer will start when the current one terminates. # # When diskless replication is used, the master waits a configurable amount of # time (in seconds) before starting the transfer in the hope that multiple # replicas will arrive and the transfer can be parallelized. # # With slow disks and fast (large bandwidth) networks, diskless replication # works better. repl-diskless-sync yes # When diskless replication is enabled, it is possible to configure the delay # the server waits in order to spawn the child that transfers the RDB via socket # to the replicas. # # This is important since once the transfer starts, it is not possible to serve # new replicas arriving, that will be queued for the next RDB transfer, so the # server waits a delay in order to let more replicas arrive. # # The delay is specified in seconds, and by default is 5 seconds. To disable # it entirely just set it to 0 seconds and the transfer will start ASAP. repl-diskless-sync-delay 5 # When diskless replication is enabled with a delay, it is possible to let # the replication start before the maximum delay is reached if the maximum # number of replicas expected have connected. Default of 0 means that the # maximum is not defined and Redis will wait the full delay. repl-diskless-sync-max-replicas 0 # ----------------------------------------------------------------------------- # WARNING: RDB diskless load is experimental. Since in this setup the replica # does not immediately store an RDB on disk, it may cause data loss during # failovers. RDB diskless load + Redis modules not handling I/O reads may also # cause Redis to abort in case of I/O errors during the initial synchronization # stage with the master. Use only if you know what you are doing. # ----------------------------------------------------------------------------- # # Replica can load the RDB it reads from the replication link directly from the # socket, or store the RDB to a file and read that file after it was completely # received from the master. # # In many cases the disk is slower than the network, and storing and loading # the RDB file may increase replication time (and even increase the master\u0026#39;s # Copy on Write memory and replica buffers). # However, parsing the RDB file directly from the socket may mean that we have # to flush the contents of the current database before the full rdb was # received. For this reason we have the following options: # # \u0026#34;disabled\u0026#34; - Don\u0026#39;t use diskless load (store the rdb file to the disk first) # \u0026#34;on-empty-db\u0026#34; - Use diskless load only when it is completely safe. # \u0026#34;swapdb\u0026#34; - Keep current db contents in RAM while parsing the data directly # from the socket. Replicas in this mode can keep serving current # data set while replication is in progress, except for cases where # they can\u0026#39;t recognize master as having a data set from same # replication history. # Note that this requires sufficient memory, if you don\u0026#39;t have it, # you risk an OOM kill. repl-diskless-load disabled # Master send PINGs to its replicas in a predefined interval. It\u0026#39;s possible to # change this interval with the repl_ping_replica_period option. The default # value is 10 seconds. # # repl-ping-replica-period 10 # The following option sets the replication timeout for: # # 1) Bulk transfer I/O during SYNC, from the point of view of replica. # 2) Master timeout from the point of view of replicas (data, pings). # 3) Replica timeout from the point of view of masters (REPLCONF ACK pings). # # It is important to make sure that this value is greater than the value # specified for repl-ping-replica-period otherwise a timeout will be detected # every time there is low traffic between the master and the replica. The default # value is 60 seconds. # # repl-timeout 60 # Disable TCP_NODELAY on the replica socket after SYNC? # # If you select \u0026#34;yes\u0026#34; Redis will use a smaller number of TCP packets and # less bandwidth to send data to replicas. But this can add a delay for # the data to appear on the replica side, up to 40 milliseconds with # Linux kernels using a default configuration. # # If you select \u0026#34;no\u0026#34; the delay for data to appear on the replica side will # be reduced but more bandwidth will be used for replication. # # By default we optimize for low latency, but in very high traffic conditions # or when the master and replicas are many hops away, turning this to \u0026#34;yes\u0026#34; may # be a good idea. repl-disable-tcp-nodelay no # Set the replication backlog size. The backlog is a buffer that accumulates # replica data when replicas are disconnected for some time, so that when a # replica wants to reconnect again, often a full resync is not needed, but a # partial resync is enough, just passing the portion of data the replica # missed while disconnected. # # The bigger the replication backlog, the longer the replica can endure the # disconnect and later be able to perform a partial resynchronization. # # The backlog is only allocated if there is at least one replica connected. # # repl-backlog-size 1mb # After a master has no connected replicas for some time, the backlog will be # freed. The following option configures the amount of seconds that need to # elapse, starting from the time the last replica disconnected, for the backlog # buffer to be freed. # # Note that replicas never free the backlog for timeout, since they may be # promoted to masters later, and should be able to correctly \u0026#34;partially # resynchronize\u0026#34; with other replicas: hence they should always accumulate backlog. # # A value of 0 means to never release the backlog. # # repl-backlog-ttl 3600 # The replica priority is an integer number published by Redis in the INFO # output. It is used by Redis Sentinel in order to select a replica to promote # into a master if the master is no longer working correctly. # # A replica with a low priority number is considered better for promotion, so # for instance if there are three replicas with priority 10, 100, 25 Sentinel # will pick the one with priority 10, that is the lowest. # # However a special priority of 0 marks the replica as not able to perform the # role of master, so a replica with priority of 0 will never be selected by # Redis Sentinel for promotion. # # By default the priority is 100. replica-priority 100 # The propagation error behavior controls how Redis will behave when it is # unable to handle a command being processed in the replication stream from a master # or processed while reading from an AOF file. Errors that occur during propagation # are unexpected, and can cause data inconsistency. However, there are edge cases # in earlier versions of Redis where it was possible for the server to replicate or persist # commands that would fail on future versions. For this reason the default behavior # is to ignore such errors and continue processing commands. # # If an application wants to ensure there is no data divergence, this configuration # should be set to \u0026#39;panic\u0026#39; instead. The value can also be set to \u0026#39;panic-on-replicas\u0026#39; # to only panic when a replica encounters an error on the replication stream. One of # these two panic values will become the default value in the future once there are # sufficient safety mechanisms in place to prevent false positive crashes. # # propagation-error-behavior ignore # Replica ignore disk write errors controls the behavior of a replica when it is # unable to persist a write command received from its master to disk. By default, # this configuration is set to \u0026#39;no\u0026#39; and will crash the replica in this condition. # It is not recommended to change this default, however in order to be compatible # with older versions of Redis this config can be toggled to \u0026#39;yes\u0026#39; which will just # log a warning and execute the write command it got from the master. # # replica-ignore-disk-write-errors no # ----------------------------------------------------------------------------- # By default, Redis Sentinel includes all replicas in its reports. A replica # can be excluded from Redis Sentinel\u0026#39;s announcements. An unannounced replica # will be ignored by the \u0026#39;sentinel replicas \u0026lt;master\u0026gt;\u0026#39; command and won\u0026#39;t be # exposed to Redis Sentinel\u0026#39;s clients. # # This option does not change the behavior of replica-priority. Even with # replica-announced set to \u0026#39;no\u0026#39;, the replica can be promoted to master. To # prevent this behavior, set replica-priority to 0. # # replica-announced yes # It is possible for a master to stop accepting writes if there are less than # N replicas connected, having a lag less or equal than M seconds. # # The N replicas need to be in \u0026#34;online\u0026#34; state. # # The lag in seconds, that must be \u0026lt;= the specified value, is calculated from # the last ping received from the replica, that is usually sent every second. # # This option does not GUARANTEE that N replicas will accept the write, but # will limit the window of exposure for lost writes in case not enough replicas # are available, to the specified number of seconds. # # For example to require at least 3 replicas with a lag \u0026lt;= 10 seconds use: # # min-replicas-to-write 3 # min-replicas-max-lag 10 # # Setting one or the other to 0 disables the feature. # # By default min-replicas-to-write is set to 0 (feature disabled) and # min-replicas-max-lag is set to 10. # A Redis master is able to list the address and port of the attached # replicas in different ways. For example the \u0026#34;INFO replication\u0026#34; section # offers this information, which is used, among other tools, by # Redis Sentinel in order to discover replica instances. # Another place where this info is available is in the output of the # \u0026#34;ROLE\u0026#34; command of a master. # # The listed IP address and port normally reported by a replica is # obtained in the following way: # # IP: The address is auto detected by checking the peer address # of the socket used by the replica to connect with the master. # # Port: The port is communicated by the replica during the replication # handshake, and is normally the port that the replica is using to # listen for connections. # # However when port forwarding or Network Address Translation (NAT) is # used, the replica may actually be reachable via different IP and port # pairs. The following two options can be used by a replica in order to # report to its master a specific set of IP and port, so that both INFO # and ROLE will report those values. # # There is no need to use both the options if you need to override just # the port or the IP address. # # replica-announce-ip 5.5.5.5 # replica-announce-port 1234 ############################### KEYS TRACKING ################################# # Redis implements server assisted support for client side caching of values. # This is implemented using an invalidation table that remembers, using # a radix key indexed by key name, what clients have which keys. In turn # this is used in order to send invalidation messages to clients. Please # check this page to understand more about the feature: # # https://redis.io/topics/client-side-caching # # When tracking is enabled for a client, all the read only queries are assumed # to be cached: this will force Redis to store information in the invalidation # table. When keys are modified, such information is flushed away, and # invalidation messages are sent to the clients. However if the workload is # heavily dominated by reads, Redis could use more and more memory in order # to track the keys fetched by many clients. # # For this reason it is possible to configure a maximum fill value for the # invalidation table. By default it is set to 1M of keys, and once this limit # is reached, Redis will start to evict keys in the invalidation table # even if they were not modified, just to reclaim memory: this will in turn # force the clients to invalidate the cached values. Basically the table # maximum size is a trade off between the memory you want to spend server # side to track information about who cached what, and the ability of clients # to retain cached objects in memory. # # If you set the value to 0, it means there are no limits, and Redis will # retain as many keys as needed in the invalidation table. # In the \u0026#34;stats\u0026#34; INFO section, you can find information about the number of # keys in the invalidation table at every given moment. # # Note: when key tracking is used in broadcasting mode, no memory is used # in the server side so this setting is useless. # # tracking-table-max-keys 1000000 ################################## SECURITY ################################### # Warning: since Redis is pretty fast, an outside user can try up to # 1 million passwords per second against a modern box. This means that you # should use very strong passwords, otherwise they will be very easy to break. # Note that because the password is really a shared secret between the client # and the server, and should not be memorized by any human, the password # can be easily a long string from /dev/urandom or whatever, so by using a # long and unguessable password no brute force attack will be possible. # Redis ACL users are defined in the following format: # # user \u0026lt;username\u0026gt; ... acl rules ... # # For example: # # user worker +@list +@connection ~jobs:* on \u0026gt;ffa9203c493aa99 # # The special username \u0026#34;default\u0026#34; is used for new connections. If this user # has the \u0026#34;nopass\u0026#34; rule, then new connections will be immediately authenticated # as the \u0026#34;default\u0026#34; user without the need of any password provided via the # AUTH command. Otherwise if the \u0026#34;default\u0026#34; user is not flagged with \u0026#34;nopass\u0026#34; # the connections will start in not authenticated state, and will require # AUTH (or the HELLO command AUTH option) in order to be authenticated and # start to work. # # The ACL rules that describe what a user can do are the following: # # on Enable the user: it is possible to authenticate as this user. # off Disable the user: it\u0026#39;s no longer possible to authenticate # with this user, however the already authenticated connections # will still work. # skip-sanitize-payload RESTORE dump-payload sanitization is skipped. # sanitize-payload RESTORE dump-payload is sanitized (default). # +\u0026lt;command\u0026gt; Allow the execution of that command. # May be used with `|` for allowing subcommands (e.g \u0026#34;+config|get\u0026#34;) # -\u0026lt;command\u0026gt; Disallow the execution of that command. # May be used with `|` for blocking subcommands (e.g \u0026#34;-config|set\u0026#34;) # +@\u0026lt;category\u0026gt; Allow the execution of all the commands in such category # with valid categories are like @admin, @set, @sortedset, ... # and so forth, see the full list in the server.c file where # the Redis command table is described and defined. # The special category @all means all the commands, but currently # present in the server, and that will be loaded in the future # via modules. # +\u0026lt;command\u0026gt;|first-arg Allow a specific first argument of an otherwise # disabled command. It is only supported on commands with # no sub-commands, and is not allowed as negative form # like -SELECT|1, only additive starting with \u0026#34;+\u0026#34;. This # feature is deprecated and may be removed in the future. # allcommands Alias for +@all. Note that it implies the ability to execute # all the future commands loaded via the modules system. # nocommands Alias for -@all. # ~\u0026lt;pattern\u0026gt; Add a pattern of keys that can be mentioned as part of # commands. For instance ~* allows all the keys. The pattern # is a glob-style pattern like the one of KEYS. # It is possible to specify multiple patterns. # %R~\u0026lt;pattern\u0026gt; Add key read pattern that specifies which keys can be read # from. # %W~\u0026lt;pattern\u0026gt; Add key write pattern that specifies which keys can be # written to. # allkeys Alias for ~* # resetkeys Flush the list of allowed keys patterns. # \u0026amp;\u0026lt;pattern\u0026gt; Add a glob-style pattern of Pub/Sub channels that can be # accessed by the user. It is possible to specify multiple channel # patterns. # allchannels Alias for \u0026amp;* # resetchannels Flush the list of allowed channel patterns. # \u0026gt;\u0026lt;password\u0026gt; Add this password to the list of valid password for the user. # For example \u0026gt;mypass will add \u0026#34;mypass\u0026#34; to the list. # This directive clears the \u0026#34;nopass\u0026#34; flag (see later). # \u0026lt;\u0026lt;password\u0026gt; Remove this password from the list of valid passwords. # nopass All the set passwords of the user are removed, and the user # is flagged as requiring no password: it means that every # password will work against this user. If this directive is # used for the default user, every new connection will be # immediately authenticated with the default user without # any explicit AUTH command required. Note that the \u0026#34;resetpass\u0026#34; # directive will clear this condition. # resetpass Flush the list of allowed passwords. Moreover removes the # \u0026#34;nopass\u0026#34; status. After \u0026#34;resetpass\u0026#34; the user has no associated # passwords and there is no way to authenticate without adding # some password (or setting it as \u0026#34;nopass\u0026#34; later). # reset Performs the following actions: resetpass, resetkeys, off, # -@all. The user returns to the same state it has immediately # after its creation. # (\u0026lt;options\u0026gt;) Create a new selector with the options specified within the # parentheses and attach it to the user. Each option should be # space separated. The first character must be ( and the last # character must be ). # clearselectors Remove all of the currently attached selectors. # Note this does not change the \u0026#34;root\u0026#34; user permissions, # which are the permissions directly applied onto the # user (outside the parentheses). # # ACL rules can be specified in any order: for instance you can start with # passwords, then flags, or key patterns. However note that the additive # and subtractive rules will CHANGE MEANING depending on the ordering. # For instance see the following example: # # user alice on +@all -DEBUG ~* \u0026gt;somepassword # # This will allow \u0026#34;alice\u0026#34; to use all the commands with the exception of the # DEBUG command, since +@all added all the commands to the set of the commands # alice can use, and later DEBUG was removed. However if we invert the order # of two ACL rules the result will be different: # # user alice on -DEBUG +@all ~* \u0026gt;somepassword # # Now DEBUG was removed when alice had yet no commands in the set of allowed # commands, later all the commands are added, so the user will be able to # execute everything. # # Basically ACL rules are processed left-to-right. # # The following is a list of command categories and their meanings: # * keyspace - Writing or reading from keys, databases, or their metadata # in a type agnostic way. Includes DEL, RESTORE, DUMP, RENAME, EXISTS, DBSIZE, # KEYS, EXPIRE, TTL, FLUSHALL, etc. Commands that may modify the keyspace, # key or metadata will also have `write` category. Commands that only read # the keyspace, key or metadata will have the `read` category. # * read - Reading from keys (values or metadata). Note that commands that don\u0026#39;t # interact with keys, will not have either `read` or `write`. # * write - Writing to keys (values or metadata) # * admin - Administrative commands. Normal applications will never need to use # these. Includes REPLICAOF, CONFIG, DEBUG, SAVE, MONITOR, ACL, SHUTDOWN, etc. # * dangerous - Potentially dangerous (each should be considered with care for # various reasons). This includes FLUSHALL, MIGRATE, RESTORE, SORT, KEYS, # CLIENT, DEBUG, INFO, CONFIG, SAVE, REPLICAOF, etc. # * connection - Commands affecting the connection or other connections. # This includes AUTH, SELECT, COMMAND, CLIENT, ECHO, PING, etc. # * blocking - Potentially blocking the connection until released by another # command. # * fast - Fast O(1) commands. May loop on the number of arguments, but not the # number of elements in the key. # * slow - All commands that are not Fast. # * pubsub - PUBLISH / SUBSCRIBE related # * transaction - WATCH / MULTI / EXEC related commands. # * scripting - Scripting related. # * set - Data type: sets related. # * sortedset - Data type: zsets related. # * list - Data type: lists related. # * hash - Data type: hashes related. # * string - Data type: strings related. # * bitmap - Data type: bitmaps related. # * hyperloglog - Data type: hyperloglog related. # * geo - Data type: geo related. # * stream - Data type: streams related. # # For more information about ACL configuration please refer to # the Redis web site at https://redis.io/topics/acl # ACL LOG # # The ACL Log tracks failed commands and authentication events associated # with ACLs. The ACL Log is useful to troubleshoot failed commands blocked # by ACLs. The ACL Log is stored in memory. You can reclaim memory with # ACL LOG RESET. Define the maximum entry length of the ACL Log below. acllog-max-len 128 # Using an external ACL file # # Instead of configuring users here in this file, it is possible to use # a stand-alone file just listing users. The two methods cannot be mixed: # if you configure users here and at the same time you activate the external # ACL file, the server will refuse to start. # # The format of the external ACL user file is exactly the same as the # format that is used inside redis.conf to describe users. # # aclfile /etc/redis/users.acl # IMPORTANT NOTE: starting with Redis 6 \u0026#34;requirepass\u0026#34; is just a compatibility # layer on top of the new ACL system. The option effect will be just setting # the password for the default user. Clients will still authenticate using # AUTH \u0026lt;password\u0026gt; as usually, or more explicitly with AUTH default \u0026lt;password\u0026gt; # if they follow the new protocol: both will work. # # The requirepass is not compatible with aclfile option and the ACL LOAD # command, these will cause requirepass to be ignored. # # requirepass foobared # New users are initialized with restrictive permissions by default, via the # equivalent of this ACL rule \u0026#39;off resetkeys -@all\u0026#39;. Starting with Redis 6.2, it # is possible to manage access to Pub/Sub channels with ACL rules as well. The # default Pub/Sub channels permission if new users is controlled by the # acl-pubsub-default configuration directive, which accepts one of these values: # # allchannels: grants access to all Pub/Sub channels # resetchannels: revokes access to all Pub/Sub channels # # From Redis 7.0, acl-pubsub-default defaults to \u0026#39;resetchannels\u0026#39; permission. # # acl-pubsub-default resetchannels # Command renaming (DEPRECATED). # # ------------------------------------------------------------------------ # WARNING: avoid using this option if possible. Instead use ACLs to remove # commands from the default user, and put them only in some admin user you # create for administrative purposes. # ------------------------------------------------------------------------ # # It is possible to change the name of dangerous commands in a shared # environment. For instance the CONFIG command may be renamed into something # hard to guess so that it will still be available for internal-use tools # but not available for general clients. # # Example: # # rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52 # # It is also possible to completely kill a command by renaming it into # an empty string: # # rename-command CONFIG \u0026#34;\u0026#34; # # Please note that changing the name of commands that are logged into the # AOF file or transmitted to replicas may cause problems. ################################### CLIENTS #################################### # Set the max number of connected clients at the same time. By default # this limit is set to 10000 clients, however if the Redis server is not # able to configure the process file limit to allow for the specified limit # the max number of allowed clients is set to the current file limit # minus 32 (as Redis reserves a few file descriptors for internal uses). # # Once the limit is reached Redis will close all the new connections sending # an error \u0026#39;max number of clients reached\u0026#39;. # # IMPORTANT: When Redis Cluster is used, the max number of connections is also # shared with the cluster bus: every node in the cluster will use two # connections, one incoming and another outgoing. It is important to size the # limit accordingly in case of very large clusters. # # maxclients 10000 ############################## MEMORY MANAGEMENT ################################ # Set a memory usage limit to the specified amount of bytes. # When the memory limit is reached Redis will try to remove keys # according to the eviction policy selected (see maxmemory-policy). # # If Redis can\u0026#39;t remove keys according to the policy, or if the policy is # set to \u0026#39;noeviction\u0026#39;, Redis will start to reply with errors to commands # that would use more memory, like SET, LPUSH, and so on, and will continue # to reply to read-only commands like GET. # # This option is usually useful when using Redis as an LRU or LFU cache, or to # set a hard memory limit for an instance (using the \u0026#39;noeviction\u0026#39; policy). # # WARNING: If you have replicas attached to an instance with maxmemory on, # the size of the output buffers needed to feed the replicas are subtracted # from the used memory count, so that network problems / resyncs will # not trigger a loop where keys are evicted, and in turn the output # buffer of replicas is full with DELs of keys evicted triggering the deletion # of more keys, and so forth until the database is completely emptied. # # In short... if you have replicas attached it is suggested that you set a lower # limit for maxmemory so that there is some free RAM on the system for replica # output buffers (but this is not needed if the policy is \u0026#39;noeviction\u0026#39;). # # maxmemory \u0026lt;bytes\u0026gt; # MAXMEMORY POLICY: how Redis will select what to remove when maxmemory # is reached. You can select one from the following behaviors: # # volatile-lru -\u0026gt; Evict using approximated LRU, only keys with an expire set. # allkeys-lru -\u0026gt; Evict any key using approximated LRU. # volatile-lfu -\u0026gt; Evict using approximated LFU, only keys with an expire set. # allkeys-lfu -\u0026gt; Evict any key using approximated LFU. # volatile-random -\u0026gt; Remove a random key having an expire set. # allkeys-random -\u0026gt; Remove a random key, any key. # volatile-ttl -\u0026gt; Remove the key with the nearest expire time (minor TTL) # noeviction -\u0026gt; Don\u0026#39;t evict anything, just return an error on write operations. # # LRU means Least Recently Used # LFU means Least Frequently Used # # Both LRU, LFU and volatile-ttl are implemented using approximated # randomized algorithms. # # Note: with any of the above policies, when there are no suitable keys for # eviction, Redis will return an error on write operations that require # more memory. These are usually commands that create new keys, add data or # modify existing keys. A few examples are: SET, INCR, HSET, LPUSH, SUNIONSTORE, # SORT (due to the STORE argument), and EXEC (if the transaction includes any # command that requires memory). # # The default is: # # maxmemory-policy noeviction # LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated # algorithms (in order to save memory), so you can tune it for speed or # accuracy. By default Redis will check five keys and pick the one that was # used least recently, you can change the sample size using the following # configuration directive. # # The default of 5 produces good enough results. 10 Approximates very closely # true LRU but costs more CPU. 3 is faster but not very accurate. # # maxmemory-samples 5 # Eviction processing is designed to function well with the default setting. # If there is an unusually large amount of write traffic, this value may need to # be increased. Decreasing this value may reduce latency at the risk of # eviction processing effectiveness # 0 = minimum latency, 10 = default, 100 = process without regard to latency # # maxmemory-eviction-tenacity 10 # Starting from Redis 5, by default a replica will ignore its maxmemory setting # (unless it is promoted to master after a failover or manually). It means # that the eviction of keys will be just handled by the master, sending the # DEL commands to the replica as keys evict in the master side. # # This behavior ensures that masters and replicas stay consistent, and is usually # what you want, however if your replica is writable, or you want the replica # to have a different memory setting, and you are sure all the writes performed # to the replica are idempotent, then you may change this default (but be sure # to understand what you are doing). # # Note that since the replica by default does not evict, it may end using more # memory than the one set via maxmemory (there are certain buffers that may # be larger on the replica, or data structures may sometimes take more memory # and so forth). So make sure you monitor your replicas and make sure they # have enough memory to never hit a real out-of-memory condition before the # master hits the configured maxmemory setting. # # replica-ignore-maxmemory yes # Redis reclaims expired keys in two ways: upon access when those keys are # found to be expired, and also in background, in what is called the # \u0026#34;active expire key\u0026#34;. The key space is slowly and interactively scanned # looking for expired keys to reclaim, so that it is possible to free memory # of keys that are expired and will never be accessed again in a short time. # # The default effort of the expire cycle will try to avoid having more than # ten percent of expired keys still in memory, and will try to avoid consuming # more than 25% of total memory and to add latency to the system. However # it is possible to increase the expire \u0026#34;effort\u0026#34; that is normally set to # \u0026#34;1\u0026#34;, to a greater value, up to the value \u0026#34;10\u0026#34;. At its maximum value the # system will use more CPU, longer cycles (and technically may introduce # more latency), and will tolerate less already expired keys still present # in the system. It\u0026#39;s a tradeoff between memory, CPU and latency. # # active-expire-effort 1 ############################# LAZY FREEING #################################### # Redis has two primitives to delete keys. One is called DEL and is a blocking # deletion of the object. It means that the server stops processing new commands # in order to reclaim all the memory associated with an object in a synchronous # way. If the key deleted is associated with a small object, the time needed # in order to execute the DEL command is very small and comparable to most other # O(1) or O(log_N) commands in Redis. However if the key is associated with an # aggregated value containing millions of elements, the server can block for # a long time (even seconds) in order to complete the operation. # # For the above reasons Redis also offers non blocking deletion primitives # such as UNLINK (non blocking DEL) and the ASYNC option of FLUSHALL and # FLUSHDB commands, in order to reclaim memory in background. Those commands # are executed in constant time. Another thread will incrementally free the # object in the background as fast as possible. # # DEL, UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user-controlled. # It\u0026#39;s up to the design of the application to understand when it is a good # idea to use one or the other. However the Redis server sometimes has to # delete keys or flush the whole database as a side effect of other operations. # Specifically Redis deletes objects independently of a user call in the # following scenarios: # # 1) On eviction, because of the maxmemory and maxmemory policy configurations, # in order to make room for new data, without going over the specified # memory limit. # 2) Because of expire: when a key with an associated time to live (see the # EXPIRE command) must be deleted from memory. # 3) Because of a side effect of a command that stores data on a key that may # already exist. For example the RENAME command may delete the old key # content when it is replaced with another one. Similarly SUNIONSTORE # or SORT with STORE option may delete existing keys. The SET command # itself removes any old content of the specified key in order to replace # it with the specified string. # 4) During replication, when a replica performs a full resynchronization with # its master, the content of the whole database is removed in order to # load the RDB file just transferred. # # In all the above cases the default is to delete objects in a blocking way, # like if DEL was called. However you can configure each case specifically # in order to instead release memory in a non-blocking way like if UNLINK # was called, using the following configuration directives. lazyfree-lazy-eviction no lazyfree-lazy-expire no lazyfree-lazy-server-del no replica-lazy-flush no # It is also possible, for the case when to replace the user code DEL calls # with UNLINK calls is not easy, to modify the default behavior of the DEL # command to act exactly like UNLINK, using the following configuration # directive: lazyfree-lazy-user-del no # FLUSHDB, FLUSHALL, SCRIPT FLUSH and FUNCTION FLUSH support both asynchronous and synchronous # deletion, which can be controlled by passing the [SYNC|ASYNC] flags into the # commands. When neither flag is passed, this directive will be used to determine # if the data should be deleted asynchronously. lazyfree-lazy-user-flush no ################################ THREADED I/O ################################# # Redis is mostly single threaded, however there are certain threaded # operations such as UNLINK, slow I/O accesses and other things that are # performed on side threads. # # Now it is also possible to handle Redis clients socket reads and writes # in different I/O threads. Since especially writing is so slow, normally # Redis users use pipelining in order to speed up the Redis performances per # core, and spawn multiple instances in order to scale more. Using I/O # threads it is possible to easily speedup two times Redis without resorting # to pipelining nor sharding of the instance. # # By default threading is disabled, we suggest enabling it only in machines # that have at least 4 or more cores, leaving at least one spare core. # Using more than 8 threads is unlikely to help much. We also recommend using # threaded I/O only if you actually have performance problems, with Redis # instances being able to use a quite big percentage of CPU time, otherwise # there is no point in using this feature. # # So for instance if you have a four cores boxes, try to use 2 or 3 I/O # threads, if you have a 8 cores, try to use 6 threads. In order to # enable I/O threads use the following configuration directive: # # io-threads 4 # # Setting io-threads to 1 will just use the main thread as usual. # When I/O threads are enabled, we only use threads for writes, that is # to thread the write(2) syscall and transfer the client buffers to the # socket. However it is also possible to enable threading of reads and # protocol parsing using the following configuration directive, by setting # it to yes: # # io-threads-do-reads no # # Usually threading reads doesn\u0026#39;t help much. # # NOTE 1: This configuration directive cannot be changed at runtime via # CONFIG SET. Also, this feature currently does not work when SSL is # enabled. # # NOTE 2: If you want to test the Redis speedup using redis-benchmark, make # sure you also run the benchmark itself in threaded mode, using the # --threads option to match the number of Redis threads, otherwise you\u0026#39;ll not # be able to notice the improvements. ############################ KERNEL OOM CONTROL ############################## # On Linux, it is possible to hint the kernel OOM killer on what processes # should be killed first when out of memory. # # Enabling this feature makes Redis actively control the oom_score_adj value # for all its processes, depending on their role. The default scores will # attempt to have background child processes killed before all others, and # replicas killed before masters. # # Redis supports these options: # # no: Don\u0026#39;t make changes to oom-score-adj (default). # yes: Alias to \u0026#34;relative\u0026#34; see below. # absolute: Values in oom-score-adj-values are written as is to the kernel. # relative: Values are used relative to the initial value of oom_score_adj when # the server starts and are then clamped to a range of -1000 to 1000. # Because typically the initial value is 0, they will often match the # absolute values. oom-score-adj no # When oom-score-adj is used, this directive controls the specific values used # for master, replica and background child processes. Values range -2000 to # 2000 (higher means more likely to be killed). # # Unprivileged processes (not root, and without CAP_SYS_RESOURCE capabilities) # can freely increase their value, but not decrease it below its initial # settings. This means that setting oom-score-adj to \u0026#34;relative\u0026#34; and setting the # oom-score-adj-values to positive values will always succeed. oom-score-adj-values 0 200 800 #################### KERNEL transparent hugepage CONTROL ###################### # Usually the kernel Transparent Huge Pages control is set to \u0026#34;madvise\u0026#34; or # or \u0026#34;never\u0026#34; by default (/sys/kernel/mm/transparent_hugepage/enabled), in which # case this config has no effect. On systems in which it is set to \u0026#34;always\u0026#34;, # redis will attempt to disable it specifically for the redis process in order # to avoid latency problems specifically with fork(2) and CoW. # If for some reason you prefer to keep it enabled, you can set this config to # \u0026#34;no\u0026#34; and the kernel global to \u0026#34;always\u0026#34;. disable-thp yes ############################## APPEND ONLY MODE ############################### # By default Redis asynchronously dumps the dataset on disk. This mode is # good enough in many applications, but an issue with the Redis process or # a power outage may result into a few minutes of writes lost (depending on # the configured save points). # # The Append Only File is an alternative persistence mode that provides # much better durability. For instance using the default data fsync policy # (see later in the config file) Redis can lose just one second of writes in a # dramatic event like a server power outage, or a single write if something # wrong with the Redis process itself happens, but the operating system is # still running correctly. # # AOF and RDB persistence can be enabled at the same time without problems. # If the AOF is enabled on startup Redis will load the AOF, that is the file # with the better durability guarantees. # # Please check https://redis.io/topics/persistence for more information. #-appendonly no # The base name of the append only file. # # Redis 7 and newer use a set of append-only files to persist the dataset # and changes applied to it. There are two basic types of files in use: # # - Base files, which are a snapshot representing the complete state of the # dataset at the time the file was created. Base files can be either in # the form of RDB (binary serialized) or AOF (textual commands). # - Incremental files, which contain additional commands that were applied # to the dataset following the previous file. # # In addition, manifest files are used to track the files and the order in # which they were created and should be applied. # # Append-only file names are created by Redis following a specific pattern. # The file name\u0026#39;s prefix is based on the \u0026#39;appendfilename\u0026#39; configuration # parameter, followed by additional information about the sequence and type. # # For example, if appendfilename is set to appendonly.aof, the following file # names could be derived: # # - appendonly.aof.1.base.rdb as a base file. # - appendonly.aof.1.incr.aof, appendonly.aof.2.incr.aof as incremental files. # - appendonly.aof.manifest as a manifest file. appendfilename \u0026#34;appendonly.aof\u0026#34; # For convenience, Redis stores all persistent append-only files in a dedicated # directory. The name of the directory is determined by the appenddirname # configuration parameter. appenddirname \u0026#34;appendonlydir\u0026#34; # The fsync() call tells the Operating System to actually write data on disk # instead of waiting for more data in the output buffer. Some OS will really flush # data on disk, some other OS will just try to do it ASAP. # # Redis supports three different modes: # # no: don\u0026#39;t fsync, just let the OS flush the data when it wants. Faster. # always: fsync after every write to the append only log. Slow, Safest. # everysec: fsync only one time every second. Compromise. # # The default is \u0026#34;everysec\u0026#34;, as that\u0026#39;s usually the right compromise between # speed and data safety. It\u0026#39;s up to you to understand if you can relax this to # \u0026#34;no\u0026#34; that will let the operating system flush the output buffer when # it wants, for better performances (but if you can live with the idea of # some data loss consider the default persistence mode that\u0026#39;s snapshotting), # or on the contrary, use \u0026#34;always\u0026#34; that\u0026#39;s very slow but a bit safer than # everysec. # # More details please check the following article: # http://antirez.com/post/redis-persistence-demystified.html # # If unsure, use \u0026#34;everysec\u0026#34;. # appendfsync always appendfsync everysec # appendfsync no # When the AOF fsync policy is set to always or everysec, and a background # saving process (a background save or AOF log background rewriting) is # performing a lot of I/O against the disk, in some Linux configurations # Redis may block too long on the fsync() call. Note that there is no fix for # this currently, as even performing fsync in a different thread will block # our synchronous write(2) call. # # In order to mitigate this problem it\u0026#39;s possible to use the following option # that will prevent fsync() from being called in the main process while a # BGSAVE or BGREWRITEAOF is in progress. # # This means that while another child is saving, the durability of Redis is # the same as \u0026#34;appendfsync no\u0026#34;. In practical terms, this means that it is # possible to lose up to 30 seconds of log in the worst scenario (with the # default Linux settings). # # If you have latency problems turn this to \u0026#34;yes\u0026#34;. Otherwise leave it as # \u0026#34;no\u0026#34; that is the safest pick from the point of view of durability. no-appendfsync-on-rewrite no # Automatic rewrite of the append only file. # Redis is able to automatically rewrite the log file implicitly calling # BGREWRITEAOF when the AOF log size grows by the specified percentage. # # This is how it works: Redis remembers the size of the AOF file after the # latest rewrite (if no rewrite has happened since the restart, the size of # the AOF at startup is used). # # This base size is compared to the current size. If the current size is # bigger than the specified percentage, the rewrite is triggered. Also # you need to specify a minimal size for the AOF file to be rewritten, this # is useful to avoid rewriting the AOF file even if the percentage increase # is reached but it is still pretty small. # # Specify a percentage of zero in order to disable the automatic AOF # rewrite feature. auto-aof-rewrite-percentage 100 auto-aof-rewrite-min-size 64mb # An AOF file may be found to be truncated at the end during the Redis # startup process, when the AOF data gets loaded back into memory. # This may happen when the system where Redis is running # crashes, especially when an ext4 filesystem is mounted without the # data=ordered option (however this can\u0026#39;t happen when Redis itself # crashes or aborts but the operating system still works correctly). # # Redis can either exit with an error when this happens, or load as much # data as possible (the default now) and start if the AOF file is found # to be truncated at the end. The following option controls this behavior. # # If aof-load-truncated is set to yes, a truncated AOF file is loaded and # the Redis server starts emitting a log to inform the user of the event. # Otherwise if the option is set to no, the server aborts with an error # and refuses to start. When the option is set to no, the user requires # to fix the AOF file using the \u0026#34;redis-check-aof\u0026#34; utility before to restart # the server. # # Note that if the AOF file will be found to be corrupted in the middle # the server will still exit with an error. This option only applies when # Redis will try to read more data from the AOF file but not enough bytes # will be found. aof-load-truncated yes # Redis can create append-only base files in either RDB or AOF formats. Using # the RDB format is always faster and more efficient, and disabling it is only # supported for backward compatibility purposes. aof-use-rdb-preamble yes # Redis supports recording timestamp annotations in the AOF to support restoring # the data from a specific point-in-time. However, using this capability changes # the AOF format in a way that may not be compatible with existing AOF parsers. aof-timestamp-enabled no ################################ SHUTDOWN ##################################### # Maximum time to wait for replicas when shutting down, in seconds. # # During shut down, a grace period allows any lagging replicas to catch up with # the latest replication offset before the master exists. This period can # prevent data loss, especially for deployments without configured disk backups. # # The \u0026#39;shutdown-timeout\u0026#39; value is the grace period\u0026#39;s duration in seconds. It is # only applicable when the instance has replicas. To disable the feature, set # the value to 0. # # shutdown-timeout 10 # When Redis receives a SIGINT or SIGTERM, shutdown is initiated and by default # an RDB snapshot is written to disk in a blocking operation if save points are configured. # The options used on signaled shutdown can include the following values: # default: Saves RDB snapshot only if save points are configured. # Waits for lagging replicas to catch up. # save: Forces a DB saving operation even if no save points are configured. # nosave: Prevents DB saving operation even if one or more save points are configured. # now: Skips waiting for lagging replicas. # force: Ignores any errors that would normally prevent the server from exiting. # # Any combination of values is allowed as long as \u0026#34;save\u0026#34; and \u0026#34;nosave\u0026#34; are not set simultaneously. # Example: \u0026#34;nosave force now\u0026#34; # # shutdown-on-sigint default # shutdown-on-sigterm default ################ NON-DETERMINISTIC LONG BLOCKING COMMANDS ##################### # Maximum time in milliseconds for EVAL scripts, functions and in some cases # modules\u0026#39; commands before Redis can start processing or rejecting other clients. # # If the maximum execution time is reached Redis will start to reply to most # commands with a BUSY error. # # In this state Redis will only allow a handful of commands to be executed. # For instance, SCRIPT KILL, FUNCTION KILL, SHUTDOWN NOSAVE and possibly some # module specific \u0026#39;allow-busy\u0026#39; commands. # # SCRIPT KILL and FUNCTION KILL will only be able to stop a script that did not # yet call any write commands, so SHUTDOWN NOSAVE may be the only way to stop # the server in the case a write command was already issued by the script when # the user doesn\u0026#39;t want to wait for the natural termination of the script. # # The default is 5 seconds. It is possible to set it to 0 or a negative value # to disable this mechanism (uninterrupted execution). Note that in the past # this config had a different name, which is now an alias, so both of these do # the same: # lua-time-limit 5000 # busy-reply-threshold 5000 ################################ REDIS CLUSTER ############################### # Normal Redis instances can\u0026#39;t be part of a Redis Cluster; only nodes that are # started as cluster nodes can. In order to start a Redis instance as a # cluster node enable the cluster support uncommenting the following: # # cluster-enabled yes # Every cluster node has a cluster configuration file. This file is not # intended to be edited by hand. It is created and updated by Redis nodes. # Every Redis Cluster node requires a different cluster configuration file. # Make sure that instances running in the same system do not have # overlapping cluster configuration file names. # # cluster-config-file nodes-6379.conf # Cluster node timeout is the amount of milliseconds a node must be unreachable # for it to be considered in failure state. # Most other internal time limits are a multiple of the node timeout. # # cluster-node-timeout 15000 # The cluster port is the port that the cluster bus will listen for inbound connections on. When set # to the default value, 0, it will be bound to the command port + 10000. Setting this value requires # you to specify the cluster bus port when executing cluster meet. # cluster-port 0 # A replica of a failing master will avoid to start a failover if its data # looks too old. # # There is no simple way for a replica to actually have an exact measure of # its \u0026#34;data age\u0026#34;, so the following two checks are performed: # # 1) If there are multiple replicas able to failover, they exchange messages # in order to try to give an advantage to the replica with the best # replication offset (more data from the master processed). # Replicas will try to get their rank by offset, and apply to the start # of the failover a delay proportional to their rank. # # 2) Every single replica computes the time of the last interaction with # its master. This can be the last ping or command received (if the master # is still in the \u0026#34;connected\u0026#34; state), or the time that elapsed since the # disconnection with the master (if the replication link is currently down). # If the last interaction is too old, the replica will not try to failover # at all. # # The point \u0026#34;2\u0026#34; can be tuned by user. Specifically a replica will not perform # the failover if, since the last interaction with the master, the time # elapsed is greater than: # # (node-timeout * cluster-replica-validity-factor) + repl-ping-replica-period # # So for example if node-timeout is 30 seconds, and the cluster-replica-validity-factor # is 10, and assuming a default repl-ping-replica-period of 10 seconds, the # replica will not try to failover if it was not able to talk with the master # for longer than 310 seconds. # # A large cluster-replica-validity-factor may allow replicas with too old data to failover # a master, while a too small value may prevent the cluster from being able to # elect a replica at all. # # For maximum availability, it is possible to set the cluster-replica-validity-factor # to a value of 0, which means, that replicas will always try to failover the # master regardless of the last time they interacted with the master. # (However they\u0026#39;ll always try to apply a delay proportional to their # offset rank). # # Zero is the only value able to guarantee that when all the partitions heal # the cluster will always be able to continue. # # cluster-replica-validity-factor 10 # Cluster replicas are able to migrate to orphaned masters, that are masters # that are left without working replicas. This improves the cluster ability # to resist to failures as otherwise an orphaned master can\u0026#39;t be failed over # in case of failure if it has no working replicas. # # Replicas migrate to orphaned masters only if there are still at least a # given number of other working replicas for their old master. This number # is the \u0026#34;migration barrier\u0026#34;. A migration barrier of 1 means that a replica # will migrate only if there is at least 1 other working replica for its master # and so forth. It usually reflects the number of replicas you want for every # master in your cluster. # # Default is 1 (replicas migrate only if their masters remain with at least # one replica). To disable migration just set it to a very large value or # set cluster-allow-replica-migration to \u0026#39;no\u0026#39;. # A value of 0 can be set but is useful only for debugging and dangerous # in production. # # cluster-migration-barrier 1 # Turning off this option allows to use less automatic cluster configuration. # It both disables migration to orphaned masters and migration from masters # that became empty. # # Default is \u0026#39;yes\u0026#39; (allow automatic migrations). # # cluster-allow-replica-migration yes # By default Redis Cluster nodes stop accepting queries if they detect there # is at least a hash slot uncovered (no available node is serving it). # This way if the cluster is partially down (for example a range of hash slots # are no longer covered) all the cluster becomes, eventually, unavailable. # It automatically returns available as soon as all the slots are covered again. # # However sometimes you want the subset of the cluster which is working, # to continue to accept queries for the part of the key space that is still # covered. In order to do so, just set the cluster-require-full-coverage # option to no. # # cluster-require-full-coverage yes # This option, when set to yes, prevents replicas from trying to failover its # master during master failures. However the replica can still perform a # manual failover, if forced to do so. # # This is useful in different scenarios, especially in the case of multiple # data center operations, where we want one side to never be promoted if not # in the case of a total DC failure. # # cluster-replica-no-failover no # This option, when set to yes, allows nodes to serve read traffic while the # cluster is in a down state, as long as it believes it owns the slots. # # This is useful for two cases. The first case is for when an application # doesn\u0026#39;t require consistency of data during node failures or network partitions. # One example of this is a cache, where as long as the node has the data it # should be able to serve it. # # The second use case is for configurations that don\u0026#39;t meet the recommended # three shards but want to enable cluster mode and scale later. A # master outage in a 1 or 2 shard configuration causes a read/write outage to the # entire cluster without this option set, with it set there is only a write outage. # Without a quorum of masters, slot ownership will not change automatically. # # cluster-allow-reads-when-down no # This option, when set to yes, allows nodes to serve pubsub shard traffic while # the cluster is in a down state, as long as it believes it owns the slots. # # This is useful if the application would like to use the pubsub feature even when # the cluster global stable state is not OK. If the application wants to make sure only # one shard is serving a given channel, this feature should be kept as yes. # # cluster-allow-pubsubshard-when-down yes # Cluster link send buffer limit is the limit on the memory usage of an individual # cluster bus link\u0026#39;s send buffer in bytes. Cluster links would be freed if they exceed # this limit. This is to primarily prevent send buffers from growing unbounded on links # toward slow peers (E.g. PubSub messages being piled up). # This limit is disabled by default. Enable this limit when \u0026#39;mem_cluster_links\u0026#39; INFO field # and/or \u0026#39;send-buffer-allocated\u0026#39; entries in the \u0026#39;CLUSTER LINKS` command output continuously increase. # Minimum limit of 1gb is recommended so that cluster link buffer can fit in at least a single # PubSub message by default. (client-query-buffer-limit default value is 1gb) # # cluster-link-sendbuf-limit 0 # Clusters can configure their announced hostname using this config. This is a common use case for # applications that need to use TLS Server Name Indication (SNI) or dealing with DNS based # routing. By default this value is only shown as additional metadata in the CLUSTER SLOTS # command, but can be changed using \u0026#39;cluster-preferred-endpoint-type\u0026#39; config. This value is # communicated along the clusterbus to all nodes, setting it to an empty string will remove # the hostname and also propagate the removal. # # cluster-announce-hostname \u0026#34;\u0026#34; # Clusters can advertise how clients should connect to them using either their IP address, # a user defined hostname, or by declaring they have no endpoint. Which endpoint is # shown as the preferred endpoint is set by using the cluster-preferred-endpoint-type # config with values \u0026#39;ip\u0026#39;, \u0026#39;hostname\u0026#39;, or \u0026#39;unknown-endpoint\u0026#39;. This value controls how # the endpoint returned for MOVED/ASKING requests as well as the first field of CLUSTER SLOTS. # If the preferred endpoint type is set to hostname, but no announced hostname is set, a \u0026#39;?\u0026#39; # will be returned instead. # # When a cluster advertises itself as having an unknown endpoint, it\u0026#39;s indicating that # the server doesn\u0026#39;t know how clients can reach the cluster. This can happen in certain # networking situations where there are multiple possible routes to the node, and the # server doesn\u0026#39;t know which one the client took. In this case, the server is expecting # the client to reach out on the same endpoint it used for making the last request, but use # the port provided in the response. # # cluster-preferred-endpoint-type ip # In order to setup your cluster make sure to read the documentation # available at https://redis.io web site. ########################## CLUSTER DOCKER/NAT support ######################## # In certain deployments, Redis Cluster nodes address discovery fails, because # addresses are NAT-ted or because ports are forwarded (the typical case is # Docker and other containers). # # In order to make Redis Cluster working in such environments, a static # configuration where each node knows its public address is needed. The # following four options are used for this scope, and are: # # * cluster-announce-ip # * cluster-announce-port # * cluster-announce-tls-port # * cluster-announce-bus-port # # Each instructs the node about its address, client ports (for connections # without and with TLS) and cluster message bus port. The information is then # published in the header of the bus packets so that other nodes will be able to # correctly map the address of the node publishing the information. # # If cluster-tls is set to yes and cluster-announce-tls-port is omitted or set # to zero, then cluster-announce-port refers to the TLS port. Note also that # cluster-announce-tls-port has no effect if cluster-tls is set to no. # # If the above options are not used, the normal Redis Cluster auto-detection # will be used instead. # # Note that when remapped, the bus port may not be at the fixed offset of # clients port + 10000, so you can specify any port and bus-port depending # on how they get remapped. If the bus-port is not set, a fixed offset of # 10000 will be used as usual. # # Example: # # cluster-announce-ip 10.1.1.5 # cluster-announce-tls-port 6379 # cluster-announce-port 0 # cluster-announce-bus-port 6380 ################################## SLOW LOG ################################### # The Redis Slow Log is a system to log queries that exceeded a specified # execution time. The execution time does not include the I/O operations # like talking with the client, sending the reply and so forth, # but just the time needed to actually execute the command (this is the only # stage of command execution where the thread is blocked and can not serve # other requests in the meantime). # # You can configure the slow log with two parameters: one tells Redis # what is the execution time, in microseconds, to exceed in order for the # command to get logged, and the other parameter is the length of the # slow log. When a new command is logged the oldest one is removed from the # queue of logged commands. # The following time is expressed in microseconds, so 1000000 is equivalent # to one second. Note that a negative number disables the slow log, while # a value of zero forces the logging of every command. slowlog-log-slower-than 10000 # There is no limit to this length. Just be aware that it will consume memory. # You can reclaim memory used by the slow log with SLOWLOG RESET. slowlog-max-len 128 ################################ LATENCY MONITOR ############################## # The Redis latency monitoring subsystem samples different operations # at runtime in order to collect data related to possible sources of # latency of a Redis instance. # # Via the LATENCY command this information is available to the user that can # print graphs and obtain reports. # # The system only logs operations that were performed in a time equal or # greater than the amount of milliseconds specified via the # latency-monitor-threshold configuration directive. When its value is set # to zero, the latency monitor is turned off. # # By default latency monitoring is disabled since it is mostly not needed # if you don\u0026#39;t have latency issues, and collecting data has a performance # impact, that while very small, can be measured under big load. Latency # monitoring can easily be enabled at runtime using the command # \u0026#34;CONFIG SET latency-monitor-threshold \u0026lt;milliseconds\u0026gt;\u0026#34; if needed. latency-monitor-threshold 0 ################################ LATENCY TRACKING ############################## # The Redis extended latency monitoring tracks the per command latencies and enables # exporting the percentile distribution via the INFO latencystats command, # and cumulative latency distributions (histograms) via the LATENCY command. # # By default, the extended latency monitoring is enabled since the overhead # of keeping track of the command latency is very small. # latency-tracking yes # By default the exported latency percentiles via the INFO latencystats command # are the p50, p99, and p999. # latency-tracking-info-percentiles 50 99 99.9 ############################# EVENT NOTIFICATION ############################## # Redis can notify Pub/Sub clients about events happening in the key space. # This feature is documented at https://redis.io/topics/notifications # # For instance if keyspace events notification is enabled, and a client # performs a DEL operation on key \u0026#34;foo\u0026#34; stored in the Database 0, two # messages will be published via Pub/Sub: # # PUBLISH __keyspace@0__:foo del # PUBLISH __keyevent@0__:del foo # # It is possible to select the events that Redis will notify among a set # of classes. Every class is identified by a single character: # # K Keyspace events, published with __keyspace@\u0026lt;db\u0026gt;__ prefix. # E Keyevent events, published with __keyevent@\u0026lt;db\u0026gt;__ prefix. # g Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ... # $ String commands # l List commands # s Set commands # h Hash commands # z Sorted set commands # x Expired events (events generated every time a key expires) # e Evicted events (events generated when a key is evicted for maxmemory) # n New key events (Note: not included in the \u0026#39;A\u0026#39; class) # t Stream commands # d Module key type events # m Key-miss events (Note: It is not included in the \u0026#39;A\u0026#39; class) # A Alias for g$lshzxetd, so that the \u0026#34;AKE\u0026#34; string means all the events # (Except key-miss events which are excluded from \u0026#39;A\u0026#39; due to their # unique nature). # # The \u0026#34;notify-keyspace-events\u0026#34; takes as argument a string that is composed # of zero or multiple characters. The empty string means that notifications # are disabled. # # Example: to enable list and generic events, from the point of view of the # event name, use: # # notify-keyspace-events Elg # # Example 2: to get the stream of the expired keys subscribing to channel # name __keyevent@0__:expired use: # # notify-keyspace-events Ex # # By default all notifications are disabled because most users don\u0026#39;t need # this feature and the feature has some overhead. Note that if you don\u0026#39;t # specify at least one of K or E, no events will be delivered. notify-keyspace-events \u0026#34;\u0026#34; ############################### ADVANCED CONFIG ############################### # Hashes are encoded using a memory efficient data structure when they have a # small number of entries, and the biggest entry does not exceed a given # threshold. These thresholds can be configured using the following directives. hash-max-listpack-entries 512 hash-max-listpack-value 64 # Lists are also encoded in a special way to save a lot of space. # The number of entries allowed per internal list node can be specified # as a fixed maximum size or a maximum number of elements. # For a fixed maximum size, use -5 through -1, meaning: # -5: max size: 64 Kb \u0026lt;-- not recommended for normal workloads # -4: max size: 32 Kb \u0026lt;-- not recommended # -3: max size: 16 Kb \u0026lt;-- probably not recommended # -2: max size: 8 Kb \u0026lt;-- good # -1: max size: 4 Kb \u0026lt;-- good # Positive numbers mean store up to _exactly_ that number of elements # per list node. # The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size), # but if your use case is unique, adjust the settings as necessary. list-max-listpack-size -2 # Lists may also be compressed. # Compress depth is the number of quicklist ziplist nodes from *each* side of # the list to *exclude* from compression. The head and tail of the list # are always uncompressed for fast push/pop operations. Settings are: # 0: disable all list compression # 1: depth 1 means \u0026#34;don\u0026#39;t start compressing until after 1 node into the list, # going from either the head or tail\u0026#34; # So: [head]-\u0026gt;node-\u0026gt;node-\u0026gt;...-\u0026gt;node-\u0026gt;[tail] # [head], [tail] will always be uncompressed; inner nodes will compress. # 2: [head]-\u0026gt;[next]-\u0026gt;node-\u0026gt;node-\u0026gt;...-\u0026gt;node-\u0026gt;[prev]-\u0026gt;[tail] # 2 here means: don\u0026#39;t compress head or head-\u0026gt;next or tail-\u0026gt;prev or tail, # but compress all nodes between them. # 3: [head]-\u0026gt;[next]-\u0026gt;[next]-\u0026gt;node-\u0026gt;node-\u0026gt;...-\u0026gt;node-\u0026gt;[prev]-\u0026gt;[prev]-\u0026gt;[tail] # etc. list-compress-depth 0 # Sets have a special encoding in just one case: when a set is composed # of just strings that happen to be integers in radix 10 in the range # of 64 bit signed integers. # The following configuration setting sets the limit in the size of the # set in order to use this special memory saving encoding. set-max-intset-entries 512 # Similarly to hashes and lists, sorted sets are also specially encoded in # order to save a lot of space. This encoding is only used when the length and # elements of a sorted set are below the following limits: zset-max-listpack-entries 128 zset-max-listpack-value 64 # HyperLogLog sparse representation bytes limit. The limit includes the # 16 bytes header. When an HyperLogLog using the sparse representation crosses # this limit, it is converted into the dense representation. # # A value greater than 16000 is totally useless, since at that point the # dense representation is more memory efficient. # # The suggested value is ~ 3000 in order to have the benefits of # the space efficient encoding without slowing down too much PFADD, # which is O(N) with the sparse encoding. The value can be raised to # ~ 10000 when CPU is not a concern, but space is, and the data set is # composed of many HyperLogLogs with cardinality in the 0 - 15000 range. hll-sparse-max-bytes 3000 # Streams macro node max size / items. The stream data structure is a radix # tree of big nodes that encode multiple items inside. Using this configuration # it is possible to configure how big a single node can be in bytes, and the # maximum number of items it may contain before switching to a new node when # appending new stream entries. If any of the following settings are set to # zero, the limit is ignored, so for instance it is possible to set just a # max entries limit by setting max-bytes to 0 and max-entries to the desired # value. stream-node-max-bytes 4096 stream-node-max-entries 100 # Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in # order to help rehashing the main Redis hash table (the one mapping top-level # keys to values). The hash table implementation Redis uses (see dict.c) # performs a lazy rehashing: the more operation you run into a hash table # that is rehashing, the more rehashing \u0026#34;steps\u0026#34; are performed, so if the # server is idle the rehashing is never complete and some more memory is used # by the hash table. # # The default is to use this millisecond 10 times every second in order to # actively rehash the main dictionaries, freeing memory when possible. # # If unsure: # use \u0026#34;activerehashing no\u0026#34; if you have hard latency requirements and it is # not a good thing in your environment that Redis can reply from time to time # to queries with 2 milliseconds delay. # # use \u0026#34;activerehashing yes\u0026#34; if you don\u0026#39;t have such hard requirements but # want to free memory asap when possible. activerehashing yes # The client output buffer limits can be used to force disconnection of clients # that are not reading data from the server fast enough for some reason (a # common reason is that a Pub/Sub client can\u0026#39;t consume messages as fast as the # publisher can produce them). # # The limit can be set differently for the three different classes of clients: # # normal -\u0026gt; normal clients including MONITOR clients # replica -\u0026gt; replica clients # pubsub -\u0026gt; clients subscribed to at least one pubsub channel or pattern # # The syntax of every client-output-buffer-limit directive is the following: # # client-output-buffer-limit \u0026lt;class\u0026gt; \u0026lt;hard limit\u0026gt; \u0026lt;soft limit\u0026gt; \u0026lt;soft seconds\u0026gt; # # A client is immediately disconnected once the hard limit is reached, or if # the soft limit is reached and remains reached for the specified number of # seconds (continuously). # So for instance if the hard limit is 32 megabytes and the soft limit is # 16 megabytes / 10 seconds, the client will get disconnected immediately # if the size of the output buffers reach 32 megabytes, but will also get # disconnected if the client reaches 16 megabytes and continuously overcomes # the limit for 10 seconds. # # By default normal clients are not limited because they don\u0026#39;t receive data # without asking (in a push way), but just after a request, so only # asynchronous clients may create a scenario where data is requested faster # than it can read. # # Instead there is a default limit for pubsub and replica clients, since # subscribers and replicas receive data in a push fashion. # # Note that it doesn\u0026#39;t make sense to set the replica clients output buffer # limit lower than the repl-backlog-size config (partial sync will succeed # and then replica will get disconnected). # Such a configuration is ignored (the size of repl-backlog-size will be used). # This doesn\u0026#39;t have memory consumption implications since the replica client # will share the backlog buffers memory. # # Both the hard or the soft limit can be disabled by setting them to zero. client-output-buffer-limit normal 0 0 0 client-output-buffer-limit replica 256mb 64mb 60 client-output-buffer-limit pubsub 32mb 8mb 60 # Client query buffers accumulate new commands. They are limited to a fixed # amount by default in order to avoid that a protocol desynchronization (for # instance due to a bug in the client) will lead to unbound memory usage in # the query buffer. However you can configure it here if you have very special # needs, such us huge multi/exec requests or alike. # # client-query-buffer-limit 1gb # In some scenarios client connections can hog up memory leading to OOM # errors or data eviction. To avoid this we can cap the accumulated memory # used by all client connections (all pubsub and normal clients). Once we # reach that limit connections will be dropped by the server freeing up # memory. The server will attempt to drop the connections using the most # memory first. We call this mechanism \u0026#34;client eviction\u0026#34;. # # Client eviction is configured using the maxmemory-clients setting as follows: # 0 - client eviction is disabled (default) # # A memory value can be used for the client eviction threshold, # for example: # maxmemory-clients 1g # # A percentage value (between 1% and 100%) means the client eviction threshold # is based on a percentage of the maxmemory setting. For example to set client # eviction at 5% of maxmemory: # maxmemory-clients 5% # In the Redis protocol, bulk requests, that are, elements representing single # strings, are normally limited to 512 mb. However you can change this limit # here, but must be 1mb or greater # # proto-max-bulk-len 512mb # Redis calls an internal function to perform many background tasks, like # closing connections of clients in timeout, purging expired keys that are # never requested, and so forth. # # Not all tasks are performed with the same frequency, but Redis checks for # tasks to perform according to the specified \u0026#34;hz\u0026#34; value. # # By default \u0026#34;hz\u0026#34; is set to 10. Raising the value will use more CPU when # Redis is idle, but at the same time will make Redis more responsive when # there are many keys expiring at the same time, and timeouts may be # handled with more precision. # # The range is between 1 and 500, however a value over 100 is usually not # a good idea. Most users should use the default of 10 and raise this up to # 100 only in environments where very low latency is required. hz 10 # Normally it is useful to have an HZ value which is proportional to the # number of clients connected. This is useful in order, for instance, to # avoid too many clients are processed for each background task invocation # in order to avoid latency spikes. # # Since the default HZ value by default is conservatively set to 10, Redis # offers, and enables by default, the ability to use an adaptive HZ value # which will temporarily raise when there are many connected clients. # # When dynamic HZ is enabled, the actual configured HZ will be used # as a baseline, but multiples of the configured HZ value will be actually # used as needed once more clients are connected. In this way an idle # instance will use very little CPU time while a busy instance will be # more responsive. dynamic-hz yes # When a child rewrites the AOF file, if the following option is enabled # the file will be fsync-ed every 4 MB of data generated. This is useful # in order to commit the file to the disk more incrementally and avoid # big latency spikes. aof-rewrite-incremental-fsync yes # When redis saves RDB file, if the following option is enabled # the file will be fsync-ed every 4 MB of data generated. This is useful # in order to commit the file to the disk more incrementally and avoid # big latency spikes. rdb-save-incremental-fsync yes # Redis LFU eviction (see maxmemory setting) can be tuned. However it is a good # idea to start with the default settings and only change them after investigating # how to improve the performances and how the keys LFU change over time, which # is possible to inspect via the OBJECT FREQ command. # # There are two tunable parameters in the Redis LFU implementation: the # counter logarithm factor and the counter decay time. It is important to # understand what the two parameters mean before changing them. # # The LFU counter is just 8 bits per key, it\u0026#39;s maximum value is 255, so Redis # uses a probabilistic increment with logarithmic behavior. Given the value # of the old counter, when a key is accessed, the counter is incremented in # this way: # # 1. A random number R between 0 and 1 is extracted. # 2. A probability P is calculated as 1/(old_value*lfu_log_factor+1). # 3. The counter is incremented only if R \u0026lt; P. # # The default lfu-log-factor is 10. This is a table of how the frequency # counter changes with a different number of accesses with different # logarithmic factors: # # +--------+------------+------------+------------+------------+------------+ # | factor | 100 hits | 1000 hits | 100K hits | 1M hits | 10M hits | # +--------+------------+------------+------------+------------+------------+ # | 0 | 104 | 255 | 255 | 255 | 255 | # +--------+------------+------------+------------+------------+------------+ # | 1 | 18 | 49 | 255 | 255 | 255 | # +--------+------------+------------+------------+------------+------------+ # | 10 | 10 | 18 | 142 | 255 | 255 | # +--------+------------+------------+------------+------------+------------+ # | 100 | 8 | 11 | 49 | 143 | 255 | # +--------+------------+------------+------------+------------+------------+ # # NOTE: The above table was obtained by running the following commands: # # redis-benchmark -n 1000000 incr foo # redis-cli object freq foo # # NOTE 2: The counter initial value is 5 in order to give new objects a chance # to accumulate hits. # # The counter decay time is the time, in minutes, that must elapse in order # for the key counter to be divided by two (or decremented if it has a value # less \u0026lt;= 10). # # The default value for the lfu-decay-time is 1. A special value of 0 means to # decay the counter every time it happens to be scanned. # # lfu-log-factor 10 # lfu-decay-time 1 ########################### ACTIVE DEFRAGMENTATION ####################### # # What is active defragmentation? # ------------------------------- # # Active (online) defragmentation allows a Redis server to compact the # spaces left between small allocations and deallocations of data in memory, # thus allowing to reclaim back memory. # # Fragmentation is a natural process that happens with every allocator (but # less so with Jemalloc, fortunately) and certain workloads. Normally a server # restart is needed in order to lower the fragmentation, or at least to flush # away all the data and create it again. However thanks to this feature # implemented by Oran Agra for Redis 4.0 this process can happen at runtime # in a \u0026#34;hot\u0026#34; way, while the server is running. # # Basically when the fragmentation is over a certain level (see the # configuration options below) Redis will start to create new copies of the # values in contiguous memory regions by exploiting certain specific Jemalloc # features (in order to understand if an allocation is causing fragmentation # and to allocate it in a better place), and at the same time, will release the # old copies of the data. This process, repeated incrementally for all the keys # will cause the fragmentation to drop back to normal values. # # Important things to understand: # # 1. This feature is disabled by default, and only works if you compiled Redis # to use the copy of Jemalloc we ship with the source code of Redis. # This is the default with Linux builds. # # 2. You never need to enable this feature if you don\u0026#39;t have fragmentation # issues. # # 3. Once you experience fragmentation, you can enable this feature when # needed with the command \u0026#34;CONFIG SET activedefrag yes\u0026#34;. # # The configuration parameters are able to fine tune the behavior of the # defragmentation process. If you are not sure about what they mean it is # a good idea to leave the defaults untouched. # Active defragmentation is disabled by default # activedefrag no # Minimum amount of fragmentation waste to start active defrag # active-defrag-ignore-bytes 100mb # Minimum percentage of fragmentation to start active defrag # active-defrag-threshold-lower 10 # Maximum percentage of fragmentation at which we use maximum effort # active-defrag-threshold-upper 100 # Minimal effort for defrag in CPU percentage, to be used when the lower # threshold is reached # active-defrag-cycle-min 1 # Maximal effort for defrag in CPU percentage, to be used when the upper # threshold is reached # active-defrag-cycle-max 25 # Maximum number of set/hash/zset/list fields that will be processed from # the main dictionary scan # active-defrag-max-scan-fields 1000 # Jemalloc background thread for purging will be enabled by default jemalloc-bg-thread yes # It is possible to pin different threads and processes of Redis to specific # CPUs in your system, in order to maximize the performances of the server. # This is useful both in order to pin different Redis threads in different # CPUs, but also in order to make sure that multiple Redis instances running # in the same host will be pinned to different CPUs. # # Normally you can do this using the \u0026#34;taskset\u0026#34; command, however it is also # possible to this via Redis configuration directly, both in Linux and FreeBSD. # # You can pin the server/IO threads, bio threads, aof rewrite child process, and # the bgsave child process. The syntax to specify the cpu list is the same as # the taskset command: # # Set redis server/io threads to cpu affinity 0,2,4,6: # server_cpulist 0-7:2 # # Set bio threads to cpu affinity 1,3: # bio_cpulist 1,3 # # Set aof rewrite child process to cpu affinity 8,9,10,11: # aof_rewrite_cpulist 8-11 # # Set bgsave child process to cpu affinity 1,10,11 # bgsave_cpulist 1,10-11 # In some cases redis will emit warnings and even refuse to start if it detects # that the system is in bad state, it is possible to suppress these warnings # by setting the following config which takes a space delimited list of warnings # to suppress # # ignore-warnings ARM64-COW-BUG ","date":"2023-09-08T21:15:20+08:00","permalink":"https://dev.leiyanhui.com/docker/redis/","title":"docker åˆ›å»ºredis é›†ç¾¤ ä»¥åŠtlsç­‰"},{"content":"å…ˆè¯´openwrtä½œä¸ºè·¯ç”±å™¨ æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½ï¼Œä»¥åŠdebianä¸‹çš„æ›¿ä»£æ–¹æ¡ˆ\næ‹¨å· å’Œ ç½‘ç»œè½¬å‘ dhcp è¿™æ˜¯è·¯ç”±å™¨çš„åŸºæœ¬åŠŸèƒ½ ä¸ç”¨å¤šè¯´ ç§‘å­¦ å¤ªå¤šé€‰æ‹©äº†ï¼Œv2raya æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹© éƒ½æ¯”è¾ƒç®€å•æ˜“ç”¨ ddns æœ‰å¾ˆå¤šå…¶ä»–çš„é€‰æ‹© ç«¯å£è½¬å‘natè½¬å‘ iptable/nftable éƒ½æ˜¯é€šç”¨çš„ UPnP miniupnpd ipv6 wide-dhcpv6-client å‚è€ƒï¼š\nhttps://blog.bling.moe/post/3/\n","date":"2023-09-07T01:15:20+08:00","permalink":"https://dev.leiyanhui.com/mq/debian-router/","title":"debianåšè·¯ç”±å™¨çš„æ€è€ƒ"},{"content":"gnet æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„golang ç½‘ç»œio,æ€§èƒ½å’Œxlang java c++ çš„å‡ ä¸ªæ¡†æ¶ä¸€èµ·å åœ¨ç½‘ç»œæ¡†æ¶çš„å¤©èŠ±æ¿ä¸Šã€‚å¹¶å¤šæ¬¡ä½å±…æ¦œé¦–ã€‚\nä½†æ˜¯gnetçš„æ–‡æ¡£ä¸å¤ªå…¨ï¼Œæœ‰ä¸€äº›å°å‘éœ€è¦ä¸€ç‚¹æ—¶é—´æ’æŸ¥ã€‚\næŒ‰ç…§gnetçš„ä¾‹å­åˆ›å»ºçš„http serv åœ¨apiè°ƒè¯•å·¥å…· curl æµè§ˆå™¨ éƒ½æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯åœ¨miropythonçš„urequestsåº“ä¸‹å´æœ‰é—®é¢˜ã€‚çœ‹äº†gnetéƒ¨åˆ†ï¼Œä¸æƒ³è½»æ˜“å»ä¿®æ”¹ï¼Œå› ä¸ºæ€§èƒ½åœ¨ç›®å‰é¡¹ç›®åœºæ™¯ä¸‹çœŸçš„å¤ªé‡è¦äº†ã€‚ çœ‹äº†ä¸€ä¸‹urequests.pyæ„Ÿè§‰ä¸å¥½ç›´æ¥ä¿®æ”¹ï¼Œä½†æ˜¯å‚è€ƒäº†ä¸€ä¸‹è‡ªå·±å®ç°ä¸€ä¸ªå®¢æˆ·ç«¯è¿˜æ˜¯æ²¡é—®é¢˜çš„ã€‚miropythonçš„ä»£ç å˜›ï¼Œåœ¨è®¾å¤‡é‡Œé¢è¿è¡Œï¼Œåªè¦æ²¡æœ‰bugèƒ½è·‘èµ·æ¥å°±å¯ä»¥ï¼Œä¸ç”¨å¤ªæ“å¿ƒæ€§èƒ½é—®é¢˜ï¼Œæ¯•ç«Ÿè®¾å¤‡éƒ½å–ç»™ç”¨æˆ·äº†ï¼Œå ç”¨çš„æ€§èƒ½ä¹Ÿä¸æ˜¯å’±ä»¬çš„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 import usocket # ç›®æ ‡æœåŠ¡å™¨ä¿¡æ¯ #host = \u0026#34;10.1.1.75\u0026#34; #port = 8084 #url = \u0026#34;/devs/?cid=xxx\u0026#34; # timeout =1 def HttpGet(host,port,url,timeout): try: # åˆ›å»º socket è¿æ¥ s = usocket.socket(usocket.AF_INET, usocket.SOCK_STREAM) addr = usocket.getaddrinfo(host, port)[0][-1] s.connect(addr) # æ„å»º GET è¯·æ±‚ request = \u0026#34;GET {url} HTTP/1.1\\r\\nHost: {host}\\r\\nUser-Agent: myUrequests\\r\\n\\r\\n\u0026#34;.format(url=url, host=host) s.send(request) # å‘é€è¯·æ±‚ response = b\u0026#34;\u0026#34; # æ¥æ”¶å“åº” s.settimeout(timeout) # è®¾ç½®è¶…æ—¶æ—¶é—´ä¸ºxç§’ while True: try: data = s.recv(4096) if not data: break response += data except OSError: break # å…³é—­ socket è¿æ¥ s.close() # è§£æå“åº”æ•°æ® headers, body = response.split(b\u0026#39;\\r\\n\\r\\n\u0026#39;, 1) content_length = 0 for header in headers.split(b\u0026#39;\\r\\n\u0026#39;): if header.startswith(b\u0026#39;Content-Length:\u0026#39;): content_length = int(header.split(b\u0026#39;:\u0026#39;)[1]) break return body[:content_length].decode() except: print(\u0026#34;http geté”™è¯¯\u0026#34;) return \u0026#34;\u0026#34; def HttpsGet(host, port, url, timeout): import ussl import select import time # åˆ›å»º socket è¿æ¥ s = usocket.socket(usocket.AF_INET, usocket.SOCK_STREAM) addr = usocket.getaddrinfo(host, port)[0][-1] s.connect(addr) # ä½¿ç”¨ SSL åŠ å¯†è¿æ¥ s = ussl.wrap_socket(s, server_hostname=host) # è®¾ç½®è¶…æ—¶æ—¶é—´ s.setblocking(False) # æ„å»º GET è¯·æ±‚ request = \u0026#34;GET {url} HTTP/1.1\\r\\nHost: {host}\\r\\nUser-Agent: myUrequests\\r\\n\\r\\n\u0026#34;.format(url=url, host=host) s.write(request.encode()) # å‘é€è¯·æ±‚ # ç­‰å¾…å“åº”æ•°æ® response = b\u0026#34;\u0026#34; start_time = time.time() while True: ready = select.select([s], [], [], 0.1) # æ¯æ¬¡ç­‰å¾… 0.1 ç§’é’Ÿ if ready[0]: try: data = s.read(4096) if data: response += data else: break except OSError: break # æ£€æŸ¥è¶…æ—¶ elapsed_time = time.time() - start_time if elapsed_time \u0026gt;= timeout: break # å…³é—­ socket è¿æ¥ s.close() # è§£æå“åº”æ•°æ® headers, body = response.split(b\u0026#39;\\r\\n\\r\\n\u0026#39;, 1) content_length = 0 for header in headers.split(b\u0026#39;\\r\\n\u0026#39;): if header.startswith(b\u0026#39;Content-Length:\u0026#39;): content_length = int(header.split(b\u0026#39;:\u0026#39;)[1]) break return body[:content_length].decode() def AutoHttpGet(url, timeout): try: # è§£æURL parts = url.split(\u0026#39;://\u0026#39;) scheme = parts[0] remaining = parts[1].split(\u0026#39;/\u0026#39;, 1) host_port = remaining[0].split(\u0026#39;:\u0026#39;) if len(host_port) == 1: #é»˜è®¤ç«¯å£ host = host_port[0] port = 443 if scheme == \u0026#39;https\u0026#39; else 80 else:#è‡ªå®šä¹‰ç«¯å£ host = host_port[0] port = int(host_port[1]) path = \u0026#39;/\u0026#39; + remaining[1] if len(remaining) \u0026gt; 1 else \u0026#39;/\u0026#39; query = \u0026#39;\u0026#39; if \u0026#39;?\u0026#39; in path: path, query = path.split(\u0026#39;?\u0026#39;, 1) query = \u0026#39;?\u0026#39; + query print(scheme,host, port, path + query) if scheme == \u0026#39;https\u0026#39;: return HttpsGet(host, port, path + query, timeout) else: return HttpGet(host, port, path + query, timeout) except: print(\u0026#34;è‡ªåŠ¨http/s geté”™è¯¯\u0026#34;) return \u0026#34;\u0026#34; ","date":"2023-09-07T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/lot/mpy-get/","title":"miropython urequestså’Œgnetçš„å…¼å®¹æ€§é—®é¢˜"},{"content":"å¤§é‡ç‰©è”ç½‘è®¾å¤‡æ•°æ®ä¸ŠæŠ¥ï¼Œå¯ä»¥é€‰æ‹© å¸¸ç”¨çš„ mqtt coAPç­‰æ–¹æ³•ã€‚ æˆ‘è¿™é‡Œé‡‡ç”¨è‡ªå®šä¹‰åè®®ï¼Œè®¾å¤‡åœ¨çº¿çŠ¶æ€æ£€æµ‹ç”¨çš„tcpé•¿è¿æ¥ï¼Œæ•°æ®ä¸ŠæŠ¥ç”¨ç”¨tcpçŸ­è¿æ¥å’Œé•¿è¿æ¥æ™ºèƒ½åŒ¹é…çš„æ–¹æ¡ˆã€‚\nè‡³äºä¸ºä»€ä¹ˆæ²¡ç”¨mqtt,è¿˜æ˜¯ä»æœåŠ¡å™¨å¸¦å®½å’Œè¿ç»´æˆæœ¬è€ƒè™‘çš„ã€‚\næœ¬æ–‡ä¸»è¦è¯´æ•°æ®å‚¨å­˜çš„æ–¹æ¡ˆã€‚\nä¼ ç»Ÿçš„æ•°æ®åº“ è‚¯å®šæ— æ³•æ»¡è¶³å¦‚æ­¤åºå¤§å¹¶å‘çš„å†™å…¥é‡ï¼Œæ‰€ä»¥ç›®å…‰å…ˆæ”¾åˆ°äº†æ—¶åºæ•°æ®åº“ä¸Šã€‚\nå› ä¸ºå¯¹golangæ›´ä¸ºå–œæ¬¢ï¼Œæ‰€ä»¥é¦–å…ˆæƒ³åˆ°ç”¨InlfuxDBã€‚ ä½†æ˜¯æ–°ç‰ˆé›†ç¾¤åŠŸèƒ½ä¸å¼€æºä¸”æ”¶è´¹ã€‚ ç„¶åçœ‹åˆ°å›½äº§çš„lotDB å·²ç»è¿›å…¥Apache å­µåŒ–é¡¹ç›®ï¼Œä½†æ˜¯åœ¨æµ‹è¯•çš„æ—¶å€™å‘ç° lotDB çš„åŸç”Ÿæ¥å£ï¼Œgolang å’ŒC++ çš„å‡æœ‰é—®é¢˜ã€‚è™½ç„¶lotDBåœ¨ç®€ä¸­ä¸Šå£ç¢‘ä¸é”™ï¼Œå¹¶ä¸”åˆ°å¤„éƒ½æ˜¯å’ŒinlfuxDBåšå¯¹æ¯”çš„æ–‡ç« ã€‚ä½†æ˜¯è¿™ä¸ªé—®é¢˜è®©æˆ‘æ„Ÿè§‰åˆ°ä¸€ä¸çš„æ‹…å¿§ã€‚è€Œæ²¡æœ‰æ‰¾åˆ°é‚£äº›å¹lotDBçš„æ–‡ç« å¯¹mqttå’ŒRESTæ¥å£çš„æ€§èƒ½æµ‹è¯•ã€‚äºæ˜¯ä¸å†æ‰“ç®—è€ƒè™‘lotDBã€‚\nå…¶å®å¼€å‘è¯­è¨€ä¸æ˜¯é‡ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬å‡ ä¹ä¸å¤ªå¯èƒ½ä¼šå¯¹æºç è¿›è¡Œå¤ªå¤šä¿®æ”¹ï¼Œä¸»è¦è¿˜æ˜¯æ€§èƒ½å’Œé«˜å¯ç”¨æ€§ã€‚\nåœ¨çœ‹äº†éƒ¨åˆ†æºç åï¼Œçªç„¶æƒ³åˆ°ï¼Œæ˜¯å¦åº”è¯¥è‡ªå·±åšä¸€ä¸ªå…·æœ‰ç®€å•ç½‘ç»œåŠŸèƒ½çš„æ”¯æŒé›†ç¾¤çš„ç®€å•ä¼ªæ—¶åºæ•°æ®åº“.\nåœ¨è€ƒè™‘åˆ°å¤šæ•°c/sæ•°æ®åº“å‡æ— æ³•åº”å¯¹å¦‚æ­¤å¤§é‡æ•°æ®å†™å…¥ï¼Œç›®å…‰æ”¾åˆ°sqliteã€‚ç»è¿‡æµ‹è¯•ï¼Œåœ¨è€é¡¹ç›®ä¸Šè¿›è¡Œä¸€äº›ç®€å•ä¼˜åŒ–åå•åº“çš„sqlite å¯ä»¥è½»æ¾å®ç°æ¯ç§’200+ä¸‡æ¡çš„å†™å…¥é€Ÿåº¦ã€‚è¿™ä¸ªé€Ÿåº¦æ„Ÿè§‰æœ‰æå¤´ã€‚\né‚£ä¹ˆå‰©ä¸‹çš„é—®é¢˜ï¼Œå°±æ˜¯ é›†ç¾¤éƒ¨ç½²çš„æƒ…å†µä¸‹ æ•°æ®çš„åŒæ­¥ å¤‡ä»½ ç­‰é—®é¢˜ï¼Œä»¥åŠç½‘ç»œå†™å…¥å’ŒæŸ¥è¯¢å®ç°ã€‚\næœ€åæµ‹è¯• sqliteå®ç°ç»“æœ å› ä¸ºæ¯æ¬¡ä¸ŠæŠ¥çš„æ•°æ® åªæœ‰1-å‡ åæ¡ï¼Œæ— æ³•æœ‰æ•ˆçš„åˆ©ç”¨äº‹åŠ¡æ¥æ’å…¥æ•°æ®ã€‚ å¯¼è‡´å®é™…ä½¿ç”¨ä½“éªŒéå¸¸ç³Ÿç³•ã€‚\nç„¶åå°è¯•äº† å‡ ä¸ª lsm-tree kv çš„æœ¬åœ°åµŒå…¥å¼æ•°æ®åº“ã€‚åœ¨å¤šé”®å€¼çš„æƒ…å†µä¸‹ ä¼šå¯¼è‡´æ–‡ä»¶æ•°é‡éå¸¸ææ€–ã€‚ç»™å¼‚åœ°éƒ¨ç½²çš„é›†ç¾¤å¸¦æ¥å¾ˆå¤šå¤§çš„ç»´æŠ¤å‹åŠ›ã€‚\nä¸­é—´è¿‡ç¨‹ä¸è¡¨ï¼Œä¸ºäº†è¿½æ±‚å¥½çš„æ€§èƒ½æœ€ä½çš„æˆæœ¬ï¼Œåå¤æŠ˜è…¾å¾ˆä¹…ã€‚\næœ€åçš„ç®€å•æ–¹æ¡ˆ æœ€åï¼Œé€‰æ‹©äº†ä¸€ç§æœ€ä¸ºç®€å•æ–¹ä¾¿çš„æ–¹æ¡ˆã€‚\nè®¾å¤‡ä¸ŠæŠ¥çš„æ—¥å¿—ï¼Œåœ¨ç»è¿‡ç®€å•çš„éªŒè¯å»é‡åï¼Œè¿½åŠ å†™å…¥åˆ°æœ¬åœ°æ–‡æœ¬æ–‡ä»¶ã€‚å¹¶åœ¨æ–‡ä»¶è¶…è¿‡ä¸€å®šå¤§å°åè‡ªåŠ¨æŒ‰ç…§æ—¶é—´æˆ³åˆ‡å‰²æ–‡ä»¶ã€‚å¹¶å°†æ–‡ä»¶å‹ç¼©åŒæ­¥åˆ°äº‘å‚¨å­˜ã€‚\nä¸ºäº†é¿å…ä¸Šäº‘å®¹æ˜“ä¸‹äº‘éš¾è¿™ä¸ªè›‹ç–¼çš„æƒ…å†µï¼Œäº‘å‚¨å­˜é‡‡ç”¨rcloneï¼ˆæ”¯æŒs3å’Œhdfsï¼‰ ç”¨å‹ç¼©æ–¹å¼æŒ‚è½½åˆ°æœ¬åœ°è¿›ç¨‹åŒæ­¥ã€‚\nè¿™æ ·20å‡ è¡Œä»£ç å°±æå®šäº†è¿™ä¸ªåŠŸèƒ½éœ€æ±‚ã€‚\næŸ¥è¯¢çš„æ—¶å€™ï¼Œæ ¹æ®æ—¶é—´èŒƒå›´é€‰æ‹© äº‘æ³¨å†Œå†…ä¸åŒæ—¶é—´æˆ³çš„æ–‡ä»¶å³å¯ã€‚\nå› rcloneè´Ÿè´£åç«¯äº‘å‚¨å­˜é€šè®¯å’Œå‹ç¼©ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸Šï¼Œåªéœ€è¦å®ä½œæœ¬åœ°å·²ç»è§£å‹çš„æ–‡ä»¶å³å¯ã€‚ç”±äºæ–‡ä»¶é‡‡ç”¨çš„ç®€å•çš„è¿½åŠ æ–¹å¼ï¼Œæ‰€ä»¥å•ä¸ªè®¾å¤‡çš„å¤šä¸ªæ—¶é—´èŒƒå›´çš„æ—¥å¿—ä¹Ÿå¯ä»¥è¿›è¡Œç®€å•çš„åˆå¹¶ã€‚\nä¸ºä»€ä¹ˆæ²¡ç”¨csvæ˜¯å› ä¸ºæ„Ÿè§‰æ²¡å•¥å¿…è¦äº†ï¼Œç›´æ¥ç”¨æ–‡æœ¬å‚¨å­˜åŸå§‹æ•°æ®æ›´ç®€å•ä¸€äº›ã€‚\nä¼˜ç‚¹ å¤©ç„¶æ”¯æŒé«˜å¯ç”¨æ€§ä¼ªé›†ç¾¤ï¼ˆé›†ç¾¤ä¹‹é—´ä¸éœ€è¦é€šè®¯ï¼‰ ä»£ç é€»è¾‘ç®€å• æ€§èƒ½å¯é  ä¸´æ—¶æ–‡ä»¶å¯ä»¥æ”¾åˆ°ramfs ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶å†…å­˜å¤§å° å¯ä»¥ç®€å•çš„åˆå¹¶æ–‡ä»¶ å¯ä»¥ç®€å•çš„ç²—ç•¥åˆ é™¤æ—§æ•°æ® ä¸ç”¨å»ç»´æŠ¤æ—¶åºæ•°æ®åº“ æ–¹æ¡ˆçš„ç¼ºç‚¹ å‹ç¼©ç®—æ³• å› ä¸ºå‹ç¼©åŠŸèƒ½äº¤ç»™äº†rclone,é‚£ä¹ˆå°±å—åˆ°rcloneçš„é™åˆ¶åªèƒ½ç”¨gzipæ ¼å¼ã€‚ä½†æ˜¯å¥½åœ¨ oneè®¾å¤‡oneæ–‡ä»¶ï¼Œå•ä¸ªæ–‡ä»¶ä½“ç§¯ä¸å¤§ï¼Œå¤§å¹¶å‘æƒ…å†µå¤šä¸ªåˆ©ç”¨ç‡é«˜ï¼Œæ‰€ä»¥ä¹Ÿè§£å†³gzipå•çº¿ç¨‹å‹ç¼©æ€§èƒ½çš„é—®é¢˜ã€‚ å‹ç¼©ç‡ æ²¡æœ‰åŠæ³•å’Œ zstdæ¯”è¿™ä¸ªã€‚\né›†ç¾¤éƒ¨ç½²å•è®¾å¤‡æ•°æ®ç¦»æ•£é—®é¢˜ éœ€è¦é”å®šè®¾å¤‡çš„å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚åœ¨è®¾å¤‡ä¸ŠæŠ¥æ•°æ®çš„èŠ‚ç‚¹ï¼Œä¸èƒ½è®©ä»–ä»»æ„é€‰æ‹©ï¼Œå¦åˆ™åœ¨å¤šä¸ªèŠ‚ç‚¹è½®æµä¸ŠæŠ¥æ•°æ®ã€‚è€ŒèŠ‚ç‚¹ä¸Šæ˜¯é€šè¿‡æ–‡ä»¶å¤§å°æ¥è½¬å‚¨å­˜æ•°æ®çš„ï¼Œè¿™å°±å¯¼è‡´æœ‰å¯èƒ½ä¼šæœ‰æ—¶åºæ··ä¹±ã€‚\néœ€è¦å¦å¤–å®ç°å®æ—¶æ•°æ®æŸ¥è¯¢ å› ä¸ºè¿™ä¸ªæ–¹æ¡ˆåªæœ‰æ•°æ®è¶…è¿‡ä¸€å®šé‡çš„åçš„å‚¨å­˜åŠŸèƒ½ï¼Œå¦‚æœè¦æŸ¥è¯¢å®æ—¶æ•°æ®éœ€è¦å¦å¤–çš„æ–¹æ¡ˆæ¥æ¥å®ç°ã€‚\n","date":"2023-09-02T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/lot/tsdb-select/","title":"ç‰©è”ç½‘è®¾å¤‡ä¸ŠæŠ¥æ•°æ®å‚¨å­˜æ–¹æ¡ˆ  æ—¶åºæ•°æ®åº“çš„æ›¿ä»£æ–¹æ¡ˆçš„æŠ˜è…¾è¿‡ç¨‹"},{"content":"å¯ä»¥æ‰“ä¸€ä¸ªnatèƒŒåçš„ç«¯å£å‡ºæ¥ã€‚ å•çº¯æŸ¥è¯¢è‡ªå·±çš„å…¬ç½‘ip,ç”¨stunæ„ä¹‰ä¸å¤§ã€‚ä¸å¦‚å¤šä¸ªåœ¨çº¿æŸ¥è¯¢ è½®æµ getã€‚\nçº¯è®°å½•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/ccding/go-stun/stun\u0026#34; ) func main() { client := stun.NewClient() client.SetServerHost(\u0026#34;stun.syncthing.net\u0026#34;, 3478) nat, host, err := client.Discover() fmt.Println(\u0026#34;nat\u0026#34;, nat) if err != nil { fmt.Println(\u0026#34;æ— æ³•è·å–å…¬ç½‘IP:\u0026#34;, err) return } if host == nil { fmt.Println(\u0026#34;å¯èƒ½æ˜¯æ— æ³•è¿æ¥åˆ°ä¸»æœº\u0026#34;) return } fmt.Println(\u0026#34;host\u0026#34;, host.IP()) fmt.Println(\u0026#34;host String\u0026#34;, host.String()) } å›½å†…ä¸‰ä¸ªå¯ç”¨çš„ï¼š\nstun.qq.com\nstun.miwifi.com\nstun.syncthing.net\n","date":"2023-08-29T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/stun-pubip/","title":"golang ä½¿ç”¨ stunè·å–è‡ªå·±çš„å…¬ç½‘ipï¼Œä»¥åŠä¸´æ—¶å¯ç”¨çš„å…¬ç½‘ç«¯å£"},{"content":"æœ€æ–° 2022å¹´çš„ æ’åï¼š https://www.techempower.com/benchmarks/#section=data-r21\u0026test=plaintext\nå¯ä»¥çœ‹åˆ° å‰30 ä¹‹é—´æ€§èƒ½å·®è·éƒ½å¾ˆå°ï¼Œé€‰æ‹©ä¸€ä¸ªé€‚åˆè‡ªå·±çš„å³å¯ã€‚\ngoè¯­è¨€çš„gnet ä»ç¬¬ä¸€æ‰åˆ°ç¬¬ä¹ï¼Œä½†æ˜¯ä¹Ÿå¯çœ‹åˆ° ä¾æ—§åœ¨ç¬¬ä¸€æ¢¯é˜Ÿå’Œç¬¬ä¸€pico.vï¼ˆvè¯­è¨€ï¼‰ æ˜¯pivo.vçš„99.8% å¾®ä¹å…¶å¾®\nä½†æ˜¯ä¸å¾—ä¸è¯´ aspcoreå’Œ aspcore-mono\téƒ½ çœŸçš„å¾ˆå¼º just-js ä¹Ÿå¾ˆå¼º 99.3% æ’å\né•¿æ±Ÿåæµªæ¨å‰æµªï¼ŒNettyï¼ŒNginxç­‰çš„è€ç‰Œå¤§ç‰›æ’åéƒ½éå¸¸é åã€‚Nettyæ’å64ï¼ŒNginxæ’å109ï¼Œåˆ†åˆ«åªèƒ½è¾¾åˆ°æ’åç¬¬ä¸€çš„æ¡†æ¶æ€§èƒ½çš„57.2%å’Œ28.8%ã€‚\ngoè¯­è¨€çš„gin çš„æ’ååœ¨ 190å¤š\u0026hellip;\næ²¡æƒ³åˆ°vè¯­è¨€çš„è¿™ä¸ªæ–°ç”Ÿè¯­è¨€ï¼Œç‰›é€¼ä¸æ˜¯ä¸€ç›´å¹çš„ã€‚\nä»”ç»†çœ‹äº†ä¸€ä¸‹ï¼Œé‡Œé¢å¾ˆå¤šå›½äººå¼€å‘çš„æ¡†æ¶\nå› ä¸ºäº‘éƒ¨ç½²ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œ ä¾æ—§é€‰æ‹©golang, è€é¡¹ç›®ä¾æ—§åšæŒ net ä¸åŠ¨æ‘‡ï¼Œéœ€è¦é‡æ„çš„é€æ­¥åˆ‡æ¢åˆ°gnetã€‚æ–°é¡¹ç›®æ— è„‘gnetäº†ã€‚\nè‡³äºæ¡†æ¶å’Œè¯­è¨€çš„é€‰æ‹©ï¼Œè¿˜æ˜¯é€‰æ‹©é€‚åˆçš„ã€‚nettyæ„å»ºçš„è€é¡¹ç›® ä¹Ÿæ²¡å¿…è¦å»è½»æ˜“æ¢ã€‚\n","date":"2023-08-27T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/mq/io-select/","title":"ç½‘ç»œIOæ¡†æ¶ çš„é€‰æ‹©"},{"content":"ç®€å•çš„å®ç°ï¼Œä½†æ˜¯å®Œæˆäº† å‘å¸ƒå’Œè®¢é˜… ack çš„æ“ä½œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 package main import ( \u0026#34;ac_file\u0026#34; \u0026#34;context\u0026#34; \u0026#34;do_redis\u0026#34; \u0026#34;do_time\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) var ( cfgCommon []byte redisDb redis.UniversalClient ctx = context.Background() ) func init() { cfgCommon = ac_file.Get_serv_cfg_local_and_redis(cfgCommon) //ä»æœ¬æœºå’ŒredisæŒ‰ç…§ç­–ç•¥æ›´æ–°å’Œè·å–é…ç½®æ–‡ä»¶ redisDb = do_redis.GetRedisDb_Client(cfgCommon) } func main() { // å‘å¸ƒæ¶ˆæ¯åˆ°æŒ‡å®š Stream _, err := redisDb.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;mystream\u0026#34;, // Stream åç§° Values: map[string]interface{}{ \u0026#34;key1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;key2\u0026#34;: \u0026#34;value2\u0026#34;, }, }).Result() if err != nil { fmt.Println(\u0026#34;Failed to publish message:\u0026#34;, err) return } // åˆ›å»ºæ¶ˆè´¹è€…ç»„ groupName := \u0026#34;mygroup\u0026#34; //\t_, err := redisDb.XGroupCreateMkStream(ctx, \u0026#34;mystream\u0026#34;, groupName, \u0026#34;$\u0026#34;).Result() //_, err = redisDb.XGroupCreate(ctx, \u0026#34;mystream\u0026#34;, groupName, \u0026#34;$\u0026#34;).Result() //$ æ˜¯ä»æœ«å°¾å¼€å§‹æ¥å— _, err = redisDb.XGroupCreate(ctx, \u0026#34;mystream\u0026#34;, groupName, \u0026#34;0\u0026#34;).Result() //0 æ˜¯ä»å¤´å¼€å§‹ if err != nil { fmt.Println(\u0026#34;Failed to create consumer group:\u0026#34;, err) } time.Sleep(2 * time.Second) // åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯å¤„ç†åç¨‹ go sub_get() // åœ¨ä¸»åç¨‹ä¸­ç­‰å¾…é€€å‡ºä¿¡å· select {} } func sub_get() { for { pubsub := redisDb.XReadGroup(ctx, \u0026amp;redis.XReadGroupArgs{ Group: \u0026#34;mygroup\u0026#34;, Consumer: \u0026#34;test\u0026#34;, Streams: []string{\u0026#34;mystream\u0026#34;, \u0026#34;\u0026gt;\u0026#34;}, //Streams: []string{\u0026#34;mystream\u0026#34;, \u0026#34;0-0\u0026#34;}, Count: 2, Block: 0, }) messages, err := pubsub.Result() if err != nil { fmt.Println(\u0026#34;Failed to read from stream:\u0026#34;, err) continue } for _, msg := range messages[0].Messages { fmt.Printf(\u0026#34;Consumer %s received message from Stream %s with ID: %s, data: %v\\n\u0026#34;, \u0026#34;test\u0026#34;, messages[0].Stream, msg.ID, msg.Values) // ç¡®è®¤å·²å¤„ç†æ¶ˆæ¯ _, err := redisDb.XAck(ctx, \u0026#34;mystream\u0026#34;, \u0026#34;mygroup\u0026#34;, msg.ID).Result() if err != nil { fmt.Println(\u0026#34;Failed to acknowledge message:\u0026#34;, err) } /* else { // ä» messages åˆ‡ç‰‡ä¸­ç§»é™¤å·²å¤„ç†çš„æ¶ˆæ¯ messages[0].Messages = messages[0].Messages[1:] } */ } } } ","date":"2023-08-19T05:14:20+08:00","permalink":"https://dev.leiyanhui.com/mq/redis-stream-mq/","title":"golang  stream å’Œredisä¹‹é—´å®ç°è®¢é˜…å’Œå‘é€çš„"},{"content":"å®ç° ä»rediså•èŠ‚ç‚¹æˆ–è€…æ•´ä¸ªé›†ç¾¤å¯¼å‡ºå¯¼å…¥æ•°æ®åˆ°jsonæ–‡ä»¶ã€‚\nredis-dump ä¹Ÿå¯ä»¥æœ‰åŒæ ·çš„åŠŸèƒ½çš„ï¼Œä»–å·²ç»5å¹´å¤šä¸æ›´æ–°äº† è€Œä¸” åªæ”¯æŒæœ‰é™çš„æ•°æ®ç±»å‹ï¼Œæ›´ä¸æ”¯æŒ Clusterã€‚\næ²¡å•¥æŠ€æœ¯å«é‡ï¼ŒèŠ±äº†30åˆ†é’Ÿå†™å®Œã€‚\nä¹Ÿå¯ä»¥å¯¼å…¥åˆ°mysql,æ–‡æœ«æœ‰å‚è€ƒï¼ˆæœªæµ‹è¯•ï¼Œè¿™éƒ¨åˆ†ä»£ç ç”±chatGPTå®Œæˆï¼‰\nç‰¹æ€§å’ŒåŸºæœ¬ç®—æ³•ï¼š æ”¯æŒé›†ç¾¤å’Œå•èŠ‚ç‚¹ å’Œä¸»ä»æ¨¡å¼ï¼Œå› ä¸ºæˆ‘ä¸€ç›´æ²¡ç”¨è¿‡å“¨å…µé›†ç¾¤ï¼Œæ‰€ä»¥æœªæµ‹è¯•ï¼Œç†è®ºä¸Šä¹Ÿæ”¯æŒã€‚\næ”¯æŒ10ç§redisæ•°æ®ç±»å‹ï¼Œè¯¦æƒ…çœ‹ä»£ç  å› ä¸ºä¸»è¦æ˜¯ä¸ºäº† clusteræ¨¡å¼ï¼Œä»èŠ‚ç‚¹å¯èƒ½å¤ªå¤šï¼Œæ‰€ä»¥æ•°æ®ç›´æ¥ä»ä¸»èŠ‚ç‚¹å¯¼å‡ºã€‚ å¦‚æœæ˜¯å•æœºæ¨¡å¼/ä¸»ä»/å“¨å…µæ¨¡å¼ï¼Œä¼šç›´æ¥å¯¼å‡ºã€‚å¦‚æœæ˜¯ cluster æ¨¡å¼ï¼Œä¼šå…ˆæŸ¥è¯¢å‡ºä¸»èŠ‚ç‚¹ï¼Œç„¶åä¾æ¬¡è¿æ¥ä¸»èŠ‚ç‚¹å¯¼å‡ºï¼ˆä¸è¿æ¥ä»èŠ‚ç‚¹ æ˜¯å› ä¸ºä»èŠ‚ç‚¹å¤ªå¤šï¼Œå†å»æ¯ä¸€ä¸ªèŠ‚ç‚¹é€‰ä¸€ä¸ªä»èŠ‚ç‚¹å¤ªå¤æ‚ä¹Ÿæ²¡å¿…è¦ï¼‰ å¯¼å‡º : å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯é›†ç¾¤ï¼Œå¦‚æœä¸æ˜¯ï¼Œç›´æ¥æ‰«ææ‰€æœ‰key ä¾æ¬¡å¯¼å‡ºã€‚å¦‚æœæ˜¯é›†ç¾¤ æ‰¾åˆ°ä¸»èŠ‚ç‚¹ï¼Œä¾æ¬¡æ‰«ææ‰€æœ‰key å¯¼å‡ºã€‚\nå¯¼å…¥ï¼šç›´æ¥æŒ‰ç…§ç±»å‹å¯¼å…¥å³å¯ï¼Œé›†ç¾¤ä¼šè‡ªå·±åˆ†ç‰‡\nä»£ç  ä¸€äº›ä»£ç é‡Œé¢æ²¡æœ‰çš„è¯´æ˜ do_redis åªæ˜¯è¿æ¥redisé›†ç¾¤å»äº†ï¼ŒGetRedisDb_Client çš„ ä»£ç å‚è€ƒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 redis_addr_arr := strings.Split(redis_addr, \u0026#34;,\u0026#34;)//redis_addr æ˜¯é›†ç¾¤çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ip:ç«¯å£ã€‚å¦‚æœæ˜¯å•èŠ‚ç‚¹ å°±ä¸€ä¸ªå³å¯ if len(redis_addr_arr) \u0026gt; 1 { //è¿æ¥åˆ°é›†ç¾¤ redisClient := redis.NewClusterClient(\u0026amp;redis.ClusterOptions{ Addrs: redis_addr_arr, Password: redis_psw, }) }else{ redisClient := redis.NewClient(\u0026amp;redis.Options{ //è¿æ¥åˆ°å•ç‚¹ Addr: redis_addr, Password: redis_psw, DB: 0, }) } redis_Clusterpsw =\u0026#34;12332434\u0026#34; å®Œæ•´ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 package main import ( \u0026#34;ac_file\u0026#34; \u0026#34;coder\u0026#34; \u0026#34;context\u0026#34; \u0026#34;do_redis\u0026#34; \u0026#34;do_time\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) var ( cfgCommon []byte redisDb redis.UniversalClient redisDb_back redis.UniversalClient ctx = context.Background() nowTimestamp int64 ) func init() { cfgCommon = ac_file.Get_serv_cfg_local_and_redis(cfgCommon) //ä»æœ¬æœºå’ŒredisæŒ‰ç…§ç­–ç•¥æ›´æ–°å’Œè·å–é…ç½®æ–‡ä»¶ redisDb = do_redis.GetRedisDb_Client(cfgCommon) redisDb_back = do_redis.GetRedisBackDb_Client(cfgCommon) go do_time.NowTimestamp(\u0026amp;nowTimestamp) //ç§’ æ—¶é—´æˆ³å®šæ—¶å™¨ é¿å…ç¨‹åºå¤šæ¬¡è°ƒç”¨ } func main() { Save_toJson(\u0026#34;redis_db_date.json\u0026#34;, redisDb) //load_from_json(\u0026#34;redis_db_date.json\u0026#34;, redisDb) load_from_json(\u0026#34;redis_db_date.json\u0026#34;, redisDb_back) //fmt.Println(\u0026#34;æ“ä½œå®Œæˆ\u0026#34;) } func load_from_json(filename string, db redis.UniversalClient) { data, err := os.ReadFile(filename) if err != nil { fmt.Println(\u0026#34;Error reading file:\u0026#34;, err) return } restore_redis_db(data, db) } func Save_toJson(filename string, db redis.UniversalClient) { var redis_db_date []byte // åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦è¿æ¥åˆ° Redis é›†ç¾¤ if _, ok := db.(*redis.ClusterClient); ok { // è·å–é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯ stateCmd := db.ClusterNodes(context.Background()) state, err := stateCmd.Result() if err != nil { log.Println(err) } redis_Clusterpsw := coder.JsonGetStr(cfgCommon, \u0026#34;redis\u0026#34;, \u0026#34;db\u0026#34;, \u0026#34;password\u0026#34;) //å•ç‹¬é…ç½®ä¸€ä¸‹å¯†ç  // è§£æä¸»èŠ‚ç‚¹ä¿¡æ¯ lines := strings.Split(state, \u0026#34;\\n\u0026#34;) for _, line := range lines { fields := strings.Fields(line) if len(fields) \u0026gt; 2 \u0026amp;\u0026amp; (fields[2] == \u0026#34;master\u0026#34; || fields[2] == \u0026#34;myself,master\u0026#34;) { nodeAddr := fields[1] add := strings.Split(nodeAddr, \u0026#34;@\u0026#34;) masterClient := redis.NewClient(\u0026amp;redis.Options{ Addr: add[0], Password: redis_Clusterpsw, }) redis_db_dateThis := back_redis_db(masterClient) var m1 = make(map[string]interface{}) var m2 = make(map[string]interface{}) if len(redis_db_date) \u0026gt; 0 { err := json.Unmarshal(redis_db_date, \u0026amp;m1) if err != nil { log.Println(\u0026#34;redis_db_date\u0026#34;, err) } } if len(redis_db_dateThis) \u0026gt; 0 { err := json.Unmarshal(redis_db_dateThis, \u0026amp;m2) if err != nil { log.Println(\u0026#34;redis_db_dateThis\u0026#34;, add[0], err) } } if len(m2) \u0026gt; 0 { // åˆå¹¶ä¸¤ä¸ªæ˜ å°„ for k, v := range m2 { m1[k] = v } } mergedData, err := json.Marshal(m1) // å°†åˆå¹¶åçš„æ˜ å°„é‡æ–°ç¼–ç ä¸º JSON å­—ç¬¦ä¸² if err != nil { log.Println(\u0026#34;mergedData\u0026#34;, err) } else { redis_db_date = mergedData } masterClient.Close() } } } else { redis_db_date = back_redis_db(db) } var tmp_data interface{} // åˆ›å»ºä¸€ä¸ªç©ºæ¥å£ç”¨äºè§£æ JSON æ•°æ® errJson := json.Unmarshal(redis_db_date, \u0026amp;tmp_data) if errJson != nil { fmt.Println(\u0026#34;redis_db_date è§£æ JSON å¤±è´¥:\u0026#34;, errJson) } else { formattedJSON, err := json.MarshalIndent(tmp_data, \u0026#34;\u0026#34;, \u0026#34; \u0026#34;) // æ ¼å¼åŒ– JSON æ•°æ® if err != nil { fmt.Println(\u0026#34;redis_db_date æ ¼å¼åŒ– JSON å¤±è´¥:\u0026#34;, err) } else { redis_db_date = formattedJSON } } err := os.WriteFile(filename, redis_db_date, 0644) if err != nil { fmt.Println(\u0026#34;Error writing file:\u0026#34;, err) return } } func restore_redis_db(jsonData []byte, db redis.UniversalClient) { // è§£æå¯¼å‡ºçš„ JSON æ•°æ® var importedData map[string]interface{} err := json.Unmarshal(jsonData, \u0026amp;importedData) if err != nil { fmt.Println(\u0026#34;Error unmarshalling JSON data:\u0026#34;, err) return } // éå†å¯¼å…¥çš„æ•°æ®å¹¶æ ¹æ®ç±»å‹å°†å…¶å­˜å‚¨åˆ° Redis for key, value := range importedData { dataMap, ok := value.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid data format for key %s\\n\u0026#34;, key) continue } dataType, ok := dataMap[\u0026#34;type\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid data type for key %s\\n\u0026#34;, key) continue } dataValue, ok := dataMap[\u0026#34;value\u0026#34;] if !ok { fmt.Printf(\u0026#34;Invalid data value for key %s\\n\u0026#34;, key) continue } switch dataType { case \u0026#34;string\u0026#34;: err := db.Set(ctx, key, dataValue.(string), 0).Err() if err != nil { fmt.Printf(\u0026#34;Error setting value for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;list\u0026#34;: err := db.RPush(ctx, key, dataValue.([]interface{})...).Err() if err != nil { fmt.Printf(\u0026#34;Error pushing values to list key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;hash\u0026#34;: hashValues, ok := dataValue.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid hash values for key %s\\n\u0026#34;, key) continue } err := db.HMSet(ctx, key, hashValues).Err() if err != nil { fmt.Printf(\u0026#34;Error setting hash values for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;set\u0026#34;: err := db.SAdd(ctx, key, dataValue.([]interface{})...).Err() if err != nil { fmt.Printf(\u0026#34;Error adding values to set key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;zset\u0026#34;: zsetValues, ok := dataValue.([]map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid sorted set values for key %s\\n\u0026#34;, key) continue } var zsetEntries []redis.Z for _, zsetValue := range zsetValues { scoreStr, ok := zsetValue[\u0026#34;score\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid sorted set entry score for key %s\\n\u0026#34;, key) continue } score, err := strconv.ParseFloat(scoreStr, 64) if err != nil { fmt.Printf(\u0026#34;Error parsing score for key %s: %v\\n\u0026#34;, key, err) continue } member, ok := zsetValue[\u0026#34;value\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid sorted set entry member for key %s\\n\u0026#34;, key) continue } zsetEntries = append(zsetEntries, redis.Z{ Score: score, Member: member, }) } err := db.ZAdd(ctx, key, zsetEntries...).Err() if err != nil { fmt.Printf(\u0026#34;Error adding values to sorted set key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;bitmaps\u0026#34;: bitmapsValues, ok := dataValue.(int64) if !ok { fmt.Printf(\u0026#34;Invalid bitmaps values for key %s\\n\u0026#34;, key) continue } err := db.SetBit(ctx, key, 0, int(bitmapsValues)).Err() if err != nil { fmt.Printf(\u0026#34;Error setting bitmaps values for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;hyperloglogs\u0026#34;: hyperloglogsValues, ok := dataValue.([]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid hyperloglogs values for key %s\\n\u0026#34;, key) continue } err := db.PFAdd(ctx, key, hyperloglogsValues...).Err() if err != nil { fmt.Printf(\u0026#34;Error setting hyperloglogs values for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;geospatial\u0026#34;: geospatialValues, ok := dataValue.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid geospatial values for key %s\\n\u0026#34;, key) continue } var geoLocation []*redis.GeoLocation for member, coordinates := range geospatialValues { coordinateMap, ok := coordinates.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid geospatial coordinate for key %s\\n\u0026#34;, key) continue } longitudeStr, ok := coordinateMap[\u0026#34;longitude\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid geospatial longitude for key %s\\n\u0026#34;, key) continue } latitudeStr, ok := coordinateMap[\u0026#34;latitude\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid geospatial latitude for key %s\\n\u0026#34;, key) continue } longitude, err := strconv.ParseFloat(longitudeStr, 64) if err != nil { fmt.Printf(\u0026#34;Error parsing longitude for key %s: %v\\n\u0026#34;, key, err) continue } latitude, err := strconv.ParseFloat(latitudeStr, 64) if err != nil { fmt.Printf(\u0026#34;Error parsing latitude for key %s: %v\\n\u0026#34;, key, err) continue } geoLocation = append(geoLocation, \u0026amp;redis.GeoLocation{ Name: member, Longitude: longitude, Latitude: latitude, }) } err := db.GeoAdd(ctx, key, geoLocation...).Err() if err != nil { fmt.Printf(\u0026#34;Error adding values to geospatial key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;bitfield\u0026#34;: bitfieldValues, ok := dataValue.(string) if !ok { fmt.Printf(\u0026#34;Invalid bitfield values for key %s\\n\u0026#34;, key) continue } err := db.BitField(ctx, key, bitfieldValues).Err() if err != nil { fmt.Printf(\u0026#34;Error setting bitfield values for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;stream\u0026#34;: streamEntries, ok := dataValue.([]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid stream entries for key %s\\n\u0026#34;, key) continue } db.Del(ctx, key) // è¿™é‡Œéœ€è¦æ ¹æ®æƒ…å†µåˆ¤æ–­æ˜¯å¦åº”è¯¥å…ˆåˆ æ‰ å¯¹åº”çš„key ä¸ç„¶åŸæ¥keyå†…streamæœ‰æ›´å¤§çš„idå¤§çš„æ•°æ®çš„æƒ…å†µä¸‹æ— æ³•å†™å…¥æ›´å°idçš„æ•°æ® for _, entry := range streamEntries { entryMap, ok := entry.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid stream entry for key %s\\n\u0026#34;, key) continue } streamID, ok := entryMap[\u0026#34;ID\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid stream ID for key %s\\n\u0026#34;, key) continue } streamValues, ok := entryMap[\u0026#34;Values\u0026#34;].(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid values for stream entry with ID %s\\n\u0026#34;, streamID) continue } err := db.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: key, ID: streamID, Values: streamValues, }).Err() if err != nil { fmt.Printf(\u0026#34;Error adding entry to stream key %s: %v\\n\u0026#34;, key, err) } } default: fmt.Printf(\u0026#34;Unsupported data type for key %s\\n\u0026#34;, key) } } } func back_redis_db(db redis.UniversalClient) (jsonData []byte) { // è·å–æ‰€æœ‰é”® keys := db.Keys(ctx, \u0026#34;*\u0026#34;).Val() // åˆ›å»ºä¸€ä¸ªç©ºçš„ map ç”¨äºå­˜å‚¨ç»“æœ result := make(map[string]interface{}) // éå†é”®å¹¶è·å–å¯¹åº”çš„å€¼å’Œç±»å‹ for _, key := range keys { dataType := db.Type(ctx, key).Val() // æ ¹æ®ä¸åŒçš„æ•°æ®ç±»å‹è·å–å€¼ switch dataType { case \u0026#34;string\u0026#34;: value := db.Get(ctx, key).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: value, } case \u0026#34;list\u0026#34;: values := db.LRange(ctx, key, 0, -1).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: values, } case \u0026#34;hash\u0026#34;: values := db.HGetAll(ctx, key).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: values, } case \u0026#34;set\u0026#34;: values := db.SMembers(ctx, key).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: values, } case \u0026#34;zset\u0026#34;: values := db.ZRange(ctx, key, 0, -1).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: values, } case \u0026#34;bitmaps\u0026#34;: value := db.GetBit(ctx, key, 0).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: value, } case \u0026#34;hyperloglogs\u0026#34;: value := db.PFCount(ctx, key).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: value, } case \u0026#34;geospatial\u0026#34;: values := db.GeoRadius(ctx, key, 0, 0, \u0026amp;redis.GeoRadiusQuery{Unit: \u0026#34;km\u0026#34;}).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: values, } case \u0026#34;bitfield\u0026#34;: value := db.BitField(ctx, key, \u0026#34;GET\u0026#34;, \u0026#34;u4\u0026#34;, \u0026#34;0\u0026#34;).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: value, } case \u0026#34;stream\u0026#34;: streamValues := db.XRange(ctx, key, \u0026#34;-\u0026#34;, \u0026#34;+\u0026#34;).Val() result[key] = map[string]interface{}{ \u0026#34;type\u0026#34;: dataType, \u0026#34;value\u0026#34;: streamValues, } default: fmt.Printf(\u0026#34;Unsupported data type for key %s\\n\u0026#34;, key) } } // å°†ç»“æœè½¬æ¢ä¸º JSON æ ¼å¼ jsonData, err := json.MarshalIndent(result, \u0026#34;\u0026#34;, \u0026#34; \u0026#34;) if err != nil { fmt.Println(\u0026#34;Error marshalling data to JSON:\u0026#34;, err) return } return } å¯¼å…¥å¯¼å‡ºåˆ°mysql æœªç»æµ‹è¯•ï¼Œä¹Ÿå®åœ¨æ²¡å¿…è¦\næ•°æ®åº“ç»“æ„\n1 2 3 4 5 6 7 CREATE TABLE mytable ( id INT AUTO_INCREMENT PRIMARY KEY, `key` VARCHAR(255) NOT NULL, `type` VARCHAR(50) NOT NULL, value VARCHAR(255), created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); ä»£ç éƒ¨åˆ†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 func back_redis_db() { // æŸ¥è¯¢MySQLä¸­çš„æ•°æ® rows, err := mysqlDb.Query(\u0026#34;SELECT key, type, value FROM mytable\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error querying MySQL:\u0026#34;, err) return } defer rows.Close() // éå†æŸ¥è¯¢ç»“æœå¹¶æ ¹æ®ç±»å‹å°†æ•°æ®å­˜å‚¨åˆ°Redis for rows.Next() { var key, dataType string var value sql.NullString err := rows.Scan(\u0026amp;key, \u0026amp;dataType, \u0026amp;value) if err != nil { fmt.Println(\u0026#34;Error scanning MySQL rows:\u0026#34;, err) continue } if !value.Valid { fmt.Printf(\u0026#34;Invalid value for key %s\\n\u0026#34;, key) continue } switch dataType { case \u0026#34;string\u0026#34;: err := redisDb.Set(ctx, key, value.String, 0).Err() if err != nil { fmt.Printf(\u0026#34;Error setting value for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;list\u0026#34;: // æŸ¥è¯¢MySQLä¸­çš„åˆ—è¡¨å€¼å¹¶å°†å…¶å­˜å‚¨åˆ°Redis listValues, err := mysqlDb.Query(\u0026#34;SELECT value FROM mytable WHERE key = ? AND type = ?\u0026#34;, key, dataType) if err != nil { fmt.Printf(\u0026#34;Error querying list values for key %s: %v\\n\u0026#34;, key, err) continue } defer listValues.Close() var values []interface{} for listValues.Next() { var v string err := listValues.Scan(\u0026amp;v) if err != nil { fmt.Printf(\u0026#34;Error scanning list values for key %s: %v\\n\u0026#34;, key, err) continue } values = append(values, v) } err = redisDb.RPush(ctx, key, values...).Err() if err != nil { fmt.Printf(\u0026#34;Error pushing values to list key %s: %v\\n\u0026#34;, key, err) } // å…¶ä»–æ•°æ®ç±»å‹çš„å¤„ç†ç±»ä¼¼... default: fmt.Printf(\u0026#34;Unsupported data type for key %s\\n\u0026#34;, key) } } err = rows.Err() if err != nil { fmt.Println(\u0026#34;Error iterating MySQL rows:\u0026#34;, err) } } func restore_mysql_db(jsonData []byte) { // è§£æå¯¼å‡ºçš„ JSON æ•°æ® var importedData map[string]interface{} err := json.Unmarshal(jsonData, \u0026amp;importedData) if err != nil { fmt.Println(\u0026#34;Error unmarshalling JSON data:\u0026#34;, err) return } // éå†å¯¼å…¥çš„æ•°æ®å¹¶æ ¹æ®ç±»å‹å°†å…¶å­˜å‚¨åˆ°MySQL for key, value := range importedData { dataMap, ok := value.(map[string]interface{}) if !ok { fmt.Printf(\u0026#34;Invalid data format for key %s\\n\u0026#34;, key) continue } dataType, ok := dataMap[\u0026#34;type\u0026#34;].(string) if !ok { fmt.Printf(\u0026#34;Invalid data type for key %s\\n\u0026#34;, key) continue } dataValue, ok := dataMap[\u0026#34;value\u0026#34;] if !ok { fmt.Printf(\u0026#34;Invalid data value for key %s\\n\u0026#34;, key) continue } switch dataType { case \u0026#34;string\u0026#34;: _, err = mysqlDb.Exec(\u0026#34;INSERT INTO mytable (key, type, value) VALUES (?, ?, ?)\u0026#34;, key, dataType, dataValue.(string)) if err != nil { fmt.Printf(\u0026#34;Error inserting value for key %s: %v\\n\u0026#34;, key, err) } case \u0026#34;list\u0026#34;: values := dataValue.([]interface{}) for _, v := range values { _, err = mysqlDb.Exec(\u0026#34;INSERT INTO mytable (key, type, value) VALUES (?, ?, ?)\u0026#34;, key, dataType, v.(string)) if err != nil { fmt.Printf(\u0026#34;Error inserting value for key %s: %v\\n\u0026#34;, key, err) } } // å…¶ä»–æ•°æ®ç±»å‹çš„å¤„ç†ç±»ä¼¼... default: fmt.Printf(\u0026#34;Unsupported data type for key %s\\n\u0026#34;, key) } } } ","date":"2023-08-18T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/mq/redis-json/","title":"redisé›†ç¾¤ä¸€é”®å¯¼å…¥åˆ°jsonä»¥åŠ ä»jsonå¯¼å‡º"},{"content":"æœ¬æ–‡åªé’ˆå¯¹ç¬”è€…è‡ªå·±çš„é¡¹ç›®æƒ…å†µï¼Œä¸ä½¿ç”¨redisï¼Œè€Œä¸”ä½¿ç”¨æ›´ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨çš„å­˜åœ¨æœ‰æ›´å……åˆ†çš„ç†ç”±ã€‚\né€‰æ‹©çš„åŸå›  æ€§èƒ½å¤©èŠ±æ¿ ä»æ ‘è“æ´¾åˆ°å¿—å¼ºï¼Œredisæ˜¯æ‰€æœ‰mqæœåŠ¡å™¨çš„å¤©èŠ±æ¿ã€‚\nè‡ªå·±æ‰‹æ’¸çš„ç®€å•hash mapæŸ¥è¯¢ ä¸šåŠ¡æ·»åŠ ä¸€äº› éƒ½æ¯”ä¸è¿‡redisï¼Œè€Œä¸”åœ¨å¤§é‡æ•°æ®çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢å’Œæ“ä½œé€Ÿåº¦æ›´æ˜¯ç›´çº¿ä¸‹æ»‘ã€‚æƒ³åšåˆ°æè‡´çš„æ€§èƒ½ä¼˜åŒ–éœ€è¦å¤§é‡ç¹é‡å·¥ä½œï¼Œä¸å¦‚ç›´æ¥æ‹¿æ¥å°±ç”¨\nç®€å•çµæ´»çš„é«˜å¯ç”¨æ€§é›†ç¾¤ å“¨å…µæ¨¡å¼å’Œä¸»ä»æ¨¡å¼ä¹Ÿä¸æ˜¯ä¸èƒ½ç”¨ã€‚\ncluster è™½ç„¶å¿…é¡»è¦æœ€å°‘3ä¸»3ä»æ‰èƒ½å®ç°é«˜å¯ç”¨æ€§ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“æ»¡è¶³ã€‚3å°äº‘æœåŠ¡å™¨å³å¯ äº’ä¸ºä¸»ä» å¹¶é›†ç¾¤ï¼Œå¯ä»¥åœ¨çº¿æ‰©å®¹ï¼Œåœ¨çº¿æ”¶ç¼©ï¼Œç®€å•çµæ´»å¯é ã€‚\nä½æµé‡æ¶ˆè€—çš„è½»é‡åŒ–åè®® redis æ˜¯åŸºäºtcpçš„ç®€å•æ–‡æœ¬åè®®ï¼Œæ²¡æœ‰åè®®å¤´ï¼Œæ²¡æœ‰æ ¡éªŒç ï¼Œæ²¡æœ‰å°è£…ï¼Œæ¯ä¸€ä¸ªå­—èŠ‚éƒ½æ˜¯æœ‰æ•ˆå¿…é¡»çš„æ•°æ®ï¼Œå¤§å¤§èŠ‚çœæœåŠ¡å™¨å¸¦å®½èµ„æº\næ´»è·ƒçš„è€é¡¹ç›®è‰¯å¥½çš„å‘ä¸Šå…¼å®¹ redisè‡³ä»Šä¾æ—§ç»´æŒè¾ƒä¸ºé¢‘ç¹çš„åŠŸèƒ½å’Œæ€§èƒ½æ›´æ–°\nå…ä¸­é—´ä»¶ 1ã€å·¥ä½œé‡å° æœåŠ¡å™¨ä¸Šä¸éœ€è¦å†è¿è¡Œå¤ªå¤šç¨‹åºï¼Œå¼€å‘å·¥ä½œå°å¾ˆå¤šï¼ˆåœ¨å¤§å¹¶å‘ç¯å¢ƒä¸€ä¸ªä¸­é—´ä»¶ çœŸçš„å¾ˆéœ€è¦æ—¶é—´è°ƒè¯•ä¼˜åŒ–ï¼‰\n2ã€èŠ‚çœæœåŠ¡å™¨å¼€æ”¯\næ€§èƒ½ä¸‹é™é«˜ å›¢é˜Ÿé‡Œé¢çš„å®ä¹ ç”Ÿï¼Œåªè¦ä¸è®©ä»–ç¢°redisæ‰©å±•moduleçš„ä»£ç ï¼Œå†çƒ‚çš„ä»£ç ä¹Ÿä¸ä¼šå½±å“æ•´ä½“è¿è¡Œ\nä¸ç”¨æ›´ä¸“ä¸šçš„mqçš„åŸå›  ç°æœ‰çš„ä¸»æµmqæœåŠ¡ï¼Œ æ€§èƒ½éƒ½ä½äºredis,åœ¨é›†ç¾¤æ‰©å±•ä¸Šä¹Ÿéƒ½è¿œè¿œä¸å¦‚redisçµæ´»å’Œé«˜æ•ˆã€‚\néƒ¨åˆ†mqè‡ªå¸¦çš„æ¶ˆæ¯æŒä¹…åŒ–å‚¨å­˜ æ€§èƒ½æ›´æ˜¯ä¸€èˆ¬ï¼Œå¤–éƒ¨å‚¨å­˜æ–¹å¼ å¤šäº†ä¸€å±‚è½¬æ¢ã€‚å¾ˆå¤šmqå¯èƒ½å·²ç»å¾ˆè½»é‡ï¼Œä½†æ˜¯ç›¸å¯¹ redis è¿˜æ˜¯å·®äº†ä¸€äº›ã€‚ Kafka RocketMQ Apollo ZeroMQ ActiveMQ RabbitMQ emqx Mosquitto æƒ…å†µå·®ä¸å¤šï¼Œä¸å±•å¼€ç»†è¯´\né›†ç¾¤æ–¹é¢ï¼Œè¦ä¹ˆæ­»æ¿å¤æ‚ä¸èƒ½çƒ­æ‰©å®¹æ”¶ç¼©ï¼Œè¦ä¹ˆé›†ç¾¤åå•æœºæ€§èƒ½ä¼šæ‰\nä¸ä½¿ç”¨ loTDBçš„åŸå›  æ²¡æœ‰çœ‹åˆ°loTDBçš„å‹æµ‹æ•°æ®ï¼Œè‡ªå·±ç®€å•æµ‹è¯•è¿‡åæ€§èƒ½ä¸ç†æƒ³\nä¸è‡ªå·±å¼€å‘ç§æœ‰åè®®çš„åŸå›  ç§æœ‰åè®® å¯ä»¥çµæ´»ä½¿ç”¨ tcp/udp åŒ…æ‹¬ä¸Šå±‚websocketã€‚ä½†æ˜¯é›†ç¾¤éƒ¨ç½² è¿˜æœ‰å¤§é‡mapçš„æ“ä½œ å¼€å‘å·¥ä½œé‡æ¯”è¾ƒå¤§ã€‚\nå¦å¤– golangåœ¨ å¤§å¹¶å‘æƒ…å†µä¸‹ èµ„æºå ç”¨è¦æ¯”Cé«˜å¾ˆå¤šï¼Œå¼•å…¥epollå¯ä»¥é™ä½ä¸€äº›ï¼Œä½†æ˜¯å¼€å‘å·¥ä½œé‡è¿˜æ˜¯ä¸ä½ã€‚\nç‰©è”ç½‘è®¾å¤‡é€šè®¯è¦æ±‚ åŸºæœ¬ åŒ…æ‹¬å¤šæ•°ç‰©è”ç½‘è®¾å¤‡çš„çš„è¦æ±‚ æˆ‘æ‰‹ä¸Šçš„é¡¹ç›®æƒ…å†µæœ‰ä»¥ä¸‹è¦æ±‚ï¼š\nä½æˆæœ¬ã€å¯å¿«é€Ÿæ‰©å±•ã€é«˜å¯ç”¨æ€§é›†ç¾¤ éƒ¨åˆ†åŠŸèƒ½è¦æ±‚æ¶ˆæ¯å¿…é¡»é€è¾¾ï¼šä¾‹å¦‚ æŠ¥è­¦ä¿¡æ¯ éƒ¨åˆ†æ¶ˆæ¯ è¦æ±‚ åªå¯ä»¥é€è¾¾1æ¬¡ï¼Œä¸å¯é‡å¤é€è¾¾ï¼šä¾‹å¦‚ æé†’æ¶ˆæ¯ éƒ¨åˆ†æ•°æ®å…è®¸å°‘é‡ä¸¢å¤±: ä¾‹å¦‚è®¾å¤‡å®æ—¶é‡‡é›†çš„æ•°æ® è®¾å¤‡24å°æ—¶å¼€æœºï¼Œä¸åœä¸ŠæŠ¥æ•°æ®ã€‚å¯¹æœåŠ¡å™¨å¤„ç†å’Œè®°å½•èƒ½åŠ›æœ‰ä¸€å®šè¦æ±‚ï¼ˆæœ€ä¸»è¦æ˜¯æœåŠ¡å™¨æˆæœ¬è¦ä½ï¼‰ è®¾å¤‡ç¦»çº¿é€šçŸ¥å’ŒæŠ¥è­¦ è®¾å¤‡å’Œç”¨æˆ·appå¯ä»¥ç›´æ¥è¿›è¡Œé€šè®¯ï¼Œå½“ç„¶ è¿™é‡ŒæŒ‡çš„è¿˜æ˜¯æœåŠ¡å™¨è½¬å‘æ¶ˆæ¯ qpsçš„ä¸¥æ ¼é™åˆ¶ï¼Œé˜²æ­¢æœåŠ¡å™¨è¢«æ‹‰å® éƒ¨åˆ†åŠŸèƒ½éœ€è¦ tlsåŠ å¯†é€šè®¯ æ¶ˆæ¯éœ€è¦é€‰æ‹©æ€§çš„æŒä¹…åŒ–å’Œè½¬å­˜ tcpå’Œudp å›½å†…ç¯å¢ƒä¸‹ éƒ¨åˆ†åœ°åŒºéƒ¨åˆ†æ—¶æ®µudp ä¸¢åŒ…ä¸¥é‡ã€‚å¦å¤–udpæ¯æ¬¡éƒ½éœ€è¦å¸¦ä¸€å®šå­—æ•°çš„tokenä¿¡æ¯ è™½ç„¶å‡å°‘äº†æ¡æ‰‹ç¯èŠ‚ï¼Œä½†æ˜¯å¯¹äº å°‘é‡é¢‘ç¹çš„æ•°æ®é€šè®¯ å°±ä¼šæ˜æ˜¾å¢åŠ æœåŠ¡å™¨æµé‡å¼€æ”¯\nwsåè®®ï¼Œæœ‰æ›´å¥½ï¼Œæ²¡æœ‰å¯ä»¥æ¥å—ï¼Œæ¯•ç«Ÿç‰©è”ç½‘è®¾å¤‡ç›´æ¥tcp udpæ˜¯æ²¡é—®é¢˜çš„ã€‚\nè‡ªå®šä¹‰åè®®å’Œç°æœ‰åè®®çš„é€‰æ‹© è‡ªå®šä¹‰åè®®tcp/udp è‡ªç„¶æ˜¯æ›´å¥½ï¼Œä½†æ˜¯ä¹‹å‰çš„é¡¹ç›®å¼€å‘ç»éªŒè®©æˆ‘æ˜ç™½ è¿˜æ˜¯è¦æƒè¡¡åˆ©å¼Šä¸€ä¸‹ã€‚\næ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ– è€ƒè™‘åˆ°æœåŠ¡å™¨èµ„æºçš„å ç”¨ï¼Œjson è‚¯å®šæ˜¯æœ€ä¸å¯å–çš„ã€‚msgpackååºåˆ—åŒ–æ€§èƒ½è¿˜å¯ä»¥ï¼Œä½†æ˜¯æ¯”jsonå¹¶ä¸èƒ½é™ä½å¤ªå¤šå¸¦å®½ã€‚ æ‰€ä»¥å¼€å‘é˜¶æ®µç”¨jsonæˆ–è€…msgpack,åæœŸè¿˜æ˜¯è¦æ¢æˆprotobufã€‚\nç”¨rediså®ç°ä¸Šé¢çš„åŠŸèƒ½çš„é€ä¸€è¯´æ˜ å› ä¸ºredis æœ¬èº«ä¸é€‚åˆä½œä¸ºé¢å‘ç”¨æˆ·çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œæ‰€ä»¥æœ‰ä¸€äº›é—®é¢˜éœ€è¦é¢å¤–å¤„ç†ã€‚\nä½¿ç”¨redis6.0 ä»¥åçš„tls è§£å†³åŠ å¯†é€šè®¯ åŠ¡å¿…ä½¿ç”¨redis7.0ä»¥åç‰ˆæœ¬çš„ acl ç²¾ç¡®æ§åˆ¶åˆ°keyå’ŒæŒ‡ä»¤ ä½¿ç”¨stream å¤„ç† å¿…åˆ°è¾¾çš„æ¶ˆæ¯ å’Œ ä¹‹å‘é€ä¸€æ¬¡çš„æ¶ˆæ¯ ä½¿ç”¨sub å¤„ç†ä¸€æ¬¡æ€§ä¸éœ€è¦å‚¨å­˜ å¯ä»¥å®¹è®¸ä¸¢å¤±çš„æ¶ˆæ¯ rediså¼€å¯æ•°æ®æŒä¹…åŒ–ï¼Œä½†æ˜¯åç«¯éœ€è¦å®šæœŸæŠŠå†å²æ¶ˆæ¯è½¬å‚¨å­˜åˆ°sqlï¼Œé˜²æ­¢rediså†…çš„å†å²æ¶ˆæ¯å ç”¨å†…å­˜å¤šå¤§ é›†ç¾¤ cluster è§£å†³é«˜å¯ç”¨æ€§å’Œçµæ´»æ‰©å±•æ€§ redis é›†ç¾¤å®¢æˆ·ç«¯ åœ¨ç‰©è”ç½‘è®¾å¤‡ å’Œ appç«¯ socket æ‰‹æ’¸ã€‚ä½¿ç”¨{key}æ ‡è¯†ç¬¦ï¼ŒæŠŠå•ä¸€ä¸ªç‰©è”ç½‘è®¾å¤‡çš„æ•°æ®å›ºå®šåˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå³å¯ï¼Œç„¶åå®¢æˆ·ç«¯è‡ªåŠ¨ä»ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å¾—åˆ°è´Ÿè´£çš„èŠ‚ç‚¹åœ°å€ã€‚ è®¾å¤‡ç¦»çº¿é€šçŸ¥ï¼š åç«¯ç¨‹åº è¿åˆ°redis å®šæ—¶æ‰«æ å®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ï¼Œæ‰¾å‡ºåº”åœ¨çº¿ä½†æ˜¯æœªè¿æ¥çš„å®¢æˆ·ç«¯ å…³äºæƒé™æ§åˆ¶å’Œé˜²æ¶æ„ç”¨æˆ· keyè®¿é—®æƒé™å’ŒæŒ‡ä»¤é™åˆ¶ï¼šä½¿ç”¨redis7.0ä»¥åç‰ˆæœ¬çš„ acl é™åˆ¶ ç‰©è”ç½‘å®¢æˆ·ç«¯å¯ç”¨æŒ‡ä»¤å’Œå¯å†™key åç«¯ç¨‹åº é€šè¿‡æ‰«ærediså®¢æˆ·ç«¯ä¿¡æ¯ï¼Œæ‹‰é»‘é¢‘ç¹å¤šæ¬¡è¿æ¥çš„ç”¨æˆ· key å†…å®¹å¤§å°é™åˆ¶ï¼šç®€å•çš„æ–¹æ¡ˆ ä¾æ—§æ˜¯åç«¯ç¨‹åºå®šæœŸæ‰«æbigkeyã€‚æˆ‘çš„æ–¹æ¡ˆï¼Œè‡ªå·±å¼€å‘ä¸€ä¸ªç®€å•çš„redis æ¨¡å— æ¥é™åˆ¶ï¼Œæ¯”å¦‚ ç”¨ lyh.get é™åˆ¶å®¢æˆ·ç«¯è¯·æ±‚å¤ªå¤§çš„å­—ç¬¦ä¸² key lyh.seté™åˆ¶ å†™å…¥å¤ªå¤§çš„æ•°æ® å®¢æˆ·ç«¯qpsé™åˆ¶ï¼š1æ˜¯åç«¯å®šæ—¶æ‰«æ hot key æ‰¾åˆ°å¼‚å¸¸ç”¨æˆ· æ‹‰é»‘ 2ã€è‡ªå®šä¹‰æ¨¡å— åˆ›å»ºå…¨å±€hash mapè®°å½•ç”¨æˆ·æ“ä½œé¢‘ç‡ è¿›è¡Œé™åˆ¶ å…¶ä»–å®‰å…¨æªæ–½ æ¯•ç«Ÿredis ä¸æ˜¯è®¾è®¡ä¸ºäº†é¢å‘éå¯ä¿¡ç”¨æˆ·çš„mqæœåŠ¡å™¨ã€‚ ä¸€äº›é˜²æ‚£æªæ–½è¿˜æ˜¯æ˜¯è¦åšä¸€ä¸‹ã€‚\né…ç½® maxmemory-clients å¹¶ç»å¸¸ç›‘æ§ tlså’Œæ˜æ–‡tcp éƒ½ä½¿ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨tls,åœ¨è´Ÿè½½è¿‡å¤§æƒ…å†µä¸‹ï¼Œä¸´æ—¶åˆ‡æ¢åˆ°æ˜æ–‡ï¼Œå¹¶ç´§æ€¥æ‰©å®¹é›†ç¾¤ã€‚ ä¸ºäº†é¿å…å¯èƒ½çš„å®‰å…¨éšæ‚£ï¼Œå®¢æˆ·ç«¯åº”è¯¥é¢„ç•™ä¸€ç»„redisæœåŠ¡å™¨åœ°å€ï¼š è¿™ç»„æœåŠ¡å™¨ åº”è¯¥ç”±å¯ä»¥è¿‡æ»¤è½¬å‘tcpæŒ‡ä»¤çš„ç¨‹åºåä»£redis åœ¨rediså‡ºç°æœªçŸ¥æ¼æ´çš„æƒ…å†µä¸‹ä½¿ç”¨ å…³é”®æ€§æŒ‡ä»¤ é‡å‘½å æˆ–è€…ç¦ç”¨æ‰ redis ä½¿ç”¨æ™®é€šæ— sshæƒé™çš„ç”¨æˆ·è¿è¡Œ iptableï¼Œé™åˆ¶å•ipè¿æ¥é¢‘ç‡å’Œè¿æ¥æ•° å¦‚æœå†…å®¹å¾ˆé‡è¦ï¼Œè®°å¾—å®šæ—¶å¤‡ä»½ redisçš„æŒä¹…åŒ–æ–‡ä»¶ æ ¸å¿ƒæ•°æ®å¦‚æœä½¿ç”¨rediså‚¨å­˜ï¼Œéœ€è¦å’Œå®¢æˆ·ç«¯å¯ä»¥è®¿é—®çš„redis åšéš”ç¦»ã€‚ ä¼˜ç‚¹ 1ã€é«˜æ€§èƒ½\n2ã€é«˜å¯ç”¨æ€§\n3ã€é«˜æ‰©å±•æ€§\n4ã€æ²¡æœ‰ä¸­é—´ä»¶ï¼Œåªæœ‰åå°æ•´ç†å’Œç»´æŠ¤ä»¶ï¼Œåç«¯å·¥ä½œé‡å¾ˆå°‘\n5ã€ä½æœåŠ¡å™¨æˆæœ¬ï¼Œcpuã€å†…å­˜ã€å¸¦å®½å ç”¨éƒ½ä¸ä¼šå¤ªé«˜\næœ€åè¯´ä¸€ä¸‹ç¼ºç‚¹ åœ¨åµŒå…¥å¼è®¾å¤‡ä¸Š å› ä¸ºæ²¡æœ‰æ”¯æŒredisé›†ç¾¤çš„å®¢æˆ·ç«¯ï¼ˆç”šè‡³éƒ¨åˆ†ç¯å¢ƒä¹Ÿæ²¡æœ‰å¯ç”¨çš„rediså®¢æˆ·ç«¯ï¼‰ï¼Œéœ€è¦è‡ªå·±å®ç° ï¼Œä¸è¿‡å› ä¸ºæˆ‘ä»¬å…è®¸è¿™éƒ¨åˆ†å®¢æˆ·ç«¯èƒ½ä½¿ç”¨æŒ‡ä»¤å¾ˆå°‘ï¼Œæ‰€ä»¥å¹¶ä¸å¤æ‚ã€‚çŸ¥é“redis å°±æ˜¯ å‘½ä»¤+æ¢è¡Œ æ¥é€šè®¯çš„å°±å¤Ÿäº† éœ€è¦redisè‡ªå®šä¹‰æ¨¡å— è¿›è¡Œé«˜é˜¶é˜²æŠ¤ ä¸è¿‡çœŸçš„ä¸éš¾ï¼Œå°¤å…¶æ˜¯å¯¹ç†Ÿæ‚‰Cçš„åµŒå…¥å¼å¼€å‘äººå‘˜ï¼Œå½“ç„¶å…¶ä»–è¯­è¨€ä¹Ÿå¯ä»¥ äº‘å‚å•†çš„redisé€šå¸¸ä¸å¯ä»¥å¯¼å…¥è‡ªå®šä¹‰æ¨¡å— redisç›®å‰ä¸æ”¯æŒwebsocket å®˜æ–¹è¯´åç»­æœ‰å¯èƒ½ä¼šæ”¯æŒï¼Œåœ¨ç¡®å®éœ€è¦çš„æƒ…å†µä¸‹å¯ä»¥èµ·ä¸€ä¸ªåç«¯ç¨‹åºè½¬å‘wsåˆ°redis\ngolangå®ç°çš„ï¼šhttps://dev.leiyanhui.com/golang/ws-redis/\nå®˜æ–¹è¿›å±•å…³æ³¨: https://github.com/orgs/redis/projects/4/views/1?filterQuery=http\u0026pane=issue\u0026itemId=24785018 redisç›®å‰ä¸æ”¯æŒauthéªŒè¯æ¬¡æ•°é™åˆ¶ 8å¹´äº†è¿˜æ²¡æ·»åŠ çš„åŠŸèƒ½ ï¼Œ8å¹´åçš„ä»Šå¤©æˆ‘ä»¬ä¾æ—§éœ€è¦è‡ªå·±åœ¨é˜²ç«å¢™é™åˆ¶è¿‡æ»¤authæŒ‡ä»¤\nå®˜æ–¹è¿›å±•å…³æ³¨ï¼šhttps://github.com/redis/redis/pull/1241 redisç›®å‰ä¸èƒ½é¿å…å•ä¸€ç”¨æˆ·å¤šæ¬¡è¿æ¥ï¼Œéœ€è¦è‡ªå·±åç«¯æ‰«æï¼Œå®˜æ–¹æ²¡æœ‰æ”¯æŒè®¡åˆ’,æš‚æ—¶å¯ä»¥ç”¨iptableç•¥å¾®ä¸´æ—¶é™åˆ¶ å’Œåå°æ‰«æã€‚æˆ‘å·²ç»è‡ªå·±ä¿®æ”¹å®Œæˆredisçš„è‡ªåŠ¨ç¦»çº¿é‡å¤ç™»é™†çš„ç”¨æˆ· ç›®å‰è¿è¡Œè‰¯å¥½ã€‚ redisç›®å‰ä¸èƒ½å°½å¿«è‡ªåŠ¨è¸¢å‡º æ²¡æœ‰è¿›è¡Œ auth çš„ç©ºè¿æ¥ ï¼Œæš‚æ—¶åªèƒ½è‡ªå·±åœ¨iptableé™åˆ¶ï¼Œä¸è¿‡æ ¹æ®æˆ‘çš„ä½¿ç”¨ å¤šæ•°mqæœåŠ¡å™¨ éƒ½ä¸æ”¯æŒã€‚ redis aclçš„æŒä¹…åŒ–åœ¨rdb/aofæ–‡ä»¶ä¸­ï¼Œç›®å‰æ˜¯å¯ä»¥æ‰‹åŠ¨ä¿æŒåˆ°aclæ–‡æœ¬æ–‡ä»¶çš„ï¼Œä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªpull æ˜¯ ç­‰å¾…æ‰¹å‡† çŠ¶æ€ https://github.com/redis/redis/pull/10369 redis auth æ²¡æœ‰é˜²æ­¢ç©·ä¸¾çš„æªæ–½ ç›®å‰æš‚æ—¶æ²¡æœ‰è§£å†³åŠæ³•ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ä¸€ç§’å†…å‘èµ·å‡ ä¸‡æ¬¡authè¯·æ±‚ï¼Œæ‹–å®redisï¼Œåªèƒ½ç­‰å¾…å®˜æ–¹æ›´æ–° https://github.com/redis/redis/pull/11554 æƒè¡¡å å› ä¸ºç°æœ‰appå’Œå°ç¨‹åºç«¯ï¼Œä¾èµ–http/wsåè®®ï¼Œä¸èƒ½ç›´æ¥è¿æ¥redis æ‰€ä»¥appç«¯æ˜¯æ— æ³•ç›´æ¥å¼•å…¥ï¼Œé€šè¿‡æœåŠ¡å™¨ç«¯å£æ­å»ºwsè½¬å‘åˆ°redisåˆå†æ¬¡å¼•å…¥äº†ä¸­é—´ä»¶ auth æŒ‡ä»¤æ²¡æœ‰ä½¿ç”¨é™åˆ¶ï¼Œä»¥åŠ authä¹‹å‰ä¸èƒ½é€šè¿‡è‡ªå®šä¹‰æ¨¡å—çš„æ–¹å¼æ¥æ›¿ä»£auth,æ‰€ä»¥å¯¼è‡´æ­¤é—®é¢˜ é™¤äº†ä¿®æ”¹redisæºç å’Œç­‰å¾…å®˜æ–¹æ›´æ–°ä¹‹å¤–ï¼Œå¯ä»¥é€šè¿‡é˜²ç«å¢™é€‚å½“é˜²æ­¢ä¸€ä¸‹ï¼Œç„¶åæš‚æ—¶æ— è§£ï¼ˆäº‘å‚å•†çš„å…¬ç½‘redisä¸€èˆ¬ç›´æ¥é™åˆ¶äº†æœ€å¤§è¿æ¥æ•°ï¼‰\n","date":"2023-08-18T05:14:20+08:00","permalink":"https://dev.leiyanhui.com/mq/redis-mq/","title":"redis æ›¿ä»£ mqtt å’Œè‡ªå®šä¹‰åè®® ä½œä¸ºç‰©è”ç½‘è®¾å¤‡é€šè®¯çš„ å¯è¡Œæ€§"},{"content":"æœ‰æ—¶å€™ æˆ‘ä»¬çš„é›†ç¾¤å¯èƒ½åªæ˜¯ä¸ºäº†é«˜å¯ç”¨ï¼Œæ•°æ®å¹¶ä¸æ˜¯é‚£ä¹ˆå¤§ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ç”¨aof rdp ç›´æ¥å¯¼å‡ºè™½ç„¶æ…¢ä¸€äº›ä½†æ˜¯jsonå¯èƒ½æ›´ç›´è§‚\nredis-dump ä¸å¥½ç”¨ï¼Œæ‰€ä»¥ä¸º è‡ªå·±å†™äº†ä¸€ä¸ª ï¼š https://dev.leiyanhui.com/mq/redis-json/\nå®‰è£… åŸºäºdebian12\n1 2 sudo apt install ruby ruby-dev gcc sudo gem install redis-dump ç¡®å®šèŠ‚ç‚¹åˆ†åˆ«æƒ…å†µ 1 CLUSTER NODES æš‚åœä½ redisçš„å†™å…¥ä¸šåŠ¡ æˆ–è€…ä½ å®¹è®¸éƒ¨åˆ†ä¸¢å¤±çš„è¯ï¼Œä¹Ÿæ— æ‰€è°“\nåˆ†åˆ«å¯¼å‡ºæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ® 1 2 3 4 redis-dump -u:ut97WiD9SvUQtJ@127.0.0.1:6001 \u0026gt; /tmp/6001.json redis-dump -u:ut97WiD9SvUQtJ@127.0.0.1:6001 -d 0 \u0026gt; 6001.json redis-dump -u:ut97WiD9SvUQtJ@127.0.0.1:6002 -d 0 \u0026gt; 6002.json redis-dump -u:ut97WiD9SvUQtJ@127.0.0.1:6003 -d 0 \u0026gt; 6003.json å¦‚æœè¿è¡Œçš„æ—¶å€™å‡ºé”™ï¼Œå¯èƒ½éœ€è¦å®‰è£…rvmå’Œæ–°ç‰ˆrubyã€‚æˆ–è€…ç›´æ¥ç”¨dockerç‰ˆçš„\næ‰€ä»¥ ã€‚ã€‚ã€‚å¯èƒ½ç›´æ¥ scp å›æ¥æ›´æ–¹ä¾¿\n","date":"2023-08-16T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/redis-dump/","title":"redis æ•´ä¸ªé›†ç¾¤å¯¼å‡ºåˆ°jsonçš„æ–¹æ³•"},{"content":"redisç›®å‰æœ€æ–°ç‰ˆæœ¬7.2 ä¾æ—§ä¸æ”¯æŒwebsocket.ä¸è¿‡çœ‹æ ¸å¿ƒå›¢é˜Ÿå·²ç»å‡†å¤‡å¼€å§‹æ”¯æŒã€‚\nwebsocket æ›´å®¹æ˜“éƒ¨ç½²åˆ°servlessç­‰åœºæ™¯ï¼Œä¹Ÿæ›´åŠ å®¹æ˜“é€šè¿‡cdn é˜²ç«å¢™ä¹‹ç±»çš„ç®¡ç†ã€‚\nç”¨golangå¯ä»¥ç®€å•çš„åå‘ä»£ç†è¿‡å»ã€‚\nå› ä¸ºé€»è¾‘ç®€å•ï¼Œæ‰€ä»¥æ€§èƒ½è¿˜æ˜¯å¾ˆå¼ºçš„ã€‚åªæ˜¯å¢åŠ äº†å¤šäºçš„ç½‘ç»œçš„å¼€æ”¯ã€‚åœ¨ç›®å‰æƒ…å†µä¸‹ è¿‡æ¸¡ä½¿ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚\nå¦å¤–æœ‰ä¸€ä¸ªå›½äººå†™çš„ ç”¨goå®ç°çš„redisï¼š https://github.com/HDT3213/godis å¯ä»¥ç®€å•çš„ä¿®æ”¹ä¸ºws\nä¸è¿‡ç›®å‰è¿˜ä¸æ”¯æŒ steam ã€‚\nå½“ç„¶ç›®å‰æ²¡æœ‰å¯ç”¨çš„ å®¢æˆ·ç«¯ï¼Œéœ€è¦è‡ªå·±æ‰‹æ’¸ã€‚ä½†æ˜¯å‘½ä»¤ç›´æ¥è½¬å‘æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å®ç°ï¼Œä½ ä¹Ÿå¯ä»¥å®ŒæˆAUTHéƒ¨åˆ† æ–¹ä¾¿ä½¿ç”¨aclã€‚\nè¿™æ ·åä»£å å¯¹ ä¸æ”¯æŒ é›†ç¾¤çš„å®¢æˆ·ç«¯ ä¹Ÿéå¸¸å‹å¥½\nå®¢æˆ·ç«¯æµ‹è¯•\n1 2 3 4 \u0026gt; wscat -c ws://localhost:8080/websocket Connected (press CTRL+C to quit) \u0026gt; set wstest 123 \u0026lt; OK 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;github.com/gorilla/websocket\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) var redisClient *redis.ClusterClient func init() { // åˆå§‹åŒ–Redisé›†ç¾¤å®¢æˆ·ç«¯ redisClient = redis.NewClusterClient(\u0026amp;redis.ClusterOptions{ Addrs: []string{\u0026#34;localhost:6001\u0026#34;, \u0026#34;localhost:6002\u0026#34;, \u0026#34;localhost:6003\u0026#34;, \u0026#34;localhost:6004\u0026#34;, \u0026#34;localhost:6005\u0026#34;, \u0026#34;localhost:6006\u0026#34;}, // æ›¿æ¢ä¸ºçœŸå®çš„RedisèŠ‚ç‚¹åœ°å€ Password: \u0026#34;ut97WiD9SvUQtJ\u0026#34;, // æ›¿æ¢ä¸ºä½ çš„Rediså¯†ç  }) } func main() { http.HandleFunc(\u0026#34;/websocket\u0026#34;, handleWebSocket) log.Fatal(http.ListenAndServe(\u0026#34;:8080\u0026#34;, nil)) } func handleWebSocket(w http.ResponseWriter, r *http.Request) { // å‡çº§HTTPè¿æ¥ä¸ºWebSocketè¿æ¥ upgrader := websocket.Upgrader{} conn, err := upgrader.Upgrade(w, r, nil) if err != nil { log.Println(\u0026#34;WebSocket upgrade failed:\u0026#34;, err) return } defer conn.Close() for { // è¯»å–WebSocketæ¶ˆæ¯ _, msg, err := conn.ReadMessage() if err != nil { log.Println(\u0026#34;WebSocket read failed:\u0026#34;, err) break } // è½¬å‘è¯·æ±‚åˆ°Redisé›†ç¾¤ inputArgs := strings.Fields(string(msg)) args := make([]interface{}, len(inputArgs)) for i, v := range inputArgs { args[i] = v } res, err := redisClient.Do(context.Background(), args...).Result() if err != nil { log.Println(\u0026#34;Redis publish failed:\u0026#34;, err) conn.WriteMessage(websocket.TextMessage, []byte(err.Error())) break } fmt.Println(\u0026#34;res\u0026#34;, res) fmt.Printf(\u0026#34;Received message: %s\\n\u0026#34;, msg) // å‘é€å“åº”ç»™WebSocketå®¢æˆ·ç«¯ err = conn.WriteMessage(websocket.TextMessage, []byte(res.(string))) if err != nil { log.Println(\u0026#34;WebSocket write failed:\u0026#34;, err) break } } } ","date":"2023-08-15T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/ws-redis/","title":"redisèµ°websocketçš„æ–¹æ³•"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \u0026#34;fmt\u0026#34; ) var isDebug string = \u0026#34;debug\u0026#34; func main() { fmt.Println(\u0026#34;isDebug \u0026#34;, isDebug) if isDebug == \u0026#34;debug\u0026#34; { fmt.Println(\u0026#34;Debug information\u0026#34;) } } ç¼–è¯‘å‘½ä»¤\n1 2 3 4 # å…è®¸fmt.Println go build -ldflags=\u0026#34;-X main.isDebug=debug\u0026#34; main.go # ä¸å…è®¸fmt.Println go build -ldflags=\u0026#34;-X main.isDebug=å…¶ä»–å­—ç¬¦\u0026#34; main.go -X æ§åˆ¶çš„å¿…é¡»æ˜¯å˜é‡ï¼Œå¸¸é‡ä¸å¯ï¼Œ -X æ§åˆ¶çš„å˜é‡åªèƒ½æ˜¯ string ","date":"2023-07-28T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/build-fmt-print/","title":"golangç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸æ‰“å°fmtçš„æ–¹æ³•/golangæ¡ä»¶ç¼–è¯‘"},{"content":"makefile å‚è€ƒ\n1 2 3 4 5 .PHONY: buildandrun BIN_FILE := $(shell basename $(CURDIR)) buildandrun: go build -ldflags \u0026#39;-s -w -linkmode \u0026#34;external\u0026#34; -extldflags \u0026#34;-static\u0026#34;\u0026#39; -o \u0026#34;${BIN_FILE}\u0026#34; ${BIN_FILE}.go #./\u0026#34;${BIN_FILE}\u0026#34; å…¶ä»–ç›¸å…³å‘½ä»¤\n1 2 @CGO_ENABLED=1 go build -o \u0026#34;${BIN_FILE}\u0026#34; ${BIN_FILE}.go ldd --version # æŸ¥çœ‹ glibc ç‰ˆæœ¬ldd (Debian GLIBC 2.36-9) 2.36 åœ¨é™æ€ç¼–è¯‘çš„æ—¶å€™å¯èƒ½ä¼šæç¤º cgo_unix_cgo.cgo2.c:58: è­¦å‘Šï¼šUsing 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linkin\nå°±æ˜¯å› ä¸ºä½¿ç”¨äº† getaddrinfoå‡½æ•°ã€‚\né™æ€é“¾æ¥åº”ç”¨ç¨‹åºæ—¶ï¼Œä¾èµ–äº glibc çš„å…¶ä»–åŠŸèƒ½å¯èƒ½ä¼šå¯¼è‡´ç±»ä¼¼çš„è­¦å‘Šã€‚ç¡®ä¿åœ¨è¿›è¡Œä»»ä½•æ›´æ”¹ä¹‹å‰ï¼Œä»”ç»†æ£€æŸ¥åº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¾èµ–ï¼Œå¹¶ç¡®ä¿å®ƒä»¬ä¸ç³»ç»Ÿä¸­æä¾›çš„ glibc ç‰ˆæœ¬å…¼å®¹ã€‚\n","date":"2023-07-24T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/build-glibc/","title":"golangé™æ€ç¼–è¯‘ ä»¥åŠglibcç›¸å…³"},{"content":"pulseaudio 1 2 sudo apt install pulseaudio sudo apt install pavucontrol ä¸ç”¨åˆ›å»ºæœåŠ¡ï¼Œå¯ä»¥ç›´æ¥è·Ÿéši3å¯åŠ¨å’Œé‡è½½,i3é…ç½®\n1 exec_always --no-startup-id killall pulseaudio \u0026amp;\u0026amp; pulseaudio pipewire å¯ä»¥ä¸ç”¨å®‰è£…PulseAudio,ç›´æ¥ä½¿ç”¨å®‰è£… pipewireå³å¯\n1 sudo apt install pipewire åŒ…å«ï¼š\nlibpipewire-0.3-0 libpipewire-0.3-common libpipewire-0.3-modules libspa-0.2-modules ibwireplumber-0.4-0 pipewire-bin pipewire-pulse rtkit wireplumber å¯é€‰ï¼š\nlibspa-0.2-bluetooth pulseaudio-utils wireplumber-doc\nå¯èƒ½éœ€è¦ï¼š\n1 apt install wireplumber pipewire-media-session- å¦å¤–è£…ä¸€ä¸ªé¢æ¿å·¥å…·\n1 sudo apt install pavucontrol æ™®é€šç”¨æˆ·å¯åŠ¨\n1 systemctl --user --now enable wireplumber.service æœ‰é—®é¢˜çš„æ—¶å€™é‡å¯ 1 2 sudo systemctl restart pipewire systemctl --user --now enable wireplumber.service å¯¹æ¯” æ—¥å¸¸ä½¿ç”¨æ²¡å•¥æ„Ÿè§‰ï¼Œåœ¨éƒ¨åˆ†ç¡¬ä»¶ä¸Š pulseaudioä¸‹å­˜åœ¨é¢¤éŸ³ï¼ŒpipewireåŒæ ·å­˜åœ¨ã€‚ å¹¶ä¸”pipewireåœ¨è®¾å¤‡é•¿æ—¶é—´å¾…æœºçš„æ—¶å€™ ä¼šæ— å£°éŸ³ï¼Œéœ€è¦é‡å¯æœåŠ¡\n","date":"2023-07-22T00:00:20+08:00","permalink":"https://dev.leiyanhui.com/linux/pipewire-debian/","title":"debian12 pipewire  i3å®‰è£…é…ç½®"},{"content":"ä»¥qqä¸ºä¾‹\n1 2 wget linuxqqå®˜ç½‘åœ°å€ chmod +x linuxqq_*.AppImage æˆ‘è¿™é‡Œé€‰æ‹©ç›´æ¥å®‰è£…åˆ°å½“å‰ç”¨æˆ·ä¸‹ å…ˆç¡®ä¿ .bashrc ä¸‹æœ‰ export PATH=\u0026quot;$PATH:/home/ç”¨æˆ·å/.local/bin\u0026quot;\n1 mv linuxqq_*.AppImage ~/.local/bin/qq è¿™æ ·å°±å¯ä»¥åœ¨rofi æˆ–è€…shellä¹‹é‡Œé¢ ç›´æ¥è¾“å…¥qqå¯åŠ¨ äº†ï¼Œä½†æ˜¯åœ¨rofiåˆ—è¡¨é‡Œé¢çœ‹ä¸åˆ°ã€‚ åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼å°±å¥½äº†ï¼Œè¿˜æ˜¯æ”¾åˆ°å½“å‰ç”¨æˆ·ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 cd ~/.local/share/applications cat qq.desktop ============================== [Desktop Entry] Name=qqnt Comment=linuxqq Exec=qq #Icon=qq Terminal=false Type=Application Categories=Developer ç®€å• ä¸éœ€è¦å¤šè¯´\n","date":"2023-07-21T00:00:20+08:00","permalink":"https://dev.leiyanhui.com/linux/appimages/","title":"rofiå¯åŠ¨appimages å¹¶æ˜¾ç¤ºåœ¨rofiçš„åˆ—è¡¨ä¸­"},{"content":"æä¾›ç®€å•åŠ å¯†çš„mpyæ¨¡å—ï¼Œå¯ä»¥æ”¾åˆ°å›ºä»¶å†…éƒ¨ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸Šä¼ åˆ°flashã€‚\nåœ¨ä¸»ç¨‹åºæˆ–è€…boot.pyè°ƒç”¨åï¼Œä¼šç¦ç”¨repl å’Œ replçš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½,å¹¶åœ¨replä¸Šæç¤ºè¾“å…¥å¯†ç ã€‚é‡‡ç”¨ä¸¥æ ¼çš„å¯†ç æ”¾ç½®çˆ†ç ´åŠŸèƒ½ï¼Œå“ªæ€•6ä½æ•°å­—éƒ½æ— æ³•çˆ†ç ´ã€‚\nå…¼å®¹webrepl\nç‰¹æ€§ å¯ä»¥åœ¨ usbå£çš„repl ä¸ŠåŠ ä¸Šå¯†ç ï¼ŒåŒæ—¶webreplä¹Ÿä¼šå¢åŠ å¯†ç  æ— å¯†ç çš„æƒ…å†µä¸‹ï¼Œrelpå£åªå¯ä»¥æ˜¾ç¤ºæ‰“å°ä¿¡æ¯ï¼Œæ— æ³•æ‰§è¡Œpythonå‘½ä»¤ï¼Œæ›´åŠ æ— æ³•æŸ¥çœ‹flashå†…æ–‡ä»¶ è¾“å…¥å¯†ç åï¼Œä¸é‡å¯çš„æƒ…å†µä¸‹ä¸éœ€è¦å†æ¬¡è¾“å…¥å¯†ç  å¯ä»¥é›†æˆåˆ°å›ºä»¶å†… å¯ä»¥éšæ„é€‰æ‹©åœ¨éšæ„boot.py æˆ–è€… main.pyåŠ è½½ å¯ä»¥é™åˆ¶å¯†ç å°è¯•é—´éš”ï¼Œå¹¶åœ¨Næ¬¡åå¢åŠ é‡è¯•é—´éš”æ—¶é—´ï¼Œç®€å•çš„å¯†ç ä¹Ÿå¾ˆéš¾é€šè¿‡çˆ†ç ´æ¥ç»•è¿‡ ä¾èµ–ï¼šmicropython time å’Œ _thread ä¸‰ä¸ªåº“ è·å–å’Œä½¿ç”¨ ä¸‹è½½ mpy æ”¾åˆ°flash å†… æˆ–è€…å›ºä»¶å†…éƒ¨å‡å¯ã€‚ ä¸‹è½½åœ°å€ï¼šhttps://github.com/joyanhui/file.leiyanhui.com/raw/main/esp32/repl_psw.mpy æš‚æ—¶ä¸å¼€æºï¼Œéœ€è¦æºç çš„è¯·è”ç³» joyanhui@qq.com\nä¿®æ”¹ä½ çš„boot.py æˆ–main.py ä½¿å¾—ä»£ç ä¿æŠ¤åœ¨å¼€æœºåå¯ä»¥é©¬ä¸Šè¿è¡Œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª boot.pyçš„æ¼”ç¤º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import _thread # åå°è¿è¡Œ main.py çš„ run() å‡½æ•° def background_run(): import main main.run() _thread.start_new_thread(background_run, ()) import repl_psw # (inputæ­£ç¡®çš„å¯†ç ,msgè¯·è¾“å…¥å¯†ç ,msgå¯†ç æ­£ç¡®,msgå¯†ç é”™è¯¯,msgä½ æƒ³å¹²å•¥,å‚æ•°é”™è¯¯æ— æ³•ä¿æŠ¤äº†å“¦,msgä¼‘æ¯ä¸€ä¸‹å§,timeå¯†ç é”™è¯¯é‡è¯•é—´éš”æ—¶é—´,timesé‡è¯•å‡ æ¬¡åå¼ºåˆ¶ä¼‘æ¯,timså¼ºåˆ¶ä¼‘æ¯æ—¶é—´é—´éš”) # åé¢ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯intå“¦ï¼Œæ—¶é—´éƒ½æ˜¯ç§’ä¸ºå•ä½çš„å“¦ å…¶ä»–å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²å¹¶ä¸”ä¸èƒ½ä¸ºç©ºå“¦ # ä¸ºäº†æ–¹ä¾¿ä½ è°ƒè¯•ï¼Œå¦‚æœå‚æ•°ç±»å‹é”™è¯¯ å°±ç›´æ¥è·³è¿‡ ä¸ä¿æŠ¤äº†ï¼Œæ‰€ä»¥åŠ¡å¿…ä¿è¯å‚æ•°ç±»å‹éƒ½æ­£ç¡® # repl_pswæ¨¡å—å¤§æ¦‚éœ€è¦å ç”¨1.2kbçš„å†…å­˜ ã€‚ repl_psw.authenticate(\u0026#34;111\u0026#34;,\u0026#34;è¯·è¾“å…¥å¯†ç ï¼š\u0026#34;,\u0026#34;okå¯†ç æ­£ç¡®\u0026#34;,\u0026#34;errå¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚\u0026#34;,\u0026#34;ä½ æƒ³å¹²å•¥ï¼Ÿ\u0026#34;,\u0026#34;å‚æ•°ç±»å‹é”™è¯¯è‚¯å®šå°±æ— æ³•ä¿æŠ¤äº†å“¦\u0026#34;,\u0026#34;åˆ«è¯•äº†ä¼‘æ¯ä¸€ä¼šå§\u0026#34;,1,3,15) main.pyçš„ä»£ç åº”è¯¥æ˜¯ä½ çš„ä¸šåŠ¡é€»è¾‘éƒ¨åˆ†ï¼Œç®€å•çš„ä¸€ä¸ªå®ä¾‹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 from machine import Pin import time led = Pin(15, Pin.OUT) def run(): while True: led.on() time.sleep(0.5) led.off() time.sleep(0.5) å…¶ä»–å»ºè®® ä¸Šé¢çš„æ¼”ç¤ºä»£ç åªæ˜¯æä¾›äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯†ç æœ€å¥½ä¸è®¾å¤‡çš„macåœ°å€æˆ–tokenå…³è” æˆ–è€…ä»å•ç‹¬çš„æˆæƒæœåŠ¡å™¨è·å–ï¼Œåšåˆ°ä¸€æœºä¸€å¯† åœ¨esp8266 ç­‰å†…å­˜è¾ƒå°‘çš„micropythonè®¾å¤‡ä¸Šï¼Œä½¿ç”¨ _thread å¯èƒ½æ¯”è¾ƒå¥¢ä¾ˆï¼Œè¯·è‡ªå·±é€‰æ‹©æ˜¯å¦ä½¿ç”¨ repl_pswæ¨¡å—å¤§æ¦‚éœ€è¦å ç”¨1.2kbçš„å†…å­˜ ã€‚ repl çš„åŠ å¯†ï¼Œåªèƒ½ä¸€å®šç¨‹åº¦ä¸Šä¿æŠ¤ä»£ç ï¼Œåªæ˜¯æä¾›ç®€å•çµæ´»çš„æ–¹å¼é˜²æ­¢åˆ«äººç›´æ¥çª¥è§†ä½ çš„ä»£ç ã€‚æ— æ³•é¿å…ç»•è¿‡replç›´æ¥ä»ç‰©ç†å±‚é¢ä¸‹æ‰‹çš„ å»ºè®® æ ¸å¿ƒä»£ç è¿˜æ˜¯ç”¨cæ¥å†™ï¼Œå¹¶ä¸æ˜¯éå¸¸æ ¸å¿ƒçš„ä»£ç  ç¼–è¯‘æˆmpyæ”¾åˆ°å›ºä»¶å†…éƒ¨ã€‚ å¦‚æœä»£ç å®‰å…¨æ€§è¦æ±‚éå¸¸é«˜ï¼Œè¿˜æ˜¯è¦ç”¨åŠ å¯†èŠ¯ç‰‡çš„æ˜‚ã€‚\n","date":"2023-07-18T00:00:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/mpy-repl-psw/","title":"micropythonåœ¨usbå’Œwebçš„repléƒ½æ·»åŠ å¯†ç ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¿æŠ¤å¯†ç "},{"content":"2024-03-7 å·²ç»æœ‰åŸç”Ÿç‰ˆå¾®ä¿¡ï¼Œè™½ç„¶ç›®å‰ä¹‹æ”¯æŒuoså’Œéº’éºŸç­‰ç³»ç»Ÿï¼Œå®é™…ä¸Šå…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨ã€‚\n2022å¹´12æœˆ07æ—¥ è…¾è®¯å·²ç»å‘å¸ƒæ–°ç‰ˆlinux qq å› ä¸ºå„ä¸ªç‰ˆæœ¬çš„ éƒ½å­˜åœ¨å°å·æƒ…å†µï¼Œç›®å‰åªæœ‰deepin wineç‰ˆæœ¬ å°šå¯\n1 2 3 4 wget -O- https://deepin-wine.i-m.dev/setup.sh | sh sudo apt install com.qq.weixin.deepin com.qq.im.deepin ## å¦‚æ— æ³•å‘é€ç…§ç‰‡ sudo apt install libjpeg62:i386 å¯åŠ¨å‘½ä»¤\n1 /opt/apps/com.qq.weixin.deepin/files/run.sh åœ¨i3 ä¸‹æœ‰é»‘æ¡†å½±å“è§‚æ„Ÿï¼Œä½†æ˜¯ä¸å½±å“ä½¿ç”¨ã€‚\n","date":"2023-07-11T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/debian-wechat/","title":"debian12 å®‰è£…å¾®ä¿¡ "},{"content":"å¦‚æœè®¾å¤‡ä¸å¤šï¼Œå¯ä»¥æ¥å—åªä¸€ä¸ªè®¾å¤‡ çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ virtualhere è¿™ä¸ªçš„å…è´¹ç‰ˆæœ¬ã€‚ä½†æ˜¯å…è´¹ç‰ˆä¹‹èƒ½è¿æ¥ä¸€ä¸ªè®¾å¤‡ï¼Œæ”¶è´¹ç‰ˆæœ¬ä»·æ ¼ä¸ä½ã€‚\nå¦‚æœæ˜¯åŒlinuxçš„è¯ï¼Œå¯ä»¥ç”¨usbipç›´æ¥å¤„ç†ã€‚\næˆ‘è®¾å¤‡åœ¨winç”µè„‘ä¸Šï¼Œlinuxç”µè„‘æ¥è¿æ¥ã€‚ æ‰€ä»¥é‡‡å– virtualbox è¿è¡Œä¸€ä¸ª alpine,ç„¶åå…±äº«usbè®¾å¤‡å‡ºæ¥çš„æ–¹æ¡ˆã€‚\nvirtualbox æ·»åŠ usbè®¾å¤‡è¿›å» alpineå®‰è£… é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 apk add linux-tools-usbip # æ³¨æ„è¦æ‰“å¼€ communityæº modprobe usbip-core usbip-host vhci-hcd # å†…æ ¸è¦æ”¯æŒï¼Œ ä¸èƒ½åŠ è½½è¯ éœ€è¦å®‰è£…å®Œæ•´çš„alpine ä¸è¦ç”¨ virtçš„å†…æ ¸ # å†™å…¥åˆ° /etc/modules æ¯æ¬¡å¼€æœºè‡ªå¯ # æŸ¥è¯¢æ¨¡å—åŠ è½½æƒ…å†µ lsmod | grep usbip # æŸ¥çœ‹usbè®¾å¤‡ usbip list -l usbipd -D \u0026amp; # å¯åŠ¨æœåŠ¡ï¼Œ # æŠŠusbè®¾å¤‡æ·»åŠ åˆ°usbipä¸­å»ï¼šå¯ä»¥æ·»åŠ å¤šä¸ª # 2-1å°±æ˜¯ä¸Šé¢çš„ç¼–å· $ usbip bind -b 2-1 # è§£é™¤ç»‘å®šusbè®¾å¤‡ usbip unbind -b 2-1 å®¢æˆ·ç«¯ linux-debian # å¦‚æœæ˜¯åœ¨å®¹å™¨ä¸­çš„ï¼Œè®°å¾—ä»å®¿ä¸»æœºå™¨åŠ è½½ å¹¶æ˜ å°„è¿‡æ¥\n1 2 3 4 5 6 sudo modprobe usbip-core usbip-host vhci-hcd lsmod | grep usbip sudo apt install usbip lsusb # sudo apt install usbutils sudo usbip list -r 10.1.1.215 # æŸ¥çœ‹ sudo usbip attach -r 10.1.1.215 -b 2-1 ","date":"2023-07-07T11:02:20+08:00","permalink":"https://dev.leiyanhui.com/linux/usbip/","title":" usb è®¾å¤‡ç½‘ç»œå…±äº«æ–¹æ¡ˆï¼ˆå…è´¹ï¼‰ win=\u003e linux"},{"content":"debian12 i3 xrdp novnc X11Forwarding include pulseaudio-xrdp\næ²¡å¤šä½™çš„è½¯ä»¶ï¼Œå†…å­˜å ç”¨200Må·¦å³ï¼Œç”šè‡³æµè§ˆå™¨éƒ½æ²¡æœ‰ã€‚ åæ–‡æœ‰è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•å’Œ å®‰è£…å…¶ä»–çš„è½¯ä»¶çš„æ–¹æ³•ã€‚\næœ¬æ–‡è¯´æ˜ joyanhui/debian-i3-xrdp-novnc ä½¿ç”¨docker å’Œ lxc/lxd ï¼Œæœ¬æ–‡å¯èƒ½ä¼šæ»åæœ€æ–°ï¼Œæ›´å¤šé—®é¢˜é—®é¢˜è¯·æŸ¥çœ‹dockerå’Œlxdçš„ä½¿ç”¨æ‰‹å†Œã€‚\nå¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨è¿‡i3 openbox lxcç­‰è½¯ä»¶ï¼ŒåŠ¡å¿…ä»”ç»†é˜…è¯»æœ¬æ–‡ï¼Œè‡³å°‘ä¼šè®©ä½ ç†Ÿæ‚‰äº†è§£ç›¸å…³æ“ä½œã€‚\nç‰¹æ€§ è½»é‡ å¹²å‡€ åŸºäºi3 å’Œ openbox å¯ä»¥ç”¨xrdp novnc(webvnc) vnc x11 ç­‰æ–¹å¼è¿è¡Œã€‚\næ˜¯ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œsystemdå¯æ­£å¸¸ä½¿ç”¨ï¼Œç”šè‡³å¯ä»¥å†æ¬¡å®‰è£…docker\nvncå’Œnovncä½¿ç”¨ç®€æ´çš„åŸç”Ÿopenbox xrdpä½¿ç”¨ä¾èµ–å¿«æ·é”®ä½†æ˜¯æ›´é«˜æ•ˆçš„i3 é‡‡ç”¨docker è¿è¡Œlxdçš„æ–¹æ³• alpine3.18.2 =\u0026gt; lxd é›†æˆè½¯ä»¶ï¼š\ndebian 12 bookworm i3 openbox polybar rofi alacritty dunst zsh firefox-esr thunar gvfs gvfs-backends gvfs-fuse sshfs tigervnc novnc websockify ttf-wqy-zhenhei fonts-jetbrains-mono fonts-noto-color-emoji å¾®è½¯é›…é»‘ æœåŠ¡ç®¡ç†æ”¯æŒï¼šsystemd supervisor æ›´æ–°è®°å½•å’Œè®¡åˆ’ å…¬å¼€çš„æ­å»ºè¿‡ç¨‹ å¦‚æœä½ ä½¿ç”¨çš„æ—§ç‰ˆè¯·æŸ¥çœ‹æ—§ç‰ˆè¯´æ˜\nå®‰è£… 1 2 3 docker run -itd --restart=always --name dt --hostname dt --privileged=true \\ -p 3389:3389 -p 222:22 -p 2222:2222 -p 8080:8080 -p 5900-5905:5900-5905 -v /mnt:/mnt \\ joyanhui/debian-i3-xrdp-novnc sh /boot.sh 3389æ˜¯xrdpç«¯å£ 2222 æ˜¯ssh x11ç«¯å£ 8080 æ˜¯novnc ç«¯å£ 5900-5905 æ˜¯vncç«¯å£é»˜è®¤ç”¨æˆ·æ˜¯5900 ï¼Œ222 æ˜¯alpineå®¹å™¨çš„sshç«¯å£\n20230707 ä¹‹å‰ç‰ˆæœ¬æ˜¯çº¯dockerå®ç°ï¼Œä¸åŒ…å«æµè§ˆå™¨å’Œæ–‡ä»¶ç®¡ç†å™¨ï¼Œä¹‹åçš„ç‰ˆæœ¬æ˜¯lxd lxcå®ç° å¹¶å¸¦firefox-esr å’Œthunar ç½‘ç»œæŒ‚è½½ å¹¶æ”¯æŒ systemdã€‚\né»˜è®¤è´¦å· ä»¥åŠç›¸å…³ç”¨æˆ·åå’Œå¯†ç  æ€»å…±æœ‰ä¸‰ä¸ªå¯†ç ï¼š\ndebiançš„ç³»ç»Ÿç”¨æˆ· ç”¨æˆ·åï¼šyanhui å¯†ç ï¼š1 ï¼ˆåªæœ‰ä¸€ä¸ªæ•°å­—1ï¼‰\nè¿™ä¸ªç”¨æˆ·åå¯†ç ï¼ŒåŒæ—¶å¯¹åº”debiançš„ ssh xrdp çš„é»˜è®¤è´¦å· å¯¹åº”é»˜è®¤ç«¯å£ï¼š2222 å’Œ 3389 debiané»˜è®¤çš„root æ²¡è®¾ç½®å¯†ç ï¼Œç¦æ­¢sshç™»é™†\n1 2 3 # ä¿®æ”¹å¯†ç  docker exec -it dt lxc exec dt /bin/bash passwd yanhui debiançš„vncçš„å¯†ç  vnc å¯†ç ï¼š111111ï¼ˆå…­ä¸ªæ•°å­—1ï¼‰\næ­¤å¯†ç ç”¨äºvnc å’Œnovncç™»é™† é»˜è®¤ç”¨æˆ·yanhuiçš„æ¡Œé¢\n1 2 3 4 # ä¿®æ”¹å¯†ç  docker exec -it dt lxc exec dt /bin/bash su yanhui vncpasswd alpineçš„rootè´¦æˆ· ç”¨æˆ·å root å¯†ç :1ï¼ˆåªæœ‰ä¸€ä¸ªæ•°å­—1ï¼‰\næ­¤å¯†ç åŒæ—¶å·¦å³ alpineçš„sshç™»é™†å¯†ç ï¼Œå¯¹åº”é»˜è®¤ç«¯å£ï¼š222\n1 2 3 # ä¿®æ”¹å¯†ç  docker exec -it dt /bin/sh passwd éƒ¨ç½²å®Œæ¯•åï¼ŒåŠ¡å¿…ç¬¬ä¸€æ—¶é—´ä¿®æ”¹å¯†ç ï¼\nä¸ºä»€ä¹ˆé€‰æ‹©debian è€Œä¸æ˜¯arch nixos å› ä¸ºæ¯”Ubuntuå¹²å‡€ï¼Œdebianä¸€ç›´è¢«è¯Ÿç—…çš„åŒ…å°‘çš„é—®é¢˜ï¼Œdebian12 å¢åŠ äº†11089ä¸ªåŒ…ï¼Œæ€»æ•°é‡å·²ç»åˆ°äº†64419ï¼Œéƒ¨åˆ†å®˜æ–¹ä»“åº“æ²¡æœ‰çš„è½¯ä»¶ï¼Œè½¯ä»¶å¼€å‘è€…è‡ªå·±ä¸€èˆ¬æä¾›æºæˆ–è€…debã€‚ æ”¾å¼ƒarchlinuxæ”¹debian æ˜¯å› ä¸ºæœ‰éƒ¨åˆ†å•†ä¸šè½¯ä»¶åªæœ‰deb rpmåŒ…auré‡Œé¢æ²¡æœ‰ï¼Œè‡ªå·±è§£åŒ…å¤ªéº»çƒ¦ã€‚\narchå’Œnixosä¸€äº›å…¶ä»–ç¼ºç‚¹è¿™é‡Œä¸å¤šè¯´ã€‚\nå…¶å®æœ€ä¸»è¦çš„æ˜¯ ä¸æŠ˜è…¾ ç¨³å¦‚è€ç‹—ï¼Œä»¥åŠ ä¸ªäººå–œå¥½ ä»¥åŠå’ŒæœåŠ¡å™¨ç«¯çš„ç¯å¢ƒä¸€è‡´æ€§\nä¸ºä»€ä¹ˆç”¨docker å¥—lxd ä¸ç›´æ¥ç”¨lxd æ˜¯å› ä¸ºéƒ¨åˆ†ç¯å¢ƒä¸æ”¯æŒï¼Œå¦å¤–dockerçš„åˆ†å±‚commit æ›´æ–¹ä¾¿ã€‚ æ›´å¯ä»¥æ¨é€åˆ°è‡ªå·±çš„ç§æœ‰regditer\nä¸ç›´æ¥ç”¨docker æ˜¯å› ä¸º docker é™åˆ¶å¤ªå¤šï¼Œä¸ç®—æ˜¯å¤ªå®Œæ•´çš„ç³»ç»Ÿï¼Œlxc lxd æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿã€‚\næ‰€ä»¥20230707ç‰ˆæœ¬ä»¥å æ”¹ä¸º dockerè¿è¡Œalpine ç„¶ååœ¨alpineå†…ç”¨lxdè¿è¡Œ debian12\nalpineæ˜¯ä¸€ä¸ªåªæœ‰3må¤§å°çš„linuxç³»ç»Ÿï¼Œåœ¨ç”¨lxdåµŒå¥—åï¼Œæ¯”æ—§æ–¹æ¡ˆå¤šå ç”¨30-60Må†…å­˜ï¼Œ80Mç¡¬ç›˜ï¼Œä½†æ˜¯å¸¦æ¥çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„linuxä½“éªŒï¼Œå¹¶ä¸”æ€§èƒ½åŠæ‰“è™šæ‹Ÿæœºæ¨¡å¼ï¼\nä¸ºä»€ä¹ˆé€‰æ‹©i3 å’Œopenbox æ€ä¹ˆæ¢å…¶ä»–æ¡Œé¢ å› ä¸ºè½»é‡ï¼Œä»¥åŠä¸ªäººä¹ æƒ¯ï¼Œä½ å¯ä»¥è‡ªç”±æ¢æˆå…¶ä»–ä»»æ„æ¡Œé¢ç³»ç»Ÿã€‚ å› ä¸ºi3çš„é«˜æ•ˆæ¥è‡ªå¿«æ·é”®ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­ä¼šæœ‰å¤§é‡å¿«æ·é”®å†²çªã€‚æ‰€ä»¥æ–°ç‰ˆæœ¬åœ¨novncä¸­ä½¿ç”¨äº†åŒæ ·è½»é‡çš„openboxã€‚\nè€Œåœ¨xrdpä¸­ï¼Œå› ä¸ºå…¨å±æ¨¡å¼ å’Œéƒ¨åˆ†æ”¯æŒrdpçš„å®¢æˆ·ç«¯è½¯ä»¶ å‡å¯åšåˆ°é”®ç›˜æ˜ å°„ï¼Œæ‰€ä»¥xrdpä½¿ç”¨äº†i3æ¡Œé¢\næ›´æ¢ä¸ºå…¶ä»–æ¡Œé¢çš„æ–¹æ³• ä¾‹å¦‚ï¼Œè¦æ¢æˆ xfce4é¦–å…ˆå®‰è£…sudo apt install xfce4 ,ç„¶åä¿®æ”¹ ~/.vnc/xstartup å¯ä»¥æ›´æ¢vncå’Œnovncçš„æ¡Œé¢ã€‚\nä¿®æ”¹ç”¨æˆ·ç›®å½•ä¸‹çš„ ~/.xsession æ–‡ä»¶å¯ä»¥æ›¿æ¢xrdpçš„æ¡Œé¢ã€‚ç„¶åå¸è½½æ‰i3æˆ–è€…openboxå³å¯:sudo apt purge i3 or sudo apt purge openbox\nnovnc vncä¸ºä»€ä¹ˆæ˜¯é»‘å± å°±æ˜¯é»‘å±çš„ï¼Œå› ä¸ºä¸ºäº†èŠ‚çœèµ„æºç”¨çš„æ²¡æœ‰ä»»ä½•æ‰©å±•çš„openboxã€‚ ä¹Ÿæ²¡æœ‰å£çº¸ï¼Œå³é”® æœ‰æƒŠå–œï¼\næ€ä¹ˆå¯åŠ¨shell å’Œå¸¸è§å¿«æ·é”® åŸºæœ¬æ˜¯i3 çš„é»˜è®¤å¿«æ·é”®\nç‚¹å±å¹•é¡¶éƒ¨çš„ Apps\u0026gt; ç³»ç»Ÿ \u0026gt;ç»ˆç«¯ ï¼ˆéƒ¨åˆ†èœå•æ— ç”¨ï¼Œæ˜¯å› ä¸ºæ²¡å¯¹åº”è½¯ä»¶ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹polybarçš„é…ç½®æ–‡ä»¶ ï¼‰\nå¦‚æœæ˜¯rdpè¿œç¨‹æ¡Œé¢ä¸‹ï¼ŒæŒ‰ä¸‹é”®ç›˜ ï¼š win+å›è½¦ å¯åŠ¨ç®¡ç†å™¨ï¼ˆå¼€å§‹èœå•ï¼‰ :win d\nç¨‹åºåˆ‡æ¢ alt+tab ä¿®æ”¹çª—å£å¤§å°ï¼šæŒ‰ä½win å†æŒ‰ä½ é¼ æ ‡å³é”® æ¥å›æ‹–åŠ¨\nä¿®æ”¹çª—å£ä½ç½®ï¼šæŒ‰ä½win å†æŒ‰ä½ é¼ æ ‡å·¦é”® æ¥å›æ‹–åŠ¨\nå…³é—­è½¯ä»¶ï¼šwin shift q\næ³¨é”€ï¼šwin shift e\næ›´å¤šä½¿ç”¨æ–¹æ³• è‡ªå·±çœ‹ä¸€ä¸‹i3 ä½¿ç”¨è¯´æ˜\nå¦‚ä½•ä»å®¿ä¸»æœºå™¨ç›´æ¥è¿›å»debian shell ä¸¤æ­¥\n1 2 3 4 5 6 # è¿›å…¥docker alpine docker exec -it dt /bin/sh # è¿›å…¥lxc lxc exec dt /bin/bash # æˆ–è€…ç›´æ¥ docker exec -it dt lxc exec dt /bin/bash ç¬¬ä¸€ä¸ªdt æ˜¯dockerçš„å®¹å™¨åç§°ï¼Œç¬¬äºŒä¸ª æ˜¯lxc çš„å®¹å™¨åç§°\nä½ ä¹Ÿå¯ä»¥åœ¨ç™»é™† vnc/xrdpåç›´æ¥è¿è¡Œ\næ€ä¹ˆè£…ä¸­æ–‡è¾“å…¥æ³• 1 sudo apt install fcitx5 fcitx5-chinese-addons openbox éœ€è¦å³é”®æ‰‹åŠ¨åŠ è½½ï¼Œå…¶ä»–ç°ä»£çš„æ¡Œé¢ç³»ç»Ÿï¼ŒåŒ…æ‹¬i3ã€‚å®‰è£…å®Œæˆåï¼Œæ³¨é”€é‡æ–°ç™»å½•ä¸€æ¬¡æ¡Œé¢ï¼Œä¼šè‡ªåŠ¨åŠ è½½ï¼Œæ‹¼éŸ³è¾“å…¥æ³•å¯å¯¼å…¥æœç‹—ç»†èƒè¯åº“ï¼Œå…·ä½“è‡ªå·±ç ”ç©¶ã€‚\né»˜è®¤ä¸­è‹±æ–‡åˆ‡æ¢å¿«æ·é”®æ˜¯ ctrl+ç©ºæ ¼ ï¼Œå¦‚æœä½ åœ¨éå…¨å±çš„xrdp æˆ–novnc /vnc ä¸‹åˆ‡æ¢ï¼Œæ³¨æ„å’Œæœ¬åœ°çš„è¾“å…¥æ³•å¿«æ·é”®å†²çªé—®é¢˜ã€‚\næ€ä¹ˆæ–°å»ºç”¨æˆ·æ€ä¹ˆåˆ é™¤é»˜è®¤ç”¨æˆ· æ–°å»ºç”¨æˆ· 1 2 sudo adduser YouName sudo usermod -aG sudo YouName æ–°ç”¨æˆ·vncå¯†ç  ssh æˆ–è€… xrdp ç™»é™†æ–°ç”¨æˆ·åï¼Œè¿è¡Œ vncpasswd\næ›´æ–° vncæœåŠ¡ ä¿®æ”¹é‡Œé¢çš„ç”¨æˆ·å\n1 2 nano /etc/systemd/system/vncserver@0.service nano /etc/supervisor/conf.d/novnc.conf åˆ é™¤é»˜è®¤ç”¨æˆ· 1 2 sudo deluser yanhui rm -rf /home/yanhui # åœ¨ç¡®è®¤ç”¨ä¸åˆ°ä»¥å å†åˆ é™¤ ä¸ºäº†ä¸æ±¡æŸ“å…¨å±€ï¼Œæ¡Œé¢ç›¸å…³çš„é…ç½®æ–‡ä»¶éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ æ€ä¹ˆä¿®æ”¹å¯†ç  ç”¨æˆ·å¯†ç  å‘½ä»¤ï¼špasswd\nvncå¯†ç  å‘½ä»¤ï¼švncpasswd .vnc/passwd ï¼Œéœ€è¦é‡å¯vncæœåŠ¡ï¼ŒæŸ¥çœ‹ systemctrl restart vncserver@0\nx11è½¬å‘æ¨¡å¼å¦‚ä½•ä½¿ç”¨è¾“å…¥æ³• ä¿®æ”¹ä¸€ä¸‹fcitx5çš„ä¸­è‹±æ–‡åˆ‡æ¢å¿«æ·é”®ï¼Œå’Œä½ å½“å‰ç”µè„‘çš„ä¸èƒ½ä¸€æ ·ã€‚ç„¶åå…ˆæ‰§è¡Œ fcitx5\u0026amp; å†æ‰§è¡Œå¯¹åº”çš„è½¯ä»¶ã€‚\nx11 è½¬å‘æ¨¡å¼éƒ¨åˆ†è½¯ä»¶å¾ˆå¡ æ²¡å¾—åŠæ³•ï¼Œå¯ä»¥é€‚å½“ä¼˜åŒ–ä¸€ä¸‹è‡ªå·±ç½‘ä¸Šæœå§ã€‚å¦å¤– ç«ç‹åœ¨x11è½¬å‘æ¨¡å¼ä¸‹é»˜è®¤é…ç½®è¦æ¯”chromeç³»æ›´å¡ã€‚\nnovncé»˜è®¤åœ°å€ http://ä½ çš„ip:8080/ å…¶ä¸­ç«¯å£dockerå†…éƒ¨é»˜è®¤ä½¿ç”¨8080ï¼Œå¤–éƒ¨ç«¯å£æ˜¯ä½ è‡ªå·±æ˜ å°„çš„ã€‚\nnovncå¦‚ä½•èµ°https å»ºè®®ç”¨Nginx ç»Ÿä¸€åä»£ä¸€ä¸‹ï¼Œæˆ–å¸¦supervisorå¯åŠ¨çš„æ—¶å€™å¸¦è¯ä¹¦ã€‚\nvncè¿ä¸ä¸Š æ­¤é—®é¢˜åªåœ¨ 20230707ä¹‹å‰ç‰ˆæœ¬å­˜åœ¨\n1 rm /tmp/.X0-lock æŠŠä¸Šé¢è¿™è¡Œä»£ç æ·»åŠ åˆ° /autoStart.sh ç¬¬äºŒè¡Œï¼Œç„¶åé‡å¯æ•´ä¸ªå®¹å™¨\nå¤©æ°”é¢„æŠ¥å‡ºé”™ä»¥åŠå¦‚ä½•ä¿®æ”¹å¤©æ°”é¢„æŠ¥åŸå¸‚ ~/.config/polybar/weather-plugin.py è¿™ä¸ªæ–‡ä»¶ å¤©æ°”é¢„æŠ¥æ¥å£ ç”¨çš„openweathermap,å†…ç½®çš„æˆ‘è‡ªå·±çš„æ¥å£ï¼Œç”¨çš„äººå¤šäº†ä¼šå—é™åˆ¶æ— æ³•ä½¿ç”¨ã€‚\nä½ è‡ªå·±å»æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªkeyã€‚æŸ¥è¯¢ä¸€ä¸‹ä½ æ‰€éœ€è¦åŸå¸‚çš„idï¼Œç„¶åä¿®æ”¹é‡Œé¢çš„ç½‘å€éƒ¨åˆ†çš„ idï¼ˆåŸå¸‚ï¼‰ appidï¼ˆä½ è‡ªå·±çš„ï¼‰\nhttps://api.openweathermap.org/data/2.5/weather?id=1793724\u0026amp;appid=440b47a5ffbc5421e4a9befcbc4d635b\u0026amp;units=Metric\u0026amp;lang=zh_cn\nä½ å¦‚æœä¸æƒ³ç”¨ï¼Œç›´æ¥åœ¨ polybarçš„é…ç½®æ–‡ä»¶é‡Œé¢åˆ æ‰å³å¯ã€‚\nå¦‚ä½•è°ƒéŸ³é‡ åœ¨i3é…ç½®æ–‡ä»¶é‡Œé¢ä¿®æ”¹\nè°ƒæ•´éŸ³é‡ å¿«æ·é”®ï¼šwin ctrl â†‘ å’Œ win ctrl â†“ï¼Œï¼ˆå·¦å³æ˜¯é™éŸ³ï¼‰ä¹Ÿå¯ä»¥é¼ æ ‡ç§»åŠ¨åˆ° polybar éŸ³é‡å›¾æ ‡ä½ç½®æ»šè½®è°ƒæ•´ã€‚\nè¿›é˜¶ç”¨æ³•ï¼Œè‡ªå·±é…ç½®i3å’Œpolybar\nvnc å’Œxrdp æ¡Œé¢ä¸åŒæ­¥ æ˜¯çš„ï¼Œè¿™æ˜¯ä¸¤ä¸ªè™šæ‹Ÿæ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸åŒæ­¥ã€‚å¦‚æœè¦æ˜¾ç¤ºåŒæ ·çš„å†…å®¹ï¼Œå¯ä»¥åœ¨xrdpç™»é™†çš„æ—¶å€™ é€‰æ‹©ç™»é™†åˆ°vnc è€Œä¸æ˜¯org ã€‚\nnoVNC ç½‘é¡µè®¿é—®æŒ‰é”®å¤±çµä¹±è·³ 1ã€å…³é—­å®¿ä¸»çš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œä½¿ç”¨å®¿ä¸»æœºç³»ç»Ÿè‡ªå¸¦çš„è‹±æ–‡è¾“å…¥æ³•\n2ã€æ›´æ¢æµè§ˆå™¨ï¼Œç›®å‰å‘ç°chrome edgeä¹‹ç±»çš„ åœ¨noVNCä¸‹å…¼å®¹æ€§ä¸å¦‚æ–°ç‰ˆç«ç‹ ç«ç‹ 96ä»¥åç‰ˆæœ¬æµ‹è¯•è¿è¡Œè‰¯å¥½ï¼Œsafari å’Œ iosä¸‹çš„æµè§ˆå™¨å‡ä¸å…¼å®¹çš„å“ˆã€‚\nxrdp ç™»é™†åæ¡Œé¢ç°è‰²æ— æ˜¾ç¤º é•¿æœŸæ— æ“ä½œåï¼Œé”å±äº†è€Œå·²ã€‚ä¾æ¬¡ç›²è¾“å…¥å¯†ç ç„¶åæŒ‰ä¸‹å›è½¦ éªŒè¯æˆåŠŸå å³å¯ç™»å…¥æ¡Œé¢ã€‚\nå¦‚æœä½ ä¸éœ€è¦é”å±åŠŸèƒ½ï¼Œå¯ä»¥åˆ æ‰ sudo apt purge i3lock\næ²¡å£°éŸ³æˆ–è€… é¡¶éƒ¨éŸ³é‡ä¸æ˜¾ç¤º vnc å’Œx11 æ²¡å£°éŸ³ vncå’Œx11 å°±æ˜¯æ²¡å£°éŸ³çš„è¯ï¼Œå¦‚æœç¡®å®è¦ï¼Œè¯·ç”¨pulseaudioè½¬å‘ æˆ–è€…æ¢xrdp\nxrdpçš„polybar å¶å°”ä¸æ˜¾ç¤ºéŸ³é‡ è¿™ä¸ªæ˜¯polybar åœ¨ debian12ä¸‹ å’Œ pulseaudio-module-xrdp ä¹‹é—´çš„bugï¼Œå·²ç»æäº¤è¿‡issueï¼Œç­‰æ›´æ–°å§ã€‚\nä¸´æ—¶è§£å†³æ–¹æ³•,åœ¨æ¡Œé¢ç™»é™†ä¸€ä¼šå é‡å¯pulseaudioå’Œpolybar\n1 2 killall pulseaudio \u0026amp;\u0026amp; pulseaudio \u0026amp; sh .config/polybar/polybar_run.sh 20230707 ä»¥åçš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨polybaré¡¶éƒ¨èœå•ç”¨ä¾æ¬¡ç‚¹å‡»ï¼š APPS \u0026gt; polybar \u0026gt; é‡å¯å£°éŸ³ APPS \u0026gt; polybar \u0026gt; é‡è½½polybar\nå¦‚ä½•ä¿®æ”¹åˆ†è¾¨ç‡ vnc novnc 1 /etc/systemd/system/vncserver@0.service # geometry åé¢çš„å‚æ•°æ˜¯vncçš„åˆ†è¾¨ç‡ xrdp xrdpçš„åˆ†è¾¨ç‡ ç”±ä½ çš„å®¢æˆ·ç«¯ å‘èµ·çš„æ—¶å€™é…ç½®\nopenboxçš„å£çº¸ç‚¹å¥½å¤šæ¬¡æ‰æ¢ä¸€å¼  å£çº¸æ˜¯éšæœºæ›´æ¢çš„é»˜è®¤å°±å¸¦äº†ä¸¤å¼ ï¼Œæ‰€ä»¥ä¼šæœ‰50%æ¦‚ç‡ä¸æ›´æ¢ã€‚\nå®‰è£…å¸¸ç”¨è½¯ä»¶ ç‚¹å±å¹•å·¦ä¸Šè§’ APPS \u0026gt; ç³»ç»Ÿ \u0026gt; ç»ˆç«¯ è¾“å…¥ sudo apt install \u0026lt;åŒ…å\u0026gt;å‘½ä»¤ï¼›å¯åŠ¨è½¯ä»¶ APPS \u0026gt; ç³»ç»Ÿ \u0026gt; rofi-run é€‰æ‹©è½¯ä»¶æˆ–è€…è¾“å…¥è½¯ä»¶åç§°\næˆ–è€…xrdpå…¨å±æ¨¡å¼ä¸‹ novnc å·¦ä¾§å¿«æ·é”®ä¹Ÿå¯ï¼š win+å›è½¦ win+d\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 sudo apt install firefox-esr # ç«ç‹ 20230707ä»¥åç‰ˆæœ¬è‡ªå¸¦ sudo apt install chromium #chrome å¼€æºç‰ˆï¼Œé—­æºç‰ˆæœ¬ å»googleä¸‹è½½deb æˆ–è€…æ·»åŠ æº sudo apt install nemo nautilus # æ–‡ä»¶ç®¡ç†å™¨ ä»»é€‰ä¸€ä¸ª 20230707ä»¥åç‰ˆæœ¬è‡ªå¸¦ thunar # todesk ä¸­æ–‡ä¸æ˜¾ç¤º éœ€è¦å¦å¤–å¤„ç†ï¼Œè¿™é‡Œä¸å¤šè¯´ wget https://newdl.todesk.com/linux/todesk-v4.3.1.0-amd64.deb sudo apt-get install ./todesk-v4.3.1.0-amd64.deb #sudo apt purge todesk # è¿œç¨‹å…¶ä»–ç”µè„‘ sudo apt install freerdp2-x11 #xfreerdp sudo apt install remmina # å¯é€‰åŒ… remmina-plugin-x2go # neofetch å‘½ä»¤è¡Œè£…bå·¥å…· sudo apt install neofetch # flameshot æˆªå›¾å·¥å…· sudo apt install flameshot # linuxqq wget https://dldir1.qq.com/qqfile/qq/QQNT/ad5b5393/linuxqq_3.1.2-13107_amd64.deb sudo apt-get install ./linuxqq_3.1.2-13107_amd64.deb å¦‚ä½•è®¿é—®æ–‡ä»¶ thunar æ–¹å¼ 20230707ä»¥åç‰ˆæœ¬é›†æˆäº†thunar å’Œsmb sshfs webdavè®¿é—®ç»„ä»¶ã€‚ æ‰“å¼€ thunar ï¼Œåœ°å€æ è¾“å…¥ï¼šsmb://10.1.1.100 æˆ–è€…dav://10.1.1.100 å³å¯\næ–‡ä»¶æŒ‚è½½ å‚è€ƒåæ–‡ ç›®å½•æ˜ å°„ æ–¹æ³•\nä¸å–œæ¬¢é»˜è®¤ç”¨æˆ·çš„shell é»˜è®¤ç”¨æˆ· yanhuiçš„ shellæ˜¯ zsh å¹¶ç”¨oh-my-zshå®šåˆ¶äº†ä¸€ä¸‹ï¼Œä¸å–œæ¬¢ å¯ä»¥ ç›´æ¥è¾“å…¥exit é€€å‡ºåˆ°bashã€‚ ç„¶åè‡ªå·±åˆ æ‰ .bashrc çš„æœ€åä¸€è¡Œ zsh ä¸‰ä¸ªå­—æ¯ã€‚æœ€åå¸è½½æ‰ zsh ï¼Œå¹¶åˆ é™¤ .oh-my-zsh ç›®å½•å³å¯\npve lxc ct æˆ–è€…dockerå®¿ä¸»æœº ç›®å½•æ˜ å°„ ç«¯å£ å’Œæ˜¾å¡ç­‰ pve ç¡¬ç›˜åˆ°lxc è¯·çœ‹ï¼šhttps://dev.leiyanhui.com/pve/lxc-mount-dir/\ndockerå®¿ä¸»æœº ç›®å½•æ˜ å°„ é»˜è®¤ æ˜ å°„ /mnt/sda1 åˆ°æœ€ç»ˆçš„debian12 å¦‚æœè¦æ˜ å°„å…¶ä»–ç›®å½•ï¼Œå…ˆæ˜ å°„åˆ°dockerå†…ï¼Œç¡®ä¿æ—©dockerå†…å¯ä»¥è®¿é—®çš„æƒ…å†µä¸‹åœ¨dockerå†…å¦‚ä¸‹å‘½ä»¤æ˜ å°„åˆ° lxc\n1 lxc config device add dt sda1 disk source=/mnt/sda1 path=/mnt/sda1 æ›´å¤šä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠæƒé™é—®é¢˜ï¼Œè¯·å‚è€ƒlxdæ‰‹å†Œ\nç«¯å£ å…ˆæ˜ å°„ç«¯å£åˆ°docker,è€Œååœ¨dockerå†… ç”¨å¦‚ä¸‹å‘½ä»¤æ˜ å°„åˆ°lxc\n1 lxc config device add dt demoName proxy listen=tcp:0.0.0.0:8888 connect=tcp:127.0.0.1:8888 æ›´å¤šä½¿ç”¨æ–¹æ³•ï¼Œè¯·å‚è€ƒlxdæ‰‹å†Œ\nå¦‚ä½•ä½¿ç”¨æ˜¾å¡åŠ é€Ÿ ä»¥nvidiaä¸ºä¾‹åœ¨åˆ›å»ºdockerçš„æ—¶å€™ æŠŠæ˜¾å¡æŒ‚è¿›å»å³å¯\n1 2 3 4 5 docker run .... --device /dev/nvidia0:/dev/nvidia0 \\ --device /dev/nvidiactl:/dev/nvidiactl \\ --device /dev/nvidia-uvm:/dev/nvidia-uvm \\ .... pve ç¾¤æ™– unraid esxi ä¸‹çš„å®‰è£…æ–¹å¼ pveä¸‹ï¼Œä½ å¯ä»¥ç”¨lxc/vm è¿è¡Œdockerçš„æ–¹å¼è¿è¡Œï¼Œä¹Ÿå¯ä»¥ï¼Œä»æœ¬é•œåƒå†…æå–lxcæ¨¡æ¿ç›´æ¥å¯¼å…¥åˆ° CTå®¹å™¨ã€‚ å…¶ä»–ç³»ç»Ÿ å»ºè®®ç›´æ¥dockerè¿è¡Œ\nç›®å½•å’Œæ–‡ä»¶è¯´æ˜ /boot.sh åœ¨dockerå†… å…¶ä»–æ–‡ä»¶åœ¨ debianå†…\nå¯åŠ¨æ–‡ä»¶ boot.sh /boot.sh åœ¨dockerå†… ç”¨äºå¯åŠ¨alpineçš„ ssh å’Œ lxd/lxc çš„debian\nsystemd å’Œ supervisord systemd å’Œ supervisord åœ¨ lxcçš„debianå†…\nnovncä½¿ç”¨supervisordå¯åŠ¨:/etc/supervisor/conf.d/ï¼Œvncå’Œå…¶ä»–æœåŠ¡ä½¿ç”¨systemdå¯åŠ¨ï¼š/etc/systemd/system/\ni3 é…ç½®æ–‡ä»¶ /home/yanhui/.config/i3/config\nopenboxé…ç½®æ–‡ä»¶ /home/yanhui/.config/openbox/menu.xml #å³é”®èœå• feh.sh rofi.sh #å³é”®èœå•å¯¹åº” å£çº¸å’Œrofiçš„çš„æ‰§è¡Œè„šæœ¬\nå£çº¸ç›®å½• i3é…ç½®æ–‡ä»¶è°ƒç”¨fehéšæœºé€‰ /home/yanhui/.config/i3/bg/\npolybar /home/yanhui/.config/polybar/config.ini # polybarçš„å…¨éƒ¨é…ç½®æ–‡ä»¶ åŒ…æ‹¬å·¦ä¸Šè§’èœå• /home/yanhui/.config/polybar/polybar_run.sh # å¯åŠ¨å’Œé‡å¯polybarçš„è„šæœ¬ /home/yanhui/.config/polybar/weather-plugin.py # polybar å¤©æ°”é¢„æŠ¥æ’ä»¶ ç”¨çš„ openweathermap.orgçš„æ¥å£ å†…ç½®keyç”¨çš„äººå¤šæœ‰å¯èƒ½å¤±æ•ˆï¼Œè‡ªå·±å»æ³¨å†Œä¸€ä¸ªæ¢æ‰ã€‚ rofi /home/yanhui/.config/rofi/config.rasi\ndunst /home/yanhui/.config/dunst/dunstrc\nalacritty /home/yanhui/.config/alacritty/alacritty.yml\nzsh /home/yanhui/.zshrc /home/yanhui/.oh-my-zsh\n","date":"2023-07-07T11:02:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-desktop/","title":"dockerè¿è¡Œdebianæ¡Œé¢ åŒ…å«i3 xrdpï¼ˆå¸¦å£°éŸ³ï¼‰ x11 vnc novnc"},{"content":"æœªä½¿ç”¨Dockerfile æ˜¯å› ä¸ºæ­å»ºè¿‡ç¨‹ç•¥å¾®å¤æ‚ï¼Œå¦‚æœå¦å¤–æ‰“åŒ…å‡ºæ¥rootfs ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æ‰€ä»¥å¹²è„†å…¬å¼€è¿‡ç¨‹ã€‚\næœ¬æ–‡å¯èƒ½å­˜åœ¨æ»åï¼Œæœªç»è¿‡ä¸¥æ ¼æ•´ç†å’Œæ ¸å¯¹,æ‰€æœ‰å†å²å‘½ä»¤ï¼Œä½ åœ¨ ä¸‹è¿°æ–‡ä»¶ä¸­å‡å¯ä»¥çœ‹åˆ°\n1 2 3 4 docker exec -it dt lxc exec dt cat /root/.bash_history docker exec -it dt lxc exec dt cat /home/yanhui/.bash_history docker exec -it dt lxc exec dt cat /home/yanhui/.zsh_history docker exec -it dt cat /root/.ash_history å®¿ä¸»ç”¨alpine\n1 2 3 docker run -itd --restart=always --name test --hostname test --privileged=true \\ -p 333:3389 -p 2221:2222 -p 2222:2222 -p 888:8080 -p 6900-6905:5900-5905 -v /mnt:/mnt \\ alpine:3.18.2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 docker exec -it test /bin/sh sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata apk add openssh lxd lxd-client lxcfs dbus sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config echo \u0026#34;session optional pam_cgfs.so -c freezer,memory,name=systemd,unified\u0026#34; \u0026gt;\u0026gt; /etc/pam.d/system-login echo \u0026#34;lxc.idmap = u 0 100000 65536\u0026#34; \u0026gt;\u0026gt; /etc/lxc/default.conf echo \u0026#34;lxc.idmap = g 0 100000 65536\u0026#34; \u0026gt;\u0026gt; /etc/lxc/default.conf echo \u0026#34;root:100000:65536\u0026#34; \u0026gt;\u0026gt; /etc/subuid echo \u0026#34;root:100000:65536\u0026#34; \u0026gt;\u0026gt; /etc/subgid echo \u0026#34;systemd_container=yes\u0026#34;\u0026gt;\u0026gt; /etc/conf.d/lxc 1 2 3 4 5 6 7 8 # å¤„ç† å¯åŠ¨æ–‡ä»¶ echo \u0026#34;root:1\u0026#34; | chpasswd # alpineçš„rootå¯†ç æ”¹ä¸º1 # lxc lxd lxcfs dbus echo \u0026#34;/usr/sbin/sshd -D\u0026#34; \u0026gt; /boot.sh echo \u0026#34;lxd \u0026amp;\u0026#34; \u0026gt;\u0026gt; /boot.sh echo \u0026#34;lxc start dt \u0026#34; \u0026gt;\u0026gt; /boot.sh echo \u0026#34;tail -f /dev/null\u0026#34; \u0026gt;\u0026gt; /boot.sh chmod +x /boot.sh 1 2 3 4 5 6 7 lxd \u0026amp; lxd init # å…¨éƒ¨é»˜è®¤ é™¤äº†è‡ªåŠ¨æ›´æ–°é‚£ä¸ª lxc launch images:debian/12 dt # è¿™ä¸ªé”™è¯¯ä¸å½±å“ ERROR [2023-07-06T21:40:35+08:00] balance: Unable to set cpuset err=\u0026#34;setting cgroup item for the container failed\u0026#34; name=dt value=\u0026#34;0,1,10,11,2,3,4,5,6,7,8,9\u0026#34; lxc config set dt security.privileged true #ç‰¹æƒ lxc config get dt security.privileged #æ£€æŸ¥ lxc info dt 1 2 3 4 5 6 7 8 # å¤„ç†ç«¯å£æ˜ å°„ lxc config device add dt xrdp proxy listen=tcp:0.0.0.0:3389 connect=tcp:127.0.0.1:3389 lxc config device add dt sshd proxy listen=tcp:0.0.0.0:22 connect=tcp:127.0.0.1:2222 lxc config device add dt novnc proxy listen=tcp:0.0.0.0:8080 connect=tcp:127.0.0.1:8080 lxc config device add dt vnc0 proxy listen=tcp:0.0.0.0:5900 connect=tcp:127.0.0.1:5900 lxc config device add dt vnc1 proxy listen=tcp:0.0.0.0:5901 connect=tcp:127.0.0.1:5901 lxc config device add dt sshd proxy listen=tcp:0.0.0.0:2222 connect=tcp:127.0.0.1:22 # åˆ é™¤ lxc config device remove dt sshd 1 2 # æŒ‚è½½ç›®å½• lxc config device add dt sda1 disk source=/mnt/sda1 path=/mnt/sda1 # æŒ‚è½½ç›®å½• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 # debianå†…å¤„ç† lxc exec dt /bin/bash sed -i \u0026#39;s/deb.debian.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apt/sources.list apt update\u0026amp;\u0026amp;apt upgrade # åŸºç¡€ apt install -y wget curl nano openssh-server unzip sudo zsh ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime # æ¡Œé¢ apt install i3 openbox # é”™è¯¯ä¸å½±å“ Failed to try-restart systemd-binfmt.service: Unit systemd-binfmt.service is masked. # å­—ä½“ apt install fonts-jetbrains-mono fonts-noto-color-emoji mkdir -p /usr/share/fonts/WindowsFonts \u0026amp;\u0026amp; cd /usr/share/fonts/WindowsFonts wget -c https://ghproxy.com/https://raw.githubusercontent.com/joyanhui/file.leiyanhui.com/windows_font/msyh.ttc fc-cache -f dpkg-reconfigure locales # zh_CN.UTF-8 # å¸¸ç”¨ç»„ä»¶ çŠ¶æ€äº† å›¾ç‰‡æŸ¥çœ‹å£çº¸ ç»ˆç«¯ ä»»åŠ¡åˆ‡æ¢å’Œè¿è¡Œ shell pythoneçš„æ¨¡å— apt install -y polybar feh dunst alacritty rofi zsh python3-requests # æµè§ˆå™¨å’Œæ–‡ä»¶ç®¡ç†å™¨ apt install -y firefox-esr thunar # ä¸éœ€è¦å¯ä»¥è‡ªå·±åˆ é™¤ ï¼Œå ç”¨ç¡¬ç›˜400å¤šM # thunarç½‘ç»œè®¿é—® nasæ‰€éœ€è¦ç»„ä»¶ apt install -y gvfs gvfs-backends gvfs-fuse sshfs # å ç”¨ç¡¬ç›˜61M openboxä¸‹æ— æ³•ä½¿ç”¨ # ä¸­æ–‡è¾“å…¥æ³• #apt install -y fcitx5-chinese-addons # 740M # è¿œç¨‹ apt install -y xrdp tigervnc-standalone-server novnc python3-websockify supervisor # 194M # ç¼–è¯‘ xrdp å£°éŸ³ apt install -y pulseaudio apt install -y build-essential dpkg-dev libpulse-dev git autoconf libtool # æ­¤éƒ¨åˆ†ç»„å»ºè°¨æ…åˆ é™¤ apt install -y lsb-release doxygen git clone https://github.com/neutrinolabs/pulseaudio-module-xrdp.git # åŸºäºv0.7 cd pulseaudio-module-xrdp scripts/install_pulseaudio_sources_apt.sh # debian12 ç”¨è¿™ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯scripts/install_pulseaudio_sources_apt_wrapper.sh ä¸å…¼å®¹debian12 ./bootstrap \u0026amp;\u0026amp; ./configure PULSE_DIR=~/pulseaudio.src make \u0026amp;\u0026amp; make install # éªŒè¯ ls $(pkg-config --variable=modlibexecdir libpulse) | grep xrdp # module-xrdp-sink.so å’Œ module-xrdp-source.so å°±æ˜¯æˆåŠŸäº† # ç”¨æˆ·å useradd -ms /bin/bash yanhui echo \u0026#34;yanhui:1\u0026#34; | chpasswd usermod -G sudo yanhui #loginctl enable-linger yanhui # å…è®¸æ­¤ç”¨æˆ·æ¨å‡ºç™»é™†å ä»–çš„ç”¨æˆ·æœåŠ¡ä¾æ—§æ‰§è¡Œ # æœåŠ¡å¤„ç† vnc å’Œ novnc # å¤„ç†ç”¨æˆ· ======== start su yanhui \u0026amp;\u0026amp; cd ~ # vnc å¯†ç  vncpasswd # é»˜è®¤shell ä» bashè½¬zsh echo \u0026#34;zsh\u0026#34; \u0026gt;\u0026gt; ~/.bashrc # xrdp é»˜è®¤æ¡Œé¢ echo i3 \u0026gt;/home/yanhui/.xsession # å£çº¸ 2å¼  mkdir ~/bg \u0026amp;\u0026amp; cd ~/bg wget https://raw.githubusercontent.com/joyanhui/file.leiyanhui.com/dwm-wallpaper/green.jpg wget https://raw.githubusercontent.com/joyanhui/file.leiyanhui.com/dwm-wallpaper/bing-jurenzhilu.jpg # zsh cd ~ wget https://github.com/joyanhui/oh-my-zsh/archive/refs/heads/main.zip -O main.zip unzip main.zip \u0026amp;\u0026amp; mv oh-my-zsh-main/.oh-my-zsh . cp oh-my-zsh-main/.zshrc .\u0026amp;\u0026amp; rm main.zip \u0026amp;\u0026amp; rm -rf oh-my-zsh-main/ # i3 é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # polybar é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # dunst é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # alacritty é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # rofi é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # openbox é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w # user-dirs.dirs é…ç½®æ–‡ä»¶ å‚è€ƒï¼šhttps://github.com/joyanhui/i3w echo \u0026#34;openbox\u0026#34; \u0026gt; ~/.vnc/xstartup \u0026amp;\u0026amp; chmod +x ~/.vnc/xstartup # é…ç½®vncæ¡Œé¢ä¸ºopenbox # å¤„ç†ç”¨æˆ· ======== end exit # é€€å›åˆ°root # é…ç½®vnc # å‚è€ƒ /lib/systemd/system/tigervncserver@.service cat \u0026gt; /etc/systemd/system/vncserver@0.service \u0026lt;\u0026lt; \\EOF [Unit] Description=Start TightVNC server at startup After=syslog.target network.target [Service] Type=forking User=yanhui Group=yanhui WorkingDirectory=/home/yanhui PIDFile=/home/yanhui/.vnc/%H:%i.pid ExecStartPre=-/usr/bin/vncserver -kill :%i \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 ExecStart=/usr/bin/vncserver -geometry 1900x930 -localhost no :%i ExecStop=/usr/bin/vncserver -kill :%i [Install] WantedBy=multi-user.target EOF # novnc cat \u0026gt; /etc/supervisor/conf.d/novnc.conf \u0026lt;\u0026lt; \\EOF [program:novnc] command= /usr/bin/websockify -D --web=/usr/share/novnc/ 8080 localhost:5900 user=yanhui autorestart=true priority=999 EOF supervisorctl update ln -s /usr/share/novnc/vnc.html /usr/share/novnc/index.html # é¦–é¡µ systemctl daemon-reload systemctl enable vncserver@0 # æ¸…ç† rm -rf /root/pulseaudio* # xrdp å†å²æ–‡ä»¶ #rm /root/.bash_history #rm /home/yanhui/.bash_history #rm /home/yanhui/.zsh_history apt autoremove \u0026amp;\u0026amp; apt autoclean \u0026amp;\u0026amp; apt clean alpine å…¥å£å¯åŠ¨æ–‡ä»¶\n1 2 3 4 # æ¸…ç† rm -rf /var/cache/apk/* #rm -rf ~/.ash_history â€\nå¤‡ä»½ docker\n1 2 3 4 5 6 7 8 docker stop test2 docker export test2 \u0026gt; 3.tar docker import 1.tar test2 docker stop test2 \u0026amp;\u0026amp; docker rm test2 \u0026amp;\u0026amp; docker rmi test2 docker run -itd --restart=always --name test2 --hostname test2 --privileged=true \\ -p 333:3389 -p 222:2222 -p 888:8080 -p 6900-6905:5900-5905 -v /mnt:/mnt \\ test2 sh /boot.sh â€\næ¨é€åˆ° hub.docker.com\n1 2 3 4 5 6 7 8 9 10 docker logout docker login # æ¨é€åˆ°é˜¿é‡Œäº‘ å®¹å™¨é•œåƒ # docker login --username=ä½ çš„ç”¨æˆ·é‚®ç®± registry.cn-åœ°åŒº.aliyuncs.com datename=$(date +%Y%m%d%H%M%S) docker tag test2 joyanhui/debian-i3-xrdp-novnc docker tag test2 joyanhui/debian-i3-xrdp-novnc:a-lxd-d-$(datename) docker push joyanhui/debian-i3-xrdp-novnc:a-lxd-d-${datename} docker push joyanhui/debian-i3-xrdp-novnc ","date":"2023-07-07T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-desktop-exec/","title":"joyanhui/debian-i3-xrdp-novnc  å…¬å¼€çš„æ­å»ºè¿‡ç¨‹"},{"content":"åœ¨ä½¿ç”¨æ ‘çŠ¶æ ‡ç­¾åï¼Œå±å¹•é¡¶éƒ¨æ¨ªå‘çš„æ ‡ç­¾å°±æ— ç”¨äº†ï¼Œå¯ä»¥è€ƒè™‘éšè—æ‰ã€‚\næˆ‘ä½¿ç”¨äº† tree-style-tab/ï¼šhttps://addons.mozilla.org/zh-CN/firefox/addon/tree-style-tab/\nä½†æ˜¯å’Œedgeä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™ä¸ªæ‰©å±•å¹¶ä¸èƒ½è‡ªåŠ¨éšè—æ¨ªå‘çš„æ ‡ç­¾ã€‚è¿™å°±éœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†ã€‚\nç«ç‹æ”¯æŒç”¨cssçš„æ–¹å¼æ¥å®šä¹‰å¤–è§‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå…ˆæ‰“å¼€è¿™ä¸ªåŠŸèƒ½ã€‚\nå¯ç”¨ userChrome.css åœ¨ç«ç‹åœ°å€æ è¾“å…¥about:configå›è½¦ï¼Œè·³è¿‡è­¦å‘Šä¿¡æ¯åï¼Œè¾“å…¥ toolkit.legacyUserProfileCustomizations.stylesheets è®¾ç½®ä¸º true\nåˆ›å»ºuserChrome.css æŸ¥çœ‹ ç‚¹å‡» ç«ç‹æµè§ˆå™¨ å³ä¾§çš„ ä¸‰ ç‚¹å¸®åŠ©ï¼Œæ’é™¤æ›´å¤šæ•…éšœä¿¡æ¯ ï¼Œæ‰¾åˆ° é…ç½®æ–‡ä»¶å¤¹(Profile Folder) æ‰“å¼€ç›®å½•ã€‚ æˆ–è€…åœ°å€æ è¾“å…¥about:support\nå¸¸è§„æƒ…å†µä¸‹ æ¯”å¦‚ ï¼Œæˆ‘çš„ç›®å½•æ˜¯ ~/.mozilla/firefox/aiqooixw.default-esr\nWindows portable è¿™ä¸ªç›®å½•åœ¨ XXXX\\FirefoxPortable\\Data\\profile\\\nåœ¨flatpakç‰ˆæœ¬ä¸‹ å› ä¸ºæ²™ç›’åŸç†ï¼Œè¿™ä¸ªè·¯å¾„å¯èƒ½ä¸å­˜åœ¨ å¯ä»¥é€šè¿‡æŸ¥çœ‹è¿™ä¸ªåœ°å€åï¼Œç„¶åæœç´¢å¯¹åº”çš„ç›®å½•çš„å®é™…è·¯å¾„ã€‚æ¯”å¦‚æˆ‘çš„æ˜¯\n1 2 3 find /home/XXXX/ -name \u0026#34;8wxcq01f.default-release\u0026#34; /home/XXXX/.var/app/org.mozilla.firefox/cache/mozilla/firefox/8wxcq01f.default-release /home/XXXX/.var/app/org.mozilla.firefox/.mozilla/firefox/8wxcq01f.default-release /home/XXXX/.var/app/org.mozilla.firefox/.mozilla/firefox/8wxcq01f.default-release è¿™ä¸ªè·¯å¾„å°±æ˜¯äº†\nåˆ›å»ºå­ç›®å½•å’Œæ–‡ä»¶ å†è¿™ä¸ªç›®å½•ä¸‹ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ åå­—å«åš chrome ,ç„¶åå† chromeç›®å½•é‡Œé¢ æ–°å»ºä¸€ä¸ªcssæ–‡ä»¶åç§°ä¸ºuserChrome.css\nuserChrome.css æ–‡ä»¶å†…å®¹ æ³¨æ„ï¼Œè¿™éƒ¨åˆ†å†…å®¹è¦æ ¹æ®ä½ çš„æƒ…å†µåšé€‚å½“çš„è°ƒæ•´ï¼Œä¸»è¦æ˜¯ /* leftTop drag area */ è¿™è¡Œ ä»¥åŠ #titlebar çš„ margin-bottom æ‰å¯ä»¥\nç»è¿‡æµ‹è¯•ï¼Œ96-130ç‰ˆæœ¬å‡å¯ä»¥å®ç°ï¼Œæˆ‘ä¸»åŠ›ç”¨çš„firefox-esr 115 ï¼Œæ¡Œé¢ç¯å¢ƒæ˜¯ i3w ä¸‹é¢csså†…å®¹æ˜¯æˆ‘æµ‹è¯•æ­£å¸¸çš„ã€‚\nåœ¨windows11 ä¸‹åªéœ€è¦æŠŠtitlebarçš„ margin-bottom: -0px !important;ä¿®æ”¹ä¸º margin-bottom: -35px !important; å³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #main-window:not([drawtitle=\u0026#34;true\u0026#34;]):not([inFullscreen=\u0026#34;true\u0026#34;]) #nav-bar { margin-left : 30px; /* leftTop drag area */ border-right: 140px solid var(--toolbar-bgcolor); } :root[sizemode=\u0026#34;maximized\u0026#34;] #nav-bar { margin-top: 20px !important; /* Top drag area */ margin-left : 0px !important; /* hidden leftTop drag area in Fullscreen mode*/ border-right: 140px solid var(--toolbar-bgcolor); } :root[privatebrowsingmode=\u0026#34;temporary\u0026#34;] #nav-bar { border-right: 180px solid var(--toolbar-bgcolor) !important; } /* ä¸»è¦æ˜¯ä¿®æ”¹è¿™é‡Œçš„ margin-bottom æ”¯æŒè´Ÿæ•° ä¾‹å¦‚ margin-bottom: -30px !important; */ #titlebar { margin-bottom: -0px !important; } /* move down 3 button on rightTop */ .titlebar-buttonbox-container { margin-bottom: -5px !important; } :root[sizemode=\u0026#34;maximized\u0026#34;] .titlebar-buttonbox-container { margin-bottom: -15px !important; } /* move down private icon */ .private-browsing-indicator { margin-bottom: -8px !important; } :root[sizemode=\u0026#34;maximized\u0026#34;] .private-browsing-indicator { margin-bottom: -18px !important; } /* hidden horizontal tabbar on top */ #tabbrowser-tabs[orient=\u0026#34;horizontal\u0026#34;] { visibility: collapse !important; } #sidebar-box[sidebarcommand=\u0026#34;_0ad88674-2b41-4cfb-99e3-e206c74a0076_-sidebar-action\u0026#34;] sidebarheader { visibility: collapse !important; } å…¶ä»– ç«ç‹é»˜è®¤å¿«æ·é”® https://support.mozilla.org/zh-CN/kb/%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE\nwindowsä¸‹protableç‰ˆè®¾ç½®é»˜è®¤æµè§ˆå™¨ ç”¨PortableRegistrator è¿™ä¸ªè½¯ä»¶ https://github.com/SiL3NC3/PortableRegistrator\n","date":"2023-07-05T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/web/firefox-hidden-top-tab/","title":"firefoxç«ç‹æµè§ˆå™¨éšè—é¡¶éƒ¨æ ‡ç­¾/æ ‡é¢˜æ ï¼šwindows/linux/flatpak"},{"content":"ä¸ºä»€ä¹ˆä¸ç»å¸¸æ›´æ–° å› ä¸ºå®šä½æ˜¯ xrdp+vnc+novnc+è¿œç¨‹å£°éŸ³è½¬å‘ å¯ç”¨çš„ä¸€ä¸ªå°½å¯èƒ½å°å·§çš„ç¨³å®šlinux, è¿™ä¸ªåŸºæœ¬åŠŸèƒ½æ˜¯ç»å¯¹ç¨³å®šå¼ºå£®å¯ç”¨çš„ã€‚\né™¤é pulseaudio-module-xrdp æœ‰å¤§ç‰ˆæœ¬æ›´æ–°ï¼Œä¸ç„¶joyanhui/debian-i3-xrdp-novnc ä¸ä¼šç»§ç»­æ›´æ–°ã€‚\nå®‰å…¨æ›´æ–° è‡ªå·± apt upgrade å³å¯ï¼\nå»ºè®®å’Œéœ€æ±‚ mailto: am95YW5odWkoYXQpcXEuY29t ï¼ˆè§£ç åè”ç³»ï¼‰\næ›´æ–°è®¡åˆ’ ä¸ä»£è¡¨ä¸€å®šä¼šæ·»åŠ ä¸Šå¯èƒ½æ˜¯è¿˜åœ¨æƒè¡¡\nå¤©æ°”é¢„æŠ¥é»˜è®¤æ˜¾ç¤º æç¤ºä¿®æ”¹key openbox é›†æˆdock æˆ–è€… ä»»åŠ¡æ  é»˜è®¤å£çº¸ç­‰ é»˜è®¤ç”¨æˆ· yanhui å…å¯†ç sudo ç‰©ç†æœºå¯ç›´æ¥å¯åŠ¨ç‰ˆ å·²ç»å®Œæˆçš„ 2023-0708 ä¿®å¤ vncå’Œ novnc çš„è‡ªåŠ¨å¯åŠ¨ openbox å³é”®èœå•å¢åŠ  thunar é›†æˆ inetutils-ping iproute2 æ–¹ä¾¿ä½¿ç”¨ping , ip a å‘½ä»¤ old alacritty å­—ä½“ä¿®å¤ã€2023-0707ã€‘ i3 è‡ªåŠ¨éšè—firefox-esræµè§ˆå™¨è¾¹æ¡†ã€2023-0707ã€‘ ä¿®å¤æ—¶åŒº é”™è¯¯ sudo ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtimeã€2023-0707ã€‘ ç”¨é›…é»‘å­—ä½“æ›¿æ¢zhenhei ã€2023-0707ã€‘ openbox å³é”®èœå• rofiçš„æç¤ºã€2023-0707ã€‘ polybar èœå•å¢åŠ  é€€å‡º å’Œé‡å¯ polybar ã€2023-0707ã€‘ polybar å…¼å®¹é›…é»‘å­—ä½“ã€2023-0707ã€‘ é›†æˆ thunar gvfs gvfs-backends gvfs-fuse ã€2023-0707ã€‘ é›†æˆ compton ã€å·²ç»å®Œæˆã€‘ å¤©æ°”é¢„æŠ¥ é»˜è®¤è°ƒç”¨ firefox-esr æ‰“å¼€ç½‘å€ ã€å·²ç»å®Œæˆã€‘ vnc å’Œxrdpé‡å¤è°ƒç”¨pulseaudio å¯¼è‡´çš„å†²çªé—®é¢˜ ã€ä½¿ç”¨åŒæ¡Œé¢æ–¹æ¡ˆè§£å†³ã€‘ é»˜è®¤æ¡Œé¢å°è¯• å…¼å®¹ xrdp å’Œ vncå¤šæ˜¾ç¤ºå™¨ vnc å¯èƒ½ä¼šé‡‡ç”¨openbox ã€å·²ç»å®Œæˆã€‘ çŠ¶æ€æ  å¤šæ˜¾ç¤ºå™¨ ã€å› ä¸ºåŒæ¡Œé¢ç³»ç»Ÿ å·²ç»ä¸éœ€è¦ï¼Œi3ç°æœ‰é…ç½®æ–‡ä»¶å¯ä»¥æ»¡è¶³ã€‘ ","date":"2023-07-04T00:15:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-desktop-next/","title":"docker joyanhui/debian-i3-xrdp-novnc æ›´æ–°è®°å½•å’Œæ›´æ–°è®¡åˆ’"},{"content":"æœ¬æ–‡ä¸ºæ—§ç‰ˆæœ¬æ–‡æ¡£ï¼Œæ–°ç‰ˆæ–‡æ¡£åœ¨ ï¼š https://dev.leiyanhui.com/docker/debian-desktop/\ndebian12 i3 xrdp novnc X11Forwarding include pulseaudio-xrdp\næ²¡å¤šä½™çš„è½¯ä»¶ï¼Œå†…å­˜å ç”¨200Må·¦å³ï¼Œç”šè‡³æµè§ˆå™¨éƒ½æ²¡æœ‰ã€‚ åæ–‡æœ‰è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•å’Œ å®‰è£…å…¶ä»–çš„è½¯ä»¶çš„æ–¹æ³•ã€‚\nç‰¹æ€§ è½»é‡ å¹²å‡€ åŸºäºi3 å’Œ openbox å¯ä»¥ç”¨xrdp novnc(webvnc) vnc x11 ç­‰æ–¹å¼è¿è¡Œã€‚\nvncå’Œnovncä½¿ç”¨ç®€æ´çš„åŸç”Ÿopenbox xrdpä½¿ç”¨ä¾èµ–å¿«æ·é”®ä½†æ˜¯æ›´é«˜æ•ˆçš„i3 é›†æˆè½¯ä»¶ï¼š\ndebian 12 bookworm i3 openbox polybar rofi alacritty dunst zsh supervisord æœåŠ¡å™¨ç®¡ç† åŠpython3 tigervnc novnc websockify ttf-wqy-zhenhei fonts-jetbrains-mono fonts-noto-color-emoji\næ›´æ–°è®°å½•å’Œè®¡åˆ’ å®‰è£… 1 2 3 4 5 6 docker run -itd --restart=always \\ --name debian-i3 --hostname debian-i3 \\ -p 3389:3389 -p 2222:22 \\ -p 8080:8080 -p 5900-5905:5900-5905 \\ -v /mnt:/disk \\ -e TZ=Asia/Shanghai joyanhui/debian-i3-xrdp-novnc /autoStart.sh 3389æ˜¯xrdpç«¯å£ 2222 æ˜¯ssh x11ç«¯å£ 8080 æ˜¯novnc ç«¯å£ 5900-5905 æ˜¯vncç«¯å£é»˜è®¤ç”¨æˆ·æ˜¯5900\né»˜è®¤ç”¨æˆ·åå’Œå¯†ç  xrdp x11 ssh çš„é»˜è®¤ç”¨æˆ·åï¼šyanhui å¯†ç ï¼š1 ï¼ˆåªæœ‰ä¸€ä¸ªæ•°å­—1ï¼‰ vnc å¯†ç ï¼š111111ï¼ˆå…­ä¸ªæ•°å­—1ï¼‰\nä¸ºä»€ä¹ˆé€‰æ‹©debian å› ä¸ºæ¯”Ubuntuå¹²å‡€ï¼Œdebianä¸€ç›´è¢«è¯Ÿç—…çš„åŒ…å°‘çš„é—®é¢˜ï¼Œdebian12 å¢åŠ äº†11089ä¸ªåŒ…ï¼Œæ€»æ•°é‡å·²ç»åˆ°äº†64419ï¼Œéƒ¨åˆ†å®˜æ–¹ä»“åº“æ²¡æœ‰çš„è½¯ä»¶ï¼Œè½¯ä»¶å¼€å‘è€…è‡ªå·±ä¸€èˆ¬æä¾›æºæˆ–è€…debã€‚ æ”¾å¼ƒarchlinuxæ”¹debian æ˜¯å› ä¸ºæœ‰éƒ¨åˆ†å•†ä¸šè½¯ä»¶åªæœ‰deb rpmåŒ…auré‡Œé¢æ²¡æœ‰ï¼Œè‡ªå·±è§£åŒ…å¤ªéº»çƒ¦ã€‚ archçš„ ä¸€äº›å…¶ä»–ç¼ºç‚¹è¿™é‡Œä¸å¤šè¯´ã€‚\nè€Œä¸”debian12 2å¹´æ›´æ–° 5å¹´å®‰å…¨ï¼Œä»¥åä¹Ÿå¯ä»¥å¹³æ»‘å‡çº§åˆ°æ›´æ–°ç‰ˆæœ¬ã€‚\nä¸ºä»€ä¹ˆé€‰æ‹©i3 å’Œopenbox æ€ä¹ˆæ¢å…¶ä»–æ¡Œé¢ å› ä¸ºè½»é‡ï¼Œä»¥åŠä¸ªäººä¹ æƒ¯ï¼Œä½ å¯ä»¥è‡ªç”±æ¢æˆå…¶ä»–ä»»æ„æ¡Œé¢ç³»ç»Ÿã€‚ å› ä¸ºi3çš„é«˜æ•ˆæ¥è‡ªå¿«æ·é”®ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­ä¼šæœ‰å¤§é‡å¿«æ·é”®å†²çªã€‚æ‰€ä»¥æ–°ç‰ˆæœ¬åœ¨novncä¸­ä½¿ç”¨äº†åŒæ ·è½»é‡çš„openboxã€‚\nè€Œåœ¨xrdpä¸­ï¼Œå› ä¸ºå…¨å±æ¨¡å¼ å’Œéƒ¨åˆ†æ”¯æŒrdpçš„å®¢æˆ·ç«¯è½¯ä»¶ å‡å¯åšåˆ°é”®ç›˜æ˜ å°„ï¼Œæ‰€ä»¥xrdpä½¿ç”¨äº†i3æ¡Œé¢\næ›´æ¢ä¸ºå…¶ä»–æ¡Œé¢çš„æ–¹æ³• ä¾‹å¦‚ï¼Œè¦æ¢æˆ xfce4é¦–å…ˆå®‰è£…sudo apt install xfce4 ,ç„¶åä¿®æ”¹ /autoStart.sh å¯ä»¥æ›´æ¢vncå’Œnovncçš„æ¡Œé¢ã€‚\nä¿®æ”¹ç”¨æˆ·ç›®å½•ä¸‹çš„ ~/.xsession æ–‡ä»¶å¯ä»¥æ›¿æ¢xrdpçš„æ¡Œé¢ã€‚ç„¶åå¸è½½æ‰i3æˆ–è€…openboxå³å¯:sudo apt purge i3 or sudo apt purge openbox\nnovnc vncä¸ºä»€ä¹ˆæ˜¯é»‘å± å°±æ˜¯é»‘å±çš„ï¼Œå› ä¸ºä¸ºäº†èŠ‚çœèµ„æºç”¨çš„æ²¡æœ‰ä»»ä½•æ‰©å±•çš„openboxã€‚ å³é”® æœ‰æƒŠå–œï¼\næ€ä¹ˆå¯åŠ¨shell å’Œå¸¸è§å¿«æ·é”® åŸºæœ¬æ˜¯i3 çš„é»˜è®¤å¿«æ·é”®\nç‚¹å±å¹•é¡¶éƒ¨çš„ Apps\u0026gt; ç³»ç»Ÿ \u0026gt;ç»ˆç«¯ ï¼ˆéƒ¨åˆ†èœå•æ— ç”¨ï¼Œæ˜¯å› ä¸ºæ²¡å¯¹åº”è½¯ä»¶ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹polybarçš„é…ç½®æ–‡ä»¶ ï¼‰\nå¦‚æœæ˜¯rdpè¿œç¨‹æ¡Œé¢ä¸‹ï¼ŒæŒ‰ä¸‹é”®ç›˜ ï¼š win+å›è½¦ å¯åŠ¨ç®¡ç†å™¨ï¼ˆå¼€å§‹èœå•ï¼‰ :win d\nç¨‹åºåˆ‡æ¢ alt+tab ä¿®æ”¹çª—å£å¤§å°ï¼šæŒ‰ä½win å†æŒ‰ä½ é¼ æ ‡å³é”® æ¥å›æ‹–åŠ¨\nä¿®æ”¹çª—å£ä½ç½®ï¼šæŒ‰ä½win å†æŒ‰ä½ é¼ æ ‡å·¦é”® æ¥å›æ‹–åŠ¨\nå…³é—­è½¯ä»¶ï¼šwin shift q\næ³¨é”€ï¼šwin shift e\næ›´å¤šä½¿ç”¨æ–¹æ³• è‡ªå·±çœ‹ä¸€ä¸‹i3 ä½¿ç”¨è¯´æ˜\næ€ä¹ˆè£…ä¸­æ–‡è¾“å…¥æ³• 1 sudo apt install fcitx5 fcitx5-chinese-addons å®‰è£…å®Œæˆåï¼Œæ³¨é”€é‡æ–°ç™»å½•ä¸€æ¬¡æ¡Œé¢ï¼Œä¼šè‡ªåŠ¨åŠ è½½ï¼Œç„¶ååœ¨æ‰˜ç›˜ä½ç½®é…ç½®æ·»åŠ è¾“å…¥æ³•å³å¯ï¼Œæ‹¼éŸ³è¾“å…¥æ³•å¯å¯¼å…¥æœç‹—ç»†èƒè¯åº“ï¼Œå…·ä½“è‡ªå·±ç ”ç©¶ã€‚\næ€ä¹ˆæ–°å»ºç”¨æˆ·æ€ä¹ˆåˆ é™¤é»˜è®¤ç”¨æˆ· æ–°å»ºç”¨æˆ· 1 2 sudo adduser YouName sudo usermod -aG sudo YouName æ–°ç”¨æˆ·vncå¯†ç  ssh æˆ–è€… xrdp ç™»é™†æ–°ç”¨æˆ·åï¼Œè¿è¡Œ vncpasswd\næ›´æ–° vncæœåŠ¡ ä¿®æ”¹é‡Œé¢çš„ç”¨æˆ·å\n1 nano /autoStart.sh åˆ é™¤é»˜è®¤ç”¨æˆ· 1 2 sudo deluser yanhui rm -rf /home/yanhui # åœ¨ç¡®è®¤ç”¨ä¸åˆ°ä»¥å å†åˆ é™¤ ä¸ºäº†ä¸æ±¡æŸ“å…¨å±€ï¼Œæ¡Œé¢ç›¸å…³çš„é…ç½®æ–‡ä»¶éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ æ€ä¹ˆä¿®æ”¹å¯†ç  ç”¨æˆ·å¯†ç  å‘½ä»¤ï¼špasswd\nvncå¯†ç  å‘½ä»¤ï¼švncpasswd .vnc/passwd ï¼Œéœ€è¦é‡å¯vncæœåŠ¡ï¼Œå‘½ä»¤æŸ¥çœ‹ cat /autoStart.sh x11è½¬å‘æ¨¡å¼å¦‚ä½•ä½¿ç”¨è¾“å…¥æ³• ä¿®æ”¹ä¸€ä¸‹fcitx5çš„ä¸­è‹±æ–‡åˆ‡æ¢å¿«æ·é”®ï¼Œå’Œä½ å½“å‰ç”µè„‘çš„ä¸èƒ½ä¸€æ ·ã€‚ç„¶åå…ˆæ‰§è¡Œ fcitx5\u0026amp; å†æ‰§è¡Œå¯¹åº”çš„è½¯ä»¶ã€‚\nx11 è½¬å‘æ¨¡å¼éƒ¨åˆ†è½¯ä»¶å¾ˆå¡ æ²¡å¾—åŠæ³•ï¼Œå¯ä»¥é€‚å½“ä¼˜åŒ–ä¸€ä¸‹è‡ªå·±ç½‘ä¸Šæœå§ã€‚å¦å¤– ç«ç‹åœ¨x11è½¬å‘æ¨¡å¼ä¸‹é»˜è®¤é…ç½®è¦æ¯”chromeç³»æ›´å¡ã€‚\nnovncé»˜è®¤åœ°å€ http://ä½ çš„ip:8080/ å…¶ä¸­ç«¯å£dockerå†…éƒ¨é»˜è®¤ä½¿ç”¨80ï¼Œå¤–éƒ¨ç«¯å£æ˜¯ä½ è‡ªå·±æ˜ å°„çš„ã€‚\nnovncå¦‚ä½•èµ°https å»ºè®®ç”¨Nginx ç»Ÿä¸€åä»£ä¸€ä¸‹ï¼Œæˆ–å¸¦supervisorå¯åŠ¨çš„æ—¶å€™å¸¦è¯ä¹¦ã€‚\n20230704ç‰ˆæœ¬vncè¿ä¸ä¸Š 1 rm /tmp/.X0-lock æŠŠä¸Šé¢è¿™è¡Œä»£ç æ·»åŠ åˆ° /autoStart.sh ç¬¬äºŒè¡Œï¼Œç„¶åé‡å¯æ•´ä¸ªå®¹å™¨\nå¦‚ä½•å…³æ‰vnc 1 2 3 4 5 sudo rm /etc/supervisor/conf.d/novnc.conf sudo apt purge tigervnc-standalone-server novnc python3-websockify # æ³¨é‡Šæ‰ /autoStart.sh çš„å¯åŠ¨å‘½ä»¤ # su -c \u0026#34;/usr/bin/vncserver -xstartup /usr/bin/i3 -geometry 1900x930 -localhost no :0 \u0026#34; yanhui # sudo apt autoremove \u0026amp;\u0026amp; sudo apt autoclean \u0026amp;\u0026amp; sudo apt clean # å¯é€‰æ¸…ç†æ“ä½œ ç„¶åå¸è½½\nå¤©æ°”é¢„æŠ¥å‡ºé”™ä»¥åŠå¦‚ä½•ä¿®æ”¹å¤©æ°”é¢„æŠ¥åŸå¸‚ ~/.config/polybar/weather-plugin.py è¿™ä¸ªæ–‡ä»¶ å¤©æ°”é¢„æŠ¥æ¥å£ ç”¨çš„openweathermap,å†…ç½®çš„æˆ‘è‡ªå·±çš„æ¥å£ï¼Œç”¨çš„äººå¤šäº†ä¼šå—é™åˆ¶æ— æ³•ä½¿ç”¨ã€‚\nä½ è‡ªå·±å»æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªkeyã€‚æŸ¥è¯¢ä¸€ä¸‹ä½ æ‰€éœ€è¦åŸå¸‚çš„idï¼Œç„¶åä¿®æ”¹é‡Œé¢çš„ç½‘å€éƒ¨åˆ†çš„ idï¼ˆåŸå¸‚ï¼‰ appidï¼ˆä½ è‡ªå·±çš„ï¼‰\nhttps://api.openweathermap.org/data/2.5/weather?id=1793724\u0026amp;appid=440b47a5ffbc5421e4a9befcbc4d635b\u0026amp;units=Metric\u0026amp;lang=zh_cn\nä½ å¦‚æœä¸æƒ³ç”¨ï¼Œç›´æ¥åœ¨ polybarçš„é…ç½®æ–‡ä»¶é‡Œé¢åˆ æ‰å³å¯ã€‚\nå¦‚ä½•è°ƒéŸ³é‡ åœ¨i3é…ç½®æ–‡ä»¶é‡Œé¢ä¿®æ”¹\nè°ƒæ•´éŸ³é‡ å¿«æ·é”®ï¼šwin ctrl â†‘ å’Œ win ctrl â†“ï¼Œï¼ˆå·¦å³æ˜¯é™éŸ³ï¼‰ä¹Ÿå¯ä»¥é¼ æ ‡ç§»åŠ¨åˆ° polybar éŸ³é‡å›¾æ ‡ä½ç½®æ»šè½®è°ƒæ•´ã€‚\nè¿›é˜¶ç”¨æ³•ï¼Œè‡ªå·±é…ç½®i3å’Œpolybar\nvnc å’Œxrdp æ¡Œé¢ä¸åŒæ­¥ æ˜¯çš„ï¼Œè¿™æ˜¯ä¸¤ä¸ªè™šæ‹Ÿæ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸åŒæ­¥ã€‚å¦‚æœè¦æ˜¾ç¤ºåŒæ ·çš„å†…å®¹ï¼Œå¯ä»¥åœ¨xrdpç™»é™†çš„æ—¶å€™ é€‰æ‹©ç™»é™†åˆ°vnc è€Œä¸æ˜¯org ã€‚\nnoVNC ç½‘é¡µè®¿é—®æŒ‰é”®å¤±çµä¹±è·³ 1ã€å…³é—­å®¿ä¸»çš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œä½¿ç”¨å®¿ä¸»æœºç³»ç»Ÿè‡ªå¸¦çš„è‹±æ–‡è¾“å…¥æ³•\n2ã€æ›´æ¢æµè§ˆå™¨ï¼Œç›®å‰å‘ç°chrome edgeä¹‹ç±»çš„ åœ¨noVNCä¸‹å…¼å®¹æ€§ä¸å¦‚æ–°ç‰ˆç«ç‹ ç«ç‹ 96ä»¥åç‰ˆæœ¬æµ‹è¯•è¿è¡Œè‰¯å¥½ï¼Œsafari å’Œ iosä¸‹çš„æµè§ˆå™¨å‡ä¸å…¼å®¹çš„å“ˆã€‚\næ²¡å£°éŸ³æˆ–è€… é¡¶éƒ¨éŸ³é‡ä¸æ˜¾ç¤º vnc å’Œx11 æ²¡å£°éŸ³ vncå’Œx11 å°±æ˜¯æ²¡å£°éŸ³çš„è¯ï¼Œå¦‚æœç¡®å®è¦ï¼Œè¯·ç”¨pulseaudioè½¬å‘ æˆ–è€…æ¢xrdp\nxrdpçš„polybar å¶å°”ä¸æ˜¾ç¤ºéŸ³é‡ è¿™ä¸ªæ˜¯polybar åœ¨ debian12ä¸‹ å’Œ pulseaudio-module-xrdp ä¹‹é—´çš„bugï¼Œå·²ç»æäº¤è¿‡issueï¼Œç­‰æ›´æ–°å§ã€‚\nä¸´æ—¶è§£å†³æ–¹æ³•,åœ¨æ¡Œé¢ç™»é™†ä¸€ä¼šå é‡å¯pulseaudioå’Œpolybar\n1 2 killall pulseaudio \u0026amp;\u0026amp; pulseaudio \u0026amp; sh .config/polybar/polybar_run.sh å¦‚ä½•ä¿®æ”¹åˆ†è¾¨ç‡ vnc novnc 1 nano /autoStart.sh # geometry åé¢çš„å‚æ•°æ˜¯vncçš„åˆ†è¾¨ç‡ xrdp xrdpçš„åˆ†è¾¨ç‡ ç”±ä½ çš„å®¢æˆ·ç«¯ å‘èµ·çš„æ—¶å€™é…ç½®\nopenboxçš„å£çº¸ç‚¹å¥½å¤šæ¬¡æ‰æ¢ä¸€å¼  å£çº¸æ˜¯éšæœºæ›´æ¢çš„é»˜è®¤å°±å¸¦äº†ä¸¤å¼ ï¼Œæ‰€ä»¥ä¼šæœ‰50%æ¦‚ç‡ä¸æ›´æ¢ã€‚\nè‡ªå·±æ·»åŠ å¼€æœºå¯åŠ¨é¡¹ ä¸‰ä¸ªæ–¹æ³•\nè·Ÿéš i3æ¡Œé¢å¯åŠ¨çš„è½¯ä»¶ï¼Œå¯ä»¥æ·»åŠ åˆ°i3 é…ç½®æ–‡ä»¶ä¸­ã€‚ä¾‹å¦‚æˆªå›¾è½¯ä»¶ï¼Œè“ç‰™æ‰˜ç›˜ç­‰ç­‰ åå°æœåŠ¡ï¼Œå¯ä»¥æ·»åŠ åˆ° /autoStart.sh éœ€è¦å®ˆæŠ¤çš„åå°æœåŠ¡ æ·»åŠ åˆ° supervisorä¸­ç›®å½•ï¼š /etc/supervisor/conf.d/ å®‰è£…å¸¸ç”¨è½¯ä»¶ ç‚¹å±å¹•å·¦ä¸Šè§’ APPS \u0026gt; ç³»ç»Ÿ \u0026gt; ç»ˆç«¯ è¾“å…¥ apt install å‘½ä»¤ï¼›å¯åŠ¨è½¯ä»¶ APPS \u0026gt; ç³»ç»Ÿ \u0026gt; rofi-run é€‰æ‹©è½¯ä»¶æˆ–è€…è¾“å…¥è½¯ä»¶åç§°\næˆ–è€…xrdpå…¨å±æ¨¡å¼ä¸‹ novnc å·¦ä¾§å¿«æ·é”®ä¹Ÿå¯ï¼š win+å›è½¦ win+d\n1 2 3 sudo apt install firefox-esr # ç«ç‹ sudo apt install chromium #chrome å¼€æºç‰ˆï¼Œé—­æºç‰ˆæœ¬ å»googleä¸‹è½½deb æˆ–è€…æ·»åŠ æº sudo apt install thunar nemo nautilus # ä»»é€‰ä¸€ä¸ª dolphinæœ‰ä¾èµ–å†²çªå“ˆ ï¼Œå‚è€ƒåé¢ libpulse-mainloop-glib0 é”™è¯¯çš„è¯´æ˜ libpulse-mainloop-glib0 é”™è¯¯ libpulse-mainloop-glib0 : Depends: libpulse0 (= 16.1+dfsg1-2+b1) but 1:13.99.1-1ubuntu3.10 is to be installed éƒ¨åˆ†è½¯ä»¶ ä¾‹å¦‚ pavucontrol dolphin éœ€è¦æ–°ç‰ˆ libpulse0ï¼Œä½†æ˜¯å› ä¸º è€ƒè™‘åˆ°pulseaudio-module-xrdp ç¨³å®šæ€§ï¼Œæˆ‘ç”¨çš„æ—§ç‰ˆæœ¬ã€‚ ä½ å¯ä»¥å¸è½½æ‰ï¼Œç„¶åé‡æ–°ç¼–è¯‘pulseaudio-module-xrdpã€‚\nä¸å–œæ¬¢é»˜è®¤ç”¨æˆ·çš„shell é»˜è®¤ç”¨æˆ· yanhuiçš„ shellæ˜¯ zsh å¹¶ç”¨oh-my-zshå®šåˆ¶äº†ä¸€ä¸‹ï¼Œä¸å–œæ¬¢ å¯ä»¥ ç›´æ¥è¾“å…¥exit é€€å‡ºåˆ°bashã€‚ ç„¶åè‡ªå·±åˆ æ‰ .bashrc çš„æœ€åä¸€è¡Œ zsh ä¸‰ä¸ªå­—æ¯ã€‚æœ€åå¸è½½æ‰ zsh ï¼Œå¹¶åˆ é™¤ .oh-my-zsh ç›®å½•å³å¯\npve lxc ct æˆ–è€…dockerå®¿ä¸»æœº ç›®å½•æ˜ å°„ å’Œæ˜¾å¡ç­‰ pve ç¡¬ç›˜åˆ°lxc è¯·çœ‹ï¼šhttps://dev.leiyanhui.com/pve/lxc-mount-dir/\ndockerå®¿ä¸»æœº ç›®å½•æ˜ å°„ docker åˆ›å»ºå‘½ä»¤ é‡Œé¢çš„ -v /mnt:/disk å°±æ˜¯æŠŠä¸Šå±‚å®¿ä¸»çš„ /mnt ç©¿é€åˆ°å®¹å™¨å†…éƒ¨çš„/diskã€‚ æ³¨æ„æƒé™é—®é¢˜å“ˆï¼Œå¯ä»¥ç”¨uidæ˜ å°„æ–¹æ³•ï¼Œæƒé™è¦æ±‚ä¸ä¸¥æ ¼ ä¹Ÿå¯ä»¥ç›´æ¥ chmod -R 777 /mntè§£å†³\nå¦‚ä½•ä½¿ç”¨æ˜¾å¡åŠ é€Ÿ ä»¥nvidiaä¸ºä¾‹åœ¨åˆ›å»ºdockerçš„æ—¶å€™ æŠŠæ˜¾å¡æŒ‚è¿›å»å³å¯\n1 2 3 4 5 6 7 8 9 docker run -itd --restart=always \\ --name debian-i3 --hostname debian-i3 \\ -p 3389:3389 -p 2222:22 \\ -p 8080:8080 -p 5900-5905:5900-5905 \\ -v /mnt:/disk \\ --device /dev/nvidia0:/dev/nvidia0 \\ --device /dev/nvidiactl:/dev/nvidiactl \\ --device /dev/nvidia-uvm:/dev/nvidia-uvm \\ -e TZ=Asia/Shanghai joyanhui/debian-i3-xrdp-novnc /autoStart.sh ç›®å½•å’Œæ–‡ä»¶è¯´æ˜ å¯åŠ¨æ–‡ä»¶ å¯åŠ¨æ–‡ä»¶åˆ†ä¸¤ä¸ª\n/autoStart.sh å¯åŠ¨vnc å¹¶å¯åŠ¨supervisord /etc/supervisor/conf.d/ supervisord æœåŠ¡ç›®å½• i3 é…ç½®æ–‡ä»¶ /home/yanhui/.config/i3/config\nopenboxé…ç½®æ–‡ä»¶ /home/yanhui/.config/openbox/menu.xml #å³é”®èœå•\nfeh.sh rofi.sh #å³é”®èœå•å¯¹åº” å£çº¸å’Œrofiçš„çš„æ‰§è¡Œè„šæœ¬\nå£çº¸ç›®å½• i3é…ç½®æ–‡ä»¶è°ƒç”¨fehéšæœºé€‰ /home/yanhui/.config/i3/bg/\npolybar /home/yanhui/.config/polybar/config.ini # polybarçš„å…¨éƒ¨é…ç½®æ–‡ä»¶ åŒ…æ‹¬å·¦ä¸Šè§’èœå• /home/yanhui/.config/polybar/polybar_run.sh # å¯åŠ¨å’Œé‡å¯polybarçš„è„šæœ¬ /home/yanhui/.config/polybar/weather-plugin.py # polybar å¤©æ°”é¢„æŠ¥æ’ä»¶ ç”¨çš„ openweathermap.orgçš„æ¥å£ å†…ç½®keyç”¨çš„äººå¤šæœ‰å¯èƒ½å¤±æ•ˆï¼Œè‡ªå·±å»æ³¨å†Œä¸€ä¸ªæ¢æ‰ã€‚ rofi /home/yanhui/.config/rofi/config.rasi\ndunst /home/yanhui/.config/dunst/dunstrc\nalacritty /home/yanhui/.config/alacritty/alacritty.yml\nzsh /home/yanhui/.zshrc /home/yanhui/.oh-my-zsh\n","date":"2023-07-04T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-desktop-old-only-docker/","title":"dockerè¿è¡Œdebianæ¡Œé¢ åŒ…å«i3 xrdpï¼ˆå¸¦å£°éŸ³ï¼‰ x11 vnc novnc"},{"content":"ä¸­æ–‡è¾“å…¥æ³• æ˜¯ä¸€ä¸ªç¾¤é­”ä¹±èˆçš„ä¸–ç•Œã€‚\nå› ä¸ºæˆ‘çš„ä¸ªäººè‡ªå®šä¹‰è¯åº“æ¯”è¾ƒå¤šã€‚ ä½†æ˜¯åˆç»å¸¸æ¢å·¥ä½œç¯å¢ƒï¼Œæ‰€ä»¥è¯åº“çš„åŒæ­¥å¤‡ä»½å¯¹æˆ‘æ¥è¯´å¾ˆé‡è¦ã€‚ è¿™é‡Œä¸è®¨è®ºè‡ªå¸¦è¾“å…¥æ³•çš„é—®é¢˜ã€‚ å› ä¸ºé‚£ä¹ˆå¤šè‡ªå®šä¹‰è¯åº“ï¼Œå„ä¸ªå¹³å°çš„é»˜è®¤è¾“å…¥æ³•å¯¼å…¥éå¸¸éº»çƒ¦ã€‚ è¿™é‡Œæ˜¯åªè¯´æ‹¼éŸ³è¾“å…¥æ³•ã€‚\nå„å¹³å°ä¸‹çš„é€‰æ‹© linuxä¸‹ linuxä¸‹ï¼Œæ²¡å¾—é€‰ åªèƒ½ibus fctix5ï¼Œfctix5-æ‹¼éŸ³ + äº‘ ç®€å•é…ç½®å¯ä»¥å¯¼å…¥æœç‹—ç»†èƒè¯åº“ï¼Œç®€å•å®¹æ˜“é…ç½®ã€‚å¦å¤–ä¸€ä¸ªé€‰æ‹©å°±æ˜¯fctix5-rime è€ƒè™‘åˆ°å·²ç»åœ¨linuxä¸‹äº† æ²¡æœ‰å¿…è¦ç”¨rimeäº†ï¼Œè¿‡äºæŠ˜è…¾ã€‚å…¶ä»–å¹³å°çš„rimeè¯åº“åœ¨linuxä¹Ÿå¾ˆå®¹æ˜“è‡ªåŠ¨å¯¼å…¥åˆ° fctix5-æ‹¼éŸ³\nwinä¸‹ rime æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯å¦‚æœå¯¹éšç§è¦æ±‚æ²¡é‚£ä¹ˆé«˜çš„è¯ï¼Œæ—§çš„æœç‹—çš„å»å¹¿å‘Šä¿®æ”¹ç²¾ç®€ç‰ˆæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚\næœç‹— æŸä¸€ä¸ªæ—§ç‰ˆæœ¬ï¼Œè™½ç„¶ä¸èƒ½å¯¼å‡ºtxtä½†æ˜¯å¯ä»¥å¯¼å‡º æ·±è“ å¯ä»¥è¯†åˆ«çš„åŠ å¯†bin ï¼Œè€Œä¸”è¿™ä¸ªç‰ˆæœ¬ç›®å‰è¿˜æ”¯æŒåŒæ­¥è¯åº“åŠŸèƒ½ã€‚\næˆ‘ä¸ªäººå°±æ˜¯ ä»å¦å¤–ä¸€å°ç”µè„‘ä¸Šçš„ 13.6ç‰ˆæœ¬ å¯¼å…¥æˆ‘è¯åº“åï¼Œåœ¨æ—¥ç”¨ç¬”è®°ä¸Š è·‘äº†ä¸€ä¸ªè™šæ‹Ÿwinï¼Œç„¶åç”¨è¿™ä¸ªç‰ˆæœ¬çš„æœç‹—+æ·±è“å¯¼å‡ºæ¥çš„ txt\nmacosä¸‹ å¯é€‰çš„ä¸å¤šï¼Œè‡ªå¸¦çš„è¾“å…¥æ³•èåœé’èœå§\niosä¸‹ åŒmacoså·®ä¸å¤šæƒ…å†µï¼Œå¯é€‰çš„ä¸å¤šã€‚å…³äºirimeæœ¬ç«™å¦å¤–ä¸€ä¸ªæ–‡ç« æœ‰è¯´ï¼Œä¸è¦æµªè´¹æ—¶é—´æŠ˜è…¾å®ƒï¼Œåƒåœ¾è€Œå·²ã€‚\nå‡ ä¸ªä¸»æµçš„è¾“å…¥æ³•çš„å¤§è‡´æƒ…å†µ æœç‹— æœç‹—ç¡®å®æ˜¯æ ‡æ†ï¼Œä½†å› ä¸ºå®‰å…¨å’Œéšç§æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼ˆå…¶å®ä¸­æ–‡è¾“å…¥æ³•åŸºæœ¬å­˜åœ¨è¿™ä¸ªæƒ…å†µï¼‰ã€‚åŠ ä¸Šæœç‹—è¶Šæ¥è¶Šè‡ƒè‚¿è€Œä¸”å¡é¡¿ã€‚\næˆªæ­¢2023å¹´ï¼Œä¸€ä¸ªä»…ä»…åŒ…å«åŸºç¡€è¯åº“çš„è¾“å…¥æ³•ï¼Œä½“ç§¯å·²ç»åˆ°130Mï¼ï¼ï¼ï¼è¿™è¿˜ä¸ç®—åœ¨å®‰è£…åå†ä¸‹è½½ç»†èƒè¯åº“å’ŒåŒæ­¥è‡ªå·±çš„è¯åº“ï¼ï¼ï¼ æ‰€ä»¥ å¦‚æœè¦ç”¨æœç‹—ï¼Œå°½å¯èƒ½çš„ç”¨æ—§ç‰ˆæœ¬ï¼Œæ‰¾åˆ«äººç²¾ç®€å¥½çš„å¹¿å‘Šå’Œé‚£äº›æ— ç”¨ç»„ä»¶çš„ï¼Œå…³æ‰è‡ªåŠ¨æ›´æ–° é‚£äº›ä¸œè¥¿ä¹Ÿå¯ä»¥å‡‘åˆç”¨ã€‚ æ—§ç‰ˆæœ¬çš„æœç‹— ç›®å‰è¿˜æœ‰å¯ä»¥åŒæ­¥è¯åº“ï¼Œå¹¶ä¸”æ·±è“å¯ä»¥è¯†åˆ«çš„ç‰ˆæœ¬ã€‚\nç™¾åº¦è¾“å…¥æ³• ç™¾åº¦è¾“å…¥æ³•æ›´æ–°æ¯”è¾ƒå°‘ï¼Œç›¸å¯¹æ¥è¯´ç²¾ç®€ä¸€äº›ã€‚ä½†æ˜¯ç»è¿‡æˆ‘æµ‹è¯• 5.5ç‰ˆæœ¬å·²ç»æ— æ³•åŒæ­¥ä¸ªäººè¯åº“ï¼Œ5.6ç‰ˆæœ¬å¯¼å‡ºçš„è¯åº“åªæœ‰åŠ å¯†binç›®å‰æ²¡æœ‰ç°æˆçš„å·¥å…·å¯ä»¥è§£å¼€ã€‚ æ…å…¥\nè™½ç„¶ç™¾åº¦å¾ˆä½œæ¶ï¼Œä½†æ˜¯æ›¾ç»é™¤äº†ç™¾åº¦ï¼Œå…¶ä»–è¾“å…¥æ³•éƒ½è¢«è‹¹æœå•†åº—ä¸‹æ¶ã€‚ è€Œä¸”åœ¨iosçš„æ—©æœŸéè¶Šç‹±ç‰ˆæœ¬ï¼Œä¹Ÿåªæœ‰ç™¾åº¦è¾“å…¥æ³•ä¸æ€ä¹ˆå´©ã€‚\nè®¯é£ åœ¨Nå¹´å‰ ç”¨è¿‡å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œå½“æ—¶æ˜¯æœ€å¥½çš„è¯­éŸ³è¯†åˆ«è¾“å…¥æ³•ã€‚ä½†æ˜¯å½“æ—¶ä»–çš„macosç‰ˆæœ¬ ä¸æ”¯æŒé”®ç›˜è¾“å…¥ï¼Œåªèƒ½è¯­éŸ³è¾“å…¥ã€‚äºæ˜¯å°±ç›´æ¥å¯ç”¨äº†ã€‚ è®¯é£ä¸æ”¯æŒè¯åº“å¯¼å‡ºï¼Œä»–ä¸æ˜¯ä¸æ”¯æŒtxtå¯¼å‡ºï¼Œä»–å‹æ ¹ä¸å¯ä»¥å¯¼å‡ºï¼Œä½ æƒ³æ¢ä¸€ä¸ªè´¦å· éƒ½ä¸å¯ä»¥ï¼ æ…å…¥\nå¦å¤–ç»†èƒè¯åº“å°†å¯¹æ¯”è¾ƒè€ã€‚\nqqæ‹¼éŸ³ æ²¡å•¥è¯´çš„ï¼Œæ›¾ç»å¾ˆæ¸…æ–°ï¼Œåœæ­¢æ›´æ–°3å¹´å¤šäº†ã€‚ç»†èƒè¯åº“è¿˜æœ‰äººç»´æŠ¤ ï¼Œæ²¡æœ‰iosç‰ˆæœ¬ã€‚\nå¾®ä¿¡è¾“å…¥æ³• ä¿—è¯è¯´ã€‚åæ­£ä½ å‡ æ ¹è…‹æ¯›è…¾è®¯éƒ½çŸ¥é“ï¼Œæ‰€ä»¥ç”¨å¾®ä¿¡è¾“å…¥æ³•ä¹Ÿæ— å¯åšéã€‚\nå®‰è£…åŒ…ä½“ç§¯å¾ˆå¤§ï¼Œä½†æ˜¯ç•Œé¢æ¸…æ–°ï¼Œååº”é€Ÿåº¦ä¹Ÿè¿˜å¯ä»¥ã€‚ä½†æ˜¯ç›®å‰ç‰ˆæœ¬è¿˜ä¸æ”¯æŒè´¦å·ç™»å½•ï¼ˆpcç«¯ï¼‰ ä¹Ÿæ²¡æœ‰è¯åº“ç®¡ç†åŠŸèƒ½ã€‚\ngboard åªæœ‰ç§»åŠ¨å¹³å°ï¼Œiosä¸‹æ— æ³•ç®¡ç†è¯åº“ ä¹Ÿæ²¡æœ‰åŒæ­¥ï¼Œæ¯”åŸç”Ÿè¾“å…¥æ³•å¥½ç”¨ä¸äº†å¤ªå¤šã€‚\næ‹¼éŸ³åŠ åŠ  xpæ—¶ä»£çš„ä¸»åŠ›ï¼Œè™½ç„¶æ›¾ç»æµæ°“ï¼Œä½†æ˜¯å½“æ—¶ç¡®å®ä¸é”™ï¼Œç›´åˆ°å‡ºç°äº†æœç‹—ã€‚ å’Œæ¯”è¾ƒæ–°çš„ éƒ¨åˆ†è½¯ä»¶å†²çªæ— æ³•ä½¿ç”¨ã€‚æ²¡æœ‰åŒæ­¥åŠŸèƒ½ï¼Œçº¯å•æœºè¾“å…¥æ³•ã€‚\nè°·æ­Œè¾“å…¥æ³• åœæ›´10å¤šå¹´äº†ï¼Œéƒ¨åˆ†ç‰ˆæœ¬çš„å®˜æ–¹é“¾æ¥è¿˜åœ¨ï¼Œå®˜ç½‘å·²ç»ä¸åœ¨äº†ã€‚ å’Œæ¯”è¾ƒæ–°çš„ éƒ¨åˆ†è½¯ä»¶å†²çªæ— æ³•ä½¿ç”¨ã€‚ å¦å¤–è´¦å·åŒæ­¥åŠŸèƒ½å·²ç»æ— æ³•ä½¿ç”¨ï¼ˆæŒ‚å…¨å±€ä¹Ÿæ— æ³•ä½¿ç”¨ï¼Œæ˜¯åç«¯æ—©è¢«è°·æ­Œå…³æ‰äº†ã€‚ï¼‰\nRIME | ä¸­å·éŸ» | å°ç‹¼æ¯« | irime | é¼ é¬šç®¡ | åŒæ–‡ å·ç§°å¯å®šæ€§æœ€å¥½çš„è¾“å…¥æ³•ã€‚ ä½†æ˜¯åˆ‡è«è¢«è¿™å¥è¯éª—äº†ã€‚ ä¼˜ç‚¹å¾ˆå¤šäººéƒ½è¯´è¿‡ã€‚æˆ‘è¿™åªè¯´å…¶ä¸­å‡ ä¸ªç¼ºç‚¹ã€‚\né…ç½®ç•¥å¾®å¤æ‚ï¼Œä½†æ˜¯è¿™ä¸æ˜¯æœ€é‡è¦çš„ï¼Œå¦‚æœçœŸçš„å¥½ç”¨ï¼Œä¹Ÿä¼šå»ºè®®ä½ èŠ±æ—¶é—´å»ç ”ç©¶ä¸€ä¸‹é…ç½®ã€‚ ç»§ç»­çœ‹åé¢ã€‚ æ²¡æœ‰ç»†èƒè¯åº“çš„æ¦‚å¿µï¼Œä½ å¯ä»¥ä»æœç‹— æˆ–è€…å…¶ä»–è¾“å…¥æ³•å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ«äººçš„ã€‚ä½†æ˜¯å¯¼å…¥çš„æ˜¯è¯åº“ï¼Œä¸æ˜¯ç»†èƒè¯åº“ï¼Œä¼šå’Œä½ çš„ä¸ªäººè¯åº“åˆå¹¶åˆ°ä¸€èµ·ã€‚ å› ä¸ºæ²¡åå°ï¼Œé‚£ä¹ˆä¹Ÿå°±æ²¡æœ‰ç°æˆçš„åŒæ­¥åŠŸèƒ½ï¼Œä»–è‡ªå¸¦çš„åŒæ­¥ï¼Œå°±æ˜¯æŠŠé…ç½®æ–‡ä»¶å’Œæ‰€æœ‰çš„å½“å‰åœ¨ç”¨çš„è¯åº“ ç»™ä½ æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ã€‚ ä½ å¯ä»¥è‡ªå·±å¤‡ä»½åˆ°è‡ªå·±çš„ç½‘ç›˜ nasä¹‹ç±»çš„åœ°æ–¹ã€‚ç„¶ååœ¨åˆ«çš„è®¾å¤‡ä¸Šåˆå¹¶å¯¼å…¥ã€‚ è¿™ä¸€åˆ‡éƒ½æ˜¯æ‰‹åŠ¨çš„ï¼å¦‚æœä½ æƒ³è¦è‡ªåŠ¨æå®šï¼Œé‚£ä¹ˆå°±èŠ±æ—¶é—´è‡ªå·±å†™ä¸ªå°ç¨‹åºæ¥å¤„ç†ã€‚ è¾“å…¥æ•ˆç‡éå¸¸éå¸¸ä¸€èˆ¬ã€‚æˆ‘ä»¬çŸ¥é“è¾“å…¥æ³•æ•ˆç‡é™¤äº† è¯åº“ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹å°±æ˜¯ åŸºæœ¬çš„ä¸€äº›è¾…åŠ©åŠŸèƒ½ï¼Œæ¯”å¦‚æ™ºèƒ½çº é”™ ç½‘ç»œçƒ­è¯æƒé‡ ä¸Šä¸‹æ–‡é¢„åˆ¤ç­‰ã€‚ä½†æ˜¯è¿™éƒ½æ˜¯rimeæ²¡æœ‰çš„ï¼Œè€Œä¸”ä¹Ÿä¸å¯èƒ½ä¼šåšçš„ã€‚å¦å¤–å°±æ˜¯ï¼Œè¯åº“è¦å¾ˆå¤§å¾ˆå…¨ï¼Œæ‰èƒ½æ»¡è¶³æ­£å¸¸çš„è¾“å…¥éœ€æ±‚ï¼Œç„¶ååœ¨è¶…è¿‡ä¸€å®šæ•°é‡åä¼šå¡é¡¿ï¼ˆæˆ‘ç”¨è¿‡æ•°å¹´çš„æ—¶é—´ï¼Œæœ€åç´¯è®¡çš„è¯åº“çš„ç¡®å®æ˜¯10å‡ ä¸‡æ¡ï¼‰ã€‚ winç‰ˆæœ¬å«åš å°ç‹¼æ¯« é—®é¢˜å¾ˆå¤šå¾ˆå¤šï¼Œå¶å°”ç”Ÿåƒ»å­—ä¹±ç ï¼Œå¶å°”æ— æ³•å¼¹å‡ºã€‚éƒ¨åˆ†è½¯ä»¶ä¸‹ å‹æ ¹æ— æ³•è¾“å…¥ ç­‰ç­‰ linuxä¸‹ fcitx5-rime æ²¡æœ‰å°ç‹¼æ¯«çš„é—®é¢˜ ï¼Œä½†æ˜¯åŒæ ·å—åˆ¶äºè¯åº“çš„ä¸°å¯Œç¨‹åºã€‚ å¦‚æœè¯åº“ä¸°å¯Œ é‚£å°±æ²¡é—®é¢˜ã€‚ä½†æ˜¯ ä¸ºä»€ä¹ˆä¸ç”¨ fcitx5-pinyin å‘¢ï¼å¯ä»¥è‡ªå·±åŒæ­¥user.dict ä¹Ÿå¯ä»¥å¯¼å…¥æœç‹—çš„ç»†èƒè¯åº“ï¼Œç”šè‡³è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„è¯åº“ï¼Œä»¥åŠäº‘è¾“å…¥ã€‚ macosç‰ˆ æ²¡ç”¨è¿‡ å®‰å“ç‰ˆæœ¬ å·®ä¸å¤šçš„é—®é¢˜ï¼Œä¹Ÿæ˜¯æ•ˆç‡å—åˆ¶äºè¯åº“ iosç‰ˆæœ¬ å«åširime è¿™ä¸ªç›®å‰æ˜¯å”¯ä¸€ä¸€ä¸ªï¼Œæ‡’å¾—è¯´ï¼Œåƒåœ¾è½¯ä»¶ä¸€ä¸ªã€‚ å®Œå…¨ä¾èµ–rimeæ²¡æœ‰å¤‡ç”¨è¾“å…¥æ³• æ˜¯ä¸å¯çš„ï¼Œå› ä¸ºå¤ªå¤šå°é—®é¢˜äº†ã€‚\næœ€åçš„å»ºè®® å¦‚æœä½ åªæ˜¯winä¸‹å’Œç§»åŠ¨è®¾å¤‡ç”¨ï¼Œä¸”æ²¡æœ‰é‚£ä¹ˆåœ¨æ„éšç§ã€‚æœç‹—è¾“å…¥æ³• æ—§ç‰ˆçš„ç²¾ç®€ç‰ˆæœ¬ ä¸é”™ï¼Œè‡ªå·±ç½‘ä¸Šæ‰¾ä¸€ä¸‹ å°±å¯ä»¥ã€‚\nå¦‚æœä½ éå¸¸åœ¨æ„éšç§ï¼Œé‚£ä¹ˆå•æœºç±»çš„è¾“å…¥æ³•æ¯”è¾ƒåˆç† ï¼ŒåŒ…æ‹¬rime å¯ä»¥é€‰æ‹©ã€‚\næˆ‘çš„é€‰æ‹© æˆ‘å¤šå¹³å° å®‰å“ ios mac win linuxéƒ½åœ¨ç”¨ã€‚æˆ‘ç›®å‰çš„æ–¹æ¡ˆ ä¾æ—§æ˜¯ä»¥æœç‹—ä¸ºä¸»ã€‚\nè´¦å· å¯†ç ç±»ä¿¡æ¯ ä»ä¸ä½¿ç”¨è¾“å…¥æ³•è¾“å…¥ã€‚ æˆ‘ç›®å‰ç”¨çš„ bitwarden ç½‘å€ç±» åŸºæœ¬ä¹Ÿéƒ½æ˜¯ æµè§ˆå™¨ä¹¦ç­¾ï¼Œæˆ‘ç”¨çš„ floccus æœç‹—è´¦å·ï¼Œå•ç‹¬æ³¨å†Œä¸€ä¸ªï¼Œå’Œå…¶ä»–è´¦å·æ— å…³è”ã€‚ winä¸‹ æœç‹—æ‹¼éŸ³æ—§ç‰ˆæœ¬ ç›®å‰æš‚æ—¶å¯ä»¥è”ç½‘åŒæ­¥ å¯¼å‡ºçš„è¯åº“æ·±è“3.0 å¯ä»¥è§£æï¼Œæ—¶é—´é•¿äº†å¶å°”æ‰‹åŠ¨å¯¼å‡ºä¸€æ¬¡è¯åº“ï¼Œå¹¶ç”¨æ·±è“è½¬æ¢æˆtxt linux fcitx5-æ‹¼éŸ³ å®šæ—¶è‡ªåŠ¨å¤‡ä»½ user.dict åˆ°nas ios æœç‹— + åŸç”Ÿ å®‰å“ æœç‹— + åŒæ–‡ macos æœç‹— + é¼ é¬šç®¡ ","date":"2023-07-02T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/os/input.2023/","title":"2023å¹´è¾“å…¥æ³•çš„é€‰æ‹©"},{"content":"win mac linux å’Œå®‰å“ç«¯ çš„rime éƒ½æ˜¯å…è´¹å¼€æºçš„ï¼ŒèŠ±è´¹ä¸€ç‚¹æ—¶é—´é…ç½®ä¸€ä¸‹ä»¥å éƒ½å¯ä»¥å®Œç¾å·¥ä½œã€‚\nä½†æ˜¯ å”¯ç‹¬ iosç‰ˆæœ¬ ç›®å‰ ä»…æœ‰çš„ä¸€ä¸ªç‰ˆæœ¬ å¼€å‘è€…ï¼š gu weixiong\nå°±éå¸¸æç¬‘\n1ã€ä¹å®«æ ¼ æ²¡æœ‰ å€™é€‰æ‹¼éŸ³åŠŸèƒ½ï¼Œåˆ‡ä¸èƒ½è‡ªè¡Œé…ç½® 2ã€å…¨é”®ç›˜ å’Œ 14é”® ä¾æ—§æ²¡æœ‰ å€™é€‰æ‹¼éŸ³åŠŸèƒ½ï¼ 3ã€è¾“å…¥æ³•é”®ç›˜ï¼Œä¼šä¸¢ï¼Œéœ€è¦é‡æ–°å»æ·»åŠ ä¸€æ¬¡é”®ç›˜ï¼Œåœ¨ios16ä¸Šç›¸å¯¹é¢‘ç¹ä¸€ä¸‹ åœ¨ios15ä¸Šå¥½ä¸€äº› 4ã€å å±å¹•æ¯”ä¾‹ä¸å¯è°ƒï¼Œå·¥å…·æ æŒ‰é’®å¤§å° æ˜¯ç»™çœ¼èŠ±çš„è€å¹´äººç”¨çš„ï¼Œè¶…çº§å¤§ï¼Œå å±å¹•ç©ºé—´ï¼Œä¸”ä¸å¯ä¿®æ”¹ï¼ï¼ï¼\n5ã€æœ‰æä¾›webdavå’Œwebçš„æ–‡ä»¶ç®¡ç†ï¼Œä½†æ˜¯pcçš„è¾“å…¥æ–¹æ¡ˆï¼Œä¸èƒ½ç›´æ¥ç”¨ï¼Œè¯åº“çš„è¯ä¹Ÿéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ 6ã€éƒ¨åˆ†ç‰¹æ®Šæ±‰å­— æ˜¾ç¤ºæ–¹å— ä¾‹å¦‚ ğ«š‰é±¼ï¼ˆè¿™æ˜¯pcçš„rimeæ‰“å‡ºæ¥çš„ï¼‰è¿™ä¸ªirime æ‰“ä¸å‡ºæ¥\n7ã€ç„¶å é™¤äº†å®‰è£…æ”¶è´¹ï¼Œè¿˜æœ‰ä¸€ä¸ªä»€ä¹ˆæ–‡ä»¶ç®¡ç† å¦å¤–æ”¶è´¹ä¸€æ¬¡ ï¼ˆå·²ç»å¸è½½å¿˜è®°åå­—ï¼‰ 8ã€ä¹Ÿéœ€è¦å®Œå…¨è®¿é—®å…¨æ–°ï¼Œä¸ç„¶å¸ƒå±€åˆ‡æ¢ä¸èƒ½ç”¨ 9ã€è®¾ç½®ç•Œé¢ æç¤ºä»€ä¹ˆâ€œxxxâ€ å¤§æ¦‚æ˜¯ä½ ä¸æ˜¯å¼€å‘è€…ä¸èƒ½ä½¿ç”¨xxxåŠŸèƒ½çš„æ„æ€ 10ã€æ°›å›´ï¼Œä½œè€…æœ‰æä¾›å¾®ä¿¡äº¤æµç¾¤ï¼ŒåŸºæœ¬ä¸Šçš„å°±æ˜¯å‡ ä¸ªå¤§é¾„è€çˆ·å­ åœ¨é‡Œé¢bbï¼Œä½ å¦‚æœå’¨è¯¢ä¸Šè¿°é—®é¢˜ä¹‹ä¸€ä¼šè¢«ç¾¤æ”»ï¼Œç”šè‡³å†å‡ºæ¥å‡ ä¸ªè€çˆ·å­ç§€é¹¤ å½¢ä¹‹ç±»çš„ã€‚ ä½œè€…ç»å¸¸æ€§æ°´ç¾¤ï¼Œä½†æ˜¯äººå®¶å°±æ˜¯ä¸æ›´æ–°ï¼\n11ã€æ²¡æœ‰æœ€åŸºæœ¬çº é”™åŠŸèƒ½ï¼Œä½ æŒ‰é”™äº† å—¯å°±æ˜¯æŒ‰é”™äº† å“ˆå“ˆã€‚\nç»“è®ºï¼šæ™ºå•†ç¨ï¼ ä¸å€¼å¾—ä¸‹è½½ï¼Œæ›´ä¸å€¼å¾—èŠ±æ—¶é—´æŠ˜è…¾ã€‚\nè¡¥å……ï¼šæˆ–è®¸ç”¨åŒæ‹¼ äº”ç¬” éƒ‘ç  æˆ–è€…å…¨é”®ç›˜0é”™çš„äºº å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚å¦‚æœä½ æ˜¯å–œæ¬¢ç›²æ‰“ å…¨æ‹¼ ç®€æ‹¼çš„ è¿˜æœ‰ä¹å®«æ ¼çš„ æƒ³ä¹Ÿåˆ«æƒ³ï¼Œè™½ç„¶rimeå¾ˆå¼ºï¼Œä½†æ˜¯è¿™ä¸ª irime ä¸æ˜¯é‚£å›äº‹\n","date":"2023-07-02T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/os/irime/","title":"rimeç›®å‰ä»…æœ‰çš„iosç‰ˆæœ¬irimeæ˜¯ä¸€ä¸ªæç¬‘çš„ä½åŠ£è½¯ä»¶"},{"content":"mpy-cross å¯ä»¥å‹ç¼© pythonä»£ç ï¼Œä¹Ÿæœ‰ä¸€å®šçš„åŠ å¯†æºç çš„ä½œç”¨ï¼ˆèŠèƒœäºæ— ï¼‰ã€‚\nåœ¨æœ¬åœ°æ²¡æœ‰pythonç¯å¢ƒï¼Œä½†æ˜¯æœ‰Thonnyçš„è¯ï¼Œå¯ä»¥è¿™æ ·å®‰è£… windowsä¸ºä¾‹\n1 2 3 cd D:\\Portable\\GreenSoft\\Thonny\\Scripts pip install mpy-cross mpy-cross E:\\esp\\esp32s2-fish-demo\\test.py ä¹Ÿå¯ä»¥æ·»åŠ åˆ°ç¯å¢ƒå˜é‡\nå¦å¤– å¦‚æœæ˜¯è‡ªå®šä¹‰å›ºä»¶ï¼Œè°ƒè¯•ç¨³å®šçš„pyæ–‡ä»¶ï¼Œæœ€å¥½æ”¾åˆ°å›ºä»¶é‡Œé¢ã€‚è¯¦æƒ…æŸ¥çœ‹æœ¬ç«™å…¶ä»–æ–‡ç« ã€‚\nç»è¿‡æµ‹è¯•ï¼ŒåŒåçš„æ¨¡å—æ‰§è¡Œä¼˜å…ˆçº§ä¾æ¬¡ä¸ºï¼š\nflashçš„.py =\u0026gt; flashçš„.mpy =\u0026gt; romçš„.py =\u0026gt; romçš„.c\npython çš„ä»£ç å‡ ä¹æ— æ³•å®Œå…¨åŠ å¯†ï¼ŒåŸºæœ¬ä¸Šä¸å¯èƒ½åŠ å¯†ã€‚\næ ¸å¿ƒæ•æ„Ÿå†…å®¹ï¼Œå»ºè®®ç”¨cæ¥å†™ï¼Œmicropythonä¸é€‚åˆåšè¿™ä¸ªäº‹æƒ…ã€‚ æˆ–è€… cæ¨¡å—+ mpyçš„æ–¹å¼ä¹Ÿå‡‘åˆå¯ä»¥ã€‚\næ— è®ºä»ä»£ç æ‰§è¡Œæ•ˆç‡å’Œmcuèµ„æºçš„åˆ©ç”¨ç‡ï¼Œè¿˜æ˜¯ä»£ç çš„ä¿æŠ¤ä¸Š micropython éƒ½æ˜¯ä¸æ˜¯å¥½é€‰æ‹©ã€‚\nä½†æ˜¯åœ¨åˆæœŸäº§å“é˜¶æ®µmicropython è¿˜æ˜¯éå¸¸ä¸é”™çš„ï¼Œä¸Šçº¿å‰ æ ¹æ®æƒ…å†µç”¨cå†™ä¸€éƒ¨åˆ†æ¨¡å—ï¼Œæˆ–è€…å¹²è„†é‡å†™å°±å¥½äº†ã€‚\n","date":"2023-06-21T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/mpy-cross/","title":"micropythonä»£ç å‹ç¼©å’Œç®€å•åŠ å¯† mpy-cross"},{"content":"ä¸¤ä¸ªè½¯ä»¶ æµ‹è¯•æ¯”è¾ƒè‰¯å¥½\nusb_network_gate è¿™ä¸ª9.0 æœ‰ç ´è§£ç‰ˆ virtualhere ä¸€ä¸ªè®¾å¤‡ å…è´¹ å¤šè®¾å¤‡ä¹Ÿä¸è´µ è½¯ä»¶ éƒ½æ˜¯é€šè¿‡tcpç«¯å£è½¬å‘å‡ºå»ï¼Œå±€åŸŸç½‘å†…éƒ½å¯ä»¥è‡ªåŠ¨è¯†åˆ«åˆ° å¤–ç½‘éœ€è¦é¢å¤–å‡ºæ¥\næˆ‘ç›®å‰åœ¨ç”¨ virtualhereï¼Œç«¯å£å ç”¨çš„7575 ï¼Œè·¯ç”±å™¨è½¬å‘åï¼Œå³å¯è¿œç¨‹è®¿é—®ã€‚\nè¿™ä¸¤ä¸ª è½¯ä»¶ å‡æ”¯æŒ linux win macos ï¼ˆusb_network_gateä»…æ”¯æŒå¯¥å¯¥å‡ ä¸ªlinuxå‘è¡Œç‰ˆ virtualhereæ”¯æŒæ‰€æœ‰å‘è¡Œç‰ˆï¼‰ å…¶ä¸­ virtualhere æ”¯æŒå®‰å“æœåŠ¡ç«¯ï¼Œä½†æ˜¯ä¸æ”¯æŒå®‰å“å®¢æˆ·ç«¯ usb_network_gate å¥½åƒéƒ½æ”¯æŒï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æµ‹è¯•è¿‡ã€‚\nä½†æ˜¯è¿™ä¸¤ä¸ªè½¯ä»¶ æœ€æ–°ç‰ˆæœ¬ åœ¨win11 ä¸‹ å®¢æˆ·ç«¯ éƒ½ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œé©±åŠ¨å¼‚å¸¸ã€‚ï¼ˆ éšåå‘ç° æ˜¯ å’Œnomachine å†²çªï¼Œå¸è½½nomachine åé‡å¯ å°±æ­£å¸¸äº†ï¼‰\nå…¶ä¸­ usb_network_gate 9 çš„æœåŠ¡ç«¯ åœ¨win11 ä¸‹ ä¹Ÿæ— æ³•ä½¿ç”¨\nå¼ºçƒˆæ¨è virtualhere ï¼Œå®ƒåªåªèƒ½åŒæ—¶è¿æ¥ä¸€ä¸ªè®¾å¤‡ï¼Œè€Œéåªèƒ½ç”¨ä¸€ä¸ªã€‚\n","date":"2023-06-18T14:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/esp32or8266-over-net/","title":"esp32ã€esp8266 ç½‘ç»œå…±äº«ï¼Œã€‚usbè®¾å¤‡ç½‘ç»œå…±äº« comå£ç½‘ç»œå…±äº«"},{"content":"helix æœ‰ä¸€äº›æ“ä½œçš„å’Œvimä¸å¤ªä¸€æ · ç®€å•è®°å½•ä¸€ä¸‹\nå…‰æ ‡ ä¸Šä¸‹å·¦å³ æˆ–è€… h,j,k,l\né€€å‡º q w ä¿å­˜ wq ä¿å­˜é€€å‡º æ’å…¥æ¨¡å¼ è¿›å…¥æ’å…¥æ¨¡å¼\ni - åœ¨é€‰åŒºçš„å‰é¢è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ a - åœ¨é€‰åŒºçš„åé¢è¿›å…¥æ’å…¥æ¨¡å¼(è¿™é‡Œæ˜¯æ‰©å±•é€‰åŒºçš„æ„æ€)ã€‚ I - åœ¨è¡Œçš„æœ€å‰æ–¹è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ A - åœ¨è¡Œçš„æœ€åæ–¹è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ åˆ é™¤ d\nè¿”å›å‘½ä»¤æ¨¡å¼ esc\né€‰åŒº æ–°è¡Œ i/a è¿›å…¥æ’å…¥æ¨¡å¼å å›è½¦ o ä¼šåœ¨å…‰æ ‡æ‰€åœ¨ä½ç½®çš„ä¸‹æ–¹æ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ O ä¼šåœ¨å…‰æ ‡æ‰€åœ¨ä½ç½®çš„ä¸Šæ–¹æ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ æ’¤é”€ u å¯ä»¥æ’¤é”€ä¹‹å‰æ“ä½œã€‚ U å¯ä»¥é‡åšæ’¤é”€çš„æ“ä½œã€‚ å¤åˆ¶ç²˜è´´ y æ¥å¤åˆ¶é€‰åŒºå†…å®¹ã€‚ p å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡ä½ç½®çš„åé¢ã€‚ P å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡ä½ç½®çš„å‰é¢ã€‚ æœç´¢æŸ¥æ‰¾ / ä¼šä»å½“å‰å…‰æ ‡ä½ç½®åœ¨å½“å‰æ–‡ä»¶ä¸­å‘å‰æœç´¢ï¼Œå›è½¦åç¡®è®¤æœç´¢ã€‚ n ä¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…çš„æœç´¢å†…å®¹ã€‚ N ä¼šç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªåŒ¹é…çš„æœç´¢å†…å®¹ã€‚ æ›´å¤šæŸ¥çœ‹ï¼šhttps://erasin.wang/helix/tutor/\n","date":"2023-06-17T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/helix/helix-start/","title":"helixåŸºæœ¬ä½¿ç”¨"},{"content":"æ³¨æ„ï¼Œå¿…é¡»root.æ²¡æœ‰rootæƒé™ æ— è§£ã€‚\nä½ éœ€è¦ä¼šç”¨\nå‡†å¤‡å·¥ä½œ 1 MTç®¡ç†å™¨ https://www.coolapk.com/apk/bin.mt.plus 2 ä¸‹è½½ ç§‹ç§‹ é™æ€ç¼–è¯‘çš„ lxcæ–‡ä»¶ï¼Œ åŸä¸‹è½½åœ°å€ (ä¸‹è½½åä¸ç”¨æ”¹å) ç‚¹è¿™é‡Œ å¤‡ç”¨åœ°å€ (ä¸‹è½½ä»¥åæŠŠåç¼€å.zip åˆ æ‰) ç‚¹è¿™é‡Œ\nè§£å‹lxc ç”¨mtç®¡ç†å™¨æŠŠé™æ€ç¼–è¯‘çš„lxcå‹ç¼©åŒ… lxcnew.tar.gzæ–‡ä»¶å¤åˆ¶åˆ°/data/lxc\næ‰“å¼€mtç®¡ç†å™¨ï¼Œç‚¹å·¦ä¸Šè§’ ä¸‰æ¡æ ï¼Œ ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œ ç­‰å®ƒåˆå§‹åŒ–ä¸€ä¸‹ã€‚ å¼€å§‹æ‰§è¡Œå‘½ä»¤ è§£å‹ ,è®°å¾—æ‰‹æœºè®¿é—®æœ¬ç½‘é¡µï¼Œä½ å¯ä»¥ç›´æ¥å¤åˆ¶ä»£ç \n1 2 3 su cd /data/lxc tar -xvf lxcnew.tar.gz æ£€æµ‹cgroupç‰ˆæœ¬ åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n1 2 mount | grep cgroup2 mount | grep cgroup1 å¦‚æœç¬¬ 1 æ¡å‘½ä»¤æœ‰è¾“å‡ºä¿¡æ¯ï¼Œä½ å°±æ˜¯cgroup2\nå¦‚æœç¬¬ 2 æ¡å‘½ä»¤æœ‰è¾“å‡ºä¿¡æ¯ï¼Œä½ å°±æ˜¯cgroup1\nå¦‚æœä½ æ˜¯cgroup2ç‰ˆæœ¬ï¼Œæ‰§è¡Œ\n1 echo \u0026#34;lxc.init.cmd = /sbin/init systemd.unified_cgroup_hierarchy\u0026#34; \u0026gt;\u0026gt;; /data/lxc/share/lxc/config/common.conf å¦‚æœä½ æ˜¯cgroup2ç‰ˆæœ¬ï¼Œæ‰§è¡Œ\n1 echo \u0026#34;lxc.init.cmd = /sbin/init systemd.unified_cgroup_hierarchy=0\u0026#34; \u0026gt;\u0026gt; /data/lxc/share/lxc/config/common.conf é…ç½®ä¸€ä¸‹lxcçš„ç½‘ç»œ 1 sed -i \u0026#39;s/lxc\\.net\\.0\\.type = empty/lxc.net.0.type = none/g\u0026#39; /data/lxc/etc/lxc/default.conf æŒ‚è½½cgroup 1 2 3 4 5 mount -t tmpfs -o mode=755 tmpfs /sys/fs/cgroup mkdir -p /sys/fs/cgroup/devices mount -t cgroup -o devices cgroup /sys/fs/cgroup/devices mkdir -p /sys/fs/cgroup/systemd mount -t cgroup cgroup -o none,name=systemd /sys/fs/cgroup/systemd ä¸Šé¢5è¡Œå‘½ä»¤ æ¯æ¬¡å¯åŠ¨éƒ½è¦æ‰§è¡Œï¼Œå¯ä»¥æ›´æ¢termux å¤„ç†ï¼Œå†™å…¥åˆ°.bashrc çš„æœ«å°¾\n1 2 sudo mount -t tmpfs -o mode=755 tmpfs /sys/fs/cgroup \u0026amp;\u0026amp; sudo mkdir -p /sys/fs/cgroup/devices \u0026amp;\u0026amp; sudo mount -t cgroup -o devices cgroup /sys/fs/cgroup/devices \u0026amp;\u0026amp; sudo mkdir -p /sys/fs/cgroup/systemd \u0026amp;\u0026amp; sudo mount -t cgroup cgroup -o none,name=systemd /sys/fs/cgroup/systemd sudo lxc-setup-cgroups è®°å¾— termux è¦å®‰è£… tsu pkg install tsu å¦åˆ™æ²¡æœ‰sudoå‘½ä»¤ï¼ŒåŒæ—¶è¦ç»™termux rootæƒé™ï¼Œä¸ç„¶sudo ä¹Ÿæ‰§è¡Œä¸äº†\nå‡†å¤‡åˆ›å»ºlxc åé¢çš„å‘½ä»¤éƒ½åœ¨termuxé‡Œé¢æ‰§è¡Œï¼Œå½“ç„¶MTçš„ç»ˆç«¯ é€‚å½“ä¿®æ”¹ä¸€ä¸‹ä¹Ÿå¯ä»¥\nä¸‹è½½é•œåƒ æˆ‘è¿™é‡Œé€‰æ‹©debian,ä¸å–œæ¬¢ubuntu\n1 sudo /data/lxc/bin/lxc-create -t download -n debian -- --server mirrors.tuna.tsinghua.edu.cn/lxc-images ä¾æ¬¡è¾“å…¥ debian bookworm arm64\nå¯åŠ¨ 1 2 sudo /data/lxc/bin/lxc-start -n debian å¦‚æœæç¤º state \u0026ldquo;ABORTING\u0026rdquo; instead of \u0026ldquo;RUNNING\u0026rdquo;\n1 2 sudo /data/lxc/bin/lxc-start -n debian --logfile=tmp.log --logpriority=DEBUG sudo cat tmp.log æ£€æŸ¥é”™è¯¯ 1 sudo /data/lxc/bin/lxc-attach -n debian /bin/passwd root æœ¬æ–‡è½¬è‡ªï¼š https://purpleleaf.top/posts/%E5%AE%89%E5%8D%93lxc%E7%8B%AC%E7%AB%8B%E8%BF%90%E8%A1%8C%E6%95%99%E7%A8%8Bv3/\næ—¥æœŸ 2023å¹´07æœˆ21æ—¥ æ—¶é—´ 01:44\nby redblue(å¼—æœ—è¥¿æ–¯ç§‘)\nã€ ä¸€ ã€‘ å‰æœŸå‡†å¤‡ ( 1 ) mtç®¡ç†å™¨ï¼Œè¿›å…¥æ‰‹æœºç›®å½•/dataï¼Œ æ–°å»º lxc æ–‡ä»¶å¤¹\nä¸‹è½½ ç§‹ç§‹ é™æ€ç¼–è¯‘çš„ lxcæ–‡ä»¶ï¼Œ åŸä¸‹è½½åœ°å€ (ä¸‹è½½åä¸ç”¨æ”¹å) ç‚¹è¿™é‡Œ å¤‡ç”¨åœ°å€ (ä¸‹è½½ä»¥åæŠŠåç¼€å.zip åˆ æ‰) ç‚¹è¿™é‡Œ\nç„¶åæŠŠ lxcnew.tar.gzæ–‡ä»¶å¤åˆ¶åˆ°/data/lxc, æ‰“å¼€mtç®¡ç†å™¨ï¼Œç‚¹å·¦ä¸Šè§’ ä¸‰æ¡æ ï¼Œ ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œ ç­‰å®ƒåˆå§‹åŒ–ä¸€ä¸‹ã€‚ å¼€å§‹æ‰§è¡Œå‘½ä»¤\n$ su $ cd /data/lxc $ tar -xvf lxcnew.tar.gz ( 2 ) â€”â€”æ£€æµ‹cgroupç‰ˆæœ¬ åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n$ mount | grep cgroup2 $ mount | grep cgroup1 å¦‚æœç¬¬ 1 æ¡å‘½ä»¤æœ‰è¾“å‡ºä¿¡æ¯ï¼Œä½ å°±æ˜¯cgroup2 å¦‚æœç¬¬ 2 æ¡å‘½ä»¤æœ‰è¾“å‡ºä¿¡æ¯ï¼Œä½ å°±æ˜¯cgroup1\nå¦‚æœä½ æ˜¯cgroup1ç‰ˆæœ¬ï¼Œæ‰§è¡Œ (æ‰§è¡Œ1æ¬¡å³å¯ï¼Œä»¥åæ¯æ¬¡å¯åŠ¨ æ— éœ€å†æ¬¡æ‰§è¡Œ)\n$ echo \u0026ldquo;lxc.init.cmd = /sbin/init systemd.unified_cgroup_hierarchy\u0026rdquo; \u0026raquo;; /data/lxc/share/lxc/config/common.conf å¦‚æœä½ æ˜¯cgroup2ç‰ˆæœ¬ æ‰§è¡Œ (æ‰§è¡Œ1æ¬¡å³å¯ï¼Œä»¥åæ¯æ¬¡å¯åŠ¨ æ— éœ€å†æ¬¡æ‰§è¡Œ)\n$ echo \u0026ldquo;lxc.init.cmd = /sbin/init systemd.unified_cgroup_hierarchy=0\u0026rdquo; \u0026raquo; /data/lxc/share/lxc/config/common.conf ( 3 ) ç½‘ç»œè®¾ç½® ( cgroup1 å’Œcgroup2éƒ½è¦æ‰§è¡Œ ) ( å…±1æ¡å‘½ä»¤ï¼Œåªéœ€è¦æ‰§è¡Œ 1 æ¬¡ )\n$ sed -i \u0026rsquo;s/lxc.net.0.type = empty/lxc.net.0.type = none/g\u0026rsquo; /data/lxc/etc/lxc/default.conf ( 4 ) æŒ‚è½½cgroup ( å¯èƒ½éœ€è¦æ¯æ¬¡éƒ½æ‰§è¡Œ,å¦‚æœåœ¨termuxé‡Œå¯ä»¥åœ¨æ¯ä¸ªå‘½ä»¤å‰åŠ sudoï¼Œæ”¾.bashrcé‡Œæ¯æ¬¡è‡ªåŠ¨æ‰§è¡Œ)\nmount -t tmpfs -o mode=755 tmpfs /sys/fs/cgroup \u0026amp;\u0026amp; mkdir -p /sys/fs/cgroup/devices \u0026amp;\u0026amp; mount -t cgroup -o devices cgroup /sys/fs/cgroup/devices \u0026amp;\u0026amp; mkdir -p /sys/fs/cgroup/systemd \u0026amp;\u0026amp; mount -t cgroup cgroup -o none,name=systemd /sys/fs/cgroup/systemd æˆ–è€… å»ºè®®ç›´æ¥å»termuxé‡Œï¼Œæ‰§è¡Œ\n$ pkg install root-repo $ pkg install tsu lxc $ sudo mount -t tmpfs -o mode=755 tmpfs /sys/fs/cgroup \u0026amp;\u0026amp; sudo mkdir -p /sys/fs/cgroup/devices \u0026amp;\u0026amp; sudo mount -t cgroup -o devices cgroup /sys/fs/cgroup/devices \u0026amp;\u0026amp; sudo mkdir -p /sys/fs/cgroup/systemd \u0026amp;\u0026amp; sudo mount -t cgroup cgroup -o none,name=systemd /sys/fs/cgroup/systemd $ sudo lxc-setup-cgroups\nã€ äºŒ ã€‘ åˆ›å»ºå’Œå¯åŠ¨ lxcå®¹å™¨ æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„appè¿›è¡Œæ“ä½œï¼Œ ä¾‹å¦‚ mtç®¡ç†å™¨ juicessh termius termux æœ¬åœ°adb shell è¿œç¨‹adb\n( 1 ) é…ç½®ç¯å¢ƒ ä»¥mtç®¡ç†å™¨ ä¸ºä¾‹ï¼Œ æ‰“å¼€mtç®¡ç†å™¨ï¼Œç‚¹å·¦ä¸Šè§’ ä¸‰æ¡æ ï¼Œ ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œ ç­‰å®ƒåˆå§‹åŒ–ä¸€ä¸‹ã€‚ å¼€å§‹æ‰§è¡Œå‘½ä»¤\n$ su $ cd /data/lxc $ source env.sh ( 2 ) åˆ›å»ºå’Œè¿è¡Œ lxcå®¹å™¨ åˆ›å»ºlxcå®¹å™¨\n$ lxc-create -t download -n ubuntu \u0026ndash; \u0026ndash;server mirrors.tuna.tsinghua.edu.cn/lxc-images ä»¥ ubuntu 23.04 ä¸ºä¾‹,ä¾æ¬¡è¾“å…¥ ubuntu lunar arm64\nç­‰å®ƒä¸‹è½½è§£å‹å®Œ\nå¯åŠ¨å®¹å™¨\nlxc-start -n ubuntu æ”¹å¯†ç \nlxc-attach -n ubuntu /bin/passwd root ç„¶åè¾“å…¥å¯†ç  å†æ¬¡è¾“å…¥å¯†ç  å¯†ç æ”¹å¥½äº†!\nåœæ­¢å®¹å™¨\nlxc-stop -n ubuntu å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨\nlxc-start -n ubuntu -F è¾“å…¥ç”¨æˆ·å root è¾“å…¥å¯†ç  ä½ æ”¹çš„å¯†ç \næ‰§è¡Œ\napt update å‘ç°ç½‘ç»œæœ‰é—®é¢˜ï¼Œå¤±è´¥\nè§£å†³ç½‘ç»œé—®é¢˜ ( å…±3æ¡å‘½ä»¤ )\n$ groupadd -g 3003 aid_inet $ usermod -g aid_inet _apt $ echo \u0026ldquo;nameserver 8.8.8.8\u0026rdquo; \u0026gt; /etc/resolv.conf æ‰§è¡Œ\napt update å‘ç°æˆåŠŸäº†\nã€ ä¸‰ ã€‘ ubuntuåç»­ä½¿ç”¨ ( 1 ) æ›´æ¢ä¸ºæ¸…åå¤§å­¦æº å¯é€‰ å¤‡ä»½åŸé•œåƒæº\n$ cp /etc/apt/sources.list /etc/apt/sources.list.bak ubuntu 23.04æ›´æ¢æ¸…åå¤§å­¦æº å…±4æ¡å‘½ä»¤\n$ echo \u0026ldquo;deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ lunar main restricted universe multiverse\u0026rdquo; \u0026gt; /etc/apt/sources.list\n$ echo \u0026ldquo;deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ lunar-updates main restricted universe multiverse\u0026rdquo; \u0026raquo; /etc/apt/sources.list\n$ echo \u0026ldquo;deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ lunar-backports main restricted universe multiverse\u0026rdquo; \u0026raquo; /etc/apt/sources.list\n$ echo \u0026ldquo;deb http://ports.ubuntu.com/ubuntu-ports/ lunar-security main restricted universe multiverse\u0026rdquo; \u0026raquo; /etc/apt/sources.list ( 2 ) sshè¿æ¥\n$ apt install openssh-server ä¿®æ”¹sshé…ç½®æ–‡ä»¶ï¼Œå…è®¸rootç”¨æˆ·çš„sshè¿æ¥ï¼Œ\n$ apt install nano $ nano /etc/ssh/sshd_config æ‰¾åˆ°è¿™è¡Œ #PermitRootLogin prohibit-password åœ¨å®ƒçš„ä¸‹é¢æ·»åŠ 1è¡Œ PermitRootLogin yes\nä¿å­˜å¹¶é€€å‡º Ctrl + o Enter Ctrl + x\né‡å¯sshæœåŠ¡\n$ systemctl restart ssh ( 3 ) æ”¹æ—¶åŒº æè¿°: æ—¥æœŸæ—¶é—´ä¸å¯¹ï¼Œéœ€è¦æ”¹ä¸‹æ—¶åŒº\næ‰§è¡Œ\ndate å‘ç°æ—¥æœŸæ—¶é—´ä¸å¯¹\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤ ( å³è®¾å®šæ—¶åŒº è®©å®ƒè‡ªåŠ¨æ ¡æ­£æ—¶é—´ )\nsudo ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime æ‰§è¡Œ\ndate å‘ç°æ—¶é—´è‡ªåŠ¨æ ¡æ­£äº†\nã€ å›› ã€‘ lxcé‡Œçš„docker è¿è¡Œ å‚è€ƒ å®‰å“Lxcæ•™ç¨‹V9 çš„ä»¥ä¸‹ç« èŠ‚ : ã€ å…­ ã€‘lxcé‡Œè¿è¡Œdocker\nã€ äº” ã€‘ å¸¸ç”¨å‘½ä»¤ è¿™é‡Œè®°å½•ä¸€äº›å¸¸ç”¨å‘½ä»¤\n( 1 ) lxcå®¹å™¨åå°è¿è¡Œ\nlxc-start -n ubuntu -d ç„¶åå°±å¯ä»¥sshè¿æ¥äº†\n( 2 ) åœæ­¢lxcå®¹å™¨\nlxc-stop -n ubuntu ä¹Ÿå¯ä»¥è¿™æ ·åœæ­¢å®¹å™¨\n$ su $ /data/lxc/bin/lxc-stop -n ubuntu termuxé‡Œ å¯ä»¥è¿™æ ·åœæ­¢å®¹å™¨\nsudo /data/lxc/bin/lxc-stop -n ubuntu\n","date":"2023-06-17T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/android-linux/","title":"å®‰å“è¿è¡Œlxc/dockeræ–¹æ³•ï¼ˆéè™šæ‹Ÿæœºï¼‰"},{"content":"gitea æ˜¯éå¸¸è½»é‡ç®€æ´ï¼Œä½†æ˜¯åŠŸèƒ½å®Œæ•´çš„ä¸€ä¸ªgitç§æœ‰åŒ–å·¥å…·ã€‚ çˆ±ä¸é‡Šæ‰‹ing\næˆ‘è¿™é‡ŒåŒæ ·æ˜¯ pve+lxc+alpine æ­å»º ç›´æ¥ç”¨çš„ alpineä»“åº“çš„gitea å®‰è£…çš„ã€‚ç‰ˆæœ¬ä¸æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯å¤Ÿç”¨ã€‚\nä¹‹å‰çš„å¤‡ä»½æ–¹æ¡ˆ æ˜¯ æŠŠæ•´ä¸ªè¿è¡Œç›®å½•å¤‡ä»½è¿‡å» ç„¶ååˆ©ç”¨nasé…ç½®å¥½çš„kopia è¿›è¡Œå¿«ç…§ç®¡ç†\n1 rclone sync gitea-local:/var/lib/gitea/ /mnt/nas/git_note_other_run_date/gitea/run_bak/ -P #å¤‡ä»½åˆ°nas åœ¨åˆšå¼€å§‹çš„æ—¶å€™ æ²¡é—®é¢˜ï¼Œä½†æ˜¯éšç€ä»“åº“çš„å¢åŠ  æ–‡ä»¶è¶Šæ¥è¶Šå¤š å¸¦æ¥ä¸€äº›åˆ«çš„çš„é—®é¢˜\näºæ˜¯ åˆ©ç”¨giteaè‡ªå¸¦çš„å¤‡ä»½æ–¹æ¡ˆ å¦å¤–åŠ dump å¤‡ä»½\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 cat \u0026gt; ~/nas_core/back/1_3_gitea_to_nas.sh\u0026lt;\u0026lt; \\EOF #!/bin/bash sh /root/nas_core/back/0_0_file_to_nas_patch.sh #è¿™é‡Œæ˜¯æŠŠnasæŒ‚è½½åˆ° /mnt/nas ç›®å½• æ–¹ä¾¿åç»­æ›´æ¢nasæ ¸å¿ƒçš„æ—¶å€™ è„šæœ¬ä¸éœ€è¦é¢å¤–ç»´æŠ¤ # gitea åŒæ­¥å¤‡ä»½ sshpass -p å¯†ç  ssh root@10.1.1.30 \u0026#39;su -c \u0026#34;cd /var/lib/gitea/;rm -rf ./gitea-dump*.zip;\u0026#39; # åˆ é™¤ dumpå¤‡ä»½ æ–‡ä»¶ rclone sync gitea-local:/var/lib/gitea/ /mnt/nas/git_note_other_run_date/gitea/run_bak/ -P #å¤‡ä»½åˆ°nas # gitea dump å¤‡ä»½ sshpass -p å¯†ç  ssh root@10.1.1.30 \u0026#39;su -c \u0026#34;cd /var/lib/gitea/;gitea dump;mv gitea-dump-*.zip gitea-dump.zip\u0026#34; gitea\u0026#39; # å¤‡ä»½åˆ° gitea-dump.zip # å¤‡ä»½åˆ°nas æ–‡ä»¶æœ‰100M+ æ‰€ä»¥ ç‰ˆæœ¬ç®¡ç† ç»™ kopiaå¤„ç† rclone copyto gitea-local:/var/lib/gitea/gitea-dump.zip /mnt/nas/git_note_other_run_date/gitea/gitea-dump.zip -P #å¤‡ä»½åˆ°nas # åŠ è¯´æ˜ echo -e \u0026#39;# snapshot by kopia\\n- gitea-dump.zip gitea dump\\n- run_bak /var/lib/gitea/\u0026#39;\u0026gt; /mnt/nas/git_note_other_run_date/gitea/README.md EOF æœ€åæ·»åŠ è®¡åˆ’ä»»åŠ¡\n1 2 3 crontab -l \u0026gt; conf echo \u0026#34;4 * * * * sh /root/nas_core/back/1_3_gitea_to_nas.sh\u0026#34; \u0026gt;\u0026gt; conf crontab conf \u0026amp;\u0026amp; rm -f conf \u0026amp;\u0026amp; crontab -l ","date":"2023-06-17T14:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/gitea-to-nas/","title":"giteaè‡ªåŠ¨å¤‡ä»½åˆ°nas"},{"content":"é€šè¿‡https://helix-editor.com/logo.svg å’Œåœ¨çº¿svgè½¬æ¢icoå·¥å…·è·å–ä¸€ä¸ªicoå›¾æ ‡ ç„¶åç»™ hx.exe åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œå³é”®å±æ€§ä¿®æ”¹å›¾æ ‡ æµè§ˆè¿™ä¸ªicoæ–‡ä»¶\næŠŠè¿™ä¸ªå¿«æ·æ–¹å¼ æ‹–åŠ¨åˆ°win ä»»åŠ¡æ å³å¯\n","date":"2023-06-15T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/helix/helix-win-ico/","title":"helix Windowsä»»åŠ¡æ å›¾æ ‡ "},{"content":"å¤§ä½¬ä¸€ç›´æ¨èhelixï¼Œå¹¶ä¸”å¤§ä½¬è¿vscodeéƒ½ä¸ç”¨ã€‚ å› ä¸ºæœ€è¿‘åœ¨å¼„å•ç‰‡æœºï¼Œéœ€è¦debianä¸‹ç¼–è¯‘å›ºä»¶äºæ˜¯å°è¯•äº†ä¸€ä¸‹ã€‚\n1 2 3 4 apt install software-properties-common add-apt-repository ppa:maveonair/helix-editor apt update apt install helix å¦å¤–éœ€è¦é…ç½® ä¸€ä¸ª ç¯å¢ƒå˜é‡ HELIX_RUNTIME\nHELIX_RUNTIME=/root/src/helix/runtime æˆ–è€… ln -s $PWD/runtime ~/.config/helix/runtime\nä¼˜ç‚¹ä¸€ï¼šé›¶é…ç½®å¼€ç®±å³ç”¨ ä¼˜ç‚¹äºŒï¼šæœ‰éå¸¸ä¸°å¯Œçš„æç¤º å®‰è£… LSP server ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚ Python åªéœ€è¦ pip install python-lsp-server å³å¯ã€‚\nwindows å¯ä»¥ç›´æ¥å»githubä¸‹è½½zipåŒ…è§£å‹\nå³é”®èœå•.reg\n1 2 3 4 5 6 7 Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\*\\shell\\Edit with helix] \u0026#34;Icon\u0026#34;=\u0026#34;D:\\\\Portable\\\\GreenSoft\\\\helix\\\\hx.ico\u0026#34; [HKEY_CLASSES_ROOT\\*\\shell\\Edit with helix\\Command] @=\u0026#34;D:\\\\Portable\\\\GreenSoft\\\\helix\\\\hx.exe \\\u0026#34;%1\\\u0026#34;\u0026#34; hx.ico å¯ä»¥ç”¨å®˜ç½‘çš„logo https://helix-editor.com/logo.svg åœ¨çº¿è½¬æ¢æˆico, runtime åŒç›®å½• æˆ–è€…è‡ªå·±ä¿®æ”¹èµ° éƒ½å¯ä»¥ã€‚\nä¸è¿‡windowsä¸‹ï¼Œè½»é‡ç¼–è¾‘å™¨ï¼Œæˆ‘ä¾æ—§ ä¿ç•™äº† notepadnext\n","date":"2023-06-14T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/helix/vi-vim-helix/","title":"æ›¿ä»£vim nanoçš„å·¥å…·helix"},{"content":"micropython ä¸æ”¯æŒ esp32 s2 c3 s3 çš„å†…ç½®æ¸©åº¦ä¼ æ„Ÿå™¨è¯»å–ã€‚æˆ‘è¿™é‡Œå°è¯•æ·»åŠ ä¸€ä¸ªæ¨¡å—ï¼Œå¯ä»¥ç”¨pyè¯»å–ã€‚\né¦–å…ˆä½ è¦å…ˆå­¦ä¼šè‡ªå®šç¼–è¯‘å›ºä»¶ æ·»åŠ åŸºäºpythonçš„æ¨¡å—è¯·å‚è€ƒ arduino å…ˆæµ‹è¯•ä¸€ä¸‹ å› ä¸ºæœ‰äººè¯´ esp32çš„åé¢çš„èŠ¯ç‰‡å†…ç½®çš„æ¸©åº¦ä¼ æ„Ÿå™¨ä¸èƒ½ç”¨ï¼Œæ‰€ä»¥å…ˆè¯•è¯•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #include \u0026#34;driver/temp_sensor.h\u0026#34; void setup() { Serial.begin(115200); temp_sensor_config_t temp_sensor = { .dac_offset = TSENS_DAC_L2, .clk_div = 6, }; temp_sensor_set_config(temp_sensor); temp_sensor_start(); } void loop() { float tsens_out; temp_sensor_read_celsius(\u0026amp;tsens_out); Serial.printf(\u0026#34;%f\\r\\n\u0026#34;, tsens_out); delay(500); } æµ‹è¯•è‰¯å¥½ï¼Œç²¾åº¦ Â±1â„ƒ å‡‘åˆï¼Œæ¯”ç¯å¢ƒæ¸©åº¦ç•¥å¾®é«˜ä¸€ç‚¹ã€‚åšå¥½ä¸»è¦æ¸©åº¦èŒƒå›´çš„å¤šç‚¹æ ¡å‡†åï¼Œå¯ä»¥å‡‘åˆä½¿ç”¨ã€‚\næ·»åŠ åˆ°mpyå›ºä»¶ tempSensor.c åˆ›å»ºæ–‡ä»¶ /mpy-bin/micropython/ports/esp32/tempSensor.c\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // import time // import tempSensor // tempSensor.init() // for _ in range(10): // print(tempSensor.getT()) // time.sleep(1) // tempSensor.stop() #include \u0026#34;py/obj.h\u0026#34; #include \u0026#34;py/runtime.h\u0026#34; // Include MicroPython API. #if CONFIG_IDF_TARGET_ESP32S2 || CONFIG_IDF_TARGET_ESP32C3 || CONFIG_IDF_TARGET_ESP32S3 #include \u0026#34;driver/temp_sensor.h\u0026#34; #endif // å‡½æ•° åˆå§‹åŒ– å¹¶å¯åŠ¨ STATIC mp_obj_t tempSensor_init(void) { #if CONFIG_IDF_TARGET_ESP32S2 || CONFIG_IDF_TARGET_ESP32C3 || CONFIG_IDF_TARGET_ESP32S3 temp_sensor_config_t temp_sensor = TSENS_CONFIG_DEFAULT(); temp_sensor.dac_offset = TSENS_DAC_DEFAULT; // DEFAULT: range:-10â„ƒ ~ 80â„ƒ, error \u0026lt; 1â„ƒ. temp_sensor_set_config(temp_sensor); temp_sensor_start(); #endif return mp_const_none; } // å®šä¹‰å‚æ•° STATIC MP_DEFINE_CONST_FUN_OBJ_0(tempSensor_init_obj, tempSensor_init); // å‡½æ•° è·å– STATIC mp_obj_t tempSensor_getT(void) { #if CONFIG_IDF_TARGET_ESP32S2 || CONFIG_IDF_TARGET_ESP32C3 || CONFIG_IDF_TARGET_ESP32S3 float tsens_out; temp_sensor_read_celsius(\u0026amp;tsens_out); //temp_sensor_stop(); return mp_obj_new_float(tsens_out); #endif return mp_const_none; } // å®šä¹‰å‚æ•° STATIC MP_DEFINE_CONST_FUN_OBJ_0(tempSensor_getT_obj, tempSensor_getT); // å‡½æ•° åœæ­¢ STATIC mp_obj_t tempSensor_stop(void) { #if CONFIG_IDF_TARGET_ESP32S2 || CONFIG_IDF_TARGET_ESP32C3 || CONFIG_IDF_TARGET_ESP32S3 temp_sensor_stop(); #endif return mp_const_none; } // å®šä¹‰å‚æ•° STATIC MP_DEFINE_CONST_FUN_OBJ_0(tempSensor_stop_obj, tempSensor_stop); // å®šä¹‰æ¨¡å—çš„æ‰€æœ‰å±æ€§ã€‚ // è¡¨æ¡ç›®æ˜¯å±æ€§åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„é”®/å€¼å¯¹ // å’Œ MicroPython å¯¹è±¡å¼•ç”¨ã€‚ // æ‰€æœ‰çš„æ ‡è¯†ç¬¦å’Œå­—ç¬¦ä¸²éƒ½å†™æˆ MP_QSTR_xxx å¹¶ä¸”ä¼šè¢« // ç”±æ„å»ºç³»ç»Ÿä¼˜åŒ–ä¸ºå­—å¤§å°çš„æ•´æ•°ï¼ˆé©»ç•™å­—ç¬¦ä¸²ï¼‰. STATIC const mp_rom_map_elem_t tempSensor_module_globals_table[] = { { MP_ROM_QSTR(MP_QSTR___name__), MP_ROM_QSTR(MP_QSTR_tempSensor) }, { MP_ROM_QSTR(MP_QSTR_getT), MP_ROM_PTR(\u0026amp;tempSensor_getT_obj) }, { MP_ROM_QSTR(MP_QSTR_init), MP_ROM_PTR(\u0026amp;tempSensor_init_obj) }, { MP_ROM_QSTR(MP_QSTR_stop), MP_ROM_PTR(\u0026amp;tempSensor_stop_obj) }, }; STATIC MP_DEFINE_CONST_DICT(tempSensor_module_globals, tempSensor_module_globals_table); // å®šä¹‰æ¨¡å—å¯¹è±¡ const mp_obj_module_t tempSensor_user_cmodule = { .base = { \u0026amp;mp_type_module }, .globals = (mp_obj_dict_t *)\u0026amp;tempSensor_module_globals, }; // æ³¨å†Œæ¨¡å—ä»¥ä½¿å…¶åœ¨ Python ä¸­å¯ç”¨ è¿™è¡Œ æœ€å¥½æ¡ä»¶ç¼–è¯‘ MP_REGISTER_MODULE(MP_QSTR_tempSensor, tempSensor_user_cmodule); æ·»åŠ åˆ°æ¨¡å— ports/esp32/main/CMakeLists.txt æœç´¢ machine_sdcard.c æ¯”è¿™æ·»åŠ ä¸€è¡ŒtempSensor.c\nç¼–è¯‘ï¼Œæ›´å¤šç¼–è¯‘æ•™ç¨‹ æŸ¥çœ‹æœ¬ç«™å…¶ä»–æ–‡ç« \npyæµ‹è¯• 1 2 3 4 5 6 7 import time import tempSensor tempSensor.init() for _ in range(10): print(tempSensor.getT()) time.sleep(1) tempSensor.stop() ","date":"2023-06-13T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/esp32-mpy-add-c-module/","title":"esp32 micropythonæ·»åŠ Cæ¨¡å—(esp32 s2 c3 s3 å†…ç½®æ¸©åº¦ä¼ æ„Ÿå™¨è¯»å–)"},{"content":"æ·»åŠ è‡ªå®šä¹‰pyæ–‡ä»¶åˆ°bin æœ‰ä¸‰ä¸ªä¼˜ç‚¹\nåœ¨ç¼–è¯‘å›ºä»¶çš„æ—¶å€™ç¼–è¯‘pyæ–‡ä»¶åˆ°ä¸­é—´ä»£ç ï¼Œå¯ä»¥èŠ‚çœå¤§é‡å†…å­˜\nä¸­é—´ä»£ç åœ¨biné‡Œé¢ï¼Œæ¯”mpyæ–‡ä»¶æ›´éš¾æ³„éœ²\næ–¹ä¾¿é‡äº§\né¦–å…ˆä½ è¦å…ˆå­¦ä¼šè‡ªå®šç¼–è¯‘å›ºä»¶\næ·»åŠ åŸºäºCçš„æ¨¡å—è¯·å‚è€ƒ\nmodules æ·»åŠ pyæ–‡ä»¶çš„æ–¹æ³• ç„¶åçŸ¥é“ modules ç›®å½• å°±æ˜¯ æˆ‘ä»¬éœ€è¦æ·»åŠ è‡ªå®šä¹‰pyæ–‡ä»¶çš„åœ°æ–¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 cd ~/mpy-bin/micropython/ports/esp32/modules nano test.py ----------------- import time def hello(): print(\u0026#34;hello world\u0026#34;) def hw(str): print(str) def cycle(str): while True: print(str) time.sleep(1) é‡æ–°ç¼–è¯‘ï¼Œçƒ§å½•æ–°å›ºä»¶æµ‹è¯•\n1 2 3 import test test.hw(\u0026#39;123\u0026#39;) test.cycle(\u0026#39;cycle me\u0026#39;) è¿™å°±å®Œæˆäº†ã€‚\nåŒåçš„æ¨¡å—æ‰§è¡Œä¼˜å…ˆçº§ä¾æ¬¡ä¸ºï¼š flashçš„.py =\u0026gt; flashçš„.mpy =\u0026gt; romçš„.py =\u0026gt; romçš„.c\nå›ºä»¶ ç®€å• è‡ªå®šä¹‰ boot.py å’Œ main.py å¦‚æœæƒ³è‡ªå®šä¹‰ å¼€æœºå¯åŠ¨å¯åŠ¨çš„ boot.py å’Œ main.py éœ€è¦ç¼–è¾‘ ~/mpy-bin/micropython/ports/esp32/modules è¿™ä¸ªç›®å½•ä¸‹çš„ inisetup.py å³å¯ã€‚ å¯ä»¥åœ¨boot.py é‡Œé¢å®Œæˆè”ç½‘ å’Œä¸‹è½½ main.py åŠŸèƒ½å®Œæˆè‡ªåŠ¨æ›´æ–°\nå…¶ä»–ä»£ç çš„ä¿æŠ¤ micropython å®˜æ–¹æä¾›äº† mpyæ–¹æ³•ï¼Œå¯ä»¥æŠŠ pyæ–‡ä»¶è½¬æˆä¸­é—´ä»£ç  ï¼Œæœ‰ä¸€ç‚¹ç±»ä¼¼pythoneçš„pycæ–‡ä»¶ã€‚ä½†æ˜¯ å› ä¸ºåœ¨å•ç‰‡æœºè¿™ç§åœºæ™¯ä¸‹ï¼Œä¼šèŠ‚çœå¾ˆå¤šå†…å­˜ä¹Ÿä¼šæå‡ä¸€äº›æ€§èƒ½ã€‚åªæ˜¯ä»£ç ä¿æŠ¤åŠŸèƒ½ å’Œ pycå·®ä¸å¤šäº†ï¼ŒåŸºæœ¬æ²¡å•¥ç”¨ã€‚ åŠ å¯† æœ¬èº«ä¸ä¸€å®šæ˜¯å•çº¯çš„ä¿æŠ¤ä»£ç ï¼Œæœ‰æ—¶å€™æ˜¯ä¿æŠ¤ç®—æ³•å’Œapiå‚æ•°ï¼Œå¢åŠ æäº‹æƒ…çš„æ—¶é—´æˆæœ¬ã€‚\nè¾ƒä¸ºé è°±çš„æ–¹æ³• æ ¸å¿ƒå†…å®¹ç”¨Cæ¥å®Œæˆã€‚ è¿™æ ·æœºå™¨ç è½¬æ±‡ç¼–å·¥ä½œé‡æ˜¯æœ€å¤§çš„ã€‚\nå†æ¬¡ å°±æ˜¯ æ ¸å¿ƒçš„ç¨‹åº å†™æˆç±»ï¼Œæ”¾åˆ°å›ºä»¶modulesé‡Œé¢\nå…¶ä»–åŠŸèƒ½ å…¨éƒ¨æ‹†åˆ†åˆ° mpyæ–‡ä»¶é‡Œé¢ï¼Œç„¶åmain.pyè°ƒç”¨ï¼ŒåŒæ—¶ main.py å°½é‡å°‘äº›é€»è¾‘äº†å“¦ã€‚ ä¸»è¦é€»è¾‘éƒ½æ”¾åˆ° ç±»é‡Œé¢å»ã€‚\nå¦å¤–å°±æ˜¯å’‹æµ‹è¯•æˆåŠŸåï¼Œæœ€åçš„å›ºä»¶ ç¦ç”¨usbåŠŸèƒ½\n","date":"2023-06-12T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/esp32-mpy-code-to-bin/","title":"esp32è‡ªè¡Œç¼–è¯‘micropythonå›ºä»¶å¹¶æ·»åŠ åŸºäºpythonçš„æ¨¡å—"},{"content":"micropython è‡ªå·±ç¼–è¯‘å›ºä»¶æœ‰å‡ ä¸ªå¥½å¤„\nåªåŠ å…¥è‡ªå·±éœ€è¦çš„æ¨¡å—é™ä½ç¡¬ä»¶èµ„æºå ç”¨ .pyæ–‡ä»¶å¯ä»¥ä¿®æ”¹ä¸­ä¸­é—´ç ï¼Œå¹¶çƒ§å½•åˆ°å›ºä»¶å†…éƒ¨ï¼Œ å¯ä»¥æ–¹ä¾¿é‡äº§ å¯ä¸€å®šç¨‹åº¦ä¿æŠ¤ä»£ç  æ›´åŠ çœç•¥äº†ç¼–è¯‘è¿‡ç¨‹èŠ‚çœå†…å­˜ æˆ‘è¿™é‡Œ åªè®°å½• æ·»åŠ  smartconfigçš„æ–¹æ³•ï¼Œå¹¶ä»¥S2 miniä¸ºä¾‹ï¼Œå…¶ä»–esp32 åŒç†ã€‚\nç®€ä¸­ç½‘ç»œä¸Šï¼Œå‡ ä¹æ²¡æœ‰ç›¸å…³èµ„æ–™ï¼Œæœ‰ä¸€äº›èµ„æ–™ä¹Ÿæ˜¯é”™çš„æˆ–æ— æ³•ä½¿ç”¨ã€‚æ‰€ä»¥è¿™é‡Œå•ç‹¬è®°å½•åˆ†äº«ä¸€ä¸‹ã€‚ ä½ å¯ä»¥ç›´æ¥ä¸‹è½½ æˆ‘ç¼–è¯‘å¥½çš„\nhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/esp32/\nå‡†å¤‡ linuxç³»ç»Ÿï¼Œæˆ‘è¿™é‡Œæ˜¯pve lxcè¿è¡Œçš„ubuntu22.04 ç§‘å­¦å·¥å…· å› ä¸ºéœ€è¦æ‹‰github åŸºæœ¬çš„linuxåŸºç¡€ ç¯å¢ƒé…ç½® å’Œ ä¾èµ– ä¿®æ”¹åˆ°å›½å†…æºï¼Œè¿™ä¸ªè‡ªå·±å¤„ç†\n1 2 3 4 5 6 7 8 9 apt install git wget curl make gcc cmake rsync # ppaå®‰è£…pythone 3.11 Ubuntuè‡ªå¸¦çš„ç‰ˆæœ¬å¤ªä½ apt install software-properties-common add-apt-repository ppa:deadsnakes/ppa apt install python3.11 python-is-python3 # pip3 curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py --force-reinstall pip install mpy-cross-v6 å…‹éš†ä»£ç  1 mkdir mpy-bin \u0026amp;\u0026amp; cd mpy-bin esp-idf æ³¨æ„ ä¸åŒçš„esp32å¹³å° micropythonæ”¯æŒçš„esp-idfç‰ˆæœ¬ä¸åŒï¼Œè¯¦æƒ…å‚è€ƒ https://github.com/micropython/micropython/tree/master/ports/esp32#readme\nlinuxå°ç™½ ä¸€æ­¥ä¸€æ­¥æ“ä½œï¼Œæ³¨æ„é‡Œé¢çš„è­¦å‘Šä¿¡æ¯\n1 2 3 4 git clone -b v4.4.5 --recursive https://github.com/espressif/esp-idf.git esp-idf-v4.4.5 cd esp-idf-v4.4.5/ git checkout v4.4.5 git submodule update --init --recursive å¤„ç†ç¯å¢ƒå˜é‡\n1 2 ./install.sh source export.sh micropython æœ¬æ–‡åŸºäº 1.20 ç‰ˆæœ¬ï¼Œå¦‚æœæ–°ç‰ˆå¤±æ•ˆï¼Œè¯· ç›´æ¥å»ä¸‹è½½ https://github.com/micropython/micropython/releases/download/v1.20.0/micropython-1.20.0.zip ä¸è¦ git cloneæœ€æ–°çš„\n1 2 3 4 5 cd .. git clone https://github.com/micropython/micropython.git cd micropython make -C mpy-cross cd ports/esp32 æµ‹è¯•é»˜è®¤ç¼–è¯‘micropythonå›ºä»¶ 1 2 make submodules make # make BOARD=LOLIN_S2_MINI ç›´æ¥makeçš„è¯ æ˜¯ esp32 ï¼Œæˆ‘è¿™é‡Œæ˜¯ s2 ï¼Œå¹¶ä¸”æ˜¯ esp32 s2 miniå¼€å‘æ¿ æ‰€ä»¥æ·»åŠ å‚æ•° BOARD=LOLIN_S2_MINI è¿™æ ·å°±å¯ä»¥ç¼–è¯‘ äº†,ç¼–è¯‘å ä¼šæœ‰æç¤º ./build-XXXX/ firmware.bin è¿™ä¸ªæ–‡ä»¶æ˜¯åˆå¹¶åçš„ï¼Œå¯ä»¥ç›´æ¥çƒ§åˆ°0x1000\næ¨é€åˆ° nas æˆ‘è¿™é‡Œæ¨é€åˆ°nasé‡Œé¢ï¼Œæ–¹ä¾¿å…¶ä»–æœºå™¨ä½¿ç”¨\n1 rsync -avzut --progress ./build-LOLIN_S2_MINI/firmware.bin root@10.1.1.200:/mnt/nas/temp/firmware-my.bin çƒ§å½• åœ¨è¿æ¥esp32çš„æœºå™¨ä¸Šä»naså¤åˆ¶binæ–‡ä»¶è¿‡æ¥ç„¶åä¸‹å…¥\n1 2 esptool --port COM3 erase_flash #æ“¦é™¤ esptool --port COM3 --baud 1000000 write_flash -z 0x1000 firmware-my.bin # å†™å…¥ä»nas æ‹·è´è¿‡æ¥çš„ æ–°å›ºä»¶ çƒ§å½•å®Œæˆåï¼Œé‡å¯æ¿ï¼Œthonny é“¾æ¥ä¸Šï¼Œè¾“å…¥ help(\u0026lsquo;modules\u0026rsquo;) æŸ¥çœ‹æ¨¡å—\næ·»åŠ  smartconfigæ¨¡å— 1 cd ~/mpy-bin/micropython/ports/esp32 éœ€è¦ä¸¤ä¸ªåœ°æ–¹ï¼Œ1æ˜¯ æ·»åŠ ä¸€ä¸ªsmarconfig.cæ–‡ä»¶ï¼Œ2 æ˜¯ä¿®æ”¹è¿˜ ports/esp32/main/CMakeLists.txt æŠŠ smarconfig.c åŠ è¿›å»\nCMakeLists.txt æŸ¥çœ‹ cat ~/mpy-bin/micropython/ports/esp32/main/CMakeLists.txt ç›®å‰ç‰ˆæœ¬1.20ç‰ˆæœ¬ éœ€è¦ä¿®æ”¹çš„å†…å®¹åœ¨ 54-92è¡Œ æ ¼å¼å¦‚ä¸‹\n1 2 3 4 5 6 set(MICROPY_SOURCE_PORT main.c .... machine_sdcard.c ... ) æˆ‘ä»¬éœ€è¦åœ¨ machine_sdcard.c åé¢æ·»åŠ ä¸€ä¸ª smarconfig.cï¼Œç„¶ååœ¨ machine_sdcard.cçš„åŒç›®å½•ä¸‹ åˆ›å»ºä¸€ä¸ª smarconfig.c (å†…å®¹æŸ¥çœ‹åæ–‡)\nä¿®æ”¹åçš„ CMakeLists.txt å†…å®¹æ ¼å¼å¦‚ä¸‹\n1 2 3 4 5 6 7 set(MICROPY_SOURCE_PORT main.c .... machine_sdcard.c smarconfig.c ... ) åŒç†ï¼Œå¯ä»¥åœ¨è¿™é‡Œåˆ æ‰ä¸ç”¨çš„æ¨¡å—\nsmarconfig.c 1 nano ~/mpy-bin/micropython/ports/esp32/machine_sdcard.c å†…å®¹å‚è€ƒåæ–‡ã€‚ æ‰¾\né‡æ–°ç¼–è¯‘ 1 2 make submodules make BOARD=LOLIN_S2_MINI ä¸Šçº§æµ‹è¯• æ–°å›ºä»¶çƒ§å½•åï¼Œçƒ§å½•å®Œæˆåï¼Œé‡å¯æ¿ï¼Œthonny é“¾æ¥ä¸Šï¼Œè¾“å…¥ help('modules') æŸ¥çœ‹æ¨¡å— å·²ç»æœ‰ smarconfig è¿è¡Œä¸€ä¸ª main.py æµ‹è¯•ï¼Œæµ‹è¯•ä»£ç å‚è€ƒåæ–‡ã€‚ å¯åŠ¨åï¼Œæ‰¾ä¸€ä¸ªæ”¯æŒsmarconfigçš„æ‰‹æœºappæˆ–è€…å¾®ä¿¡å°ç¨‹åº é…ç½‘æµ‹è¯• æˆ‘ç”¨çš„å¾®ä¿¡å°ç¨‹åº#å°ç¨‹åº://ä¸€é”®é…ç½‘/047fob5XqOB14hk å¤åˆ¶å‘é€åˆ°æ‰‹æœºå¾®ä¿¡ï¼ŒèŠå¤©çª—å£ç‚¹å¼€å³å¯ã€‚é…ç½‘æˆåŠŸ\næ·»åŠ è‡ªå®šä¹‰pyæ–‡ä»¶ ä¼˜ç‚¹ï¼š1 ä¿æŠ¤ä»£ç  2 æ–¹ä¾¿é‡äº§ å†…å®¹å•ç‹¬å¦èµ·ä¸€ä¸€ä¸ªæ–‡ç«  æ·»åŠ è‡ªå®šä¹‰pyæ–‡ä»¶åˆ°å›ºä»¶\nå†…å®¹ smarconfig.c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 #include \u0026#34;py/obj.h\u0026#34; #include \u0026#34;py/runtime.h\u0026#34; #include \u0026lt;string.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026#34;freertos/FreeRTOS.h\u0026#34; #include \u0026#34;freertos/task.h\u0026#34; #include \u0026#34;freertos/event_groups.h\u0026#34; #include \u0026#34;esp_wifi.h\u0026#34; #include \u0026#34;esp_event.h\u0026#34; #include \u0026#34;esp_log.h\u0026#34; #include \u0026#34;esp_smartconfig.h\u0026#34; static EventGroupHandle_t s_wifi_event_group; static const int ESPTOUCH_DONE_BIT = BIT1; static const char *TAG = \u0026#34;smartconfig\u0026#34;; static int found_ssid_and_password = false; static uint8_t ssid[33] = {0}; static uint8_t password[65] = {0}; static uint8_t type = -1; static uint8_t token = 0; static void smartconfig_task(void * parm); static void event_handler(void* arg, esp_event_base_t event_base, int32_t event_id, void* event_data) { if (event_base == SC_EVENT \u0026amp;\u0026amp; event_id == SC_EVENT_SCAN_DONE) { ESP_LOGI(TAG, \u0026#34;Scan done\u0026#34;); } else if (event_base == SC_EVENT \u0026amp;\u0026amp; event_id == SC_EVENT_FOUND_CHANNEL) { ESP_LOGI(TAG, \u0026#34;Found channel\u0026#34;); } else if (event_base == SC_EVENT \u0026amp;\u0026amp; event_id == SC_EVENT_GOT_SSID_PSWD) { ESP_LOGI(TAG, \u0026#34;Got SSID and password\u0026#34;); smartconfig_event_got_ssid_pswd_t *evt = (smartconfig_event_got_ssid_pswd_t *)event_data; memcpy(ssid, evt-\u0026gt;ssid, sizeof(evt-\u0026gt;ssid)); memcpy(password, evt-\u0026gt;password, sizeof(evt-\u0026gt;password)); type = evt-\u0026gt;type; token = evt-\u0026gt;token; ESP_LOGI(TAG, \u0026#34;SSID:%s\u0026#34;, ssid); ESP_LOGI(TAG, \u0026#34;PASSWORD:%s\u0026#34;, password); ESP_LOGI(TAG, \u0026#34;TYPE:%d\u0026#34;, type); ESP_LOGI(TAG, \u0026#34;TOKEN:%d\u0026#34;, token); found_ssid_and_password = true; xEventGroupSetBits(s_wifi_event_group, ESPTOUCH_DONE_BIT); } } static void initialise_wifi(void) { s_wifi_event_group = xEventGroupCreate(); ESP_ERROR_CHECK(esp_event_loop_create_default()); ESP_ERROR_CHECK(esp_event_handler_register(SC_EVENT, ESP_EVENT_ANY_ID, \u0026amp;event_handler, NULL)); xTaskCreate(smartconfig_task, \u0026#34;smartconfig_task\u0026#34;, 4096, NULL, 3, NULL); } static void smartconfig_task(void * parm) { EventBits_t uxBits; ESP_ERROR_CHECK(esp_smartconfig_set_type(SC_TYPE_ESPTOUCH_AIRKISS)); smartconfig_start_config_t cfg = SMARTCONFIG_START_CONFIG_DEFAULT(); ESP_ERROR_CHECK(esp_smartconfig_start(\u0026amp;cfg)); while (1) { uxBits = xEventGroupWaitBits(s_wifi_event_group, ESPTOUCH_DONE_BIT, true, false, portMAX_DELAY); if(uxBits \u0026amp; ESPTOUCH_DONE_BIT) { ESP_LOGI(TAG, \u0026#34;smartconfig over\u0026#34;); ESP_ERROR_CHECK(esp_smartconfig_stop()); vTaskDelete(NULL); } } } STATIC mp_obj_t smartconfig_start(void) { initialise_wifi(); return mp_const_none; } STATIC MP_DEFINE_CONST_FUN_OBJ_0(smartconfig_start_obj, smartconfig_start); STATIC mp_obj_t smartconfig_success(void) { return mp_obj_new_bool(found_ssid_and_password); } STATIC MP_DEFINE_CONST_FUN_OBJ_0(smartconfig_success_obj, smartconfig_success); STATIC mp_obj_t smartconfig_info(void) { mp_obj_t info[] = { mp_obj_new_str((const char *)ssid, strlen((const char *)ssid)), mp_obj_new_str((const char *)password, strlen((const char *)password)), mp_obj_new_int(type), mp_obj_new_int(token) }; return mp_obj_new_tuple(4, info); } STATIC MP_DEFINE_CONST_FUN_OBJ_0(smartconfig_info_obj, smartconfig_info); STATIC const mp_rom_map_elem_t smartconfig_module_globals_table[] = { {MP_ROM_QSTR(MP_QSTR___name__), MP_ROM_QSTR(MP_QSTR_smartconfig)}, {MP_ROM_QSTR(MP_QSTR_start), MP_ROM_PTR(\u0026amp;smartconfig_start_obj)}, {MP_ROM_QSTR(MP_QSTR_success), MP_ROM_PTR(\u0026amp;smartconfig_success_obj)}, {MP_ROM_QSTR(MP_QSTR_info), MP_ROM_PTR(\u0026amp;smartconfig_info_obj)}, {MP_ROM_QSTR(MP_QSTR_TYPE_UNKNOWN), MP_ROM_INT(-1)}, {MP_ROM_QSTR(MP_QSTR_TYPE_ESPTOUCH), MP_ROM_INT(SC_TYPE_ESPTOUCH)}, {MP_ROM_QSTR(MP_QSTR_TYPE_AIRKISS), MP_ROM_INT(SC_TYPE_AIRKISS)}, }; STATIC MP_DEFINE_CONST_DICT(smartconfig_module_globals, smartconfig_module_globals_table); const mp_obj_module_t smartconfig_user_cmodule = { .base = {\u0026amp;mp_type_module}, .globals = (mp_obj_dict_t *)\u0026amp;smartconfig_module_globals, }; MP_REGISTER_MODULE(MP_QSTR_smartconfig, smartconfig_user_cmodule); main.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 import network import socket import smartconfig import time def inet_pton(ip_str:str): \u0026#39;\u0026#39;\u0026#39;convert ip address from string to bytes\u0026#39;\u0026#39;\u0026#39; ip_bytes = b\u0026#39;\u0026#39; ip_segs = ip_str.split(\u0026#39;.\u0026#39;) for seg in ip_segs: ip_bytes += int(seg).to_bytes(1, \u0026#39;little\u0026#39;) return ip_bytes def send_ack(local_ip, local_mac): \u0026#39;\u0026#39;\u0026#39;sent ack_done event to phone\u0026#39;\u0026#39;\u0026#39; udp = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) udp.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) data = smartconfig.info()[3].to_bytes(1, \u0026#39;little\u0026#39;) + local_mac port = 10000 # airkiss port if smartconfig.info()[2] == smartconfig.TYPE_ESPTOUCH: data += inet_pton(local_ip) port = 18266 # esptouch port print( f\u0026#34;\u0026#34;\u0026#34;- sending ack: type: {\u0026#39;esptouch\u0026#39; if smartconfig.info()[2] == smartconfig.TYPE_ESPTOUCH else \u0026#39;airkiss\u0026#39;} port: {port} data: {data} length: {len(data)} \u0026#34;\u0026#34;\u0026#34; ) for _ in range(20): time.sleep_ms(100) try: udp.sendto(data, (\u0026#39;255.255.255.255\u0026#39;, port)) except OSError: pass print(\u0026#39;- ack was sent\u0026#39;) station = network.WLAN(network.STA_IF) station.active(True) print(\u0026#39;- start smartconfig...\u0026#39;) smartconfig.start() print(\u0026#39;- waiting for success...\u0026#39;) while not smartconfig.success(): time.sleep_ms(500) print(\u0026#39;- got smartconfig info\u0026#39;) ssid, password, sc_type, token = smartconfig.info() print(smartconfig.info()) print(\u0026#39;- connecting to wifi...\u0026#39;) station.connect(ssid, password) while not station.isconnected(): time.sleep_ms(500) print(\u0026#39;- wifi connected\u0026#39;) while station.ifconfig()[0] == \u0026#39;0.0.0.0\u0026#39;: time.sleep_ms(500) print(\u0026#39;- got ip\u0026#39;) print(station.ifconfig()) send_ack(station.ifconfig()[0], station.config(\u0026#39;mac\u0026#39;)) ","date":"2023-06-12T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/mcu/esp32-s2-mpy-smartconfig/","title":"esp32è‡ªè¡Œç¼–è¯‘micropythonå›ºä»¶å¹¶æ”¯æŒsmartconfigæ–¹æ³• ä»¥åŠä»£ç ä¿æŠ¤"},{"content":"ç›®æ ‡ åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨fat/exfat/ext4 ä»¥åŠUç›˜ å…‰ç›˜å¯ä»¥å¯åŠ¨çš„è‡ªå®šä¹‰linuxç³»ç»Ÿç¯å¢ƒ\nåŸºäº debian11 ï¼šhttp://mirror.lzu.edu.cn/debian-cd/11.7.0/amd64/iso-dvd/debian-11.7.0-amd64-DVD-1.iso\nå…¶ä»–linuxç³»ç»Ÿå·®ä¸å¤š è„šæœ¬å·¥å…·ï¼šhttp://linux-live.org/\nåŸç† åŸºäºè‡ªå®šä¹‰çš„initramfsæŒ‚è½½å’Œå¯åŠ¨åˆ°squashfsåªè¯»é•œåƒå¯åŠ¨é»˜è®¤çš„linuxç¯å¢ƒã€‚\nåœ¨åªè¯»åª’ä½“ä¸Šï¼Œä¿®æ”¹ç‚¹æ˜ å°„åˆ°å†…å­˜ã€‚\nåœ¨linuxåŸç”Ÿç£ç›˜åˆ†åŒºä¸Šï¼Œä¿®æ”¹å†…å®¹æ˜ å°„åˆ°æŒ‡å®šç›®å½•ã€‚ åœ¨fat exfatç­‰ç£ç›˜åˆ†åŒºä¸Šä¿®æ”¹å†…å®¹æ˜ å°„åˆ°dataæ–‡ä»¶ï¼ˆé™åˆ¶12-16Gï¼‰\nåŸºæœ¬æ­¥éª¤å®ç° æ–°æœºå™¨å®‰è£…ä¸€ä¸ªå¹²å‡€çš„linux å¹¶å¿…é¡»å®‰è£…ä»¥ä¸‹å·¥å…·åŒ…squashfs-tools genisoimage æˆ–è€… mkisofs zip å¦å¤– éœ€è¦ xz rsync sshd sudo wget unzip nano ç­‰\næ‰“åŒ… æ‰“åŒ…å·¥å…· ç”¨ linux-live.org çš„\n1 2 3 4 mkdir /mklive \u0026amp; cd /mklive wget https://github.com/Tomas-M/linux-live/archive/refs/heads/master.zip unzip master.zip cd linux-live-master é…ç½® éœ€è¦é…ç½®config æ–‡ä»¶é‡Œé¢åˆ†åˆ«æ˜¯\nLIVEKITNAME ç›®å½• é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ VMLINUZ å†…æ ¸ä½ç½®ï¼Œéchrootæƒ…å†µå¯ä»¥ä¸ä¿®æ”¹ï¼Œchrootè¿‡æ¥çš„èŠ±éœ€è¦ä¿®æ”¹ä¸ºå®é™…çš„å†…æ ¸è·¯å¾„ï¼Œå¹¶ä¸”éœ€è¦ä¿®æ”¹å¼•å¯¼çš„cfg KERNEL å†…æ ¸ç‰ˆæœ¬ é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ MKMOD åŒ…å«çš„ç›®å½•ï¼Œé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼Œå¦‚æœä½ æœ‰å…¶ä»–ç›®å½• å•ç‹¬åŠ ä¸Š NETWORK æ˜¯å¦æ”¯æŒç½‘ç»œå¼•å¯¼ é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ LIVEKITDATA æœ€åæ‰“åŒ…çš„ç›®æ ‡ç›®å½•ï¼Œå…¶ä¸­åŒ…å« syslinuxå¼•å¯¼ä»¥åŠsquashfsé•œåƒå’Œä¸€äº›å…¶ä»–æ–‡ä»¶ BEXT squashfsæ–‡ä»¶åç¼€åç§° é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ LMK å†…æ ¸koæ¨¡å—ç›®å½•ï¼Œé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ åˆ›å»º 1 ./build ä¼šåœ¨LIVEKITDATAæŒ‡å®šçš„ç›®å½•åˆ›å»ºsbæ–‡ä»¶ initramfs å’Œå…¶ä»–éœ€è¦çš„æ–‡ä»¶ ä¹Ÿä¼šå§å†…æ ¸å¤åˆ¶ä¸€ä»½è¿‡å» å¦‚æœæ˜¯alpineçš„è¯éœ€è¦æ³¨æ„baseçš„å¤„ç†ï¼Œå¦å¤–initramfs/initramfs_create ä¹Ÿéœ€è¦æ‰§è¡Œæƒé™ã€‚\næ‰“åŒ… æœ€ç»ˆçš„æ–‡ä»¶ æ˜¯ åœ¨ /tmp/linux-data-XXX ç›®å½• ç›´æ¥æ‰§è¡Œ/tmp/gen_linux_zip.sh å°±å¯ä»¥äº†æ‰“åŒ…æˆzip äº†ï¼Œè§£å‹åˆ°Uç›˜ æˆ–è€…ç¡¬ç›˜ linux æˆ–è®¸win æ‰§è¡Œé‡Œé¢çš„ bootinst.sh/bat å³å¯åœ¨å¯¹åº”è®¾å¤‡ä¸Šåˆ›å»ºå¥½å¼•å¯¼ã€‚é»˜è®¤æ˜¯ç”¨çš„syslinuxå¼•å¯¼çš„ã€‚ å¦‚æœæ‰“åŒ…isoçš„è¯ï¼Œé»˜è®¤ä¸æ”¯æŒEFIå¯åŠ¨ã€‚\nå¯åŠ¨èƒŒæ™¯ 1 /tmp/linux-data-XXX/linux/boot/bootlogo.png ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ª https://raw.githubusercontent.com/xenlism/Grub-themes/main/xenlism-grub-1080p-Debian/Xenlism-Debian/background.png ä¸åˆé€‚\nä¿®æ”¹readme 1 2 3 4 cat \u0026gt; ./readme.txt \u0026lt;\u0026lt; \\EOF Default (SeaBIOS) use syslinux OVMF (UEFI) use grub EOF æ‰“åŒ…iso\n1 /tmp/gen_linux_iso.sh æµ‹è¯• pve å®¿ä¸»æœºå¤åˆ¶å‡ºæ¥\n1 rsync yanhui@10.1.1.239:/tmp/linux-x86_64.iso /exfat/iso/ efiå¯åŠ¨ ç¡¬ç›˜efi+grubå¯åŠ¨ è‡ªå¸¦ä¸€ç¡¬ç›˜å¯åŠ¨çš„shå’Œbatè‡ªåŠ¨å¤„ç†è„šæœ¬ï¼Œå¹¶æ”¯æŒ bios+syslinux å’Œ efi+syslinux å¦‚æœè¦ä¿®æ”¹ä¸ºgrubå‚è€ƒ https://github.com/beatfan/UEFI_grub2/\niso efi å¯åŠ¨æ”¯æŒ è‡ªåˆ›å»ºçš„isoæ”¯æŒbioså¯åŠ¨ï¼Œå¦‚æœefiå‚è€ƒ https://github.com/beatfan/USB_Boot_With_Grub_Grub2_ISOLINUX\n","date":"2023-06-03T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/linux/linux-live-diy/","title":"linux-liveç¯å¢ƒå®šåˆ¶ å¯Uç›˜ç¡¬ç›˜æˆ–è€…isoå¯åŠ¨"},{"content":"è‡ªå·±æ‰‹å†™ä¸€ä¸ªï¼Œä½ å¯ä»¥ç›´æ¥æŠ„ä½œä¸šã€‚\nè·å–å¤©æ°”é¢„æŠ¥api é¦–å…ˆéœ€è¦è‡ªå·±æ³¨å†Œä¸€ä¸ªapi,æˆ‘è¿™é‡Œç”¨çš„ openweathermap,æ³¨å†Œè´¦å·åæ‰“å¼€ https://home.openweathermap.org/api_keys,æŸ¥çœ‹è‡ªå·±çš„ api_key\nopenweathermap çš„api_keyæœ‰å»¶è¿Ÿï¼Œç•Œé¢æ˜¾ç¤ºå¯ç”¨çš„æœ‰æ—¶å€™å¥½åƒéœ€è¦åŠä¸ªå¤šå°æ—¶æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦åˆ™æ¥å£ä¸€ç›´è¿”å›401é”™è¯¯\nopenweathermap è™½ç„¶æœ‰è¯¸å¤šä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚è‹±æ–‡ï¼Œé€Ÿåº¦æ…¢ï¼Œä½†æ˜¯å¤©æ°”é¢„æŠ¥å¾ˆå‡†ç¡® è€Œä¸”æ¥å£ç¨³å®šï¼Œå¹¶åˆ†é’Ÿçº§å®æ—¶é¢„æŠ¥ï¼Œå¤©æ°”äº‘å›¾ï¼Œå›½å†…å¾ˆå¤šå…è´¹çš„æ¥å£ä¸ç¨³å®šã€‚\nè·å–åŸå¸‚id openweathermap æ”¯æŒåŸå¸‚åç§°æœç´¢æŸ¥è¯¢ï¼Œæˆ‘è¿™é‡Œä¸ºäº†ç®€åŒ–ç›´æ¥ç”¨åŸå¸‚idäº†ã€‚ æ‰“å¼€openweathermapç½‘ç«™ è¾“å…¥ä½ æ‰€åœ¨åœ°åŸå¸‚çš„æ‹¼éŸ³/è‹±æ–‡åæœç´¢ï¼ŒæŸ¥çœ‹å¤©æ°”ï¼Œåœ°å€æ çš„ä¾‹å¦‚ https://openweathermap.org/city/1793724 1793724å°±æ˜¯åŸå¸‚idäº†\næ‰‹åŠ¨æµ‹è¯•api è®¿é—®åœ°å€ï¼š https://api.openweathermap.org/data/2.5/weather?id={åŸå¸‚ID}\u0026amp;appid={api_key}\u0026amp;units=Metric\u0026amp;lang=zh_cn åé¢unitsæ˜¯å•ä½å…¬åˆ¶æˆ–è€…è‹±åˆ¶ä¹‹ç±»çš„ lang å°±æ˜¯è¯­è¨€äº†\næ­£å¸¸åº”è¯¥å¯ä»¥è¿”å›jsonæ•°æ®ï¼Œå¦‚æœæ˜¯401é”™è¯¯ï¼Œé‚£ä¹ˆå°±æ˜¯api_keyé”™è¯¯ï¼Œæˆ–è€…æ²¡ç”Ÿæ•ˆï¼Œæˆ–è€…è¯·æ±‚å¤ªé¢‘ç¹ï¼ˆ1åˆ†é’Ÿä¸Šé™60æ¬¡ï¼‰\næœ¬åœ°å‡†å¤‡ å› ä¸ºæ˜¯polybarç”¨ï¼Œé‚£ä¹ˆé“å®šæ˜¯linuxä¸‹æ—¥ç”¨ï¼Œä¹Ÿè‚¯å®šæœ‰pyhoneäº†ã€‚æˆ‘æŠ„çš„åˆ«äººçš„ï¼ˆåŸä½œè€…å¿˜è®°ï¼‰ç›´æ¥ç”¨äº†pyhoneã€‚\néœ€è¦å…ˆå¼•ç”¨requests, æ²¡æœ‰å®‰è£…ã€‚æå‰å®‰è£…ä¸€ä¸‹\n1 2 3 sudo pacman -S python-pip pip3 install requests sudo pacman -Rns python-pip #æ˜¯å¦å¸è½½æ‰çœ‹ä½ è‡ªå·± åˆ›å»ºè„šæœ¬ æŠŠä¸‹é¢è„šæœ¬çš„apt_keyå’ŒåŸå¸‚idï¼ˆ1793724ï¼‰æ¢æˆä½ è‡ªå·±çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 # éœ€è¦requests # sudo pacman -S python-pip # pip3 install requests cat \u0026gt; ~/.config/polybar/weather-plugin.py\u0026lt;\u0026lt; \\EOF #!/bin/python # -*- coding: utf-8 -*- import requests REQ = requests.get(\u0026#34;https://api.openweathermap.org/data/2.5/weather?id=1793724\u0026amp;appid=XXXXXXXXXXXX\u0026amp;units=Metric\u0026amp;lang=zh_cn\u0026#34;) try: # HTTP CODE = OK if REQ.status_code == 200: ICON_ID = REQ.json()[\u0026#34;weather\u0026#34;][0][\u0026#34;icon\u0026#34;] # Set the weather icon if ICON_ID == \u0026#34;01d\u0026#34;: ICON = \u0026#34;â˜€\u0026#34; # æ™´å¤© Clear Sky elif ICON_ID == \u0026#34;01n\u0026#34;: ICON = \u0026#34;â­\u0026#34; # Night, Clear Sky elif ICON_ID == \u0026#34;02d\u0026#34;: ICON = \u0026#34;ğŸŒ¤\u0026#34; # Day,å°‘äº‘ Few Clouds elif ICON_ID == \u0026#34;02n\u0026#34;: ICON = \u0026#34;ğŸŒ¤\u0026#34; # Night, å°‘äº‘ Few Clouds elif ICON_ID == \u0026#34;03d\u0026#34;: ICON = \u0026#34;ğŸŒ¤\u0026#34; # Day, å°‘äº‘ Scattered Clouds elif ICON_ID == \u0026#34;03n\u0026#34;: ICON = \u0026#34;ğŸŒ¤\u0026#34; # Night, å°‘äº‘ Scattered Clouds elif ICON_ID == \u0026#34;04d\u0026#34;: ICON = \u0026#34;å¤šäº‘\u0026#34; # Day, å¤šäº‘ Broken Clouds elif ICON_ID == \u0026#34;04n\u0026#34;: ICON = \u0026#34;å¤šäº‘\u0026#34; # Night, å¤šäº‘ Broken Clouds elif ICON_ID == \u0026#34;09d\u0026#34;: ICON = \u0026#34;ğŸŒ§\u0026#34; # Day, å°é›¨ Shower Rain elif ICON_ID == \u0026#34;09n\u0026#34;: ICON = \u0026#34;ğŸŒ§\u0026#34; # Night,å°é›¨ Shower Rain elif ICON_ID == \u0026#34;10d\u0026#34;: ICON = \u0026#34;ğŸŒ§\u0026#34; # Day, Rain elif ICON_ID == \u0026#34;10n\u0026#34;: ICON = \u0026#34;ğŸŒ§\u0026#34; # Night, Rain elif ICON_ID == \u0026#34;11d\u0026#34;: ICON = \u0026#34;â›ˆ\u0026#34; # Day, é›·é›¨ Thunderstorm elif ICON_ID == \u0026#34;11n\u0026#34;: ICON = \u0026#34;â›ˆ\u0026#34; # Night, é›·é›¨ Thunderstorm elif ICON_ID == \u0026#34;13d\u0026#34;: ICON = \u0026#34;â„\u0026#34; # Day,é›ª Snow elif ICON_ID == \u0026#34;13n\u0026#34;: ICON = \u0026#34;â„\u0026#34; # Night, é›ª Snow elif ICON_ID == \u0026#34;50d\u0026#34;: ICON = \u0026#34;ğŸŒ«\u0026#34; # Day, é›¾ Mist elif ICON_ID == \u0026#34;50n\u0026#34;: ICON = \u0026#34;ğŸŒ«\u0026#34; # Night,é›¾ Mist else: ICON = \u0026#34;å¤©æ°” \u0026#34; # å…¶ä»– Just Weather Icon CURRENT = REQ.json()[\u0026#34;weather\u0026#34;][0][\u0026#34;description\u0026#34;].capitalize() TEMP = int(float(REQ.json()[\u0026#34;main\u0026#34;][\u0026#34;temp\u0026#34;])) WIND = int(float(REQ.json()[\u0026#34;wind\u0026#34;][\u0026#34;speed\u0026#34;])) # è¾“å‡ºæ ¼å¼ print(\u0026#34;{} {}, {} Â°C ğŸŒ¬ {}m/s\u0026#34;.format(ICON, CURRENT, TEMP, WIND)) else: print(\u0026#34;Error: BAD HTTP STATUS CODE \u0026#34; + str(REQ.status_code)) except (ValueError, IOError): print(\u0026#34;Error: Unable print the data\u0026#34;) EOF æµ‹è¯•ä¸€ä¸‹ï¼Œæ­£å¸¸å¯ä»¥åœ¨ç»ˆç«¯è¾“å‡ºå¤©æ°”\n1 python3 ~/.config/polybar/weather-plugin.py polybarå¼•ç”¨ ç¼–è¾‘é…ç½®æ–‡ä»¶ ~/.config/polybar/config.ini æ·»åŠ ä¸€è¡Œ\n1 2 3 4 5 6 7 ; ===å¤©æ°”é¢„æŠ¥ éœ€è¦å•ç‹¬çš„pyhtoneæ’ä»¶=== [module/weather] type = custom/script exec = python3 ~/.config/polybar/weather-plugin.py interval = 960 tail = true click-left= exec firefox https://openweathermap.org/city/1793724 å®Œæ¯• ","date":"2023-05-13T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/polybar-weather-plugin/","title":"polybarå¤©æ°”é¢„æŠ¥æ’ä»¶"},{"content":"openwrtä¸€èˆ¬è‡ªå¸¦çš„sshæœåŠ¡å™¨ æ˜¯dropbear ,è€Œä¸æ˜¯å…¶ä»–linuxäº§ç”¨çš„opensshã€‚dropbear æ›´åŠ è½»é‡åŒ–ï¼Œæ›´é€‚åˆåµŒå…¥å¼è®¾å¤‡ã€‚ä½†æ˜¯dropbearçš„æ–‡ä»¶ä¼ è¾“åªæ”¯æŒscpè€Œä¸æ”¯æŒsftpã€‚\nä½†æ˜¯æŸäº›é€‚åˆï¼Œscpåè®®æ— æ³•æ›¿ä»£sftpã€‚æ‰€ä»¥è¿˜æ˜¯è¦å¤„ç†ä¸€ä¸‹ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç›´æ¥å®‰è£… openssh-sftp-server å dropbearå°±å¯ä»¥æ”¯æŒsftpä½†æ˜¯æœ‰æ—¶å€™ä¸ç”Ÿæ•ˆã€‚\nä¸ºäº†èŠ‚çœæ—¶é—´å»æ£€æŸ¥æ’é”™ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆ 1ã€ä½¿ç”¨rclone serve æˆ–è€…sftpgoç›´æ¥æå®šsftp 2ä½¿ç”¨opensshæ›¿æ¢æ‰dropbear\n2023 09 12 æ›´æ–°ï¼Œç¡¬ç›˜ä¸ç´§å¼ çš„è¯ å»ºè®®å›ºä»¶ç¼–è¯‘çš„æ—¶å€™å°± ä½¿ç”¨openssh\nä½¿ç”¨rclone å®‰è£…rclone opkgä»“åº“å®‰è£…\n1 opkg install rclone æˆ–è€…æ‰‹åŠ¨å®‰è£…ï¼Œæ³¨æ„é€‰æ‹©ä½ çš„cpuæ¶æ„\n1 2 3 rm -rf rclone* \u0026amp;\u0026amp; wget -c https://ghproxy.com/https://github.com/rclone/rclone/releases/download/v1.62.2/rclone-v1.62.2-linux-amd64.zip unzip rclone*.zip cp rclone-v1.62.2-linux-amd64/rclone /usr/bin/ \u0026amp;\u0026amp; chmod +x /usr/bin/rclone \u0026amp; rm -rf rclone* é…ç½®æœ¬åœ°å‚¨å­˜èŠ‚ç‚¹ 1 rclone config --config /etc/rclone/rclone.conf æ·»åŠ ä¸€ä¸ªæœ¬åœ°å‚¨å­˜ ï¼Œæˆ–è€…ç›´æ¥åœ¨rclone.confæ–‡ä»¶æ·»åŠ \n1 2 [localhost] type = local æ­å»ºæœåŠ¡ ç¼–è¾‘ /etc/rc.local åœ¨exit 0å‰é¢ æ·»åŠ ä¸€è¡Œï¼Œæˆ–è€…è·¯ç”±å™¨ç•Œé¢ä¸­ ç³»ç»Ÿ\u0026gt; å¯åŠ¨é¡¹\u0026gt; æœ¬åœ°å…¶ä¸­è„šæœ¬ä¸­è¾“å…¥\n1 2 3 rclone serve sftp localhost:/ --addr :1022 --user ç”¨æˆ·å --pass å¯†ç  --dir-cache-time 10s --config /etc/rclone/rclone.conf \u0026amp; rclone serve ftp localhost:/ --addr :1021 --user ç”¨æˆ·å --pass å¯†ç  --dir-cache-time 10s --config /etc/rclone/rclone.conf \u0026amp; rclone serve webdav localhost:/ --addr :1023 --user ç”¨æˆ·å --pass å¯†ç  --dir-cache-time 10s --config /etc/rclone/rclone.conf \u0026amp; ä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæœåŠ¡åè®®ï¼Œé€‰æ‹©ä½ éœ€è¦çš„å³å¯ã€‚ä¸€èˆ¬å±€åŸŸç½‘å†…æ²¡å¿…è¦sftpï¼Œftpæ€§èƒ½æ›´å¥½ é‡å¯è·¯ç”±å™¨å³å¯ï¼Œæˆ–è€… æ‰‹åŠ¨è¿è¡Œä¸€æ¬¡ ä¸Šé¢å‘½ä»¤ã€‚\nä½¿ç”¨openssh é¦–å…ˆç»™rootä¸€ä¸ªè®¾ç½®å¯†ç  è¿‡ç¨‹ç•¥ sd\nä¿®æ”¹dropbearç«¯å£ 1 2 3 uci set dropbear.@dropbear[0].Port=2222 uci commit dropbear /etc/init.d/dropbear restart ç„¶åå®¢æˆ·ç«¯é‡æ–°è¿æ¥ ssh root@10.1.1.1 -p 2222\nè¿™æ · dropbear å°±åœ¨2222 ä¸´æ—¶æä¾› sshå’Œscpåè®®\nå®‰è£…openssh å’Œsftp 1 2 3 4 rm /etc/ssh/sshd_config #å¦‚æœæœ‰è¿™ä¸ªæ–‡ä»¶æœ€å¥½åˆ æ‰ é‡æ–°é…ç½® opkg update opkg install openssh-server opkg install openssh-sftp-server ä¿®æ”¹é…ç½®æ–‡ä»¶ 1 nano /etc/ssh/sshd_config éœ€è¦ä¿®æ”¹å’Œæ£€æŸ¥å¤šæ•°\n1 2 3 UsePAM yes PermitRootLogin yes Subsystem sftp /usr/lib/sftp-server å¯åŠ¨æˆ–è€…é‡å¯ 1 2 /etc/init.d/sshd enable /etc/init.d/sshd restart å®¢æˆ·ç«¯è¿æ¥ éƒ¨åˆ†å®¢æˆ·ç«¯ å¯èƒ½éœ€è¦å¤„ç† .ssh/known_hosts æ–‡ä»¶æˆ–è€…å¯†é’¥\næœ€åç¦ç”¨dropbear éå¿…éœ€\n1 2 /etc/init.d/dropbear disable /etc/init.d/dropbear stop è·¯ç”±å™¨è¿™ä¸ªåœˆå­ï¼Œä¸å¿ç›´è§†ã€‚ä¸€ä¸ªé”™è¯¯çš„æ©å±±è®ºå›å›å¸– èƒ½è½¬è½½çš„æ•´ä¸ªç®€ä¸­ç½‘éƒ½æ˜¯ã€‚\n","date":"2023-05-11T13:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/sftp/","title":"openwrt /Dropbear å¼€å¯sftpå®Œæ•´è®°å½•"},{"content":"naså’Œä¸ªäººç”µè„‘æœ€å¼ºå¤‡ä»½å·¥å…·kopiaçš„ä¸€äº›è®°å½•å’ŒæŠ€å·§ä»¥åŠé¿å‘\nkopiaå’ŒRestic å¯¹æ¯”ï¼ŒåŠŸèƒ½å·®ä¸å¤ªå¤šã€‚æœ€å¤§çš„åŒºåˆ«æ˜¯kopiaè‡ªå·±æ”¯æŒå‹ç¼©ã€‚resticçš„çš„å‹ç¼©ä¾èµ–æ–‡ä»¶ç³»ç»Ÿï¼ˆbrtfs/ntfsï¼‰æˆ–è€…rcloneåç«¯å‹ç¼©ã€‚ rcloneçš„åç«¯å‹ç¼©ç›®å‰1.6.1ç‰ˆæœ¬è¿˜æ˜¯ä¸ç¨³å®šçŠ¶æ€ã€‚\nå¦å¤–kopia æœ‰ä¸€ä¸ªkopiaUI å›¾å½¢ç•Œé¢ï¼Œå¯ä»¥åœ¨Xæ¡Œé¢ä¸‹æ›´ç›´è§‚çš„ä½¿ç”¨ã€‚ä¹Ÿæ˜¯ä»–çš„ä¸€ä¸ªä¼˜åŠ¿ã€‚\nKopiaçš„å‹ç¼©å’Œå»é‡é€Ÿåº¦éƒ½è¦åŠæ‰“ä¸€ä¼—å¤‡ä»½è½¯ä»¶ï¼Œresticè™½ç„¶å¯ä»¥å»é‡ï¼Œä½†æ˜¯åªèƒ½ç®—ç¬¬äºŒã€‚ æœ€åkopiaçš„github issues ç¤¾åŒºå¾ˆæ´»è·ƒï¼Œæˆ‘åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæœ‰å‡ ä¸ªé—®é¢˜éƒ½æ˜¯ä»issuesæ‰¾åˆ°çš„ç­”æ¡ˆï¼Œæˆ–è€…æ˜¯åˆ«äººåœ¨issueså‘ŠçŸ¥çš„ã€‚\nä¹‹å‰ä¸€ç›´ç”¨çš„Duplicati å¯¹æ¯”èµ·æ¥çœŸçš„ æ˜¯æ¸£æ¸£\nkopiaï¼Œé‡Œé¢æœ‰å‡ ä¸ªæ¦‚å¿µ 1 repository å‚¨å­˜åº“ï¼Œå¯ä»¥ç†è§£ä¸ºå°±æ˜¯å¤‡ä»½ç›®çš„åœ°ï¼Œè¿™ä¸ªç›®çš„åœ° å¯ä»¥æ˜¯æœ¬åœ°ç¡¬ç›˜ï¼Œnasï¼Œä»¥åŠkopiaè‡ªå·±æ”¯æŒæˆ–è€…rcloneæ”¯æŒçš„äº‘ç«¯ 2 repository create å°±æ˜¯å‚¨å­˜åº“ é¦–æ¬¡ä½¿ç”¨çš„åˆå§‹åŒ–ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ åŠ å¯† å‹ç¼© ç‰ˆæœ¬ ç›®å½• ç»“æ„ç­‰ ã€‚ 3 repository connect å°±æ˜¯å»è¿æ¥æŒ‡å®šçš„å‚¨å­˜åº“ï¼Œä¸€ä¸ªåˆå§‹åŒ–è¿‡çš„å‚¨å­˜åº“ï¼Œå¯ä»¥åœ¨ å…¶ä»–è®¾å¤‡ä¸Šç”¨kopiaå»è¿æ¥ã€‚ 4 snapshot å¿«ç…§ï¼Œä¸ç”¨è§£é‡Šäº†å§ã€‚ 5 source å¤‡ä»½æºï¼Œå¿…é¡»æ˜¯æœ¬åœ°è·¯å¾„/nasã€‚kopiaæ˜¯ä»¥è·¯å¾„æ¥å½’ç±»ç®¡ç†å¿«ç…§ï¼Œæ‰€ä»¥æœ€å¥½lnä¸€ä¸‹è¦å¤‡ä»½çš„ä¸œè¥¿ï¼Œç»Ÿä¸€åŒ–è·¯å¾„é£æ ¼ï¼Œé˜²æ­¢ä¹±ç³Ÿç³Ÿçš„ é‚£ä¹ˆé¦–æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œå…ˆå» åˆå§‹åŒ–ä¸€ä¸ªå‚¨å­˜åº“ï¼Œç„¶åè¿æ¥å‚¨å­˜åº“ï¼Œç„¶åæ“ä½œå¿«ç…§ï¼ˆå¤‡ä»½/æŒ‚è½½/æŸ¥çœ‹/åˆ é™¤/æ¢å¤/åˆå¹¶ç­‰ï¼‰\nå¦‚æœä¸æ˜¯é¦–æ¬¡ä½¿ç”¨ï¼Œå°±è·³è¿‡åˆå§‹åŒ–çš„æ­¥éª¤å³å¯ã€‚\nkopia çš„åç«¯å‚¨å­˜åº“[ä¹Ÿå°±æ˜¯å‚¨å­˜åº“] æ”¯æŒæœ¬åœ°ç›®å½•ï¼Œnas,s3 webdav ç­‰å‚¨å­˜ï¼Œå¦å¤–å‡ ä¹æ”¯æŒæ‰€æœ‰rcloneæ”¯æŒçš„åç«¯ï¼Œä¹Ÿå¼€å§‹ç›´æ¥è°ƒç”¨rcloneæ¥å¤„ç†ã€‚ å¯¹webdavä¹Ÿæœ‰å¾ˆå¥½çš„æ”¯æŒï¼ é‚£ä¹ˆå›½å†…ç¯å¢ƒä¸‹ï¼Œkopia å°±å¯ä»¥åˆ©ç”¨ alist / rclone å¯¹nasè¿›è¡Œå¤‡ä»½ã€‚ è€Œä¸”æ˜¯åŠ å¯†+å‹ç¼©å¤‡ä»½ï¼Œåˆ°é˜¿é‡Œäº‘ç›˜ è¿™ç§å¤§å®¹é‡ä¸”ä¸æ€ä¹ˆé™é€Ÿçš„ç½‘ç›˜ã€‚\nè¿™ç§è‡ªå·±å¯ä»¥æ§åˆ¶ ç®¡ç†çš„æ–¹æ³•ï¼Œæ¯”ç¾¤æ™–çš„é‚£ä¸ªç½‘ç›˜å¤‡ä»½é¦™å¤šäº†ã€‚\nå®˜ç½‘ä¸‹è½½çš„ï¼škopia æ˜¯å‘½ä»¤è¡Œç‰ˆæœ¬ kopia-ui å°±æ˜¯uiç‰ˆäº†ï¼Œä¸¤ä¸ªåŠŸèƒ½éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚\nå‡ ä¸ªå‘ kopia v0.13.0 rc1åŒ…æ‹¬rc1 ä¹‹å‰çš„ç‰ˆæœ¬ ï¼Œå’Œç›®å‰æœ€æ–°çš„rclone1.6.1 ä¸å¤ªå…¼å®¹ï¼Œè¦rc2 æˆ–è€… 0.13.0æ­£å¼ç‰ˆã€‚é‰´äºkopiaè¿˜å¾ˆå¹´è½»ï¼Œæ‰€ä»¥å¦‚æœä½ å½“å‰ç‰ˆæœ¬èƒ½æ­£å¸¸ä½¿ç”¨ç”¨ï¼Œrcloneå’Œkopiaè°¨æ…å‡çº§ã€‚ kopia é€šè¿‡webdavè¿æ¥alistæŒ‚è½½çš„é˜¿é‡Œäº‘ç›˜çš„æ—¶å€™ï¼Œå¿…é¡»æ‰“å¼€æœ¬åœ°ä»£ç†ã€‚æ„Ÿè°¢ ericma15 kopiaå¸¸ç”¨å‘½ä»¤è®°å½• shellä¸­å…è¾“å…¥å‚¨å­˜åº“å¯†ç  1 export KOPIA_PASSWORD=\u0026lt;å¯†ç \u0026gt; è¿æ¥åˆ°webdav 1 2 kopia repository create webdav --url=http://localhost:8080/kopai33 --webdav-username webdav --webdav-password 123 # æˆ–è€…connect è¿æ¥åˆ°rclone 1 2 kopia repository create rclone --remote-path=\u0026#34;alist-local:/alipan/kopia-test/111\u0026#34; # æˆ–è€…connect åˆ›å»ºå¿«ç…§ [å³ï¼šå¤‡ä»½ä¸€ä¸ªç›®å½•åˆ°åç«¯å‚¨å­˜åº“] è¦å…ˆconnect\n1 kopia snapshot create /mnt/nas/doc_code æŸ¥çœ‹å¿«ç…§ è¦å…ˆconnect\n1 kopia snapshot list /mnt/nas/doc_code åˆ é™¤å¿«ç…§ åªä¼šåˆ é™¤è¿™ä¸ªå¿«ç…§ç‹¬æœ‰çš„æ–‡ä»¶\n1 kopia snapshot delete \u0026lt;id\u0026gt; ä»ä¸€ä¸ªå¿«ç…§æ¢å¤ å»ºè®®mount æŒ‚è½½åç”¨cp syncç­‰ï¼Œæ›´åŠ ç›´è§‚ï¼Œè€Œä¸æ˜¯è¿™é‡Œæ¢å¤ã€‚\n1 2 kopia snapshot restore \u0026lt;sources\u0026gt; restore kffbb7c28ea6c34d6cbe555d1cf80faa9/subdir1/subdir2 sd2 æŒ‚è½½ 1 kopia mount [path] [mountPoint] å¸¸ç”¨å®ä¾‹å’Œå¸¸è§é—®é¢˜ è¿æ¥åˆ°alistä¸­çš„é˜¿é‡Œç½‘ç›˜ 1 2 3 4 5 6 7 8 9 export KOPIA_PASSWORD=èŠ‚ç‚¹å¯†ç  #é»˜è®¤å¯†ç  export KOPIA_CHECK_FOR_UPDATES=false # ç¦æ­¢kopiaè‡ªåŠ¨æ›´æ–° mkdir -p /root/cache_kopia/alist /root/kopia repository connect webdav \\ --url=http://10.1.1.201:5244/dav/alipan/kopia \\ --webdav-username=alistUserName \\ --webdav-password=AlistPSW \\ --cache-directory=/root/cache_kopia/alist \\ --content-cache-size-limit-mb=50 2023-10-09è¡¥å……ï¼šè™½ç„¶kopia0.14.1å’Œalist v3.28.0 ä¹‹é—´å¯ä»¥ç›´è¿ï¼Œä¸éœ€è¦rcloneæ‰“é€šï¼Œä½†æ˜¯é•¿æœŸä½¿ç”¨æ˜¯å¦å­˜åœ¨é—®é¢˜å°šä¸å¯çŸ¥ã€‚\næš‚æ—¶çš„å»ºè®® è¿˜æ˜¯rcloneä¸­è½¬ä¸€ä¸‹\nè¿æ¥åˆ°åŒæµç­‰æ— ç®¡ç†å‘˜æ— apiçš„onedrive è¾ƒä¸ºç¨³å¦¥åŠæ³•æ˜¯é€šè¿‡rclone å…ˆç”¨webdavè¿æ¥åˆ°onedrive\n1 2 3 4 5 6 export KOPIA_PASSWORD=èŠ‚ç‚¹å¯†ç  #é»˜è®¤å¯†ç  export KOPIA_CHECK_FOR_UPDATES=false # ç¦æ­¢kopiaè‡ªåŠ¨æ›´æ–° mkdir -p /root/cache_kopia/tongji /root/kopia repository connect rclone --remote-path=tongji-webdav:/kopia \\ --cache-directory=/root/cache_kopia/tongji \\ --content-cache-size-limit-mb=50 å®é™…æµ‹è¯• é™¤äº†ä¸Šä¼ é€Ÿåº¦è¾ƒæ…¢ä»¥åŠå†…å­˜å ç”¨å¤šä¸€äº›ä¹‹å¤–å¹¶æ²¡æœ‰å…¶ä»–é—®é¢˜\nè¿æ¥åˆ°rclone 1 kopia repository connect rclone --remote-path=cloudflare:/mydisk/kopia2 rcloneå’Œkopiaçš„å…¼å®¹ ä¸»è¦æ˜¯ç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§æœ‰é—®é¢˜ã€‚ kopia \u0026lt; v0.13.0 does not work with any version of rclone \u0026gt; 1.61\nalistå’Œkopiaçš„å…¼å®¹ æ³¨æ„ï¼Œalistæœ¬èº«çš„webdavä¸€ç›´ä¸å¤ªå®Œå–„ï¼Œåˆæ¬¡ä¹‹å¤–ç½‘ç›˜çš„æŒ‚è½½ä¹Ÿä¸æ˜¯å¾ˆç¨³å®šã€‚å¦‚æœkopiaè¿æ¥åˆ°alistçš„æ—¶å€™æœ‰é—®é¢˜ï¼Œè¯·å…ˆç¡®ä¿å¯¹åº”çš„èŠ‚ç‚¹å¯ä»¥æ–¹æ³•ã€‚å¦å¤–alist å¯¹kopiaçš„æ”¯æŒä¸€ç›´æœ‰ä¸€äº›é—®é¢˜ï¼Œå¯é€‰çš„è§£å†³æ–¹æ¡ˆï¼š\nalistæ›´æ–°åˆ° v3.28.0 åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ä¿®å¤äº† https://github.com/alist-org/alist/issues/5161 è¿™ä¸ªé”™è¯¯ alist æ·»åŠ ç½‘ç›˜çš„å‚¨å­˜çš„æ—¶å€™ WebDAV ç­–ç•¥ è¦é€‰ æœ¬åœ°ä»£ç† ä¸­é—´ä½¿ç”¨rcloneè½¬å‘ä¸€æ¬¡\nå¦å¤– åœ¨ä½¿ç”¨é˜¿é‡Œäº‘ç›˜çš„æ—¶å€™ï¼Œæ³¨æ„é˜¿é‡Œäº‘ç›˜çš„æ¥å£çš„ä¸€äº›é™åˆ¶ï¼Œä¹Ÿä¼šå¯¼è‡´kopiaè¿™è¾¹æŠ¥é”™ã€‚ ","date":"2023-05-05T14:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/kopia/","title":"kopia cliä¸­æ–‡å¿«é€Ÿå…¥é—¨æŒ‡å— 1åˆ†é’Ÿå­¦ä¼š"},{"content":"å¯¹æ¯”å’Œæ„Ÿå— 2023-0519 è¡¥å……ï¼šfilerunå…è´¹ç‰ˆå¯ä»¥è¯´æ˜¯ç›®å‰ æœ€å¼ºå¤§ä¸”æœ€ç®€å•æ˜“ç”¨çš„ æœ€æµç•… ç»†èŠ‚åšçš„æœ€å¥½ é€‚åˆä¸­å°å›¢å’Œä¸ªäººçš„ç½‘ç›˜ç¨‹åºã€‚\ncloudreve ç•Œé¢èµ·æ¥æ¼‚äº®ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨å°é—®é¢˜å¾ˆå¤šï¼Œç”šè‡³è§†é¢‘æ’­æ”¾éƒ½æ²¡æœ‰æ–¹ä¾¿çš„è¿”å›é”®ã€‚webdavæœ‰ä¸¥é‡é—®é¢˜ï¼Œåé¦ˆå¾ˆå¤šæ¬¡ä½œè€…æ— è§†è§‰å¾—è‡ªå·±å¾ˆå¥½ã€‚ä¸æ”¯æŒç¡¬ç›˜æ–‡ä»¶æ‰«æ seafile è¿™ã€‚ã€‚ã€‚è›‹ç–¼çš„ç©æ„ï¼Œä¸‘ä¸”åŠŸèƒ½å¼±é¸¡ï¼Œæ€§èƒ½ä¹Ÿæ‹‰è·¨ filebrower å°å·§çµæ´»ï¼Œä½†æ˜¯åŠŸèƒ½å°‘å¤ªå¤šäº†ï¼Œåªé€‚åˆç®€å•çš„åœºåˆä½¿ç”¨ æˆ–è€…è·¯ç”±å™¨ç­‰ç¡¬ä»¶å—é™çš„æƒ…å†µ alist å®ƒçš„æœ¬åœ°æ–‡ä»¶ç®¡ç†åŠŸèƒ½ï¼Œåªèƒ½è¯´æ˜¯å‡‘åˆã€‚æ¯•ç«Ÿå®ƒåªæ˜¯é¡ºå¸¦åšäº†ä¸€ä¸‹ï¼Œäººå®¶ä¸“ä¸šä¸åœ¨è¿™é‡Œ nextcloud/owncloud å¾ˆå¼ºï¼Œphp8ä»¥åæ€§èƒ½ä¹Ÿå®Œå…¨ok,ä½†æ˜¯webui çœŸçš„å¤ªå¡äº†ã€‚ unraid è¿™ä¸ªè¿˜æ˜¯aioå¹³å°ï¼Œä»–çš„æ‰€è°“nasåŠŸèƒ½åªæ˜¯å¼±é¸¡ï¼Œä½œä¸ºaioæ˜¯pveçš„å¼Ÿå¼Ÿï¼Œä½œä¸ºnasæ ¸å¿ƒåŠŸèƒ½å’Œæ€§èƒ½ä¹Ÿè¢«ä¸€ä¼—å…è´¹è½¯ä»¶åŠæ‰“ ç¾¤æ™– å¾ˆä¼˜ç§€ ï¼Œä½†æ˜¯ä¹Ÿä»…é€‚åˆlinuxå°ç™½ç®¡ç†å‘˜ï¼Œå¯ä»¥å‡ ä¹æ— è„‘æ­å»ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„nas+ç½‘ç›˜ç¨‹åºã€‚çµæ´»æ€§ä¸è¶³ï¼Œé»‘ç¾¤æ™–ä¸ç¨³å®šã€‚ filerunçš„æ¯”è¿™äº›ç½‘ç›˜ç¨‹åºä¼˜ç§€çš„åœ°æ–¹ï¼š webuiæåº¦æµç•…èˆ’é€‚ï¼æˆç†Ÿåº¦é«˜ ç¡¬ä»¶æ€§èƒ½è¦æ±‚ä½ï¼Œæ ‘è“æ´¾ï¼ŒN1 ç­‰éƒ½å¯æµç•…è¿è¡Œï¼Œä¸€èˆ¬x86çš„è½¯è·¯ç”±å™¨æ›´ä¸åœ¨è¯ä¸‹ æ€§èƒ½ä¼˜åŒ–å“è¶Šï¼Œæ–°ç‰ˆæœ¬åŸºäºphp8.1 æ€§èƒ½çˆ†å‘å¼å¢é•¿ï¼Œåœ¨è¿™ç§ioå¯†é›†åº”ç”¨ä¸Šï¼Œæ€§èƒ½å·²ç»å’Œgoçš„åŸºæœ¬æŒå¹³ã€‚firerunçš„æ—§ç‰ˆåœ¨æ—©å·²ç»å¯ä»¥è½»æ¾è·‘æ…¢åƒå…†ï¼Œä¸‡å…†ä¸‹ä¹Ÿæœ‰8-900MB/sçš„é€Ÿåº¦ ä¿æŒæœ¬åœ°ç›®å½•ç»“æ„ï¼Œå¯ä»¥æ–¹ä¾¿çš„æ‰©å……ç£ç›˜ ã€‚ä»¥åŠå’Œsmb nfs sftp ftpåè®®çš„æ‰©å±•ã€‚ æ‰‹æœºå®¢æˆ·ç«¯å¯ä»¥ç”¨å…è´¹çš„nextcloud/owncloud çš„app è§£å†³åŒæ­¥é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šæ”¯æŒwebdavçš„ç¨‹åº ä¼˜ç§€çš„ç¼©ç•¥å›¾é…ç½®ï¼ŒåŒ…æ‹¬è§†é¢‘çš„å¯ä»¥è®¾ç½®Nç§’çš„è‡ªåŠ¨æˆªå›¾ã€‚å…¶ä»–å›¾ç‰‡å’Œoffice æ–‡æœ¬æ–‡ä»¶ é»˜è®¤é…ç½®å°±å·²ç»å¾ˆä¼˜ç§€ã€‚nextcloud/owncloud ä¹Ÿæœ‰åŒæ ·çš„åŠŸèƒ½å’Œé…ç½®å‚æ•°ï¼Œä½†æ˜¯ç›¸å¯¹å¤æ‚ä¸€äº› ç®€å•æ˜“ç”¨å¹¶å®‰å…¨çš„åœ¨çº¿officeé…ç½®ï¼ŒåŒæ ·çš„åªæœ‰ nextcloud/owncloud å’Œ seafile å¯ä»¥æ¯”è‚©ã€‚cloudreveæœ€è¿‘æ‰æ”¯æŒï¼Œä½†æ˜¯å¯¹åº”çš„æƒé™éƒ¨åˆ†cloudreveå¹¶ä¸æ”¯æŒã€‚ è€Œä¸”cloudreveçš„webuiè¿ä¸ªè¿”å›æŒ‰é’®éƒ½æ²¡æœ‰ã€‚ è‡ªå®šä¹‰æ–‡ä»¶åæ–‡ä»¶ååç¼€çš„ç¼–è¾‘å™¨å’Œé¢„è§ˆï¼Œç›®å‰åªæœ‰ nextcloud/owncloud æ˜¯åŒæ°´å¹³çš„ã€‚ å…¶ä»–è¦ä¹ˆæ²¡æœ‰ï¼Œè¦ä¹ˆæ”¯æŒçš„æ ¼å¼æˆ–è€…ç¼–è¾‘å™¨é¢„è§ˆå·¥å…·å¤ªå°‘ æåº¦å®Œå–„çš„å‡ ä¹æ‰€æœ‰æ ¼å¼çš„æ–‡ä»¶çš„åœ¨çº¿é¢„è§ˆå’Œç¼–è¾‘æ¥å£çš„æ”¯æŒï¼ŒåŒ…æ‹¬3dæ–‡ä»¶ ï¼Œpsæ–‡ä»¶ç­‰ï¼Œå‚è€ƒä¸Šæ¡ã€‚ æåº¦èˆ’é€‚çš„è§†é¢‘åœ¨çº¿æ’­æ”¾ åªæœ‰nextcloud/owncloud æ˜¯åŒæ°´å¹³çš„ ä¼˜ç§€æ–¹ä¾¿çš„éŸ³é¢‘æ’­æ”¾å™¨ åªæœ‰nextcloud/owncloud æ˜¯åŒæ°´å¹³çš„ webui ä¸ªæ€§åŒ–å®šåˆ¶åŠŸèƒ½å–„ï¼Œå½“ç„¶æ”¶è´¹ç‰ˆæœ¬åŠŸèƒ½éå¸¸å®Œå–„ï¼Œå…è´¹ç‰ˆçš„ç®€å•ä¸€äº›ï¼Œä½†æ˜¯ä¹Ÿå¤Ÿç”¨ å®Œå–„çš„webdavæ”¯æŒï¼Œå¾ˆå¤šå·ç§°æ”¯æŒwebdavçš„ç½‘ç›˜ç¨‹åºï¼Œå®é™…ä¸Šwevdavéƒ½æœ‰ä¸€äº›é—®é¢˜ã€‚ æ‰‹æœºå®¢æˆ·ç«¯çš„å®Œå–„æ”¯æŒï¼Œfilerunçš„apiå…¼å®¹nextcloud/owncloud å¯ä»¥ç›´æ¥ä½¿ç”¨nextcloud/owncloud çš„æ‰‹æœºå®¢æˆ·ç«¯appã€‚å½“ç„¶å…¶ä»–æ”¯æŒwebdavç­‰åè®®çš„appæ›´æ²¡é—®é¢˜ã€‚ æ–‡ä»¶åŒæ­¥åŠŸèƒ½å®Œå–„ï¼Œå› ä¸ºå…¼å®¹nextcloud/owncloud çš„apiå¯ä»¥ç›´æ¥ä½¿ç”¨ä»–ä»¬çš„å®¢æˆ·ç«¯ã€‚å¦å¤–å› ä¸ºfilerunæ˜¯ä¸ºæ•°ä¸å¤šçš„å¯ä»¥å¯¹webdavçš„å®Œå–„æ”¯æŒçš„è½¯ä»¶ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½¿ç”¨rclone kopiaç­‰ä¼˜ç§€ç¬¬ä¸‰æ–¹è½¯ä»¶ ã€‚å¦å¤–å› ä¸ºæ–‡ä»¶å‚¨å­˜æ¥å£æ˜¯æœ¬åœ°ç¡¬ç›˜çš„ç»“æ„ filerunç›¸å¯¹çš„ç¼ºç‚¹ï¼š\nåŸºäºphp å°±å†³å®šäº†ä»–çš„ä¾èµ–å¤æ‚ï¼Œæ•´ä½“ç£ç›˜å ç”¨è¦æ¯”goè¯­è¨€çš„çš„é‚£äº›å¤§ä¸€å†™ï¼Œgoçš„å‡ Måˆ°å‡ åM,pythoneç±»çš„ä¹Ÿå°±å‡ ç™¾å‡ åMå°±å¤Ÿäº†ã€‚ æ¯•ç«Ÿä¸€ä¸ªè£¸æœºlinux+phpç›¸å…³ä¾èµ– å·²ç»åˆ°1.5Gå·¦å³çš„ç£ç›˜å ç”¨äº†ã€‚åœ¨ç‹¬ç«‹lxcè¿è¡Œçš„æ—¶å€™ï¼Œè¿™ä¸ªç£ç›˜å ç”¨å°±æ˜æ˜¾äº†ã€‚ åœ¨ç£ç›˜ç´§å¼ çš„ç¡¬è·¯ç”±ä¸Šä¸é€‚åˆã€‚ æ•°æ®åº“åªå¯ä»¥ç”¨mysql/mariadbï¼Œä¸æ”¯æŒæ–‡ä»¶ç±»å‹æ•°æ®åº“ï¼ˆæ¯”å¦‚sqliteï¼‰ï¼Œå’Œpgsqlç­‰å…¶ä»–æ•°æ®åº“ã€‚è¿™å°±æ„å‘³ç€ï¼Œä½æ€§èƒ½çš„è€å¼è·¯ç”±å™¨ å°±åˆ«æƒ³äº†ã€‚ä½†æ˜¯æ ‘è“æ´¾ä¹‹ç±»çš„armè¿˜æ˜¯å¯ä»¥içš„ã€‚ éå¼€æºè½¯ä»¶ ï¼Œè™½ç„¶æˆç†Ÿåº¦å¾ˆé«˜ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå…è´¹ç”¨æˆ·ï¼Œä½ å¦‚æœæƒ³å»æ‰ç‰ˆæƒç‰¹å¾ä¹‹ç±»çš„è¿˜æ˜¯ç•¥å¾®æœ‰ä¸€ç‚¹éº»çƒ¦ã€‚ éå›½äº§è½¯ä»¶ï¼Œè¿™ç®—ä¼˜ç‚¹è¿˜æ˜¯ç¼ºç‚¹å‘¢ï¼Ÿ å…è´¹ç‰ˆé»˜è®¤5ç”¨æˆ·ï¼Œæ³¨å†Œåå¯ä»¥10ç”¨æˆ·ï¼Œä½†æ˜¯æ³¨å†Œéœ€è¦å…¬ç½‘å¯è®¿é—®ï¼Œä¸”æ›´æ¢åŸŸåéœ€è¦é‡æ–°æ³¨å†Œã€‚ ç”¨æˆ·é…é¢ç®¡ç†ä»¥åŠä¸€äº›é«˜çº§åŠŸèƒ½æ˜¯æ”¶è´¹åŠŸèƒ½ï¼Œé™¤äº†nextcloud/owncloud å…¶ä»–çš„ç½‘ç›˜ç¨‹åºç›¸å…³åŠŸèƒ½ä¹ŸåŸºæœ¬éƒ½æ˜¯æ”¶è´¹çš„ã€‚ ä¸­æ–‡ç¤¾åŒºæ”¯æŒä¸å¥½ï¼Œéœ€è¦ä½ è‡ªå·±ä¼šä¸€ç‚¹linux dockerçš„çŸ¥è¯†ï¼Œåé¢æœ‰æ‰‹æŠŠæ‰‹çš„æ•™ç¨‹ å¯ä»¥å®Œæˆä¸­æ–‡æ±‰åŒ–å’Œofficeä¸­æ–‡ç¼©ç•¥å›¾ç­‰ã€‚ åŸºäºç£ç›˜çš„æ–‡ä»¶ç»“æ„ï¼Œåœ¨å¤§é‡å°æ–‡ä»¶çš„æ—¶å€™ä¼šæ€§èƒ½ä¸‹æ»‘è¿™æ˜¯æ‰€æœ‰æ­¤ç±»æ–‡ä»¶ç»“æ„çš„ç½‘ç›˜çš„é€šç—…ã€‚ä½†æ˜¯è¿™é‡Œçš„å¤§é‡æ˜¯æŒ‡çš„åŒç›®å½•ä¸‹çš„ä¸‡çº§ ç›®å‰ç‰ˆæœ¬è¿˜æ˜¯æ²¡æœ‰è‡ªå¸¦ç½‘ç»œäº‘å‚¨å­˜çš„æ”¯æŒï¼Œç”šè‡³éƒ½ä¸æ”¯æŒå¸¸è§çš„S3åè®®ï¼Œä½ éœ€è¦å¦å¤–ç”¨alist/rclone æŒ‚è½½ã€‚ åŸæ–‡ï¼š åœ¨ï½ï½ï½“ç³»ç»Ÿçš„è¿™å‡ å¹´çš„æŠ˜è…¾ä¸­ï¼Œé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œæœ€ç»ˆå†³å®šéšå¤§æµï¼Œè¿ç§»åˆ°ã€€nextcloudçš„æ€€æŠ±ï¼Œä½†æ˜¯nextcloud webuiå¡é¡¿å¾ˆçƒ¦ã€‚æ‰€ä»¥å†³å®šå…ˆç”¨filerunï¼Œæ…¢æ…¢ç ”ç©¶nextcloudçš„ä¼˜åŒ–ã€‚ filerun åŸºæœ¬ä¸Šç›¸å½“äºnextcloudçš„ è½»é‡ä¼˜åŒ–ç‰ˆæœ¬ã€‚ æœ€å¤§çš„ä¼˜åŠ¿ å°±æ˜¯ä½¿ç”¨ç®€å• é€Ÿåº¦å¿«ã€‚ç¼ºç‚¹ ä¸å¼€æº é™åˆ¶å¤š åŠŸèƒ½å°‘å¾ˆå¤šã€‚ æˆ‘å¤§æ¦‚çœ‹äº†ä¸€ä¸‹å…è´¹ç‰ˆfilerunå¯¹å¼€æºç‰ˆnextcloud æ¯”è¾ƒå¸¸ç”¨åŠŸèƒ½ç¼ºå¤±çš„æœ‰ï¼šå³æ—¶é€šè®¯èŠå¤©è½¯ä»¶åŠŸèƒ½ã€æ—¥å†åŠŸèƒ½ã€é‚®ä»¶ä¸­å¿ƒã€è´¦æˆ·é™é¢ã€æœ€å¤š10äººçš„é™åˆ¶\nå…¶å®æœ€å¤§çš„ä¸åŒ å°±æ˜¯ 10äººé™åˆ¶ å’Œ é…é¢çš„é—®é¢˜ã€‚å…¶å®è¿™ä¸ªé—®é¢˜å¯ä»¥ ç”¨ sftpgo æˆ–è€…rclone serveæ¨¡å¼æå®šï¼Œä»¥åæˆ–è®¸ä¼šå†™ä¸€ä¸ªæ–‡ç« ã€‚\nå¦å¤–filerun ä¸æ”¯æŒsqliteï¼Œåªæ”¯æŒ mysql/mariadbï¼Œä¹Ÿå°±æ˜¯è¯´å“ªæ€•å°±ä½ ä¸€ä¸ªäººç”¨ï¼Œä½ ä¹Ÿè¦è·‘ä¸€ä¸ªæ•°æ®åº“æœåŠ¡ï¼ˆfilerunä¹Ÿä¸æ”¯æŒpostgreSqlï¼‰ã€‚\nå‡†å¤‡å®‰è£… æˆ‘è¿™é‡Œæ˜¯pveå¹³å°ï¼Œç”¨lxcå¥—å¨ƒdockeræ–¹å¼ã€‚æ€§èƒ½å‡ ä¹æ²¡æœ‰æŸè€—ã€‚è¦æ¯”è™šæ‹Ÿæœºæ–¹å¼å¥½å¾ˆå¤šã€‚ ç¡¬ç›˜ç›´é€šï¼šç¡¬ç›˜æ˜¯ åœ¨pveä¸Š /dev/sda1 æœºæ¢°ç¡¬ç›˜\næ–°å»ºCTå®¹å™¨ å½“ç„¶ä½ ç”¨è™šæ‹Ÿæœºæˆ–è€…ç›´æ¥docker éƒ½å¯ä»¥ã€‚alpine3.17 2G 8G ç‰¹æƒå®¹å™¨ ï¼Œå†…å­˜ç»™å¤šä¸€ç‚¹. CT idä¸º 10083 åˆ†åˆ«IP 10.1.1.83/24 åˆ›å»ºå®Œæˆåä¸è¦å¯åŠ¨\nè§£å†³ç‰¹æƒå®¹å™¨åµŒå¥—dockerçš„é—®é¢˜ã€‚ åœ¨è¿™ä¸ªå®¹å™¨çš„ é€‰é¡¹åŠŸèƒ½é‡Œé¢ å‹¾é€‰ä¸Š åµŒå¥—ï¼Œæœ€å¥½Fuse smb nfsä¹Ÿå‹¾é€‰ä¸Š\n1 2 3 4 5 6 # pveæ‰§è¡Œ export lxcid=10083 #ä¿®æ”¹è¿™ä¸ªid echo \u0026#34;lxc.apparmor.profile: unconfined\u0026#34;\u0026gt;\u0026gt; /etc/pve/lxc/${lxcid}.conf echo \u0026#34;lxc.cgroup.devices.allow: a\u0026#34;\u0026gt;\u0026gt; /etc/pve/lxc/${lxcid}.conf echo \u0026#34;lxc.cap.drop:\u0026#34;\u0026gt;\u0026gt; /etc/pve/lxc/${lxcid}.conf cat /etc/pve/lxc/${lxcid}.conf ç›´é€šç¡¬ç›˜ 1 2 3 # pveæ‰§è¡Œ export lxcid=10083 #ä¿®æ”¹è¿™ä¸ªid pct set ${lxcid} -mp0 /dev/sda1,mp=/mnt/sda1 # mp0 mp1 mp2 Â·Â·Â· mpN å¯ç›´é€šå¤šä¸ªç¡¬ç›˜ alpineç³»ç»Ÿå‡†å¤‡ å…¶ä»–ç³»ç»Ÿä¸€æ ·è‡ªè¡Œæ›¿æ¢å‘½ä»¤,å®¹å™¨å¼€æœºå ç™»å½•ï¼Œåœ¨å®¹å™¨å†…æ‰§è¡Œ\næºå’Œæ—¶åŒº 1 2 3 4 5 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata å¼€å¯ssh 1 2 3 4 apk add openssh rc-update add sshd boot sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config #å…è®¸rootå¯†ç ç™»é™† service sshd restart å®‰è£…docker 1 2 3 4 5 6 7 8 9 10 11 12 13 apk add docker docker-compose rc-update add docker boot mkdir /etc/docker/ cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;http://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34; ] } EOF service docker restart \u0026amp;\u0026amp; sleep 2s docker version å®‰è£…filerun å› ä¸ºphpå†™çš„ä¾èµ–å®åœ¨å¤ªå¤šï¼Œæˆ‘è¿™é‡Œç›´æ¥dockeræ¥è·‘ã€‚ å¦‚æœä½ ç¯å¢ƒé‡Œå·²ç»æœ‰ mysql/mariadb å¯ä»¥è°ƒæ•´ä¸€ä¸‹ä¸‹é¢çš„æ–‡ä»¶ã€‚\nç”¨å®˜ç½‘æ¨èçš„ ç›´æ¥ç”¨å®˜ç½‘çš„æ–¹å¼å®‰è£…å³å¯ https://docs.filerun.com/docker å…¶ä¸­å…¨æ–‡æœç´¢ï¼Œæˆ‘è¿™è¾¹éƒ¨ç½²å‡ºé”™ï¼Œä¸ç¡®å®šå…·ä½“åŸå› ã€‚åŠ ä¸Šæˆ‘è¿™é‡Œç¡®å®ç”¨ä¸åˆ°,æ²¡æœ‰ç»§ç»­ç ”ç©¶ï¼Œå°±ç”¨äº†åŸºç¡€å®‰è£…ã€‚ ä¸»æ„æŠŠé‡Œé¢çš„ è·¯å¾„ä¿®æ”¹ä¸ºå®é™…è·¯å¾„ã€‚å¦å¤–å°±æ˜¯ filerunçš„ç‰ˆæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 docker stop filerun_web_1 \u0026amp;\u0026amp; docker rm filerun_web_1 docker stop filerun_db_1 \u0026amp;\u0026amp; docker rm filerun_db_1 rm -rf ~/filerun \u0026amp;\u0026amp; mkdir -p ~/filerun/html \u0026amp;\u0026amp; mkdir -p ~/filerun/db cat \u0026gt; ~/filerun/docker-compose.yml\u0026lt;\u0026lt; \\EOF version: \u0026#39;2\u0026#39; services: db: image: mariadb:10.1 environment: TZ: \u0026#39;Asia/Shanghai\u0026#39; MYSQL_ROOT_PASSWORD: root_psw_T2Z6hpD9iJtppQ MYSQL_USER: fr_username MYSQL_PASSWORD: fr_db_psw_FKsAPdjaqUug48 MYSQL_DATABASE: filerun_db volumes: - ~/filerun/db:/var/lib/mysql web: image: filerun/filerun:8.1 environment: TZ: \u0026#39;Asia/Shanghai\u0026#39; FR_DB_HOST: db FR_DB_PORT: 3306 FR_DB_NAME: filerun_db FR_DB_USER: fr_username FR_DB_PASS: fr_db_psw_FKsAPdjaqUug48 APACHE_RUN_USER: www-data APACHE_RUN_USER_ID: 33 APACHE_RUN_GROUP: www-data APACHE_RUN_GROUP_ID: 33 depends_on: - db links: - db:db ports: - \u0026#34;80:80\u0026#34; volumes: - ~/filerun/html:/var/www/html - /mnt/sda1:/user-files EOF cd ~/filerun \u0026amp;\u0026amp; docker-compose up -d 2023 -05-22 filerunå·²ç»å…³é—­å…è´¹ç”¨æˆ·ï¼Œå¤§æ¦‚æ˜¯ä½œè€…å¯èƒ½æ„Ÿå—åˆ°äº†ä¸€äº›å…è´¹ç”¨æˆ·çš„ä¸å¤ªæ„‰å¿«çš„è¯­è¨€åï¼Œå°±ç›´æ¥å…³é—­äº†ã€‚ 2023.1ç‰ˆæœ¬å…è´¹ç‰ˆæœ¬çš„æœ€åä¸€ä¸ªç‰ˆæœ¬ï¼Œå¹¶ä¸” æ˜¯ä¸å¯ç”¨çš„çŠ¶æ€ã€‚åŒæ—¶åœ¨ä½œè€…å‘å¸ƒå…¬å‘Šä¹‹å‰ï¼Œä»–åˆ é™¤äº†æ—§ç‰ˆçš„dockeré•œåƒï¼\né—­æºä¸ªäººè½¯ä»¶ è¿˜æ˜¯è°¨æ…ä¸€äº›ï¼Œä¸è¿‡å¥½åœ¨æ”¯æŒæœ¬åœ°ç›®å½•å‚¨å­˜ã€‚å¯ä»¥æ–¹ä¾¿çš„å¹³æ»‘è¿ç§»åˆ°nextcloud\n2023-05-05è¡¥ï¼šfilerunåœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒApacheå¯ä»¥æŒ‡å®šç”¨æˆ·ã€‚è§£å†³å’Œsmbå†²çªçš„æƒé™é—®é¢˜ã€‚ ä¿®æ”¹å‰é¢çš„ APACHE_RUN_USER å’ŒAPACHE_RUN_GROUP_ID\nå¦å¤– volumesæ ¹æ®ä½ çš„å®é™…æƒ…å†µè‡ªå·±ä¿®æ”¹ä¸€ä¸‹\nå¯åŠ¨filerun 1 docker-compose up -d # è¦å…ˆcdåˆ°docker-compose.yml æ‰€åœ¨ç›®å½• å¦‚æœæ— æ³•å¯åŠ¨æˆåŠŸï¼ŒæŸ¥çœ‹ä¸€ä¸‹\n1 2 docker logs -f filerun_web_1 # å¯ä»¥çœ‹åˆ°å°‘ç›®å½• mkdir -p ~/filerun/html/system/data/temp/ é…ç½® è®¿é—® http://10.1.1.83/ ä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ï¼Œ æœ€ååˆ›å»ºäº† ä¸€ä¸ªè¶…çº§ç”¨æˆ· superuser è®°ä½å¯†ç  å» ç™»å½•\nä¿®æ”¹å¯†ç  ç‚¹å·¦ä¸‹è§’ Control panel è¿›å…¥åå°é¢æ¿ï¼Œåœ¨ç‚¹å³ä¸Šè§’ Admin user ï¼Œæ‰¾åˆ°superuser ä¿®æ”¹æ‰ ç”¨æˆ·åå’Œå¯†ç  , ä¿å­˜å é‡æ–°åˆ·æ–°é¡µé¢ï¼Œé‡æ–°ç™»å½•å³å¯\nå…³äºé‡å¯åæ— æ³•å¯åŠ¨çš„é—®é¢˜ ä¸Šé¢çš„ docker-compose å‘½ä»¤çš„é—®é¢˜ï¼Œä¿®å¤ä¸€ä¸‹\n1 2 docker ps -a -q # æŸ¥çœ‹ å®¹å™¨çš„id docker update --restart=always å®¹å™¨çš„id ä¸­æ–‡ filerunåˆ‡æ¢ä¸­æ–‡è¯­è¨€ è·å–è¯­è¨€åŒ…å¹¶ä¸Šä¼ æ–¹æ³•\nonlyoffice ä½¿ç”¨ filerun å†…ç½®äº†å¤šç§officeçš„æ¥å£ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ å¯ç”¨ google å’Œ onlyoffice å°±è¶³å¤Ÿç”¨äº†ã€‚\nonlyoffice å…¼å®¹æ€§å¾ˆå¥½ï¼Œè€Œä¸”æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ã€‚googleçš„è¯éœ€è¦ç§‘å­¦ç¯å¢ƒå’Œç”³è¯·api\nonlyofficeçš„éƒ¨åˆ† å¯ä»¥æœ¬ç«™æœç´¢\nè¿™é‡Œæä¾›ä¸€ä¸ª ä½¿ç”¨nginxè¿‡æ»¤ onlyoffice wopiçš„æ¥æºçš„ ä¸€ä¸ªé…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 upstream docservice { server 10.1.1.84:8080; } map $http_host $this_host { \u0026#34;\u0026#34; $host; default $http_host; } map $http_x_forwarded_proto $the_scheme { default $http_x_forwarded_proto; \u0026#34;\u0026#34; $scheme; } map $http_x_forwarded_host $the_host { default $http_x_forwarded_host; \u0026#34;\u0026#34; $this_host; } map $http_upgrade $proxy_connection { default upgrade; \u0026#34;\u0026#34; close; } proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $proxy_connection; proxy_set_header X-Forwarded-Host $the_host; proxy_set_header X-Forwarded-Proto $the_scheme; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; #é™·é˜±ä¸»æœº server { listen 10011 ssl; server_name trap.jia.leiyanhui.com; include /etc/nginx/sites-enabled/ssl-jia.leiyanhui.com.conf.noAutoLoad; root /usr/share/nginx/html; } #çœŸå®ä¸»æœº server { listen 10011 ssl; server_name office-XXXXXXXX.jia.leiyanhui.com; server_tokens off; include /etc/nginx/sites-enabled/ssl-jia.leiyanhui.com.conf.noAutoLoad; add_header Strict-Transport-Security \u0026#34;max-age=1209600; includeSubDomains\u0026#34; always; add_header X-Content-Type-Options nosniff; location /hosting/wopi { if ( $args ~ wopisrc=https%3A%2F%2Fpan.jia.leiyanhui.com%3A ) { proxy_pass http://docservice; } proxy_http_version 1.1; } location / { valid_referers none blocked *.jia.leiyanhui.com; if ($invalid_referer) {return 403;} proxy_pass http://docservice ; proxy_http_version 1.1; } } nginxåä»£ å¹¶ä¸”åŠ ssl nginx åä»£ éœ€è¦æ³¨æ„ æ–‡ä»¶å¤§å° è¶…æ—¶ ç­‰ å‚è€ƒæˆ‘çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 server { server_name XXXX; listen 50443 ssl http2; ssl_certificate /root/ssl/XXX; ssl_certificate_key /root/ssl/XXX; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50442; if ($scheme = http) { return 301 https://:50443; } error_page 497 https://$host:50443; location / { add_header Cache-Control no-cache; add_header Cache-Control private; expires -1s; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Range $http_range; proxy_set_header If-Range $http_if_range; proxy_connect_timeout 36000s; proxy_read_timeout 36000s; proxy_send_timeout 36000s; proxy_request_buffering off; send_timeout 36000s; proxy_redirect off; proxy_pass http://10.1.1.80:5212/; client_max_body_size 20000m; } } ä»å…¶ä»–ç³»ç»Ÿå¯¼å…¥æ–‡ä»¶ ç›´æ¥ç§»åŠ¨åˆ° /mnt/sda1/filerun_files å³å¯ï¼Œä½†éœ€è¦ä¿®æ”¹ä¸€ä¸‹æƒé™\n1 docker exec -it filerun-docker_web_1 chown -R www-data:www-data /user-files é¢„è§ˆå’Œç¼–è¾‘éƒ¨åˆ† ä¸­æ–‡ä¹±ç  éœ€è¦å¤„ç†å­—ä½“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 docker exec -it filerun-docker_web_1 bash ---------------- apt update apt install wget unzip mkdir /usr/share/fonts/truetype/winfonts \u0026amp;\u0026amp; cd /usr/share/fonts/truetype/winfonts wget -c https://ghproxy.com/https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip unzip windows_font.zip mv file.leiyanhui.com-windows_font/* . rm -rf file.leiyanhui.com-windows_font rm -rf windows_font.zip fc-cache -f rm -rf /user-files/.filerun.* exit ---------- docker restart filerun-docker_web_1 # é‡å¯docker ä¹‹åæ–°ä¸Šä¼ çš„æ–‡æ¡£ å°±å¯ä»¥äº†æ˜¾ç¤ºä¸­ä¸­æ–‡äº†ã€‚å¦‚æœè¿˜æœ‰æ–‡ä»¶ä¸å¯ä»¥ ï¼Œå°±è¦docker é‡Œé¢ æ¸…ç†æ‰ å’Œæ–‡æ¡£åŒä¸€ä¸ªç›®å½•çš„ .filerun.* æ–‡ä»¶å¤¹ã€‚æˆ–è€…\n1 2 3 4 docker exec -it filerun-docker_web_1 bash ---------------- cd /user-files/ find . -name \u0026#39;.filerun.*\u0026#39; -type d | xargs rm -rf # æ³¨æ„å®‰å…¨ï¼ï¼ï¼ï¼ docæ–‡ä»¶ç¼©ç•¥å›¾çš„æ–¹å— æš‚æ—¶ä¸çŸ¥é“ æ€ä¹ˆå¤„ç† ï¼Œç•™ä¸ªå‘\n1 apt install fonts-wqy-zenhei # è²Œä¼¼æå®š æ—¶åŒºä¿®æ”¹ https://docs.filerun.com/time_zone\nå®šä¹‰æ ·å¼ https://docs.filerun.com/custom_css\nå¤‡ä»½ æˆ‘è¿™é‡Œæ˜¯lxcè¿è¡Œçš„ã€‚åªéœ€è¦å¤‡ä»½ lxcçš„ conf ä»¥åŠ docker-compose.yml å°±å¥½äº†ã€‚\nå› ä¸º filerun å¯ä»¥è‡ªåŠ¨æ‰«æç¡¬ç›˜çš„æ–‡ä»¶ï¼ŒåŠ ä¸Š æˆ‘ä»¬æ˜¯å…è´¹ç”¨æˆ·ï¼Œæ‰€ä»¥ç”¨æˆ·æ•°ä¹Ÿä¸ä¼šå¤šï¼Œæ•°æ®åº“ å¯ä»¥ä¸å¤‡ä»½ã€‚ åªéœ€è¦æˆ‘ä»¬å¤‡ä»½ filerun çš„é…ç½®æ–‡ä»¶å³å¯ã€‚\nä¹Ÿå°±æ˜¯ XXXX:/var/www/html ç›®å½• æ•°æ®åº“å­˜åœ¨mysqlé‡Œé¢ä¹Ÿå¯ä»¥å¯¼å‡ºå¤‡ä»½\nä¹Ÿå¯ä»¥ æ•´ä¸ªlxc å¤‡ä»½åˆ° å‹ç¼©åŒ…\n","date":"2023-04-19T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/nas/filerun-install/","title":"filerunã€€æ­å»ºå’Œä½¿ç”¨ã€€ä»¥åŠå¸¸è§é—®é¢˜"},{"content":"filerun å…è´¹ç‰ˆåœæ­¢æ›´æ–°ï¼Œæœ€åçš„å…è´¹ç‰ˆ2023.1 ä½œè€…çœ‹èµ·æ¥æƒ…ç»ªå¾ˆå¤§ï¼Œä¸æ‰“ç®—ç»§ç»­ä¿®å¤äº†ã€‚è€Œä¸”ä»–åœ¨æ²¡å†³å®šå–æ¶ˆå…è´¹ä¹‹å‰å°±åˆ æ‰äº†æ—§ç‰ˆçš„dockeré•œåƒï¼Œåªä¿ç•™äº†æœ€æ–°ä¸å¯ç”¨çš„7.4 å’Œ8.1ä¸¤ä¸ªé•œåƒã€‚\nè€ƒè™‘åˆ°ç¾¤æ™–ä¹‹ç±»çš„è¿˜æ˜¯è¿‡äºæŠ˜è…¾ï¼Œè€Œå¯„äºˆåšæœ›çš„ cloudreveåŠæ­»ä¸æ´»ï¼ŒåŠŸèƒ½å¼±é¸¡ï¼Œbugä¸€å †ä½œè€…ä¸€ç›´ä¸ä¿®å¤ã€‚ æ‰€ä»¥è¿ç§»åˆ°nextcloudï¼Œ é™¤äº†å¡ä¸€ç‚¹ ä¸€åˆ‡éƒ½å®‰é€¸ã€‚\nä½¿ç”¨nextcloud å‡ ä¸ªæ³¨æ„ç‚¹ï¼Œ\nmysqlè¦8.0 æˆ–è€… MariaDB10.2 ä»¥åçš„ç‰ˆæœ¬ pgsqlè™½ç„¶ç†è®ºæ€§èƒ½æ›´å¼ºï¼Œå®é™…ä½¿ç”¨æœ‰ä¸€äº›å°é—®é¢˜ å¦‚æœå†…å­˜æœ‰å¯Œè£•ï¼ŒåŠ¡å¿…å¼€redis sftp ftp webdavåè®®ï¼Œå»ºè®®èµ°rclone serverï¼Œ nextcloudçš„webdavä¸€èˆ¬èˆ¬ æœ‰å°é—®é¢˜ï¼Œrcloneçš„å¾ˆç¨³ éœ€è¦gmpæ‰©å±•ï¼Œå®å¡”ç›´æ¥è£…å¯èƒ½è£…ä¸ä¸ä¸Šï¼Œéœ€è¦å…ˆ apt install libgmp3-dev å®å¡”å‘æ›´å¤šå“ˆ nextcloud å¾ˆå¤šå‘å¾ˆå¤šå‘ï¼Œdockerç‰ˆæœ¬ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ã€‚phpç†Ÿæ‚‰çš„å»ºè®®æ‰‹å·¥æ­å»ºphpç¯å¢ƒï¼Œå®å¡”ç†Ÿæ‚‰å¸¸è§å‘å¤„ç†çš„ä¹Ÿå¯ä»¥è·‘èµ·æ¥ã€‚ setup-nextcloud.php è‡ªåŠ¨æ‹‰ä¸‹æ¥çš„åŒ…é‡Œé¢ .htaccess æœ‰é—®é¢˜çš„ï¼Œéœ€è¦è‡ªå·±ä¿®ã€‚æˆ‘å¯¹apacheæ˜¯ä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œæ›´å–œæ¬¢nginx,ä½†æ˜¯å®˜ç½‘æ˜ç¡®è¯´ å®˜ç½‘ä¹‹æ”¯æŒapache2.x å…¶ä»–çš„webæœåŠ¡å™¨åªæœ‰ç¬¬ä¸‰æ–¹æ–‡æ¡£æ”¯æŒï¼Œä¸è¿‡è¿˜å¥½ã€‚nginxå¤ªå®¹æ˜“æå®šäº†ã€‚ å‘½ä»¤è¡Œæ¨¡å¼çš„é‚£ä¸ªphpå†…å­˜æé†’ï¼Œéœ€è¦ä¿®æ”¹php.ini ï¼Œä¿®æ”¹å®Œæˆåï¼Œå¦‚æœä¾æ—§æç¤ºï¼Œéœ€è¦é‡å¯php-fpm ä»¥åŠ nginx php-fpm.conf éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•° æ€»çš„æ¥è¯´ nextcloudå¾ˆå¼ºå¾ˆå¼ºï¼Œä½†æ˜¯ ç»å¯¹ä¸æ˜¯å¼€ç®±å³ç”¨çš„æ–¹æ¡ˆï¼Œå³ä¾¿dockeræ­å»ºå®Œæˆåï¼Œåç»­ä¹Ÿæœ‰å¾ˆå¤šå°å‘ã€‚phpå°ç™½æœ€å¥½åˆ«ç¢°ã€‚å®å¡”å¯ä»¥è§£å†³ä¸€éƒ¨åˆ†ç¯å¢ƒé—®é¢˜\néœ€è¦çš„phpæ‰©å±• å®å¡”ä¸‹é¢å¤–éœ€è¦å®‰è£…çš„ï¼Œè¿™å‡ ä¸ªæœ€å¥½éƒ½è£…ä¸Šã€‚ fileinfo opcache memcached/redis apcu imagemagick imap exif xsl gmp zstd mailparse\nå®‰è£… å®‰è£…å¾ˆç®€å•ï¼Œæå‰åˆ›å»ºå¥½mysql/mariadbæ•°æ®åº“ï¼Œç¯å¢ƒokçš„ä¸‹è½½ setup-nextcloud.php åˆ° phpè¿è¡Œç›®å½•ï¼Œæ‰§è¡Œå³å¯ï¼Œå¦‚æœè¶…æ—¶ ä¸€ä¸ªæ³¨æ„phpæ‰§è¡Œæ—¶é—´ å¦å¤–ä¸€ä¸ªæ˜¯å®ƒæ˜¯ä»å¢ƒå¤–ä¸‹è½½çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦å¤„ç†åŠ é€Ÿçš„é—®é¢˜ã€‚\nå¯ç”¨è½¯è¿æ¥ å¯ä»¥æ–¹ä¾¿ç›´æ¥æŒ‡å‘åŸæ¥çš„æ•°æ®ç›®å½•\né…ç½®æ–‡ä»¶æ·»åŠ  1 2 \u0026#39;filesystem_check_changes\u0026#39; =\u0026gt; true, \u0026#39;localstorage.allowsymlinks\u0026#39; =\u0026gt; true, è¿™é‡Œæœ‰å°å‘ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´æ‰«æä¸åˆ°æ–‡ä»¶ï¼Œåæ¥é‡å¯nginxå’Œphp-fpm åå°±å¥½äº†ã€‚\nè½¯è¿æ¥åˆ›å»º 1 2 mv /www/wwwroot/nextcloud.com/data/XXXX/files /www/wwwroot/nextcloud.com/data/XXXX/files-bak ln -s /mnt/sda1/myfiles/ /www/wwwroot/nextcloud.com/XXXX/yanhui/files æ³¨æ„æƒé™ï¼Œå®å¡”æ˜¯ www:www æ‰€æœ‰ï¼Œæˆ–è€…å¹²è„† 777 ä¹Ÿè¡Œ\næ‰«æä¸€æ¬¡ç£ç›˜ 1 2 cd /www/wwwroot/nextcloud.com sudo -u www php occ files:scan --all php-fpm.conf çš„ä¿®æ”¹ æ·»åŠ è¿™å‡ è¡Œï¼Œä¸ç„¶åå°ä¼šæç¤ºenvç©º\n1 2 3 4 5 env[HOSTNAME] = $HOSTNAME env[PATH] = /usr/local/bin:/usr/bin:/bin env[TMP] = /tmp env[TMPDIR] = /tmp env[TEMP] = /tmp nginx é…ç½®æ–‡ä»¶ è§£å†³äº†æ‰€æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ²¡æœ‰å¼€å¯httpsï¼Œå› ä¸ºæˆ‘è¿™é‡Œhttps æ˜¯å•ç‹¬ç”±å¦å¤–ä¸€ä¸ªnginxç®¡ç†çš„\nhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/nextcloud/nginx-site.cnf\nnextcloud é…ç½®æ–‡ä»¶ https://github.com/joyanhui/file.leiyanhui.com/blob/main/nextcloud/config.php\næ³¨æ„ä¹Ÿæ²¡å¼€https nextcloud åå°è®¾ç½®ä¼š å¤å†™ è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥é‡Œé¢ä¸å¯ä»¥åŠ å…¶ä»–è¯­æ³•ï¼Œä¼šè¢«è¦†ç›–æ‰ã€‚\nnginx åå‘ä»£ç† https://github.com/joyanhui/file.leiyanhui.com/blob/main/nextcloud/nginx-proxy.conf\nè¿™é‡Œå¯ç”¨äº†ssl,éœ€è¦å¦å¤–ä¿®æ”¹config.php é‡Œé¢çš„ 'overwriteprotocol' =\u0026gt; 'http', ä¸º 'overwriteprotocol' =\u0026gt; 'https', å¦å¤–æ­¤åå‘ä»£ç†æ–‡ä»¶åœ¨ nextcloud 26.0.1 ç‰ˆæœ¬ åå° ä¾æ—§ä¼šæç¤º webfinger å’Œ nodeinfoé”™è¯¯ï¼Œä½†æ˜¯ä¸å½±å“ä½¿ç”¨\n","date":"2023-04-19T00:01:20+08:00","permalink":"https://dev.leiyanhui.com/nas/nextcloud/","title":"nextcloud å®‰è£…å’Œä½¿ç”¨ ä»¥åŠé…ç½®æ–‡ä»¶ å’Œé¿å‘æŒ‡å—"},{"content":"openwrtå…¶å®æ˜¯å¯ä»¥æ‰‹åŠ¨æŒ‡å®šéƒ¨åˆ†è®¾å¤‡çš„ç½‘å…³çš„ã€‚å¯ä»¥å®ç°å±€åŸŸç½‘å†…éƒ¨åˆ†è®¾å¤‡ç”¨æŒ‡å®šçš„ç½‘å…³è‡ªåŠ¨è‡ªåŠ¨dhcp\nåœºæ™¯ è®¾å¤‡A ä¸»è·¯ç”± IP:10.1.1.1 è®¾å¤‡B æ—è·¯ç”±/ç½‘å…³ IP:10.1.1.6\nè‡ªå·±çš„æ‰‹æœº IP:10.1.1.71 è‡ªå·±ç¬”è®°æœ¬ IP:10.1.1.72\nå®¶äººè®¾å¤‡ IPæ®µï¼š 10.1.1.200-254\næ“ä½œ ä¸»è·¯ç”±å’Œæ—è·¯è·¯ç”± è°å¼€dhcp éƒ½ä¸å½±å“ ä¸‹é¢çš„æ“ä½œã€‚ æœ¬æ–‡å†…å®¹æ˜¯openwrt dhcpçš„æŒ‡å®šç½‘å…³ï¼Œæ‰€ä»¥ä¸»è·¯ç”±å’Œæ—è·¯è·¯ç”± è´Ÿè´£dchpçš„è®¾å¤‡è‚¯å®šæ˜¯openwrtçš„ç³»ç»Ÿã€‚ ç™»é™† è¿™ä¸ªè´Ÿè´£dchpçš„è®¾å¤‡çš„webuiç•Œé¢ï¼Œåœ¨dhcpé™æ€åˆ†é…çš„åœ°æ–¹å…ˆé…ç½®å¥½é™æ€ipã€‚\nè€Œå sshç™»é™†è¿™ä¸ªè®¾å¤‡ï¼Œç¼–è¾‘æ–‡ä»¶ /etc/config/dhcpï¼Œå¦‚æœä½ å¯¹linuxä¸ç†Ÿæ‚‰ å¯ä»¥ç”¨winscp ä¹‹ç±»çš„è½¯ä»¶ä¸‹è½½åˆ°æœ¬æœºä¿®æ”¹ï¼Œå¹¶åšå¥½å¤‡ä»½ã€‚ éœ€è¦ç¼–è¾‘ä¸¤ä¸ªåœ°å€ï¼Œ1æ˜¯æ·»åŠ ä¸€ä¸ªtag 2æ˜¯ä¿®æ”¹éœ€è¦ç”¨10.1.1.6ä½œä¸ºç½‘å…³çš„è®¾å¤‡è®©ä»–ä½¿ç”¨è¿™ä¸ªtag\nåœ¨æ–‡ä»¶çš„ç¬¬ä¸€ä¸ª config host æ®µè½å‰é¢æ·»åŠ ä¸€æ®µï¼Œå†…å®¹\n1 2 3 config tag \u0026#39;need_outernet\u0026#39; list dhcp_option \u0026#39;3,10.1.1.6\u0026#39; option force \u0026#39;1\u0026#39; 10.1.1.6 å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç½‘å…³åœ°å€ need_outernet æ˜¯tagçš„åç§°ï¼Œå¯ä»¥ç”¨åˆ«çš„åå­— æ‰¾åˆ° éœ€è¦é…ç½®æ—è·¯ç½‘å…³çš„è®¾å¤‡ï¼Œæ·»åŠ ä¸Šè¿™ä¸ª tag å°±æ˜¯åŠ ä¸€è¡Œ option tag 'need_outernet' ä¾‹å¦‚ iphoneL å’Œreamme è¿™ä¸¤ä¸ªéƒ½æ˜¯æˆ‘çš„æ‰‹æœºï¼Œk2pæ˜¯ä¸€ä¸ªåšAPç”¨çš„ç¡¬è·¯ç”±ï¼ŒåŸæ¥çš„æ ¼å¼å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ... ... config host option name \u0026#39;realme\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;D0:97:FE:DC:XX:XX\u0026#39; option ip \u0026#39;10.1.1.72\u0026#39; config host option name \u0026#39;k2p\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;74:7D:24:BE:XX:XX\u0026#39; option ip \u0026#39;10.1.1.2\u0026#39; config host option name \u0026#39;iphoneL\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;3A:9F:13:9D:XX:XX\u0026#39; option ip \u0026#39;10.1.1.71\u0026#39; ... ... ... ä¿®æ”¹ä¸ºå\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 ... ... config host option name \u0026#39;realme\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;D0:97:FE:DC:XX:XX\u0026#39; option ip \u0026#39;10.1.1.72\u0026#39; option tag \u0026#39;need_outernet\u0026#39; config host option name \u0026#39;k2p\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;74:7D:24:BE:XX:XX\u0026#39; option ip \u0026#39;10.1.1.2\u0026#39; config host option name \u0026#39;iphoneL\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;3A:9F:13:9D:XX:XX\u0026#39; option ip \u0026#39;10.1.1.71\u0026#39; option tag \u0026#39;need_outernet\u0026#39; ... ... ... ä¿®æ”¹å®Œæˆå ä¿å­˜æ¨å‡ºã€‚ vi/vim æ˜¯æŒ‰ä¸‹ escï¼Œç„¶åæŒ‰ä¸‹é”®ç›˜ä¸Š :wq ,nanoçš„è¯ ctrl+x ï¼Œç„¶å yç¡®è®¤å›è½¦ æ‰§è¡Œ dnsmasq --test æ£€æŸ¥ï¼Œåº”è¯¥ä¼šæç¤º dnsmasq: syntax check OK. é‚£å°±æ˜¯å¯ä»¥äº†ã€‚ ç„¶åé‡å¯ dns å‘½ä»¤: /etc/init.d/dnsmasq restartã€‚ è€Œå ä¸¤ä¸ªæ‰‹æœºé‡æ–°è¿æ¥ä¸€ä¸‹wifi å°±å¥½äº†ã€‚å°å¼æœºè¯é‡æ–°æ‹”æ’ç½‘çº¿æˆ–è€…ç¦ç”¨å¯ç”¨ä¸€ä¸‹ç½‘å¡ã€‚\næœ€åï¼Œä¸€ä¸ªå®Œæ•´çš„/etc/config/dhcp å‚è€ƒå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # å‰é¢å¯èƒ½æœ‰ dnsmasq lan wan odhcpd srvhost # config tag è¿™æ®µæ˜¯æˆ‘ä»¬æ·»åŠ çš„ config tag \u0026#39;need_outernet\u0026#39; list dhcp_option \u0026#39;3,10.1.1.6\u0026#39; option force \u0026#39;1\u0026#39; # config host æ˜¯å¯¹åº”é™æ€åœ°å€åˆ†é…çš„æ¯ä¸€ä¸ªè®¾å¤‡ config host option name \u0026#39;kvm-win10\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;2A:95:2A:A1:37:9D\u0026#39; option ip \u0026#39;10.1.1.10\u0026#39; config host option name \u0026#39;realme\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;D0:97:FE:DC:XX:XX\u0026#39; option ip \u0026#39;10.1.1.72\u0026#39; option tag \u0026#39;need_outernet\u0026#39; config host option name \u0026#39;k2p\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;74:7D:24:BE:XX:XX\u0026#39; option ip \u0026#39;10.1.1.2\u0026#39; config host option name \u0026#39;iphoneL\u0026#39; option dns \u0026#39;1\u0026#39; option mac \u0026#39;3A:9F:13:9D:XX:XX\u0026#39; option ip \u0026#39;10.1.1.71\u0026#39; option tag \u0026#39;need_outernet\u0026#39; # è¿˜æœ‰å…¶ä»–è®¾å¤‡çš„ config host æ®µè½ ","date":"2023-04-16T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/openwrt-other-netgay/","title":"openwrt dhcpæŒ‡å®šä¸åŒç½‘å…³çš„è§£å†³ç‰ˆæœ¬"},{"content":"ipad4 å¤è‘£ï¼Œå¤šæ•°appå·²ç»æ— æ³•è¿è¡Œï¼Œå¾ˆå¤šç½‘ç«™æµè§ˆå™¨ä¹Ÿå·²ç»æ‰“ä¸å¼€ã€‚ infuse æ—§ç‰ˆå¯ä»¥å®‰è£…ï¼Œä½†æ˜¯ä¸æ”¯æŒwebdavï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ smbçš„æ–¹å¼ è®¿é—®alistçš„å†…å®¹ã€‚ åªæ˜¯infuse è™½ç„¶è¶³å¤Ÿç®€å•æ˜“ç”¨ï¼Œä½†æ˜¯ä¾æ—§ä¸é€‚åˆå®¶ä¸­è€äººä½¿ç”¨ï¼Œæ“ä½œè¿˜æ˜¯æœ‰ä¸€ç‚¹ç¹çã€‚ è€ƒè™‘åˆ°ç®€å•ä½¿ç”¨æ–¹æ¡ˆï¼Œä¸€åˆ‡çš†homeé”®è§£å†³ã€‚\nå¦å¤–è€äººå–œæ¬¢çœ‹ç”µè§†å‰§å¤šæ•°ä¸ºå›½è¯­è€ç”µè§†å‰§ï¼Œè¿™äº›èµ„æºåœ¨ç½‘ç»œä¸Šéå¸¸å®¹æ˜“æ‰¾åˆ°ã€‚ä½†æ˜¯æœ‰ä¸€äº›èµ„æºï¼Œipad4å¹¶æ— æ³•ç›´æ¥æ’­æ”¾ï¼Œéœ€è¦è½¬ç ï¼Œæˆ–è€…å‹ç¼©ã€‚\nè¿™æ ·ä¸€æ¥å·¥ä½œé‡å°±å¤æ‚äº†å¾ˆå¤šã€‚\nç»è¿‡æµ‹è¯•ä»¥åï¼Œå‘ç° é˜¿é‡Œäº‘ç›˜ç½‘é¡µç‰ˆçš„æ’­æ”¾å™¨å¯ä»¥è‡ªå·±è½¬ç å¹¶å…¼å®¹æ—§è®¾å¤‡ï¼ˆä½†æ˜¯ipad4 å·²ç»æ‰“ä¸å¼€é˜¿é‡Œäº‘ç›˜çš„ç½‘é¡µï¼‰ï¼Œè€Œalistæ°æ°åˆå†…ç½®äº†è¿™ä¸ªæ’­æ”¾å™¨ã€‚\næ‰€ä»¥è¿™ä¸ªipadä¸Šè®¿é—®çš„è§†é¢‘ç›´æ¥ä»alistçš„é˜¿é‡Œç½‘ç›˜æ¥ï¼Œè€Œä¸é€šè¿‡nas\nåå¤å‡ æ¬¡èŠ±äº†å‡ ä¸ªå°æ—¶å°è¯•å„ç§appå’Œæ–¹æ¡ˆåï¼Œæœ€åå†³å®š alist webapp + é˜¿é‡Œäº‘ç›˜ æ¥å®ç°ã€‚å¹¶ç”¨javescript+css ä¿®æ”¹alist webç•Œé¢ï¼Œåœ¨ipadä¸Šåˆ›å»º webapp å¿«æ·æ–¹å¼çš„æ–¹æ³•æ¥ã€‚\næ­å»ºalist å¹¶æŒ‚è½½ é˜¿é‡Œäº‘ç›˜ è¿‡ç¨‹ ç•¥ã€‚è¿™é‡Œå•ç‹¬åˆ›å»ºä¸€ä¸ªalistè´¦å· ï¼Œç”¨æˆ·åä¸º ipadï¼Œç»™ipad4 ç”¨ã€‚ å¦å¤–å› ä¸ºè¿‘æœŸé˜¿é‡Œäº‘ç›˜çš„æ¥å£ä¸ç¨³å®šï¼Œæˆ‘çš„å¤§å®¹é‡è´¦å·ç»å¸¸æ€§è¶…é™ï¼Œå•ç‹¬æ³¨å†Œ2ä¸ªå°è´¦å·ã€‚ä»æˆ‘è‡ªå·±çš„è´¦å·é‡Œé¢ç”¨åˆ†äº«è½¬å­˜çš„æ–¹å¼æŠŠè§†é¢‘è½¬å­˜è¿‡å»ã€‚ alist å†… ma è¿™ä¸ªè´¦å·çš„ é¦–é¡µæ–‡ä»¶å¤¹ æŒ‡å‘å¯¹åº”çš„è´¦å·ã€‚\næ’åºæ³¨æ„ é€‰æ‹©æ–‡ä»¶å æ­£åº\nipad4 é…ç½® Safariæ‰“å¼€alistç½‘é¡µç«¯ï¼Œå‹¾é€‰è®°ä½ç”¨æˆ·åå¯†ç ï¼ˆå¿…é¡»å‹¾é€‰ï¼‰ç™»å½•ï¼Œç„¶å ç‚¹åˆ†äº« åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼\naliståå°é…ç½® è®¾ç½®å…¨å±€ï¼Œè‡ªå®šä¹‰å†…å®¹ä½ç½®è¾“å…¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u0026lt;script\u0026gt; if (window.localStorage.getItem(\u0026#34;username\u0026#34;) == \u0026#34;ipad\u0026#34;){ //æ£€æŸ¥è®°ä½çš„ç”¨æˆ·å window.localStorage.setItem(\u0026#34;layout\u0026#34;,\u0026#34;grid\u0026#34;); // æ˜¾ç¤ºæ–¹å¼å¼ºåˆ¶grid document.writeln(\u0026#34;\u0026lt;style\u0026gt;.footer{display:none;}\u0026#34;); //éšè—åº•éƒ¨ document.writeln(\u0026#34;.header-right{ position: absolute; right: 20px; top: 45px;}\u0026#34;); //ä¿ç•™ å³ä¾§å°æŒ‰é’® document.writeln(\u0026#34;.header{margin-top: -45px;}\u0026#34;); //ç§»èµ°é¡¶éƒ¨logo document.writeln(\u0026#34;#video-player{height:600px}\u0026#34;); //æ’­æ”¾å™¨é«˜åº¦ document.writeln(\u0026#34;button.hope-select__trigger{display:none;}\u0026#34;); //æ’­æ”¾å™¨é€‰æ‹©é«˜åº¦ document.writeln(\u0026#34;.left-toolbar-box{display:none;}\u0026#34;); //éšè—å³ä¸‹è§’å°æŒ‰é’®é˜²æ­¢é®æŒ¡å…¨å±æŒ‰é’® document.writeln(\u0026#34;.hope-ui-light {--hope-colors-background: #000}\u0026#34;); //å…¨å±€èƒŒæ™¯è‰² document.writeln(\u0026#34;.nav-link {color: #CCC;}.nav-separator {color: #CCC;}\u0026#34;); //å¯¼èˆªæ¡å­—ä½“é¢œè‰² document.writeln(\u0026#34;.obj-box{background-color: #757575;}\u0026#34;); //ä¸»è¦å®¹å™¨èƒŒæ™¯è‰² document.writeln(\u0026#34;\u0026lt;/style\u0026gt;\u0026#34;); var intervalID = window.setInterval(function() { var video=document.querySelector(\u0026#39;video\u0026#39;); if (video!=null){ video.removeAttribute(\u0026#39;playsinline\u0026#39;); //ç§»é™¤ åµŒå¥—æ’­æ”¾ è‡ªåŠ¨å…¨å± è²Œä¼¼æ²¡ç”¨ } },500) window.setTimeout(\u0026#39;window.clearInterval(intervalID)\u0026#39;,10000); } \u0026lt;/script\u0026gt; \u0026lt;center\u0026gt;\u0026lt;a href=\u0026#34;http://10.1.1.23:8824/\u0026#34;\u0026gt;åˆ‡æ¢è´¦å·\u0026lt;a\u0026gt;\u0026lt;/center\u0026gt; åŸºäºalist v3.16.0 è¿™éƒ¨åˆ†ä»£ç æ¯”è¾ƒç®€å• ä¸»è¦æ˜¯å»æ‰ä¸€äº›è€äººç”¨ä¸åˆ°çš„æŒ‰é’®ï¼Œä¿®æ”¹æ’­æ”¾å™¨å¤§å°ç­‰ï¼Œä¸ç”¨å¤šè§£é‡Š ã€‚é¢œè‰²æ”¹é»‘è‰² å¿ƒç†å®‰æ…°é˜²çƒ§å±ã€‚è€äººä¸å¤ªæ˜ç™½ å…¨å±æŒ‰é’®\nhttp://10.1.1.23:8824/ æ˜¯åç«¯ä¸€ä¸ªè‡ªå·±å†™çš„ golang çš„webhookï¼Œç”¨äº è½®æµå¯åŠ¨å’Œå…³é—­ä¸¤ä¸ªæŒ‚è½½ä¸åŒé˜¿é‡Œäº‘ç›˜è´¦å·çš„alist ï¼Œå› ä¸ºé˜¿é‡Œäº‘ç›˜çš„æ¥å£é™åˆ¶è¿˜æ˜¯ç„å­¦çŠ¶æ€ï¼Œè¿™éƒ¨åˆ†ä»£ç è¿˜åœ¨æµ‹è¯•\næœ€ç»ˆæ•ˆæœ ä¸ä¸Šå›¾äº†ã€‚æ“ä½œè™½ç„¶ç¹çï¼Œä½†æ˜¯é€»è¾‘ç®€å• çœ‹å®Œä¸€é›† æŒ‰homeé”®ï¼Œç„¶åæ¡Œé¢æ‰“å¼€alistå›¾æ ‡ï¼Œç‚¹æ–‡ä»¶å¤¹ ç¬¬å‡ ä¸ªå°±å¯ä»¥ã€‚ alistæ”¯æŒé˜¿é‡Œäº‘ç›˜çš„è§†é¢‘å°é¢ï¼Œè€äººå¾ˆå®¹æ˜“è®°ä½è‡ªå·±çœ‹çš„ç¬¬å‡ é›†\nè¯¯æ“ä½œ ç›´æ¥æŒ‰home ï¼Œé‡æ–°æ¥è¿‡ã€‚alist å¯ä»¥è®°å½•æ’­æ”¾æ—¶é—´ï¼Œè¿˜æ˜¯æŒºæ–¹ä¾¿ã€‚\nå­˜åœ¨çš„é—®é¢˜ æ²¡æ³•è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é›†ï¼Œè¿™ä¸ªè¿˜å¥½ å½±å“ä¸å¤§ é˜¿é‡Œç½‘ç›˜å¯èƒ½ä¼šæ‰æŒ‚è½½ï¼Œè¿™ä¸ªæš‚æ—¶æ²¡åŠæ³•ã€‚\n","date":"2023-04-15T12:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/alist-mod-ipad4/","title":"ä½¿ç”¨alist è®©æ—§å¹³æ¿å˜æˆè€äººå¯ç”¨çš„å‚»ç“œå¼è§†é¢‘æ’­æ”¾å™¨  ä¹‹ webapp"},{"content":"ä¾æ—§æ˜¯ alpineç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»Ÿ è‡ªå·±æ›¿æ¢å¯¹åº”å‘½ä»¤ å’ŒåŒ…åç§°\n1 2 3 4 apk add samba apk add wsdd rc-update add samba rc-update add wsdd æ–‡ä»¶æƒé™ï¼Œé‡‡å–ç®€å•æš´åŠ›æ‰‹æ®µï¼Œåœ¨crontabä¸­ æ·»åŠ å‘½ä»¤ ä¸€åˆ†é’Ÿä¸€æ¬¡\n1 2 #crontabl -e * * * * * docker exec -it filerun-docker_web_1 chown -R www-data:www-data /user-files filerun-docker_web_1 æ˜¯filerunçš„å®¹å™¨åç§°\n2023-05-05è¡¥ï¼šfilerunåœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒApacheå¯ä»¥æŒ‡å®šç”¨æˆ·ã€‚è§£å†³æƒé™é—®é¢˜ã€‚\néœ€è¦è‡³å°‘ä¸¤ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·1 æœ‰å®Œæ•´å…¨æ–° ç”¨æˆ·2 åªèƒ½è¯»å–æŸä¸€ä¸ªç›®å½•\n1 2 3 4 adduser yanhui -G root # deluser yanhui smbpasswd -a yanhui smbpasswd -a guest mv /etc/samba/smb.conf /etc/samba/smb.conf-bak 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # vi /etc/samba/smb.conf ç¼–è¾‘å®Œæˆåé‡å¯ service samba restart [sda1] path = /mnt/sda1 comment = FileRun browseable = no writable = yes write list = yanhui valid users =yanhui display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 [vod_ma] path = /mnt/sda1/filerun_files/vod/ma_smb comment = vod_ma browseable = Yes read only = Yes guest ok = Yes valid users = guest yanhui read list = guest write list = yanhui ","date":"2023-04-14T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/filerun-smb/","title":"filerun docker å®‰è£… æ€ä¹ˆå¼€å¯smb"},{"content":"ç‚¹å·¦ä¸‹è§’ Control panel è¿›å…¥åå°é¢æ¿ï¼Œ ç‚¹å·¦ä¾§ interfaceï¼Œå†ç‚¹ Upload language file åé¢çš„æŒ‰é’® ä¸Šä¼ è¯­è¨€æ–‡ä»¶ chinese.php ã€‚\nç„¶ååˆ·æ–°é¡µé¢ï¼ŒDefault language: é€‰æ‹© chinese ä¿å­˜ï¼Œå†åˆ·æ–°å³å¯ã€‚\nchinese.php è·å–æ–¹æ³•ã€‚\næŠŠä¸‹é¢ä»£ç å¤åˆ¶å¦å­˜ä¸ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å chinese.php\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 799 800 801 802 803 804 805 806 807 808 809 810 811 812 813 814 815 816 817 818 819 820 821 822 823 824 825 826 827 828 829 830 831 832 833 834 835 836 837 838 839 840 841 842 843 844 845 846 847 848 849 850 851 852 853 854 855 856 857 858 859 860 861 862 863 864 865 866 867 868 869 870 871 872 873 874 875 876 877 878 879 880 881 882 883 884 885 886 887 888 889 890 891 892 893 894 895 896 897 898 899 900 901 902 903 904 905 906 907 908 909 910 911 912 913 914 915 916 917 918 919 920 921 922 923 924 925 926 927 928 929 930 931 932 933 934 935 936 937 938 939 940 941 942 943 944 945 946 947 948 949 950 951 952 953 954 955 956 957 958 959 960 961 962 963 964 965 966 967 968 969 970 971 972 973 974 975 976 977 978 979 980 981 982 983 984 985 986 987 988 989 990 991 992 993 994 995 996 997 998 999 1000 1001 1002 1003 1004 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1032 1033 1034 1035 1036 1037 1038 1039 1040 1041 1042 1043 1044 1045 1046 1047 1048 1049 1050 1051 1052 1053 1054 1055 1056 1057 1058 1059 1060 1061 1062 1063 1064 1065 1066 1067 1068 1069 1070 1071 1072 1073 1074 1075 1076 1077 1078 1079 1080 1081 1082 1083 1084 1085 1086 1087 1088 1089 1090 1091 1092 1093 1094 1095 1096 1097 1098 1099 1100 1101 1102 1103 1104 1105 1106 1107 1108 1109 1110 1111 1112 1113 1114 1115 1116 1117 1118 1119 1120 1121 1122 1123 1124 1125 1126 1127 1128 1129 1130 1131 1132 1133 1134 1135 1136 1137 1138 1139 1140 1141 1142 1143 1144 1145 1146 1147 1148 1149 1150 1151 1152 1153 1154 1155 1156 1157 1158 1159 1160 1161 1162 1163 1164 1165 1166 1167 1168 1169 1170 1171 1172 1173 1174 1175 1176 1177 1178 1179 1180 1181 1182 1183 1184 1185 1186 1187 1188 1189 1190 1191 1192 1193 1194 1195 1196 1197 1198 1199 1200 1201 1202 1203 1204 1205 1206 1207 1208 1209 1210 1211 1212 1213 1214 1215 1216 1217 1218 1219 1220 1221 1222 1223 1224 1225 1226 1227 1228 1229 1230 1231 1232 1233 1234 1235 1236 1237 1238 1239 1240 1241 1242 1243 1244 1245 1246 1247 1248 1249 1250 1251 1252 1253 1254 1255 1256 1257 1258 1259 1260 1261 1262 1263 1264 1265 1266 1267 1268 1269 1270 1271 1272 1273 1274 1275 1276 1277 1278 1279 1280 1281 1282 1283 1284 1285 1286 1287 1288 1289 1290 1291 1292 1293 1294 1295 1296 1297 1298 1299 1300 1301 1302 1303 1304 1305 1306 1307 1308 1309 1310 1311 1312 1313 1314 1315 1316 1317 1318 1319 1320 1321 1322 1323 1324 1325 1326 1327 1328 1329 1330 1331 1332 1333 1334 1335 1336 1337 1338 1339 1340 1341 1342 1343 1344 1345 1346 1347 1348 1349 1350 1351 1352 1353 1354 1355 1356 1357 1358 1359 1360 1361 1362 1363 1364 1365 1366 1367 1368 1369 1370 1371 1372 1373 1374 1375 1376 1377 1378 1379 1380 1381 1382 1383 1384 1385 1386 1387 1388 1389 1390 1391 1392 1393 1394 1395 1396 1397 1398 1399 1400 1401 1402 1403 1404 1405 1406 1407 1408 1409 1410 1411 1412 1413 1414 1415 1416 1417 1418 1419 1420 1421 1422 1423 1424 1425 1426 1427 1428 1429 1430 1431 1432 1433 1434 1435 1436 1437 1438 1439 1440 1441 1442 1443 1444 1445 1446 1447 1448 1449 1450 1451 1452 1453 1454 1455 1456 1457 1458 1459 1460 1461 1462 1463 1464 1465 1466 1467 1468 1469 1470 1471 1472 1473 1474 1475 1476 1477 1478 1479 1480 1481 1482 1483 1484 1485 1486 1487 1488 1489 1490 1491 1492 1493 1494 1495 1496 1497 1498 1499 1500 1501 1502 1503 1504 1505 1506 1507 1508 1509 1510 1511 1512 1513 1514 1515 1516 1517 1518 1519 1520 1521 1522 1523 1524 1525 1526 1527 1528 1529 1530 1531 1532 1533 1534 1535 1536 1537 1538 1539 1540 1541 1542 1543 1544 1545 1546 1547 1548 1549 1550 1551 1552 1553 1554 1555 1556 1557 1558 1559 1560 1561 1562 1563 1564 1565 1566 1567 1568 1569 1570 1571 1572 1573 1574 1575 1576 1577 1578 1579 1580 1581 1582 1583 1584 1585 1586 1587 1588 1589 1590 1591 1592 1593 1594 1595 1596 1597 1598 1599 1600 1601 1602 1603 1604 1605 1606 1607 1608 1609 1610 1611 1612 1613 1614 1615 1616 1617 1618 1619 1620 1621 1622 1623 1624 1625 1626 1627 1628 1629 1630 1631 1632 1633 1634 1635 1636 1637 1638 1639 1640 1641 1642 1643 1644 1645 1646 1647 1648 1649 1650 1651 1652 1653 1654 1655 1656 1657 1658 1659 1660 1661 1662 1663 1664 1665 1666 1667 1668 1669 1670 1671 1672 1673 1674 1675 1676 1677 1678 1679 1680 1681 1682 1683 1684 1685 1686 1687 1688 1689 1690 1691 1692 1693 1694 1695 1696 1697 1698 1699 1700 1701 1702 1703 1704 1705 1706 1707 1708 1709 1710 1711 1712 1713 1714 1715 1716 1717 1718 1719 1720 1721 1722 1723 1724 1725 1726 1727 1728 1729 1730 1731 1732 1733 1734 1735 1736 1737 1738 1739 1740 1741 1742 1743 1744 1745 1746 1747 1748 1749 1750 1751 1752 1753 1754 1755 1756 1757 1758 1759 1760 1761 1762 1763 1764 1765 1766 1767 1768 1769 1770 1771 1772 1773 1774 1775 1776 1777 1778 1779 1780 1781 1782 1783 1784 1785 1786 1787 1788 1789 1790 1791 1792 1793 1794 1795 1796 1797 1798 1799 1800 1801 1802 1803 1804 1805 1806 1807 1808 1809 1810 1811 1812 1813 1814 1815 1816 1817 1818 1819 1820 1821 1822 1823 1824 1825 1826 1827 1828 1829 1830 1831 1832 1833 1834 1835 1836 1837 1838 1839 1840 1841 1842 1843 1844 1845 1846 1847 1848 1849 1850 1851 1852 1853 1854 1855 1856 1857 1858 1859 1860 1861 1862 1863 1864 1865 1866 1867 1868 1869 1870 1871 1872 1873 1874 1875 1876 1877 1878 1879 1880 1881 1882 1883 1884 1885 1886 1887 1888 1889 1890 1891 1892 1893 1894 1895 1896 1897 1898 1899 1900 1901 1902 1903 1904 1905 1906 1907 1908 1909 1910 1911 1912 1913 1914 1915 1916 1917 1918 1919 1920 1921 1922 1923 1924 1925 1926 1927 1928 1929 1930 1931 1932 1933 1934 1935 1936 1937 1938 1939 1940 1941 1942 1943 1944 1945 1946 1947 1948 1949 1950 1951 1952 1953 1954 1955 1956 1957 1958 1959 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2032 2033 2034 2035 2036 2037 2038 2039 2040 2041 2042 2043 2044 2045 2046 2047 2048 2049 2050 2051 2052 2053 2054 2055 2056 2057 2058 2059 2060 2061 2062 2063 2064 2065 2066 2067 2068 2069 2070 2071 2072 2073 2074 2075 2076 2077 2078 2079 2080 2081 2082 2083 2084 2085 2086 2087 2088 2089 2090 2091 2092 2093 2094 2095 2096 2097 2098 2099 2100 2101 2102 2103 2104 2105 2106 2107 2108 2109 2110 2111 2112 2113 2114 2115 2116 2117 2118 2119 2120 2121 2122 2123 2124 2125 2126 2127 2128 2129 2130 2131 2132 2133 2134 2135 2136 2137 2138 2139 2140 2141 2142 2143 2144 2145 2146 2147 2148 2149 2150 2151 2152 2153 2154 2155 2156 2157 2158 2159 2160 2161 2162 2163 2164 2165 2166 2167 2168 2169 2170 2171 2172 2173 2174 2175 2176 2177 2178 2179 2180 2181 2182 2183 2184 2185 2186 2187 2188 2189 2190 2191 2192 2193 2194 2195 2196 2197 2198 2199 2200 2201 2202 2203 2204 2205 2206 2207 2208 2209 2210 2211 2212 2213 2214 2215 2216 2217 2218 2219 2220 2221 2222 2223 2224 2225 2226 2227 2228 2229 2230 2231 2232 2233 2234 2235 2236 2237 2238 2239 2240 2241 2242 2243 2244 2245 2246 2247 2248 2249 2250 2251 2252 2253 2254 2255 2256 2257 2258 2259 2260 2261 2262 2263 2264 2265 2266 2267 2268 2269 2270 2271 2272 2273 2274 2275 2276 2277 2278 2279 2280 2281 2282 2283 2284 2285 2286 2287 2288 2289 2290 2291 2292 2293 2294 2295 2296 2297 2298 2299 2300 2301 2302 2303 2304 2305 2306 2307 2308 2309 2310 2311 2312 2313 2314 2315 2316 2317 2318 2319 2320 2321 2322 2323 2324 2325 2326 2327 2328 2329 2330 2331 2332 2333 2334 2335 2336 2337 2338 2339 2340 2341 2342 2343 2344 2345 2346 2347 2348 2349 2350 2351 2352 \u0026lt;?php return array ( \u0026#39;trans\u0026#39; =\u0026gt; array ( \u0026#39;Login Page\u0026#39; =\u0026gt; array ( \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Language\u0026#39; =\u0026gt; \u0026#39;è¯­è¨€\u0026#39;, \u0026#39;Sign in\u0026#39; =\u0026gt; \u0026#39;ç™»å½•\u0026#39;, \u0026#39;Please login.\u0026#39; =\u0026gt; \u0026#39;è¯·ç™»å½•\u0026#39;, \u0026#39;Please type a username.\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”¨æˆ·å\u0026#39;, \u0026#39;Invalid password.\u0026#39; =\u0026gt; \u0026#39;é”™è¯¯çš„å¯†ç \u0026#39;, \u0026#39;Invalid username.\u0026#39; =\u0026gt; \u0026#39;é”™è¯¯çš„ç”¨æˆ·å\u0026#39;, \u0026#39;Your account has been deactivated!\u0026#39; =\u0026gt; \u0026#39;ä½ çš„è´¦æˆ·å·²è¢«åœç”¨\u0026#39;, \u0026#39;Create account\u0026#39; =\u0026gt; \u0026#39;æ³¨å†Œ\u0026#39;, \u0026#39;Forgot password?\u0026#39; =\u0026gt; \u0026#39;å¿˜è®°å¯†ç ï¼Ÿ\u0026#39;, \u0026#39;Signing in...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨ç™»å½•...\u0026#39;, \u0026#39;Your account access is limited to a particular IP address!\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„è´¦æˆ·ä»…è¢«å…è®¸ä»ç‰¹å®šIPåœ°å€è®¿é—®ï¼\u0026#39;, \u0026#39;2-step verification: add account\u0026#39; =\u0026gt; \u0026#39;ä¸¤æ­¥éªŒè¯ï¼šæ·»åŠ è´¦æˆ·\u0026#39;, \u0026#39;Scan this barcode with the \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Google Authenticator\u0026lt;/a\u0026gt; app on your mobile device to add your account.\u0026#39; =\u0026gt; \u0026#39;é€šè¿‡ä½ æ‰‹æœºä¸Šçš„\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Google Authenticator\u0026lt;/a\u0026gt; APP æ‰«æè¿™ä¸ªäºŒç»´ç æ¥æ·»åŠ ä½ çš„è´¦æˆ·\u0026#39;, \u0026#39;Done\u0026#39; =\u0026gt; \u0026#39;å®Œæˆ\u0026#39;, \u0026#39;Your account is configured for 2-step verification. You need to type in a verification code!\u0026#39; =\u0026gt; \u0026#39;ä½ çš„è´¦æˆ·å·²ç»è®¾ç½®äº†ä¸¤æ­¥éªŒè¯ï¼Œä½ éœ€è¦è¾“å…¥ä¸€ä¸ªéªŒè¯ä»£ç \u0026#39;, \u0026#39;The provided verification code is not valid!\u0026#39; =\u0026gt; \u0026#39;æä¾›çš„éªŒè¯ä»£ç ä¸åŒ¹é…\u0026#39;, \u0026#39;Your account is configured for 2-step verification. Click Ok to start the setup.\u0026#39; =\u0026gt; \u0026#39;ä½ çš„è´¦æˆ·å·²ç»è®¾ç½®äº†ä¸¤æ­¥éªŒè¯ï¼Œç‚¹å‡»â€œOKâ€ä»¥å¯åŠ¨å®‰è£…\u0026#39;, \u0026#39;Type the following key code into your authentication app:\u0026#39; =\u0026gt; \u0026#39;è¾“å…¥ä½ çš„èº«ä»½è®¤è¯APPä¸Šæ˜¾ç¤ºçš„KEYä»£ç ï¼š\u0026#39;, \u0026#39;Verification code\u0026#39; =\u0026gt; \u0026#39;éªŒè¯ç \u0026#39;, \u0026#39;Please type a password.\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å¯†ç \u0026#39;, \u0026#39;Changing language...\u0026#39; =\u0026gt; \u0026#39;æ›´æ”¹è¯­è¨€\u0026#39;, \u0026#39;Loading...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åŠ è½½...\u0026#39;, \u0026#39;There is an Android app that you can use to access your files more comfortably. Would you like to try that instead?\u0026#39; =\u0026gt; \u0026#39;æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå®‰å“ APPä½¿ä½ å¯ä»¥æ›´å¥½çš„è®¿é—®ä½ çš„æ–‡ä»¶ï¼Œä½ å¸Œæœ›è¯•ä¸€è¯•å—ï¼Ÿ\u0026#39;, \u0026#39;Add a new \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Google Authenticator\u0026lt;/a\u0026gt; account with the following key:\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨ä»¥ä¸‹å¯†é’¥æ·»åŠ æ–°çš„\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Googleèº«ä»½éªŒè¯å™¨\u0026lt;/a\u0026gt;å¸æˆ·ï¼š\u0026#39;, \u0026#39;2-step: Add account\u0026#39; =\u0026gt; \u0026#39;ä¸¤æ­¥ï¼šæ·»åŠ å¸æˆ·\u0026#39;, \u0026#39;Authentication should be made with the remote system.\u0026#39; =\u0026gt; \u0026#39;åº”ä½¿ç”¨è¿œç¨‹ç³»ç»Ÿè¿›è¡Œèº«ä»½éªŒè¯ã€‚\u0026#39;, ), \u0026#39;User Registration\u0026#39; =\u0026gt; array ( \u0026#39;User Registration\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ³¨å†Œ\u0026#39;, \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ç®±åœ°å€\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;æ–°å¯†ç \u0026#39;, \u0026#39;Retype password\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤æ–°å¯†ç \u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;å§“å\u0026#39;, \u0026#39;Company\u0026#39; =\u0026gt; \u0026#39;å…¬å¸\u0026#39;, \u0026#39;Web site address\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™åœ°å€\u0026#39;, \u0026#39;Comment\u0026#39; =\u0026gt; \u0026#39;è¯„è®º\u0026#39;, \u0026#39;Submit\u0026#39; =\u0026gt; \u0026#39;æäº¤\u0026#39;, \u0026#39;Please type a username!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”¨æˆ·å\u0026#39;, \u0026#39;Please avoid using special characters for the username!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åä¸èƒ½ä¸ºç‰¹æ®Šå­—ç¬¦\u0026#39;, \u0026#39;Username already in use. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–ç”¨æˆ·å\u0026#39;, \u0026#39;Please type a password!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å¯†ç \u0026#39;, \u0026#39;Please retype the password correctly!\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ç›¸åŒ\u0026#39;, \u0026#39;Please type your name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ‚¨çš„å§“å\u0026#39;, \u0026#39;Please type your email address!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”µå­é‚®ç®±åœ°å€\u0026#39;, \u0026#39;Please type the company name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å…¬å¸åç§°\u0026#39;, \u0026#39;Please type your website address!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç½‘ç«™åœ°å€\u0026#39;, \u0026#39;Please type the comment!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥è¯„è®ºå†…å®¹\u0026#39;, \u0026#39;Failed to create user account!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ›å»ºå¤±è´¥\u0026#39;, \u0026#39;Your account has been successfully created.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ›å»ºæˆåŠŸ\u0026#39;, \u0026#39;Login\u0026#39; =\u0026gt; \u0026#39;ç™»å½•\u0026#39;, \u0026#39;Your account information has been emailed to you!\u0026#39; =\u0026gt; \u0026#39;è´¦æˆ·ä¿¡æ¯å·²å‘é€è‡³æ‚¨çš„ç”µå­é‚®ç®±\u0026#39;, \u0026#39;An e-mail message has been sent at \u0026#34;%1\u0026#34; with details on how to complete the registration process.\u0026#39; =\u0026gt; \u0026#39;å…³äºå¦‚ä½•å®Œæˆæ³¨å†Œè¿‡ç¨‹çš„è¯¦æƒ…ï¼Œå·²å‘é€è‡³\u0026#34;%1\u0026#34;\u0026#39;, \u0026#39;E-mail address already registered. Please use the password recovery options if you forgot your password.\u0026#39; =\u0026gt; \u0026#39;è¯¥ç”µå­é‚®ä»¶åœ°å€å·²è¢«æ³¨å†Œ. å¦‚æœæ‚¨å¿˜è®°å¯†ç è¯·ä½¿ç”¨å¯†ç æ¢å¤åŠŸèƒ½\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Please make sure you are not a robot! :)\u0026#39; =\u0026gt; \u0026#39;è¯·æ­£ç¡®çš„è¾“å…¥è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²\u0026#39;, \u0026#39;Please type your last name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ‚¨çš„å§“å\u0026#39;, \u0026#39;Loading...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åŠ è½½...\u0026#39;, \u0026#39;Phone\u0026#39; =\u0026gt; \u0026#39;ç”µè¯\u0026#39;, \u0026#39;Please type the phone number\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”µè¯å·ç \u0026#39;, ), \u0026#39;Password Reset\u0026#39; =\u0026gt; array ( \u0026#39;The login information has been sent to your email address.\u0026#39; =\u0026gt; \u0026#39;ç™»å½•ä¿¡æ¯å·²å‘é€åˆ°æ‚¨çš„ç”µå­é‚®ç®±\u0026#39;, \u0026#39;Password Reset\u0026#39; =\u0026gt; \u0026#39;å¯†ç é‡ç½®\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ç®±åœ°å€\u0026#39;, \u0026#39;Submit\u0026#39; =\u0026gt; \u0026#39;æäº¤\u0026#39;, \u0026#39;Please type the e-mail address.\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”µå­é‚®ç®±åœ°å€\u0026#39;, \u0026#39;The e-mail address was not found in the database.\u0026#39; =\u0026gt; \u0026#39;æœªæ£€ç´¢åˆ°è¯¥ç”µå­é‚®ç®±åœ°å€\u0026#39;, \u0026#39;Please check your inbox for information on how to reset your account\\\u0026#39;s password.\u0026#39; =\u0026gt; \u0026#39;å…³äºå¦‚ä½•æ‰¾å›å¯†ç ,è¯·æ£€æŸ¥æ‚¨çš„æ”¶ä»¶ç®±\u0026#39;, \u0026#39;Please wait...\u0026#39; =\u0026gt; \u0026#39;è¯·ç­‰å¾…\u0026#39;, \u0026#39;Sign in\u0026#39; =\u0026gt; \u0026#39;ç™»é™†\u0026#39;, ), \u0026#39;Main Interface\u0026#39; =\u0026gt; array ( \u0026#39;The file is already in the download cart\u0026#39; =\u0026gt; \u0026#39;è¿™ä¸ªæ–‡ä»¶å·²ç»ä½äºä½ çš„ ç­‰å¾…ä¸‹è½½ åˆ—è¡¨\u0026#39;, \u0026#39;Rating\u0026#39; =\u0026gt; \u0026#39;è¯„åˆ†\u0026#39;, \u0026#39;Please check your network connection.\u0026#39; =\u0026gt; \u0026#39;è¯·æ£€æŸ¥ä½ çš„ç½‘ç»œè¿æ¥\u0026#39;, \u0026#39;\u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;The data\u0026lt;/a\u0026gt; recevied from the server contains errors.\u0026#39; =\u0026gt; \u0026#39;\u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;ä»æ”¶åˆ°çš„æ•°æ®æœ‰é”™è¯¯\u0026lt;/a\u0026gt;\u0026#39;, \u0026#39;Loading...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åŠ è½½...\u0026#39;, \u0026#39;Sign out\u0026#39; =\u0026gt; \u0026#39;æ³¨é”€\u0026#39;, \u0026#39;Control Panel\u0026#39; =\u0026gt; \u0026#39;æ§åˆ¶é¢æ¿\u0026#39;, \u0026#39;Change password\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹å¯†ç \u0026#39;, \u0026#39;Preview\u0026#39; =\u0026gt; \u0026#39;é¢„è§ˆ\u0026#39;, \u0026#39;No preview available for this type of files.\u0026#39; =\u0026gt; \u0026#39;æ­¤ç±»æ–‡ä»¶æ— å¯ç”¨é¢„è§ˆ\u0026#39;, \u0026#39;Comments\u0026#39; =\u0026gt; \u0026#39;è¯„è®º\u0026#39;, \u0026#39;Please select a file.\u0026#39; =\u0026gt; \u0026#39;è¯·é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ã€‚\u0026#39;, \u0026#39;Folder contains no image file\u0026#39; =\u0026gt; \u0026#39;æ­¤ç›®å½•å†…æ— å›¾åƒæ–‡ä»¶\u0026#39;, \u0026#39;There are no files in this folder\u0026#39; =\u0026gt; \u0026#39;æ­¤ç›®å½•å†…æ— ä»»ä½•æ–‡ä»¶\u0026#39;, \u0026#39;This item contains changes\u0026#39; =\u0026gt; \u0026#39;è‡ªæ‚¨ä¸Šæ¬¡ç™»é™†ï¼Œæ­¤æ–‡ä»¶è¢«åˆ›å»ºæˆ–ä¿®æ”¹\u0026#39;, \u0026#39;This file is locked by %1.\u0026#39; =\u0026gt; \u0026#39;æ­¤æ–‡ä»¶è¢« %1 é”å®š.\u0026#39;, \u0026#39;This file has %1 comment(s).\u0026#39; =\u0026gt; \u0026#39;æ­¤æ–‡ä»¶æœ‰ %1 æ¡è¯„è®º.\u0026#39;, \u0026#39;This file has a WebLink attached to it.\u0026#39; =\u0026gt; \u0026#39;æ­¤æ–‡ä»¶æœ‰ä¸€ä¸ªWebé“¾æ¥\u0026#39;, \u0026#39;Loading Preview...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åŠ è½½é¢„è§ˆ...\u0026#39;, \u0026#39;Free space available:\u0026#39; =\u0026gt; \u0026#39;å‰©ä½™ç©ºé—´:\u0026#39;, \u0026#39;Delete \u0026#34;%1\u0026#34;?\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ \u0026#34;%1\u0026#34;?\u0026#39;, \u0026#39;Internet Explorer is blocking the download?\u0026lt;br\u0026gt;Click \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt; to download the file without reloading this page.\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¸‹è½½?\u0026lt;br\u0026gt;ç‚¹å‡» \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;è¿™é‡Œ\u0026lt;/a\u0026gt; ä¸‹è½½æ–‡ä»¶\u0026#39;, \u0026#39;Upload\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ \u0026#39;, \u0026#39;%1 used (%2%)\u0026#39; =\u0026gt; \u0026#39;%1 å·²ä½¿ç”¨ (%2%)\u0026#39;, \u0026#39;Please type a file name:\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–‡ä»¶å\u0026#39;, \u0026#39;Creating blank file...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åˆ›å»ºç©ºç™½æ–‡ä»¶...\u0026#39;, \u0026#39;Sort\u0026#39; =\u0026gt; \u0026#39;æ’åº\u0026#39;, \u0026#39;Settings\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®\u0026#39;, \u0026#39;Select All\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©æ‰€æœ‰\u0026#39;, \u0026#39;View\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹\u0026#39;, \u0026#39;Tools\u0026#39; =\u0026gt; \u0026#39;å·¥å…·\u0026#39;, \u0026#39;List view\u0026#39; =\u0026gt; \u0026#39;è¯¦ç»†è§†å›¾\u0026#39;, \u0026#39;Refresh\u0026#39; =\u0026gt; \u0026#39;åˆ·æ–°\u0026#39;, \u0026#39;New File\u0026#39; =\u0026gt; \u0026#39;æ–°å»ºæ–‡ä»¶\u0026#39;, \u0026#39;New tab\u0026#39; =\u0026gt; \u0026#39;æ–°æ ‡ç­¾\u0026#39;, \u0026#39;Space:\u0026#39; =\u0026gt; \u0026#39;å®¹é‡:\u0026#39;, \u0026#39;Search\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;File Search\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æœç´¢\u0026#39;, \u0026#39;Share\u0026#39; =\u0026gt; \u0026#39;å…±äº«\u0026#39;, \u0026#39;Sharing\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨å…±äº«\u0026#39;, \u0026#39;New sub-folder\u0026#39; =\u0026gt; \u0026#39;æ–°å»ºå­ç›®å½•\u0026#39;, \u0026#39;Rename\u0026#39; =\u0026gt; \u0026#39;é‡å‘½å\u0026#39;, \u0026#39;Remove\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;Properties\u0026#39; =\u0026gt; \u0026#39;å±æ€§\u0026#39;, \u0026#39;Download\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½\u0026#39;, \u0026#39;..in one zip file\u0026#39; =\u0026gt; \u0026#39;..åˆ°ä¸€ä¸ªå‹ç¼©æ–‡ä»¶\u0026#39;, \u0026#39;Open with..\u0026#39; =\u0026gt; \u0026#39;æ‰“å¼€æ–¹å¼\u0026#39;, \u0026#39;E-mail Files\u0026#39; =\u0026gt; \u0026#39;E-mail æ–‡ä»¶\u0026#39;, \u0026#39;Share with users\u0026#39; =\u0026gt; \u0026#39;ä¸å…¶ä»–ç”¨æˆ·å…±äº«\u0026#39;, \u0026#39;Get link\u0026#39; =\u0026gt; \u0026#39;ç”ŸæˆWebé“¾æ¥\u0026#39;, \u0026#39;Details and activity\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥\u0026#39;, \u0026#39;Versioning\u0026#39; =\u0026gt; \u0026#39;ç‰ˆæœ¬\u0026#39;, \u0026#39;Previous Versions\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€ç‰ˆæœ¬\u0026#39;, \u0026#39;Lock\u0026#39; =\u0026gt; \u0026#39;é”å®š\u0026#39;, \u0026#39;Unlock\u0026#39; =\u0026gt; \u0026#39;è§£é”\u0026#39;, \u0026#39;File Versions\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬\u0026#39;, \u0026#39;Metadata\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®\u0026#39;, \u0026#39;Comment\u0026#39; =\u0026gt; \u0026#39;è¯„è®º\u0026#39;, \u0026#39;Zip archive..\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ åˆ°å‹ç¼©æ–‡ä»¶\u0026#39;, \u0026#39;Extract archive..\u0026#39; =\u0026gt; \u0026#39;è§£å‹ç¼©\u0026#39;, \u0026#39;Copy\u0026#39; =\u0026gt; \u0026#39;å¤åˆ¶\u0026#39;, \u0026#39;Loading file list...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½æ–‡ä»¶åˆ—è¡¨...\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Size\u0026#39; =\u0026gt; \u0026#39;å¤§å°\u0026#39;, \u0026#39;Type\u0026#39; =\u0026gt; \u0026#39;ç±»å‹\u0026#39;, \u0026#39;Meta Type\u0026#39; =\u0026gt; \u0026#39;Metaç±»å‹\u0026#39;, \u0026#39;Modified\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39;, \u0026#39;Created\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, \u0026#39;Comments count\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºæ¡æ•°\u0026#39;, \u0026#39;Yes\u0026#39; =\u0026gt; \u0026#39;æ˜¯\u0026#39;, \u0026#39;No\u0026#39; =\u0026gt; \u0026#39;å¦\u0026#39;, \u0026#39;Version\u0026#39; =\u0026gt; \u0026#39;ç‰ˆæœ¬\u0026#39;, \u0026#39;Is new\u0026#39; =\u0026gt; \u0026#39;æ–°çš„\u0026#39;, \u0026#39;Locked by\u0026#39; =\u0026gt; \u0026#39;è¢«è°é”å®š:\u0026#39;, \u0026#39;Sort Ascending\u0026#39; =\u0026gt; \u0026#39;å‡åºæ’åˆ—\u0026#39;, \u0026#39;Sort Descending\u0026#39; =\u0026gt; \u0026#39;é™åºæ’åˆ—\u0026#39;, \u0026#39;Columns\u0026#39; =\u0026gt; \u0026#39;åˆ—\u0026#39;, \u0026#39;Reset Columns\u0026#39; =\u0026gt; \u0026#39;é‡ç½®åˆ—\u0026#39;, \u0026#39;%1 items\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªé¡¹ç›®\u0026#39;, \u0026#39;Opening popup window... \u0026lt;br\u0026gt;Click \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt; if the browser prevents it from opening.\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨æ‰“å¼€çª—å£... \u0026lt;br\u0026gt;å¦‚æœæ‰“å¼€çª—å£å¤±è´¥ï¼Œè¯·ç‚¹å‡» \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;è¿™é‡Œ\u0026lt;/a\u0026gt;\u0026#39;, \u0026#39;Moving files...\u0026#39; =\u0026gt; \u0026#39;ç§»åŠ¨æ–‡ä»¶...\u0026#39;, \u0026#39;Moving folder...\u0026#39; =\u0026gt; \u0026#39;ç§»åŠ¨ç›®å½•...\u0026#39;, \u0026#39;Renaming file...\u0026#39; =\u0026gt; \u0026#39;é‡å‘½åæ–‡ä»¶...\u0026#39;, \u0026#39;Zipping files...\u0026#39; =\u0026gt; \u0026#39;å‹ç¼©æ–‡ä»¶...\u0026#39;, \u0026#39;Extracting archive contents...\u0026#39; =\u0026gt; \u0026#39;è§£å‹ç¼©æ–‡ä»¶...\u0026#39;, \u0026#39;Deleting...\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤æ–‡ä»¶...\u0026#39;, \u0026#39;Restoring file(s)...\u0026#39; =\u0026gt; \u0026#39;æ¢å¤æ–‡ä»¶...\u0026#39;, \u0026#39;Locking file...\u0026#39; =\u0026gt; \u0026#39;é”å®šæ–‡ä»¶...\u0026#39;, \u0026#39;Unlocking file...\u0026#39; =\u0026gt; \u0026#39;è§£é”æ–‡ä»¶...\u0026#39;, \u0026#39;Renaming folder...\u0026#39; =\u0026gt; \u0026#39;é‡å‘½åç›®å½•...\u0026#39;, \u0026#39;Please wait while the selected files are being zipped...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨æ‰€é€‰æ–‡ä»¶ï¼Œè¯·ç¨å€™...\u0026#39;, \u0026#39;Please wait while the selected folder is being zipped...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨æ‰€é€‰ç›®å½•ï¼Œè¯·ç¨å€™...\u0026#39;, \u0026#39;Selected Files.zip\u0026#39; =\u0026gt; \u0026#39;æ‰€é€‰æ–‡ä»¶.zip\u0026#39;, \u0026#39;Downloading zip file...\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½å‹ç¼©æ–‡ä»¶...\u0026#39;, \u0026#39;Are you sure you want to delete the selected file(s)?\u0026#39; =\u0026gt; \u0026#39;ç¡®å®šåˆ é™¤æ‰€é€‰æ–‡ä»¶?\u0026#39;, \u0026#39;The selected folder and all its contents will be deleted.\u0026#39; =\u0026gt; \u0026#39;ç¡®å®šåˆ é™¤æ‰€é€‰ç›®å½•åŠç›®å½•ä¸‹æ‰€æœ‰å†…å®¹?\u0026#39;, \u0026#39;Permanent deletion\u0026#39; =\u0026gt; \u0026#39;æ°¸ä¹…åˆ é™¤\u0026#39;, \u0026#39;New Folder\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–°ç›®å½•\u0026#39;, \u0026#39;Creating new folder...\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–°ç›®å½•...\u0026#39;, \u0026#39;Please type a folder name for the archive contents:\u0026#39; =\u0026gt; \u0026#39;ä¸ºå‹ç¼©æ–‡ä»¶è¾“å…¥ç›®å½•å:\u0026#39;, \u0026#39;Extracted Files\u0026#39; =\u0026gt; \u0026#39;è§£å‹ç¼©æ–‡ä»¶\u0026#39;, \u0026#39;Deleted from\u0026#39; =\u0026gt; \u0026#39;ä»ä½•å¤„åˆ é™¤\u0026#39;, \u0026#39;Trash\u0026#39; =\u0026gt; \u0026#39;å·²åˆ é™¤æ–‡ä»¶\u0026#39;, \u0026#39;Restore\u0026#39; =\u0026gt; \u0026#39;è¿˜åŸ\u0026#39;, \u0026#39;Recent\u0026#39; =\u0026gt; \u0026#39;æœ€è¿‘\u0026#39;, \u0026#39;Shared by me\u0026#39; =\u0026gt; \u0026#39;ç”±æˆ‘å…±äº«\u0026#39;, \u0026#39;There are no shared files or folders\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰å…±äº«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Files\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶\u0026#39;, \u0026#39;There are no recently accessed files\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æœ€è¿‘è®¿é—®è¿‡çš„æ–‡ä»¶\u0026#39;, \u0026#39;Activity\u0026#39; =\u0026gt; \u0026#39;ç›®å½•æ´»åŠ¨\u0026#39;, \u0026#39;Please type a name for the zip file:\u0026#39; =\u0026gt; \u0026#39;è¾“å…¥å‹ç¼©æ–‡ä»¶åç§°:\u0026#39;, \u0026#39;New Archive.zip\u0026#39; =\u0026gt; \u0026#39;æ–°å»ºå‹ç¼©æ–‡ä»¶Archive.zip\u0026#39;, \u0026#39;E-mail\u0026#39; =\u0026gt; \u0026#39;Emailåœ°å€\u0026#39;, \u0026#39;Activity log\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;Loading the file\\\u0026#39;s activity log...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åŠ è½½æ–‡ä»¶çš„å˜æ›´æ—¥å¿—\u0026#39;, \u0026#39;External Window\u0026#39; =\u0026gt; \u0026#39;å¤–éƒ¨çª—å£\u0026#39;, \u0026#39;Folders\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Zip and download\u0026#39; =\u0026gt; \u0026#39;å‹ç¼©å¹¶ä¸‹è½½\u0026#39;, \u0026#39;This type of archives is not supported by the current server configuration.\u0026#39; =\u0026gt; \u0026#39;æœåŠ¡å™¨ä¸æ”¯æŒæ­¤ç±»å‹ç¼©åŒ…\u0026#39;, \u0026#39;With users\u0026#39; =\u0026gt; \u0026#39;å…³è”ç”¨æˆ·\u0026#39;, \u0026#39;One item\u0026#39; =\u0026gt; \u0026#39;ä¸€ä¸ªé¡¹ç›®\u0026#39;, \u0026#39;One item selected\u0026#39; =\u0026gt; \u0026#39;é€‰ä¸­1ä¸ªé¡¹ç›®\u0026#39;, \u0026#39;More\u0026#39; =\u0026gt; \u0026#39;æ›´å¤š\u0026#39;, \u0026#39;Confirm\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤\u0026#39;, \u0026#39;Details\u0026#39; =\u0026gt; \u0026#39;è¯¦æƒ…\u0026#39;, \u0026#39;My Files\u0026#39; =\u0026gt; \u0026#39;æˆ‘çš„æ–‡ä»¶\u0026#39;, \u0026#39;Upload to \u0026#34;%1\u0026#34;\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ è‡³ \u0026#34;%1\u0026#34;\u0026#39;, \u0026#39;Folder upload\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ ç›®å½•\u0026#39;, \u0026#39;File upload\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶\u0026#39;, \u0026#39;Create new\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–°çš„\u0026#39;, \u0026#39;Add Files\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ–‡ä»¶\u0026#39;, \u0026#39;Add Folder\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç›®å½•\u0026#39;, \u0026#39;Remove from queue\u0026#39; =\u0026gt; \u0026#39;ä»é˜Ÿåˆ—ä¸­åˆ é™¤\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Cancel all\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆæ‰€æœ‰\u0026#39;, \u0026#39;Skip file\u0026#39; =\u0026gt; \u0026#39;è·³è¿‡æ–‡ä»¶\u0026#39;, \u0026#39;Resume file\u0026#39; =\u0026gt; \u0026#39;æ¢å¤æ–‡ä»¶\u0026#39;, \u0026#39;Pause all\u0026#39; =\u0026gt; \u0026#39;æš‚åœæ‰€æœ‰\u0026#39;, \u0026#39;File name\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å\u0026#39;, \u0026#39;Uploaded\u0026#39; =\u0026gt; \u0026#39;å·²ä¸Šä¼ \u0026#39;, \u0026#39;Progress\u0026#39; =\u0026gt; \u0026#39;è¿›åº¦\u0026#39;, \u0026#39;Speed\u0026#39; =\u0026gt; \u0026#39;é€Ÿåº¦\u0026#39;, \u0026#39;Time remaining\u0026#39; =\u0026gt; \u0026#39;å‰©ä½™æ—¶é—´\u0026#39;, \u0026#39;%1 files left\u0026#39; =\u0026gt; \u0026#39;å‰©ä½™ %1 ä¸ªæ–‡ä»¶\u0026#39;, \u0026#39;%1 of %2\u0026#39; =\u0026gt; \u0026#39;%2 ä¸­çš„ %1 é¡¹\u0026#39;, \u0026#39;[Skipped]\u0026#39; =\u0026gt; \u0026#39;[å·²è·³è¿‡]\u0026#39;, \u0026#39;Paused\u0026#39; =\u0026gt; \u0026#39;å·²æš‚åœ\u0026#39;, \u0026#39;Uploading (Retry #%1)...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨ä¸Šä¼  (ç¬¬ %1 æ¬¡é‡è¯•)\u0026#39;, \u0026#39;Paused (%1%)\u0026#39; =\u0026gt; \u0026#39;å·²æš‚åœ (%1%)\u0026#39;, \u0026#39;Waiting (100%)\u0026#39; =\u0026gt; \u0026#39;ç­‰å¾…å®Œæˆ (100%)\u0026#39;, \u0026#39;Server error\u0026#39; =\u0026gt; \u0026#39;æœåŠ¡å™¨é”™è¯¯\u0026#39;, \u0026#39;A problem has been encountered!\u0026#39; =\u0026gt; \u0026#39;å‡ºç°äº†ä¸€äº›æ•…éšœ\u0026#39;, \u0026#39;Try again\u0026#39; =\u0026gt; \u0026#39;å†è¯•ä¸€æ¬¡\u0026#39;, \u0026#39;%1 hours\u0026#39; =\u0026gt; \u0026#39;%1 å°æ—¶\u0026#39;, \u0026#39;%1 minutes\u0026#39; =\u0026gt; \u0026#39;%1 åˆ†\u0026#39;, \u0026#39;%1 seconds\u0026#39; =\u0026gt; \u0026#39;%1 ç§’\u0026#39;, \u0026#39;You are not allowed to upload the file \u0026#34;%1\u0026#34;\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒä¸Šä¼ è¯¥æ–‡ä»¶ï¼š \u0026#34;%1\u0026#34;\u0026#39;, \u0026#39;There are no comments for this item\u0026#39; =\u0026gt; \u0026#39;æœ¬é¡¹ç›®æš‚æ— è¯„è®º\u0026#39;, \u0026#39;Write a comment...\u0026#39; =\u0026gt; \u0026#39;å†™ä¸€ä¸ªè¯„è®º\u0026#39;, \u0026#39;Contents\u0026#39; =\u0026gt; \u0026#39;å†…å®¹\u0026#39;, \u0026#39;Use the displayed header bar to sort by the desired field.\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨æ˜¾ç¤ºçš„æ ‡é¢˜æ æŒ‰ç…§æ‰€éœ€å­—æ®µæ’åº\u0026#39;, \u0026#39;Drop files here\u0026#39; =\u0026gt; \u0026#39;æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œä¸Šä¼ \u0026#39;, \u0026#39;or use the \u0026#34;NEW\u0026#34; button\u0026#39; =\u0026gt; \u0026#39;æˆ–è€…ä½¿ç”¨â€œåˆ›å»º/ä¸Šä¼ â€æŒ‰é’®\u0026#39;, \u0026#39;Queued\u0026#39; =\u0026gt; \u0026#39;å·²åŠ å…¥é˜Ÿåˆ—\u0026#39;, \u0026#39;Mute sound notifications\u0026#39; =\u0026gt; \u0026#39;å…³é—­é€šçŸ¥\u0026#39;, \u0026#39;Notifications\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥\u0026#39;, \u0026#39;Add to cart\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ åˆ° ç­‰å¾…ä¸‹è½½ åˆ—è¡¨\u0026#39;, \u0026#39;Download cart\u0026#39; =\u0026gt; \u0026#39;æ‰¹é‡ä¸‹è½½\u0026#39;, \u0026#39;Label\u0026#39; =\u0026gt; \u0026#39;æ ‡ç­¾\u0026#39;, \u0026#39;No label\u0026#39; =\u0026gt; \u0026#39;æ— æ ‡ç­¾\u0026#39;, \u0026#39;Custom label\u0026#39; =\u0026gt; \u0026#39;è‡ªå®šä¹‰æ ‡ç­¾\u0026#39;, \u0026#39;New label\u0026#39; =\u0026gt; \u0026#39;æ–°æ ‡ç­¾\u0026#39;, \u0026#39;Page\u0026#39; =\u0026gt; \u0026#39;é¡µ\u0026#39;, \u0026#39;of {0}\u0026#39; =\u0026gt; \u0026#39;ç¬¬ {0}\u0026#39;, \u0026#39;First Page\u0026#39; =\u0026gt; \u0026#39;é¦–é¡µ\u0026#39;, \u0026#39;Last Page\u0026#39; =\u0026gt; \u0026#39;å°¾é¡µ\u0026#39;, \u0026#39;Next Page\u0026#39; =\u0026gt; \u0026#39;ä¸‹ä¸€é¡µ\u0026#39;, \u0026#39;Previous Page\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€é¡µ\u0026#39;, \u0026#39;Uploading pasted image...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨ä¸Šä¼ ç²˜è´´çš„å›¾åƒ...\u0026#39;, \u0026#39;Pasted image\u0026#39; =\u0026gt; \u0026#39;ç²˜è´´çš„å›¾åƒ\u0026#39;, \u0026#39;Pasted image successfully uploaded\u0026#39; =\u0026gt; \u0026#39;å›¾ç‰‡ç²˜è´´ä¸Šä¼ æˆåŠŸ\u0026#39;, \u0026#39;Are you sure you want to remove the comment?\u0026#39; =\u0026gt; \u0026#39;ä½ ç¡®å®šè¦åˆ é™¤è¯„è®ºå—ï¼Ÿ\u0026#39;, \u0026#39;%1 of %2 results\u0026#39; =\u0026gt; \u0026#39;%1 of %2 ç»“æœ\u0026#39;, \u0026#39;%1 results\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªç»“æœ\u0026#39;, \u0026#39;Show more...\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºæ›´å¤š...\u0026#39;, \u0026#39;Star\u0026#39; =\u0026gt; \u0026#39;æ”¶è—\u0026#39;, \u0026#39;Starred\u0026#39; =\u0026gt; \u0026#39;æ”¶è—å¤¹\u0026#39;, \u0026#39;Remove star\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆæ”¶è—\u0026#39;, \u0026#39;There are no starred files or folders\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰å·²æ”¶è—çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;There are no shared links\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰å·²åˆ›å»ºçš„å…±äº«é“¾æ¥\u0026#39;, \u0026#39;Folder\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç›®å½•\u0026#39;, \u0026#39;File\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–‡ä»¶\u0026#39;, \u0026#39;More options\u0026#39; =\u0026gt; \u0026#39;æ›´å¤šé€‰é¡¹\u0026#39;, \u0026#39;Location\u0026#39; =\u0026gt; \u0026#39;æœ¬åœ°çš„\u0026#39;, \u0026#39;Please wait as loading the file might take a while...\u0026#39; =\u0026gt; \u0026#39;è¯·è€å¿ƒç­‰å¾…ï¼Œè½½å…¥æ­¤æ–‡ä»¶å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´...\u0026#39;, \u0026#39;New\u0026#39; =\u0026gt; \u0026#39;åˆ›å»º/ä¸Šä¼ \u0026#39;, \u0026#39;Shared links\u0026#39; =\u0026gt; \u0026#39;å…±äº«é“¾æ¥\u0026#39;, \u0026#39;Locate\u0026#39; =\u0026gt; \u0026#39;å®šä½\u0026#39;, \u0026#39;Next\u0026#39; =\u0026gt; \u0026#39;ç»§ç»­\u0026#39;, \u0026#39;Previous\u0026#39; =\u0026gt; \u0026#39;è¿”å›\u0026#39;, \u0026#39;Close\u0026#39; =\u0026gt; \u0026#39;å…³é—­\u0026#39;, \u0026#39;Zoom\u0026#39; =\u0026gt; \u0026#39;æ”¾å¤§\u0026#39;, \u0026#39;%1/%2\u0026#39; =\u0026gt; \u0026#39;%1/%2 \u0026#39;, \u0026#39;First page\u0026#39; =\u0026gt; \u0026#39;ç¬¬ä¸€é¡µ\u0026#39;, \u0026#39;Page %1\u0026#39; =\u0026gt; \u0026#39;é¡µ %1\u0026#39;, \u0026#39;You are required to change your password.\u0026#39; =\u0026gt; \u0026#39;ä½ éœ€è¦æ›´æ”¹ä½ çš„å¯†ç \u0026#39;, \u0026#39;No file was found matching your search criteria.\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ‚¨æœç´¢æ¡ä»¶çš„æ–‡ä»¶\u0026#39;, \u0026#39;To upload files, drag them from your computer\u0026#39; =\u0026gt; \u0026#39;è¦ä¸Šä¼ æ–‡ä»¶ï¼Œè¯·å°†å…¶ä»èµ„æºç®¡ç†å™¨ä¸­æ‹–å‡º\u0026#39;, \u0026#39;Account settings\u0026#39; =\u0026gt; \u0026#39;å¸å·è®¾å®š\u0026#39;, \u0026#39;Download all\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½å…¨éƒ¨æ–‡ä»¶\u0026#39;, \u0026#39;Use \u0026#34;Page Down\u0026#34; and \u0026#34;Page Up\u0026#34; to change the page\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨ \u0026#34;Page Down\u0026#34; å’Œ \u0026#34;Page Up\u0026#34; æ¥æ”¹å˜é¡µ\u0026#39;, \u0026#39;Empty trash\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºå·²åˆ é™¤æ–‡ä»¶\u0026#39;, \u0026#39;Emptying trash...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨æ¸…ç©º...\u0026#39;, \u0026#39;Empty trash?\u0026#39; =\u0026gt; \u0026#39;ç¡®å®šè¦æ¸…ç©ºï¼Ÿ\u0026#39;, \u0026#39;All files and folders in your trash are about to be permanently deleted.\u0026#39; =\u0026gt; \u0026#39;åƒåœ¾æ¡¶ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å°†è¢«æ°¸ä¹…åˆ é™¤\u0026#39;, \u0026#39;An error occurred while trying to process the request.\u0026#39; =\u0026gt; \u0026#39;å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯\u0026#39;, \u0026#39;Resume\u0026#39; =\u0026gt; \u0026#39;æ¢å¤\u0026#39;, \u0026#39;Delete folder?\u0026#39; =\u0026gt; \u0026#39;æ˜¯å¦ç¡®è®¤åˆ é™¤æ–‡ä»¶å¤¹ï¼Ÿ\u0026#39;, \u0026#39;Please enter a new name for the item:\u0026#39; =\u0026gt; \u0026#39;è¯·ä¸ºè¯¥é¡¹ç›®å–ä¸€ä¸ªæ–°åç§°ï¼š \u0026#39;, \u0026#39;Are you sure you want to move the folder?\u0026#39; =\u0026gt; \u0026#39;ä½ ç¡®å®šè¦ç§»åŠ¨æ–‡ä»¶å¤¹å—ï¼Ÿ\u0026#39;, \u0026#39;Move folder?\u0026#39; =\u0026gt; \u0026#39;æ˜¯å¦ç¡®è®¤ç§»åŠ¨æ–‡ä»¶å¤¹ï¼Ÿ\u0026#39;, \u0026#39;Web link\u0026#39; =\u0026gt; \u0026#39;å…±äº«é“¾æ¥\u0026#39;, \u0026#39;Please type the %1label\\\u0026#39;s text%2\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ %1label\\\u0026#39;s text%2\u0026#39;, \u0026#39;Date Format: Files\u0026#39; =\u0026gt; \u0026#39;m/d/Y h:i A\u0026#39;, \u0026#39;Tags\u0026#39; =\u0026gt; \u0026#39;æ ‡ç­¾\u0026#39;, \u0026#39;Failed to load file list.\u0026#39; =\u0026gt; \u0026#39;è½½å…¥æ–‡ä»¶åˆ—è¡¨å¤±è´¥\u0026#39;, \u0026#39;You need a modern browser in order to use this feature.\u0026#39; =\u0026gt; \u0026#39;æ‚¨éœ€è¦ä¸€ä¸ªç°ä»£æµè§ˆå™¨æ‰èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½\u0026#39;, \u0026#39;Please select a PNG or JPG image file.\u0026#39; =\u0026gt; \u0026#39;è¯·é€‰æ‹©ä¸€ä¸ª PNG æˆ–è€… JPG æ ¼å¼çš„å›¾åƒæ–‡ä»¶\u0026#39;, \u0026#39;File request\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–‡ä»¶æäº¤é¡µé¢\u0026#39;, \u0026#39;What are you requesting?\u0026#39; =\u0026gt; \u0026#39;ä½ æƒ³è¦ä»€ä¹ˆï¼Ÿ\u0026#39;, \u0026#39;Photos, Documents, Contracts...\u0026#39; =\u0026gt; \u0026#39;ç…§ç‰‡ï¼Œæ–‡ä»¶ï¼Œæ–‡æ¡£...\u0026#39;, \u0026#39;Shared with\u0026#39; =\u0026gt; \u0026#39;å…±äº«\u0026#39;, \u0026#39;Search options\u0026#39; =\u0026gt; \u0026#39;æœç´¢é€‰é¡¹\u0026#39;, \u0026#39;Create new folder\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–°ç›®å½•\u0026#39;, \u0026#39;This field is required\u0026#39; =\u0026gt; \u0026#39;è¿™æ˜¯å¿…å¡«é¡¹\u0026#39;, \u0026#39;Photos\u0026#39; =\u0026gt; \u0026#39;ç…§ç‰‡\u0026#39;, \u0026#39;Uploading...\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ ä¸­...\u0026#39;, \u0026#39;Help\u0026#39; =\u0026gt; \u0026#39;å¸®åŠ©\u0026#39;, \u0026#39;Date deleted\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤æ—¥æœŸ\u0026#39;, \u0026#39;Search in\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;Display mode\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºæ¨¡å¼\u0026#39;, \u0026#39;Detailed list\u0026#39; =\u0026gt; \u0026#39;è¯¦ç»†åˆ—è¡¨\u0026#39;, \u0026#39;Thumbnails\u0026#39; =\u0026gt; \u0026#39;ç¼©ç•¥å›¾\u0026#39;, \u0026#39;Last taken\u0026#39; =\u0026gt; \u0026#39;æœ€è¿‘æ‹æ‘„çš„\u0026#39;, \u0026#39;By date\u0026#39; =\u0026gt; \u0026#39;æŒ‰ æ—¥æœŸ åˆ†ç»„\u0026#39;, \u0026#39;By tag\u0026#39; =\u0026gt; \u0026#39;æŒ‰ æ ‡ç­¾ åˆ†ç»„\u0026#39;, \u0026#39;Music\u0026#39; =\u0026gt; \u0026#39;éŸ³ä¹\u0026#39;, \u0026#39;Last added\u0026#39; =\u0026gt; \u0026#39;æœ€è¿‘æ·»åŠ çš„\u0026#39;, \u0026#39;By artist\u0026#39; =\u0026gt; \u0026#39;æŒ‰ è‰ºæœ¯å®¶ åˆ†ç»„\u0026#39;, \u0026#39;By album\u0026#39; =\u0026gt; \u0026#39;æŒ‰ ä¸“è¾‘ åˆ†ç»„\u0026#39;, \u0026#39;Random\u0026#39; =\u0026gt; \u0026#39;éšæœº\u0026#39;, \u0026#39;Failed to load audio file.\u0026#39; =\u0026gt; \u0026#39;åŠ è½½éŸ³é¢‘æ–‡ä»¶å¤±è´¥\u0026#39;, \u0026#39;There are no photos in here\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰ç…§ç‰‡\u0026#39;, \u0026#39;There are no audio files in here\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰éŸ³é¢‘æ–‡ä»¶\u0026#39;, \u0026#39;There is one other item\u0026#39; =\u0026gt; \u0026#39;è¿˜æœ‰ä¸€ä¸ªé¡¹ç›®\u0026#39;, \u0026#39;There are %1 other items\u0026#39; =\u0026gt; \u0026#39;æœ‰ï¼…1ä¸ªå…¶ä»–é¡¹ç›®\u0026#39;, \u0026#39;Show all items\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®\u0026#39;, \u0026#39;Show the item\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºé¡¹ç›®\u0026#39;, \u0026#39;Scan files for changes\u0026#39; =\u0026gt; \u0026#39;æ‰«ææ–‡ä»¶æ‰€è¿›è¡Œçš„æ›´æ”¹\u0026#39;, \u0026#39;This folder is empty\u0026#39; =\u0026gt; \u0026#39;è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯ç©ºç™½çš„\u0026#39;, \u0026#39;Tag files\u0026#39; =\u0026gt; \u0026#39;æ ‡è®°æ–‡ä»¶\u0026#39;, \u0026#39;Please select at least a file or a folder!\u0026#39; =\u0026gt; \u0026#39;è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼\u0026#39;, \u0026#39;Please add at least one tag!\u0026#39; =\u0026gt; \u0026#39;è¯·æ·»åŠ è‡³å°‘ä¸€ä¸ªæ ‡ç­¾ï¼\u0026#39;, \u0026#39;Add tags...\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ ‡ç­¾...\u0026#39;, \u0026#39;Tag selected\u0026#39; =\u0026gt; \u0026#39;å·²é€‰æ‹©æ ‡è®°\u0026#39;, ), \u0026#39;General\u0026#39; =\u0026gt; array ( \u0026#39;One file successfully copied.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æˆåŠŸå¤åˆ¶\u0026#39;, \u0026#39;Folder successfully moved.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹ç§»åŠ¨æˆåŠŸ\u0026#39;, \u0026#39;One minute ago\u0026#39; =\u0026gt; \u0026#39;å¤§äº1åˆ†é’Ÿ\u0026#39;, \u0026#39;One minute\u0026#39; =\u0026gt; \u0026#39;1åˆ†é’Ÿ\u0026#39;, \u0026#39;Under one minute\u0026#39; =\u0026gt; \u0026#39;å°äº1åˆ†é’Ÿ\u0026#39;, \u0026#39;just now\u0026#39; =\u0026gt; \u0026#39;åˆšæ‰\u0026#39;, \u0026#39;Folder successfully copied.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹å¤åˆ¶æˆåŠŸ\u0026#39;, \u0026#39;Copying...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨...\u0026#39;, \u0026#39;Submit\u0026#39; =\u0026gt; \u0026#39;æäº¤\u0026#39;, \u0026#39;Save\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Error\u0026#39; =\u0026gt; \u0026#39;é”™è¯¯\u0026#39;, \u0026#39;Invalid path.\u0026#39; =\u0026gt; \u0026#39;éæ³•è·¯å¾„.\u0026#39;, \u0026#39;File not found!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸å­˜åœ¨!\u0026#39;, \u0026#39;You are not allowed to preview the selected file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒé¢„è§ˆé€‰å®šæ–‡ä»¶.\u0026#39;, \u0026#39;%1 users\u0026#39; =\u0026gt; \u0026#39;%1 ç”¨æˆ·\u0026#39;, \u0026#39;You are not allowed to download the requested file!\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä¸‹è½½è¯¥æ–‡ä»¶!\u0026#39;, \u0026#39;The file you are trying to download is no longer available!\u0026#39; =\u0026gt; \u0026#39;æ‚¨è¯•å›¾ä¸‹è½½çš„æ–‡ä»¶å·²å¤±æ•ˆ!\u0026#39;, \u0026#39;You are not allowed to download or preview files.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä¸‹è½½æˆ–é¢„è§ˆæ–‡ä»¶.\u0026#39;, \u0026#39;Invalid folder.\u0026#39; =\u0026gt; \u0026#39;éæ³•ç›®å½•.\u0026#39;, \u0026#39;You are not allowed to copy that shared file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒå¤åˆ¶è¯¥å…±äº«æ–‡ä»¶.\u0026#39;, \u0026#39;You are not allowed to copy files to the specified target.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒå¤åˆ¶æ–‡ä»¶è‡³æŒ‡å®šç›®æ ‡.\u0026#39;, \u0026#39;No file was copied!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤åˆ¶å¤±è´¥\u0026#39;, \u0026#39;One file copied.\u0026#39; =\u0026gt; \u0026#39;1ä¸ªæ–‡ä»¶è¢«å¤åˆ¶å®Œæ¯•.\u0026#39;, \u0026#39;%1 files copied.\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªæ–‡ä»¶è¢«å¤åˆ¶å®Œæ¯•.\u0026#39;, \u0026#39;No more file space available.\u0026#39; =\u0026gt; \u0026#39;ç£ç›˜ç©ºé—´ä¸è¶³.\u0026#39;, \u0026#39;You are not allowed to delete files from this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä»æ­¤å…±äº«ç›®å½•åˆ é™¤æ–‡ä»¶.\u0026#39;, \u0026#39;No files were deleted!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ–‡ä»¶è¢«åˆ é™¤!\u0026#39;, \u0026#39;One file deleted.\u0026#39; =\u0026gt; \u0026#39;1ä¸ªæ–‡ä»¶è¢«æˆåŠŸåˆ é™¤.\u0026#39;, \u0026#39;%1 files successfully deleted.\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªæ–‡ä»¶è¢«æˆåŠŸåˆ é™¤.\u0026#39;, \u0026#39;You are not allowed to move that shared file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨è¯¥å…±äº«æ–‡ä»¶.\u0026#39;, \u0026#39;You are not allowed to move files to the specified target.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨æ–‡ä»¶è‡³æŒ‡å®šç›®æ ‡.\u0026#39;, \u0026#39;You are not allowed to move these shared files to your own folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨æ­¤å…±äº«æ–‡ä»¶åˆ°æ‚¨çš„ç›®å½•.\u0026#39;, \u0026#39;No file was moved!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ–‡ä»¶è¢«ç§»åŠ¨!\u0026#39;, \u0026#39;One file moved.\u0026#39; =\u0026gt; \u0026#39;1ä¸ªæ–‡ä»¶è¢«ç§»åŠ¨.\u0026#39;, \u0026#39;%1 files moved.\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªæ–‡ä»¶è¢«ç§»åŠ¨.\u0026#39;, \u0026#39;Invalid target path, file already exists.\u0026#39; =\u0026gt; \u0026#39;ç›®æ ‡è·¯å¾„éæ³•, æ–‡ä»¶å·²å­˜åœ¨.\u0026#39;, \u0026#39;The selected file is currently locked by another user.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«å…¶ä»–äººé”å®š.\u0026#39;, \u0026#39;Invalid path, not a file.\u0026#39; =\u0026gt; \u0026#39;éæ³•è·¯å¾„, ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶.\u0026#39;, \u0026#39;Invalid path, not a folder.\u0026#39; =\u0026gt; \u0026#39;éæ³•è·¯å¾„, ä¸æ˜¯ä¸€ä¸ªç›®å½•.\u0026#39;, \u0026#39;Invalid source path, not a folder.\u0026#39; =\u0026gt; \u0026#39;éæ³•æºè·¯å¾„, ä¸æ˜¯ä¸€ä¸ªç›®å½•.\u0026#39;, \u0026#39;Invalid target path, not a folder.\u0026#39; =\u0026gt; \u0026#39;éæ³•ç›®æ ‡è·¯å¾„, ä¸æ˜¯ä¸€ä¸ªç›®å½•.\u0026#39;, \u0026#39;Invalid source path, not a file.\u0026#39; =\u0026gt; \u0026#39;éæ³•æºè·¯å¾„, ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶.\u0026#39;, \u0026#39;You are not allowed to rename files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒé‡å‘½åæ­¤å…±äº«ç›®å½•ä¸‹çš„æ–‡ä»¶.\u0026#39;, \u0026#39;File successfully renamed.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é‡å‘½åæˆåŠŸ.\u0026#39;, \u0026#39;There is already a file or a folder with the same name!\u0026#39; =\u0026gt; \u0026#39;æ­¤ç›®å½•å·²å­˜åœ¨åŒåæ–‡ä»¶!\u0026#39;, \u0026#39;Failed to rename file!\u0026#39; =\u0026gt; \u0026#39;é‡å‘½åæ–‡ä»¶å¤±è´¥!\u0026#39;, \u0026#39;You are not allowed to extract archives in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤å…±äº«ç›®å½•å†…è§£å‹æ–‡ä»¶.\u0026#39;, \u0026#39;You are not allowed to zip files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤å…±äº«ç›®å½•å†…å‹ç¼©æ–‡ä»¶.\u0026#39;, \u0026#39;Invalid folder name!\u0026#39; =\u0026gt; \u0026#39;éæ³•ç›®å½•å!\u0026#39;, \u0026#39;Invalid file name\u0026#39; =\u0026gt; \u0026#39;éæ³•æ–‡ä»¶å\u0026#39;, \u0026#39;A folder with that name already exists!\u0026#39; =\u0026gt; \u0026#39;å·²å­˜åœ¨åŒåç›®å½•!\u0026#39;, \u0026#39;Unzipped Files\u0026#39; =\u0026gt; \u0026#39;è§£å‹ç¼©æ–‡ä»¶\u0026#39;, \u0026#39;The archive was successfully extracted.\u0026#39; =\u0026gt; \u0026#39;æ–‡æ¡£æˆåŠŸè§£å‹.\u0026#39;, \u0026#39;Invalid zip name!\u0026#39; =\u0026gt; \u0026#39;å‹ç¼©æ–‡ä»¶åéæ³•!\u0026#39;, \u0026#39;A file with that name already exists!\u0026#39; =\u0026gt; \u0026#39;å·²å­˜åœ¨åŒåæ–‡ä»¶!\u0026#39;, \u0026#39;Zip archive successfully created.\u0026#39; =\u0026gt; \u0026#39;æˆåŠŸåˆ›å»ºå‹ç¼©æ–‡æ¡£.\u0026#39;, \u0026#39;You are not allowed to delete that shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåˆ é™¤è¯¥å…±äº«ç›®å½•.\u0026#39;, \u0026#39;You cannot delete the root of a shared folder.\u0026#39; =\u0026gt; \u0026#39;ä¸èƒ½åˆ é™¤å…±äº«æ ¹ç›®å½•.\u0026#39;, \u0026#39;Folder deleted.\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ é™¤æˆåŠŸ.\u0026#39;, \u0026#39;Failed to delete folder!\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;You are not allowed to move that shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨è¯¥å…±äº«ç›®å½•.\u0026#39;, \u0026#39;You are not allowed to copy that shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒå¤åˆ¶è¯¥å…±äº«ç›®å½•.\u0026#39;, \u0026#39;You are not allowed to copy folder to the specified target.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒå¤åˆ¶ç›®å½•è‡³æŒ‡å®šç›®æ ‡.\u0026#39;, \u0026#39;You are not allowed to move the folder to the shared location.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨ç›®å½•è‡³å…±äº«ä½ç½®.\u0026#39;, \u0026#39;You are not allowed to move this shared folder to your own folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç§»åŠ¨è¯¥å…±äº«ç›®å½•åˆ°æ‚¨çš„ç›®å½•.\u0026#39;, \u0026#39;Folder moved.\u0026#39; =\u0026gt; \u0026#39;ç›®å½•ç§»åŠ¨æˆåŠŸ.\u0026#39;, \u0026#39;Failed to move folder!\u0026#39; =\u0026gt; \u0026#39;ç›®å½•ç§»åŠ¨å¤±è´¥!\u0026#39;, \u0026#39;Failed to rename folder!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹é‡å‘½åå¤±è´¥\u0026#39;, \u0026#39;There is already a folder with the same name in this folder!\u0026#39; =\u0026gt; \u0026#39;æ­¤ç›®å½•ä¸‹å·²å­˜åœ¨åŒåç›®å½•!\u0026#39;, \u0026#39;Folder successfully created.\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ›å»ºæˆåŠŸ.\u0026#39;, \u0026#39;Failed to create folder!\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ›å»ºå¤±è´¥!\u0026#39;, \u0026#39;Failed to upload file \u0026#34;%1\u0026#34;: %2\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶å¤±è´¥ \u0026#34;%1\u0026#34;: %2\u0026#39;, \u0026#39;You are not allowed to upload to this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä¸Šä¼ è‡³æ­¤å…±äº«ç›®å½•.\u0026#39;, \u0026#39;No more file space available!\u0026#39; =\u0026gt; \u0026#39;ç£ç›˜ç©ºé—´ä¸è¶³!\u0026#39;, \u0026#39;File uploaded.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ.\u0026#39;, \u0026#39;The previous version is available from the versioning menu.\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€å¯ç”¨ç‰ˆæœ¬.\u0026#39;, \u0026#39;Failed to upload file.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ å¤±è´¥.\u0026#39;, \u0026#39;Please specify a file for upload.\u0026#39; =\u0026gt; \u0026#39;è¯·æŒ‡å®šä¸Šä¼ æ–‡ä»¶.\u0026#39;, \u0026#39;The monthly traffic limit has been reached!\u0026#39; =\u0026gt; \u0026#39;å·²è¾¾åˆ°æœˆæµé‡é™åˆ¶!\u0026#39;, \u0026#39;Click \u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt; to go back.\u0026#39; =\u0026gt; \u0026#39;ç‚¹å‡» \u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;è¿™é‡Œ\u0026lt;/a\u0026gt; è¿”å›.\u0026#39;, \u0026#39;A file named \u0026#34;%1\u0026#34; already exists!\u0026#39; =\u0026gt; \u0026#39;å·²å­˜åœ¨åŒåæ–‡ä»¶ \u0026#34;%1\u0026#34; !\u0026#39;, \u0026#39;The path of your home folder doesn\\\u0026#39;t point to an existing folder. Please contact the site administrator.\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„ä¸ªäººå·¥ä½œç›®å½•ä¸å­˜åœ¨, è¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜.\u0026#39;, \u0026#39;Failed to move file %1\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ç§»åŠ¨æ–‡ä»¶ %1\u0026#39;, \u0026#39;The file size exceeds the destination folder quota.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤§å°è¶…è¿‡ç›®æ ‡æ–‡ä»¶å¤¹é…é¢ã€‚\u0026#39;, \u0026#39;Zip Archive.zip\u0026#39; =\u0026gt; \u0026#39;å‹ç¼©ä¸ºarchive.zip\u0026#39;, \u0026#39;The shared folder is no longer available.\u0026#39; =\u0026gt; \u0026#39;å…±äº«æ–‡ä»¶å¤¹ä¸å†å¯ç”¨ã€‚\u0026#39;, \u0026#39;You are not allowed to modify files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä¿®æ”¹æ­¤å…±äº«ç›®å½•å†…çš„æ–‡ä»¶\u0026#39;, \u0026#39;You are not allowed to upload files in this folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤ç›®å½•ä¸Šä¼ æ–‡ä»¶\u0026#39;, \u0026#39;Please type a name for the file!\u0026#39; =\u0026gt; \u0026#39;è¯·ä¸ºæ­¤æ–‡ä»¶è¾“å…¥æ–‡ä»¶å\u0026#39;, \u0026#39;Please type a name for the folder!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–‡ä»¶å¤¹çš„åç§°\u0026#39;, \u0026#39;You are not allowed to create folders under this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;%1 minutes\u0026#39; =\u0026gt; \u0026#39;%1åˆ†é’Ÿ\u0026#39;, \u0026#39;%1 minutes ago\u0026#39; =\u0026gt; \u0026#39;%1åˆ†é’Ÿä¹‹å‰\u0026#39;, \u0026#39;One hour\u0026#39; =\u0026gt; \u0026#39;1å°æ—¶\u0026#39;, \u0026#39;One hour ago\u0026#39; =\u0026gt; \u0026#39;1å°æ—¶ä¹‹å‰\u0026#39;, \u0026#39;%1 hours\u0026#39; =\u0026gt; \u0026#39;%1å°æ—¶\u0026#39;, \u0026#39;%1 hours ago\u0026#39; =\u0026gt; \u0026#39;%1å°æ—¶ä¹‹å‰\u0026#39;, \u0026#39;One day\u0026#39; =\u0026gt; \u0026#39;1å¤©\u0026#39;, \u0026#39;One day ago\u0026#39; =\u0026gt; \u0026#39;1å¤©ä¹‹å‰\u0026#39;, \u0026#39;Yesterday\u0026#39; =\u0026gt; \u0026#39;æ˜¨å¤©\u0026#39;, \u0026#39;%1 days\u0026#39; =\u0026gt; \u0026#39;%1å¤©\u0026#39;, \u0026#39;%1 days ago\u0026#39; =\u0026gt; \u0026#39;%1å¤©ä¹‹å‰\u0026#39;, \u0026#39;One week\u0026#39; =\u0026gt; \u0026#39;1å‘¨\u0026#39;, \u0026#39;One week ago\u0026#39; =\u0026gt; \u0026#39;1å‘¨ä¹‹å‰\u0026#39;, \u0026#39;%1 weeks\u0026#39; =\u0026gt; \u0026#39;%1å‘¨\u0026#39;, \u0026#39;%1 weeks ago\u0026#39; =\u0026gt; \u0026#39;%1å‘¨ä¹‹å‰\u0026#39;, \u0026#39;One month\u0026#39; =\u0026gt; \u0026#39;1ä¸ªæœˆ\u0026#39;, \u0026#39;One month ago\u0026#39; =\u0026gt; \u0026#39;1ä¸ªæœˆä¹‹å‰\u0026#39;, \u0026#39;%1 months\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªæœˆ\u0026#39;, \u0026#39;%1 months ago\u0026#39; =\u0026gt; \u0026#39;%1ä¸ªæœˆä¹‹å‰\u0026#39;, \u0026#39;One year\u0026#39; =\u0026gt; \u0026#39;1å¹´\u0026#39;, \u0026#39;One year ago\u0026#39; =\u0026gt; \u0026#39;1å¹´ä¹‹å‰\u0026#39;, \u0026#39;%1 years\u0026#39; =\u0026gt; \u0026#39;%1å¹´\u0026#39;, \u0026#39;%1 years ago\u0026#39; =\u0026gt; \u0026#39;%1å¹´ä¹‹å‰\u0026#39;, \u0026#39;You are not allowed to rename folders!\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä¸èƒ½é‡å‘½åæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;You are not allowed to create folders!\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½åˆ›å»ºæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;One file moved to trash.\u0026#39; =\u0026gt; \u0026#39;ç§»åŠ¨æ–‡ä»¶åˆ°åƒåœ¾ç®±\u0026#39;, \u0026#39;%1 files successfully moved to trash.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å·²æˆåŠŸç§»è‡³åƒåœ¾ç®±\u0026#39;, \u0026#39;One folder moved to trash.\u0026#39; =\u0026gt; \u0026#39;ç§»åŠ¨æ–‡ä»¶å¤¹åˆ°åƒåœ¾ç®±\u0026#39;, \u0026#39;%1 files and folders successfully deleted.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹å·²æˆåŠŸåˆ é™¤\u0026#39;, \u0026#39;%1 files and folders successfully moved to trash.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹å·²æˆåŠŸç§»è‡³åƒåœ¾ç®±\u0026#39;, \u0026#39;Invalid folder name\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹åç§°æ— æ•ˆ\u0026#39;, \u0026#39;Folder successfully renamed.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹é‡å‘½åæˆåŠŸ\u0026#39;, \u0026#39;One folder successfully copied.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹æˆåŠŸå¤åˆ¶\u0026#39;, \u0026#39;One folder successfully moved.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;File successfully copied.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æˆåŠŸå¤åˆ¶\u0026#39;, \u0026#39;File successfully moved.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;%1 files and folders successfully copied.\u0026#39; =\u0026gt; \u0026#39;å·²æˆåŠŸå¤åˆ¶%1 ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;%1 files and folders successfully moved.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹å·²æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;%1 folders successfully copied.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å¤¹å·²æˆåŠŸå¤åˆ¶\u0026#39;, \u0026#39;%1 folders successfully moved.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å¤¹å·²æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;You cannot copy a deleted file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä¸èƒ½å¤åˆ¶å·²åˆ é™¤çš„æ–‡ä»¶\u0026#39;, \u0026#39;You cannot move a deleted file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æ³•ç§»åŠ¨å·²åˆ é™¤çš„æ–‡ä»¶\u0026#39;, \u0026#39;The folder cannot be copied under itself!\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶å¤¹ä¸èƒ½è¢«å¤åˆ¶åœ¨åŸæ–‡ä»¶å¤¹ä¸­\u0026#39;, \u0026#39;The folder cannot be moved under itself!\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶å¤¹ä¸èƒ½è¢«ç§»åŠ¨åˆ°åŸæ–‡ä»¶å¤¹ä¸­\u0026#39;, \u0026#39;The specified target location is the same!\u0026#39; =\u0026gt; \u0026#39;æŒ‡å®šçš„ç›®æ ‡ä½ç½®æ˜¯ç›¸åŒçš„\u0026#39;, \u0026#39;One file successfully moved.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;%1 files successfully copied.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å·²æˆåŠŸå¤åˆ¶\u0026#39;, \u0026#39;%1 files successfully moved.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶å·²æˆåŠŸç§»åŠ¨\u0026#39;, \u0026#39;You are not allowed to zip folders\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½å‹ç¼©æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;You are no longer logged in.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ²¡æœ‰ç™»å½•\u0026#39;, \u0026#39;This application requires authentication.\u0026#39; =\u0026gt; \u0026#39;æ­¤åº”ç”¨ç¨‹åºéœ€è¦éªŒè¯\u0026#39;, \u0026#39;Your user account does not have permission to perform the requested operation!\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„ç”¨æˆ·å¸æˆ·æ— æƒè¿™æ ·åš\u0026#39;, \u0026#39;You are not allowed to move this shared item.\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä¸èƒ½ç§»åŠ¨è¿™ä¸ªå…±äº«é¡¹ç›®\u0026#39;, \u0026#39;You are not allowed to rename this shared item.\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½é‡å‘½åè¿™ä¸ªå…±äº«é¡¹ç›®\u0026#39;, \u0026#39;You are not allowed to delete this shared item.\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä¸èƒ½åˆ é™¤æ­¤å…±äº«é¡¹ç›®\u0026#39;, \u0026#39;The destination folder no longer exists!\u0026#39; =\u0026gt; \u0026#39;ç›®æ ‡æ–‡ä»¶å¤¹ä¸å†å­˜åœ¨ï¼\u0026#39;, \u0026#39;The selected file or folder no longer exists!\u0026#39; =\u0026gt; \u0026#39;æ‰€é€‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸å†å­˜åœ¨ï¼\u0026#39;, \u0026#39;Please type a new folder name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–°çš„æ–‡ä»¶å¤¹åç§°ï¼\u0026#39;, \u0026#39;Please type a new file name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–°çš„æ–‡ä»¶åç§°ï¼\u0026#39;, ), \u0026#39;DateTime\u0026#39; =\u0026gt; array ( \u0026#39;This month\u0026#39; =\u0026gt; \u0026#39;æœ¬æœˆ\u0026#39;, \u0026#39;January\u0026#39; =\u0026gt; \u0026#39;ä¸€æœˆ\u0026#39;, \u0026#39;February\u0026#39; =\u0026gt; \u0026#39;äºŒæœˆ\u0026#39;, \u0026#39;March\u0026#39; =\u0026gt; \u0026#39;ä¸‰æœˆ\u0026#39;, \u0026#39;April\u0026#39; =\u0026gt; \u0026#39;å››æœˆ\u0026#39;, \u0026#39;May\u0026#39; =\u0026gt; \u0026#39;äº”æœˆ\u0026#39;, \u0026#39;June\u0026#39; =\u0026gt; \u0026#39;å…­æœˆ\u0026#39;, \u0026#39;July\u0026#39; =\u0026gt; \u0026#39;ä¸ƒæœˆ\u0026#39;, \u0026#39;August\u0026#39; =\u0026gt; \u0026#39;å…«æœˆ\u0026#39;, \u0026#39;September\u0026#39; =\u0026gt; \u0026#39;ä¹æœˆ\u0026#39;, \u0026#39;October\u0026#39; =\u0026gt; \u0026#39;åæœˆ\u0026#39;, \u0026#39;November\u0026#39; =\u0026gt; \u0026#39;åä¸€æœˆ\u0026#39;, \u0026#39;December\u0026#39; =\u0026gt; \u0026#39;åäºŒæœˆ\u0026#39;, \u0026#39;Sunday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸæ—¥\u0026#39;, \u0026#39;Monday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸä¸€\u0026#39;, \u0026#39;Tuesday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸäºŒ\u0026#39;, \u0026#39;Wednesday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸä¸‰\u0026#39;, \u0026#39;Thursday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸå››\u0026#39;, \u0026#39;Friday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸäº”\u0026#39;, \u0026#39;Saturday\u0026#39; =\u0026gt; \u0026#39;æ˜ŸæœŸå…­\u0026#39;, \u0026#39;Today\u0026#39; =\u0026gt; \u0026#39;ä»Šå¤©\u0026#39;, \u0026#39;This date is before the minimum date\u0026#39; =\u0026gt; \u0026#39;æ­¤æ—¥æœŸæ—©äºæœ€æ—©è®¸å¯æ—¥æœŸ\u0026#39;, \u0026#39;This date is after the maximum date\u0026#39; =\u0026gt; \u0026#39;æ­¤æ—¥æœŸæ™šäºæœ€æ™šè®¸å¯æ—¥æœŸ\u0026#39;, \u0026#39;Next Month (Control+Right)\u0026#39; =\u0026gt; \u0026#39;ä¸‹æœˆ(Control+å³æ–¹å‘é”®)\u0026#39;, \u0026#39;Previous Month (Control+Left)\u0026#39; =\u0026gt; \u0026#39;å‰æœˆ(Control+å·¦æ–¹å‘é”®)\u0026#39;, \u0026#39;Choose a month (Control+Up/Down to move years)\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©æœˆä»½(Control+ä¸Š/ä¸‹æ–¹å‘é”®æ¥æ”¹å˜å¹´ä»½)\u0026#39;, \u0026#39;{0} (Spacebar)\u0026#39; =\u0026gt; \u0026#39;{0} (ç©ºæ ¼é”®)\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Jan\u0026#39; =\u0026gt; \u0026#39;ä¸€æœˆ\u0026#39;, \u0026#39;Feb\u0026#39; =\u0026gt; \u0026#39;äºŒæœˆ\u0026#39;, \u0026#39;Mar\u0026#39; =\u0026gt; \u0026#39;ä¸‰æœˆ\u0026#39;, \u0026#39;Apr\u0026#39; =\u0026gt; \u0026#39;å››æœˆ\u0026#39;, \u0026#39;Jun\u0026#39; =\u0026gt; \u0026#39;å…­æœˆ\u0026#39;, \u0026#39;Jul\u0026#39; =\u0026gt; \u0026#39;ä¸ƒæœˆ\u0026#39;, \u0026#39;Aug\u0026#39; =\u0026gt; \u0026#39;å…«æœˆ\u0026#39;, \u0026#39;Sep\u0026#39; =\u0026gt; \u0026#39;ä¹æœˆ\u0026#39;, \u0026#39;Oct\u0026#39; =\u0026gt; \u0026#39;åæœˆ\u0026#39;, \u0026#39;Nov\u0026#39; =\u0026gt; \u0026#39;åä¸€æœˆ\u0026#39;, \u0026#39;Dec\u0026#39; =\u0026gt; \u0026#39;åäºŒæœˆ\u0026#39;, ), \u0026#39;Trash\u0026#39; =\u0026gt; array ( \u0026#39;A file or folder already exists at the original location.\u0026#39; =\u0026gt; \u0026#39;å·²å­˜åœ¨è¯¥æ¢å¤è·¯å¾„.\u0026#39;, \u0026#39;One item permanently deleted.\u0026#39; =\u0026gt; \u0026#39;1 ä¸ªé¡¹ç›®è¢«æ°¸ä¹…åˆ é™¤\u0026#39;, \u0026#39;No items were restored!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰é¡¹ç›®è¢«æ¢å¤!\u0026#39;, \u0026#39;One item restored.\u0026#39; =\u0026gt; \u0026#39;1 ä¸ªé¡¹ç›®è¢«æ¢å¤\u0026#39;, \u0026#39;%1 items successfully restored.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªé¡¹ç›®è¢«æ¢å¤\u0026#39;, \u0026#39;Trash emptied\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºå›æ”¶ç«™\u0026#39;, \u0026#39;Failed to empty trash\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºå›æ”¶ç«™å¤±è´¥\u0026#39;, \u0026#39;%1 items permanently deleted.\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªé¡¹ç›®è¢«æ°¸ä¹…åˆ é™¤\u0026#39;, ), \u0026#39;Account Settings\u0026#39; =\u0026gt; array ( \u0026#39;Current password\u0026#39; =\u0026gt; \u0026#39;å½“å‰å¯†ç \u0026#39;, \u0026#39;New password\u0026#39; =\u0026gt; \u0026#39;æ–°å¯†ç \u0026#39;, \u0026#39;Confirm new password\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤æ–°å¯†ç \u0026#39;, \u0026#39;Save changes\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Please type the current password correctly.\u0026#39; =\u0026gt; \u0026#39;è¯·æ­£ç¡®è¾“å…¥å½“å‰å¯†ç .\u0026#39;, \u0026#39;The password needs at least one character.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘1ä¸ªå­—ç¬¦\u0026#39;, \u0026#39;Please retype the new password correctly.\u0026#39; =\u0026gt; \u0026#39;è¯·æ­£ç¡®è¾“å…¥ç¡®è®¤å¯†ç .\u0026#39;, \u0026#39;Please type your name\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ä½ çš„ç”¨æˆ·å\u0026#39;, \u0026#39;Please type your e-mail address\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ä½ çš„ E-mail åœ°å€\u0026#39;, \u0026#39;Basic details\u0026#39; =\u0026gt; \u0026#39;åŸºç¡€ä¿¡æ¯\u0026#39;, \u0026#39;The password needs at least %1 more characters.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘%1ä¸ªå­—ç¬¦\u0026#39;, \u0026#39;The password needs at least one uppercase letter.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘1ä¸ªå¤§å†™å­—æ¯\u0026#39;, \u0026#39;The password needs at least one special character.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘1ä¸ªç‰¹æ®Šå­—ç¬¦\u0026#39;, \u0026#39;The password needs at to contain at least one letter.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘1ä¸ªå­—æ¯\u0026#39;, \u0026#39;The password needs at to contain at least one digit.\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘1ä¸ªæ•°å­—\u0026#39;, \u0026#39;The password cannot contain the \u0026#34;%1\u0026#34; sequence.\u0026#39; =\u0026gt; \u0026#39;å¯†ç ä¸èƒ½åŒ…å«\u0026#34;%1\u0026#34;æ•°åˆ—\u0026#39;, \u0026#39;The password cannot contain the \u0026#34;%1\u0026#34; part.\u0026#39; =\u0026gt; \u0026#39;å¯†ç ä¸èƒ½åŒ…å«\u0026#34;%1\u0026#34;éƒ¨åˆ†\u0026#39;, \u0026#39;Access revoked for %1 apps\u0026#39; =\u0026gt; \u0026#39;å·²å–æ¶ˆ%1åº”ç”¨çš„è®¿é—®æƒé™\u0026#39;, \u0026#39;The changes has been successfully saved\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹å·²ç»æˆåŠŸä¿å­˜\u0026#39;, \u0026#39;Failed to save the changes!\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹ä¿å­˜å¤±è´¥\u0026#39;, \u0026#39;No changes made\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰è¿›è¡Œä»»ä½•ä¿®æ”¹\u0026#39;, \u0026#39;Change password\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹å¯†ç \u0026#39;, \u0026#39;Your password has been last changed %1\u0026#39; =\u0026gt; \u0026#39;åœ¨%1æ‚¨ä¿®æ”¹è¿‡å¯†ç \u0026#39;, \u0026#39;2-Step verification\u0026#39; =\u0026gt; \u0026#39;ä¸¤æ­¥éªŒè¯\u0026#39;, \u0026#39;Enable 2-step verification\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨ä¸¤æ­¥éªŒè¯\u0026#39;, \u0026#39;Every time you login you will need to type in also a temporary code which can be generated on your mobile device with a dedicated app such as Google Authenticator.\u0026#39; =\u0026gt; \u0026#39;æ¯æ¬¡ç™»å½•æ—¶ï¼Œæ‚¨éƒ½éœ€è¦è¾“å…¥ä¸€ä¸ªä¸´æ—¶ä»£ç ï¼Œè¿™ä¸ªä»£ç å¯ä»¥é€šè¿‡Google Authenticatorç­‰ä¸“ç”¨åº”ç”¨ç¨‹åºåœ¨æ‚¨çš„ç§»åŠ¨è®¾å¤‡ä¸Šç”Ÿæˆ\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;å§“å\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;E-mail åœ°å€\u0026#39;, \u0026#39;E-mail notifications\u0026#39; =\u0026gt; \u0026#39;E-mail é€šçŸ¥\u0026#39;, \u0026#39;Mute sound notifications\u0026#39; =\u0026gt; \u0026#39;å£°éŸ³æç¤ºé™éŸ³\u0026#39;, \u0026#39;Connected apps\u0026#39; =\u0026gt; \u0026#39;å·²è¿æ¥çš„apps\u0026#39;, \u0026#39;Revoke access\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆè®¿é—®æˆæƒ\u0026#39;, \u0026#39;Granted on %1 from %2\u0026#39; =\u0026gt; \u0026#39;ä» %2 æˆäºˆ %1\u0026#39;, \u0026#39;Profile image successfully updated\u0026#39; =\u0026gt; \u0026#39;å¤´åƒä¸Šä¼ æˆåŠŸ\u0026#39;, \u0026#39;Failed to upload image file: %1\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ å›¾åƒæ–‡ä»¶%1å¤±è´¥\u0026#39;, \u0026#39;Profile image\u0026#39; =\u0026gt; \u0026#39;å¤´åƒ\u0026#39;, \u0026#39;Phone\u0026#39; =\u0026gt; \u0026#39;ç”µè¯\u0026#39;, ), \u0026#39;File Upload\u0026#39; =\u0026gt; array ( \u0026#39;File uploaded\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ\u0026#39;, \u0026#39;Failed to upload file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ å¤±è´¥\u0026#39;, \u0026#39;Failed to create folder\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥\u0026#39;, \u0026#39;Failed to upload file \u0026#34;%1\u0026#34;: %2\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ \u0026#34;%1\u0026#34;: %2 ä¸Šä¼ å¤±è´¥\u0026#39;, \u0026#39;The monthly traffic limit has been reached!\u0026#39; =\u0026gt; \u0026#39;å·²ç»åˆ°è¾¾æ¯æœˆæµé‡é™é¢ï¼\u0026#39;, \u0026#39;No more file space available!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ›´å¤šçš„å¯ç”¨ç©ºé—´äº†ï¼\u0026#39;, \u0026#39;A file named \u0026#34;%1\u0026#34; already exists!\u0026#39; =\u0026gt; \u0026#39;å·²ç»å­˜åœ¨ä¸€ä¸ªåä¸º \u0026#34;%1\u0026#34; çš„æ–‡ä»¶ï¼\u0026#39;, \u0026#39;The file needs to be uploaded from the beginning.\u0026#39; =\u0026gt; \u0026#39;è¿™ä¸ªæ–‡ä»¶éœ€è¦é‡æ–°å¼€å§‹ä¸Šä¼ \u0026#39;, \u0026#39;Failed to transfer data. Make sure you are not trying to upload an empty folder.\u0026#39; =\u0026gt; \u0026#39;è½¬ç§»æ•°æ®å¤±è´¥ï¼Œè¯·ç¡®ä¿ä½ æ²¡æœ‰åœ¨å°è¯•ä¸Šä¼ ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;You are not allowed to upload to this shared folder.\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒä¸Šä¼ æ–‡ä»¶åˆ°è¿™ä¸ªå…±äº«æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Failed to upload file part\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶åˆ†ç‰‡å¤±è´¥\u0026#39;, \u0026#39;Failed to upload file. Please try again.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œè¯·å†è¯•ä¸€æ¬¡\u0026#39;, ), \u0026#39;E-mail Files\u0026#39; =\u0026gt; array ( \u0026#39;Done\u0026#39; =\u0026gt; \u0026#39;å®Œæˆ\u0026#39;, \u0026#39;Please fill in \u0026#34;From\u0026#34; field!\u0026#39; =\u0026gt; \u0026#39;è¯·å¡«å†™å‘ä»¶äºº!\u0026#39;, \u0026#39;Please set at least one recipient!\u0026#39; =\u0026gt; \u0026#39;è¯·å¡«å†™æ”¶ä»¶äºº!\u0026#39;, \u0026#39;Please type a subject!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ ‡é¢˜!\u0026#39;, \u0026#39;Please type a message!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å†…å®¹!\u0026#39;, \u0026#39;Email successfuly sent!\u0026#39; =\u0026gt; \u0026#39;Emailå‘é€æˆåŠŸ!\u0026#39;, \u0026#39;Failed to send email!\u0026#39; =\u0026gt; \u0026#39;Emailå‘é€å¤±è´¥!\u0026#39;, \u0026#39;From\u0026#39; =\u0026gt; \u0026#39;å‘ä»¶äºº\u0026#39;, \u0026#39;To\u0026#39; =\u0026gt; \u0026#39;æ”¶ä»¶äºº\u0026#39;, \u0026#39;Separate recipients by ,\u0026#39; =\u0026gt; \u0026#39;å¤šä¸ªæ”¶ä»¶äººç”¨ , åˆ†éš”\u0026#39;, \u0026#39;Select Users\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©ç”¨æˆ·\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Subject\u0026#39; =\u0026gt; \u0026#39;æ ‡é¢˜\u0026#39;, \u0026#39;Message\u0026#39; =\u0026gt; \u0026#39;å†…å®¹\u0026#39;, \u0026#39;Attachments\u0026#39; =\u0026gt; \u0026#39;é™„ä»¶\u0026#39;, \u0026#39;Send WebLinks instead of attaching the files.\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºé™„ä»¶é“¾æ¥ï¼Œè€Œä¸å‘é€çœŸå®é™„ä»¶.\u0026#39;, \u0026#39;Web link to\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥è‡³\u0026#39;, \u0026#39;Send\u0026#39; =\u0026gt; \u0026#39;å‘é€\u0026#39;, \u0026#39;Please make the appropriate \u0026lt;br\u0026gt;changes to the highlighted fields.\u0026#39; =\u0026gt; \u0026#39;é«˜äº®åŒºåŸŸè¯·åšé€‚å½“ä¿®æ”¹.\u0026#39;, \u0026#39;Sending e-mail...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨å‘é€ï¼Œè¯·ç¨å€™...\u0026#39;, \u0026#39;No recipient addresses found!\u0026#39; =\u0026gt; \u0026#39;æœªå‘ç°æ”¶ä»¶äºº!\u0026#39;, \u0026#39;You are not allowed to share the file \u0026#34;%1\u0026#34;!\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒä»è¯¥ç›®å½•å‘é€æ–‡ä»¶!\u0026#39;, \u0026#39;Optional: include a personal message...\u0026#39; =\u0026gt; \u0026#39;å¯é€‰ï¼šåŒ…å«ä¸ªäººä¿¡æ¯......\u0026#39;, \u0026#39;Web Link Options\u0026#39; =\u0026gt; \u0026#39;åˆ†äº«é“¾æ¥é€‰é¡¹\u0026#39;, \u0026#39;The message was not sent to any of the recipients\u0026#39; =\u0026gt; \u0026#39;è¯¥æ¶ˆæ¯æ²¡æœ‰å‘é€åˆ°ä»»ä½•äººã€‚\u0026#39;, \u0026#39;The message has been sent to one recipient\u0026#39; =\u0026gt; \u0026#39;è¯¥æ¶ˆæ¯å·²ç»è¢«å‘é€ç»™1ä¸ªæ”¶ä»¶äººã€‚\u0026#39;, \u0026#39;The message has been sent to %1 recipients\u0026#39; =\u0026gt; \u0026#39;è¯¥æ¶ˆæ¯å·²ç»è¢«å‘é€ç»™1%ä¸ªæ”¶ä»¶äººã€‚\u0026#39;, \u0026#39;Errors: %1\u0026#39; =\u0026gt; \u0026#39;é”™è¯¯: %1\u0026#39;, \u0026#39;Overwrite existing link settings.\u0026#39; =\u0026gt; \u0026#39;è¦†ç›–ç°æœ‰çš„é“¾æ¥è®¾ç½®\u0026#39;, \u0026#39;You are not allowed to share the folder \u0026#34;%1\u0026#34;!\u0026#39; =\u0026gt; \u0026#39;ä½ æ²¡æœ‰åˆ†äº« \u0026#34;%1\u0026#34; æ–‡ä»¶å¤¹çš„æƒé™ï¼\u0026#39;, \u0026#39;You are not allowed to create links! You can send files only as attachments.\u0026#39; =\u0026gt; \u0026#39;ä½ æ²¡æœ‰åˆ›å»ºé“¾æ¥çš„æƒé™ï¼ä½ åªèƒ½é€šè¿‡é™„ä»¶å‘é€æ–‡ä»¶ã€‚\u0026#39;, \u0026#39;%1 sent you a file\u0026#39; =\u0026gt; \u0026#39;%1 å‘ä½ å‘é€äº† 1 ä¸ªæ–‡ä»¶\u0026#39;, \u0026#39;%1 sent you %2 files\u0026#39; =\u0026gt; \u0026#39;%1 å‘ä½ å‘é€äº† %2 ä¸ªæ–‡ä»¶\u0026#39;, \u0026#39;Please wait\u0026#39; =\u0026gt; \u0026#39;è¯·ç¨ç­‰\u0026#39;, ), \u0026#39;Share Files\u0026#39; =\u0026gt; array ( \u0026#39;Add guest user\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ è®¿å®¢ç”¨æˆ·\u0026#39;, \u0026#39;Next\u0026#39; =\u0026gt; \u0026#39;ä¸‹ä¸€ä¸ª\u0026#39;, \u0026#39;Upload\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ \u0026#39;, \u0026#39;Download\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½\u0026#39;, \u0026#39;Add comments\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ è¯„è®º\u0026#39;, \u0026#39;Read comments\u0026#39; =\u0026gt; \u0026#39;è¯»å–è¯„è®º\u0026#39;, \u0026#39;Make changes\u0026#39; =\u0026gt; \u0026#39;åšå‡ºæ”¹å˜\u0026#39;, \u0026#39;Share anonymously\u0026#39; =\u0026gt; \u0026#39;åŒ¿åå…±äº«\u0026#39;, \u0026#39;Share with\u0026#39; =\u0026gt; \u0026#39;å…±äº«\u0026#39;, \u0026#39;Select Users\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©ç”¨æˆ·\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Unsorted, %1 users\u0026#39; =\u0026gt; \u0026#39;ä¸æ’åº, %1ç”¨æˆ·\u0026#39;, \u0026#39;Permissions\u0026#39; =\u0026gt; \u0026#39;æƒé™\u0026#39;, \u0026#39;Options\u0026#39; =\u0026gt; \u0026#39;é€‰é¡¹\u0026#39;, \u0026#39;Add Users\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç”¨æˆ·\u0026#39;, \u0026#39;Remove\u0026#39; =\u0026gt; \u0026#39;ç§»é™¤\u0026#39;, \u0026#39;Save\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Loading data...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½æ•°æ®...\u0026#39;, \u0026#39;Saving options...\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜é€‰é¡¹...\u0026#39;, \u0026#39;Add users to share with.\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ å…±äº«ç”¨æˆ·.\u0026#39;, \u0026#39;Sharing options saved.\u0026#39; =\u0026gt; \u0026#39;å…±äº«é€‰é¡¹å·²ä¿å­˜.\u0026#39;, \u0026#39;Ok\u0026#39; =\u0026gt; \u0026#39;ç¡®å®š\u0026#39;, \u0026#39;Share as\u0026#39; =\u0026gt; \u0026#39;å…±äº«ä¸º\u0026#39;, \u0026#39;Share links\u0026#39; =\u0026gt; \u0026#39;åˆ†äº«é“¾æ¥\u0026#39;, \u0026#39;Add user\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç”¨æˆ·\u0026#39;, ), \u0026#39;Folder Notifications\u0026#39; =\u0026gt; array ( \u0026#39;Notification settings successfully saved\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥æ¶ˆæ¯æˆåŠŸä¿å­˜\u0026#39;, \u0026#39;Notifications for \u0026#34;read\u0026#34; actions cannot be set on shared folders.\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åœ¨å·²å…±äº«çš„æ–‡ä»¶å¤¹ä¸Šè®¾ç½®å…³äºâ€œè¯»å–â€è¡Œä¸ºçš„é€šçŸ¥æ¶ˆæ¯\u0026#39;, \u0026#39;No changes were made.\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰åšå‡ºä¿®æ”¹\u0026#39;, ), \u0026#39;Web Links\u0026#39; =\u0026gt; array ( \u0026#39;Upload\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ \u0026#39;, \u0026#39;The link has been copied to clipboard.\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥å·²ç»æ‹·è´åˆ°å‰ªåˆ‡æ¿\u0026#39;, \u0026#39;Loading data...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½æ•°æ®...\u0026#39;, \u0026#39;Link address\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥åœ°å€\u0026#39;, \u0026#39;Expiration date\u0026#39; =\u0026gt; \u0026#39;è¿‡æœŸæ—¶é—´\u0026#39;, \u0026#39;Download limit\u0026#39; =\u0026gt; \u0026#39;å¯ä¾›ä¸‹è½½æ¬¡æ•°\u0026#39;, \u0026#39;Set a password\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®å¯†ç \u0026#39;, \u0026#39;Receive e-mail notifications.\u0026#39; =\u0026gt; \u0026#39;æ¥å—ç”µå­é‚®ä»¶æç¤º\u0026#39;, \u0026#39;Allow visitors to upload files.\u0026#39; =\u0026gt; \u0026#39;å…è®¸è®¿é—®è€…ä¸Šä¼ æ–‡ä»¶\u0026#39;, \u0026#39;Save changes\u0026#39; =\u0026gt; \u0026#39;æ›´æ–°è®¾ç½®\u0026#39;, \u0026#39;Remove link\u0026#39; =\u0026gt; \u0026#39;ç§»é™¤Webé“¾æ¥\u0026#39;, \u0026#39;You cannot allow uploads in this folder\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½è®¾ç½®å…è®¸ä¸Šä¼ æ–‡ä»¶åˆ°è¯¥æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Web link successfully created!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥åˆ›å»ºæˆåŠŸ!\u0026#39;, \u0026#39;Failed to create web link!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥åˆ›å»ºå¤±è´¥!\u0026#39;, \u0026#39;Web link successfully updated!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥æ›´æ–°æˆåŠŸ!\u0026#39;, \u0026#39;Failed to update web link!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥æ›´æ–°å¤±è´¥!\u0026#39;, \u0026#39;Web link successfully deleted!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥åˆ é™¤æˆåŠŸ!\u0026#39;, \u0026#39;Failed to delete web link!\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;The requested file requires a password.\u0026#39; =\u0026gt; \u0026#39;è¯·æ±‚çš„æ–‡ä»¶éœ€è¦å¯†ç .\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Submit\u0026#39; =\u0026gt; \u0026#39;æäº¤\u0026#39;, \u0026#39;The requested file is no longer available!\u0026#39; =\u0026gt; \u0026#39;è¯·æ±‚çš„æ–‡ä»¶å·²å¤±æ•ˆ!\u0026#39;, \u0026#39;Click \u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt; to go back.\u0026#39; =\u0026gt; \u0026#39;ç‚¹å‡» \u0026lt;a href=\u0026#34;%1\u0026#34;\u0026gt;è¿™é‡Œ\u0026lt;/a\u0026gt; è¿”å›.\u0026#39;, \u0026#39;Open\u0026#39; =\u0026gt; \u0026#39;æ‰“å¼€\u0026#39;, \u0026#39;E-mail\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶\u0026#39;, \u0026#39;Grid view\u0026#39; =\u0026gt; \u0026#39;ç½‘æ ¼æ˜¾ç¤º\u0026#39;, \u0026#39;Short Link\u0026#39; =\u0026gt; \u0026#39;çŸ­é“¾æ¥\u0026#39;, \u0026#39;Image gallery\u0026#39; =\u0026gt; \u0026#39;å›¾åƒåº“\u0026#39;, \u0026#39;Audio playlist\u0026#39; =\u0026gt; \u0026#39;éŸ³é¢‘æ’­æ”¾åˆ—è¡¨\u0026#39;, \u0026#39;RSS feed\u0026#39; =\u0026gt; \u0026#39;RSSè®¢é˜…\u0026#39;, \u0026#39;You are required to password protect the link\u0026#39; =\u0026gt; \u0026#39;ä½ éœ€è¦ä¸€ä¸ªå¯†ç ä»¥ä¿æŠ¤è¯¥é“¾æ¥\u0026#39;, \u0026#39;Advanced\u0026#39; =\u0026gt; \u0026#39;é«˜çº§\u0026#39;, \u0026#39;Download Terms\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½æ¡æ¬¾\u0026#39;, \u0026#39;Comments\u0026#39; =\u0026gt; \u0026#39;æ³¨é‡Š\u0026#39;, \u0026#39;Share the file comments with the visitors.\u0026#39; =\u0026gt; \u0026#39;å‘è®¿å®¢åˆ†äº«æ–‡ä»¶çš„è¯„è®º\u0026#39;, \u0026#39;Link\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥\u0026#39;, \u0026#39;Add download terms and conditions\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ä¸‹è½½æ¡æ¬¾å’Œé™åˆ¶ï¼š\u0026#39;, \u0026#39;Force the visitors to accept your written terms before being able to download files.\u0026#39; =\u0026gt; \u0026#39;å¼ºåˆ¶è®¿å®¢åœ¨ä¸‹è½½å‰æ¥å—ä½ çš„æ¡æ¬¾ã€‚\u0026#39;, \u0026#39;QR Code\u0026#39; =\u0026gt; \u0026#39;QRç \u0026#39;, \u0026#39;Scan this QR code with your mobile device.\u0026#39; =\u0026gt; \u0026#39;ç”¨ä½ çš„ç§»åŠ¨è®¾å¤‡æ‰«æè¯¥QRç \u0026#39;, \u0026#39;A Bitly Access Token needs to be configured from the control panel.\u0026#39; =\u0026gt; \u0026#39;éœ€è¦ä»æ§åˆ¶é¢æ¿é…ç½®ä»¤ç‰Œ\u0026#39;, \u0026#39;Ok\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤\u0026#39;, \u0026#39;You are not allowed to access web links!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æƒé™è®¿é—®æ­¤é“¾æ¥\u0026#39;, \u0026#39;Prevent the browser from opening the file.\u0026#39; =\u0026gt; \u0026#39;é˜»æ­¢æµè§ˆå™¨ç›´æ¥æ‰“å¼€æ–‡ä»¶\u0026#39;, \u0026#39;Some common types of files are being opened by the browser instead of asking the visitors from saving to their computers.\u0026#39; =\u0026gt; \u0026#39;ä¸€äº›æ™®é€šç±»å‹çš„æ–‡ä»¶ä¼šé€šè¿‡æµè§ˆå™¨ç›´æ¥æ‰“å¼€è€Œä¸æ˜¯å¼€å§‹ä¸‹è½½\u0026#39;, \u0026#39;Changes saved.\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜ä¿®æ”¹\u0026#39;, \u0026#39;Empty contents.\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºè¯„è®º\u0026#39;, \u0026#39;Failed to save changes.\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜ä¿®æ”¹å¤±è´¥\u0026#39;, \u0026#39;Done\u0026#39; =\u0026gt; \u0026#39;å®Œæˆ\u0026#39;, \u0026#39;E-mail program\u0026#39; =\u0026gt; \u0026#39;E-mail ç¨‹åº\u0026#39;, \u0026#39;Share link\u0026#39; =\u0026gt; \u0026#39;å…±äº«é“¾æ¥\u0026#39;, \u0026#39;Shorten\u0026#39; =\u0026gt; \u0026#39;çŸ­é“¾æ¥è½¬åŒ–\u0026#39;, \u0026#39;You are not allowed to share the selected file!\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒåˆ†äº«é€‰å®šçš„æ–‡ä»¶ï¼\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Display users names.\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºç”¨æˆ·çš„åå­—\u0026#39;, \u0026#39;Download\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½\u0026#39;, \u0026#39;Give this link to people youâ€™re requesting files from\u0026#39; =\u0026gt; \u0026#39;å°†æ­¤é“¾æ¥æŒ‡å‘è¦è¯·æ±‚æ–‡ä»¶çš„äººå‘˜ \u0026#39;, \u0026#39;Download All\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½æ‰€æœ‰\u0026#39;, \u0026#39;Submit files\u0026#39; =\u0026gt; \u0026#39;å‘é€æ–‡ä»¶\u0026#39;, \u0026#39;%1 is requesting\u0026#39; =\u0026gt; \u0026#39;%1æ­£åœ¨è¯·æ±‚\u0026#39;, \u0026#39;Only %1 will see the files you upload.\u0026#39; =\u0026gt; \u0026#39;åªæœ‰ %1 å¯ä»¥çœ‹è§ä½ ä¸Šä¼ çš„è¿™äº›æ–‡ä»¶\u0026#39;, \u0026#39;Choose files\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©æ–‡ä»¶\u0026#39;, \u0026#39;File request\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¯·æ±‚ \u0026#39;, \u0026#39;Enable file request.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ–‡ä»¶è¯·æ±‚ã€‚ \u0026#39;, \u0026#39;Allow visitors to see and download the existing files.\u0026#39; =\u0026gt; \u0026#39;å…è®¸è®¿å®¢æµè§ˆå’Œä¸‹è½½å­˜åœ¨çš„æ–‡ä»¶\u0026#39;, \u0026#39;Or drag them from your computer onto this page.\u0026#39; =\u0026gt; \u0026#39;æˆ–è€…å°†ä»–ä»¬ä»ä½ çš„ç”µè„‘æ‹–åŠ¨åˆ°è¿™ä¸ªé¡µé¢\u0026#39;, \u0026#39;Who is sending the files?\u0026#39; =\u0026gt; \u0026#39;è°åœ¨å‘é€è¿™äº›æ–‡ä»¶ï¼Ÿ\u0026#39;, \u0026#39;Type your name here\u0026#39; =\u0026gt; \u0026#39;åœ¨æ­¤è¾“å…¥ä½ çš„åå­—\u0026#39;, \u0026#39;Start upload\u0026#39; =\u0026gt; \u0026#39;å¼€å§‹ä¸Šä¼ \u0026#39;, \u0026#39;The files have been successfully sent!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ç»æˆåŠŸå‘é€\u0026#39;, \u0026#39;Upload starting...\u0026#39; =\u0026gt; \u0026#39;å¼€å§‹ä¸Šä¼ ...\u0026#39;, \u0026#39;Uploading...\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ ä¸­...\u0026#39;, \u0026#39;Refreshing page...\u0026#39; =\u0026gt; \u0026#39;åˆ·æ–°é¡µé¢...\u0026#39;, \u0026#39;List view\u0026#39; =\u0026gt; \u0026#39;åˆ—è¡¨æ˜¾ç¤º\u0026#39;, \u0026#39;One item\u0026#39; =\u0026gt; \u0026#39;ä¸€ä¸ªé¡¹ç›®\u0026#39;, \u0026#39;Empty folder\u0026#39; =\u0026gt; \u0026#39;ç©ºæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;%1 items\u0026#39; =\u0026gt; \u0026#39;%1 é¡¹ç›®\u0026#39;, \u0026#39;Options\u0026#39; =\u0026gt; \u0026#39;é€‰é¡¹\u0026#39;, \u0026#39;Copy\u0026#39; =\u0026gt; \u0026#39;å¤åˆ¶\u0026#39;, \u0026#39;Require visitors to be signed in.\u0026#39; =\u0026gt; \u0026#39;è¦æ±‚è®¿é—®è€…ç™»å½•\u0026#39;, \u0026#39;Only registered users will be able to access this link.\u0026#39; =\u0026gt; \u0026#39;åªæœ‰æ³¨å†Œç”¨æˆ·æ‰èƒ½è®¿é—®æ­¤é“¾æ¥\u0026#39;, ), \u0026#39;Files Activity Log\u0026#39; =\u0026gt; array ( \u0026#39;File moved with parent folder\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸çˆ¶æ–‡ä»¶å¤¹ä¸€èµ·ç§»åŠ¨\u0026#39;, \u0026#39;Folder moved with parent folder\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹ä¸çˆ¶æ–‡ä»¶å¤¹ç§»åŠ¨\u0026#39;, \u0026#39;Date\u0026#39; =\u0026gt; \u0026#39;æ—¥æœŸ\u0026#39;, \u0026#39;User\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Action\u0026#39; =\u0026gt; \u0026#39;è¡Œä¸º\u0026#39;, \u0026#39;Details\u0026#39; =\u0026gt; \u0026#39;æ˜ç»†\u0026#39;, \u0026#39;No activity records found for this file.\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰å‘ç°è¯¥æ–‡ä»¶çš„æ´»åŠ¨æ—¥å¿—ã€‚\u0026#39;, \u0026#39;You are not allowed to access the files activity logs\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸å…è®¸è®¿é—®è¯¥æ–‡ä»¶çš„æ´»åŠ¨æ—¥å¿—ã€‚\u0026#39;, \u0026#39;Displaying records {0} - {1} of {2}\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºè®°å½•{0} - {1} of {2}\u0026#39;, \u0026#39;No records to display\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰è¦æ˜¾ç¤ºçš„è®°å½•\u0026#39;, \u0026#39;Page\u0026#39; =\u0026gt; \u0026#39;é¡µ\u0026#39;, \u0026#39;of {0}\u0026#39; =\u0026gt; \u0026#39;å…±{0}\u0026#39;, \u0026#39;First Page\u0026#39; =\u0026gt; \u0026#39;ç¬¬ä¸€é¡µ\u0026#39;, \u0026#39;Last Page\u0026#39; =\u0026gt; \u0026#39;æœ€åä¸€é¡µ\u0026#39;, \u0026#39;Next Page\u0026#39; =\u0026gt; \u0026#39;ä¸‹ä¸€é¡µ\u0026#39;, \u0026#39;Previous Page\u0026#39; =\u0026gt; \u0026#39;å‰ä¸€é¡µ\u0026#39;, \u0026#39;Refresh\u0026#39; =\u0026gt; \u0026#39;åˆ·æ–°\u0026#39;, \u0026#39;%2 by \u0026lt;span style=\u0026#34;color:black\u0026#34;\u0026gt;%1\u0026lt;/span\u0026gt;\u0026#39; =\u0026gt; \u0026#39;%2 ç”±\u0026lt;span style=\u0026#34;color:black\u0026#34;\u0026gt;%1\u0026lt;/span\u0026gt;\u0026#39;, \u0026#39;File uploaded\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ä¸Šä¼ \u0026#39;, \u0026#39;Uploaded by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1ä¸Šä¼ \u0026#39;, \u0026#39;File downloaded\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ä¸‹è½½\u0026#39;, \u0026#39;Downloaded by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1ä¸‹è½½\u0026#39;, \u0026#39;File archived for download\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ç»è¢«æ‰“åŒ…ä¾›ä¸‹è½½\u0026#39;, \u0026#39;Archived for download by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1æ‰“åŒ…\u0026#39;, \u0026#39;File archived\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«æ‰“åŒ…\u0026#39;, \u0026#39;File copied\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«å¤åˆ¶\u0026#39;, \u0026#39;Copied by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1å¤åˆ¶\u0026#39;, \u0026#39;File pasted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«ç²˜è´´\u0026#39;, \u0026#39;Pasted by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1ç²˜è´´\u0026#39;, \u0026#39;File moved\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«ç§»åŠ¨\u0026#39;, \u0026#39;Moved by %1\u0026#39; =\u0026gt; \u0026#39;æœ‰%1ç§»åŠ¨\u0026#39;, \u0026#39;File deleted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«åˆ é™¤\u0026#39;, \u0026#39;Deleted by %1\u0026#39; =\u0026gt; \u0026#39;è¢«%1åˆ é™¤\u0026#39;, \u0026#39;Deleted file restored\u0026#39; =\u0026gt; \u0026#39;å·²æ¢å¤è¢«åˆ é™¤æ–‡ä»¶\u0026#39;, \u0026#39;Restored by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%æ¢å¤\u0026#39;, \u0026#39;File previewed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«é¢„è§ˆ\u0026#39;, \u0026#39;Previewed by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1é¢„è§ˆ\u0026#39;, \u0026#39;WebLink download\u0026#39; =\u0026gt; \u0026#39;WebLinkè¢«ä¸‹è½½\u0026#39;, \u0026#39;Downloaded through %1\\\u0026#39;s WebLink\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½é€šè¿‡%1çš„WebLink\u0026#39;, \u0026#39;WebLink created\u0026#39; =\u0026gt; \u0026#39;WebLinkè¢«åˆ›å»º\u0026#39;, \u0026#39;%1 attached a WebLink\u0026#39; =\u0026gt; \u0026#39;%1é™„åŠ äº†WebLink\u0026#39;, \u0026#39;WebLink updated\u0026#39; =\u0026gt; \u0026#39;WebLinkè¢«æ›´æ–°\u0026#39;, \u0026#39;%1 changed the WebLink\\\u0026#39;s options\u0026#39; =\u0026gt; \u0026#39;%1æ›´æ”¹äº†WebLinké€‰é¡¹\u0026#39;, \u0026#39;WebLink removed\u0026#39; =\u0026gt; \u0026#39;WebLinkè¢«åˆ é™¤\u0026#39;, \u0026#39;%1 removed the WebLink\u0026#39; =\u0026gt; \u0026#39;%1åˆ é™¤äº†WebLink\u0026#39;, \u0026#39;Comment added\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºè¢«æ·»åŠ \u0026#39;, \u0026#39;%1 wrote a comment\u0026#39; =\u0026gt; \u0026#39;%1æ·»åŠ äº†è¯„è®ºï¼š%2\u0026#39;, \u0026#39;Comment removed\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºè¢«åˆ é™¤\u0026#39;, \u0026#39;%1 removed a comment\u0026#39; =\u0026gt; \u0026#39;%1åˆ é™¤äº†è¯„è®ºï¼š%2\u0026#39;, \u0026#39;Metadata changed\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®è¢«æ›´æ”¹\u0026#39;, \u0026#39;Metadata changed by %1\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®è¢«%1æ›´æ”¹\u0026#39;, \u0026#39;File locked\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«é”å®š\u0026#39;, \u0026#39;Locked by %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«%1é”å®š\u0026#39;, \u0026#39;File unlocked\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«è§£é”\u0026#39;, \u0026#39;Unlocked by %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«%1è§£é”\u0026#39;, \u0026#39;Previous file version restored\u0026#39; =\u0026gt; \u0026#39;é¢„è§ˆæ–‡ä»¶ç‰ˆæœ¬è¢«æ¢å¤\u0026#39;, \u0026#39;Previous version restored by %1\u0026#39; =\u0026gt; \u0026#39;é¢„è§ˆæ–‡ä»¶ç‰ˆæœ¬è¢«%1æ¢å¤\u0026#39;, \u0026#39;Previous file version deleted\u0026#39; =\u0026gt; \u0026#39;é¢„è§ˆæ–‡ä»¶ç‰ˆæœ¬è¢«åˆ é™¤\u0026#39;, \u0026#39;Previous version deleted by %1\u0026#39; =\u0026gt; \u0026#39;é¢„è§ˆæ–‡ä»¶ç‰ˆæœ¬è¢«%1åˆ é™¤\u0026#39;, \u0026#39;File renamed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«é‡å‘½å\u0026#39;, \u0026#39;Renamed by %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«%1é‡å‘½å\u0026#39;, \u0026#39;File encrypted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«åŠ å¯†\u0026#39;, \u0026#39;Encrypted by %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«%1åŠ å¯†\u0026#39;, \u0026#39;File decrypted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«è§£å¯†\u0026#39;, \u0026#39;Decrypted by %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«%1è§£å¯†\u0026#39;, \u0026#39;File sent by e-mail\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«é€šè¿‡ç”µå­é‚®ä»¶å‘é€\u0026#39;, \u0026#39;Send by e-mail by %1\u0026#39; =\u0026gt; \u0026#39;ç”±%1é€šè¿‡ç”µå­é‚®ä»¶å‘é€\u0026#39;, \u0026#39;Changed label\u0026#39; =\u0026gt; \u0026#39;æ›´æ”¹æ ‡è®°\u0026#39;, \u0026#39;Label removed\u0026#39; =\u0026gt; \u0026#39;æ ‡è®°è¢«åˆ é™¤\u0026#39;, \u0026#39;Labeled by %1: %2\u0026#39; =\u0026gt; \u0026#39;è¢« %1: %2 æ ‡è®°\u0026#39;, \u0026#39;Label removed by %1\u0026#39; =\u0026gt; \u0026#39;æ ‡è®°è¢« %1 åˆ é™¤\u0026#39;, \u0026#39;Are you sure you want to clear the file\\\u0026#39;s activity log?\u0026#39; =\u0026gt; \u0026#39;ä½ ç¡®å®šè¦æ¸…é™¤æ–‡ä»¶æ´»åŠ¨æ—¥å¿—å—ï¼Ÿ\u0026#39;, \u0026#39;Activity log successfully cleared\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—æˆåŠŸæ¸…é™¤\u0026#39;, \u0026#39;Failed to clear activity log\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—æ¸…é™¤å¤±è´¥\u0026#39;, \u0026#39;Clear log\u0026#39; =\u0026gt; \u0026#39;æ¸…é™¤æ—¥å¿—\u0026#39;, \u0026#39;Activity log has been successfully archived!\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—å·²æˆåŠŸå­˜æ¡£ï¼\u0026#39;, ), \u0026#39;Metadata\u0026#39; =\u0026gt; array ( \u0026#39;You are not allowed to alter data in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤å…±äº«ç›®å½•å†…æ›´æ”¹æ•°æ®.\u0026#39;, \u0026#39;Software Error: Failed to insert new path.\u0026#39; =\u0026gt; \u0026#39;è½¯ä»¶é”™è¯¯: æ’å…¥æ–°è·¯å¾„å¤±è´¥.\u0026#39;, \u0026#39;File Type\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;Select...\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©...\u0026#39;, \u0026#39;- File Type Not Found -\u0026#39; =\u0026gt; \u0026#39;- æœªæ‰¾åˆ°æ–‡ä»¶ç±»å‹ -\u0026#39;, \u0026#39;Save\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Saving data...\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜æ•°æ®...\u0026#39;, \u0026#39;Failed to save data!\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜æ•°æ®å¤±è´¥!\u0026#39;, \u0026#39;- No Special Type -\u0026#39; =\u0026gt; \u0026#39;- æ— æŒ‡å®šç±»å‹ -\u0026#39;, \u0026#39;No changes were made\u0026#39; =\u0026gt; \u0026#39;æ— å˜åŒ–\u0026#39;, \u0026#39;Changes saved\u0026#39; =\u0026gt; \u0026#39;å·²ä¿å­˜æ›´æ”¹\u0026#39;, ), \u0026#39;Versioning\u0026#39; =\u0026gt; array ( \u0026#39;Version\u0026#39; =\u0026gt; \u0026#39;ç‰ˆæœ¬\u0026#39;, \u0026#39;User\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Date\u0026#39; =\u0026gt; \u0026#39;æ—¥æœŸ\u0026#39;, \u0026#39;Download\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½\u0026#39;, \u0026#39;Restore\u0026#39; =\u0026gt; \u0026#39;è¿˜åŸ\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;File version restored.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬è¿˜åŸæˆåŠŸ.\u0026#39;, \u0026#39;Failed to restore file version.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬è¿˜åŸå¤±è´¥.\u0026#39;, \u0026#39;File version deleted.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬åˆ é™¤æˆåŠŸ.\u0026#39;, \u0026#39;Failed to delete file version.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬åˆ é™¤å¤±è´¥.\u0026#39;, \u0026#39;You are not allowed to lock/unlock files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåœ¨æ­¤ç›®å½•å†…é”å®š/è§£é”æ–‡ä»¶.\u0026#39;, \u0026#39;The file has been locked.\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶å·²è¢«é”å®š.\u0026#39;, \u0026#39;The file has been unlocked.\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶å·²è§£é”.\u0026#39;, \u0026#39;Failed to lock file!\u0026#39; =\u0026gt; \u0026#39;é”å®šæ–‡ä»¶å¤±è´¥!\u0026#39;, \u0026#39;Failed to unlock file!\u0026#39; =\u0026gt; \u0026#39;è§£é”æ–‡ä»¶å¤±è´¥!\u0026#39;, \u0026#39;File is locked by another user.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²è¢«å…¶ä»–äººé”å®š.\u0026#39;, \u0026#39;File is already locked by somebody else.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²è¢«å…¶ä»–äººé”å®š.\u0026#39;, \u0026#39;Modified by\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹è€…\u0026#39;, \u0026#39;Size\u0026#39; =\u0026gt; \u0026#39;å¤§å°\u0026#39;, \u0026#39;The file is not locked.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¿˜æœªè¢«é”å®š\u0026#39;, \u0026#39;The file is already locked.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ç»è¢«é”å®š\u0026#39;, ), \u0026#39;Searching\u0026#39; =\u0026gt; array ( \u0026#39;File name\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å\u0026#39;, \u0026#39;File contents\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å†…å®¹\u0026#39;, \u0026#39;Look in\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹\u0026#39;, \u0026#39;Metadata Field\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®åŸŸ\u0026#39;, \u0026#39;Metadata\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®\u0026#39;, \u0026#39;Select...\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©...\u0026#39;, \u0026#39;Path\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„\u0026#39;, \u0026#39;Searching...\u0026#39; =\u0026gt; \u0026#39;æœç´¢...\u0026#39;, \u0026#39;Search\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;- None Selected -\u0026#39; =\u0026gt; \u0026#39;- æœªé€‰å®š -\u0026#39;, \u0026#39;Metadata Type\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®ç±»å‹\u0026#39;, \u0026#39;Field Value\u0026#39; =\u0026gt; \u0026#39;å­—æ®µå€¼\u0026#39;, ), \u0026#39;Custom Actions: CloudConvert\u0026#39; =\u0026gt; array ( \u0026#39;API Key\u0026#39; =\u0026gt; \u0026#39;APIå¯†é’¥ \u0026#39;, \u0026#39;Convert \u0026#34;%1\u0026#34; to:\u0026#39; =\u0026gt; \u0026#39;å°†â€œ%1â€è½¬æ¢ä¸ºï¼š \u0026#39;, \u0026#39;No conversion option found for the \u0026#34;%1\u0026#34; file type.\u0026#39; =\u0026gt; \u0026#39;æ‰¾ä¸åˆ°â€œ%1â€æ–‡ä»¶ç±»å‹çš„è½¬æ¢é€‰é¡¹ã€‚\u0026#39;, ), \u0026#39;File Comments\u0026#39; =\u0026gt; array ( \u0026#39;Author\u0026#39; =\u0026gt; \u0026#39;ä½œè€…\u0026#39;, \u0026#39;Comment\u0026#39; =\u0026gt; \u0026#39;è¯„è®º\u0026#39;, \u0026#39;Add comment\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ è¯„è®º\u0026#39;, \u0026#39;Type in your comment\u0026#39; =\u0026gt; \u0026#39;è¾“å…¥æ‚¨çš„è¯„è®º\u0026#39;, \u0026#39;Remove comment\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤è¯„è®º\u0026#39;, \u0026#39;You are not allowed to read comments.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒè¯»å–è¯„è®º\u0026#39;, \u0026#39;You are not allowed to add comments.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒæ·»åŠ è¯„è®º\u0026#39;, \u0026#39;You are not allowed to remove comments.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåˆ é™¤è¯„è®º\u0026#39;, \u0026#39;You are not allowed to add comments to files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒæ·»åŠ æ­¤ç›®å½•çš„è¯„è®ºã€‚\u0026#39;, \u0026#39;You are not allowed to remove comments from files in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåˆ é™¤æ­¤ç›®å½•çš„è¯„è®ºã€‚\u0026#39;, \u0026#39;You are allowed to delete only your own comments from a shared file.\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä»…å¯åˆ é™¤å…±äº«æ–‡ä»¶ä¸­æ‚¨è‡ªå·±çš„è¯„è®º.\u0026#39;, \u0026#39;You are not allowed to read comments in this shared folder.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒè¯»å–æ­¤ç›®å½•çš„è¯„è®ºã€‚\u0026#39;, \u0026#39;No comments available for this file.\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰è¯„è®ºã€‚\u0026#39;, \u0026#39;Comment successfully added.\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºæˆåŠŸ.\u0026#39;, \u0026#39;Failed to add comment to file.\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºå¤±è´¥.\u0026#39;, \u0026#39;Comment successfully removed.\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºåˆ é™¤æˆåŠŸ.\u0026#39;, \u0026#39;Failed to remove comment from file.\u0026#39; =\u0026gt; \u0026#39;è¯„è®ºåˆ é™¤å¤±è´¥.\u0026#39;, ), \u0026#39;Custom Actions: Text Editor\u0026#39; =\u0026gt; array ( \u0026#39;Text Editor\u0026#39; =\u0026gt; \u0026#39;æ–‡æœ¬ç¼–è¾‘å™¨\u0026#39;, \u0026#39;Text File\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ–‡æœ¬æ–‡ä»¶\u0026#39;, \u0026#39;Untitled.txt\u0026#39; =\u0026gt; \u0026#39;æœªå‘½å.txt\u0026#39;, \u0026#39;Save\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Saving...\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜ä¸­...\u0026#39;, \u0026#39;File successfully saved\u0026#39; =\u0026gt; \u0026#39;æ–‡æœ¬æ–‡ä»¶ä¿å­˜æˆåŠŸ\u0026#39;, \u0026#39;File successfully created\u0026#39; =\u0026gt; \u0026#39;æ–‡æœ¬æ–‡ä»¶åˆ›å»ºæˆåŠŸ\u0026#39;, \u0026#39;A file with that name already exists\u0026#39; =\u0026gt; \u0026#39;åŒåæ–‡ä»¶å·²å­˜åœ¨\u0026#39;, \u0026#39;Please type a file name\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–‡ä»¶å\u0026#39;, \u0026#39;Other..\u0026#39; =\u0026gt; \u0026#39;å…¶ä»–..\u0026#39;, \u0026#39;New Text File.txt\u0026#39; =\u0026gt; \u0026#39;æ–°å»ºæ–‡æœ¬æ–‡ä»¶.txt\u0026#39;, \u0026#39;Would you like to reload the file using the selected charset? Any unsaved changes will be lost.\u0026#39; =\u0026gt; \u0026#39;ä½ æƒ³ä½¿ç”¨é€‰å®šçš„å­—ç¬¦é›†é‡æ–°åŠ è½½æ–‡ä»¶ï¼Ÿä»»ä½•æœªä¿å­˜çš„æ›´æ”¹éƒ½å°†ä¸¢å¤±ã€‚ \u0026#39;, \u0026#39;Save and close\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜å¹¶å…³é—­\u0026#39;, \u0026#39;Word wrap\u0026#39; =\u0026gt; \u0026#39;è‡ªåŠ¨æ¢è¡Œ \u0026#39;, \u0026#39;The file type is not allowed.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹æ˜¯ä¸å…è®¸çš„ã€‚ \u0026#39;, \u0026#39;Close\u0026#39; =\u0026gt; \u0026#39;å…³é—­\u0026#39;, ), \u0026#39;Custom Actions: Zoho\u0026#39; =\u0026gt; array ( \u0026#39;API key\u0026#39; =\u0026gt; \u0026#39;APIå¯†é’¥ \u0026#39;, \u0026#39;Zoho Editor\u0026#39; =\u0026gt; \u0026#39;Zoho ç¼–è¾‘å™¨\u0026#39;, \u0026#39;Document with Zoho\u0026#39; =\u0026gt; \u0026#39;Zohoæ–‡æ¡£\u0026#39;, \u0026#39;Untitled.docx\u0026#39; =\u0026gt; \u0026#39;æœªå‘½å.docx\u0026#39;, \u0026#39;Blank file created successfully\u0026#39; =\u0026gt; \u0026#39;ç©ºæ–‡ä»¶åˆ›å»ºæˆåŠŸ\u0026#39;, ), \u0026#39;Custom Actions: File Encryption\u0026#39; =\u0026gt; array ( \u0026#39;Path to AESCrypt\u0026#39; =\u0026gt; \u0026#39;AESCryptçš„è·¯å¾„ \u0026#39;, \u0026#39;Download and install AESCrypt from \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;\tä»\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;æ­¤å¤„\u0026lt;/a\u0026gt;ä¸‹è½½å¹¶å®‰è£…AESCryptã€‚\u0026#39;, \u0026#39;AES File Encryption\u0026#39; =\u0026gt; \u0026#39;AESæ–‡ä»¶åŠ å¯†\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Decrypt \u0026#34;%1\u0026#34;\u0026#39; =\u0026gt; \u0026#39;è§£å¯† â€œ%1â€\u0026#39;, \u0026#39;Encrypt \u0026#34;%1\u0026#34;\u0026#39; =\u0026gt; \u0026#39;åŠ å¯† â€œ%1â€\u0026#39;, \u0026#39;Processing file...\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤„ç†ä¸­...\u0026#39;, \u0026#39;The user doesn\\\u0026#39;t have permission to use this function!\u0026#39; =\u0026gt; \u0026#39;è¿™ä¸ªç”¨æˆ·æ— æƒä½¿ç”¨è¯¥åŠŸèƒ½ï¼\u0026#39;, \u0026#39;The selected file was successfully decrypted.\u0026#39; =\u0026gt; \u0026#39;é€‰ä¸­çš„æ–‡ä»¶å·²è¢«æˆåŠŸè§£å¯†ã€‚\u0026#39;, \u0026#39;Failed to decrypt the selected file!\u0026#39; =\u0026gt; \u0026#39;é€‰ä¸­çš„æ–‡ä»¶æ— æ³•æˆåŠŸè§£å¯†ï¼\u0026#39;, \u0026#39;A file named \u0026#34;%1\u0026#34; already exists!\u0026#39; =\u0026gt; \u0026#39;ä¸€ä¸ªå«åšâ€œ%1â€çš„æ–‡ä»¶å·²ç»å­˜åœ¨ï¼\u0026#39;, \u0026#39;The selected file was successfully encrypted.\u0026#39; =\u0026gt; \u0026#39;é€‰ä¸­çš„æ–‡ä»¶å·²è¢«æˆåŠŸåŠ å¯†ã€‚\u0026#39;, \u0026#39;Failed to encrypt the selected file!\u0026#39; =\u0026gt; \u0026#39;é€‰ä¸­çš„æ–‡ä»¶æ— æ³•æˆåŠŸåŠ å¯†ï¼\u0026#39;, \u0026#39;The selected file was not found!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•æ‰¾åˆ°é€‰ä¸­çš„æ–‡ä»¶ï¼\u0026#39;, \u0026#39;Confirm password\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤å¯†ç \u0026#39;, \u0026#39;Delete the source file\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤æºæ–‡ä»¶\u0026#39;, \u0026#39;Please type the password\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å¯†ç \u0026#39;, \u0026#39;Please confirm the password\u0026#39; =\u0026gt; \u0026#39;è¯·å†æ¬¡è¾“å…¥å¯†ç \u0026#39;, ), \u0026#39;Admin\u0026#39; =\u0026gt; array ( \u0026#39;Control Panel\u0026#39; =\u0026gt; \u0026#39;æ§åˆ¶é¢æ¿\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Import users\u0026#39; =\u0026gt; \u0026#39;å¯¼å…¥ç”¨æˆ·\u0026#39;, \u0026#39;Activity logs\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;E-mail notifications\u0026#39; =\u0026gt; \u0026#39;E-mailé€šçŸ¥\u0026#39;, \u0026#39;Configuration\u0026#39; =\u0026gt; \u0026#39;ç³»ç»Ÿé…ç½®\u0026#39;, \u0026#39;Configure system options.\u0026#39; =\u0026gt; \u0026#39;ç³»ç»Ÿé€‰é¡¹.\u0026#39;, \u0026#39;Interface\u0026#39; =\u0026gt; \u0026#39;ç•Œé¢é€‰é¡¹\u0026#39;, \u0026#39;Login and registration\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç™»å½•å’Œæ³¨å†Œ\u0026#39;, \u0026#39;E-mail\u0026#39; =\u0026gt; \u0026#39;E-mailè®¾ç½®\u0026#39;, \u0026#39;Indexing\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç´¢å¼•å’Œæœç´¢\u0026#39;, \u0026#39;Misc options\u0026#39; =\u0026gt; \u0026#39;Miscé€‰é¡¹\u0026#39;, \u0026#39;Metadata\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®\u0026#39;, \u0026#39;Software update\u0026#39; =\u0026gt; \u0026#39;è½¯ä»¶å‡çº§\u0026#39;, \u0026#39;Software licensing\u0026#39; =\u0026gt; \u0026#39;è½¯ä»¶è®¸å¯è¯\u0026#39;, \u0026#39;Tools\u0026#39; =\u0026gt; \u0026#39;å·¥å…·\u0026#39;, \u0026#39;Storage usage\u0026#39; =\u0026gt; \u0026#39;ç£ç›˜é…é¢\u0026#39;, \u0026#39;Traffic quota usage\u0026#39; =\u0026gt; \u0026#39;æµé‡é…é¢\u0026#39;, \u0026#39;Login as\u0026#39; =\u0026gt; \u0026#39;ç™»å½•ä¸º\u0026#39;, \u0026#39;Archive logs\u0026#39; =\u0026gt; \u0026#39;å½’æ¡£æ—¥å¿—\u0026#39;, \u0026#39;Roles\u0026#39; =\u0026gt; \u0026#39;è§’è‰²\u0026#39;, \u0026#39;Groups\u0026#39; =\u0026gt; \u0026#39;ç»„\u0026#39;, \u0026#39;Thumbnails and preview\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é¢„è§ˆå’Œç¼©ç•¥å›¾\u0026#39;, \u0026#39;File Manager\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç®¡ç†å™¨\u0026#39;, \u0026#39;Sign out\u0026#39; =\u0026gt; \u0026#39;ç™»å‡º\u0026#39;, \u0026#39;Displaying records {0} - {1} of {2}\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºè®°å½• {0} - {1} å…± {2}\u0026#39;, \u0026#39;No records to display\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰è¦æ˜¾ç¤ºçš„è®°å½•\u0026#39;, \u0026#39;Page\u0026#39; =\u0026gt; \u0026#39;é¡µ\u0026#39;, \u0026#39;of {0}\u0026#39; =\u0026gt; \u0026#39;å…± {0}\u0026#39;, \u0026#39;First Page\u0026#39; =\u0026gt; \u0026#39;ç¬¬ä¸€é¡µ\u0026#39;, \u0026#39;Last Page\u0026#39; =\u0026gt; \u0026#39;æœ€åä¸€é¡µ\u0026#39;, \u0026#39;Next Page\u0026#39; =\u0026gt; \u0026#39;ä¸‹ä¸€é¡µ\u0026#39;, \u0026#39;Previous Page\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€é¡µ\u0026#39;, \u0026#39;Refresh\u0026#39; =\u0026gt; \u0026#39;åˆ·æ–°\u0026#39;, \u0026#39;Field sets\u0026#39; =\u0026gt; \u0026#39;å­—æ®µé›†\u0026#39;, \u0026#39;File types\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;Open Web Link\u0026#39; =\u0026gt; \u0026#39;æ‰“å¼€Web Links\u0026#39;, \u0026#39;Please confirm web link deletion\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤åˆ é™¤Web Links\u0026#39;, \u0026#39;Add\u0026#39; =\u0026gt; \u0026#39;æ–°å»º\u0026#39;, \u0026#39;Edit\u0026#39; =\u0026gt; \u0026#39;ä¿®æ”¹\u0026#39;, \u0026#39;Search\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;Quick search\u0026#39; =\u0026gt; \u0026#39;å¿«é€Ÿæœç´¢\u0026#39;, \u0026#39;Save changes\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜æ›´æ”¹\u0026#39;, \u0026#39;Add Groups\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç»„\u0026#39;, \u0026#39;Add Users\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç”¨æˆ·\u0026#39;, \u0026#39;Remove Selected\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤æ‰€é€‰\u0026#39;, \u0026#39;Select Users\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©ç”¨æˆ·\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Delete users?\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤åˆ é™¤é€‰ä¸­çš„ç”¨æˆ·\u0026#39;, \u0026#39;Permanently delete the users home folders.\u0026#39; =\u0026gt; \u0026#39;æ°¸ä¹…åˆ é™¤ç”¨æˆ·ä¸»ç›®å½•\u0026#39;, \u0026#39;Third party services\u0026#39; =\u0026gt; \u0026#39;ç¬¬ä¸‰æ–¹æœåŠ¡\u0026#39;, \u0026#39;Enable Pusher.com Integration\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨ä¸Pusher.comçš„é›†æˆ\u0026#39;, \u0026#39;Number of days to keep the user activity log entries\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ—¥å¿—ä¿ç•™å¤©æ•°\u0026#39;, \u0026#39;Number of days to keep the file activity log entries\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ—¥å¿—ä¿ç•™å¤©æ•°\u0026#39;, \u0026#39;Searching\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;You will find the option under the Permissions tab.\u0026#39; =\u0026gt; \u0026#39;æ‚¨å°†åœ¨â€œæƒé™â€é€‰é¡¹å¡ä¸‹æ‰¾åˆ°è¯¥é€‰é¡¹ã€‚\u0026#39;, \u0026#39;To start, configure the Superuser account with a home folder.\u0026#39; =\u0026gt; \u0026#39;é¦–å…ˆï¼Œä½¿ç”¨ä¸»æ–‡ä»¶å¤¹é…ç½®è¶…çº§ç”¨æˆ·å¸æˆ·ã€‚\u0026#39;, \u0026#39;Welcome to FileRun!\u0026#39; =\u0026gt; \u0026#39;æ¬¢è¿ä½¿ç”¨FileRunï¼\u0026#39;, \u0026#39;View activity log\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;View\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹\u0026#39;, \u0026#39;Password policy\u0026#39; =\u0026gt; \u0026#39;å¯†ç ç­–ç•¥\u0026#39;, \u0026#39;Export users\u0026#39; =\u0026gt; \u0026#39;å¯¼å‡ºç”¨æˆ·\u0026#39;, \u0026#39;Clients\u0026#39; =\u0026gt; \u0026#39;å®¢æˆ·ç«¯\u0026#39;, \u0026#39;Deleting web links...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨åˆ é™¤å…±äº«é“¾æ¥...\u0026#39;, \u0026#39;Web link successfully deleted.\u0026#39; =\u0026gt; \u0026#39;æˆåŠŸåˆ é™¤å…±äº«é“¾æ¥\u0026#39;, \u0026#39;No web link has been deleted!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰å…±äº«é“¾æ¥è¢«åˆ é™¤ï¼\u0026#39;, \u0026#39;%1 web links successfully deleted.\u0026#39; =\u0026gt; \u0026#39;æˆåŠŸåˆ é™¤ %1 ä¸ªå…±äº«é“¾æ¥\u0026#39;, \u0026#39;Users online\u0026#39; =\u0026gt; \u0026#39;åœ¨çº¿ç”¨æˆ·\u0026#39;, \u0026#39;There is only one user online at this moment\u0026#39; =\u0026gt; \u0026#39;å½“å‰åªæœ‰ä¸€ä¸ªåœ¨çº¿ç”¨æˆ·\u0026#39;, \u0026#39;There are %1 users currently online\u0026#39; =\u0026gt; \u0026#39;å½“å‰æœ‰%1åœ¨çº¿ç”¨æˆ·\u0026#39;, \u0026#39;There are no other users currently online\u0026#39; =\u0026gt; \u0026#39;å½“å‰æ²¡æœ‰åœ¨çº¿ç”¨æˆ·\u0026#39;, \u0026#39;Options\u0026#39; =\u0026gt; \u0026#39;é€‰é¡¹\u0026#39;, \u0026#39;Settings\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®\u0026#39;, \u0026#39;Logs\u0026#39; =\u0026gt; \u0026#39;æ—¥å¿—\u0026#39;, \u0026#39;\u0026#34;Open with..\u0026#34; options\u0026#39; =\u0026gt; \u0026#39;\u0026#34;æ‰“å¼€æ–¹å¼\u0026#34;é€‰é¡¹\u0026#39;, \u0026#39;Defaults\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤\u0026#39;, \u0026#39;Files\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶\u0026#39;, \u0026#39;Security\u0026#39; =\u0026gt; \u0026#39;å®‰å…¨\u0026#39;, \u0026#39;More\u0026#39; =\u0026gt; \u0026#39;æ›´å¤š\u0026#39;, \u0026#39;Notifications\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥\u0026#39;, \u0026#39;Add new\u0026#39; =\u0026gt; \u0026#39;æ–°å»º\u0026#39;, \u0026#39;Calculate all\u0026#39; =\u0026gt; \u0026#39;è®¡ç®—å…¨éƒ¨\u0026#39;, ), \u0026#39;Admin: Setup\u0026#39; =\u0026gt; array ( \u0026#39;Music\u0026#39; =\u0026gt; \u0026#39;éŸ³ä¹\u0026#39;, \u0026#39;Upload language file\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ è¯­è¨€æ–‡ä»¶\u0026#39;, \u0026#39;Application title\u0026#39; =\u0026gt; \u0026#39;é¡µé¢æ ‡é¢˜\u0026#39;, \u0026#39;Logo URL\u0026#39; =\u0026gt; \u0026#39;ç™»é™†URL\u0026#39;, \u0026#39;Welcome message\u0026#39; =\u0026gt; \u0026#39;æ¬¢è¿æ¶ˆæ¯ \u0026#39;, \u0026#39;Default display mode\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤æŸ¥çœ‹æ¨¡å¼\u0026#39;, \u0026#39;Detailed list\u0026#39; =\u0026gt; \u0026#39;åˆ—è¡¨æ–¹å¼\u0026#39;, \u0026#39;Thumbnails\u0026#39; =\u0026gt; \u0026#39;ç¼©ç•¥æ–¹å¼\u0026#39;, \u0026#39;Default\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤\u0026#39;, \u0026#39;Enabled\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨\u0026#39;, \u0026#39;Set a number between 1 and 99, representing the quota usage percentage.\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®ä¸€ä¸ª 1 åˆ° 99 ä¹‹é—´çš„æ•°ï¼Œç”¨æ¥è¡¨ç¤ºé…é¢çš„ç™¾åˆ†æ¯”\u0026#39;, \u0026#39;Default language\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤è¯­è¨€\u0026#39;, \u0026#39;Display language menu\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºè¯­è¨€èœå•\u0026#39;, \u0026#39;Double-click files action\u0026#39; =\u0026gt; \u0026#39;åŒå‡»æ–‡ä»¶åŠ¨ä½œ\u0026#39;, \u0026#39;open preview\u0026#39; =\u0026gt; \u0026#39;æ‰“å¼€é¢„è§ˆ\u0026#39;, \u0026#39;open in browser\u0026#39; =\u0026gt; \u0026#39;åœ¨æµè§ˆå™¨å†…æ‰“å¼€\u0026#39;, \u0026#39;prompt to save\u0026#39; =\u0026gt; \u0026#39;æç¤ºä¿å­˜\u0026#39;, \u0026#39;display contextual menu\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•\u0026#39;, \u0026#39;User Login\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç™»å½•\u0026#39;, \u0026#39;User Registration\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ³¨å†Œ\u0026#39;, \u0026#39;These settings are not available when using a third-part authentication plugin.\u0026#39; =\u0026gt; \u0026#39;å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹éªŒè¯æ’ä»¶æ—¶ï¼Œè¿™äº›è®¾ç½®å°†ä¸èµ·ä½œç”¨\u0026#39;, \u0026#39;Maximum login attempts\u0026#39; =\u0026gt; \u0026#39;æœ€å¤§ç™»å½•å°è¯•æ¬¡æ•°\u0026#39;, \u0026#39;The user\\\u0026#39;s account will be automatically deactivated after the last failed attempt.\u0026#39; =\u0026gt; \u0026#39;æœ€åä¸€æ¬¡ç™»å½•å°è¯•åï¼Œç”¨æˆ·è´¦æˆ·å°†è‡ªåŠ¨é”å®š\u0026#39;, \u0026#39;The recommended value is 4.\u0026#39; =\u0026gt; \u0026#39;æ¨èå€¼ä¸º 4\u0026#39;, \u0026#39;Enable user registration.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·æ³¨å†Œ\u0026#39;, \u0026#39;E-mail account confirmation links.\u0026#39; =\u0026gt; \u0026#39;E-mailè´¦æˆ·ç¡®è®¤é“¾æ¥\u0026#39;, \u0026#39;New accounts require admin activation.\u0026#39; =\u0026gt; \u0026#39;æ–°è´¦æˆ·éœ€è¦ç®¡ç†å‘˜æ¿€æ´»\u0026#39;, \u0026#39;Automatically generate the passwords.\u0026#39; =\u0026gt; \u0026#39;è‡ªåŠ¨ç”Ÿæˆå¯†ç .\u0026#39;, \u0026#39;Required fields\u0026#39; =\u0026gt; \u0026#39;å¿…å¡«é¡¹\u0026#39;, \u0026#39;ImageMagick support\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨ ImageMagick æ”¯æŒ\u0026#39;, \u0026#39;Path to \u0026#34;magick\u0026#34; or \u0026#34;convert\u0026#34; binary\u0026#39; =\u0026gt; \u0026#39;ImageMagick \u0026#34;è½¬åŒ–\u0026#34; äºŒè¿›åˆ¶è·¯å¾„\u0026#39;, \u0026#39;Thumbnail size\u0026#39; =\u0026gt; \u0026#39;ç¼©ç•¥å›¾å¤§å°\u0026#39;, \u0026#39;Enable FFmpeg support.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨å¯¹FFmpegçš„æ”¯æŒ\u0026#39;, \u0026#39;Path to FFmpeg binary\u0026#39; =\u0026gt; \u0026#39;FFmpegçš„è·¯å¾„\u0026#39;, \u0026#39;Generate FFmpeg thumbnails for the following file types\u0026#39; =\u0026gt; \u0026#39;ä¸ºä¸‹åˆ—æ–‡ä»¶åˆ›å»ºFFmpegç¼©ç•¥å›¾\u0026#39;, \u0026#39;Use a SMTP server.\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨SMTPæœåŠ¡å™¨\u0026#39;, \u0026#39;SMTP server\u0026#39; =\u0026gt; \u0026#39;SMTPæœåŠ¡å™¨\u0026#39;, \u0026#39;SMTP requires authentication.\u0026#39; =\u0026gt; \u0026#39;SMTPéœ€è¦èº«ä»½éªŒè¯.\u0026#39;, \u0026#39;SMTP username\u0026#39; =\u0026gt; \u0026#39;SMTP ç”¨æˆ·å\u0026#39;, \u0026#39;SMTP password\u0026#39; =\u0026gt; \u0026#39;SMTP å¯†ç \u0026#39;, \u0026#39;Notifications\u0026#39; =\u0026gt; \u0026#39;E-mail é€šçŸ¥\u0026#39;, \u0026#39;From e-mail address\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤å‘é€è€…ç”µå­é‚®ä»¶åœ°å€\u0026#39;, \u0026#39;Instant email notifications\u0026#39; =\u0026gt; \u0026#39;ç«‹å³E-mailé€šçŸ¥\u0026#39;, \u0026#39;Uncheck this option if you will be running the notification script using a scheduled task.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœæ‚¨ä½¿ç”¨è®¡åˆ’ä»»åŠ¡é€šçŸ¥è„šæœ¬è¯·å‹¿é€‰æ‹©æ­¤é¡¹.\u0026#39;, \u0026#39;Allow users to set notification settings to folders.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·ä¸ºç›®å½•è®¾ç½®æç¤ºæ¶ˆæ¯\u0026#39;, \u0026#39;Enable content indexing for text documents\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ–‡ä»¶ç´¢å¼•\u0026#39;, \u0026#39;File indexing\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç´¢å¼•\u0026#39;, \u0026#39;Metadata\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®\u0026#39;, \u0026#39;Allow users to change their passwords.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·ä¿®æ”¹å¯†ç .\u0026#39;, \u0026#39;Allow users to import e-mail attachments.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·å¯¼å…¥E-mailé™„ä»¶\u0026#39;, \u0026#39;Number of old versions to keep for each file\u0026#39; =\u0026gt; \u0026#39;ä¸ºæ¯ä¸ªæ–‡ä»¶ä¿ç•™çš„æ—§ç‰ˆæœ¬æ•°é‡ \u0026#39;, \u0026#39;Redirect URL after logout\u0026#39; =\u0026gt; \u0026#39;æ³¨é”€åé‡å®šå‘URL\u0026#39;, \u0026#39;Users quota warning level\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·é…é¢æŠ¥è­¦çº§åˆ«\u0026#39;, \u0026#39;Settings successfully saved.\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®å·²ä¿å­˜\u0026#39;, \u0026#39;Metadata search mode\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®æœç´¢æ¨¡å¼\u0026#39;, \u0026#39;Broad match\u0026#39; =\u0026gt; \u0026#39;æ¨¡ç³ŠåŒ¹é…\u0026#39;, \u0026#39;Exact match\u0026#39; =\u0026gt; \u0026#39;ç²¾ç¡®åŒ¹é…\u0026#39;, \u0026#39;Check\u0026#39; =\u0026gt; \u0026#39;æ£€æŸ¥\u0026#39;, \u0026#39;Regular\u0026#39; =\u0026gt; \u0026#39;å®šæœŸ\u0026#39;, \u0026#39;Allow users to reset their passwords.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·é‡ç½®å¯†ç \u0026#39;, \u0026#39;Force users to change their passwords after reset.\u0026#39; =\u0026gt; \u0026#39;å¼ºåˆ¶ç”¨æˆ·åœ¨é‡ç½®å¯†ç åä¿®æ”¹æ–°å¯†ç ã€‚\u0026#39;, \u0026#39;Example list:\u0026#39; =\u0026gt; \u0026#39;ç¤ºä¾‹:\u0026#39;, \u0026#39;Settings saved\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®å·²ä¿å­˜\u0026#39;, \u0026#39;Title\u0026#39; =\u0026gt; \u0026#39;ç™»é™†ç•Œé¢æ ‡é¢˜\u0026#39;, \u0026#39;Blocked file types\u0026#39; =\u0026gt; \u0026#39;é˜»æ­¢çš„æ–‡ä»¶ç±»å‹ \u0026#39;, \u0026#39;User Logout\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç™»å‡º\u0026#39;, \u0026#39;Enable \u0026lt;a href=\u0026#34;http://en.wikipedia.org/wiki/CAPTCHA\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;CAPTCHA\u0026lt;/a\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨\u0026lt;a href=\u0026#34;http://en.wikipedia.org/wiki/CAPTCHA\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;CAPTCHA\u0026lt;/a\u0026gt;.\u0026#39;, \u0026#39;Default groups\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤ç»„\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶åœ°å€\u0026#39;, \u0026#39;Company\u0026#39; =\u0026gt; \u0026#39;å…¬å¸\u0026#39;, \u0026#39;Web site address\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™åœ°å€\u0026#39;, \u0026#39;Comment\u0026#39; =\u0026gt; \u0026#39;è¯„è®º\u0026#39;, \u0026#39;Disable the file activity logs.\u0026#39; =\u0026gt; \u0026#39;ç¦ç”¨æ–‡ä»¶æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;Applies only to first time visitors. Your language preference has already been saved to your browser. You will not see a change if you select a different option here and logout, unless you specifically change it from the login form.\u0026#39; =\u0026gt; \u0026#39;ä»…é€‚ç”¨äºé¦–æ¬¡è®¿é—®è€…ã€‚æ‚¨çš„è¯­è¨€åå¥½è®¾ç½®å·²ä¿å­˜åˆ°æ‚¨çš„æµè§ˆå™¨ä¸­ã€‚å¦‚æœæ‚¨åœ¨æ­¤å¤„é€‰æ‹©å…¶ä»–é€‰é¡¹å¹¶æ³¨é”€ï¼Œåˆ™ä¸ä¼šçœ‹åˆ°æ›´æ”¹ï¼Œé™¤éæ‚¨ä»ç™»å½•è¡¨å•ä¸­ä¸“é—¨æ›´æ”¹å®ƒã€‚\u0026#39;, \u0026#39;Bitly Access Token\u0026#39; =\u0026gt; \u0026#39;ä»¤ç‰Œ\u0026#39;, \u0026#39;Host URL\u0026#39; =\u0026gt; \u0026#39;ä¸»æœºURL\u0026#39;, \u0026#39;Default search criteria\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤æœç´¢æ¨¡å¼\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Contents\u0026#39; =\u0026gt; \u0026#39;å†…å®¹\u0026#39;, \u0026#39;Upload file..\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶...\u0026#39;, \u0026#39;Failed to upload language file: %1\u0026#39; =\u0026gt; \u0026#39;è¯­è¨€æ–‡ä»¶ %1 ä¸Šä¼ å¤±è´¥\u0026#39;, \u0026#39;%1 translation successfully uploaded\u0026#39; =\u0026gt; \u0026#39;è¯­è¨€æ–‡ä»¶ %1 ä¸Šä¼ æˆåŠŸ\u0026#39;, \u0026#39;%1 translation successfully updated\u0026#39; =\u0026gt; \u0026#39;è¯­è¨€æ–‡ä»¶ %1 æ›´æ–°æˆåŠŸ\u0026#39;, \u0026#39;Failed to upload file \u0026#34;%1\u0026#34;: %2\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶ \u0026#34;%1\u0026#34;: %2 å¤±è´¥\u0026#39;, \u0026#39;Invalid file name!\u0026#39; =\u0026gt; \u0026#39;æ— æ•ˆçš„æ–‡ä»¶å!\u0026#39;, \u0026#39;The filename should not contain space characters!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶åä¸èƒ½åŒ…å«ç©ºæ ¼å­—ç¬¦\u0026#39;, \u0026#39;Please upload only .php FileRun-specific language files!\u0026#39; =\u0026gt; \u0026#39;è¯·ä»…é€‰æ‹© text æ–‡ä»¶ï¼\u0026#39;, \u0026#39;Disables users access and WebLinks.\u0026lt;br\u0026gt;The superuser still has normal access.\u0026#39; =\u0026gt; \u0026#39;ç¦ç”¨ç”¨æˆ·è®¿é—®å’Œåˆ†äº«é“¾æ¥ã€‚\u0026lt;br\u0026gt;è¶…çº§ç”¨æˆ·ä»ç„¶å…·æœ‰æ­£å¸¸çš„è®¿é—®æƒé™\u0026#39;, \u0026#39;Maintenance message to users\u0026#39; =\u0026gt; \u0026#39;å¯¹ç”¨æˆ·çš„ç»´æŠ¤ä¿¡æ¯\u0026#39;, \u0026#39;Maintenance message to public\u0026#39; =\u0026gt; \u0026#39;å…¬å¼€çš„ç»´æŠ¤ä¿¡æ¯\u0026#39;, \u0026#39;Allow the users to edit the e-mail address they are sending files from.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·ç¼–è¾‘ä»–ä»¬å‘é€æ–‡ä»¶çš„ç”µå­é‚®ä»¶åœ°å€\u0026#39;, \u0026#39;Test settings\u0026#39; =\u0026gt; \u0026#39;æµ‹è¯•è®¾ç½®\u0026#39;, \u0026#39;Please type a hostname\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ä¸»æœºå\u0026#39;, \u0026#39;Please type a port number\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç«¯å£å·\u0026#39;, \u0026#39;Please type a username\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”¨æˆ·å\u0026#39;, \u0026#39;The SMTP settings have been successfully tested\u0026#39; =\u0026gt; \u0026#39;SMTPè®¾ç½®æµ‹è¯•é€šè¿‡\u0026#39;, \u0026#39;The SMTP authentication failed: %1\u0026#39; =\u0026gt; \u0026#39;SMTPè®¤è¯å¤±è´¥:%1\u0026#39;, \u0026#39;The SMTP connection test failed: %1\u0026#39; =\u0026gt; \u0026#39;SMTPè¿æ¥æµ‹è¯•å¤±è´¥:%1\u0026#39;, \u0026#39;Password policy\u0026#39; =\u0026gt; \u0026#39;å¯†ç ç­–ç•¥\u0026#39;, \u0026#39;Minimum password length\u0026#39; =\u0026gt; \u0026#39;æœ€å°å¯†ç é•¿åº¦\u0026#39;, \u0026#39;Recommended value:\u0026#39; =\u0026gt; \u0026#39;æ¨èå€¼:\u0026#39;, \u0026#39;Passwords should contain both letters and digits\u0026#39; =\u0026gt; \u0026#39;å¯†ç åº”åŒæ—¶åŒ…å«æ•°å­—å’Œå­—æ¯\u0026#39;, \u0026#39;Passwords should contain at least one uppercase letter\u0026#39; =\u0026gt; \u0026#39;å¯†ç è‡³å°‘åŒ…å«ä¸€ä¸ªå¤§å†™å­—æ¯\u0026#39;, \u0026#39;Passwords should contain at least one special character\u0026#39; =\u0026gt; \u0026#39;å¯†ç éœ€è¦åŒ…å«è‡³å°‘ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦\u0026#39;, \u0026#39;Special characters:\u0026#39; =\u0026gt; \u0026#39;ç‰¹æ®Šå­—ç¬¦:\u0026#39;, \u0026#39;Passwords should not contain keyboard row sequences\u0026#39; =\u0026gt; \u0026#39;å¯†ç ä¸åº”è¯¥åŒ…å«é”®ç›˜è¡Œåºåˆ—\u0026#39;, \u0026#39;Example sequences:\u0026#39; =\u0026gt; \u0026#39;ç¤ºä¾‹åºåˆ—ï¼š\u0026#39;, \u0026#39;Prevent user information to be used as part of the password\u0026#39; =\u0026gt; \u0026#39;é˜²æ­¢å°†ç”¨æˆ·ä¿¡æ¯ç”¨ä½œå¯†ç çš„ä¸€éƒ¨åˆ†\u0026#39;, \u0026#39;Number of days users can use the same passwords\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä½¿ç”¨ç›¸åŒå¯†ç çš„å¤©æ•° \u0026#39;, \u0026#39;The users will be asked to change their passwords at this interval.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å°†è¢«è¦æ±‚åœ¨æ­¤é—´éš”æ›´æ”¹å¯†ç ã€‚ \u0026#39;, \u0026#39;Third-party authentication\u0026#39; =\u0026gt; \u0026#39;ç¬¬ä¸‰æ–¹è®¤è¯\u0026#39;, \u0026#39;Enabled plugin\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ’ä»¶\u0026#39;, \u0026#39;Use this application\\\u0026#39;s own users database\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç”¨æˆ·æ•°æ®åº“ \u0026#39;, \u0026#39;Hide the logout option\u0026#39; =\u0026gt; \u0026#39;éšè—æ³¨é”€é€‰é¡¹ \u0026#39;, \u0026#39;Logout URL\u0026#39; =\u0026gt; \u0026#39;æ³¨é”€ç½‘å€ \u0026#39;, \u0026#39;Sync passwords to the local database\u0026#39; =\u0026gt; \u0026#39;å°†å¯†ç åŒæ­¥åˆ°æœ¬åœ°æ•°æ®åº“ \u0026#39;, \u0026#39;Allows the users to login even after the third-party authentication system is not active or enabled. The passwords are stored encrypted.\u0026#39; =\u0026gt; \u0026#39;å…è®¸ç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹è®¤è¯ç³»ç»Ÿæœªæ¿€æ´»æˆ–å¯ç”¨åç™»å½•ã€‚å¯†ç è¢«åŠ å¯†å­˜å‚¨ã€‚ \u0026#39;, \u0026#39;Automatically create and assign groups\u0026#39; =\u0026gt; \u0026#39;è‡ªåŠ¨åˆ›å»ºå’Œåˆ†é…ç»„ \u0026#39;, \u0026#39;Make sure you have a user account with the superuser\\\u0026#39;s username in the third-party authentication database before disabling this option. If you lock the superuser out, you can disable the plugin by renaming its file.\u0026#39; =\u0026gt; \u0026#39;åœ¨ç¦ç”¨æ­¤é€‰é¡¹ä¹‹å‰ï¼Œè¯·ç¡®ä¿åœ¨ç¬¬ä¸‰æ–¹èº«ä»½éªŒè¯æ•°æ®åº“ä¸­æ‹¥æœ‰è¶…çº§ç”¨æˆ·çš„ç”¨æˆ·åã€‚å¦‚æœæ‚¨é”å®šè¶…çº§ç”¨æˆ·ï¼Œåˆ™å¯ä»¥é€šè¿‡é‡å‘½åå…¶æ–‡ä»¶æ¥ç¦ç”¨è¯¥æ’ä»¶ã€‚ \u0026#39;, \u0026#39;Site key\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™å¯†é’¥ \u0026#39;, \u0026#39;Secret key\u0026#39; =\u0026gt; \u0026#39;å¯†é’¥ \u0026#39;, \u0026#39;Enable \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;reCAPTCHA\u0026lt;/a\u0026gt;\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt; reCAPTCHA \u0026lt;/a\u0026gt; \u0026#39;, \u0026#39;OAuth\u0026#39; =\u0026gt; \u0026#39;OAuth çš„ \u0026#39;, \u0026#39;API \u0026#34;browser\u0026#34; key\u0026#39; =\u0026gt; \u0026#39;APIâ€œæµè§ˆå™¨â€é¡¹ \u0026#39;, \u0026#39;API key\u0026#39; =\u0026gt; \u0026#39;APIå¯†é’¥ \u0026#39;, \u0026#39;Google API credentials can be generated from the \u0026#34;\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Google API Manager\u0026lt;/a\u0026gt;\u0026#34;\u0026#39; =\u0026gt; \u0026#39;Google APIå‡­æ®å¯ä»¥ä»â€œ\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt; Google API Manager \u0026lt;/a\u0026gt;â€è·å–\u0026#39;, \u0026#39;BCC\u0026#39; =\u0026gt; \u0026#39;BCC \u0026#39;, \u0026#39;Specify an e-mail address where to send copies of the notifications\u0026#39; =\u0026gt; \u0026#39;æŒ‡å®šå‘é€é€šçŸ¥å‰¯æœ¬çš„ç”µå­é‚®ä»¶åœ°å€ \u0026#39;, \u0026#39;Message template\u0026#39; =\u0026gt; \u0026#39;æ¶ˆæ¯æ¨¡æ¿\u0026#39;, \u0026#39;Subject template\u0026#39; =\u0026gt; \u0026#39;æ ‡é¢˜æ¨¡æ¿\u0026#39;, \u0026#39;Force users to access via HTTPS.\u0026#39; =\u0026gt; \u0026#39;å¼ºåˆ¶ç”¨æˆ·é€šè¿‡HTTPSè®¿é—®\u0026#39;, \u0026#39;Failed to test HTTPS connection! The settings have not been saved.\u0026#39; =\u0026gt; \u0026#39;æ— æ³•æµ‹è¯•HTTPSè¿æ¥ï¼è®¾ç½®å°šæœªä¿å­˜\u0026#39;, \u0026#39;TLS/SSL connection\u0026#39; =\u0026gt; \u0026#39;TLS/SSLè¿æ¥\u0026#39;, \u0026#39;Enable pngquant support.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨pngquantæ”¯æŒ\u0026#39;, \u0026#39;Path of the pngquant binary\u0026#39; =\u0026gt; \u0026#39;pngquantçš„è·¯å¾„\u0026#39;, \u0026#39;Setting this to 0 disables the versioning system.\u0026#39; =\u0026gt; \u0026#39;å°†å…¶è®¾ç½®ä¸º0å°†ç¦ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ \u0026#39;, \u0026#39;The recommended value is 10.\u0026#39; =\u0026gt; \u0026#39;å»ºè®®å€¼æ˜¯10\u0026#39;, \u0026#39;Show online users\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºåœ¨çº¿ç”¨æˆ·\u0026#39;, \u0026#39;After enabling this option, a section entitled \u0026#34;Users online\u0026#34; will show in the menu next time the control panel is loaded.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ­¤é€‰é¡¹åï¼Œä¸‹ä¸€æ¬¡åŠ è½½æ§åˆ¶é¢æ¿æ—¶ï¼Œä¼šåœ¨èœå•ä¸­æ˜¾ç¤ºæ ‡é¢˜ä¸ºâ€œç”¨æˆ·åœ¨çº¿â€çš„éƒ¨åˆ†\u0026#39;, \u0026#39;New users\u0026#39; =\u0026gt; \u0026#39;æ–°ç”¨æˆ· \u0026#39;, \u0026#39;Inactivity timeout\u0026#39; =\u0026gt; \u0026#39;è¶…æ—¶æ—¶é—´ \u0026#39;, \u0026#39;The user is automatically logged out after this defined number of minutes of inactivity.\u0026#39; =\u0026gt; \u0026#39;åœ¨è§„å®šçš„éæ´»åŠ¨åˆ†é’Ÿæ•°ä¹‹åï¼Œç”¨æˆ·ä¼šè‡ªåŠ¨æ³¨é”€\u0026#39;, \u0026#39;The recommended value is 30.\u0026#39; =\u0026gt; \u0026#39;å»ºè®®å€¼æ˜¯30\u0026#39;, \u0026#39;Security\u0026#39; =\u0026gt; \u0026#39;å®‰å…¨\u0026#39;, \u0026#39;More\u0026#39; =\u0026gt; \u0026#39;æ›´å¤š\u0026#39;, \u0026#39;Hide options\u0026#39; =\u0026gt; \u0026#39;éšè—é€‰é¡¹\u0026#39;, \u0026#39;Default \u0026#34;Open with..\u0026#34; options\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤â€œæ‰“å¼€..â€é€‰é¡¹\u0026#39;, \u0026#39;Defaults\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤\u0026#39;, \u0026#39;Plugins\u0026#39; =\u0026gt; \u0026#39;æ’ä»¶\u0026#39;, \u0026#39;Requires a scheduled task which periodically runs the command line script \u0026#34;cron/process_search_index_queue.php\u0026#34;. Do not enable without setting the task.\u0026#39; =\u0026gt; \u0026#39;éœ€è¦å®šæœŸè¿è¡Œå‘½ä»¤è¡Œè„šæœ¬â€œcron / process_search_index_queue.phpâ€çš„è®¡åˆ’ä»»åŠ¡ã€‚ä¸è¦åœ¨æ²¡æœ‰è®¾ç½®ä»»åŠ¡çš„æƒ…å†µä¸‹å¯ç”¨\u0026#39;, \u0026#39;Exclude files by extension\u0026#39; =\u0026gt; \u0026#39;é€šè¿‡æ‰©å±•æ’é™¤æ–‡ä»¶\u0026#39;, \u0026#39;Path to Apache Tika jar file\u0026#39; =\u0026gt; \u0026#39;Apache Tika jaræ–‡ä»¶çš„è·¯å¾„\u0026#39;, \u0026#39;Stats\u0026#39; =\u0026gt; \u0026#39;ç»Ÿè®¡\u0026#39;, \u0026#39;Number of indexed files\u0026#39; =\u0026gt; \u0026#39;ç´¢å¼•æ–‡ä»¶çš„æ•°é‡ \u0026#39;, \u0026#39;Number of queued operations\u0026#39; =\u0026gt; \u0026#39;æ’é˜Ÿæ“ä½œçš„æ•°é‡ \u0026#39;, \u0026#39;Port number\u0026#39; =\u0026gt; \u0026#39;ç«¯å£å·\u0026#39;, \u0026#39;Apache Tika server hostname\u0026#39; =\u0026gt; \u0026#39;Apache TikaæœåŠ¡å™¨ä¸»æœºå \u0026#39;, \u0026#39;Test server\u0026#39; =\u0026gt; \u0026#39;æµ‹è¯•æœåŠ¡å™¨\u0026#39;, \u0026#39;The default Apache Tika port is %1\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤çš„Apache Tikaç«¯å£æ˜¯ï¼…1 \u0026#39;, \u0026#39;If a hostname is set, then Apache Tika will be used in server mode.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœè®¾ç½®äº†ä¸»æœºåï¼Œé‚£ä¹ˆApache Tikaå°†åœ¨æœåŠ¡å™¨æ¨¡å¼ä¸‹ä½¿ç”¨ã€‚ \u0026#39;, \u0026#39;Set a number between 70 and 100, representing the quota usage percentage.\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®70åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºé…é¢ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚ \u0026#39;, \u0026#39;Enable maintenance mode\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨ç»´æŠ¤æ¨¡å¼\u0026#39;, \u0026#39;Use Gravatar.com for users profile images.\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨ Gravatar.com ä½œä¸ºç”¨æˆ·çš„å¤´åƒ\u0026#39;, \u0026#39;Check path\u0026#39; =\u0026gt; \u0026#39;æ£€æŸ¥è·¯å¾„\u0026#39;, \u0026#39;Allow local user accounts to login\u0026#39; =\u0026gt; \u0026#39;å…è®¸æœ¬åœ°è´¦æˆ·ç™»å½•\u0026#39;, \u0026#39;Role\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç±»å‹\u0026#39;, \u0026#39;IP address limitation\u0026#39; =\u0026gt; \u0026#39;IPåœ°å€é™åˆ¶ \u0026#39;, \u0026#39;Example:\u0026#39; =\u0026gt; \u0026#39;ä¾‹å¦‚:\u0026#39;, \u0026#39;Enable the authentication plugin only for users using certain IP addresses.\u0026#39; =\u0026gt; \u0026#39;ä»…å¯¹ä½¿ç”¨ç‰¹å®šIPåœ°å€çš„ç”¨æˆ·å¯ç”¨è®¤è¯æ’ä»¶\u0026#39;, \u0026#39;There are three possible formats that can be used:\u0026#39; =\u0026gt; \u0026#39;æœ‰ä¸‰ç§å¯èƒ½çš„æ ¼å¼å¯ä»¥ä½¿ç”¨ï¼š \u0026#39;, \u0026#39;1. Wildcard format: 1.2.3.*\u0026#39; =\u0026gt; \u0026#39;1.é€šé…ç¬¦æ ¼å¼ï¼š1.2.3ã€‚* \u0026#39;, \u0026#39;2. CIDR format: 1.2.3/24 OR 1.2.3.4/255.255.255.0\u0026#39; =\u0026gt; \u0026#39;2. CIDRæ ¼å¼ï¼š1.2.3 / 24æˆ–1.2.3.4/255.255.255.0 \u0026#39;, \u0026#39;3. Start-End IP format: 1.2.3.0-1.2.3.255\u0026#39; =\u0026gt; \u0026#39;3.èµ·å§‹IPåœ°å€æ ¼å¼ï¼š1.2.3.0-1.2.3.255 \u0026#39;, \u0026#39;It does not work with the \u0026#34;%1\u0026#34; option enabled.\u0026#39; =\u0026gt; \u0026#39;å®ƒä¸é€‚ç”¨äºå¯ç”¨â€œ%1â€é€‰é¡¹ã€‚\u0026#39;, \u0026#39;Disable plugin\u0026#39; =\u0026gt; \u0026#39;ç¦ç”¨æ’ä»¶\u0026#39;, \u0026#39;Edit plugin: %1\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘æ’ä»¶ï¼š%1\u0026#39;, \u0026#39;Plugin settings\u0026#39; =\u0026gt; \u0026#39;æ’ä»¶è®¾ç½®\u0026#39;, \u0026#39;Read more about this \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;é˜…è¯»æ›´å¤šæœ‰å…³\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;æ­¤å¤„\u0026lt;/a\u0026gt;çš„ä¿¡æ¯\u0026#39;, \u0026#39;Files without extension\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ \u0026#39;, \u0026#39;Get it from %1\u0026#39; =\u0026gt; \u0026#39;ä»%1è·å–\u0026#39;, \u0026#39;Get them from %1\u0026#39; =\u0026gt; \u0026#39;ä»%1ä¸­è·å–å®ƒä»¬\u0026#39;, \u0026#39;Page background\u0026#39; =\u0026gt; \u0026#39;ç™»å½•ç•Œé¢èƒŒæ™¯å›¾ç‰‡ URL\u0026#39;, \u0026#39;For a background image type in a full URL.\u0026#39; =\u0026gt; \u0026#39;åœ¨å®Œæ•´çš„URLä¸­è¾“å…¥èƒŒæ™¯å›¾ç‰‡\u0026#39;, \u0026#39;For a background color type in a hexadecimal value, for example #EC6952\u0026#39; =\u0026gt; \u0026#39;å¯¹äºåå…­è¿›åˆ¶å€¼çš„èƒŒæ™¯é¢œè‰²ç±»å‹ï¼Œä¾‹å¦‚ï¼ƒEC6952\u0026#39;, \u0026#39;Help URL\u0026#39; =\u0026gt; \u0026#39;å¸®åŠ©é¡µé¢ URL\u0026#39;, \u0026#39;URL of your help and support page\u0026#39; =\u0026gt; \u0026#39;ä½ çš„å¸®åŠ©å’Œæ”¯æŒé¡µé¢çš„ URL\u0026#39;, \u0026#39;Google Static Maps API\u0026#39; =\u0026gt; \u0026#39;Google Static Maps API \u0026#39;, \u0026#39;Google Maps APIs - Static Maps API\u0026#39; =\u0026gt; \u0026#39;Google Maps API - é™æ€åœ°å›¾API \u0026#39;, \u0026#39;Tracker codes\u0026#39; =\u0026gt; \u0026#39;è·Ÿè¸ªä»£ç  \u0026#39;, \u0026#39;Paste here your traffic analysis tracking HTML code\u0026#39; =\u0026gt; \u0026#39;åœ¨è¿™é‡Œç²˜è´´æ‚¨çš„æµé‡åˆ†æè·Ÿè¸ªHTMLä»£ç \u0026#39;, \u0026#39;Enable download accelerator\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨ä¸‹è½½åŠ é€Ÿå™¨ \u0026#39;, \u0026#39;- None -\u0026#39; =\u0026gt; \u0026#39;- æ²¡æœ‰ -\u0026#39;, \u0026#39;NGINX X-Accell\u0026#39; =\u0026gt; \u0026#39;NGINX X-Accell \u0026#39;, \u0026#39;Apache XSendfile\u0026#39; =\u0026gt; \u0026#39;Apache XSendfile \u0026#39;, \u0026#39;LiteSpeed Internal Redirect\u0026#39; =\u0026gt; \u0026#39;LiteSpeedå†…éƒ¨é‡å®šå‘ \u0026#39;, \u0026#39;Select the appropriate option for your particular web server.\u0026#39; =\u0026gt; \u0026#39;ä¸ºç‰¹å®šçš„WebæœåŠ¡å™¨é€‰æ‹©é€‚å½“çš„é€‰é¡¹\u0026#39;, \u0026#39;Note that only the downloading of really large files will benefit from this option.\u0026#39; =\u0026gt; \u0026#39;è¯·æ³¨æ„ï¼Œåªæœ‰ä¸‹è½½éå¸¸å¤§çš„æ–‡ä»¶æ‰èƒ½ä»æ­¤é€‰é¡¹ä¸­å—ç›Š\u0026#39;, \u0026#39;If in doubt select \u0026#34;- None -\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœæœ‰ç–‘é—®ï¼Œè¯·é€‰æ‹©â€œ - æ—  - â€\u0026#39;, \u0026#39;Make sure to check the integrity of the downloaded files after enabling an accelerator.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨åŠ é€Ÿå™¨åï¼Œè¯·ç¡®ä¿æ£€æŸ¥ä¸‹è½½çš„æ–‡ä»¶çš„å®Œæ•´æ€§\u0026#39;, \u0026#39;Setting this to 0 will have the users permanently logged in until they sign out themselves.\u0026#39; =\u0026gt; \u0026#39;å°†æ­¤å€¼è®¾ç½®ä¸º 0 ä¼šä½¿ç”¨æˆ·æ°¸ä¹…å¤„äºç™»å½•çŠ¶æ€ç›´åˆ°ç”¨æˆ·è‡ªè¡Œæ³¨é”€\u0026#39;, \u0026#39;You are about to enable an authentication plugin. Please confirm that you have used the \u0026#34;Test settings\u0026#34; button to make sure the plugin is properly configured.\u0026#39; =\u0026gt; \u0026#39;æ‚¨å³å°†å¯ç”¨èº«ä»½éªŒè¯æ’ä»¶ã€‚è¯·ç¡®è®¤æ‚¨å·²ä½¿ç”¨â€œæµ‹è¯•è®¾ç½®â€æŒ‰é’®ç¡®ä¿æ’ä»¶é…ç½®æ­£ç¡®ã€‚\u0026#39;, \u0026#39;Phone\u0026#39; =\u0026gt; \u0026#39;ç”µè¯\u0026#39;, \u0026#39;I confirm\u0026#39; =\u0026gt; \u0026#39;æˆ‘ç¡®å®š\u0026#39;, \u0026#39;Show thumbnails\u0026#39; =\u0026gt; \u0026#39;æ˜¾ç¤ºç¼©ç•¥å›¾\u0026#39;, \u0026#39;Guest users\u0026#39; =\u0026gt; \u0026#39;è®¿å®¢ç”¨æˆ·\u0026#39;, \u0026#39;Thumbnail size for \u0026#34;Photos\u0026#34; display mode\u0026#39; =\u0026gt; \u0026#39;ç…§ç‰‡ç¼©ç•¥å›¾å¤§å°\u0026#39;, \u0026#39;Enable file rating\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ–‡ä»¶è¯„çº§\u0026#39;, \u0026#39;Branding\u0026#39; =\u0026gt; \u0026#39;å“ç‰Œ\u0026#39;, \u0026#39;Branding options\u0026#39; =\u0026gt; \u0026#39;å“ç‰Œé€‰é¡¹\u0026#39;, \u0026#39;Login page\u0026#39; =\u0026gt; \u0026#39;ç™»å½•é¡µé¢\u0026#39;, \u0026#39;Color theme\u0026#39; =\u0026gt; \u0026#39;é¢œè‰²ä¸»é¢˜\u0026#39;, \u0026#39;Blue\u0026#39; =\u0026gt; \u0026#39;è“è‰²\u0026#39;, \u0026#39;Green\u0026#39; =\u0026gt; \u0026#39;ç»¿è‰²\u0026#39;, \u0026#39;Red\u0026#39; =\u0026gt; \u0026#39;çº¢\u0026#39;, \u0026#39;Custom\u0026#39; =\u0026gt; \u0026#39;ä¹ æƒ¯\u0026#39;, \u0026#39;The default value is \u0026#34;Broad match\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤å€¼ä¸º\u0026#34;æ¨¡ç³ŠåŒ¹é…\u0026#34;ã€‚\u0026#39;, \u0026#39;If searching becomes slow, it is recommeneded to use the \u0026#34;Exact match\u0026#34; instead.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœæœç´¢å˜æ…¢ï¼Œå»ºè®®ä½¿ç”¨\u0026#34;ç²¾ç¡®åŒ¹é…\u0026#34;ã€‚\u0026#39;, \u0026#39;When \u0026#34;Broad match\u0026#34; is enabled, use \u0026lt;em\u0026gt;\u0026#34;keyword\u0026#34;\u0026lt;/em\u0026gt; for exact match.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨\u0026#34;æ¨¡ç³ŠåŒ¹é…\u0026#34;åï¼Œè¯·ä½¿ç”¨\u0026lt;em\u0026gt;\u0026#34;keyword\u0026#34;\u0026lt;/em\u0026gt;è¿›è¡Œç²¾ç¡®åŒ¹é…ã€‚\u0026#39;, \u0026#39;When \u0026#34;Exact match\u0026#34; is enabled, use \u0026lt;em\u0026gt;*keyword*\u0026lt;/em\u0026gt; for broad match.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨\u0026#34;ç²¾ç¡®åŒ¹é…\u0026#34;åï¼Œè¯·ä½¿ç”¨\u0026lt;em\u0026gt;* keyword *\u0026lt;/em\u0026gt;è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚\u0026#39;, \u0026#39;Search results limit\u0026#39; =\u0026gt; \u0026#39;æœç´¢ç»“æœé™åˆ¶\u0026#39;, \u0026#39;The default value is 200. Larger numbers can cause the users browsers to freeze.\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤å€¼ä¸º200.è¾ƒå¤§çš„æ•°å­—å¯èƒ½å¯¼è‡´ç”¨æˆ·æµè§ˆå™¨å¡é¡¿ã€‚\u0026#39;, \u0026#39;Enabling this will allow access to the users that do not have an account with the third-party system.\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨æ­¤é€‰é¡¹å°†å…è®¸æ²¡æœ‰å¸æˆ·çš„ç¬¬ä¸‰æ–¹ç³»ç»Ÿç”¨æˆ·è®¿é—®ã€‚\u0026#39;, \u0026#39;List users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ—è¡¨\u0026#39;, ), \u0026#39;Admin: Users\u0026#39; =\u0026gt; array ( \u0026#39;Date Format: Registration date\u0026#39; =\u0026gt; \u0026#39;d M Y\u0026#39;, \u0026#39;Date Format: Last login\u0026#39; =\u0026gt; \u0026#39;Y-M-d, H:i\u0026#39;, \u0026#39;Date Format: Expiration date\u0026#39; =\u0026gt; \u0026#39;Y-M-d\u0026#39;, \u0026#39;Generate random password\u0026#39; =\u0026gt; \u0026#39;ç”Ÿæˆéšæœºå¯†ç \u0026#39;, \u0026#39;Important: Changing this path will remove the users folder sharing settings and weblinks.\u0026#39; =\u0026gt; \u0026#39;é‡è¦ï¼šæ›´æ”¹æœ¬è·¯å¾„å°†ä¼šåˆ é™¤ç”¨æˆ·æ–‡ä»¶å¤¹çš„å…±äº«å’ŒWebLinksã€‚\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Parent user\u0026#39; =\u0026gt; \u0026#39;çˆ¶ç”¨æˆ·\u0026#39;, \u0026#39;You are not allowed to manage users.\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒç®¡ç†ç”¨æˆ·.\u0026#39;, \u0026#39;You are not allowed to manage user accounts.\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒç®¡ç†ç”¨æˆ·è´¦æˆ·.\u0026#39;, \u0026#39;User successfully created.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ›å»ºæˆåŠŸ.\u0026#39;, \u0026#39;You cannot delete your own account!\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½åˆ é™¤è‡ªå·±çš„è´¦æˆ·!\u0026#39;, \u0026#39;You cannot create user accounts any more, the limit was reached!\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½ç»§ç»­åˆ›å»ºè´¦æˆ·ï¼Œè´¦æˆ·æ•°å·²è¾¾ä¸Šé™!\u0026#39;, \u0026#39;You are not allowed to manage this user.\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒç®¡ç†æ­¤ç”¨æˆ·.\u0026#39;, \u0026#39;User successfully updated!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ›´æ–°æˆåŠŸ!\u0026#39;, \u0026#39;Sorry, the \u0026#34;superuser\u0026#34; account cannot be deactivated!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•é”å®šè¶…çº§ç”¨æˆ·è´¦æˆ·!\u0026#39;, \u0026#39;You cannot deactivate your own user account!\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½é”å®šè‡ªå·±çš„è´¦æˆ·!\u0026#39;, \u0026#39;Action unavailable in this demo version of the software!\u0026#39; =\u0026gt; \u0026#39;æ¼”ç¤ºç‰ˆæœ¬ä¸­æ­¤åŠŸèƒ½æ— æ•ˆ!\u0026#39;, \u0026#39;Please type a username!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç”¨æˆ·å!\u0026#39;, \u0026#39;Please type a name!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥åç§°!\u0026#39;, \u0026#39;Please don\\\u0026#39;t use special characters for the username!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åä¸­è¯·å‹¿ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦!\u0026#39;, \u0026#39;Username already in use. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–ç”¨æˆ·å.\u0026#39;, \u0026#39;Please type a password!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å¯†ç !\u0026#39;, \u0026#39;Please retype the password correctly!\u0026#39; =\u0026gt; \u0026#39;è¯·æ­£ç¡®çš„é‡æ–°è¾“å…¥å¯†ç !\u0026#39;, \u0026#39;An independent admin user should be able to create at least one user account!\u0026#39; =\u0026gt; \u0026#39;å”¯ä¸€çš„ç®¡ç†è´¦æˆ·åº”è¯¥è‡³å°‘åˆ›å»ºä¸€ä¸ªç”¨æˆ·è´¦æˆ·!\u0026#39;, \u0026#39;You are required to set a space quota for this user!\u0026#39; =\u0026gt; \u0026#39;è¯·ä¸ºæ­¤ç”¨æˆ·è®¾ç½®ç©ºé—´é…é¢!\u0026#39;, \u0026#39;The maximum space quota you can assign to this user is %1MB!\u0026#39; =\u0026gt; \u0026#39;æ‚¨èƒ½ä¸ºæ­¤ç”¨æˆ·åˆ†é…çš„æœ€å¤§ç©ºé—´é…é¢æ˜¯ %1MB!\u0026#39;, \u0026#39;Copy to clipboard\u0026#39; =\u0026gt; \u0026#39;å¤åˆ¶åˆ°å‰ªè´´æ¿\u0026#39;, \u0026#39;Guest access URL\u0026#39; =\u0026gt; \u0026#39;è®¿å®¢è®¿é—®URL\u0026#39;, \u0026#39;Failed to update user!\u0026#39; =\u0026gt; \u0026#39;æ›´æ–°ç”¨æˆ·å¤±è´¥!\u0026#39;, \u0026#39;Edit user.\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘ç”¨æˆ·.\u0026#39;, \u0026#39;Sorry, the superuser account cannot be deleted!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åˆ é™¤è¶…çº§ç”¨æˆ·è´¦æˆ·!\u0026#39;, \u0026#39;Failed to delete user \u0026#34;%1\u0026#34;!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åˆ é™¤ç”¨æˆ·\u0026#34;%1\u0026#34;!\u0026#39;, \u0026#39;Delete user\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç”¨æˆ·\u0026#39;, \u0026#39;You cannot create user accounts when custom authentication is used!\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨è‡ªå®šä¹‰èº«ä»½éªŒè¯æ—¶ï¼Œæ— æ³•åˆ›å»ºç”¨æˆ·è´¦æˆ·!\u0026#39;, \u0026#39;Can interact with\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥çœ‹åˆ°\u0026#39;, \u0026#39;[All users]\u0026#39; =\u0026gt; \u0026#39;[æ‰€æœ‰ç”¨æˆ·]\u0026#39;, \u0026#39;Hold \u0026#34;Ctrl\u0026#34; key to select multiple options.\u0026#39; =\u0026gt; \u0026#39;æŒ‰ä½\u0026#34;CTRL\u0026#34;é”®é€‰æ‹©å¤šä¸ªé€‰é¡¹ã€‚\u0026#39;, \u0026#39;Failed to create user!\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç”¨æˆ·å¤±è´¥!\u0026#39;, \u0026#39;Create user\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç”¨æˆ·\u0026#39;, \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Retype password\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤å¯†ç \u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Company\u0026#39; =\u0026gt; \u0026#39;å…¬å¸\u0026#39;, \u0026#39;Website\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™åœ°å€\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;E-mailåœ°å€\u0026#39;, \u0026#39;Notifications\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥\u0026#39;, \u0026#39;Role\u0026#39; =\u0026gt; \u0026#39;è§’è‰²\u0026#39;, \u0026#39;- None -\u0026#39; =\u0026gt; \u0026#39;- æ—  -\u0026#39;, \u0026#39;The role defines the user\\\u0026#39;s permission settings. The individual permission settings of the user cannot be changed if a role is selected.\u0026#39; =\u0026gt; \u0026#39;è§’è‰²å¯ä»¥å®šä¹‰ç”¨æˆ·çš„æƒé™è®¾ç½®. ç”¨æˆ·è¢«æŒ‡å®šè§’è‰²æ—¶ï¼Œè¯¥ç”¨æˆ·ç‹¬ç«‹çš„æƒé™è®¾å®šå°†æ— æ³•ä¿®æ”¹.\u0026#39;, \u0026#39;Home folder\u0026#39; =\u0026gt; \u0026#39;ä¸»ç›®å½•\u0026#39;, \u0026#39;Your personal home folder is:\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„ä¸ªäººä¸»ç›®å½•ä¸º:\u0026#39;, \u0026#39;Check path\u0026#39; =\u0026gt; \u0026#39;æ£€æŸ¥è·¯å¾„\u0026#39;, \u0026#39;Create folder now\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç›®å½•\u0026#39;, \u0026#39;The path is valid.\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„æ­£ç¡®.\u0026#39;, \u0026#39;Please specify a path!\u0026#39; =\u0026gt; \u0026#39;è¯·æŒ‡å®šä¸€ä¸ªè·¯å¾„!\u0026#39;, \u0026#39;Invalid folder!\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„éæ³•!\u0026#39;, \u0026#39;The folder \u0026#34;%1\u0026#34; does not exists or it is not accessible by PHP.\u0026#39; =\u0026gt; \u0026#39;ç›®å½• \u0026#34;%1\u0026#34; ä¸å­˜åœ¨ï¼Œæˆ–è€…PHPæ— æ³•è®¿é—®.\u0026#39;, \u0026#39;Failed to create folder.\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç›®å½•å¤±è´¥.\u0026#39;, \u0026#39;Folder successfuly created.\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç›®å½•æˆåŠŸ.\u0026#39;, \u0026#39;Permissions\u0026#39; =\u0026gt; \u0026#39;æƒé™\u0026#39;, \u0026#39;User can upload files\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¸Šä¼ æ–‡ä»¶\u0026#39;, \u0026#39;User can download files\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¸‹è½½æ–‡ä»¶\u0026#39;, \u0026#39;User can share via web links\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥å‘å¸ƒæ–‡ä»¶ä¸ºWebé“¾æ¥\u0026#39;, \u0026#39;User can share via e-mail\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥å°†æ–‡ä»¶ä»¥é™„ä»¶å½¢å¼å‘é€Email\u0026#39;, \u0026#39;User can share with other users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥å…±äº«ç›®å½•\u0026#39;, \u0026#39;User can access tags, ratings and other metadata\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥è®¿é—®å…ƒæ•°æ®\u0026#39;, \u0026#39;User can change the password\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¿®æ”¹è´¦æˆ·å¯†ç \u0026#39;, \u0026#39;User can download folders and collections\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥å‹ç¼©å¹¶ä¸‹è½½æ–‡ä»¶\u0026#39;, \u0026#39;User can read comments and view labels\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥è¯»å–æ–‡ä»¶è¯„è®º\u0026#39;, \u0026#39;User can write comments and set labels\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¿®æ”¹æ–‡ä»¶è¯„è®º\u0026#39;, \u0026#39;Space quota\u0026#39; =\u0026gt; \u0026#39;ç©ºé—´é…é¢\u0026#39;, \u0026#39;User can share with guest users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¸è®¿å®¢ç”¨æˆ·å…±äº«\u0026#39;, \u0026#39;Phone\u0026#39; =\u0026gt; \u0026#39;ç”µè¯\u0026#39;, \u0026#39;User group(s)\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç»„\u0026#39;, \u0026#39;Home folder\u0026lt;br\u0026gt;template path\u0026#39; =\u0026gt; \u0026#39;ä¸»ç›®å½•\u0026lt;br\u0026gt;ä¸´æ—¶è·¯å¾„\u0026#39;, \u0026#39;This folder will be automatically created in your home folder, if it doesn\\\u0026#39;t exists already.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœè¯¥ç›®å½•ä¸å­˜åœ¨ï¼Œå°†è‡ªåŠ¨åœ¨æ‚¨çš„ä¸»ç›®å½•ç”Ÿæˆ\u0026#39;, \u0026#39;Admin\u0026#39; =\u0026gt; \u0026#39;ç®¡ç†å‘˜\u0026#39;, \u0026#39;Yes\u0026#39; =\u0026gt; \u0026#39;æ˜¯\u0026#39;, \u0026#39;Yes, Independent\u0026#39; =\u0026gt; \u0026#39;æ˜¯, å”¯ä¸€çš„\u0026#39;, \u0026#39;- Can only see and manage users, groups, etc. created by himself.\u0026#39; =\u0026gt; \u0026#39;- ä»…èƒ½æŸ¥çœ‹å¹¶ä¸”ç®¡ç†ä»–è‡ªå·±åˆ›å»ºçš„ç”¨æˆ·å’Œç¾¤ç»„ç­‰.\u0026#39;, \u0026#39;- He can assign space quotas within a total of his own space quota.\u0026#39; =\u0026gt; \u0026#39;- å¯ä»¥åˆ†é…æ•´ä¸ªç©ºé—´é…é¢.\u0026#39;, \u0026#39;User can create new user accounts.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·.\u0026#39;, \u0026#39;User can manage groups.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥ç®¡ç†ç¾¤ç»„.\u0026#39;, \u0026#39;User can manage roles.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥ç®¡ç†è§’è‰².\u0026#39;, \u0026#39;User can manage notifications.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥ç®¡ç†é€šçŸ¥.\u0026#39;, \u0026#39;User can access the activity logs.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥è®¿é—®æ´»åŠ¨æ—¥å¿—.\u0026#39;, \u0026#39;User can change the metadata settings.\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥ä¿®æ”¹å…ƒæ•°æ®è®¾ç½®.\u0026#39;, \u0026#39;Can manage\u0026#39; =\u0026gt; \u0026#39;å¯ä»¥ç®¡ç†\u0026#39;, \u0026#39;[All groups]\u0026#39; =\u0026gt; \u0026#39;- æ‰€æœ‰ç¾¤ç»„ -\u0026#39;, \u0026#39;Max users\u0026#39; =\u0026gt; \u0026#39;æœ€å¤§ç”¨æˆ·æ•°\u0026#39;, \u0026#39;This is the maximum number of user accounts this independent admin user can create.\u0026#39; =\u0026gt; \u0026#39;è¿™æ˜¯æ­¤ç‹¬ç«‹ç®¡ç†å‘˜å¯ä»¥åˆ›å»ºçš„æœ€å¤§ç”¨æˆ·æ•°.\u0026#39;, \u0026#39;Example: /home/users/{USERNAME}\u0026#39; =\u0026gt; \u0026#39;ç¤ºä¾‹: /home/users/{USERNAME}\u0026#39;, \u0026#39;{USERNAME} will be automatically replaced with each user\\\u0026#39;s login name.\u0026#39; =\u0026gt; \u0026#39;{USERNAME} ä¼šè‡ªåŠ¨è¢«ç”¨æˆ·çš„ç™»å½•åå–ä»£.\u0026#39;, \u0026#39;{NAME} will be automatically replaced with this user\\\u0026#39;s name.\u0026#39; =\u0026gt; \u0026#39;{NAME} ä¼šè‡ªåŠ¨è¢«ç”¨æˆ·çš„å§“åå–ä»£.\u0026#39;, \u0026#39;{EMAIL} will be automatically replaced with this user\\\u0026#39;s e-mail.\u0026#39; =\u0026gt; \u0026#39;{EMAIL} ä¼šè‡ªåŠ¨è¢«ç”¨æˆ·çš„ç”µå­é‚®ä»¶å–ä»£.\u0026#39;, \u0026#39;{COMPANY} will be automatically replaced with this user\\\u0026#39;s company name.\u0026#39; =\u0026gt; \u0026#39;{COMPANY} ä¼šè‡ªåŠ¨è¢«ç”¨æˆ·çš„å…¬å¸åå–ä»£.\u0026#39;, \u0026#39;The permission to manage roles cannot be granted if a \u0026#34;Home folder template path\u0026#34; is set.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœç”¨æˆ·ä¸»ç›®å½•è¢«è®¾ç½®ï¼Œç®¡ç†è§’è‰²çš„æƒé™æ— æ³•åˆ†é…ã€‚\u0026#39;, \u0026#39;If you wish to grant the permission to manage roles, please use the \u0026#34;Can manage\u0026#34; option to select at least one group of users.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœæ‚¨å¸Œæœ›æˆæƒç®¡ç†è§’è‰²æƒé™ï¼Œè¯·ä½¿ç”¨çœ‹â€œå¯ä»¥ç®¡ç†â€é€‰é¡¹æ¥é€‰æ‹©è‡³å°‘ä¸€ä¸ªç»„ã€‚\u0026#39;, \u0026#39;If you wish to grant the permission to create new user accounts, please use the \u0026#34;Can manage\u0026#34; option to select at least one group.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœä½ å¸Œæœ›æˆæƒåˆ›å»ºç”¨æˆ·æƒé™ï¼Œè¯·ä½¿ç”¨â€œå‰‹æœ‰ç®¡ç†â€é€‰é¡¹æ¥é€‰æ‹©è‡³å°‘ä¸€ä¸ªç»„ã€‚\u0026#39;, \u0026#39;Leave the field empty to allow the admin to set the paths manually.\u0026#39; =\u0026gt; \u0026#39;ä¿æŒè¯¥é¡¹ä¸ºç©ºä»¥ä¾¿å…è®¸ç®¡ç†å‘˜æ‰‹åŠ¨è®¾ç½®è·¯å¾„.\u0026#39;, \u0026#39;You need to allow the user to manage at least one group to be able to create new user accounts.\u0026#39; =\u0026gt; \u0026#39;ä½ åº”è¯¥å…è®¸è¯¥ç”¨æˆ·ç®¡ç†è‡³å°‘ä¸€ä¸ªç¾¤ç»„ï¼Œä»¥ä¾¿å¯ä»¥åˆ›å»ºæ–°çš„è´¦æˆ·.\u0026#39;, \u0026#39;You need to allow the user to manage at least one group to be able to manage roles.\u0026#39; =\u0026gt; \u0026#39;ä½ åº”è¯¥å…è®¸è¯¥ç”¨æˆ·ç®¡ç†è‡³å°‘ä¸€ä¸ªç¾¤ç»„ï¼Œä»¥ä¾¿å¯ä»¥ç®¡ç†è§’è‰².\u0026#39;, \u0026#39;Note\u0026#39; =\u0026gt; \u0026#39;æç¤º\u0026#39;, \u0026#39;Send a notification now\u0026#39; =\u0026gt; \u0026#39;ç°åœ¨å‘é€æé†’ã€‚\u0026#39;, \u0026#39;An e-mail message with the login information will be sent to the user\\\u0026#39;s address.\u0026#39; =\u0026gt; \u0026#39;ä¸€å°åŒ…å«ç™»é™†ä¿¡æ¯çš„é‚®ä»¶å·²ç»è¢«å‘é€ç»™ç”¨æˆ·ã€‚\u0026#39;, \u0026#39;Submit\u0026#39; =\u0026gt; \u0026#39;æäº¤\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;This is the \u0026#34;superuser\u0026#34; account, and it cannot be deleted.\u0026#39; =\u0026gt; \u0026#39;è¿™æ˜¯è¶…çº§ç”¨æˆ·è´¦æˆ·ï¼Œä¸èƒ½åˆ é™¤.\u0026#39;, \u0026#39;Please confirm the deletion of the user\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤åˆ é™¤ç”¨æˆ·\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;You can add %1 more users.\u0026#39; =\u0026gt; \u0026#39;ä¸èƒ½æ·»åŠ  %1 ç”¨æˆ·.\u0026#39;, \u0026#39;You have reached the maximum number of user account allowed.\u0026#39; =\u0026gt; \u0026#39;å·²è¾¾åˆ°æœ€å¤§ç”¨æˆ·æ•°é™åˆ¶.\u0026#39;, \u0026#39;Showing only users created by\u0026#39; =\u0026gt; \u0026#39;ä»…æ˜¾ç¤ºè¢«è°åˆ›å»ºçš„ç”¨æˆ·\u0026#39;, \u0026#39;Click \u0026lt;a href=\u0026#34;%1/?module=users\u0026amp;section=admin\u0026amp;page=index\u0026amp;filter_indep=1\u0026#34; style=\u0026#34;text-decoration:underline\u0026#34;\u0026gt;here\u0026lt;/a\u0026gt; to show all \u0026#34;independent admin users\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç‚¹å‡» \u0026lt;a href=\u0026#34;%1/?module=users\u0026amp;section=admin\u0026amp;page=index\u0026amp;filter_indep=1\u0026#34; style=\u0026#34;text-decoration:underline\u0026#34;\u0026gt;è¿™é‡Œ\u0026lt;/a\u0026gt; æ˜¾ç¤ºæ‰€æœ‰ç‹¬ç«‹ç®¡ç†å‘˜ç”¨æˆ·\u0026#39;, \u0026#39;Show only \u0026#34;independent admin users\u0026#34;\u0026#39; =\u0026gt; \u0026#39;ä»…æ˜¾ç¤ºç‹¬ç«‹ç®¡ç†å‘˜ç”¨æˆ·\u0026#39;, \u0026#39;Show only deactivated users\u0026#39; =\u0026gt; \u0026#39;ä»…æ˜¾ç¤ºæœªæ¿€æ´»çš„ç”¨æˆ·ã€‚\u0026#39;, \u0026#39;Filter users by group:\u0026#39; =\u0026gt; \u0026#39;ä»¥ç»„åˆ«è¿‡æ»¤ç”¨æˆ·\u0026#39;, \u0026#39;- All -\u0026#39; =\u0026gt; \u0026#39;- æ‰€æœ‰ -\u0026#39;, \u0026#39;Users created:\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ›å»º:\u0026#39;, \u0026#39;Calculating space quota for users created by \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;:\u0026#39; =\u0026gt; \u0026#39;è®¡ç®—è¢«è°åˆ›å»ºçš„æ‰€æœ‰ç”¨æˆ·çš„ç©ºé—´æ€»é…é¢ \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;:\u0026#39;, \u0026#39;There is no user account created by this user.\u0026#39; =\u0026gt; \u0026#39;è¯¥ç”¨æˆ·æ²¡æœ‰åˆ›å»ºå…¶ä»–ç”¨æˆ·è´¦æˆ·ã€‚\u0026#39;, \u0026#39;Loading...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½ä¸­...\u0026#39;, \u0026#39;Free space available:\u0026#39; =\u0026gt; \u0026#39;å‰©ä½™æœ‰æ•ˆç©ºé—´:\u0026#39;, \u0026#39;Edit User\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘ç”¨æˆ·\u0026#39;, \u0026#39;Search users by name:\u0026#39; =\u0026gt; \u0026#39;ä»¥åç§°æœç´¢ç”¨æˆ·:\u0026#39;, \u0026#39;Search by company name:\u0026#39; =\u0026gt; \u0026#39;ä»¥å…¬å¸åæœç´¢ç”¨æˆ·:\u0026#39;, \u0026#39;Toggle filtering options\u0026#39; =\u0026gt; \u0026#39;è¿‡æ»¤é€‰é¡¹\u0026#39;, \u0026#39;Page:\u0026#39; =\u0026gt; \u0026#39;é¡µç :\u0026#39;, \u0026#39;Search\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;This is the \u0026#34;superuser\u0026#34; account, and it cannot be deactivated.\u0026#39; =\u0026gt; \u0026#39;è¿™æ˜¯è¶…çº§ç”¨æˆ·è´¦æˆ·ï¼Œä¸èƒ½é”å®š.\u0026#39;, \u0026#39;Browse users\u0026#39; =\u0026gt; \u0026#39;æµè§ˆç”¨æˆ·\u0026#39;, \u0026#39;Browse users created by this \u0026#34;independent admin user\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹è¿™ä¸ªç‹¬ç«‹ç®¡ç†å‘˜è´¦æˆ·æ‰€åˆ›å»ºçš„ç”¨æˆ·.\u0026#39;, \u0026#39;Space quota info\u0026#39; =\u0026gt; \u0026#39;ç©ºé—´é…é¢ä¿¡æ¯\u0026#39;, \u0026#39;View space quota information with breakdown by users.\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹ç©ºé—´é…é¢è¯¦ç»†ä¿¡æ¯.\u0026#39;, \u0026#39;Delete user.\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç”¨æˆ·.\u0026#39;, \u0026#39;No\u0026#39; =\u0026gt; \u0026#39;å¦\u0026#39;, \u0026#39;Total\u0026#39; =\u0026gt; \u0026#39;æ€»å…±\u0026#39;, \u0026#39;The users created by this administrator will have their home folders set depending on this template.\u0026#39; =\u0026gt; \u0026#39;ç”±ç®¡ç†å‘˜åˆ›å»ºçš„ç”¨æˆ·å°†ä¼šæ‹¥æœ‰åŸºäºæœ¬æ¨¡æ¿è®¾å®šçš„ä¸»ç›®å½•ã€‚\u0026#39;, \u0026#39;{ADMUSERNAME} will be automatically replaced with this user\\\u0026#39;s login name.\u0026#39; =\u0026gt; \u0026#39;{ADMUSERNAME} å°†ä¼šè‡ªåŠ¨è¢«æ›¿æ¢ä¸ºç”¨æˆ·çš„ç™»å½•åã€‚\u0026#39;, \u0026#39;Last login\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€æ¬¡ç™»é™†\u0026#39;, \u0026#39;User \u0026#34;%1\u0026#34; successfully deleted!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#34;%1\u0026#34;å·²è¢«æˆåŠŸåˆ é™¤ï¼\u0026#39;, \u0026#39;Require user to change the password\u0026#39; =\u0026gt; \u0026#39;éœ€è¦ç”¨æˆ·ä¿®æ”¹å¯†ç \u0026#39;, \u0026#39;Registration date\u0026#39; =\u0026gt; \u0026#39;æ³¨å†Œæ—¥æœŸ\u0026#39;, \u0026#39;The user\\\u0026#39;s home folder cannot be deleted as other users have home folders located inside!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åˆ é™¤è¯¥ç”¨æˆ·çš„ä¸»æ–‡ä»¶å¤¹ï¼Œå› ä¸ºå…¶ä¸­åŒ…å«å…¶ä»–ç”¨æˆ·çš„ä¸»æ–‡ä»¶å¤¹ï¼\u0026#39;, \u0026#39;Add User\u0026#39; =\u0026gt; \u0026#39;æ–°å»ºç”¨æˆ·\u0026#39;, \u0026#39;Basic Information\u0026#39; =\u0026gt; \u0026#39;åŸºæœ¬ä¿¡æ¯\u0026#39;, \u0026#39;Login Info\u0026#39; =\u0026gt; \u0026#39;ç™»é™†ä¿¡æ¯\u0026#39;, \u0026#39;E-mail Options\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶é€‰é¡¹\u0026#39;, \u0026#39;Details\u0026#39; =\u0026gt; \u0026#39;æ˜ç»†\u0026#39;, \u0026#39;Expiration date\u0026#39; =\u0026gt; \u0026#39;è¿‡æœŸæ—¶é—´\u0026#39;, \u0026#39;The user account will be automatically deactivated at the specified date.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·è´¦æˆ·å°†ä¼šåœ¨è¿‡æœŸæ—¥è‡ªåŠ¨å†»ç»“ã€‚\u0026#39;, \u0026#39;Please replace the back slashes (\\\\) with forward slashes (/)!\u0026#39; =\u0026gt; \u0026#39;è¯·ä½¿ç”¨æ­£æ–œæ  (/) æ›¿æ¢è¿™ä¸ªåæ–œæ  (\\\\)!\u0026#39;, \u0026#39;The path should start with a drive letter! Example: C:/files/\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„åº”è¯¥å¼€å§‹äºç›˜ç¬¦ï¼Œä¾‹å¦‚C:/Files/\u0026#39;, \u0026#39;The path should start with a forward slash! Example: /files/\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„åº”è¯¥å¼€å§‹äºåæ–œæ ï¼Œä¾‹å¦‚/Files/\u0026#39;, \u0026#39;User can access the files\\\u0026#39; activity logs\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥è®¿é—®æ–‡ä»¶æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;Quotas\u0026#39; =\u0026gt; \u0026#39;å®¹é‡\u0026#39;, \u0026#39;The values are in megabytes. The value of 0 disables the limitation.\u0026#39; =\u0026gt; \u0026#39;å€¼çš„å•ä½æ˜¯å…†å­—èŠ‚ã€‚å€¼ä¸º0æ—¶å–æ¶ˆé™åˆ¶ã€‚\u0026#39;, \u0026#39;Permanently delete the user\\\u0026#39;s home folder.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚\u0026#39;, \u0026#39;Delete User Account\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç”¨æˆ·è´¦æˆ·\u0026#39;, \u0026#39;The account is deactivated\u0026#39; =\u0026gt; \u0026#39;è¯¥è´¦æˆ·å·²è¢«å†»ç»“\u0026#39;, \u0026#39;Important: Changing this path will update the home folder paths of all user accounts using this role. It will results in the automatic removal of the users\\\u0026#39; folder sharing settings and weblinks.\u0026#39; =\u0026gt; \u0026#39;é‡è¦ï¼šæ›´æ”¹æœ¬è·¯å¾„å°†ä¼šæ›´æ–°æ‰€æœ‰è¯¥ç”¨æˆ·ç»„çš„ä¸»ç›®å½•è·¯å¾„ã€‚å°†ä¼šè‡ªåŠ¨åˆ é™¤è¿™äº›ç”¨æˆ·çš„å…±äº«å’ŒWebLinksã€‚\u0026#39;, \u0026#39;User can sync folders with BitTorrent Sync\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä½¿ç”¨BitTorrentåŒæ­¥æœ¬ç›®å½•çš„æ–‡ä»¶ã€‚\u0026#39;, \u0026#39;Important: Changing this path will update the home folder paths of all user accounts created by this admin. It will results in the automatic removal of these users\\\u0026#39; folder sharing settings and weblinks.\u0026#39; =\u0026gt; \u0026#39;é‡è¦ï¼šæ›´æ”¹æœ¬è·¯å¾„å°†ä¼šæ›´æ–°ç”±ç®¡ç†å‘˜åˆ›å»ºçš„ç”¨æˆ·ä¸»ç›®å½•è·¯å¾„ã€‚è¿™å°†å¯¼è‡´è‡ªåŠ¨åˆ é™¤è¿™äº›ç”¨æˆ·çš„å…±äº«å’ŒWebLinksã€‚\u0026#39;, \u0026#39;Important: Changing this path will update the home folder paths of all user accounts created by admins using this role. It will results in the automatic removal of the users\\\u0026#39; folder sharing settings and weblinks.\u0026#39; =\u0026gt; \u0026#39;é‡è¦ï¼šæ›´æ”¹æœ¬è·¯å¾„å°†ä¼šæ›´æ–°æ‰€æœ‰ç”±è¯¥ç®¡ç†å‘˜åˆ›å»ºçš„ç”¨æˆ·çš„ä¸»ç›®å½•è·¯å¾„ã€‚å°†ä¼šè‡ªåŠ¨åˆ é™¤è¿™äº›ç”¨æˆ·çš„å…±äº«å’ŒWebLinksã€‚\u0026#39;, \u0026#39;Enable 2-step verification\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨äºŒæ¬¡è®¤è¯\u0026#39;, \u0026#39;In order for the user to login, he will need to type in also a temporary code which can be generated on a mobile device with a dedicated app such as Google Authenticator.\u0026#39; =\u0026gt; \u0026#39;ä¸ºä½¿è¯¥ç”¨æˆ·å¯ä»¥ç™»å…¥ï¼Œä»–å°†éœ€è¦è¾“å…¥ä¸€ä¸ªé€šè¿‡ç§»åŠ¨è®¾å¤‡ä¸Šå¦‚ Google Authenticator è¿™æ ·çš„ä¸“ç”¨APPæ‰€ç”Ÿæˆçš„ä¸´æ—¶çš„ä»£ç  \u0026#39;, \u0026#39;Expires\u0026#39; =\u0026gt; \u0026#39;æœ‰æ•ˆæœŸ\u0026#39;, \u0026#39;User can change personal information\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥ä¿®æ”¹è´¦æˆ·ä¿¡æ¯\u0026#39;, \u0026#39;Upload max file size\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æœ€å¤§å¤§å°\u0026#39;, \u0026#39;Admin permissions\u0026#39; =\u0026gt; \u0026#39;ç®¡ç†å‘˜æƒé™\u0026#39;, \u0026#39;First name\u0026#39; =\u0026gt; \u0026#39;å§“\u0026#39;, \u0026#39;Last name\u0026#39; =\u0026gt; \u0026#39;å\u0026#39;, \u0026#39;Disabled\u0026#39; =\u0026gt; \u0026#39;è¢«å†»ç»“\u0026#39;, \u0026#39;Please confirm the user deactivation\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤æ˜¯å¦å†»ç»“è¯¥ç”¨æˆ·\u0026#39;, \u0026#39;User \u0026#34;%1\u0026#34; successfully deactivated!\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ· \u0026#34;%1\u0026#34;è¢«æˆåŠŸå†»ç»“\u0026#39;, \u0026#39;Failed to deactivated user \u0026#34;%1\u0026#34;!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•å†»ç»“ç”¨æˆ· \u0026#34;%1\u0026#34;\u0026#39;, \u0026#39;Folder already exists.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹å·²å­˜åœ¨.\u0026#39;, \u0026#39;The URL has been copied to clipboard.\u0026#39; =\u0026gt; \u0026#39;è¯¥URLå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚\u0026#39;, \u0026#39;User can make changes to files and folders\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å¯ä»¥æ›´æ”¹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;User can upload files and folders\u0026#39; =\u0026gt; \u0026#39;\tç”¨æˆ·å¯ä»¥ä¸Šä¼ æ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Path\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„\u0026#39;, \u0026#39;Access\u0026#39; =\u0026gt; \u0026#39;è®¿é—®\u0026#39;, \u0026#39;Share\u0026#39; =\u0026gt; \u0026#39;åˆ†äº«\u0026#39;, \u0026#39;Change\u0026#39; =\u0026gt; \u0026#39;æ›´æ”¹\u0026#39;, \u0026#39;Allowed file types\u0026#39; =\u0026gt; \u0026#39;å…è®¸çš„æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;Specify a list of file types the user will be limited to when upload files.\u0026#39; =\u0026gt; \u0026#39;æŒ‡å®šä¸Šè½½æ–‡ä»¶æ—¶ç”¨æˆ·å°†é™åˆ¶çš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ã€‚\u0026#39;, \u0026#39;An empty field will allow the user to upload any type of file.\u0026#39; =\u0026gt; \u0026#39;ç©ºå­—æ®µå°†å…è®¸ç”¨æˆ·ä¸Šè½½ä»»ä½•ç±»å‹çš„æ–‡ä»¶ã€‚\u0026#39;, \u0026#39;Example list:\u0026#39; =\u0026gt; \u0026#39;ç¤ºä¾‹åˆ—è¡¨ï¼š\u0026#39;, \u0026#39;Type the path to a folder on your server. This is the user\\\u0026#39;s personal working space.\u0026#39; =\u0026gt; \u0026#39;è¾“å…¥æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚è¿™æ˜¯ç”¨æˆ·çš„ä¸ªäººå·¥ä½œç©ºé—´ã€‚\u0026#39;, \u0026#39;As an example path, this app is located at %1\u0026#39; =\u0026gt; \u0026#39;ä½œä¸ºç¤ºä¾‹è·¯å¾„ï¼Œæ­¤åº”ç”¨ç¨‹åºä½äº%1\u0026#39;, ), \u0026#39;Admin: Groups\u0026#39; =\u0026gt; array ( \u0026#39;You are not allowed to delete groups.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒåˆ é™¤ç¾¤ç»„.\u0026#39;, \u0026#39;You are not allowed to manage user groups.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†ç”¨æˆ·ç»„.\u0026#39;, \u0026#39;You are not allowed to manage this group.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†æ­¤ç¾¤ç»„.\u0026#39;, \u0026#39;(%1 users)\u0026#39; =\u0026gt; \u0026#39;(%1 ç”¨æˆ·)\u0026#39;, \u0026#39;Group successfully created!\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„åˆ›å»ºæˆåŠŸ!\u0026#39;, \u0026#39;Add a new user groups.\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ–°ç”¨æˆ·ç»„.\u0026#39;, \u0026#39;Please type a name for the group!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥ç¾¤ç»„å!\u0026#39;, \u0026#39;Please don\\\u0026#39;t use special characters for the group\\\u0026#39;s name!\u0026#39; =\u0026gt; \u0026#39;è¯·ä¸è¦åœ¨ç»„åç§°ä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼\u0026#39;, \u0026#39;Group name already used. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„åå·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–åç§°.\u0026#39;, \u0026#39;Failed to create group!\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç¾¤ç»„å¤±è´¥!\u0026#39;, \u0026#39;Groups\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„\u0026#39;, \u0026#39;Create group\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç¾¤ç»„\u0026#39;, \u0026#39;Group name\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„å\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„æè¿°\u0026#39;, \u0026#39;Failed to edit group!\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘ç¾¤ç»„å¤±è´¥!\u0026#39;, \u0026#39;Edit group\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘ç¾¤ç»„\u0026#39;, \u0026#39;Delete group\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç¾¤ç»„\u0026#39;, \u0026#39;Failed to delete group!\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç¾¤ç»„å¤±è´¥!\u0026#39;, \u0026#39;Please confirm group deletion.\u0026#39; =\u0026gt; \u0026#39;ç¡®è®¤åˆ é™¤ç¾¤ç»„.\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;Edit group.\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘ç¾¤ç»„.\u0026#39;, \u0026#39;Delete group.\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç¾¤ç»„.\u0026#39;, \u0026#39;Group successfully deleted!\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤ç¾¤ç»„æˆåŠŸ!\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;å§“å\u0026#39;, \u0026#39;Created by\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºè€…\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Add Group\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ ç¾¤ç»„\u0026#39;, \u0026#39;Group successfully updated!\u0026#39; =\u0026gt; \u0026#39;ç¾¤ç»„æ›´æ–°æˆåŠŸ!\u0026#39;, ), \u0026#39;Admin: Notifications\u0026#39; =\u0026gt; array ( \u0026#39;Notifications\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥\u0026#39;, \u0026#39;Notification rule added.\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥è§’è‰²æ·»åŠ æˆåŠŸ.\u0026#39;, \u0026#39;Failed to add notification!\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥è§’è‰²æ·»åŠ å¤±è´¥!\u0026#39;, \u0026#39;Please type an email address.\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥Emailåœ°å€.\u0026#39;, \u0026#39;Please select at least one action.\u0026#39; =\u0026gt; \u0026#39;è¯·é€‰æ‹©è‡³å°‘1ä¸ªåŠ¨ä½œ.\u0026#39;, \u0026#39;Notification rule removed.\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥è§’è‰²åˆ é™¤æˆåŠŸ.\u0026#39;, \u0026#39;Failed to remove notification!\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥è§’è‰²åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;Action\u0026#39; =\u0026gt; \u0026#39;åŠ¨ä½œ\u0026#39;, \u0026#39;E-mail address\u0026#39; =\u0026gt; \u0026#39;Emailåœ°å€\u0026#39;, \u0026#39;Ungrouped users\u0026#39; =\u0026gt; \u0026#39;æœªåˆ†ç»„ç”¨æˆ·\u0026#39;, \u0026#39;File previewed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²é¢„è§ˆ\u0026#39;, \u0026#39;File uploaded\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ å®Œæ¯•\u0026#39;, \u0026#39;File received (via upload)\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²æ¥æ”¶ (é€šè¿‡ä¸Šä¼ )\u0026#39;, \u0026#39;File received (via copy)\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²æ¥æ”¶ (é€šè¿‡å¤åˆ¶)\u0026#39;, \u0026#39;File received (via move)\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²æ¥æ”¶ (é€šè¿‡ç§»åŠ¨)\u0026#39;, \u0026#39;Upload failed\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ å¤±è´¥\u0026#39;, \u0026#39;File downloaded\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸‹è½½å®Œæ¯•\u0026#39;, \u0026#39;WebLink download\u0026#39; =\u0026gt; \u0026#39;Webé“¾æ¥ä¸‹è½½\u0026#39;, \u0026#39;File received (via WebLink)\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²æ¥æ”¶(é€šè¿‡WebLink)\u0026#39;, \u0026#39;Folder shared\u0026#39; =\u0026gt; \u0026#39;ç›®å½•å…±äº«å®Œæ¯•\u0026#39;, \u0026#39;Folder unshared\u0026#39; =\u0026gt; \u0026#39;ç›®å½•è§£é™¤å…±äº«å®Œæ¯•\u0026#39;, \u0026#39;New shared folder available\u0026#39; =\u0026gt; \u0026#39;æ–°å…±äº«ç›®å½•ç”Ÿæ•ˆ\u0026#39;, \u0026#39;Login\u0026#39; =\u0026gt; \u0026#39;ç™»å½•\u0026#39;, \u0026#39;Logout\u0026#39; =\u0026gt; \u0026#39;æ³¨é”€\u0026#39;, \u0026#39;File moved\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç§»åŠ¨å®Œæ¯•\u0026#39;, \u0026#39;Folder moved\u0026#39; =\u0026gt; \u0026#39;ç›®å½•ç§»åŠ¨å®Œæ¯•\u0026#39;, \u0026#39;Folder copied\u0026#39; =\u0026gt; \u0026#39;ç›®å½•å¤åˆ¶å®Œæ¯•\u0026#39;, \u0026#39;Failed to copy folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•å¤åˆ¶å¤±è´¥\u0026#39;, \u0026#39;File copied\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤åˆ¶å®Œæ¯•\u0026#39;, \u0026#39;File deleted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶åˆ é™¤å®Œæ¯•\u0026#39;, \u0026#39;Folder deleted\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ é™¤å®Œæ¯•\u0026#39;, \u0026#39;File renamed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é‡å‘½åå®Œæ¯•\u0026#39;, \u0026#39;Failed to rename file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é‡å‘½åå¤±è´¥\u0026#39;, \u0026#39;Folder renamed\u0026#39; =\u0026gt; \u0026#39;ç›®å½•é‡å‘½åå®Œæ¯•\u0026#39;, \u0026#39;New folder created\u0026#39; =\u0026gt; \u0026#39;æ–°ç›®å½•åˆ›å»ºå®Œæ¯•\u0026#39;, \u0026#39;WebLink upload failed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸Šä¼ å¤±è´¥\u0026#39;, \u0026#39;Failed to move file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç§»åŠ¨å¤±è´¥\u0026#39;, \u0026#39;Failed to copy file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤åˆ¶å¤±è´¥\u0026#39;, \u0026#39;Failed to move folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•ç§»åŠ¨å¤±è´¥\u0026#39;, \u0026#39;Failed to delete file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶åˆ é™¤å¤±è´¥\u0026#39;, \u0026#39;Failed to delete folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ é™¤å¤±è´¥\u0026#39;, \u0026#39;Failed to rename folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•é‡å‘½åå¤±è´¥\u0026#39;, \u0026#39;Failed to create new folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•åˆ›å»ºå¤±è´¥\u0026#39;, \u0026#39;File version restored\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬è¿˜åŸå®Œæ¯•\u0026#39;, \u0026#39;Failed to restore file version\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬è¿˜åŸå¤±è´¥\u0026#39;, \u0026#39;File version deleted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬åˆ é™¤å®Œæ¯•\u0026#39;, \u0026#39;Failed to delete file version\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç‰ˆæœ¬åˆ é™¤å¤±è´¥\u0026#39;, \u0026#39;New user registration\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ³¨å†Œ\u0026#39;, \u0026#39;Folder zipped\u0026#39; =\u0026gt; \u0026#39;ç›®å½•æ‰“åŒ…å®Œæ¯•\u0026#39;, \u0026#39;Failed to zip folder\u0026#39; =\u0026gt; \u0026#39;ç›®å½•æ‰“åŒ…å¤±è´¥\u0026#39;, \u0026#39;Files zipped\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰“åŒ…å®Œæ¯•\u0026#39;, \u0026#39;Failed to zip files\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰“åŒ…å¤±è´¥\u0026#39;, \u0026#39;Restored deleted file\u0026#39; =\u0026gt; \u0026#39;è¿˜åŸå·²åˆ é™¤æ–‡ä»¶å®Œæ¯•\u0026#39;, \u0026#39;Restored deleted folder\u0026#39; =\u0026gt; \u0026#39;è¿˜åŸå·²åˆ é™¤ç›®å½•å®Œæ¯•\u0026#39;, \u0026#39;File permanently deleted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²æ°¸ä¹…åˆ é™¤\u0026#39;, \u0026#39;Folder permanently deleted\u0026#39; =\u0026gt; \u0026#39;ç›®å½•å·²æ°¸ä¹…åˆ é™¤\u0026#39;, \u0026#39;File locked\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é”å®šå®Œæ¯•\u0026#39;, \u0026#39;Failed to lock file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶é”å®šå¤±è´¥\u0026#39;, \u0026#39;File unlocked\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è§£é”å®Œæ¯•\u0026#39;, \u0026#39;Failed to unlock file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è§£é”å¤±è´¥\u0026#39;, \u0026#39;File comment added\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç•™è¨€æ·»åŠ å®Œæ¯•\u0026#39;, \u0026#39;Failed to add comment to file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç•™è¨€æ·»åŠ å¤±è´¥\u0026#39;, \u0026#39;File comment removed\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç•™è¨€ç§»é™¤å®Œæ¯•\u0026#39;, \u0026#39;Failed to remove comment from file\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç•™è¨€ç§»é™¤å¤±è´¥\u0026#39;, \u0026#39;Files sent by email\u0026#39; =\u0026gt; \u0026#39;Emailå‘é€æ–‡ä»¶å®Œæ¯•\u0026#39;, \u0026#39;Failed to send files by email\u0026#39; =\u0026gt; \u0026#39;Emailå‘é€æ–‡ä»¶å¤±è´¥\u0026#39;, \u0026#39;You are not allowed to manage e-mail notifications.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†Emailé€šçŸ¥.\u0026#39;, \u0026#39;User added\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ·»åŠ å®Œæ¯•\u0026#39;, \u0026#39;User edited\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·ç¼–è¾‘å®Œæ¯•\u0026#39;, \u0026#39;User deleted\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·åˆ é™¤å®Œæ¯•\u0026#39;, \u0026#39;User manual activation\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ‰‹åŠ¨æ¿€æ´»\u0026#39;, \u0026#39;User manual deactivation\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æ‰‹åŠ¨é”å®š\u0026#39;, \u0026#39;Space quota warning\u0026#39; =\u0026gt; \u0026#39;ç©ºé—´é…é¢æŠ¥è­¦\u0026#39;, \u0026#39;Password recovery\u0026#39; =\u0026gt; \u0026#39;å¯†ç æ¢å¤\u0026#39;, \u0026#39;WebLink removed\u0026#39; =\u0026gt; \u0026#39;WebLinkå·²åˆ é™¤\u0026#39;, \u0026#39;WebLink modified\u0026#39; =\u0026gt; \u0026#39;WebLinkå·²åˆ é™¤\u0026#39;, \u0026#39;WebLink created\u0026#39; =\u0026gt; \u0026#39;WebLinkå·²åˆ›å»º\u0026#39;, \u0026#39;Metadata changed\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®å·²æ›´æ”¹\u0026#39;, \u0026#39;Role added\u0026#39; =\u0026gt; \u0026#39;è§’è‰²å·²æ·»åŠ \u0026#39;, \u0026#39;Role edited\u0026#39; =\u0026gt; \u0026#39;è§’è‰²å·²ç¼–è¾‘\u0026#39;, \u0026#39;Role deleted\u0026#39; =\u0026gt; \u0026#39;è§’è‰²å·²åˆ é™¤\u0026#39;, \u0026#39;Add Notification Rule\u0026#39; =\u0026gt; \u0026#39;æ–°å¢æé†’è§„åˆ™\u0026#39;, \u0026#39;Edit Notification Rule\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘æé†’è§„åˆ™\u0026#39;, \u0026#39;Delete Notification Rule\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤æé†’è§„åˆ™\u0026#39;, \u0026#39;Please confirm notification rule deletion.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤è¦åˆ é™¤æé†’è§„åˆ™ã€‚\u0026#39;, \u0026#39;User or group\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·æˆ–ç»„\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Notify e-mail address\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶é€šçŸ¥\u0026#39;, \u0026#39;Actions\u0026#39; =\u0026gt; \u0026#39;è¡ŒåŠ¨\u0026#39;, \u0026#39;WebLink folder access\u0026#39; =\u0026gt; \u0026#39;WebLinkæ–‡ä»¶å¤¹åœ°å€\u0026#39;, \u0026#39;File encrypted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²åŠ å¯†\u0026#39;, \u0026#39;File decrypted\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²è§£å¯†\u0026#39;, \u0026#39;Logs\u0026#39; =\u0026gt; \u0026#39;æ—¥å¿—\u0026#39;, \u0026#39;E-mail notifications logs\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶æé†’æ—¥å¿—\u0026#39;, \u0026#39;Sent message (%1)\u0026#39; =\u0026gt; \u0026#39;å‘é€æ¶ˆæ¯ (%1)\u0026#39;, \u0026#39;Date\u0026#39; =\u0026gt; \u0026#39;æ—¥æœŸ\u0026#39;, \u0026#39;From\u0026#39; =\u0026gt; \u0026#39;ä»\u0026#39;, \u0026#39;To\u0026#39; =\u0026gt; \u0026#39;åˆ°\u0026#39;, \u0026#39;Subject\u0026#39; =\u0026gt; \u0026#39;ä¸»é¢˜\u0026#39;, \u0026#39;Has errors\u0026#39; =\u0026gt; \u0026#39;å‘é€é”™è¯¯\u0026#39;, \u0026#39;File downloaded by another user\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²è¢«å…¶ä»–ç”¨æˆ·ä¸‹è½½\u0026#39;, \u0026#39;Folder added to BitTorrent Sync\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å·²ç»æ·»åŠ åˆ°BitTorrent Sync\u0026#39;, \u0026#39;Folder removed from BitTorrent Sync\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å¤¹ä»BitTorreny Syncåˆ é™¤\u0026#39;, \u0026#39;Label changed\u0026#39; =\u0026gt; \u0026#39;å˜æ›´æ ‡è®°\u0026#39;, \u0026#39;Star added\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ”¶è—\u0026#39;, \u0026#39;Star removed\u0026#39; =\u0026gt; \u0026#39;ç§»é™¤æ”¶è—\u0026#39;, \u0026#39;Trash emptied\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºå›æ”¶ç«™\u0026#39;, \u0026#39;Failed to empty trash\u0026#39; =\u0026gt; \u0026#39;æ¸…ç©ºå›æ”¶ç«™å¤±è´¥\u0026#39;, \u0026#39;Label received\u0026#39; =\u0026gt; \u0026#39;æ”¶åˆ°æ ‡ç­¾ \u0026#39;, \u0026#39;Download failed\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½å¤±è´¥\u0026#39;, \u0026#39;Notification rule successfully deleted!\u0026#39; =\u0026gt; \u0026#39;é€šçŸ¥è§„åˆ™å·²æˆåŠŸåˆ é™¤\u0026#39;, \u0026#39;Folder received (via copy)\u0026#39; =\u0026gt; \u0026#39;æ”¶åˆ°æ–‡ä»¶å¤¹ï¼ˆé€šè¿‡å¤åˆ¶ï¼‰\u0026#39;, \u0026#39;Folder received (via move)\u0026#39; =\u0026gt; \u0026#39;æ”¶åˆ°æ–‡ä»¶å¤¹ï¼ˆé€šè¿‡ç§»åŠ¨ï¼‰ \u0026#39;, \u0026#39;File shared\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶å…±äº«\u0026#39;, \u0026#39;File unshared\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æœªå…±äº«\u0026#39;, \u0026#39;New shared file available\u0026#39; =\u0026gt; \u0026#39;æ–°çš„å…±äº«æ–‡ä»¶å¯ç”¨\u0026#39;, \u0026#39;Guest user added\u0026#39; =\u0026gt; \u0026#39;è®¿å®¢ç”¨æˆ·å·²æ·»åŠ \u0026#39;, \u0026#39;Guest account created\u0026#39; =\u0026gt; \u0026#39;æ¥å®¾å¸æˆ·å·²åˆ›å»º\u0026#39;, ), \u0026#39;Admin: Logs\u0026#39; =\u0026gt; array ( \u0026#39;Date Format: Grid - Date\u0026#39; =\u0026gt; \u0026#39;Y-m-d H:i\u0026#39;, \u0026#39;Activity logs\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;Toggle search options\u0026#39; =\u0026gt; \u0026#39;æœç´¢é€‰é¡¹\u0026#39;, \u0026#39;User\u0026#39; =\u0026gt; \u0026#39;å•ç”¨æˆ·\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;å¤šç”¨æˆ·\u0026#39;, \u0026#39;Actions\u0026#39; =\u0026gt; \u0026#39;åŠ¨ä½œ\u0026#39;, \u0026#39;Date start\u0026#39; =\u0026gt; \u0026#39;å¼€å§‹æ—¥æœŸ\u0026#39;, \u0026#39;Date end\u0026#39; =\u0026gt; \u0026#39;æˆªæ­¢æ—¥æœŸ\u0026#39;, \u0026#39;Search\u0026#39; =\u0026gt; \u0026#39;æœç´¢\u0026#39;, \u0026#39;Loading data...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½æ•°æ®...\u0026#39;, \u0026#39;Date\u0026#39; =\u0026gt; \u0026#39;æ—¥æœŸ\u0026#39;, \u0026#39;Details\u0026#39; =\u0026gt; \u0026#39;è¯¦ç»†\u0026#39;, \u0026#39;Keyword\u0026#39; =\u0026gt; \u0026#39;å…³é”®å­—\u0026#39;, \u0026#39;Please confirm the archiving and deletion of the activity logs.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤å½’æ¡£å¹¶åˆ é™¤æ´»åŠ¨æ—¥å¿—.\u0026#39;, \u0026#39;Activity log has been successfuly archived!\u0026#39; =\u0026gt; \u0026#39;æ´»åŠ¨æ—¥å¿—å½’æ¡£å®Œæ¯•!\u0026#39;, \u0026#39;Failed to retrieve log data!\u0026#39; =\u0026gt; \u0026#39;æ¢å¤æ—¥å¿—æ•°æ®å¤±è´¥!\u0026#39;, \u0026#39;Failed to create archive file!\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºå½’æ¡£æ–‡ä»¶å¤±è´¥!\u0026#39;, \u0026#39;Failed to clear logs!\u0026#39; =\u0026gt; \u0026#39;æ¸…é™¤æ—¥å¿—å¤±è´¥!\u0026#39;, \u0026#39;Failed to archive logs!\u0026#39; =\u0026gt; \u0026#39;å½’æ¡£æ—¥å¿—å¤±è´¥!\u0026#39;, \u0026#39;You are not allowed to access the activity logs.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒè®¿é—®æ´»åŠ¨æ—¥å¿—.\u0026#39;, \u0026#39;Export results to CSV\u0026#39; =\u0026gt; \u0026#39;åˆ°å¤„ç»“æœåˆ°CSV\u0026#39;, \u0026#39;Action\u0026#39; =\u0026gt; \u0026#39;è¡ŒåŠ¨\u0026#39;, \u0026#39;Search Activity Logs\u0026#39; =\u0026gt; \u0026#39;æœç´¢æ´»åŠ¨æ—¥å¿—\u0026#39;, \u0026#39;Export\u0026#39; =\u0026gt; \u0026#39;å¯¼å‡º\u0026#39;, ), \u0026#39;Admin: Metadata\u0026#39; =\u0026gt; array ( \u0026#39;You cannot delete this file type.\u0026#39; =\u0026gt; \u0026#39;æ‚¨ä¸èƒ½åˆ é™¤æ­¤æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;Metadata\u0026#39; =\u0026gt; \u0026#39;å…ƒæ•°æ®\u0026#39;, \u0026#39;Manage the different types of information that can be associated with classes of files.\u0026#39; =\u0026gt; \u0026#39;ç®¡ç†å„ç§ä¸æ–‡ä»¶å…³è”çš„ç±»å‹ä¿¡æ¯.\u0026#39;, \u0026#39;You are not allowed to manage the metadata settings.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†å…ƒæ•°æ®è®¾ç½®.\u0026#39;, \u0026#39;Fieldsets\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—\u0026#39;, ), \u0026#39;Admin: Metadata: Filetypes\u0026#39; =\u0026gt; array ( \u0026#39;Comma separated list of file types that should automatically use this file type.\u0026#39; =\u0026gt; \u0026#39;é€—å·åˆ†éš”çš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼Œåº”è‡ªåŠ¨ä½¿ç”¨æ­¤æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;File type\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;File types\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;File type successfully created!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åˆ›å»ºæˆåŠŸ!\u0026#39;, \u0026#39;File type successfully deleted!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åˆ é™¤æˆåŠŸ!\u0026#39;, \u0026#39;Add File Type\u0026#39; =\u0026gt; \u0026#39;åˆ›å»º\u0026#39;, \u0026#39;Please type a name for the file type!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥æ–‡ä»¶ç±»å‹åç§°!\u0026#39;, \u0026#39;Please don\\\u0026#39;t use weird characters for the file type\\\u0026#39;s name!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åç§°è¯·å‹¿ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦!\u0026#39;, \u0026#39;File type name already in use. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–åç§°.\u0026#39;, \u0026#39;Failed to edit file type!\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘æ–‡ä»¶ç±»å‹å¤±è´¥!\u0026#39;, \u0026#39;Failed to add file type!\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ–‡ä»¶ç±»å‹å¤±è´¥!\u0026#39;, \u0026#39;Edit File Type\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘æ–‡ä»¶ç±»å‹\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿°\u0026#39;, \u0026#39;Click here to manage fieldsets.\u0026#39; =\u0026gt; \u0026#39;ç‚¹æ­¤ç®¡ç†å±æ€§åˆ—.\u0026#39;, \u0026#39;Delete File Type\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;File type successfully updated!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹æ›´æ–°æˆåŠŸ!\u0026#39;, \u0026#39;Failed to delete file type!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;Please confirm file type deletion.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤åˆ é™¤æ–‡ä»¶ç±»å‹.\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Field sets\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Created by\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºè€…\u0026#39;, \u0026#39;File type name\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹åç§°\u0026#39;, \u0026#39;File extensions\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰©å±•å \u0026#39;, \u0026#39;Comma separated list of file extensions that should automatically use this file type.\u0026#39; =\u0026gt; \u0026#39;é€—å·åˆ†éš”çš„åº”è¯¥è‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ç±»å‹çš„æ–‡ä»¶æ‰©å±•ååˆ—è¡¨\u0026#39;, \u0026#39;Automatic source\u0026#39; =\u0026gt; \u0026#39;è‡ªåŠ¨æ¥æº \u0026#39;, \u0026#39;This is the path to the \u0026#34;Media Info\u0026#34; field.\u0026#39; =\u0026gt; \u0026#39;è¿™æ˜¯â€œåª’ä½“ä¿¡æ¯â€å­—æ®µçš„è·¯å¾„\u0026#39;, \u0026#39;File count\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ•°é‡ \u0026#39;, ), \u0026#39;Admin: Metadata: Fieldsets\u0026#39; =\u0026gt; array ( \u0026#39;Fieldset successfully deleted!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;Add Field Set\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ å­—æ®µé›† \u0026#39;, \u0026#39;Please type a name for the field set!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å±æ€§åˆ—åç§°!\u0026#39;, \u0026#39;Field set name already in use. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åç§°å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–åç§°.\u0026#39;, \u0026#39;Failed to edit field set!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—ç¼–è¾‘å¤±è´¥!\u0026#39;, \u0026#39;Failed to add field set!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—æ·»åŠ å¤±è´¥!\u0026#39;, \u0026#39;Failed to delete field set!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;Field set successfully added\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ›å»ºæˆåŠŸ\u0026#39;, \u0026#39;Field set successfully updated\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—æ›´æ–°æˆåŠŸ\u0026#39;, \u0026#39;Field set name\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åç§°\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿°\u0026#39;, \u0026#39;Generic field set\u0026#39; =\u0026gt; \u0026#39;å¸¸è§„å±æ€§\u0026#39;, \u0026#39;A generic field set is one that is available for every file by default.\u0026#39; =\u0026gt; \u0026#39;å¸¸è§„å±æ€§é»˜è®¤å¯¹äºæ‰€æœ‰æ–‡ä»¶æœ‰æ•ˆ.\u0026#39;, \u0026#39;Edit\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤å±æ€§åˆ—\u0026#39;, \u0026#39;Fieldsets\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Fields\u0026#39; =\u0026gt; \u0026#39;å­—æ®µ\u0026#39;, \u0026#39;Created by\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºè€…\u0026#39;, \u0026#39;Edit Field Set\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘å­—æ®µé›†\u0026#39;, \u0026#39;Delete Field Set\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤å­—æ®µé›†\u0026#39;, \u0026#39;Field set successfuly deleted\u0026#39; =\u0026gt; \u0026#39;å­—æ®µé›†æˆåŠŸåˆ é™¤\u0026#39;, \u0026#39;Basic Info\u0026#39; =\u0026gt; \u0026#39;åŸºç¡€ä¿¡æ¯\u0026#39;, \u0026#39;Fields can be added after creating the set.\u0026#39; =\u0026gt; \u0026#39;å­—æ®µå¯ä»¥åœ¨åˆ›å»ºé›†åˆåæ·»åŠ ã€‚\u0026#39;, \u0026#39;Please confirm field set deletion.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤åˆ é™¤å­—æ®µé›†ã€‚\u0026#39;, \u0026#39;Add\u0026#39; =\u0026gt; \u0026#39;æ–°å»º\u0026#39;, ), \u0026#39;Admin: Metadata: Fields\u0026#39; =\u0026gt; array ( \u0026#39;Fields\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—\u0026#39;, \u0026#39;Add Field\u0026#39; =\u0026gt; \u0026#39;åˆ›å»º\u0026#39;, \u0026#39;Edit Field\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘\u0026#39;, \u0026#39;Field successfully deleted!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ é™¤æˆåŠŸ!\u0026#39;, \u0026#39;Please type a name for the field!\u0026#39; =\u0026gt; \u0026#39;è¯·è¾“å…¥å±æ€§åˆ—åç§°!\u0026#39;, \u0026#39;Field name already in use. Please choose another one.\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åç§°å·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–åç§°.\u0026#39;, \u0026#39;Failed to edit field!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—ç¼–è¾‘å¤±è´¥!\u0026#39;, \u0026#39;Failed to delete field!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ é™¤å¤±è´¥!\u0026#39;, \u0026#39;Failed to add fieldset!\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—æ·»åŠ å¤±è´¥!\u0026#39;, \u0026#39;Field successfully added\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—æ·»åŠ æˆåŠŸ\u0026#39;, \u0026#39;Field successfully updated\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—æ›´æ–°æˆåŠŸ\u0026#39;, \u0026#39;Field successfully deleted\u0026#39; =\u0026gt; \u0026#39;å±æ€§åˆ—åˆ é™¤æˆåŠŸ\u0026#39;, \u0026#39;Delete Field\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;Field name\u0026#39; =\u0026gt; \u0026#39;å±æ€§åç§°\u0026#39;, \u0026#39;Show by default as column in file grid\u0026#39; =\u0026gt; \u0026#39;é»˜è®¤ä»¥åˆ—æ˜¾ç¤º\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿°\u0026#39;, \u0026#39;Hide fieldset name in column header\u0026#39; =\u0026gt; \u0026#39;åˆ—çš„å¤´éƒ¨éšè—å±æ€§åç§°\u0026#39;, \u0026#39;Predefined values\u0026#39; =\u0026gt; \u0026#39;é¢„å®šä¹‰å€¼\u0026#39;, \u0026#39;Separate values by commas. Example: one, two, three\u0026#39; =\u0026gt; \u0026#39;å€¼ç”¨é€—å·åˆ†å¼€. ä¾‹å¦‚: 1, 2, 3\u0026#39;, \u0026#39;The already attached meta information will remained unchanged, even though you rename the values here.\u0026#39; =\u0026gt; \u0026#39;å³æ—¶æ‚¨é‡å‘½åå€¼ï¼Œå·²ç»å­˜åœ¨çš„å…ƒä¿¡æ¯ä¹Ÿå°†ä¿æŒä¸å˜\u0026#39;, \u0026#39;Please confirm field deletion.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤å±æ€§åˆ é™¤.\u0026#39;, \u0026#39;Sort\u0026#39; =\u0026gt; \u0026#39;åˆ†ç±»\u0026#39;, \u0026#39;Set a number to define the field\\\u0026#39;s sorting position.\u0026#39; =\u0026gt; \u0026#39;è®¾ç½®ä¸€ä¸ªæ•°å­—ä»¥å®šä¹‰å­—æ®µçš„æ’åºä½ç½®\u0026#39;, \u0026#39;Field type\u0026#39; =\u0026gt; \u0026#39;å±æ€§ç±»å‹ \u0026#39;, \u0026#39;Normal text\u0026#39; =\u0026gt; \u0026#39;æ™®é€šæ–‡æœ¬ \u0026#39;, \u0026#39;Large text\u0026#39; =\u0026gt; \u0026#39;å¤§æ–‡æœ¬ \u0026#39;, \u0026#39;Predefined list\u0026#39; =\u0026gt; \u0026#39;é¢„å®šä¹‰åˆ—è¡¨ \u0026#39;, \u0026#39;Multiple values\u0026#39; =\u0026gt; \u0026#39;å¤šä¸ªå€¼ \u0026#39;, \u0026#39;Date/time\u0026#39; =\u0026gt; \u0026#39;æ—¥æœŸ/æ—¶é—´\u0026#39;, ), \u0026#39;Admin: Licensing\u0026#39; =\u0026gt; array ( \u0026#39;Software licensing\u0026#39; =\u0026gt; \u0026#39;è½¯ä»¶è®¸å¯ä¿¡æ¯\u0026#39;, \u0026#39;You are using \u0026lt;b\u0026gt;%1 user accounts\u0026lt;/b\u0026gt; out of \u0026lt;b\u0026gt;%2\u0026lt;/b\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;æ‚¨å·²ç»åˆ›å»º\u0026lt;b\u0026gt;%1ä¸ªç”¨æˆ·\u0026lt;/b\u0026gt;ï¼Œæˆæƒå…±è®¸å¯\u0026lt;b\u0026gt;%2ä¸ªç”¨æˆ·\u0026lt;/b\u0026gt;ã€‚\u0026#39;, \u0026#39;Update\u0026#39; =\u0026gt; \u0026#39;æ›´æ–°\u0026#39;, \u0026#39;Failed to upgrade license:\u0026#39; =\u0026gt; \u0026#39;å‡çº§è®¸å¯å¤±è´¥:\u0026#39;, \u0026#39;Failed to connect to licensing server!\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥æˆæƒæœåŠ¡å™¨å¤±è´¥ï¼\u0026#39;, \u0026#39;License successfully updated.\u0026#39; =\u0026gt; \u0026#39;æˆæƒå‡çº§æˆåŠŸï¼\u0026#39;, \u0026#39;The license will expire on \u0026lt;b\u0026gt;%1\u0026lt;/b\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;æˆæƒå°†äº\u0026lt;b\u0026gt;%1\u0026lt;/b\u0026gt;è¿‡æœŸã€‚\u0026#39;, \u0026#39;License upgraded.\u0026lt;br\u0026gt;\u0026lt;span class=\u0026#34;nowrap\u0026#34;\u0026gt;You can now have \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; user accounts.\u0026lt;/span\u0026gt;\u0026#39; =\u0026gt; \u0026#39;è®¸å¯å‡çº§æˆåŠŸ.\u0026lt;br\u0026gt;\u0026lt;span class=\u0026#34;nowrap\u0026#34;\u0026gt;æ‚¨ç°åœ¨å¯ä»¥æ‹¥æœ‰ \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; ç”¨æˆ·.\u0026lt;/span\u0026gt;\u0026#39;, \u0026#39;License key in use: \u0026lt;b\u0026gt;%1\u0026lt;/b\u0026gt;\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨ä½¿ç”¨çš„æˆæƒï¼š\u0026lt;b\u0026gt;%1\u0026lt;/b\u0026gt;\u0026#39;, \u0026#39;unlimited\u0026#39; =\u0026gt; \u0026#39;æ— é™åˆ¶\u0026#39;, \u0026#39;Please provide the key!\u0026#39; =\u0026gt; \u0026#39;è¯·æä¾›æˆæƒ key ï¼\u0026#39;, \u0026#39;Your FileRun license is now registered.\u0026#39; =\u0026gt; \u0026#39;ä½ çš„ FileRun æˆæƒå·²æˆåŠŸæ³¨å†Œ\u0026#39;, \u0026#39;An e-mail message has been now sent to you.\u0026#39; =\u0026gt; \u0026#39;ä¸€å°é‚®ä»¶å·²å‘é€è‡³ä½ çš„ E-mail é‚®ç®±\u0026#39;, ), \u0026#39;Admin: Software update\u0026#39; =\u0026gt; array ( \u0026#39;Software update\u0026#39; =\u0026gt; \u0026#39;è½¯ä»¶å‡çº§\u0026#39;, \u0026#39;Step 1:\u0026#39; =\u0026gt; \u0026#39;ç¬¬1æ­¥:\u0026#39;, \u0026#39;Check for updates\u0026#39; =\u0026gt; \u0026#39;æ£€æŸ¥æ›´æ–°\u0026#39;, \u0026#39;Step 2:\u0026#39; =\u0026gt; \u0026#39;ç¬¬2æ­¥:\u0026#39;, \u0026#39;Download update\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½æ›´æ–°\u0026#39;, \u0026#39;Step 3:\u0026#39; =\u0026gt; \u0026#39;ç¬¬3æ­¥:\u0026#39;, \u0026#39;Install update\u0026#39; =\u0026gt; \u0026#39;å®‰è£…æ›´æ–°\u0026#39;, \u0026#39;Start over (to check for more updates)\u0026#39; =\u0026gt; \u0026#39;é‡æ–°æ£€æŸ¥å¯ç”¨æ›´æ–°\u0026#39;, \u0026#39;Step 4:\u0026#39; =\u0026gt; \u0026#39;ç¬¬4æ­¥:\u0026#39;, \u0026#39;Your current software version is %1\u0026#39; =\u0026gt; \u0026#39;å½“å‰è½¯ä»¶ç‰ˆæœ¬ä¸º%1\u0026#39;, \u0026#39;Upload starting...\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ å¼€å§‹......\u0026#39;, \u0026#39;Uploading...%1%\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ ...%1%\u0026#39;, \u0026#39;Uploading software update files is not available.\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¸Šä¼ è½¯ä»¶æ›´æ–°æ–‡ä»¶\u0026#39;, \u0026#39;Failed to upload file \u0026#34;%1\u0026#34;: %2\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¸Šä¼ æ–‡ä»¶\u0026#34;%1\u0026#34;: %2\u0026#39;, \u0026#39;The file needs to be a Zip archive!\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶éœ€è¦æ˜¯Zipå­˜æ¡£\u0026#39;, \u0026#39;The filename should not contain space characters!\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶åä¸åº”åŒ…å«ç©ºæ ¼å­—ç¬¦\u0026#39;, \u0026#39;Update file successfully uploaded.\u0026#39; =\u0026gt; \u0026#39;æ›´æ–°æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ \u0026#39;, \u0026#39;Failed to upload update file. The temporary file on the server is missing. Please try again.\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¸Šä¼ æ›´æ–°æ–‡ä»¶ã€‚æœåŠ¡å™¨ä¸Šçš„ä¸´æ—¶æ–‡ä»¶ä¸¢å¤±ã€‚è¯·å†è¯•ä¸€æ¬¡ã€‚\u0026#39;, \u0026#39;Upload failed: %1\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ å¤±è´¥: %1\u0026#39;, ), \u0026#39;Admin: Roles\u0026#39; =\u0026gt; array ( \u0026#39;Add a new user role.\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ æ–°ç”¨æˆ·è§’è‰²\u0026#39;, \u0026#39;Create role\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºè§’è‰²\u0026#39;, \u0026#39;Role name\u0026#39; =\u0026gt; \u0026#39;è§’è‰²åç§°\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿°\u0026#39;, \u0026#39;Automatically create the folder if it doesn\\\u0026#39;t exists.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœä¸å­˜åœ¨ï¼Œè‡ªåŠ¨åˆ›å»ºç›®å½•.\u0026#39;, \u0026#39;(%1 users)\u0026#39; =\u0026gt; \u0026#39;(%1 ç”¨æˆ·)\u0026#39;, \u0026#39;Edit Role\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘è§’è‰²\u0026#39;, \u0026#39;Delete Role\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤è§’è‰²\u0026#39;, \u0026#39;Please set a home folder template.\u0026#39; =\u0026gt; \u0026#39;è¯·è®¾ç½®ä¸€ä¸ªä¸»ç›®å½•æ¨¡æ¿\u0026#39;, \u0026#39;Please confirm role deletion.\u0026#39; =\u0026gt; \u0026#39;è¯·ç¡®è®¤åˆ é™¤è§’è‰².\u0026#39;, \u0026#39;Delete\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤\u0026#39;, \u0026#39;You are required to set a space quota for this role!\u0026#39; =\u0026gt; \u0026#39;æ‚¨åº”ä¸ºæ­¤è§’è‰²è®¾ç½®ç©ºé—´é…é¢!\u0026#39;, \u0026#39;You are required to set a traffic quota for this role!\u0026#39; =\u0026gt; \u0026#39;æ‚¨åº”ä¸ºæ­¤è§’è‰²è®¾ç½®æµé‡é…é¢!\u0026#39;, \u0026#39;The maximum traffic quota you can assign to this role is %1MB!\u0026#39; =\u0026gt; \u0026#39;æ‚¨èƒ½ä¸ºæ­¤è§’è‰²åˆ†é…çš„æœ€å¤§æµé‡é…é¢æ˜¯ %1MB!\u0026#39;, \u0026#39;The maximum space quota you can assign to this role is %1MB!\u0026#39; =\u0026gt; \u0026#39;æ‚¨èƒ½ä¸ºæ­¤è§’è‰²åˆ†é…çš„æœ€å¤§ç©ºé—´é…é¢æ˜¯ %1MB!\u0026#39;, \u0026#39;You are not allowed to manage this role.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†æ­¤è§’è‰².\u0026#39;, \u0026#39;You are not allowed to manage user roles.\u0026#39; =\u0026gt; \u0026#39;æ‚¨æ— æƒç®¡ç†ç”¨æˆ·è§’è‰².\u0026#39;, \u0026#39;Role successfully created!\u0026#39; =\u0026gt; \u0026#39;è§’è‰²åˆ›å»ºæˆåŠŸ!\u0026#39;, \u0026#39;Role successfully updated!\u0026#39; =\u0026gt; \u0026#39;è§’è‰²æ›´æ–°æˆåŠŸ!\u0026#39;, \u0026#39;Roles\u0026#39; =\u0026gt; \u0026#39;è§’è‰²\u0026#39;, \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;å§“å\u0026#39;, \u0026#39;Created by\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºè€…\u0026#39;, \u0026#39;Users\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Home folder template\u0026#39; =\u0026gt; \u0026#39;ä¸»ç›®å½•æ¨¡æ¿\u0026#39;, \u0026#39;Add Role\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ è§’è‰²\u0026#39;, \u0026#39;Save changes\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜æ›´æ”¹\u0026#39;, \u0026#39;You cannot delete this role because it is assigned to %1 users.\u0026#39; =\u0026gt; \u0026#39;ä½ ä¸èƒ½åˆ é™¤è¿™ä¸ªè§’è‰²å› ä¸ºæœ‰ %1 ä¸ªç”¨æˆ·å…³è”åˆ°è¯¥è§’è‰²ã€‚\u0026#39;, \u0026#39;Role successfully deleted!\u0026#39; =\u0026gt; \u0026#39;è§’è‰²åˆ é™¤æˆåŠŸï¼\u0026#39;, \u0026#39;Home folder\u0026#39; =\u0026gt; \u0026#39;ä¸»ç›®å½•\u0026#39;, \u0026#39;Path template\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„æ¨¡æ¿\u0026#39;, ), \u0026#39;Admin: WebLinks\u0026#39; =\u0026gt; array ( \u0026#39;Path\u0026#39; =\u0026gt; \u0026#39;è·¯å¾„\u0026#39;, \u0026#39;User\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#39;, \u0026#39;Expires\u0026#39; =\u0026gt; \u0026#39;æœ‰æ•ˆæœŸ\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Allow uploads\u0026#39; =\u0026gt; \u0026#39;å…è®¸ä¸Šä¼ \u0026#39;, \u0026#39;Created\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ—¥æœŸ\u0026#39;, ), \u0026#39;Admin: Tools\u0026#39; =\u0026gt; array ( \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;å§“å\u0026#39;, \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;Quota\u0026#39; =\u0026gt; \u0026#39;é…é¢\u0026#39;, \u0026#39;Used\u0026#39; =\u0026gt; \u0026#39;å·²ä½¿ç”¨\u0026#39;, \u0026#39;Usage\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨ç‡\u0026#39;, \u0026#39;Calculating quota usage for \u0026#34;%1\u0026#34;...\u0026#39; =\u0026gt; \u0026#39;ä¸º \u0026#34;%1\u0026#34; è®¡ç®—ç©ºé—´é…é¢ä½¿ç”¨ç‡...\u0026#39;, \u0026#39;Last reset happened on %1.\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¸€æ¬¡é‡ç½®å‘ç”Ÿäº%1\u0026#39;, \u0026#39;Reset now\u0026#39; =\u0026gt; \u0026#39;ç°åœ¨é‡ç½®\u0026#39;, \u0026#39;Id\u0026#39; =\u0026gt; \u0026#39;åºå·\u0026#39;, ), \u0026#39;Admin: Tools: Import Users\u0026#39; =\u0026gt; array ( \u0026#39;Comma\u0026#39; =\u0026gt; \u0026#39;é€—å·\u0026#39;, \u0026#39;Semicolon\u0026#39; =\u0026gt; \u0026#39;åˆ†å·\u0026#39;, \u0026#39;Tab\u0026#39; =\u0026gt; \u0026#39;åˆ¶è¡¨é”®\u0026#39;, \u0026#39;Import Users\u0026#39; =\u0026gt; \u0026#39;å¯¼å…¥ç”¨æˆ·\u0026#39;, \u0026#39;Step 1: Upload CSV File\u0026#39; =\u0026gt; \u0026#39;æ­¥éª¤ä¸€ï¼šä¸Šä¼ CSVæ–‡ä»¶\u0026#39;, \u0026#39;Step 2: Map Fields\u0026#39; =\u0026gt; \u0026#39;æ­¥éª¤äºŒï¼šæ˜ å°„å­—æ®µ\u0026#39;, \u0026#39;Step 3: Import Users\u0026#39; =\u0026gt; \u0026#39;æ­¥éª¤ä¸‰ï¼šå¯¼å…¥ç”¨æˆ·\u0026#39;, \u0026#39;Upload CSV file\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©CSVæ–‡ä»¶\u0026#39;, \u0026#39;Only CSV files are supported!\u0026#39; =\u0026gt; \u0026#39;ä»…æ”¯æŒCSVæ–‡ä»¶\u0026#39;, \u0026#39;The CSV file should have at least two columns!\u0026#39; =\u0026gt; \u0026#39;CSVæ–‡ä»¶åº”è¯¥è‡³å°‘åŒ…å«ä¸‰åˆ—æ•°æ®\u0026#39;, \u0026#39;Fields are separated by\u0026#39; =\u0026gt; \u0026#39;å­—æ®µåˆ†éš”ç”±\u0026#39;, \u0026#39;Uploading...%1%\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ ä¸­...%1%\u0026#39;, \u0026#39;Upload starting...\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ å¼€å§‹...\u0026#39;, \u0026#39;%1 records were found\u0026#39; =\u0026gt; \u0026#39;å·²å‘ç°%1ä¸ªè®°å½•\u0026#39;, \u0026#39;Assign a role to the users\u0026#39; =\u0026gt; \u0026#39;ä¸ºç”¨æˆ·åˆ†é…è§’è‰²\u0026#39;, \u0026#39;Add the users to groups\u0026#39; =\u0026gt; \u0026#39;ä¸ºç”¨æˆ·åˆ†é…ç»„\u0026#39;, \u0026#39;Start with record number\u0026#39; =\u0026gt; \u0026#39;ä»è®°å½•æ•°å¼€å§‹\u0026#39;, \u0026#39;Failed to parse file contents!\u0026#39; =\u0026gt; \u0026#39;è§£ææ–‡ä»¶å†…å®¹å¤±è´¥\u0026#39;, \u0026#39;Only the first 10 records are being displayed here.\u0026#39; =\u0026gt; \u0026#39;è¿™é‡Œåªæ˜¾ç¤ºå‰åæ¡è®°å½•\u0026#39;, \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Name 1\u0026#39; =\u0026gt; \u0026#39;å§“å 1\u0026#39;, \u0026#39;Name 2\u0026#39; =\u0026gt; \u0026#39;å§“å 2\u0026#39;, \u0026#39;Name 3\u0026#39; =\u0026gt; \u0026#39;å§“å 3\u0026#39;, \u0026#39;E-mail\u0026#39; =\u0026gt; \u0026#39;ç”µå­é‚®ä»¶\u0026#39;, \u0026#39;Company\u0026#39; =\u0026gt; \u0026#39;å…¬å¸\u0026#39;, \u0026#39;Website\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™\u0026#39;, \u0026#39;Note\u0026#39; =\u0026gt; \u0026#39;æ³¨é‡Š\u0026#39;, \u0026#39;You need to map a column for the username!\u0026#39; =\u0026gt; \u0026#39;ä½ éœ€è¦ä¸ºç”¨æˆ·åæ˜ å°„ä¸€ä¸ªå­—æ®µ\u0026#39;, \u0026#39;You need to map a column for the password!\u0026#39; =\u0026gt; \u0026#39;ä½ éœ€è¦ä¸ºå¯†ç æ˜ å°„ä¸€ä¸ªå­—æ®µ\u0026#39;, \u0026#39;You need to map at least one column for the name!\u0026#39; =\u0026gt; \u0026#39;ä½ éœ€è¦ä¸ºå§“åè‡³å°‘æ˜ å°„ä¸€ä¸ªå­—æ®µ\u0026#39;, \u0026#39;The selected role was not found!\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ‰¾åˆ°é€‰å®šçš„è§’è‰²\u0026#39;, \u0026#39;Record %1: The username is missing! The record was skipped.\u0026#39; =\u0026gt; \u0026#39;è®°å½•%1ï¼šæŸ¥æ‰¾ç”¨æˆ·åå¤±è´¥ï¼Œè¯¥è®°å½•è¢«è·³è¿‡ã€‚\u0026#39;, \u0026#39;Record %1: The name is missing! The record was skipped.\u0026#39; =\u0026gt; \u0026#39;è®°å½•%1ï¼šæŸ¥æ‰¾å§“åå¤±è´¥ï¼Œè¯¥è®°å½•è¢«è·³è¿‡ã€‚\u0026#39;, \u0026#39;Record %1: The password is missing! The record was skipped.\u0026#39; =\u0026gt; \u0026#39;è®°å½•%1ï¼šæŸ¥æ‰¾å¯†ç å¤±è´¥ï¼Œè¯¥è®°å½•è¢«è·³è¿‡ã€‚\u0026#39;, \u0026#39;Record %1: The username \u0026#34;%2\u0026#34; is already in use! The record was skipped.\u0026#39; =\u0026gt; \u0026#39;è®°å½•%1ï¼šç”¨æˆ·å\u0026#34;%2\u0026#34;å·²ç»å­˜åœ¨ï¼Œè¯¥è®°å½•è¢«è·³è¿‡ã€‚\u0026#39;, \u0026#39;Record %1: User \u0026#34;%2\u0026#34; has been added. Password: %3\u0026#39; =\u0026gt; \u0026#39;è®°å½•%1ï¼šç”¨æˆ·â€œ%2â€å·²ç»è¢«æ·»åŠ \u0026#39;, \u0026#39;Passwords are in clear text\u0026#39; =\u0026gt; \u0026#39;å¯†ç æ˜¯æ˜æ–‡ \u0026#39;, \u0026#39;Enable this option if the passwords stored in your CSV files are not encrypted.\u0026#39; =\u0026gt; \u0026#39;å¦‚æœå­˜å‚¨åœ¨CSVæ–‡ä»¶ä¸­çš„å¯†ç æœªåŠ å¯†ï¼Œè¯·å¯ç”¨æ­¤é€‰é¡¹\u0026#39;, \u0026#39;Record number\u0026#39; =\u0026gt; \u0026#39;è®°å½•ç¼–å· \u0026#39;, \u0026#39;Username/E-mail\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å/ç”µå­é‚®ä»¶ \u0026#39;, \u0026#39;Send a notification now\u0026#39; =\u0026gt; \u0026#39;ç°åœ¨å‘é€é€šçŸ¥ \u0026#39;, \u0026#39;An e-mail message with the login information will be sent to the user\\\u0026#39;s address.\u0026#39; =\u0026gt; \u0026#39;åŒ…å«ç™»å½•ä¿¡æ¯çš„ç”µå­é‚®ä»¶å°†è¢«å‘é€åˆ°ç”¨æˆ·çš„åœ°å€\u0026#39;, \u0026#39;The CSV file needs to contain at least two columns, for username and name.\u0026#39; =\u0026gt; \u0026#39;å¯¹äºç”¨æˆ·åå’Œåç§°ï¼ŒCSVæ–‡ä»¶è‡³å°‘éœ€è¦åŒ…å«ä¸¤åˆ—ã€‚\u0026#39;, \u0026#39;You will be asked to map the fields, so the names and the order of the columns are not important.\u0026#39; =\u0026gt; \u0026#39;ç³»ç»Ÿå°†è¦æ±‚æ‚¨æ˜ å°„å­—æ®µï¼Œå› æ­¤åˆ—çš„åç§°å’Œé¡ºåºå¹¶ä¸é‡è¦ã€‚\u0026#39;, ), \u0026#39;Metadata: Custom\u0026#39; =\u0026gt; array ( \u0026#39;Image proprieties\u0026#39; =\u0026gt; \u0026#39;å›¾åƒçš„è§„èŒƒ\u0026#39;, \u0026#39;Audio proprieties\u0026#39; =\u0026gt; \u0026#39;éŸ³é¢‘å±æ€§ \u0026#39;, \u0026#39;Height\u0026#39; =\u0026gt; \u0026#39;é«˜åº¦ \u0026#39;, \u0026#39;Width\u0026#39; =\u0026gt; \u0026#39;å®½åº¦ \u0026#39;, \u0026#39;Codec\u0026#39; =\u0026gt; \u0026#39;è§£ç å™¨\u0026#39;, \u0026#39;Duration\u0026#39; =\u0026gt; \u0026#39;æŒç»­æ—¶é—´ \u0026#39;, \u0026#39;Various information\u0026#39; =\u0026gt; \u0026#39;å„ç§ä¿¡æ¯ \u0026#39;, \u0026#39;Author\u0026#39; =\u0026gt; \u0026#39;ä½œè€…\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿° \u0026#39;, \u0026#39;Caption\u0026#39; =\u0026gt; \u0026#39;æ ‡é¢˜ \u0026#39;, \u0026#39;Copyright\u0026#39; =\u0026gt; \u0026#39;ç‰ˆæƒ \u0026#39;, \u0026#39;GPS latitude\u0026#39; =\u0026gt; \u0026#39;GPSçº¬åº¦ \u0026#39;, \u0026#39;GPS longitude\u0026#39; =\u0026gt; \u0026#39;GPSç»åº¦ \u0026#39;, \u0026#39;Movie title\u0026#39; =\u0026gt; \u0026#39;ç”µå½±æ ‡é¢˜ \u0026#39;, \u0026#39;Subject\u0026#39; =\u0026gt; \u0026#39;å­¦ç§‘ \u0026#39;, \u0026#39;Album\u0026#39; =\u0026gt; \u0026#39;ä¸“è¾‘ \u0026#39;, \u0026#39;Artist\u0026#39; =\u0026gt; \u0026#39;è‰ºæœ¯å®¶ \u0026#39;, \u0026#39;Title\u0026#39; =\u0026gt; \u0026#39;æ ‡é¢˜ \u0026#39;, \u0026#39;Location\u0026#39; =\u0026gt; \u0026#39;ä½ç½®\u0026#39;, \u0026#39;Tags\u0026#39; =\u0026gt; \u0026#39;æ ‡ç­¾\u0026#39;, \u0026#39;Date Created\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºæ—¥æœŸ \u0026#39;, \u0026#39;Rating\u0026#39; =\u0026gt; \u0026#39;è¯„åˆ† \u0026#39;, ), \u0026#39;Labels\u0026#39; =\u0026gt; array ( \u0026#39;APPROVED\u0026#39; =\u0026gt; \u0026#39;å·²æ‰¹å‡†\u0026#39;, \u0026#39;PENDING\u0026#39; =\u0026gt; \u0026#39;å¾…å®šä¸­\u0026#39;, \u0026#39;REJECTED\u0026#39; =\u0026gt; \u0026#39;å·²æ‹’ç»\u0026#39;, \u0026#39;Failed to insert new label\u0026#39; =\u0026gt; \u0026#39;æ’å…¥æ–°æ ‡è®°å¤±è´¥\u0026#39;, \u0026#39;No files were labeled\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ–‡ä»¶è¢«æ ‡è®°\u0026#39;, \u0026#39;File successfully labeled\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶è¢«æˆåŠŸæ ‡è®°\u0026#39;, \u0026#39;%1 files successfully labeled\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶è¢«æˆåŠŸæ ‡è®°\u0026#39;, \u0026#39;Label successfully removed\u0026#39; =\u0026gt; \u0026#39;æ ‡è®°è¢«æˆåŠŸç§»é™¤\u0026#39;, \u0026#39;Labels successfully removed from %1 files\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ–‡ä»¶çš„æ ‡è®°è¢«æˆåŠŸç§»é™¤\u0026#39;, ), \u0026#39;Custom Actions: MediaInfo\u0026#39; =\u0026gt; array ( \u0026#39;Media Info\u0026#39; =\u0026gt; \u0026#39;åª’ä½“ä¿¡æ¯ \u0026#39;, ), \u0026#39;Stars\u0026#39; =\u0026gt; array ( \u0026#39;You are not allowed to set stars!\u0026#39; =\u0026gt; \u0026#39;ä½ æ— æƒè®¾ç½®æ”¶è—\u0026#39;, \u0026#39;No stars were added\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ”¶è—è¢«æ·»åŠ \u0026#39;, \u0026#39;Star successfully added\u0026#39; =\u0026gt; \u0026#39;æ”¶è—å·²æˆåŠŸæ·»åŠ \u0026#39;, \u0026#39;%1 stars successfully added\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ”¶è—å·²æˆåŠŸæ·»åŠ \u0026#39;, \u0026#39;No stars were removed\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ”¶è—è¢«ç§»é™¤\u0026#39;, \u0026#39;Star successfully removed\u0026#39; =\u0026gt; \u0026#39;æ”¶è—å·²æˆåŠŸç§»é™¤\u0026#39;, \u0026#39;%1 stars successfully removed\u0026#39; =\u0026gt; \u0026#39;%1 ä¸ªæ”¶è—å·²æˆåŠŸç§»é™¤\u0026#39;, ), \u0026#39;Admin: Tools: Export Users\u0026#39; =\u0026gt; array ( \u0026#39;Export\u0026#39; =\u0026gt; \u0026#39;å¯¼å‡º\u0026#39;, ), \u0026#39;Admin: API\u0026#39; =\u0026gt; array ( \u0026#39;Name\u0026#39; =\u0026gt; \u0026#39;åç§°\u0026#39;, \u0026#39;Client/App name\u0026#39; =\u0026gt; \u0026#39;å®¢æˆ·/åº”ç”¨ç¨‹åºåç§° \u0026#39;, \u0026#39;Publisher\u0026#39; =\u0026gt; \u0026#39;å¼€å‘è€…\u0026#39;, \u0026#39;Client ID\u0026#39; =\u0026gt; \u0026#39;å®¢æˆ·ç«¯ID \u0026#39;, \u0026#39;Client secret\u0026#39; =\u0026gt; \u0026#39;å®¢æˆ·å¯†ç  \u0026#39;, \u0026#39;Authorized redirect URIs\u0026#39; =\u0026gt; \u0026#39;æˆæƒé‡å®šå‘URI \u0026#39;, \u0026#39;One URI per line\u0026#39; =\u0026gt; \u0026#39;æ¯è¡Œä¸€ä¸ªURI \u0026#39;, \u0026#39;Needs to start with \u0026#34;https://\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;éœ€è¦ä»¥â€œhttps://â€å¼€å¤´ã€‚\u0026#39;, \u0026#39;\u0026#34;http://\u0026#34; only allowed for \u0026#34;localhost\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;â€œhttp://â€åªå…è®¸â€œlocalhostâ€ã€‚\u0026#39;, \u0026#39;No URL fragments, and no relative paths.\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰URLç‰‡æ®µï¼Œä¹Ÿæ²¡æœ‰ç›¸å¯¹è·¯å¾„ã€‚ \u0026#39;, \u0026#39;Can\\\u0026#39;t be a non-private IP Address.\u0026#39; =\u0026gt; \u0026#39;ä¸èƒ½æ˜¯éç§äººIPåœ°å€ã€‚ \u0026#39;, \u0026#39;Website\u0026#39; =\u0026gt; \u0026#39;ç½‘ç«™\u0026#39;, \u0026#39;Description\u0026#39; =\u0026gt; \u0026#39;æè¿° \u0026#39;, \u0026#39;Oauth2 client successfully added\u0026#39; =\u0026gt; \u0026#39;Oauth2å®¢æˆ·ç«¯æˆåŠŸæ·»åŠ  \u0026#39;, \u0026#39;Failed to add client!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•æ·»åŠ å®¢æˆ·ç«¯\u0026#39;, \u0026#39;One of the provided URIs is not valid\u0026#39; =\u0026gt; \u0026#39;æä¾›çš„URIä¹‹ä¸€æ˜¯æ— æ•ˆçš„ \u0026#39;, \u0026#39;Oauth2 client successfully updated\u0026#39; =\u0026gt; \u0026#39;Oauth2å®¢æˆ·ç«¯å·²æˆåŠŸæ›´æ–° \u0026#39;, \u0026#39;Failed to save changes!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¿å­˜æ›´æ”¹\u0026#39;, \u0026#39;Client not found!\u0026#39; =\u0026gt; \u0026#39;æœªæ‰¾åˆ°å®¢æˆ·ç«¯\u0026#39;, \u0026#39;Oauth2 client successfully deleted\u0026#39; =\u0026gt; \u0026#39;Oauth2å®¢æˆ·ç«¯æˆåŠŸåˆ é™¤ \u0026#39;, \u0026#39;Failed to delete client!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åˆ é™¤å®¢æˆ·ç«¯\u0026#39;, \u0026#39;Requires a HTTPS-configured web server\u0026#39; =\u0026gt; \u0026#39;éœ€è¦HTTPSé…ç½®çš„WebæœåŠ¡å™¨\u0026#39;, \u0026#39;Logo URL\u0026#39; =\u0026gt; \u0026#39;å¾½æ ‡ç½‘å€ \u0026#39;, \u0026#39;App website\u0026#39; =\u0026gt; \u0026#39;Appç½‘ç«™ \u0026#39;, \u0026#39;Enable API\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨API \u0026#39;, \u0026#39;OAuth2 requires that you access this website via HTTPS\u0026#39; =\u0026gt; \u0026#39;OAuth2è¦æ±‚æ‚¨é€šè¿‡HTTPSè®¿é—®æœ¬ç½‘ç«™ \u0026#39;, ), \u0026#39;OAuth2\u0026#39; =\u0026gt; array ( \u0026#39;OAuth2 Consent\u0026#39; =\u0026gt; \u0026#39;OAuth2 æˆæƒ\u0026#39;, \u0026#39;List files and folders in your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;åœ¨æ‚¨çš„â€œï¼…1â€å¸æˆ·ä¸­åˆ—å‡ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;List files and folders inside your \u0026#34;Apps/%1\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;åˆ—å‡ºâ€œApps /ï¼…1â€æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Download files available in your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½â€œï¼…1â€å¸æˆ·ä¸­å¯ç”¨çš„æ–‡ä»¶\u0026#39;, \u0026#39;Download files from your \u0026#34;Apps/%1\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;ä»â€œApps /ï¼…1â€æ–‡ä»¶å¤¹ä¸‹è½½æ–‡ä»¶\u0026#39;, \u0026#39;Upload files to your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ æ–‡ä»¶åˆ°æ‚¨çš„â€œï¼…1â€å¸æˆ·\u0026#39;, \u0026#39;Upload files inside your \u0026#34;Apps/%1\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;ä¸Šä¼ â€œApps /ï¼…1â€æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶\u0026#39;, \u0026#39;Make changes to the files and folders inside your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;æ›´æ”¹â€œï¼…1â€å¸æˆ·ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Delete files from your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;ä»æ‚¨çš„â€œï¼…1â€å¸æˆ·ä¸­åˆ é™¤æ–‡ä»¶\u0026#39;, \u0026#39;Delete files inside your \u0026#34;Apps/%1\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;åˆ é™¤â€œApps /ï¼…1â€æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶\u0026#39;, \u0026#39;View your basic \u0026#34;%1\u0026#34; account information.\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹æ‚¨çš„åŸºæœ¬â€œï¼…1â€å¸æˆ·ä¿¡æ¯\u0026#39;, \u0026#39;That includes your name, company name, website and logo.\u0026#39; =\u0026gt; \u0026#39;è¿™åŒ…æ‹¬ä½ çš„åå­—ï¼Œå…¬å¸åç§°ï¼Œç½‘ç«™å’Œæ ‡å¿—\u0026#39;, \u0026#39;View your e-mail address (%1).\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ï¼ˆï¼…1ï¼‰\u0026#39;, \u0026#39;Create public links to files inside your \u0026#34;%1\u0026#34; account.\u0026#39; =\u0026gt; \u0026#39;åœ¨æ‚¨çš„â€œï¼…1â€å¸æˆ·ä¸­åˆ›å»ºå…¬å…±æ–‡ä»¶é“¾æ¥\u0026#39;, \u0026#39;Create public links to files inside your \u0026#34;Apps/%1\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºâ€œApps /ï¼…1â€æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶çš„å…¬å…±é“¾æ¥\u0026#39;, \u0026#39;Manage \u0026#34;%1\u0026#34; user accounts with your administrative privileges.\u0026#39; =\u0026gt; \u0026#39;ç”¨æ‚¨çš„ç®¡ç†æƒé™ç®¡ç†â€œï¼…1â€ç”¨æˆ·å¸æˆ·\u0026#39;, \u0026#39;You are logged into %1 as \u0026#34;%2\u0026#34;\u0026#39; =\u0026gt; \u0026#39;æ‚¨å·²ç»ä»¥ï¼…2ç™»å…¥ï¼…1\u0026#39;, \u0026#39;Not you?\u0026#39; =\u0026gt; \u0026#39;ä¸æ˜¯ä½ ï¼Ÿ\u0026#39;, \u0026#39;Use of your data is subject to the third-party application\\\u0026#39;s publisher privacy policy.\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„æ•°æ®çš„ä½¿ç”¨å–å†³äºç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºçš„å‘å¸ƒè€…éšç§æ”¿ç­–\u0026#39;, \u0026#39;Accept\u0026#39; =\u0026gt; \u0026#39;æ¥å—\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;The application %1 would like permission to:\u0026#39; =\u0026gt; \u0026#39;åº”ç”¨ç¨‹åºï¼…1æ‰€éœ€æƒé™ï¼š\u0026#39;, \u0026#39;Share folders with other users.\u0026#39; =\u0026gt; \u0026#39;ä¸å…¶ä»–ç”¨æˆ·å…±äº«æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Share folders inside your \u0026#34;Apps/%1\u0026#34; folder with other users.\u0026#39; =\u0026gt; \u0026#39;ä¸å…¶ä»–ç”¨æˆ·å…±äº«â€œApps /ï¼…1â€æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶å¤¹\u0026#39;, \u0026#39;Identification\u0026#39; =\u0026gt; \u0026#39;å®¡é˜…\u0026#39;, \u0026#39;Authorization\u0026#39; =\u0026gt; \u0026#39;æˆæƒ\u0026#39;, \u0026#39;Maintenance\u0026#39; =\u0026gt; \u0026#39;ä¿ç•™\u0026#39;, \u0026#39;by\u0026#39; =\u0026gt; \u0026#39;é€šè¿‡\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;å¦‚\u0026#39;, \u0026#39;Sign in as a different user\u0026#39; =\u0026gt; \u0026#39;ä»¥ä¸åŒçš„ç”¨æˆ·èº«ä»½ç™»å½•\u0026#39;, \u0026#39;The app \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; would like to:\u0026#39; =\u0026gt; \u0026#39;è¯¥åº”ç”¨\u0026lt;strong\u0026gt;ï¼…1 \u0026lt;/ strong\u0026gt;å¸Œæœ›ï¼š\u0026#39;, \u0026#39;The app \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; would like full access to \u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt; as \u0026lt;span class=\u0026#34;nowrap-bold\u0026#34;\u0026gt;%3\u0026lt;/span\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;è¯¥åº”ç”¨ç¨‹åº\u0026lt;strong\u0026gt;ï¼…1 \u0026lt;/ strong\u0026gt;å¸Œæœ›å®Œå…¨è®¿é—®\u0026lt;strong\u0026gt;ï¼…2 \u0026lt;/ strong\u0026gt;ä½œä¸º\u0026lt;span class =â€œnowrap-boldâ€\u0026gt;ï¼…3 \u0026lt;/ span\u0026gt;\u0026#39;, \u0026#39;Would like to receive full access to:\u0026#39; =\u0026gt; \u0026#39;å¸Œæœ›è·å¾—å®Œå…¨è®¿é—®æƒé™ï¼š\u0026#39;, \u0026#39;Would like to receive \u0026lt;a href=\u0026#34;javascript:showAccess()\u0026#34;\u0026gt;access\u0026lt;/a\u0026gt; to:\u0026#39; =\u0026gt; \u0026#39;æƒ³è¦æ¥æ”¶\u0026lt;a href=\u0026#34;javascript:showAccess()\u0026#34;\u0026gt;è®¿é—®\u0026lt;/a\u0026gt;åˆ°ï¼š\u0026#39;, \u0026#39;Use of your data is subject to the privacy policy of \u0026lt;span class=\u0026#34;nowrap-bold\u0026#34;\u0026gt;%1\u0026lt;/span\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;ä½¿ç”¨æ‚¨çš„æ•°æ®éœ€éµå®ˆ\u0026lt;span class =â€œnowrap-boldâ€\u0026gt;ï¼…1 \u0026lt;/ span\u0026gt;çš„éšç§æ”¿ç­–\u0026#39;, \u0026#39;Your account is configured for 2-step verification.\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„å¸æˆ·å·²é…ç½®ä¸ºè¿›è¡Œä¸¤æ­¥éªŒè¯\u0026#39;, \u0026#39;Please provide your \u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; credentials.\u0026#39; =\u0026gt; \u0026#39;è¯·æä¾›æ‚¨çš„\u0026lt;strong\u0026gt;ï¼…1 \u0026lt;/ strong\u0026gt;å‡­æ®\u0026#39;, \u0026#39;1. Select and copy the following key code:\u0026#39; =\u0026gt; \u0026#39;1.é€‰æ‹©å¹¶å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼š\u0026#39;, \u0026#39;2. Open your 2-step verification app and create an account with this key code.\u0026#39; =\u0026gt; \u0026#39;2.æ‰“å¼€æ‚¨çš„ä¸¤æ­¥éªŒè¯åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨æ­¤å¯†é’¥ä»£ç åˆ›å»ºä¸€ä¸ªå¸æˆ·\u0026#39;, \u0026#39;3. Lastly, copy the generated verification code (not the one above) from the app to the field bellow.\u0026#39; =\u0026gt; \u0026#39;3.æœ€åï¼Œå°†ç”Ÿæˆçš„éªŒè¯ç ï¼ˆä¸æ˜¯ä¸Šé¢çš„ï¼‰ä»åº”ç”¨ç¨‹åºå¤åˆ¶åˆ°ä¸‹é¢çš„å­—æ®µ\u0026#39;, \u0026#39;Verification code\u0026#39; =\u0026gt; \u0026#39;éªŒè¯ç \u0026#39;, \u0026#39;Username\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·å\u0026#39;, \u0026#39;Password\u0026#39; =\u0026gt; \u0026#39;å¯†ç \u0026#39;, \u0026#39;Proceed\u0026#39; =\u0026gt; \u0026#39;ç»§ç»­\u0026#39;, \u0026#39;View your e-mail address, although your account currently doesn\\\u0026#39;t have one set.\u0026#39; =\u0026gt; \u0026#39;æŸ¥çœ‹æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œè™½ç„¶æ‚¨çš„å¸æˆ·ç›®å‰æ²¡æœ‰ä¸€å¥—\u0026#39;, ), \u0026#39;Custom Actions: Google Editor\u0026#39; =\u0026gt; array ( \u0026#39;Read the \u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;configuration guide\u0026lt;/a\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;é˜…è¯»\u0026lt;a href=\u0026#34;%1\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;é…ç½®æŒ‡å—\u0026lt;/a\u0026gt;ã€‚\u0026#39;, \u0026#39;OAuth Client Secret\u0026#39; =\u0026gt; \u0026#39;OAuthå®¢æˆ·ç«¯å¯†é’¥\u0026#39;, \u0026#39;OAuth Client ID\u0026#39; =\u0026gt; \u0026#39;OAuthå®¢æˆ·ç«¯ID\u0026#39;, \u0026#39;Signing into Google...\u0026lt;br\u0026gt;Please check the opened popup for proceeding to the editor.\u0026#39; =\u0026gt; \u0026#39;ç™»å½•Google ... \u0026lt;br\u0026gt;è¯·æ£€æŸ¥æ‰“å¼€çš„å¼¹å‡ºçª—å£ä»¥ç»§ç»­è¿›è¡Œç¼–è¾‘ã€‚\u0026#39;, \u0026#39;Sending document data to Google...\u0026lt;br\u0026gt;Please wait.\u0026#39; =\u0026gt; \u0026#39;å°†æ–‡æ¡£æ•°æ®å‘é€ç»™Google ... \u0026lt;br\u0026gt;è¯·ç¨å€™ã€‚\u0026#39;, \u0026#39;Waiting for the editor to close...\u0026lt;br\u0026gt;If you close this window, your changes will not be saved to the document.\u0026#39; =\u0026gt; \u0026#39;ç­‰å¾…ç¼–è¾‘å™¨å…³é—­... \u0026lt;br\u0026gt;å¦‚æœå…³é—­æ­¤çª—å£ï¼Œæ‚¨çš„æ›´æ”¹å°†ä¸ä¼šä¿å­˜åˆ°æ–‡æ¡£ä¸­ã€‚\u0026#39;, \u0026#39;Importing document from Google...\u0026#39; =\u0026gt; \u0026#39;ä»Googleå¯¼å…¥æ–‡æ¡£...\u0026#39;, \u0026#39;Blank file created successfully\u0026#39; =\u0026gt; \u0026#39;ç©ºç™½æ–‡ä»¶å·²æˆåŠŸåˆ›å»º\u0026#39;, \u0026#39;Document with Google\u0026#39; =\u0026gt; \u0026#39;ä¸Googleåˆä½œ\u0026#39;, ), \u0026#39;Notifications\u0026#39; =\u0026gt; array ( \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;, from %3, downloaded the file \u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ä»%3å¼€å§‹ï¼Œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;ä¸‹è½½äº†\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;æ–‡ä»¶\u0026#39;, \u0026#39;Your file \u0026#34;%1\u0026#34; was downloaded through the shared link.\u0026#39; =\u0026gt; \u0026#39;æ‚¨çš„æ–‡ä»¶â€œ%1â€æ˜¯é€šè¿‡å…±äº«é“¾æ¥ä¸‹è½½çš„\u0026#39;, \u0026#39;From the IP address: %1\u0026#39; =\u0026gt; \u0026#39;ä»IPåœ°å€ï¼š%1\u0026#39;, \u0026#39;The folder \u0026#34;%1\u0026#34; has been accessed through the shared link.\u0026#39; =\u0026gt; \u0026#39;å·²ç»é€šè¿‡å…±äº«é“¾æ¥è®¿é—®æ–‡ä»¶å¤¹â€œ%1â€\u0026#39;, \u0026#39;The file \u0026#34;%1\u0026#34; has been uploaded by a visitor inside the folder \u0026#34;%2\u0026#34; which was shared through a link.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶â€œ%1â€å·²ç»è¢«è®¿é—®è€…ä¸Šä¼ åˆ°é€šè¿‡é“¾æ¥å…±äº«çš„æ–‡ä»¶å¤¹â€œ%2â€ä¸­\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; uploaded the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; (%3) inside his \u0026#34;%4\u0026#34; folder.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åœ¨ä»–çš„â€œ%4â€æ–‡ä»¶å¤¹ä¸­ä¸Šä¼ äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ï¼ˆ%3ï¼‰\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; uploaded the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; ä¸Šä¼ äº†æ–‡ä»¶\u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;\u0026#39;, \u0026#39;\u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; has shared \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; with you.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€ä¸æ‚¨å…±äº«äº†æ–‡ä»¶å¤¹â€œ%2â€\u0026#39;, \u0026#39;The file \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; (%2) was received from \u0026#34;\u0026lt;strong\u0026gt;%3\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ä»â€œ\u0026lt;strong\u0026gt;%3 \u0026lt;/ strong\u0026gt;â€æ”¶åˆ°äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€ï¼ˆ%2ï¼‰\u0026#39;, \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; downloaded the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;ä¸‹è½½äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; previewed the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€é¢„è§ˆäº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; failed to login, using the IP address %2.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æœªèƒ½ä½¿ç”¨IPåœ°å€%2ç™»å½•\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; has signed in.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å·²ç™»å½•\u0026#39;, \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; changed the label on the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;: \u0026lt;span style=\u0026#34;margin-left:5px;padding:1px;border:1px solid %3\u0026#34;\u0026gt;%4\u0026lt;/span\u0026gt;.\u0026#39; =\u0026gt; \u0026#39;\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;æ›´æ”¹äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ä¸Šçš„æ ‡ç­¾ï¼š\u0026lt;span style =\u0026#34;margin-leftï¼š5px; paddingï¼š1px; borderï¼š1px solid %3\u0026#34;\u0026gt; %4 \u0026lt;/span\u0026gt;\u0026#39;, \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; removed the label from the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;ä»æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ä¸­åˆ é™¤äº†è¯¥æ ‡ç­¾\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; has performed the following action: \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼šâ€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; has shared the folder \u0026#34;%2\u0026#34; with:\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å·²ç»ä¸ä»¥ä¸‹ç”¨æˆ·å…±äº«æ–‡ä»¶å¤¹â€œ%2â€ï¼š\u0026#39;, \u0026#39;group \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34;\u0026#39; =\u0026gt; \u0026#39;ç»„â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;user \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34;\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; deleted the file \u0026#34;%2\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åˆ é™¤äº†æ–‡ä»¶â€œ%2â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; deleted the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å·²åˆ é™¤æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt; downloaded the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; (\u0026lt;em\u0026gt;%3\u0026lt;/em\u0026gt;).\u0026#39; =\u0026gt; \u0026#39;\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;ä¸‹è½½äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ï¼ˆ\u0026lt;em\u0026gt;%3 \u0026lt;/ em\u0026gt;ï¼‰\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; added the following comment on the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;:\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åœ¨æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ä¸Šæ·»åŠ äº†ä»¥ä¸‹è¯„è®ºï¼š\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; restored the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ¢å¤äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; restored the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ¢å¤äº†æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; copied the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; (%3).\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å¤åˆ¶äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ï¼ˆ%3ï¼‰\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; pasted the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€ç²˜è´´äº†æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; locked the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€é”å®šäº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; cut the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å‰ªåˆ‡äº†æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; pasted the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; (%3).\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€ç²˜è´´äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ï¼ˆ%3ï¼‰\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; renamed the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; from \u0026#34;\u0026lt;strong\u0026gt;%3\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å·²ä»â€œ\u0026lt;strong\u0026gt;%3 \u0026lt;/ strong\u0026gt;â€é‡å‘½åæ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; renamed the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; from \u0026#34;\u0026lt;strong\u0026gt;%3\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å·²ä»â€œ\u0026lt;strong\u0026gt;%3 \u0026lt;/ strong\u0026gt;â€é‡å‘½åæ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; unlocked the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€è§£é”äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; copied the folder \u0026#34;%2\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å¤åˆ¶äº†æ–‡ä»¶å¤¹â€œ%2â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; created the new folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åˆ›å»ºäº†æ–°æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; deleted a previous version of the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åˆ é™¤äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€çš„å…ˆå‰ç‰ˆæœ¬\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; restored a previous version of the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ¢å¤äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€çš„ä»¥å‰ç‰ˆæœ¬\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; created the \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; Zip archive.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€åˆ›å»ºäº†â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€Zipå­˜æ¡£\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; added the following files to the \u0026#34;%2\u0026#34; Zip archive:\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å°†ä»¥ä¸‹æ–‡ä»¶æ·»åŠ åˆ°â€œ%2â€Zipå­˜æ¡£ï¼š\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; added the folder \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; to a Zip archive.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€å°†æ–‡ä»¶å¤¹â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€æ·»åŠ åˆ°Zipå­˜æ¡£\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; updated the metadata of the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ›´æ–°äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€çš„å…ƒæ•°æ®\u0026#39;, \u0026#39;Field\u0026#39; =\u0026gt; \u0026#39;é¢†åŸŸ\u0026#39;, \u0026#39;Old value\u0026#39; =\u0026gt; \u0026#39;æ—§çš„ä»·å€¼\u0026#39;, \u0026#39;New value\u0026#39; =\u0026gt; \u0026#39;æ–°çš„ä»·å€¼\u0026#39;, \u0026#39;%1 has e-mailed the following files\u0026#39; =\u0026gt; \u0026#39;%1å·²é€šè¿‡ç”µå­é‚®ä»¶å‘é€ä»¥ä¸‹æ–‡ä»¶\u0026#39;, \u0026#39;%1 has shared the following file\u0026#39; =\u0026gt; \u0026#39;%1å·²å…±äº«ä»¥ä¸‹æ–‡ä»¶\u0026#39;, \u0026#39;%1 has shared the following files\u0026#39; =\u0026gt; \u0026#39;%1å…±äº«äº†ä»¥ä¸‹æ–‡ä»¶\u0026#39;, \u0026#39;Link valid until\u0026#39; =\u0026gt; \u0026#39;é“¾æ¥æœ‰æ•ˆï¼Œç›´åˆ°\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; changed the password.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·â€œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;â€æ›´æ”¹äº†å¯†ç \u0026#39;, \u0026#39;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;, from %4, downloaded the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; (\u0026lt;em\u0026gt;%3\u0026lt;/em\u0026gt;).\u0026#39; =\u0026gt; \u0026#39;ä»%4å¼€å§‹ï¼Œ\u0026lt;strong\u0026gt;%1 \u0026lt;/ strong\u0026gt;ä¸‹è½½äº†æ–‡ä»¶â€œ\u0026lt;strong\u0026gt;%2 \u0026lt;/ strong\u0026gt;â€ï¼ˆ\u0026lt;em\u0026gt;%3 \u0026lt;/ em\u0026gt;ï¼‰\u0026#39;, \u0026#39;User \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; moved the file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;ç”¨æˆ·\u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34; ç§»åŠ¨äº†æ–‡ä»¶\u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34;\u0026#39;, \u0026#39;The file \u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; was uploaded thorugh the web link created by user \u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34;.\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶\u0026#34;\u0026lt;strong\u0026gt;%2\u0026lt;/strong\u0026gt;\u0026#34; æ˜¯é€šè¿‡ç”¨æˆ·\u0026#34;\u0026lt;strong\u0026gt;%1\u0026lt;/strong\u0026gt;\u0026#34;åˆ›å»ºçš„ç½‘ç»œé“¾æ¥ä¸Šä¼ çš„\u0026#39;, ), \u0026#39;Admin: Plugins\u0026#39; =\u0026gt; array ( \u0026#39;Raw image files\u0026#39; =\u0026gt; \u0026#39;åŸå§‹å›¾åƒæ–‡ä»¶ \u0026#39;, \u0026#39;Files without extension\u0026#39; =\u0026gt; \u0026#39;æ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ \u0026#39;, \u0026#39;Image files\u0026#39; =\u0026gt; \u0026#39;å›¾åƒæ–‡ä»¶ \u0026#39;, \u0026#39;Archive files\u0026#39; =\u0026gt; \u0026#39;å­˜æ¡£æ–‡ä»¶ \u0026#39;, \u0026#39;Video files\u0026#39; =\u0026gt; \u0026#39;è§†é¢‘æ–‡ä»¶ \u0026#39;, \u0026#39;Web-playable video files\u0026#39; =\u0026gt; \u0026#39;ç½‘ç»œæ’­æ”¾çš„è§†é¢‘æ–‡ä»¶ \u0026#39;, \u0026#39;Audio files\u0026#39; =\u0026gt; \u0026#39;éŸ³é¢‘æ–‡ä»¶ \u0026#39;, \u0026#39;Web-playable audio files\u0026#39; =\u0026gt; \u0026#39;ç½‘ç»œæ’­æ”¾çš„éŸ³é¢‘æ–‡ä»¶ \u0026#39;, \u0026#39;AutoCAD projects\u0026#39; =\u0026gt; \u0026#39;AutoCADé¡¹ç›® \u0026#39;, \u0026#39;OpenOffice documents\u0026#39; =\u0026gt; \u0026#39;OpenOfficeæ–‡æ¡£ \u0026#39;, \u0026#39;Microsoft Office documents\u0026#39; =\u0026gt; \u0026#39;Microsoft Officeæ–‡æ¡£ \u0026#39;, \u0026#39;Plain text files\u0026#39; =\u0026gt; \u0026#39;çº¯æ–‡æœ¬æ–‡ä»¶ \u0026#39;, \u0026#39;Edit default viewer\u0026#39; =\u0026gt; \u0026#39;ç¼–è¾‘é»˜è®¤æŸ¥çœ‹å™¨ \u0026#39;, \u0026#39;Add default viewer\u0026#39; =\u0026gt; \u0026#39;æ·»åŠ é»˜è®¤æŸ¥çœ‹å™¨ \u0026#39;, \u0026#39;File type\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ç±»å‹ \u0026#39;, \u0026#39;File extension\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰©å±•å \u0026#39;, \u0026#39;File extensions\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰©å±•å \u0026#39;, \u0026#39;Open with\u0026#39; =\u0026gt; \u0026#39;æ‰“å¼€æ–¹å¼\u0026#39;, \u0026#39;Please select a file type or type an extension.\u0026#39; =\u0026gt; \u0026#39;è¯·é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ç±»å‹æˆ–è¾“å…¥ä¸€ä¸ªæ‰©å±•å \u0026#39;, \u0026#39;The \u0026#34;%1\u0026#34; extension already has a default viewer assigned.\u0026#39; =\u0026gt; \u0026#39;â€œ%1â€æ‰©å±•ç¨‹åºå·²ç»åˆ†é…äº†ä¸€ä¸ªé»˜è®¤æŸ¥çœ‹å™¨\u0026#39;, \u0026#39;The selected file type is already assigned.\u0026#39; =\u0026gt; \u0026#39;æ‰€é€‰æ–‡ä»¶ç±»å‹å·²è¢«åˆ†é…\u0026#39;, \u0026#39;Changes successfully saved.\u0026#39; =\u0026gt; \u0026#39;æ›´æ”¹å·²æˆåŠŸä¿å­˜\u0026#39;, \u0026#39;Failed to save changes!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•ä¿å­˜æ›´æ”¹\u0026#39;, \u0026#39;The entry was successfully deleted!\u0026#39; =\u0026gt; \u0026#39;è¯¥æ¡ç›®å·²æˆåŠŸåˆ é™¤\u0026#39;, \u0026#39;Failed to delete entry!\u0026#39; =\u0026gt; \u0026#39;æ— æ³•åˆ é™¤æ¡ç›®\u0026#39;, \u0026#39;- None Selected -\u0026#39; =\u0026gt; \u0026#39;- æ²¡æœ‰é€‰æ‹© -\u0026#39;, ), \u0026#39;Custom Actions: Audio Player\u0026#39; =\u0026gt; array ( \u0026#39;Audio Player\u0026#39; =\u0026gt; \u0026#39;éŸ³é¢‘æ’­æ”¾å™¨\u0026#39;, \u0026#39;Select\u0026#39; =\u0026gt; \u0026#39;é€‰æ‹©\u0026#39;, \u0026#39;Loading audio player...\u0026#39; =\u0026gt; \u0026#39;åŠ è½½éŸ³é¢‘æ’­æ”¾å™¨......\u0026#39;, \u0026#39;Close player\u0026#39; =\u0026gt; \u0026#39;å…³é—­\u0026#39;, \u0026#39;Previous\u0026#39; =\u0026gt; \u0026#39;å†å²\u0026#39;, \u0026#39;Play/Pause\u0026#39; =\u0026gt; \u0026#39;æ’­æ”¾/æš‚åœ\u0026#39;, \u0026#39;Next\u0026#39; =\u0026gt; \u0026#39;ä¸‹ä¸€æ›²\u0026#39;, \u0026#39;Shuffle\u0026#39; =\u0026gt; \u0026#39;æ‹–æ›³\u0026#39;, ), \u0026#39;Custom Actions: Archive Explorer\u0026#39; =\u0026gt; array ( \u0026#39;Archive Explorer\u0026#39; =\u0026gt; \u0026#39;å½’æ¡£æµè§ˆå™¨\u0026#39;, ), \u0026#39;Custom Actions: Video Player\u0026#39; =\u0026gt; array ( \u0026#39;Video Player\u0026#39; =\u0026gt; \u0026#39;è§†é¢‘æ’­æ”¾å™¨\u0026#39;, ), \u0026#39;Custom Actions: Image Viewer\u0026#39; =\u0026gt; array ( \u0026#39;Image Viewer\u0026#39; =\u0026gt; \u0026#39;å›¾åƒæŸ¥çœ‹å™¨\u0026#39;, ), \u0026#39;Custom Actions: ONLYOFFICE\u0026#39; =\u0026gt; array ( \u0026#39;Download and install %1\u0026#39; =\u0026gt; \u0026#39;ä¸‹è½½å¹¶å®‰è£… %1\u0026#39;, \u0026#39;DocumentServer URL\u0026#39; =\u0026gt; \u0026#39;ONLYOFFICEæœåŠ¡å™¨URL\u0026#39;, \u0026#39;Document with ONLYOFFICE\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶ä¸ONLYOFFICE\u0026#39;, \u0026#39;New Document.docx\u0026#39; =\u0026gt; \u0026#39;æ–°Word.docx\u0026#39;, \u0026#39;New Spreadsheet.xlsx\u0026#39; =\u0026gt; \u0026#39;æ–°Excel.xlsx\u0026#39;, \u0026#39;New Presentation.pptx\u0026#39; =\u0026gt; \u0026#39;æ–°Ppt.pptx\u0026#39;, \u0026#39;Presentation\u0026#39; =\u0026gt; \u0026#39;ä»‹ç»\u0026#39;, \u0026#39;Spreadsheet\u0026#39; =\u0026gt; \u0026#39;ç”µå­è¡¨æ ¼\u0026#39;, \u0026#39;Word Document\u0026#39; =\u0026gt; \u0026#39;Wordæ–‡æ¡£\u0026#39;, \u0026#39;The file extension needs to be one of the following: %1\u0026#39; =\u0026gt; \u0026#39;æ–‡ä»¶æ‰©å±•åå¿…é¡»æ˜¯ä»¥ä¸‹ä¹‹ä¸€: %1\u0026#39;, \u0026#39;A file with the specified name already exists. Please try again.\u0026#39; =\u0026gt; \u0026#39;å·²å­˜åœ¨å…·æœ‰æŒ‡å®šåç§°çš„æ–‡ä»¶ã€‚è¯·å†è¯•ä¸€æ¬¡ã€‚\u0026#39;, \u0026#39;Blank file created successfully\u0026#39; =\u0026gt; \u0026#39;ç©ºç™½æ–‡ä»¶å·²æˆåŠŸåˆ›å»º\u0026#39;, ), \u0026#39;Custom Actions: Zamzar\u0026#39; =\u0026gt; array ( \u0026#39;API key\u0026#39; =\u0026gt; \u0026#39;APIå¯†é’¥\u0026#39;, ), \u0026#39;Custom Actions: Autodesk\u0026#39; =\u0026gt; array ( \u0026#39;API client ID\u0026#39; =\u0026gt; \u0026#39;APIå®¢æˆ·ç«¯ID \u0026#39;, \u0026#39;API client secret\u0026#39; =\u0026gt; \u0026#39;APIå®¢æˆ·ç«¯å¯†é’¥ \u0026#39;, ), \u0026#39;Custom Actions: Google Earth\u0026#39; =\u0026gt; array ( \u0026#39;Google Maps\u0026#39; =\u0026gt; \u0026#39;è°·æ­Œåœ°å›¾\u0026#39;, ), \u0026#39;Custom Actions\u0026#39; =\u0026gt; array ( \u0026#39;New tab\u0026#39; =\u0026gt; \u0026#39;æ–°æ ‡ç­¾ \u0026#39;, ), \u0026#39;Custom Actions: E-book Reader\u0026#39; =\u0026gt; array ( \u0026#39;E-book Reader\u0026#39; =\u0026gt; \u0026#39;ç”µå­ä¹¦é˜…è¯»å™¨ \u0026#39;, \u0026#39;Menu\u0026#39; =\u0026gt; \u0026#39;èœå•\u0026#39;, \u0026#39;Fullscreen\u0026#39; =\u0026gt; \u0026#39;å…¨å±\u0026#39;, ), \u0026#39;Metadata: Indexing\u0026#39; =\u0026gt; array ( \u0026#39;Please note that this will import metadata from the files and can overwrite metadata which you have manually added.\u0026#39; =\u0026gt; \u0026#39;è¯·æ³¨æ„ï¼Œè¿™å°†ä»æ–‡ä»¶ä¸­å¯¼å…¥å…ƒæ•°æ®ï¼Œå¹¶å¯ä»¥è¦†ç›–æ‰‹åŠ¨æ·»åŠ çš„å…ƒæ•°æ®\u0026#39;, \u0026#39;Collecting file list...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨è·å–æ–‡ä»¶åˆ—è¡¨...\u0026#39;, \u0026#39;%1 files found\u0026#39; =\u0026gt; \u0026#39;æ‰¾åˆ°%1ä¸ªæ–‡ä»¶\u0026#39;, \u0026#39;Indexing files...\u0026#39; =\u0026gt; \u0026#39;æ­£åœ¨ç´¢å¼•æ–‡ä»¶...\u0026#39;, \u0026#39;%1 remaining\u0026#39; =\u0026gt; \u0026#39;å‰©ä½™çš„%1\u0026#39;, \u0026#39;Indexing completed!\u0026#39; =\u0026gt; \u0026#39;ç´¢å¼•å®Œæˆ\u0026#39;, \u0026#39;The folder seems to be empty\u0026#39; =\u0026gt; \u0026#39;è¯¥æ–‡ä»¶å¤¹ä¼¼ä¹æ˜¯ç©ºçš„\u0026#39;, \u0026#39;There are problems with the server.\u0026#39; =\u0026gt; \u0026#39;æœåŠ¡å™¨æœ‰é—®é¢˜\u0026#39;, \u0026#39;Retrying...\u0026#39; =\u0026gt; \u0026#39;é‡è¯•...\u0026#39;, \u0026#39;Cancel\u0026#39; =\u0026gt; \u0026#39;å–æ¶ˆ\u0026#39;, \u0026#39;Close\u0026#39; =\u0026gt; \u0026#39;å…³é—­\u0026#39;, ), \u0026#39;Custom Actions: Photo Proof Sheet\u0026#39; =\u0026gt; array ( \u0026#39;Create photo proof sheet\u0026#39; =\u0026gt; \u0026#39;åˆ›å»ºç…§ç‰‡æ ¡æ ·é¡µ\u0026#39;, \u0026#39;Photo proof sheet successfully created in your home folder.\u0026#39; =\u0026gt; \u0026#39;åœ¨æ‚¨çš„ä¸»æ–‡ä»¶å¤¹ä¸­æˆåŠŸåˆ›å»ºäº†ç…§ç‰‡æ ¡æ ·é¡µã€‚\u0026#39;, ), \u0026#39;Custom Actions: Bing Maps\u0026#39; =\u0026gt; array ( \u0026#39;Bing Maps API Key\u0026#39; =\u0026gt; \u0026#39;Bingåœ°å›¾APIå¯†é’¥\u0026#39;, ), \u0026#39;Admin: Guest Users\u0026#39; =\u0026gt; array ( \u0026#39;Enable guest user accounts\u0026#39; =\u0026gt; \u0026#39;å¯ç”¨è®¿å®¢ç”¨æˆ·å¸æˆ·\u0026#39;, ), \u0026#39;Custom Actions: HTML Editor\u0026#39; =\u0026gt; array ( \u0026#39;HTML Editor\u0026#39; =\u0026gt; \u0026#39;HTMLç¼–è¾‘å™¨\u0026#39;, \u0026#39;Save\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜\u0026#39;, \u0026#39;Save and close\u0026#39; =\u0026gt; \u0026#39;ä¿å­˜å¹¶å…³é—­\u0026#39;, \u0026#39;Close\u0026#39; =\u0026gt; \u0026#39;å…³é—­\u0026#39;, \u0026#39;Unsaved changes\u0026#39; =\u0026gt; \u0026#39;æœªä¿å­˜çš„æ›´æ”¹\u0026#39;, \u0026#39;Discard the changes made?\u0026#39; =\u0026gt; \u0026#39;æ”¾å¼ƒæ‰€åšçš„æ›´æ”¹ï¼Ÿ\u0026#39;, ), ), ); ","date":"2023-04-14T14:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/file-run-chinese/","title":"filerunåˆ‡æ¢ä¸­æ–‡è¯­è¨€ è·å–è¯­è¨€åŒ…å¹¶ä¸Šä¼ æ–¹æ³•"},{"content":"åœºæ™¯å’Œå‰è¨€ å®¶åº­å’Œå°å›¢é˜Ÿæ•°æ®ä¸­å¿ƒï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹ç¡¬æ€§çš„éœ€æ±‚ã€‚æœ‰å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œæˆ‘è¿™é‡Œåªè®ºè¿°é€‚åˆæˆ‘çš„ã€‚å®å¿ƒæ‹¬å·å†…æ˜¯æˆ‘çš„é€‰æ‹©\nå®¶åº­æˆå‘˜ ç…§ç‰‡åŒæ­¥ å½±éŸ³è§‚çœ‹ ã€filerun webdav MT-Photos rclone infuse ã€‘ å›¢é˜Ÿ æ–‡æ¡£ç¼–è¾‘ æ–‡ä»¶åŒæ­¥ ä»£ç ä¸Šä¼  ã€filerun webdav rclone giteaã€‘ ç§æœ‰git ä»¥åŠè‡ªåŠ¨åŒæ­¥github ã€giteaã€‘ ç¬”è®°åŒæ­¥ ã€æ€æºç¬”è®° docker webdav/minio ã€‘ è™šæ‹Ÿæœºç¯å¢ƒ å®¹å™¨ç¯å¢ƒ ã€pve lxc ã€‘ android/ioså¼€å‘ç¯å¢ƒã€pve é»‘è‹¹æœã€‘ è¿œç¨‹åŠå…¬å¼€å‘ç¯å¢ƒã€pve ipsec winRDP remoutapp codeserver é˜¿é‡Œå®¹å™¨é•œåƒã€‘ ç§‘å­¦ç¯å¢ƒã€ç‹¬ç«‹x86 openwrt ã€‘ å¼‚åœ°éƒ¨åˆ†ã€rclone + kopia åŠ å¯†å¤‡ä»½æ”¶è´¹çš„å¯¹è±¡å‚¨å­˜oss/cos å’Œ å…è´¹äº‘ç›˜ alist ã€‘ æ¯ä¸€ä¸ªæ–¹æ¡ˆ éƒ½ä¸åŒçš„è§£å†³æ–¹æ¡ˆã€‚ æ— æ³•ä¸€ä¸€å±•å¼€ã€‚\næˆ‘å…ˆä»˜è´¹ç‰ˆç½‘ç›˜ï¼Œå æŠ˜è…¾ ç¾¤æ™–ï¼Œovm freenas unraidç­‰ï¼Œä¸ªäººç½‘ç›˜ç¨‹åº ä¹Ÿç»å† nginxWebdav caddy alist cloudreve seafile nextcloud ç­‰ã€‚ æœ€åé€‰æ‹©ä¸€ä¸ªæ•´ä½“é€‚åˆæˆ‘çš„æ–¹æ¡ˆã€‚\nå¸¸ç”¨æ–¹æ¡ˆçš„å¯¹æ¯” filerun vs nextcloud vs å…¶ä»– nextcloud æ˜¯ä½¼ä½¼è€…ï¼Œä½†æ˜¯çœŸçš„å¡ï¼Œæ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œwebuiéƒ½å¡çš„éš¾å—ã€‚å®Œå…¨æ²¡æœ‰ä¸æ»‘çš„æ„Ÿè§‰ã€‚ seafile uiå’Œç†å¿µ ä¸Šä¸ªä¸–çºªçš„å§ï¼Œæ–‡ä»¶å‚¨å­˜æ”¾ä¸æ˜¯ç›´æ¥å­˜ç¡¬ç›˜çš„ï¼Œç»™å…¶ä»–æ‰©å±•ç•™ä¸‹çš„å¯æ“ä½œç©ºé—´ä¸å¤§ã€‚uiä¸‘ã€‚æ¯”å¤šæ•°ç®€æ˜“ç½‘ç›˜ç¨‹åºçš„ä¼˜åŠ¿ å°±æ˜¯æ”¯æŒwopiäº†ã€‚\ncloudreve æ–°ç‰ˆæ”¯æŒwopiåè®®ï¼Œä½†æ˜¯ä»–çš„webdav æ˜¯æœ‰é—®é¢˜çš„ï¼Œå¦å¤– æ— æ³•ç›´æ¥ç³»ç»Ÿæ“ä½œæ–‡ä»¶ï¼Œæ–°å®¶çš„æ–‡ä»¶ä»–æ˜¯çœ‹ä¸åˆ°çš„ã€‚æ²¡æœ‰ç±»ä¼¼nextcloudçš„æ‰«æåŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰filerunçš„å®æ—¶æ›´æ–°åŠŸèƒ½ã€‚è‡³äºæ”¯æŒç¬¬ä¸‰æ–¹å‚¨å­˜ï¼Œæœ‰rclone é‚£ä¸ªç½‘ç›˜ç¨‹åºä¸æ”¯æŒå‘¢ å¯¹å§ã€‚\nalist å¦‚åŒä»–çš„åå­—ï¼Œä»–å°±æ˜¯ä¸€ä¸ªlistï¼Œä¼˜åŠ¿ä¸åœ¨è¿™é‡Œï¼Œè™½ç„¶ä»–å¾ˆå¼ºï¼Œè€Œä¸”æ”¯æŒæœ¬åœ°å‚¨å­˜ï¼Œä½†æ˜¯å®ƒæ›´é€‚åˆæŒ‚è½½rcloneä¸æ”¯æŒç½‘ç›˜è½¬webdavè€Œä¸æ˜¯å®Œå…¨æ›¿ä»£ä¸€ä¸ªç§æœ‰äº‘å‚¨å­˜ã€‚æˆ‘ä»¬æ–¹æ¡ˆé‡Œé¢æœ‰å®ƒçš„åº§ä½ï¼Œä½†ä¸æ˜¯å®ƒæ¥é©»åœºè´Ÿè´£æœ€åº•å±‚çš„æ–‡ä»¶ç³»ç»Ÿã€‚\nminio å‚¨å­˜å¥½æ ·çš„ï¼Œä½†æ˜¯å®ƒä¸“ä¸šä¸åœ¨æ­¤ã€‚æœ‰åº§ä½ä¸æ˜¯é©»åœºç¨‹åºã€‚\nfilebrower è¿™ä¸ªã€‚ã€‚çœŸçš„å¤ªç®€é™‹äº†ï¼Œåªé€‚åˆåœ¨ç¡¬è·¯ç”±å™¨ç­‰æç«¯ç¡¬ä»¶èµ„æºç´§å¼ çš„åœºåˆç”¨ã€‚\nfilerun ä¼˜ç‚¹ï¼ŒåŠŸèƒ½è¿˜å¯ä»¥ã€‚ ç¼ºç‚¹ éå¼€æºè½¯ä»¶ å…è´¹ç‰ˆ æœ‰é™åˆ¶ è¯¦æƒ…æŸ¥çœ‹ filerun\nç¾¤æ™– unraid esxi freeNas pve åŸç”Ÿlinux ç¾¤æ™– ä¸å•æ˜¯nasæ›´æ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–å’Œå®¹å™¨å¹³å°ï¼Œè™½ç„¶é»‘ç¾¤æ™–å¯ä»¥å…è´¹ã€‚ä½†æ˜¯å¾ˆå¤šåœ°æ–¹ä¸å–œæ¬¢ï¼Œæ¯”å¦‚ä»–æ¯ä¸ªç£ç›˜éƒ½è¦å†™å…¥ç³»ç»Ÿï¼Œå›ºå®šçš„åˆ†åŒºæ ¼å¼ã€‚æ— æ³•ç›´æ¥æ¥å…¥å¸¦æ•°æ®çš„æ—§ç¡¬ç›˜ç­‰\nunraid å‚è€ƒç¾¤æ™–ï¼Œunraidæœ‰å®ƒä¼˜ç§€çš„åœ°æ–¹ï¼Œæ¯”å¦‚å¯ä»¥ç®€å•æå®špciç›´é€šï¼Œç‚¹å‡»ä¸‹å°±å¯ä»¥é»‘è‹¹æœç­‰ã€‚æˆ‘ä¸è§‰å®ƒé€‚åˆå¯¹linux/kvmæœ‰ä¸€å®šäº†è§£çš„äººï¼Œä½†æ˜¯ä»–ç¡®å®æŒºä¸é”™\nesxi ä¸è¯„ä»·ï¼Œéè¦è¯„ä»·çš„è¯ï¼Œå°±æ˜¯ æ›¾ç»çš„ç‹è€… çœ¼ä¸‹çš„åƒåœ¾\nfreeNASã€ovm å‚è€ƒ esxi\nåŸç”Ÿlinuxæ–¹æ¡ˆï¼Œæˆ‘ä¹‹å‰ä¹Ÿåšè¿‡ä¸€ä¸ª ä¹Ÿç”¨è¿‡å‡ ä¸ªæœˆï¼Œæœ€åçš„æ„Ÿè§‰ï¼Œçµæ´»ä½†æ˜¯æ²¡æœ‰pveæ–¹ä¾¿ æ‰€ä»¥å¼ƒç”¨äº†ã€‚\nwindowsServer è¿™ä¸ªã€‚ã€‚å’‹è¯´å‘¢ï¼Œä¸è¯´äº†ã€‚ã€‚ã€‚ macos server åˆšå¥½æœ‰macè¦åšserverçš„è¯ ä¹Ÿè¡Œå§\npve ä¼˜ç‚¹ å¼€æºå…è´¹ ï¼Œæ¯” ç›´æ¥ cliæ“ä½œkvm lxcæ›´åŠ ç›´è§‚æ–¹ä¾¿ï¼Œè‡ªå¸¦çš„lxcæ–¹æ¡ˆè¦å¸¦dockeræ›´çµæ´» å®¹æ˜“æ‰©å±•ï¼Œå¼€ç®±å³å¯ä½¿ç”¨ã€‚ç¼ºç‚¹ï¼šéœ€è¦æœ‰ä¸€ç‚¹ç‚¹linuxåŸºç¡€ã€‚è€Œaioå’Œnasåœˆå­çš„å¾ˆå¤šäººéƒ½æ˜¯linuxå°ç™½ï¼Œæ–°æ‰‹éƒ½ç®—ä¸ä¸Šã€‚\nå¤‡ä»½æ–¹æ¡ˆ ç¾¤æ™–çš„äº‘ç›˜å¤‡ä»½çœŸçš„æ˜¯å¾ˆè®©äººç¾¡æ…•ï¼Œä¸€é”®æå®šï¼Œè¿˜æ²¡æœ‰é¢å¤–çš„å¼€æ”¯ã€‚ è‡ªå·±å¼„çš„è¯ å°±éœ€è¦rcloneåŠ å¯† + kopia + rclone + alist + ä¸å¤ªç¨³å¦¥çš„åç«¯å…è´¹ç½‘ç›˜\næ­å»ºè¿‡ç¨‹ ä¸Šè¿°å¤šæ•°æ•™ç¨‹æœ¬ç«™éƒ½æœ‰ï¼Œä½†æ˜¯å¯èƒ½æ¯”è¾ƒé›¶æ•£ï¼Œè¯·ç”¨æœç´¢å¼•æ“ æœç´¢ å…³é”®è¯ site:dev.leiyanhuil.com æŸ¥çœ‹ éƒ¨åˆ†æ–‡ç«  æˆ‘æˆ‘ä¼šè¿æ¥åˆ°ä¸‹é¢\nfilerun æ­å»ºå’Œä½¿ç”¨ filerun æ­å»ºå’Œåˆæ­¥ä½¿ç”¨\n","date":"2023-04-14T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/nas/my-nas-2023-04014/","title":"ä¸ªäºº/å°å›¢é˜Ÿæ•°æ®ä¸­å¿ƒåª’ä½“ä¸­å¿ƒæ–¹æ¡ˆå®æ–½ï¼ˆpve lxc docker rcloneï¼‰"},{"content":"æˆ‘ä»¬éƒ½æœ‰ä¸€äº›æ ¸å¿ƒçš„æ•°æ®æ–‡ä»¶ï¼Œä¸€äº›å¯èƒ½æ˜¯é…ç½®æ–‡ä»¶ï¼Œä¸€äº›å¯èƒ½æ˜¯å¯†ç æ–‡ä»¶ï¼Œæˆ–è€…å¯èƒ½æ˜¯ç¬”è®°è½¯ä»¶çš„å¤‡ä»½åº“ã€‚ è¿™éƒ¨åˆ†æ–‡ä»¶ å°çš„è¯å‡ M å¤§çš„è¯å‡ ä¸ªGï¼Œè‡ªå·±æ­å»ºç§æœ‰ç›˜æˆ–è€…nasæ˜¯å¯ä»¥å¤‡ä»½ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†æ–‡ä»¶æ˜¾ç„¶è¿˜æ˜¯éœ€è¦å¼‚åœ°å¤‡ä»½çš„ã€‚ è€Œä¸”éœ€è¦å¤šå¹³å°èƒ½ç”¨ã€‚\nè‚¯å®šä»˜è´¹çš„è¯ï¼Œè‚¯å®šæ˜¯é€‰æ‹© å›½å†…äº‘å‚å•†çš„s3å‚¨å­˜ï¼Œå¯ä»¥ç”¨rcloneåŠ å¯†å¤‡ä»½è¿‡å»ï¼Œé€Ÿåº¦ä¹Ÿå¾ˆç†æƒ³ã€‚\né‚£ä¹ˆå…è´¹çš„æ€ä¹ˆé€‰ï¼Ÿ\nå‡ ä¸ªå…è´¹æ–¹æ¡ˆçš„å¯¹æ¯”å’Œé€‰ åšæœäº‘ çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œæ”¯æŒwebdav ä½†æ˜¯æµé‡é™åˆ¶ç¦»è°±ï¼Œè€Œä¸”webdavé™åˆ¶ä¹Ÿç¦»è°±ï¼Œå‡ ä¹æ˜¯æ— æ³•ä½¿ç”¨çŠ¶æ€ã€‚å³ä¾¿æ˜¯æ˜¯ä»˜è´¹ç‰ˆæœ¬é€Ÿåº¦ä¹Ÿå¾ˆåƒåœ¾ï¼Œwebdavç…§æ ·é™åˆ¶ï¼Œä¸”ä¸å¯ä»¥é€€æ¬¾\né˜¿é‡Œäº‘ç›˜ ç™¾åº¦äº‘ç›˜ ç­‰ å¯ä»¥ç”¨alistæŒ‚è½½ï¼Œä½†æ˜¯ç™¾åº¦äº‘ç›˜é™é€Ÿç¦»è°± é˜¿é‡Œäº‘ç›˜åœ¨alistä¸Šä¹Ÿä¸å¤Ÿç¨³å®šç»å¸¸å­˜åœ¨æ‰ç›˜ï¼Œå½“æˆ‘ä»¬éœ€è¦æ“ä½œè¿™éƒ¨åˆ†æ–‡ä»¶çš„æ—¶å€™ï¼Œå‘ç°ç½‘ç›˜æŒ‚è½½æ‰äº†ï¼Œè¿™çœŸçš„è¿˜æ˜¯æŒºç—›è‹¦çš„äº‹æƒ…\ngoogle drive ã€ dropbox å¾ˆç¨³å®š ï¼Œå…è´¹å®¹é‡å¤Ÿç”¨ï¼Œä½†æ˜¯å›½å†…éœ€è¦æŒ‚æ¢¯å­ã€‚\né‚£ä¹ˆï¼Ÿ 1 koofr å…è´¹10g å›½å†…é€Ÿåº¦å¯ä»¥,Koofrç½‘ç›˜ åœ¨çº¿ç®¡ç†ä½ çš„Dropboxã€Onedriveã€Google Drive æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒWebDAV 2 pcloud ï¼Œå…è´¹8Gï¼Œå›½å†…é€Ÿåº¦ä¹Ÿè¿˜å‡‘åˆ\npcloud ä¼˜ç‚¹ï¼š\nå…¨å¹³å°æ”¯æŒ linux uiæ”¯æŒå’Œ cilæ”¯æŒ ï¼ rcloneæ”¯æŒ å›½å†…ä¸éœ€è¦æ¢¯å­å°±å¯ä»¥ç”¨ å…è´¹å®¹é‡ 8G ç½‘ç«™æœ‰ç¹ä½“ä¸­æ–‡ï¼Œè‹±è¯­ä¸å¥½çš„å°ä¼™ä¼´ä¸ç”¨æ‹…å¿ƒ å®¢æˆ·ç«¯æœ‰æ–‡ä»¶åŒæ­¥æ”¯æŒï¼Œå°±æ˜¯å°Šè´µçš„åŒæ­¥ç›˜åŠŸèƒ½\nç¼ºç‚¹ï¼š å…è´¹å®¹é‡ å°±8Gï¼Œå†æƒ³æ›´å¤§éœ€è¦é‚€è¯·äººï¼Œå¦‚æœåªæ˜¯å¤‡ä»½æ ¸å¿ƒæ–‡ä»¶çš„è¯ï¼Œå…¶å®ä¹Ÿå¤Ÿç”¨äº† å›½å†…è®¿é—®é€Ÿåº¦ä¸€èˆ¬èˆ¬å•¦ï¼ŒPing 218.80ms ä¸‹è¼‰ 93.89Mbps (11.74 MB/s) ä¸Šå‚³ 5.80Mbps (0.72 MB/s)å°æ–‡ä»¶å¤‡ä»½å¯ä»¥ï¼Œæˆ–è€…è‡ªå·±ç§‘å­¦ä¸Šç½‘å“¦ rclone æŒ‚è½½è¯´æ˜ rcloneæ–°å»ºçš„pcloudçš„æ—¶å€™ client_id å’Œ client_secret ç•™ç©ºå³å¯ï¼Œç„¶åä¼šæ‰“å¼€ç½‘é¡µè®©ä½ æˆæƒ\næœ€ç»ˆé…ç½®æ–‡ä»¶æ ¼å¼å‚è€ƒ\n1 2 3 4 5 6 7 8 9 10 [pcloud] type = pcloud hostname = api.pcloud.com token = {\u0026#34;access_token\u0026#34;:\u0026#34;XXXXXXXXXXXXXXXXXXXX\u0026#34;,\u0026#34;token_type\u0026#34;:\u0026#34;bearer\u0026#34;,\u0026#34;expiry\u0026#34;:\u0026#34;XXXXXXXXXXXX\u0026#34;} [pcloud-jiami] type = crypt remote = pcloud: filename_encryption = obfuscate directory_name_encryption = false password = XXXXXXXXXXXXXXXX æµ‹è¯•\n1 rclone lsf pcloud: --config /root/rclone-sh-cfg/rclone.conf è¡¥å…… cloudflareçš„r2 å¦å¤–ä¸€ä¸ªæ¨èæ˜¯ cloudflareçš„r2 ç›®å‰å›½å†…æ²¡æœ‰å¢™ æ­£å¸¸å¯ç”¨ï¼Œå¦‚æœè¢«å¢™äº†ï¼Œä¹Ÿå¯ä»¥ç”¨è‡ªå·±åŸŸåç»•è¿‡ï¼ˆgwfå¯¹cfçš„ä¸šåŠ¡ ç›®å‰åŸºæœ¬éƒ½æ˜¯å¢™åŸŸåï¼Œè¿™å‡ å¹´å¾ˆå°‘å¢™ipï¼‰ cloudflareçš„r2 r2 10Gå‚¨å­˜ æ¯æœˆç™¾ä¸‡æ¬¡æ“ä½œï¼Œå…¶ä»–æ“ä½œé™åˆ¶åƒä¸‡æ¬¡ï¼Œå•æ¬¡æ“ä½œé™åˆ¶ 5Gæµé‡ï¼Œæµé‡å…è´¹\n","date":"2023-04-13T04:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/free-small-netdisk/","title":"å›½å†…ä½¿ç”¨ é€‚åˆé‡è¦æ–‡ä»¶çš„å¤‡ä»½åŒæ­¥"},{"content":"cloudreve æ˜¯ä¸€ä¸ªçœŸçš„ä¸é”™çš„ç½‘ç›˜ç¨‹åºï¼Œå¹¶ä¸”æ”¯æŒwebdavå“ˆï¼Œè™½ç„¶ioså®¢æˆ·ç«¯æ”¶è´¹ï¼Œä½†æ˜¯æ”¯æŒwebdavçš„å®¢æˆ·ç«¯appå¤ªå¤šäº†ã€‚ä¸ä¸€å®šéè¦ä¹°ã€‚\nå°¤å…¶æ˜¯ cloudreveæ–°ç‰ˆæ”¯æŒ onlyofficeåï¼Œæˆ‘å¼€å§‹ç”¨ä»–ä½œä¸ºä¸»åŠ›ç½‘ç›˜ä½¿ç”¨ã€‚\né•¿æœŸä½¿ç”¨åå‘ç° ä»–çš„webui è¿˜æ˜¯ï¼Œæœ‰ä¸€äº›ä¸æ–¹ä¾¿çš„åœ°æ–¹ã€‚\né—æ†¾ æ–‡ä»¶é¢„è§ˆ æ²¡æœ‰è¿”å›æŒ‰é’® æ— æ³•ç›´æ¥å¤åˆ¶æ–‡æ¡£å’Œç›®å½•çš„è·¯å¾„ å¤šé€‰åŠŸèƒ½è¦ç‚¹å³é”® webdavçš„é—®é¢˜ åœ¨ä½¿ç”¨kopia ç›´è¿cloudreveçš„æ—¶å€™ å‡ºç°405é”™è¯¯ï¼Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œä¸´æ—¶çš„æ–¹æ¡ˆæ˜¯é€šè¿‡rcloneä¸­è½¬ï¼Œå°šä¸çŸ¥æœ‰æ²¡æœ‰é—®é¢˜ã€‚\nè¿™ä¸ªé—®é¢˜æ¯”è¾ƒä¸¥é‡ï¼Œæ­£åœ¨è€ƒè™‘äº†è¦ä¸è¦åˆ‡æ¢åˆ° filerun æˆ–è€… nextcloud\nä¼˜åŠ¿ golang è½»é‡æ²¡å•¥ä¾èµ– é«˜æ€§èƒ½ webdav è´¦æˆ·ç‹¬ç«‹ å¯¹onlyofficeçš„å®Œç¾æ”¯æŒ æ–‡æ¡£é½å…¨ï¼Œtgç¾¤æ´»è·ƒï¼Œä½œè€…ä¹Ÿç»å¸¸åœ¨tgç¾¤å‡ºæ²¡ å¯ä»¥å’Œnextcloudä¸€æ · ä¿æŒåŸç›®å½•ç»“æ„å‚¨å­˜æ–‡ä»¶ï¼Œè¿ç§»æ–¹ä¾¿ ä¸ºä»€ä¹ˆä¸é€‰å…¶ä»–çš„ nextcloud åŸºäºphp ä¾èµ–å¤ªå¤šäº†ï¼Œè€Œä¸” çœŸçš„åƒæ€§èƒ½ã€‚ä½†æ˜¯çœŸçš„å¾ˆå¼ºå¤§\nseafile ä¸‘å‡ºå¤©é™…ï¼Œwebuiéš¾ç”¨çš„è¦æ­»ï¼Œèµ„æºå ç”¨æ¯”nextcloudå¥½ï¼Œå’Œcloudreveæ²¡æ³•æ¯”\nå…¶ä»– è¯•ç”¨ä¸€åœˆ è¦ä¹ˆç®€é™‹ è¦ä¹ˆåƒæ€§èƒ½\næœªæ¥ æœŸå¾…ä½œè€…ç»§ç»­ä¼˜åŒ–webuiå§ ï¼Œæš‚æ—¶è¿˜æ˜¯ç”¨ä»–åšä¸»åŠ›ç½‘ç›˜ã€‚\n","date":"2023-04-11T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/cloudreve-bug/","title":"cloudreve ä½¿ç”¨å‡ ä¸ªæœˆçš„æ„Ÿå—"},{"content":"å…ˆè¯´ç»“è®ºï¼Œä¸¤ä¸ªéƒ½é•¿æ—¶é—´ä½¿ç”¨è¿‡ï¼Œæ•´ä½“æˆ‘å€¾å‘äºæ€æºï¼Œç›®å‰ä¹Ÿæ˜¯æ€æºã€‚\n202403 å·²ç»è¿ç§»åˆ° outline\nå…±åŒç‚¹ éƒ½æ”¯æŒäº‘åŒæ­¥å’Œç§æœ‰åŒæ­¥ï¼Œè¿™ä¹Ÿæ˜¯åŒºåˆ«äº æˆ‘æ¥ è¯­é›€ç­‰ä¸åŒçš„åœ°æ–¹ éƒ½æ”¯æŒs3å¯¹è±¡å‚¨å­˜åŒæ­¥å’ŒwebdavåŒæ­¥ï¼Œå¹¶ä¸”éƒ½æ”¯æŒè‰¯å¥½ éƒ½æ”¯æŒåŠ å¯†åŒæ­¥ éƒ½å¯¹åšæœäº‘æ”¯æŒä¸å¥½ï¼Œå› ä¸ºåšæœäº‘çš„é™åˆ¶å®åœ¨æ˜¯å¤ªç‹ äº†ã€‚ joplinä¼šä¸¢æ–‡æ¡£ï¼Œæ€æºä¼šåŒæ­¥å¤±è´¥ã€‚ pcå®¢æˆ·ç«¯ éƒ½æ˜¯ Electronï¼Œåƒå†…å­˜åƒç¡¬ç›˜ï¼Œä¸è¿‡ä¸€èˆ¬åŠå…¬æœºæ²¡å•¥å‹åŠ›ã€‚æ€æºå¦å¤–æœ‰webappåŠŸèƒ½ã€‚ joplin çš„ä¸€äº›é—®é¢˜æˆ–è€…æ¯”æ€æºç¼ºç‚¹ ä»£ç ç‰‡æ®µæ²¡æœ‰ å¤åˆ¶æŒ‰é’®ï¼Œéœ€è¦æ‹¿é¼ æ ‡æ‹– æ²¡æœ‰webappåŠŸèƒ½ æ€æºæœ‰ä¸€ä¸ªdockerç‰ˆæœ¬ å¯ä»¥æµè§ˆå™¨éƒ¨ç½² åŒæ­¥æ—¶é—´5åˆ†é’Ÿ ä¸èƒ½åšåˆ°ä¿å­˜å³åŒæ­¥ åŒæ­¥ç›®å½•ä¸­çš„mdæ–‡ä»¶å…¨éƒ¨æ”¾ä¸€ä¸ªç›®å½•é‡Œé¢ï¼ŒæŸäº›æƒ…å†µä¸‹ä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚ä¼šå¯¼è‡´åŒæ­¥æœåŠ¡å™¨èµ„æºå ç”¨æ¯”è¾ƒå¤§ æ²¡æœ‰å¤šæ ‡ç­¾ç®¡ç†åŠŸèƒ½ï¼Œåªèƒ½ç¼–è¾‘åŒä¸€ä¸ªæ–‡æ¡£é‡Œé¢çš„ï¼Ÿ äºŒçº§ æ–‡æ¡£åªæ˜¯ä¸€ä¸ªç›®å½• ä¸æ˜¯æ–‡æ¡£ ï¼Œä¸ç®—ç¼ºç‚¹å§ æ²¡æœ‰å†…ç½®æ€ç»´å¯¼å›¾æµç¨‹å›¾ä¹‹ç±»çš„æ”¯æŒï¼Œä½†æ˜¯æ”¯æŒç›¸å…³æ’ä»¶ å…¨éƒ¨å¯¼å‡ºå‹ç¼©åŒ…åŠŸèƒ½ï¼Œé»˜è®¤çš„æ–‡ä»¶åç§° æ˜¯ æ—¥ æœˆ å¹´ï¼Œç„¶åè¿˜æ²¡æœ‰æ—¶åˆ†ç§’ã€‚ã€‚ æ€æºçš„ä¸€äº›é—®é¢˜æˆ–è€…å¯¹joplinçš„ç¼ºç‚¹ è²Œä¼¼æ²¡æœ‰åˆ†äº«åŠŸèƒ½ ï¼Œæˆ–è®¸æ”¶è´¹ç‰ˆæœ‰ ç½‘é¡µå‰ªè¾‘åŠŸèƒ½ï¼Œè²Œä¼¼ä¹Ÿæ˜¯æ”¶è´¹ç‰ˆæœ¬æ‰æœ‰ mdæ–‡æ¡£çš„å¯¼å‡º å¯¼å‡ºæ¥æ˜¯å‹ç¼©åŒ…ï¼Œéœ€è¦è§£å‹ä¸€æ¬¡ ï¼Œå¾ˆçƒ¦å¾ˆçƒ¦è¿™ä¸ªï¼ï¼ï¼ï¼ æ— æ³•å…¨éƒ¨å¯¼å‡ºä¸ºmd ï¼Œéœ€è¦é€ä¸ªæ–‡æ¡£å¯¼å‡ºzipç„¶åè§£å‹ï¼Œjoplin è¿™ç‚¹è¦æ¯”æ€æºå¥½å¤ªå¤šäº† äºŒçº§æ–‡æ¡£ æœ¬èº«æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œä¸ç®—ç¼ºç‚¹å§ å†…ç½®æ€ç»´å¯¼å›¾æµç¨‹å›¾æ¯”è¾ƒç®€é™‹ï¼Œå¥½åƒä¸æ”¯æŒç›¸å…³æ’ä»¶ï¼Œç®€å•çš„å›¾å¯ä»¥èƒœä»»,å¤æ‚ä¸€ç‚¹çš„å› ä½¿ç”¨ç‡ä¸é«˜æ²¡æœ‰ä»”ç»†ç ”ç©¶ã€‚ æ–‡æ¡£ç§»åŠ¨çš„æ—¶å€™ï¼Œå…¨å±æç¤ºéœ€è¦é‡å»ºç´¢å¼•ï¼Œè¿™ä¸ªæ¯”è¾ƒçƒ¦ã€‚æ–°ç‰ˆå¥½åƒä¿®å¤äº†ï¼Œæˆ‘ä¸€ç›´ç”¨2.7.1 mdæ–‡æ¡£çš„ ç¼–è¾‘ï¼Œè™½ç„¶æ‰€è§æ‰€å¾—ï¼Œä½†æ˜¯æ²¡æœ‰é€‰æ‹©æ˜¾ç¤ºæºç çš„é€‰é¡¹ æœ‰æ—¶å€™ä¸å¤ªæ–¹ä¾¿ joplin æ¯”æ€æºæ”¯æŒæ›´å¤šçš„äº‘ç«¯ï¼Œæ¯”å¦‚ OneDriv googledriveç­‰ï¼Œè¿™ä¸ªã€‚ã€‚å›½å†…ç¯å¢ƒåˆ«æƒ³äº† æ€æºdockeréƒ¨ç½² 1 2 3 mkdir /root/siyuan_date chown -R 1000:1000 /root/siyuan_date docker run -itd --restart=always --name=sy --hostname sy -v /root/siyuan_date:/root/siyuan_date -p 6806:6806 b3log/siyuan --workspace=/root/siyuan_date æ›´æ–°å‘½ä»¤\nç»¼åˆ å› ä¸ºæˆ‘ä¸»è¦æ˜¯çº¯ç¬”è®°ï¼Œæ€æºçš„ä¸€äº›å°é—®é¢˜ä¹Ÿæœ‰ï¼Œä½†æ˜¯æ²¡æœ‰å½±å“åˆ°æ—¥å¸¸ä½¿ç”¨æ•ˆç‡\nè€Œä¸”ç›®å‰æ›´æ–°éå¸¸é¢‘ç¹ï¼Œå°é—®é¢˜æˆ–è®¸ä»¥åä¼šä¿®å¤ã€‚åªæ˜¯æˆ‘ç”šè‡³æ‡’å¾—å‡çº§ï¼Œä¸€ç›´åœ¨ç”¨docker 2.7.2 å°¤å…¶æ˜¯dockeréƒ¨ç½²çš„ web app ï¼ˆåŠŸèƒ½é½å…¨çš„ï¼‰ï¼Œåœ¨æ–°è®¾å¤‡ä¸Š å¯ä»¥ç›´æ¥ç”¨ï¼Œçœå»ä¸€å †éº»çƒ¦ã€‚ é…åˆedge å’Œ chrome ç›´æ¥åˆ›å»ºåº”ç”¨ä¹Ÿèˆ’æœï¼Œipadä¸Š safariä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»º\nç½‘ä¸Šæœ‰ä¸€ä¸ªå« å®Œç¾å…¬ç¤¾ çš„ä¸€ç›´åœ¨å–·æ€æºï¼Œæ„Ÿè§‰ä¸æ˜¯æ°´å†›ï¼Œåªæ˜¯ä¸€ä¸ªæ™ºåŠ›å‘è‚²ä¸å¤ªå¥½çš„ç—…äººï¼Œèº«æ®‹å¿—åšå¸¦ç—…ä¸Šç½‘ è¿˜æ˜¯å¾ˆä½©æœ ã€‚\n","date":"2023-04-11T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/siyuan-vs-joplin/","title":"å›½äº§æ€æºç¬”è®°å’Œjoplin å¯¹æ¯”ä½¿ç”¨æ„Ÿå—"},{"content":"å‰è¨€ ä¹‹å‰ä¸€ç›´ç”¨ nginxWebUI æ¥ç®¡ç†ï¼Œç”šè‡³åœ¨ç»™ä½œè€…åé¦ˆä¸€äº›é—®é¢˜åï¼Œä½œè€…ç½®ä¹‹ä¸ç†åï¼Œè‡ªå·±äºŒå¼€äº†ä¸€ä¸ªç‰ˆæœ¬ã€‚\nä½†æ˜¯nginxWebUI å› ä¸ºä¸èƒ½æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯ç•¥å¾®éº»çƒ¦ã€‚é¼ æ ‡ç‚¹æ¥ç‚¹å» å¾ˆçƒ¦çš„å“ˆã€‚\näºæ˜¯åˆæ‹¿èµ·æ¥Nginx-Proxy-Manager\nç¯å¢ƒ pve lxc alpine ç¡¬ç›˜1G å†…å­˜ 512M swapå…³é—­ ip 10.1.1.51\nå‡†å¤‡ 1 2 3 4 5 6 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* å®‰è£… dockerå®‰è£… ä¸€èˆ¬æƒ…å†µæ¨èdockerå®‰è£…ï¼Œä½†æ˜¯æˆ‘å¯èƒ½éœ€è¦ä¿®æ”¹ä¸€äº›åœ°æ–¹ï¼Œæ‰€ä»¥æ‰‹åŠ¨è£…ï¼Œå®˜ç½‘æœ‰æ¨èä¸€ä¸ªç¬¬ä¸‰æ–¹å®‰è£…è„šæœ¬ã€‚ç›´æ¥å¼€å¼€å§‹\n1 wget --no-cache -qO - https://raw.githubusercontent.com/ej52/proxmox/main/lxc/nginx-proxy-manager/setup.sh | sh ç»“æœåœ¨å®‰è£…åˆ°pythonçš„åœ°æ–¹å‡ºé”™ï¼Œç®—äº† è¿˜æ˜¯docker å¥—å¨ƒå§ã€‚ï¼ˆå…³äºç‰¹æƒå®¹å™¨ å®‰è£…dockerçš„é—®é¢˜è¯·ç¾¤å†…æœç´¢ï¼Œå¦‚æœæ²¡å•¥å¿…è¦å°±ç”¨éç‰¹æƒå®¹å™¨ï¼‰ é¡ºå¸¦è£…ä¸Šsshd\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 apk add docker rc-update add docker boot service docker start docker version # cat /etc/docker/daemon.json cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;http://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34; ] } EOF service docker restart 1 2 3 4 apk add openssh rc-update add sshd boot sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config service sshd restart åˆ›å»º å› ä¸ºè¿™ä¸ªlxcå°±è¿è¡Œè¿™ä¸€ä¸ªï¼Œæ‰€ä»¥hostæ¨¡å¼\n1 2 3 4 docker run -itd \\ --name=nginx --hostname nginx \\ --net=host \\ jc21/nginx-proxy-manager:2.10.2 å› ä¸ºè¦ä¿®æ”¹\nåŸºæœ¬é…ç½® http://10.1.1.51:81\nEmail: admin@example.com\nPassword: changeme\nç”³è¯·sslè¯ä¹¦çš„æ—¶å€™ zope é”™è¯¯ 1 2 docker exec -it nginx /bin/bash pip install zope å‚è€ƒï¼šhttps://github.com/NginxProxyManager/nginx-proxy-manager/issues/2440\næ‰‹åŠ¨é…ç½®nginxé…ç½®æ–‡ä»¶ è¯ä¹¦ç›®å½• 1 2 certificate /etc/letsencrypt/live/npm-5/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/npm-5/privkey.pem; å¦‚æœè¦å®šåˆ¶ä¸€äº›ç‰¹æ®Šçš„ npm-X è¿™ä¸ªéœ€è¦è‡ªå·±è®°ä½\né…ç½®æ–‡ä»¶ç›®å½• 1 2 /etc/nginx/conf.d/ /data/nginx/proxy_host/1.conf æ€ä¹ˆç”¨ ç®€å•çš„ä»£ç† ç›´æ¥åœ¨webç•Œé¢å¤„ç†å°±è¡Œ éœ€è¦å®šåˆ¶çš„æƒ…å†µå¯ä»¥ç›´æ¥æ‰‹å†™conf\næœ€å‘¨ å…¶å® æ›´åŠ çµæ´»çš„æƒ…å†µ è¿˜æ˜¯ è‡ªå·±æ‰‹å†™ åæœŸå¦‚æœæœ‰æ—¶é—´ æ‰“ç®—è‡ªå·±åšä¸€ä¸ª ç±»ä¼¼åŠŸèƒ½ã€‚\n","date":"2023-04-10T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/lxc-nginx-proxy-mananger/","title":"aioä¸»æœºä¸Šçš„httpç»Ÿä¸€ç®¡ç†"},{"content":"åœºæ™¯ å¯¹è±¡å‚¨å­˜æ˜¯ä¸€ä¸ªç®€å•çš„ç½‘ç»œæ–‡ä»¶å‚¨å­˜åè®®ï¼ŒSimple Storage Service åŸºäºhttpã€‚æ€§èƒ½è¦è¶…è¿‡webdavã€‚\nå› ä¸ºäº‘å‚å•†çš„s3ä»·æ ¼æ¯”è¾ƒè´µï¼Œå…è´¹çš„é™åˆ¶å¾ˆå¤šã€‚æ‰€ä»¥åœ¨éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ç”¨è‡ªå·±çš„æ­å»ºçš„ã€‚\nminio golangå†™çš„ ç»¿è‰²ç¯ä¿ è½»é‡ é«˜æ€§èƒ½ å¼€æº å…è´¹\nç¯å¢ƒå‡†å¤‡ æˆ‘è¿™é‡Œæ˜¯pveå¹³å°ï¼Œé‡‡ç”¨lxc alpineæ­å»ºã€‚åˆ›å»ºä»¥ä¸€ä¸ªctå®¹å™¨ id 9000 ï¼Œé•œåƒé€‰æ‹©alpine3.17 ç¡¬ç›˜8gï¼Œå¦å¤–ç›´é€šä¸€ä¸ªç‰©ç†ç›˜è¿›æ¥ï¼Œlxcç›´é€šæ•™ç¨‹è¯·ç«™å†…æœç´¢ã€‚ ip å›ºå®š10.1.1.90 alpine å¯åŠ¨åï¼Œä¿®æ”¹æº å¸‚åŒº\n1 2 3 4 5 6 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* å®‰è£…minio 1 2 3 apk add wget wget https://dl.min.io/server/minio/release/linux-amd64/minio #æ´»è·ƒè½¯ä»¶æ›´æ–°æ¯”è¾ƒé¢‘ç¹ chmod +x minio å¯åŠ¨æµ‹è¯• 1 2 3 4 MINIO_ROOT_USER=admin MINIO_ROOT_PASSWORD=123456 ./minio server /mnt/data --console-address \u0026#34;:9001\u0026#34; # http://10.1.1.90:9001 # ç”¨æˆ·åï¼šadmin # å¯†ç ï¼š 123456 ctrl -c ç»“æŸ\né…ç½®è¯ä¹¦ æˆ‘çš„è¯ä¹¦æ–‡ä»¶ å‡ç”± github action æ‰˜ç®¡ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç›´æ¥æ‹‰å–å›æ¥å³å¯ã€‚è¯¦æƒ…\nminioè¦æ±‚ ç§é’¥ä¸ºprivate.keyï¼Œå…¬å…±è¯ä¹¦ä¸ºpublic.crtã€‚ é…ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦çš„è„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 cat \u0026gt; auto-updatessl-form-github.sh \u0026lt;\u0026lt; EOF cd /root rm ssl.zip* wget https://cdn.jsdelivr.net/gh/XXXX/sXXXX.zip #https://github.com/XXXXXXXXXXXXX.zip if [ ! -f \u0026#34;/root/ssl.zip\u0026#34; ]; then wget -O/dev/null -q https://api.day.app/ä½ çš„key/SSL-update-err/[home-mino]?sound=birdsong\u0026amp;amp;isArchive=1 else rm -rf ssl 7z x ssl.zip -på¯†ç  #å¯†ç å’Œpä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ supervisorctl restart minio nginx -S reload fi EOF echo \u0026#34;15 8 * * * sh /root/auto-updatessl-form-github.sh\u0026#34; \u0026gt;\u0026gt; /etc/crontabs/root \u0026amp;\u0026amp; cat /etc/crontabs/root å¯ç”¨è¯ä¹¦ minio æ”¯æŒtlsé€šè®¯ï¼Œä½†æ˜¯ç†è§£èµ·æ¥æœ‰ä¸€ç‚¹å›°éš¾ï¼Œæœ¬ç€èƒ½ä¸ç”¨è„‘å­çš„æ—¶å€™ï¼Œç»å¯¹ä¸ç”¨çš„å‰æã€‚ æˆ‘è¿˜æ˜¯é€‰ ç”¨nginxæ¥æå®š,ä¸‹é¢æ“ä½œä¾æ—§æ˜¯åŸºäºalpine å…¶ä»–linuxç³»ç»Ÿæ³¨æ„ä¸€ä¸‹ è·¯å¾„\naioç¯å¢ƒä¹Ÿå¯ä»¥é›†ä¸­åˆ° nginxWebUIå¤„ç†\n1 2 3 4 apk add nginx rc-update add nginx boot mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf-bak vi /etc/nginx/http.d/mino.conf å†…å®¹,\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 server { server_name s3.jia.leiyanhui.com; #ç®¡ç†é¢æ¿ listen 51443 ssl http2; ssl_certificate /root/ssl/XXXX.cer; ssl_certificate_key /root/ssl/XXX.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 51442; if ($scheme = http) { return 301 https://$host:51443$request_uri; } error_page 497 https://$host:51443; # Allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 0; # Disable buffering proxy_buffering off; proxy_request_buffering off; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-NginX-Proxy true; # This is necessary to pass the correct IP to be hashed real_ip_header X-Real-IP; proxy_connect_timeout 300; # To support websocket proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; chunked_transfer_encoding off; proxy_pass http://10.1.1.90:9001/; # This uses the upstream directive definition to load balance and assumes a static Console port of 9001 } } server { server_name s3api.åŸŸå.com; #api listen 51443 ssl http2; ssl_certificate /root/ssl/XXXX.cer; ssl_certificate_key /root/ssl/XXX.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 51442; if ($scheme = http) { return 301 https://$host:51443$request_uri; } error_page 497 https://$host:51443; # Allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 0; # Disable buffering proxy_buffering off; proxy_request_buffering off; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 300; # Default is HTTP/1, keepalive is only enabled in HTTP/1.1 proxy_http_version 1.1; proxy_set_header Connection \u0026#34;\u0026#34;; chunked_transfer_encoding off; proxy_pass http://10.1.1.90:9000/; # This uses the upstream directive definition to load balance } } ä¸Šæ–‡å‚è€ƒï¼šhttps://min.io/docs/minio/linux/integrations/setup-nginx-proxy-with-minio.html\nå»æ‰äº†è´Ÿè½½å‡è¡¡éƒ¨åˆ†\næµ‹è¯•ssl 1 2 service nginx start MINIO_ROOT_USER=admin MINIO_ROOT_PASSWORD=12345678 ./minio server /mnt/data --console-address \u0026#34;:9001\u0026#34; å†™å…¥æœåŠ¡ é…ç½®å’Œç¯å¢ƒå˜é‡ é€šå¸¸ éƒ½æ˜¯ä½¿ç”¨ supervisorctlï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ä½†æ˜¯ä»Šå¤©å‡†å¤‡å°è¯•ç”¨ alpineçš„rcæœåŠ¡ç®¡ç†å™¨æ¥å¤„ç†ã€‚ minio å·²ç»ä¸å»ºè®®ç”¨ \u0026ndash;config-dir æ¥ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯æŠŠé…ç½®æ–‡ä»¶ æ”¾åˆ°äº† ç›®å½•çš„ .minio.sys\n1 ls /mnt/data/.minio.sys æˆ‘è¿™é‡Œç›´æ¥export æ”¾åˆ° start_pre ~~ æˆ‘è¿™é‡Œç›´æ¥æ”¹ç¯å¢ƒå˜é‡ echo \u0026ldquo;export MINIO_ROOT_USER=admin\u0026rdquo;\u0026raquo;/etc/profile\necho \u0026ldquo;export MINIO_ROOT_PASSWORD=123456\u0026rdquo;\u0026raquo;/etc/profile\nsource /etc/profile ~~\næ·»åŠ ç³»ç»ŸæœåŠ¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 vi /etc/init.d/minio ----------------------- #!/sbin/openrc-run name=\u0026#34;minio\u0026#34; command=\u0026#34;/root/minio \u0026#34; command_args=\u0026#34;server /mnt/data --console-address \u0026#39;:9001\u0026#39;\u0026#34; command_background=\u0026#34;yes\u0026#34; pidfile=\u0026#34;/run/$RC_SVCNAME.pid\u0026#34; start_pre() { export MINIO_ROOT_USER=admin export MINIO_ROOT_PASSWORD=12345678 } depend() { need localmount need logger } æ­¤å¤„æœ‰ä¸€ä¸ªå°å‘ ï¼Œå¯†ç é•¿åº¦ä¸èƒ½ä½äº8ä½ ç”¨æˆ·åä¸èƒ½ä½äºä¸‰ä½ã€‚ å¦å¤–è¿™ä¸ªè´¦æˆ·å¯†ç  æ˜¯ é¢æ¿ ä»¥åŠ mcçš„ç®¡ç†é‡Œé¢ã€‚é¢æ¿å¯ä»¥ç¦ç”¨ mcçš„ä¸ç¡®å®šï¼Œæ‰€ä»¥å¯†ç å¼ºåº¦æœ€å¥½é«˜ä¸€ç‚¹\n1 2 3 4 chmod +x /etc/init.d/minio rc-service --list rc-update add minio boot service minio start ","date":"2023-04-09T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-minio/","title":"lxcæ­å»ºè‡ªå·±çš„å¯¹è±¡å‚¨å­˜s3 mino over ssl/tls"},{"content":"åœºæ™¯ æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨mdæ–‡ä»¶æ’å…¥çš„æ–‡ä»¶ä¸­è°ƒæ•´å›¾ç‰‡å¤§å°ï¼Œæˆ–è€…å…¶ä»–ä¸€äº›è°ƒæ•´ï¼Œè€Œå…¶ä»–mdç¼–è¾‘å™¨æ”¯æŒçš„çš„è¯­æ³•hugoä¸è§å¾—éƒ½æ”¯æŒ\näºæ˜¯è‡ªç„¶è€Œç„¶æƒ³æ‰‹å†™htmlæ¥å®ç°ï¼Œä»Hugo V.0.60å¼€å§‹ï¼Œé»˜è®¤çš„markdownæ¸²æŸ“å™¨æ˜¯Goldmarkï¼Œè€ŒGoldmark é»˜è®¤ä¼šå…³é—­htmlçš„è§£æ\næ‰“å¼€htmlè§£æåŠŸèƒ½ ä¹Ÿå°±æ˜¯æ·»åŠ ä¸€ä¸ªé…ç½®é¡¹ markup.goldmark.renderer.unsafe: true\nå¦‚ä½ çš„hugo æ˜¯ç”¨çš„ config.yamlæ–‡ä»¶ï¼Œé‚£ä¹ˆæ·»åŠ æˆ–è€…ä¿®æ”¹\n1 2 3 4 markup: goldmark: renderer: unsafe: true å¯¹äºconfig.tomlæ–‡ä»¶ï¼Œé‚£ä¹ˆæ·»åŠ æˆ–è€…ä¿®æ”¹\n1 2 3 4 [markup] [markup.goldmark] [markup.goldmark.renderer] unsafe = true æœ€ç»ˆï¼Œä½ å°±å¯ä»¥ç›´æ¥ç”¨\n1 \u0026lt;img src=\u0026#34;//XXXX.jpg\u0026#34; width=\u0026#34;300px\u0026#34; /\u0026gt; ","date":"2023-04-08T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/mdbook/hugo-img-html/","title":"makedown hugo å®šä¹‰å›¾ç‰‡å®½åº¦ä»¥åŠç›´æ¥è§£æhtmlçš„æ–¹æ³•"},{"content":"æœ¬åœ°æµ‹è¯• è·å–hugo winç¯å¢ƒ https://github.com/gohugoio/hugo/releases ä¸‹è½½ hugo_extended_0.111.3_windows-amd64.zip è§£å‹åˆ° Dï¼š/hugo\n1 2 3 hugo new site D:\\hugo\\site1 cp hugo.exe D:\\hugo\\site1\\hugo.exe cd D:\\hugo\\site1 é€‰ä¸€ä¸ªæ¨¡æ¿ æˆ‘è¿™é‡Œç”¨ https://github.com/alex-shpak/hugo-book è¿™ä¸ªï¼Œå› ä¸ºæ”¯æŒå·¦å³ä¸¤ä¾§å¯¼èˆª æ›´é€‚åˆæ–‡æ¡£ç±»çš„ã€‚\n1 2 3 4 5 git init git submodule add https://github.com/alex-shpak/hugo-book themes/hugo-book :: ä» \\themes\\hugo-book\\exampleSite å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶_index.md åˆ° \\content\\_index.md hugo server --minify --theme hugo-book :: æ‰“å¼€æµ‹è¯• é€šç”¨å‹ä¼˜åŒ– å‡†å¤‡æŠŠè¿™ä¸ªç›®å½• æ‰€è°“æ‰€æœ‰æ–‡æ¡£ç±»å‹çš„æ¨¡æ¿ã€‚éœ€è¦å¤„ç†ä¸€ç‚¹ æ–°å»ºä¸€ä¸ª æ–‡ä»¶\u0026quot; .gitignore \u0026quot; æŠŠ hugo.exe æ·»åŠ è¿›å»\næ¨é€åˆ°ç§æœ‰git æµ‹è¯•æ²¡æœ‰é—®é¢˜åï¼Œæ–‡ä»¶cpåˆ° linuxå¼€å‘æœº\n1 2 3 4 5 6 7 8 rm -rf .git rm -rf .gitmodules git init git checkout -b main git add . git commit -m \u0026#34;first commit\u0026#34; git remote add origin https://gitXXXXX git push -u origin main ç§æœ‰gité…ç½®å’Œgithubçš„åŒæ­¥ åœ¨gitea çš„ä»“åº“çš„è®¾ç½®é‡Œé¢ï¼ŒGit è¿œç¨‹ä»“åº“é“¾æ¥ æ·»åŠ githubçš„ åœ°å€ ç”¨æˆ·å å’Œ æœ‰actionæƒé™çš„å¯†ç \nè¿™ä¸ªgithubä»“åº“ä¸ºç§æœ‰ä»“åº“ï¼Œå¦å¤–æ–°å»ºä¸€ä¸ªå…¬å¼€ä»“åº“ä½œä¸ºpage å…¬å¼€ä»“åº“è®¾ç½® sshkey ç§æœ‰ä»“åº“è®¾ç½® secrets è¿™ä¸ªä¸åœ¨å¤šè¯´ã€‚\næ–°å»ºactioneæ–‡ä»¶ .github\\workflows\\hugo-to-pub.yml å†…å®¹å¦‚ä¸‹ï¼Œå…¶ä¸­ secrets.FOR_PAGE_SSHKEY æ˜¯ å…¬å¼€ä»“åº“çš„ssh ç§key\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 name: hugo-to-pub on: push: branches: - main jobs: hugo-to-pub: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 with: fetch-depth: 0 - name: å®‰è£… hugo run: | mkdir hugo curl -sSL https://github.com/gohugoio/hugo/releases/download/v0.111.3/hugo_extended_0.111.3_linux-amd64.tar.gz | tar -xz --directory=./hugo echo `pwd`/hugo \u0026gt;\u0026gt; $GITHUB_PATH - name: ç¼–è¯‘ hugo run: | echo \u0026#34;ç¼–è¯‘\u0026#34; hugo --theme=hugo-book --baseUrl=\u0026#34;https://doc.XXXX/\u0026#34; - name: å¤„ç†ç‹¬ç«‹åŸŸåçš„ç»‘å®š run: | echo \u0026#34;doc.XXXX\u0026#34; \u0026gt;\u0026gt; ./public/CNAME - name: å¤„ç†sshæƒé™ env: FOR_PAGE_SSHKEY: ${{ secrets.FOR_PAGE_SSHKEY }} run: | mkdir -p ~/.ssh/ echo \u0026#34;$FOR_PAGE_SSHKEY\u0026#34; \u0026gt; ~/.ssh/id_rsa chmod 600 ~/.ssh/id_rsa ssh-keyscan github.com \u0026gt;\u0026gt; ~/.ssh/known_hosts - name: åˆå§‹åŒ–gitå¹¶æ¨é€åˆ°githubå…¬å¼€åº“ run: | cd public git config --global init.defaultBranch main echo \u0026#34;init\u0026#34; git init git checkout -b main git add -A echo \u0026#34;config\u0026#34; git config user.name \u0026#34;joyanhui\u0026#34; git config user.email \u0026#34;joyanhui@qq.com\u0026#34; echo \u0026#34;commit\u0026#34; git commit -m \u0026#34;è‡ªåŠ¨ç”Ÿæˆ $GITHUB_SHA \u0026#34; echo \u0026#34;æ¨é€åˆ°å…¬å¼€åº“\u0026#34; git remote add origin git@github.com:joyanhui/XXXXX.git git push -u origin main -f -q æœ€åé…ç½®dnså’Œcdn å›½å†…è§£æåˆ°å›½å†…cdnå›æºåˆ°github\nå›½å¤–è§£æåˆ°github.io å®Œæ¯•\nè¡¥å…… åœ¨codeserver é‡Œé¢å¼€å‘ hugoçš„è¯ï¼Œæ³¨æ„è°ƒè¯•çš„æ—¶å€™çš„ipç»‘å®š\n1 2 3 4 5 6 7 8 9 10 11 12 echo \u0026#34;http://10.1.1.99:1313/\u0026#34; ./hugo server --theme hugo-book --bind=10.1.1.99 test(){ ./hugo server --minify --theme hugo-book --baseURL=http://yoursite.org/ \\ --port=131 \\ --appendPort=false \\ --bind=87.245.198.50 } ","date":"2023-04-08T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/mdbook/hugo-book/","title":"hugo æ­å»ºä¸€ä¸ªå¤šè¯­è¨€å¸®åŠ©ç½‘é¡µ å¹¶æ‰˜ç®¡åˆ°githubå’Œå›½å†…cdn"},{"content":"åœºæ™¯ æ—¢ç„¶æ˜¯nas å°±éœ€è¦åšå¼‚åœ°å¤‡ä»½ã€‚\nå¤‡ä»½ç›®çš„åœ° ä¸€èˆ¬å¤‡ä»½åˆ°ç½‘ç›˜æˆ–å¯¹è±¡å‚¨å­˜æ¯”è¾ƒåˆ’ç®—ã€‚ å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œè¿˜æ˜¯è¦å¤‡ä»½åˆ°å…è´¹çš„ç½‘ç›˜ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘ç›˜ 1-2T 123pan 2Tï¼Œè¿˜æœ‰od gdç­‰å®¹é‡æ›´å¤§çš„é€‰æ‹©ã€‚ ç”¨alistæŒ‚è½½åï¼Œåªè¦ä¸æ»¥ç”¨ï¼Œè´¦å·ä¸ä¼šè¢«å°ã€‚\næ•°æ®é‡ä¸å¤§è¯ï¼Œå°¤å…¶æ ¸å¿ƒæ•°æ®ï¼Œå¯ä»¥å¤‡ä»½åˆ°å¯¹è±¡å‚¨å­˜ï¼Œæ¯”å¦‚ aliossä¹Ÿä¸è´µ ä¸ƒç‰›è¿˜æœ‰å…è´¹çš„10G kodo\néƒ¨åˆ†æ•æ„Ÿæ•°æ®éœ€è¦åŠ å¯†å‚¨å­˜ã€‚ä¸ºäº†é˜²æ­¢ç½‘ç›˜åˆ æ–‡ä»¶ï¼Œå°¤å…¶æ˜¯å°å§å§ä»¬ï¼Œä¹Ÿéœ€è¦åŠ å¯†å‚¨å­˜ã€‚\néƒ¨åˆ†æ•°æ® éœ€è¦æŒ‰ç…§ç‰ˆæœ¬å‚¨å­˜ã€‚\néƒ¨åˆ†æ•°æ® éœ€è¦æŒ‰ç…§åŸç›®å½•å‚¨å­˜ï¼Œæ–¹ä¾¿åœ¨ç½‘ç›˜å¯ä»¥ç›´æ¥è®¿é—®ã€‚æ¯”å¦‚å°å§å§ä»¬ å¯ä»¥ç›´æ¥å­˜åˆ°pikpak\nå…³äºduplicati ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€ä¸ªä½¿ç”¨çš„å¤‡ä»½ç¨‹åº\nduplicati æ˜¯.netå†™çš„ï¼Œå¯ä»¥è£…åˆ°pc ä¹Ÿå¯ä»¥è£…åˆ°æœåŠ¡å™¨ï¼Œæ”¯æŒlinux(mono) ï¼Œä¹Ÿæœ‰dockerç‰ˆæœ¬\næ”¯æŒåŠ å¯†å‚¨å­˜ï¼Œæ”¯æŒå¢é‡ï¼Œæ”¯æŒç‰ˆæœ¬å‚¨å­˜ã€‚\nä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜ï¼š\nä¸æ”¯æŒæŒ‰ç…§åŸå§‹ç›®å½•å‚¨å­˜æ–¹å¼ å¤‡ä»½è¿‡ç¨‹ä¸­ä¼šå ç”¨å¾ˆå¤§çš„æœ¬åœ°ç¡¬ç›˜ç©ºé—´ è™½ç„¶ä»–æ˜¯åŸºäºrcloneçš„ï¼Œä½†ä¸ç®—æ˜¯ä¸€ä¸ªè½»é‡åŒ–å·¥å…· å…³äºrclone å¯ä»¥ç”¨sysncæ–¹å¼å®ç°åŒæ­¥ï¼Œå¯ä»¥ä¸å ç”¨æœ¬åœ°ç£ç›˜ï¼Œä½†ä¸æ”¯æŒçš„\næ²¡æœ‰å›¾å½¢ç•Œé¢ ä¸æ”¯æŒæŒ‰ç…§ç‰ˆæœ¬ä¿å­˜ restic æ”¯æŒå¸¸è§çš„å‚¨å­˜æ¨¡å¼ï¼Œä¹Ÿæ”¯æŒrcloneæŒ‚è½½çš„å‚¨å­˜ã€‚ä¹Ÿå°±æ˜¯alistæŒ‚è½½çš„ç½‘ç›˜ä¹Ÿæ²¡é—®é¢˜ã€‚ rcloneæ˜¯æ–‡ä»¶åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯å’Œå¤§éƒ¨åˆ†ç½‘ç›˜è½¯ä»¶ä¸€æ ·ï¼Œæ¥æºæ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç›®çš„æ–‡ä»¶å°±æ˜¯ä»€ä¹ˆæ ·çš„ã€‚resticæ˜¯é¢å‘æ–‡ä»¶çš„ä¸“ä¸šå¤‡ä»½å·¥å…·ï¼Œå…¶åœ¨å¤‡ä»½æ–‡ä»¶å‰å°†ä¼šå…ˆè¿›è¡ŒåŠ å¯†å†ä¼ è¾“ï¼Œè€Œä¸”æ˜¯å¢é‡å¤‡ä»½ï¼Œåªå¤‡ä»½å˜åŒ–çš„éƒ¨åˆ†ã€‚\nrcloneå¹¶ä¸è®°å½•æ–‡ä»¶ç‰ˆæœ¬ï¼Œæ— æ³•å›æº¯ç‰¹å®šæ—¶é—´ç‚¹ä¸Šçš„æ–‡ä»¶ã€‚resticä¼šå¯¹æ¯æ¬¡å¤‡ä»½ç”Ÿæˆä¸€ä¸ªå¿«ç…§ï¼Œè®°å½•è¯¥æ—¶é—´ç‚¹æ–‡ä»¶å˜åŒ–å’Œå­˜å‚¨ç»“æ„ï¼Œå¯ä»¥éšæ—¶å›æº¯åˆ°ç‰¹å®šæ—¶é—´ç‚¹çš„æ–‡ä»¶ã€‚\næœ€ç»ˆçš„è€ƒé‡ è€ƒè™‘åˆ° æˆ‘è¦å¤‡ä»½çš„æ–‡ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§\næ–‡æ¡£ç±» ä¿®æ”¹é¢‘ç¹ ä»£ç ç±» gitea+githubå¤„ç†ï¼Œä¸éœ€è¦naså¤‡ä»½ minio æ€æºç¬”è®° ä¿®æ”¹é¢‘ç¹ å½±éŸ³è§†é¢‘ åªéœ€è¦åŒæ­¥ ä¸åˆè§„çš„å½±éŸ³è§†é¢‘ éœ€è¦å•ç‹¬åŒæ­¥å¤‡ä»½åˆ° å¢ƒå¤–ç½‘ç›˜ æˆ–è€…åŠ å¯†åŒæ­¥åˆ°å¢ƒå†…ç½‘ç›˜ ç§äººç›¸å†Œè§†é¢‘ åŠ å¯†åŒæ­¥åˆ°å¢ƒå†…ç½‘ç›˜ restic ä¸å¤ªç†Ÿæ‚‰éœ€è¦æ—¶é—´çœ‹æ–‡æ¡£è¸©å‘ï¼Œæœ€ç»ˆå†³å®š ä½¿ç”¨rclone+å‹ç¼©åŒ…å¢é‡çš„æ–¹å¼ï¼Œæ›´åº•å±‚ æ›´è½»é‡ï¼ æœ€ç»ˆ å•ç‹¬ä¸€ä¸ªlxcï¼ˆpveï¼‰å¹³å°è¿è¡Œrcloneï¼Œé…ç½®æ–‡ä»¶ä¸­æŒ‚è½½äº†åŒ…æ‹¬alist ç§æœ‰minio é˜¿é‡Œäº‘å¯¹è±¡å‚¨å­˜ åœ¨å†…çš„æˆ‘å¸¸ç”¨çš„å‚¨å­˜\nå¹¶æŠŠéƒ¨åˆ†å‚¨å­˜æŒ‚è½½åˆ°æœ¬åœ°ï¼Œ ç„¶åç”¨crontab å®šæ—¶å¤„ç† ï¼Œå…¨æ‰‹åŠ¨ç®¡ç†\nå…³äºç½‘ç›˜çš„é€‰æ‹© ç®€å•çš„è¯´ï¼Œæ ¸å¿ƒæ–‡ä»¶ è¿˜æ˜¯åŠ å¯†æ”¾åˆ° æ”¶è´¹çš„å¯¹è±¡å‚¨å­˜ ã€‚\næ— å…³ç´§è¦çš„æ–‡ä»¶ ï¼Œæ”¾åˆ°å“ªå®¶ç½‘ç›˜éƒ½ä¸€æ ·ã€‚\nå…è´¹çš„ç½‘ç›˜çš„è¯ï¼Œä¾æ—§æ˜¯é˜¿é‡Œäº‘ç›˜æ¯”è¾ƒè‰¯å¿ƒï¼Œè€Œä¸”å®˜æ–¹å·²æä¾›apiä¸æ»¥ç”¨çš„è¯æ˜¯å®Œå…¨åˆè§„çš„ã€‚\næˆ‘è¿™é‡Œä¹Ÿåªæœ‰ä¸€ä¸ª 904G çš„è´¦å·ï¼Œä¸å­˜å¤ªå¤šç”µå½±è§†é¢‘çš„è¯ è¶³å¤Ÿç”¨äº†ã€‚\nç™¾åº¦ç½‘ç›˜ä¸Šä¼ é€Ÿåº¦å…¶å®ä¹Ÿè¿˜å¥½ï¼Œä¸‹è½½é€Ÿåº¦å˜›æ²¡åŠæ³•ï¼Œå¦‚æœéœ€è¦å–å›çš„æ—¶å€™ï¼Œå¼€ä¸ªä¼šå‘˜å°±å¥½ã€‚\n123panè™½ç„¶æœ‰2Tå®¹é‡ï¼Œä½†æ˜¯å®é™…æµ‹è¯• é™åˆ¶è¿˜æ˜¯æœ‰ä¸€äº›ã€‚å•ä¸ªç›®å½•ä¸‹æ–‡ä»¶æ•°é‡ä¸å¯ä»¥è¶…è¿‡99ä¸ªã€‚\nå‡†å¤‡å·¥ä½œ å®¿ä¸»ç³»ç»Ÿé€‰æ‹© alpine å¤Ÿè½»é‡ï¼Œåˆ›å»ºä¸€ä¸ªlxc 10009ï¼Œå»æ‰ éç‰¹æƒå®¹å™¨çš„å‹¾å·ï¼Œé€‰æ‹© alpineé•œåƒï¼Œç£ç›˜ç©ºé—´ï¼Œé€‰æ‹© é»˜è®¤ 8G ã€‚å› ä¸ºéƒ¨åˆ†taréœ€è¦ä¸´æ—¶ç¼“å­˜\nåˆ›å»ºå®Œæˆå åœ¨é€‰é¡¹ åŠŸèƒ½é‡Œé¢ å‹¾é€‰ä¸Š åµŒå¥— NFS SMB fuse\nä¿®æ”¹æºå’Œæ—¶åŒº 1 2 3 4 5 6 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* å®‰è£…ssh è¿™ä¸ªä¸æ˜¯å¿…é¡»çš„ ä¸è£…äº†ï¼Œè¦è£…çš„è¯\n1 2 3 4 apk add openssh rc-update add sshd boot sed -i \u0026#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/g\u0026#39; /etc/ssh/sshd_config service sshd restart å‡†å¤‡æ‰€éœ€è½¯ä»¶ æˆ‘è€ƒè™‘äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯é€‰æ‹©ç”¨ 7zipä½œä¸ºå¢é‡å¤‡ä»½å·¥å…·ï¼Œè€Œä¸æ˜¯xz ï¼Œå› ä¸ºä¸æƒ³å­¦ã€‚ã€‚ã€‚\n1 2 3 4 5 6 apk add p7zip apk add wget wget -c https://downloads.rclone.org/v1.62.2/rclone-v1.62.2-linux-amd64.zip 7z x rclone*.zip cp rclone-*/rclone /usr/bin/ #å¤åˆ¶åˆ°binç›®å½• rm -rf rclone* å‡†å¤‡rcloneé…ç½®æ–‡ä»¶ å¯ä»¥ç›´æ¥ç”¨\n1 rclone config --config /root/rclone.conf é…ç½®ï¼Œä¹Ÿå¯ä»¥æ‰‹å†™ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥å­˜åˆ°è‡ªå·±çš„ç¬”è®°é‡Œé¢ã€‚ä¸å†å¤šè¯´\nè¿™é‡Œè¦ rclone æŒ‚è½½äº† è‡ªå·±çš„nasï¼Œæˆ‘è¿™é‡Œç”¨webdavæŒ‚è½½çš„ cloudreve ç„¶åæŒ‚è½½ alist é˜¿é‡Œäº‘ å¯¹è±¡å‚¨å­˜ç­‰\næœ€ç»ˆrcloneå†…çš„èŠ‚ç‚¹å¦‚ä¸‹ 1 2 3 4 5 6 7 8 Name Type ==== ==== alist webdav #å…¬ç½‘ alist-local webdav #å†…ç½‘ cloudreve webdav #å…¬ç½‘ cloudreve-local webdav #å†…ç½‘ oss-qd s3 #å…¬ç½‘ oss-sh s3 #å…¬ç½‘ *-localçš„æ˜¯ç”¨å†…ç½‘é“¾æ¥çš„\næµ‹è¯• 1 2 3 4 5 6 rclone lsd alist:/ --config /root/rclone.conf rclone lsd alist-local:/ --config /root/rclone.conf rclone lsd cloudreve:/ --config /root/rclone.conf rclone lsd cloudreve-local:/ --config /root/rclone.conf --no-check-certificate #å¿½ç•¥è¯ä¹¦æ£€æŸ¥ rclone lsd minio:/note --config /root/rclone.conf rclone lsd minio-local:/note --config /root/rclone.conf å…³äºminioçš„ä¸€ç‚¹è¡¥å…… Minioç›®å‰å¹¶ä¸æ”¯æŒæ‰€æœ‰çš„S3ç‰¹æ€§ã€‚ç‰¹åˆ«æ˜¯å®ƒä¸æ”¯æŒMD5æ ¡éªŒï¼ˆETagï¼‰æˆ–è€…æ˜¯å…ƒæ•°æ®ã€‚è¿™å°±è¡¨ç¤ºRcloneä¸èƒ½é€šè¿‡MD5SUMsè¿›è¡Œæ ¡éªŒæˆ–è€…ä¿å­˜æœ€åä¿®æ”¹æ—¶é—´ã€‚ä¸è¿‡ä½ å¯ä»¥ç”¨Rcloneçš„â€”size-only flagã€‚\n1 2 3 4 5 rclone lsd minio: #æŸ¥çœ‹å‚¨å­˜æ¡¶ rclone mkdir minio:bucket #åˆ›å»ºä¸€ä¸ªå‚¨å­˜æ¡¶ rclone --size-only copy /path/to/files minio:bucket #å¤åˆ¶ rclone --size-only --dry-run sync /path/to/files minio:bucket #æµ‹è¯•åŒæ­¥ rclone --size-only sync /path/to/files minio:bucket #æ ‡å‡†åŒæ­¥ ","date":"2023-04-03T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/auto-back/","title":"nasçš„è‡ªåŠ¨å¤‡ä»½å·¥å…·çš„é€‰æ‹©  Restic  rclone duplicatiç­‰"},{"content":"åœºæ™¯ åœ¨å†…ç½‘æŒ‚è½½webdavçš„æ—¶å€™ï¼Œç›´æ¥ç”¨å†…ç½‘ip+ç«¯å£æŒ‚è½½ã€‚ä½†æ˜¯å¯¹åº”ç«¯å£ä¸Šåªæä¾›äº†å…¬ç½‘çš„ssl\nè§£å†³æ–¹æ³• é€šè¿‡chatgptæœç´¢çš„ ä¿®æ”¹rclone.confæ–‡ä»¶ åœ¨å¯¹åº”èŠ‚ç‚¹ä¸Šæ·»åŠ ä¸€è¡Œ insecure_skip_verify = true å®é™…æµ‹è¯•æ²¡æ•ˆæœ æœ€ç»ˆè§£å†³æ–¹æ¡ˆ åœ¨å‘½ä»¤åé¢ æ·»åŠ  \u0026ndash;no-check-certificate\næµ‹è¯• 1 2 rclone lsd cloudreve-local:/ --config /root/rclone.conf rclone lsd cloudreve-local:/ --config /root/rclone.conf --no-check-certificate è¡¥å…… å…¶å®è¿™ä¸ªä½¿ç”¨åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹hostsæ–‡ä»¶æ¥é¿å…è¯ä¹¦é”™è¯¯çš„é—®é¢˜ï¼Œåˆå¯ä»¥ç»•è¿‡å¤–ç½‘ã€‚\nå‚è€ƒï¼šhttps://github.com/rclone/rclone/issues/168\n","date":"2023-04-03T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/rclone-skip-ssl/","title":"rcloneè·³è¿‡è¯ä¹¦æ£€æŸ¥"},{"content":"rclone æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿè¾…åŠ©å·¥å…·ï¼ æ”¯æŒå¹¶ä¸é™ä¸ä»¥ä¸‹åŠŸèƒ½\næŒ‚è½½ å¯¹è±¡å‚¨å­˜ æŒ‚è½½ å¤šæ•°æ­£å¸¸çš„ç½‘ç›˜ï¼ˆéå›½å†…é˜‰å‰²ç›˜ï¼‰ syncåŒæ­¥ æ–‡ä»¶å¤åˆ¶ åˆ é™¤ ls ä¸´æ—¶è·å–url linkç­‰ åŠ å¯†åŒæ­¥ ä¸‹é¢æ•´ç†è®°å½•å¸¸ç”¨å‘½ä»¤\nå®‰è£… golangå†™çš„ ç›´æ¥è§£å‹å³å¯ ï¼Œæˆ–è€…ç”¨linuxè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨\n1 2 3 4 wget https://downloads.rclone.org/rclone-current-linux-amd64.zip unzip rclone-current-linux-amd64.zip cp rclone-*-linux-amd64/rclone /mnt/sda1/rclone \u0026amp;\u0026amp; rm -rf rclone-* chown root:root /mnt/sda1/rclone \u0026amp;\u0026amp; chmod 755 /mnt/sda1/rclone é…ç½®æ–‡ä»¶ å‘å¯¼æ¨¡å¼ 1 2 /mnt/sda1/rclone config # é»˜è®¤è·¯å¾„åœ¨ ~/.config/rclone/rclone.conf /mnt/sda1/rclone config --config /mnt/sda1/rclone.conf æ‰‹åŠ¨ç¼–è¾‘ ä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 cat \u0026gt;/mnt/sda1/rclone.conf \u0026lt;\u0026lt; EOF [cloudreve] type = webdav url = https://cloudreveåœ°å€:5213/dav vendor = nextcloud user = å¯†ç  pass = åŠ å¯†åçš„å¯†ç  [oss-sh] type = s3 provider = Alibaba access_key_id = XXXXX secret_access_key = XXXXXX endpoint = oss-cn-shanghai.aliyuncs.com acl = private storage_class = STANDARD bucket_acl = private EOF å¤‡ä»½å’Œæ¢å¤ 1 2 3 rclone copy oss-qd:demo-docker-img-bak/emqx.5.0.17.tar.gz /demo/docker-img-bak/emqx.5.0.17.tar.gz --config /demo/etc/rclone.conf rclone sync oss-qd:demo-serv-emqx-bak/ /demo/emqx --config /demo/etc/rclone.conf rclone sync /demo/emqx oss-qd:demo-serv-emqx-bak/ --config /demo/etc/rclone.conf sysnc å’Œ copy åŒºåˆ« ç­‰äº ç³»ç»Ÿ sysnc å’Œ cpçš„åŒºåˆ«\nè·å–ä¸´æ—¶é“¾æ¥ ä»…é™éƒ¨åˆ†å‚¨å­˜å¯ä»¥ç”¨ã€‚æœ‰ä¸€äº›å‚¨å­˜è‚¯å®šæ˜¯ä¸å¯ä»¥çš„ç”¨çš„ã€‚\n1 /root/opt/rclone link --expire 1m oss-qd:demo-serv-bak/opt_serv1/main.txt æ£€æŸ¥ æŸ¥è¯¢ ls åˆ—å‡ºæ–‡ä»¶\n1 2 3 4 5 rclone ls åˆ—å‡ºè·¯å¾„ä¸­çš„å¯¹è±¡åŠå…¶å¤§å°å’Œè·¯å¾„ã€‚ rclone lsd åˆ—å‡ºè·¯å¾„ä¸­çš„æ‰€æœ‰ç›®å½•/å®¹å™¨/æ¡¶ã€‚ rclone lsf åˆ—å‡º remote:path æ ¼å¼çš„ç›®å½•å’Œå¯¹è±¡ä»¥ä¾›è§£æã€‚ rclone lsjson ä»¥ JSON æ ¼å¼åˆ—å‡ºè·¯å¾„ä¸­çš„ç›®å½•å’Œå¯¹è±¡ã€‚ rclone lsl åˆ—å‡ºè·¯å¾„ä¸­çš„å¯¹è±¡åŠå…¶ä¿®æ”¹æ—¶é—´ã€å¤§å°å’Œè·¯å¾„ã€‚ ä¾‹å¦‚\n1 rclone lsd cloudreve:/ --config /demo/etc/rclone.conf æŒ‚è½½å‘½ä»¤ 1 /mnt/sda1/rclone mount cloudreve:/ /mnt/dav --config /mnt/sda1/rclone.conf å¦‚æœæç¤º fusermount3 æ‰¾ä¸åˆ°ï¼Œåº”è¯¥æ˜¯ç¼ºå°‘ fuse3 è¿™ä¸ªåŒ… apk add fuse3\nå…¶ä»–å¸¸ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 rclone copy - å¤åˆ¶ rclone move - ç§»åŠ¨ï¼Œå¦‚æœè¦åœ¨ç§»åŠ¨ååˆ é™¤ç©ºæºç›®å½•ï¼Œè¯·åŠ ä¸Š --delete-empty-src-dirs å‚æ•° rclone sync - åŒæ­¥ï¼šå°†æºç›®å½•åŒæ­¥åˆ°ç›®æ ‡ç›®å½•ï¼Œåªæ›´æ”¹ç›®æ ‡ç›®å½•ã€‚ rclone size - æŸ¥çœ‹ç½‘ç›˜æ–‡ä»¶å ç”¨å¤§å°ã€‚ rclone delete - åˆ é™¤è·¯å¾„ä¸‹çš„æ–‡ä»¶å†…å®¹ã€‚ rclone purge - åˆ é™¤è·¯å¾„åŠå…¶æ‰€æœ‰æ–‡ä»¶å†…å®¹ã€‚ rclone mkdir - åˆ›å»ºç›®å½•ã€‚ rclone rmdir - åˆ é™¤ç›®å½•ã€‚ rclone rmdirs - åˆ é™¤æŒ‡å®šçµå¢ƒä¸‹çš„ç©ºç›®å½•ã€‚å¦‚æœåŠ ä¸Š --leave-root å‚æ•°ï¼Œåˆ™ä¸ä¼šåˆ é™¤æ ¹ç›®å½•ã€‚ rclone check - æ£€æŸ¥æºå’Œç›®çš„åœ°å€æ•°æ®æ˜¯å¦åŒ¹é…ã€‚ rclone ls - åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤§å°å’Œè·¯å¾„ã€‚ rclone lsl - æ¯”ä¸Šé¢å¤šä¸€ä¸ªæ˜¾ç¤ºä¸Šä¼ æ—¶é—´ã€‚ rclone lsd åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„ç›®å½• rclone lsf - åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„ç›®å½•å’Œæ–‡ å¸¸ç”¨å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 -n = --dry-run - æµ‹è¯•è¿è¡Œï¼Œç”¨æ¥æŸ¥çœ‹ rclone åœ¨å®é™…è¿è¡Œä¸­ä¼šè¿›è¡Œå“ªäº›æ“ä½œã€‚ -P = --progress - æ˜¾ç¤ºå®æ—¶ä¼ è¾“è¿›åº¦ï¼Œ500mS åˆ·æ–°ä¸€æ¬¡ï¼Œå¦åˆ™é»˜è®¤ 1 åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ã€‚ --cache-chunk-size SizeSuffi - å—çš„å¤§å°ï¼Œé»˜è®¤5Mï¼Œç†è®ºä¸Šæ˜¯è¶Šå¤§ä¸Šä¼ é€Ÿåº¦è¶Šå¿«ï¼ŒåŒæ—¶å ç”¨å†…å­˜ä¹Ÿè¶Šå¤šã€‚å¦‚æœè®¾ç½®å¾—å¤ªå¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿›ç¨‹ä¸­æ–­ã€‚ --cache-chunk-total-size SizeSuffix - å—å¯ä»¥åœ¨æœ¬åœ°ç£ç›˜ä¸Šå ç”¨çš„æ€»å¤§å°ï¼Œé»˜è®¤10Gã€‚ --transfers=N - å¹¶è¡Œæ–‡ä»¶æ•°ï¼Œé»˜è®¤ä¸º4ã€‚å¦‚æœä½ cpuæ€§èƒ½å·®ï¼Œå»ºè®®è°ƒä½ï¼Œä½†å¤ªä½å¯èƒ½ä¼šå½±å“å¤šä¸ªæ–‡æ¡£åŒæ—¶ä¼ è¾“çš„é€Ÿåº¦ã€‚ --config string - æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼Œstringä¸ºé…ç½®æ–‡ä»¶è·¯å¾„ã€‚ --ignore-errors - è·³è¿‡é”™è¯¯ã€‚æ¯”å¦‚ OneDrive åœ¨ä¼ äº†æŸäº›ç‰¹æ®Šæ–‡ä»¶åä¼šæç¤ºFailed to copy: failed to open source object: malwareDetected: Malware detectedï¼Œè¿™ä¼šå¯¼è‡´åç»­çš„ä¼ è¾“ä»»åŠ¡è¢«ç»ˆæ­¢æ‰ï¼Œæ­¤æ—¶å°±å¯ä»¥åŠ ä¸Šè¿™ä¸ªå‚æ•°è·³è¿‡é”™è¯¯ã€‚ä½†éœ€è¦æ³¨æ„ RCLONE çš„é€€å‡ºçŠ¶æ€ç ä¸ä¼šä¸º0ã€‚ --no-check-certificate å¿½ç•¥è¯ä¹¦æ£€æŸ¥ --allow-otherï¼šå…è®¸éå½“å‰ rclone ç”¨æˆ·å¤–å…¶å®ƒç”¨æˆ·è¿›è¡Œè®¿é—® --attr-timeout 5mï¼šæ–‡ä»¶å±æ€§ç¼“å­˜ï¼Œï¼ˆå¤§å°ï¼Œä¿®æ”¹æ—¶é—´ç­‰ï¼‰çš„æ—¶é—´ã€‚å¦‚æœ VPS é…ç½®æ¯”è¾ƒä½ï¼Œå»ºè®®é€‚å½“æé«˜è¿™ä¸ªå€¼ï¼Œé¿å…è¿‡å¤šå†…æ ¸äº¤äº’ï¼Œé™ä½èµ„æºå ç”¨ã€‚ -vfs-cache-mode fullï¼šå¼€å¯ VFS æ–‡ä»¶ç¼“å­˜ï¼Œå¯å‡å°‘ rclone ä¸ API äº¤äº’ï¼ŒåŒæ—¶å¯æé«˜æ–‡ä»¶è¯»å†™æ•ˆç‡ --vfs-cache-max-age 24hï¼šVFS æ–‡ä»¶ç¼“å­˜æ—¶é—´ï¼Œè¿™é‡Œè®¾ç½® 24 å°æ—¶ï¼Œå¦‚æœæ–‡ä»¶å¾ˆå°‘æ›´æ”¹ï¼Œå»ºè®®è®¾ç½®æ›´é•¿æ—¶é—´ --vfs-cache-max-size 10Gï¼šVFSæ–‡ä»¶ç¼“å­˜ä¸Šé™å¤§å°ï¼Œå»ºè®®ä¸è¶…è¿‡å½“å‰ç©ºä½™ç£ç›˜çš„50% vfs-read-chunk-size-limit 100Mï¼šåˆ†å—è¯»å–å¤§å°ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯100Mï¼Œå¯æé«˜æ–‡ä»¶è¯»çš„æ•ˆç‡ï¼Œæ¯”å¦‚1Gçš„æ–‡ä»¶ï¼Œå¤§è‡´åˆ†ä¸º10ä¸ªå—è¿›è¡Œè¯»å–ï¼Œä½†ä¸æ­¤åŒæ—¶APIè¯·æ±‚æ¬¡æ•°ä¹Ÿä¼šå¢å¤š --buffer-size 100Mï¼šå†…å­˜ç¼“å­˜ï¼Œå¦‚æœæ‚¨å†…å­˜æ¯”è¾ƒå°ï¼Œå¯é™ä½æ­¤å€¼ï¼Œå¦‚æœå†…å­˜æ¯”è¾ƒå¤§ï¼Œå¯é€‚å½“æé«˜ --daemonï¼šæŒ‡åå°æ–¹å¼è¿è¡Œ --low-level-retriesï¼šè¯¥å‚æ•°ä¸ºä¼ è¾“æ–‡æ¡£æ²¡é€Ÿåº¦çš„æ—¶å€™é‡è¯•æ¬¡æ•°ï¼Œæ²¡é€Ÿåº¦çš„æ—¶å€™ï¼Œå•ä¸ªä¼šè‡ªåŠ¨ç¡çœ 10msèµ·ï¼Œç„¶åå†é‡è¯•ï¼Œä¸è¡Œï¼Œå†ç¡çœ æ›´é•¿ä¸€æ®µæ—¶é—´ï¼Œå†é‡è¯•ï¼Œè¿™æ ·å¯ä»¥ç¨å¾®åŠ å¿«æ–‡æ¡£ä¸Šä¼ è¿›åº¦ã€‚ â€“transfers 4 è¡¨ç¤ºæ–‡ä»¶å¹¶è¡Œæ•°é‡ â€“max-size 3G ä¼ è¾“çš„æ–‡ä»¶æœ€å¤§3G â€“min-size 3G ä¼ è¾“çš„æ–‡ä»¶æœ€å°3G â€“checkers 64 å¹¶è¡Œæ£€æŸ¥64ä¸ªæ–‡ä»¶ å…³äºè¯»å–éƒ¨åˆ†çš„ä¸€äº› å‚æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 --dir-cache-time 12h --vfs-read-chunk-size 32M --vfs-read-chunk-size-limit 1G 1. --vfs-cache-mode off - æ‰€æœ‰æ–‡ä»¶æ“ä½œå…¨éƒ¨ç›´æ¥è¿›è¡Œ - å¤±è´¥æ— æ³•è‡ªåŠ¨é‡è¯• 2. --vfs-cache-mode minimal - è¯»å†™æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶å°†ä¼šé¦–å…ˆç¼“å†²åˆ°ç£ç›˜ - å…¶ä»–æ¨¡å¼æ‰“å¼€æ–‡ä»¶ç›´æ¥è¿›è¡Œæ“ä½œ - å¤±è´¥æ— æ³•è‡ªåŠ¨é‡è¯• 3. --vfs-cache-mode writes - è¯»å†™æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶å°†ä¼šé¦–å…ˆç¼“å†²åˆ°ç£ç›˜ - åªå†™æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶å°†ä¼šé¦–å…ˆç¼“å†²åˆ°ç£ç›˜ - åªè¯»å–æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶å°†ä¼šç›´æ¥è¿›è¡Œæ“ä½œ - æ”¯æŒè‡ªåŠ¨é‡è¯• 4. --vfs-cache-mode full - æ‰€æœ‰æ–‡ä»¶æ“ä½œå…¨éƒ¨ç¼“å­˜ - è¯»å–ä¼šä¸‹è½½æ•´ä¸ªæ–‡ä»¶ æ—¥å¿— rclone æœ‰ 4 ä¸ªçº§åˆ«çš„æ—¥å¿—è®°å½•ï¼ŒERRORï¼ŒNOTICEï¼ŒINFO å’Œ DEBUGã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œrclone å°†ç”Ÿæˆ ERROR å’Œ NOTICE çº§åˆ«æ¶ˆæ¯ã€‚ -q - rcloneå°†ä»…ç”Ÿæˆ ERROR æ¶ˆæ¯ã€‚ -v - rcloneå°†ç”Ÿæˆ ERRORï¼ŒNOTICE å’Œ INFO æ¶ˆæ¯ï¼Œæ¨èæ­¤é¡¹ã€‚ -vv - rclone å°†ç”Ÿæˆ ERRORï¼ŒNOTICEï¼ŒINFOå’Œ DEBUG æ¶ˆæ¯ã€‚ \u0026ndash;log-level LEVEL - æ ‡å¿—æ§åˆ¶æ—¥å¿—çº§åˆ«ã€‚ è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶ ä½¿ç”¨ \u0026ndash;log-file=FILE é€‰é¡¹ï¼Œrclone ä¼šå°† Errorï¼ŒInfo å’Œ Debug æ¶ˆæ¯ä»¥åŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ° FILEï¼Œè¿™é‡Œçš„ FILE æ˜¯ä½ æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚ å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç³»ç»Ÿçš„æŒ‡å‘å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š rclone sync -v Onedrive:/DRIVEX Gdrive:/DRIVEX \u0026gt; \u0026ldquo;~/DRIVEX.log\u0026rdquo; 2\u0026gt;\u0026amp;1\næ–‡ä»¶è¿‡æ»¤ \u0026ndash;exclude - æ’é™¤æ–‡ä»¶æˆ–ç›®å½•ã€‚ \u0026ndash;include - åŒ…å«æ–‡ä»¶æˆ–ç›®å½•ã€‚ \u0026ndash;filter - æ–‡ä»¶è¿‡æ»¤è§„åˆ™ï¼Œç›¸å½“äºä¸Šé¢ä¸¤ä¸ªé€‰é¡¹çš„å…¶å®ƒä½¿ç”¨æ–¹å¼ã€‚åŒ…å«è§„åˆ™ä»¥ + å¼€å¤´ï¼Œæ’é™¤è§„åˆ™ä»¥ - å¼€å¤´ã€‚ æ–‡ä»¶ç±»å‹è¿‡æ»¤ æ¯”å¦‚ \u0026ndash;exclude \u0026ldquo;*.bak\u0026rdquo;ã€\u0026ndash;filter \u0026ldquo;- .bak\u0026rdquo;ï¼Œæ’é™¤æ‰€æœ‰ bak æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥å†™ä½œã€‚ æ¯”å¦‚ \u0026ndash;include \u0026ldquo;.{png,jpg}\u0026quot;ã€\u0026ndash;filter \u0026ldquo;+ *.{png,jpg}\u0026quot;ï¼ŒåŒ…å«æ‰€æœ‰ png å’Œ jpg æ–‡ä»¶ï¼Œæ’é™¤å…¶ä»–æ–‡ä»¶ã€‚ \u0026ndash;delete-excluded åˆ é™¤æ’é™¤çš„æ–‡ä»¶ã€‚éœ€é…åˆè¿‡æ»¤å‚æ•°ä½¿ç”¨ï¼Œå¦åˆ™æ— æ•ˆã€‚\nç›®å½•è¿‡æ»¤ ç›®å½•è¿‡æ»¤éœ€è¦åœ¨ç›®å½•åç§°åé¢åŠ ä¸Š /ï¼Œå¦åˆ™ä¼šè¢«å½“åšæ–‡ä»¶è¿›è¡ŒåŒ¹é…ã€‚ä»¥ / å¼€å¤´åªä¼šåŒ¹é…æ ¹ç›®å½•ï¼ˆæŒ‡å®šç›®å½•ä¸‹ï¼‰ï¼Œå¦åˆ™åŒ¹é…æ‰€ç›®å½•ã€‚è¿™åŒæ ·é€‚ç”¨äºæ–‡ä»¶ã€‚ \u0026ndash;exclude \u0026ldquo;.git/\u0026rdquo; æ’é™¤æ‰€æœ‰ç›®å½•ä¸‹çš„.git ç›®å½•ã€‚ \u0026ndash;exclude \u0026ldquo;/.git/\u0026rdquo; åªæ’é™¤æ ¹ç›®å½•ä¸‹çš„.git ç›®å½•ã€‚ \u0026ndash;exclude \u0026ldquo;{Video,Software}/\u0026rdquo; æ’é™¤æ‰€æœ‰ç›®å½•ä¸‹çš„ Video å’Œ Software ç›®å½•ã€‚ \u0026ndash;exclude \u0026ldquo;/{Video,Software}/\u0026rdquo; åªæ’é™¤æ ¹ç›®å½•ä¸‹çš„ Video å’Œ Software ç›®å½•ã€‚ \u0026ndash;include \u0026ldquo;/{Video,Software}/**\u0026rdquo; ä»…åŒ…å«æ ¹ç›®å½•ä¸‹çš„ Video å’Œ Software ç›®å½•çš„æ‰€æœ‰å†…å®¹ã€‚\næ–‡ä»¶å¤§å°è¿‡æ»¤ é»˜è®¤å¤§å°å•ä½ä¸º kBytes ï¼Œä½†å¯ä»¥ä½¿ç”¨ k ï¼ŒM æˆ– G åç¼€ã€‚ \u0026ndash;min-size è¿‡æ»¤å°äºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ã€‚æ¯”å¦‚ \u0026ndash;min-size 50 è¡¨ç¤ºä¸ä¼šä¼ è¾“å°äº 50k çš„æ–‡ä»¶ã€‚ \u0026ndash;max-size è¿‡æ»¤å¤§äºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ã€‚æ¯”å¦‚ \u0026ndash;max-size 1G è¡¨ç¤ºä¸ä¼šä¼ è¾“å¤§äº 1G çš„æ–‡ä»¶ã€‚ TIPS: åšä¸»åœ¨å®é™…ä½¿ç”¨ä¸­å‘ç°å¤§å°è¿‡æ»¤ä¸¤ä¸ªé€‰é¡¹ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ è¿‡æ»¤è§„åˆ™æ–‡ä»¶ \u0026ndash;filter-from \u0026lt;è§„åˆ™æ–‡ä»¶\u0026gt; ä»æ–‡ä»¶æ·»åŠ åŒ…å« / æ’é™¤è§„åˆ™ã€‚æ¯”å¦‚ \u0026ndash;filter-from filter-file.txtã€‚ è¿‡æ»¤è§„åˆ™æ–‡ä»¶ç¤ºä¾‹ï¼š\nsecret*.jpg *.jpg *.png file2.avi /dir/Trash/** /dir/** rcloneåˆ›å»ºwebdavæœåŠ¡å™¨ å®ä¾‹\n1 2 3 4 nohup rclone serve webdav gd:media --etag-hash MD5 --addr 127.0.0.1:8080 --user whackeralpha --pass Bush993475Xjt5621 --dir-cache-time 300s --cache-dir /root/webdav_cache --vfs-cache-mode writes -v \u0026amp; nohup rclone serve webdav d:backup/appdata/KeePass --etag-hash MD5 --addr 127.0.0.1:8080 --user alpabete --pass C6keP2sr_pi8 --cache-dir /root/webdav_cache --vfs-cache-mode writes -v \u0026amp; nohup rclone serve webdav gd:media --addr 127.0.0.1:8080 --user whackeralpha --pass Bush993475Xjt5621 --cache-dir /root/webdav_cache \u0026amp; nohup rclone serve http g:media --addr 127.0.0.1:8080 --user whackeralpha --pass Bush993475Xjt5621 --cache-dir /root/http_cache -v \u0026amp; è¿™é‡Œåªä¸¾ä¾‹æ¯”è¾ƒå¸¸ç”¨å’Œç®€å•çš„ä¸€äº›è¿‡æ»¤ç”¨æ³•ï¼Œæ›´å¤æ‚å’Œé«˜ç«¯çš„ç”¨æ³•å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\nç¯å¢ƒå˜é‡ rclone ä¸­çš„æ¯ä¸ªé€‰é¡¹éƒ½å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ã€‚ç¯å¢ƒå˜é‡çš„åç§°å¯ä»¥é€šè¿‡é•¿é€‰é¡¹åç§°è¿›è¡Œè½¬æ¢ï¼Œåˆ é™¤ \u0026ndash; å‰ç¼€ï¼Œæ›´æ”¹ - ä¸º_ï¼Œå¤§å†™å¹¶æ·»åŠ å‰ç¼€ RCLONE_ã€‚ç¯å¢ƒå˜é‡çš„ä¼˜å…ˆçº§ä¼šä½äºå‘½ä»¤è¡Œé€‰é¡¹ï¼Œå³é€šè¿‡å‘½ä»¤è¡Œè¿½åŠ ç›¸åº”çš„é€‰é¡¹æ—¶ä¼šè¦†ç›–ç¯å¢ƒå˜é‡è®¾å®šçš„å€¼ã€‚ æ¯”å¦‚è®¾ç½®æœ€å°ä¸Šä¼ å¤§å° \u0026ndash;min-size 50ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡æ˜¯ RCLONE_MIN_SIZE=50ã€‚å½“ç¯å¢ƒå˜é‡è®¾ç½®åï¼Œåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ \u0026ndash;min-size 100ï¼Œé‚£ä¹ˆæ­¤æ—¶ç¯å¢ƒå˜é‡çš„å€¼å°±ä¼šè¢«è¦†ç›–ã€‚ å¸¸ç”¨ç¯å¢ƒå˜é‡ RCLONE_CONFIG - è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„ RCLONE_CONFIG_PASS - è‹¥ rclone è¿›è¡Œäº†åŠ å¯†è®¾ç½®ï¼ŒæŠŠæ­¤ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºå¯†ç ï¼Œå¯è‡ªåŠ¨è§£å¯†é…ç½®æ–‡ä»¶ã€‚ RCLONE_RETRIES - ä¸Šä¼ å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ 3 æ¬¡ RCLONE_RETRIES_SLEEP - ä¸Šä¼ å¤±è´¥é‡è¯•ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤ç¦ç”¨ï¼Œå•ä½sã€mã€håˆ†åˆ«ä»£è¡¨ç§’ã€åˆ†é’Ÿã€å°æ—¶ã€‚ CLONE_TRANSFERS - å¹¶è¡Œä¸Šä¼ æ–‡ä»¶æ•°ã€‚ RCLONE_CACHE_CHUNK_SIZE - å—çš„å¤§å°ï¼Œé»˜è®¤5Mï¼Œç†è®ºä¸Šæ˜¯è¶Šå¤§ä¸Šä¼ é€Ÿåº¦è¶Šå¿«ï¼ŒåŒæ—¶å ç”¨å†…å­˜ä¹Ÿè¶Šå¤šã€‚å¦‚æœè®¾ç½®å¾—å¤ªå¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿›ç¨‹ä¸­æ–­ã€‚ RCLONE_CACHE_CHUNK_TOTAL_SIZE - å—å¯ä»¥åœ¨æœ¬åœ°ç£ç›˜ä¸Šå ç”¨çš„æ€»å¤§å°ï¼Œé»˜è®¤10Gã€‚ RCLONE_IGNORE_ERRORS=true - è·³è¿‡é”™è¯¯\nå…¶ä»– rclone å¿½ç•¥è¯ä¹¦é”™è¯¯ https://dev.leiyanhui.com/all-in-one/rclone-skip-ssl/\nrclone webui å¯ä»¥å®ç° æ–‡ä»¶æµè§ˆ æŒ‚è½½ç­‰æ“ä½œ\n1 rclone rcd --rc-web-gui --rc-addr :80 --config /root/rclone.conf rclone è·¨å¹³å°æµè§ˆå·¥å…· Rclone Browser\néœ€è¦ æŒ‡å®šrclone å’Œ rclone.conf çš„ä½ç½®\nwinä¸‹éœ€è¦ winfsp å’Œ sshfs\næœ‰å‡ ä¸ªå°bugï¼Œ\nsftpæµè§ˆå’ŒæŒ‚è½½ä¸èƒ½ç¦»å¼€homeç›®å½•ã€‚ winä¸‹ç³»ç»Ÿæ‰˜ç›˜ çš„é€€å‡ºåŠŸèƒ½æ— æ•ˆ æš—é»‘æ¨¡å¼æ ‡é¢˜æ æœ‰ç‚¹å°é—®é¢˜ å·²ç»åœæ­¢æ›´æ–°å¾ˆä¹…ï¼Œä½†æ˜¯å…è´¹å¼€æºä½“ç§¯ä¹Ÿä¸å¤§ã€‚\n","date":"2023-04-02T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/rclone-all/","title":"rclone å¸¸ç”¨å‘½ä»¤ æŒ‚è½½ ls ä¸´æ—¶urlç­‰"},{"content":"åœºæ™¯ ä¸»åŠ›æ‰‹æœº iPhoneï¼Œå®‰å“æ‰‹æœºä¸éšèº«å¸¦ã€‚ æ‰‹æœºå·ç å¤šä¸ªï¼Œå¾®ä¿¡å¤šä¸ªã€‚\nç—›ç‚¹ å› ä¸ºiosä¸Šå¾®ä¿¡å¤šå¼€æ¯”è¾ƒéº»çƒ¦ï¼Œè™½ç„¶æœ‰ioså¼€å‘è€…è´¦å·ï¼Œä½†æ˜¯æ›´æ–°å’Œå°å· éƒ½éº»çƒ¦å¾ˆå¤šã€‚\néœ€è¦è§£å†³ å¤šæ‰‹æœºå·ç  ä¸€ä¸ªiPhoneä¸€ä¸ªæ‰‹æœºæ¥å¬ ä¸€ä¸ªæ‰‹æœºå¯ä»¥æ¥æ”¶å…¶ä»–æ‰‹æœºçš„å¾®ä¿¡æ¶ˆæ¯ éƒ¨åˆ†åªæœ‰appçš„è½¯ä»¶ ç”µè„‘ä¸Šä½¿ç”¨ å®‰å“appå¼€å‘è°ƒè¯• ç¡¬ä»¶æ–¹æ¡ˆ å®‰å“å¤‡ç”¨æœºä¸€å°ï¼ˆçº¢ç±³4xï¼‰æ”¾å®¶é‡Œï¼Œpveä¸‹ usbç›´é€š æˆ–è€…wifiè¿æ¥åˆ° å¼€å‘æœºã€‚\nè½¯ä»¶è§£å†³æ–¹æ¡ˆ è¿œç¨‹æ§åˆ¶æ‰‹æœºï¼šè‡ªå»ºrustdeskä¸­è½¬ï¼Œè§£å†³å¤–å‡ºè¿œç¨‹æ§åˆ¶å®‰å“æ‰‹æœºçš„é—®é¢˜ã€‚ï¼ˆä¹Ÿå¯ä»¥ç”¨scrcpy-ios è¿‡äºéº»çƒ¦ï¼‰ pcæœºä¸Šç›´æ¥ä½¿ç”¨æ‰‹æœºï¼šscrcpy æ¶ˆæ¯è½¬å‘ï¼Œå®‰å“æ‰‹æœºæ¶ˆæ¯ï¼Œè½¬å‘ç»™ä¸»åŠ›æ‰‹æœº ç›¸å…³ä»£ç å’Œå·¥å…· adb wifi è¿æ¥ å…ˆusbè¿æ¥åˆ°pcï¼Œæ‰“å¼€æ‰‹æœºçš„usbè°ƒè¯•ç­‰ï¼Œpcå®‰è£…scrcpyï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨usbæŠ•å±çš„æƒ…å†µä¸‹ã€‚\n1 2 3 D: cd D:\\soft\\scrcpy-win64-v2.0 adb tcpip 5555 ç„¶åæ–­å¼€usbï¼Œè·¯ç”±å™¨é‡Œé¢é…ç½®dhcpé™æ€ipç»™å®‰å“æ‰‹æœº ä¾‹å¦‚ 10.1.1.14\nåˆ›å»º _startWifi.bat\n1 2 3 4 D: cd D:\\soft\\scrcpy-win64-v2.0 adb connect 10.1.1.14:5555 scrcpy.exe wifiè¿æ¥ ç•¥å¾®å¡é¡¿ï¼Œçœ‹è§†é¢‘ä¼šæ›´å·®ä¸€äº›ã€‚å¯æƒœæˆ‘æ‰‹ä¸Šçš„å®‰å“æ•°æ®çº¿ åªæœ‰ä¸€æ¡ï¼Œè¿˜è¦åšåˆ«çš„ç”¨ã€‚æš‚æ—¶å‡‘åˆä¸€ä¸‹ã€‚\néšè—cmd.vbs 1 CreateObject(\u0026#34;WScript.Shell\u0026#34;).Run \u0026#34;cmd /c D:\\soft\\scrcpy-win64-v2.0\\_startWifi.bat\u0026#34;,0 å®‰å“æ¶ˆæ¯è½¬å‘ ç”¨ é€šçŸ¥æ»¤ç›’ è¿™ä¸ªappï¼Œè§„åˆ™é‡Œé¢ è§„åˆ™ å¢å¼ºï¼Œwebhook è¾“å…¥ ä¼ä¸šå¾®ä¿¡/é’‰é’‰æœºå™¨äººçš„webhook æˆ– Bark(ios) æˆ– å„ç§å¾®ä¿¡å…¬ä¼—å·æ¶ˆæ¯é€šçŸ¥çš„webhook ä¾‹ï¼š wxpusher pushplus Serveré…± coolpush ç­‰ é€šçŸ¥æ»¤ç›’ æ­£ç‰ˆä¸è´µï¼Œç ´è§£ç‰ˆ ç½‘ä¸Šä¹Ÿæœ‰ã€‚\né€šçŸ¥æ»¤ç›’ -\u0026gt; Bark é»˜è®¤é€šçŸ¥åœ°å€ æ„Ÿè°¢Bark ä½œè€…\n1 https://api.day.app/XXXXXXXXXXXXXXXXXXXX/{android.title}/{filterbox.field.APP_NAME}-{android.text}?sound=birdsong\u0026amp;isArchive=1 å…¶ä»– å•iPhoneæ‰‹æœºå¤šå·ç æ–¹æ¡ˆ 1é˜¿é‡Œå°å· 2ç§»åŠ¨ æ— å¿§è¡Œ 3 å…¶ä»–ï¼šå®‰å“æ‰‹æœºçŸ­ä¿¡è½¬å‘ æ‰‹æœºäº’è½¬ç­‰\nscrcpyè‡ªåŠ¨é»‘å± å®‰å“æ‰‹æœºè®¾ç½® usbè°ƒè¯•é€‰é¡¹é‡Œé¢ è®¾ç½®å……ç”µæ—¶å€™ä¸ç†„å±å¹•ï¼Œç„¶åæ‹†æ‰å±å¹•ã€‚æ‹†æ‰å±å¹•ä¸æ–¹ä¾¿ï¼Œä¸ç„¶è¿˜æ˜¯å¿ä¸€ä¸‹å§ã€‚ã€‚\næˆ–è€…å±å¹•äº®åº¦è°ƒåˆ°æœ€ä½ ä¹Ÿè¡Œ\nç”µæ± é—®é¢˜ ä»ä¿æŠ¤æ¿åé¢å‰ªæ‰ç”µæ± ï¼Œæ¥4.2v dcç”µæº + ä¸€ä¸ªç”µè§£ç”µå®¹+é™æµç”µé˜»ã€‚æˆ–è€… å¹²è„†ä¸€ä¸ªå¤§ä¸€ç‚¹çš„ç”µè§£ç”µå®¹+ä¸€ä¸ªé™æµç”µé˜» å®Œäº‹ã€‚\nscrcpy å¸¸ç”¨å¿«æ·é”® æˆ‘è¿™é‡Œmodé”® æ˜¯ alt\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 MOD + f\tåˆ‡æ¢åˆ°å…¨å± / å–æ¶ˆå…¨å± MOD + å·¦\tå¾€å·¦æ—‹è½¬å±å¹• MOD + å³\tå¾€å³æ—‹è½¬å±å¹• MOD + g\té‡ç½®å±å¹•å°ºå¯¸åˆ° åƒç´ æ¯”1:1ï¼ˆä¸€èˆ¬éƒ½æ˜¯å˜å¾—ç¡•å¤§ï¼‰ MOD + w\té‡ç½®å±å¹•å°ºå¯¸æ¶ˆé™¤é»‘è‰²è¾¹æ¡† MOD + h\tç­‰åŒäº home é”® MOD + b\tç­‰åŒäº è¿”å› é”® MOD + s\tç­‰åŒäºåˆ‡æ¢appæ“ä½œ MOD + m\tå¯¹åº”è§£é”å±çš„æŒ‰é”®ï¼Œå¦‚æœæ˜¯é”å±çš„è¯ï¼Œä»…ç‚¹äº®å±å¹• MOD + ä¸‹\tå‡å°‘éŸ³é‡ MOD + ä¸Š\tå¢åŠ éŸ³é‡ MOD + p\tç­‰åŒäºæŒ‰ç”µæºé”® å³é”®ç‚¹å‡»\tç­‰åŒäºç‚¹äº®å±å¹• MOD + o\tæŠŠè®¾å¤‡å±å¹•å…³é—­ä½†ä¿æŒé•œåƒåŒæ­¥ MOD + Shift + o\tç‚¹äº®è®¾å¤‡å±å¹• MOD + r\tæ—‹è½¬å±å¹•ï¼ˆæµ‹è¯•å¥½åƒä¸å¥½ç”¨ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å¿«æ·é”®å†²çªï¼‰ MOD + n\tæ‰“å¼€æ¶ˆæ¯é¢æ¿ MOD + n + n\tåŒå‡»nï¼Œæ‰“å¼€é¡¶éƒ¨è®¾ç½®æ  MOD + shift + n\tæ”¶èµ·é¢æ¿ MOD + c\tåŒæ­¥å¤åˆ¶åˆ°ç”µè„‘å‰ªè´´æ¿ MOD + x\tåŒæ­¥å‰ªè´´åˆ°ç”µè„‘å‰ªè´´æ¿ MOD + v\tåŒæ­¥ç²˜è´´ç”µè„‘å‰ªè´´æ¿çš„å†…å®¹ï¼ˆpc-\u0026gt;æ‰‹æœºæˆ–æ‰‹æœº-\u0026gt;pcå‡å¯ï¼‰ MOD + i\tå¯ç”¨æˆ–ç¦ç”¨FPSè®¡æ•° Ctrl + ç‚¹å‡»å’Œç§»åŠ¨\tç›¸å½“äºå¤šæŒ‡æåˆåŠ¨ä½œ å®‰è£…APK\tæ‹–æ‹½APKæ–‡ä»¶åˆ°çª—å£ æ¨é€æ–‡ä»¶åˆ°æ‰‹æœº\tæ‹–æ‹½éAPKæ–‡ä»¶åˆ°çª—å£ å‡çº§æ–¹æ¡ˆ éªé¾™835 150-350å…ƒå·¦å³ 300ä¸€ä¸‹çš„åŸºæœ¬ä¸èƒ½æ’å¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 MOTOz2f lgv30 å¤æ™®rï¼ˆshv39ï¼‰ å°ç™½æ¨èï¼šç±³6 mix2 ä¸‰æ˜Ÿs8 åŠªæ¯”äºšz17 ç´¢å°¼xz1/xzp[doge] åšæœPro2 å¤æ™®rcï¼ˆ701shï¼‰ ä¸­å…´blade a7 è¯ºåŸºäºšx5 ä¸‰æ˜Ÿs6/s6edge/edge+ é­…æ—Pro5 çº¢ç±³note3ï¼ˆè¿™ç©æ„ä¸€å®šè¦ä¹°å…¨ç½‘é€šæ™“é¾™650çš„ï¼Œæ¥¼ä¸»ä¹‹å‰æ”¶äº†éƒ¨åŒç½‘ï¼Œç›´æ¥å¡æ­»[è¾£çœ¼ç›]ï¼‰ ä¹è§†2 å°ç±³Max çº¢ç±³note4x 360n4sæ™“é¾™ç‰ˆï¼ˆæ¥¼ä¸»æ”¶è¿‡ï¼Œåˆ·ä¸ªMIUIå¾ˆé¦™å“’[å—‘ç“œå­]ï¼‰ ä¸­å›½ç§»åŠ¨n2 https://www.bilibili.com/video/BV11L411n7zi/ å‚è€ƒ\n","date":"2023-03-30T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/new/scrcpy-ios/","title":"è‡ªå·±æ­å»ºäº‘æ‰‹æœºï¼ŒæŠ•å±ï¼Œæ¶ˆæ¯é€šçŸ¥ç»™iPhone ç­‰"},{"content":"golang ç¼–å†™çš„å¯æ‰§è¡Œç¨‹åºï¼Œ å‡ ä¹ä¸ä¾èµ–ç¯å¢ƒï¼Œå¯ä»¥éšæ„è¿ç§»ã€‚\nä½œä¸ºæœåŠ¡æ¥è¿è¡Œï¼Œå¯ä»¥æ³¨å†Œåˆ° rc æˆ–è€… systemd æˆ–è€… ä½¿ç”¨supervisord ç­‰ç¬¬ä¸‰æ–¹ç¨‹åºå®ˆæŠ¤ ç­‰ç­‰ã€‚ã€‚\næˆ‘è¿™é‡Œ ä½¿ç”¨dockeræ¥ å¤„ç†ï¼Œå› ä¸ºå®¿ä¸»æœºæœ¬èº«å·²ç»å®‰è£…äº†docker æ‰€æœ‰æœåŠ¡éƒ½dockerè¿è¡Œï¼Œä½†æ˜¯å› ä¸ºgolang ç¨‹åºå¾ˆå¤šï¼Œæ¯ä¸€ä¸ªå°ç¨‹åºéƒ½ç»´æŠ¤ä¸€ä¸ªdockeré•œåƒ åè€Œä¼šå¢åŠ å·¥ä½œé‡ã€‚\nè¿™é‡Œç®€å•æ¥è¯´ä¸€ä¸‹ã€‚\ngolangçš„ç¼–è¯‘ æˆ‘è¿™é‡Œç”¨alpineé•œåƒ åœ¨ç¼–è¯‘golangçš„æ—¶å€™ æ³¨æ„æ·»åŠ  CGO_ENABLED=0ï¼ŒMakefileå¦‚ä¸‹\n1 2 3 4 5 6 .PHONY: buildandrun BIN_FILE=XXXXXX buildandrun: @CGO_ENABLED=0 go build -o \u0026#34;${BIN_FILE}\u0026#34; ${BIN_FILE}.go #./\u0026#34;${BIN_FILE}\u0026#34; å¦‚æœä½¿ç”¨centos debianä¹‹ç±»çš„é•œåƒä¸éœ€è¦é¢å¤–å¤„ç†\nä¸Šä¼ ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ 1 2 3 4 5 apt install sshpass ssh root@10.1.1.111 # å…ˆç™»å½•ä¸€æ¬¡ ç„¶åæ¨å‡º make sshpass -p å¯†ç  scp -P 22 ./å¯æ‰§è¡Œæ–‡ä»¶root@10.1.1.111:/fish/opt/serv-bin/ sshpass -p å¯†ç  scp -P 22 ./*.json root@10.1.1.111:/fish/opt/serv-bin/ åˆ›å»ºdocker åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ\n1 2 3 4 tempName=fish-send-code docker run -itd --name ${tempName} --hostname ${tempName} --network host --privileged=true --restart=always \\ -v /fish/opt/serv-bin/:/fish/opt/serv-bin/ \\ alpine:3.17.2 /fish/opt/serv-bin/${tempName} æŸ¥çœ‹æ—¥å¿—\n1 docker logs -f ${tempName} ","date":"2023-03-23T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/docker/","title":"docker è¿è¡Œgolangçš„ç®€å•æ–¹æ³•ï¼Œå…ç»´æŠ¤é•œåƒ"},{"content":"é€Ÿåº¦ éå†é€Ÿåº¦ Set = list \u0026gt; hash\næ’å…¥åˆ é™¤é€Ÿåº¦ Hash = set \u0026gt; list\néšæœºè®¿é—®é€Ÿåº¦ hash = list \u0026gt; set\né‡å¤ list æœ‰åºå¯é‡å¤,å­˜å…¥é¡ºåºå’Œå–å‡ºé¡ºåºå®Œå…¨ç›¸åŒ set æ— åºä¸å¯é‡å¤,å­˜å…¥çš„é¡ºåºå’Œå–å‡ºçš„é¡ºåºä¸ä¸€å®šä¸€è‡´ ä¼šè‡ªåŠ¨å»é‡ zset æœ‰åº hash keyä¸å¯é‡å¤ï¼Œvalueå¯ä»¥é‡å¤\n","date":"2023-03-17T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/redis-hash-set-list/","title":"redis hash list set zset çš„å¯¹æ¯”å’Œä½¿ç”¨"},{"content":"é¡¹ç›®ä¸€å¼€å§‹é€‰æ‹©äº†uniappæ¥åšï¼Œå› ä¸ºjsè¯­æ³• åŠ ä¸Švueã€‚å¹¶ä¸”æ˜¯onemané¡¹ç›®\nä½†æ˜¯æ²¡æƒ³åˆ°uniappçš„å‘å¦‚æ­¤ä¹‹å¤š\næ¯ä¸€ä¸ªå‘ åŸºæœ¬ä¸Šéƒ½è¦ æŸ¥æœç´¢æœç´¢å¼•æ“ï¼Œæˆ–è€… è‡ªå·±é‡å†™ä¸€ä¸ªæ›¿ä»£ï¼Œ ä¸€ä¸ªå‘ æŠ˜è…¾å‡ ä¸ªå°æ—¶ç”šè‡³ä¸€æ•´å¤©ã€‚\nå› ä¸ºæ²¡æ‰“ç®—åšå°ç¨‹åºå¹³å°ï¼Œä¸€åº¦æ‰“ç®— åˆ‡æ¢åˆ°futterä¸Šã€‚\nè€ƒè™‘åˆ°å­¦ä¹ æˆæœ¬ åˆæ•°æ¬¡æ”¾å¼ƒã€‚ã€‚ã€‚\nè¿˜æœ‰ hbuilderx è¿™ä¸ªç¼–è¾‘å™¨ï¼Œå°±æ˜¯ç‹å©†å–ç“œ ï¼Œéš¾ç”¨çš„å¾ˆ\nè¿˜æœ‰å„ç§æœˆç»bug è¿™ä¸ªç‰ˆæœ¬ä¿®å¤ï¼Œä¸‹ä¸ªç‰ˆæœ¬ ä¸æŒ‡å®šä»€ä¹ˆé€‚åˆ åˆå‡ºç°ã€‚ã€‚ã€‚\nè™½ç„¶æ˜¯å›½äº§çš„ï¼Œä½†æ˜¯å®˜ç½‘ æ–‡æ¡£ å‹æ ¹ä¸å…¨ï¼Œå¾ˆå¤šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆå®˜ç½‘æ–‡æ¡£é‡Œé¢å¹¶æœªæä¾›ã€‚\nä½ å»è®ºå›é—®ï¼Œå®˜ç½‘çš„æŠ€æœ¯ï¼Œå¯èƒ½éƒ½æ˜¯æœºå™¨äººã€‚ã€‚ã€‚ã€‚ä¸æ˜¯æ‰‹å†Œé‡Œé¢æåˆ°çš„é—®é¢˜ï¼Œä½ ä¹Ÿé—®ä¸åˆ°ï¼Œæ‰‹å†Œé‡Œé¢æœ‰çš„é—®é¢˜ï¼Œä¹ŸçŠ¯ä¸ä¸Šå»é—®ã€‚ã€‚ã€‚bugæˆ–è€…éå¸¸è§„çš„é—®é¢˜ä½ é—®å‡ ä¸ªæœˆä¹Ÿä¸è§å¾—é—®åˆ°ç­”æ¡ˆã€‚\nå®˜æ–¹QQ ç¾¤é‡Œé¢ï¼Œå…¨éƒ¨æ˜¯æ­»äºº å’Œæ–°æ‰‹ã€‚ æ¯å¤©åªæœ‰æ–°æ‰‹å‘é—®ï¼Œå¶å°”å†’ä¸€ä¸ªåŠæ‹‰æ–°æ‰‹å‡ºæ¥è§£ç­”ï¼Œæˆ–è€…ç§èŠä½ æ”¶è´¹å¸®ä½ å¤„ç†ï¼ˆæ°´å¹³çƒ‚ï¼Œä»˜è´¹å¹¶ä¸èƒ½æå®šï¼‰ã€‚ å®˜æ–¹çš„æŠ€æœ¯ç®¡ç†å‘˜ å°±æ˜¯å°¸ä½“å·ã€‚ã€‚ã€‚\nè¿˜æœ‰ å¯¹ ä»–è‡ªå·±å®¶çš„unicloudçš„æ·±åº¦ç»‘å®šï¼Œä½ ä¸ç”¨ ä»–ä¸€ç›´æç¤ºï¼Œç”šè‡³ æŠ¥ errï¼ï¼ï¼ ï¼Œä½ ç”¨ ä¸æ˜¯ä»Šå¤©åˆ°æœŸ å°±æ˜¯æ˜å¤©æ•´æ”¹,åå¤©ç»´æŠ¤ã€‚\nuniapp è¿™å®¶å…¬å¸ï¼Œå±äº é‚£ç§å¹ç‰›æ— è¾¹æ— é™…çš„\u0026hellip; å®˜ç½‘æ˜ç›®å¼ èƒ†çš„ å†™ å¾ˆå¤šä¸Šçº¿é¡¹ç›®ç¨³å®šä½¿ç”¨ä»–å®¶çš„å„ç§bugä½•ç§é—®é¢˜çš„ unicloudï¼ ä¸çŸ¥é“é‚£ä¸ªæ­£è§„é¡¹ç›®è„‘å­è¢«é©´è¸¢äº†ã€‚ã€‚ã€‚\nideé‡Œé¢ åŠ å¹¿å‘Šè¿™äº‹ å°±ä¸è¯´å¤šæ¶å¿ƒçš„ï¼Œå¦‚æœä½ äº§å“çœŸå¥½ç”¨ï¼Œå¯ä»¥å¿ã€‚ä½†æ˜¯ä½ ..\næ›´å¤š çœŸçš„ä¸æƒ³åˆ—ä¸¾ã€‚ã€‚ã€‚\nå…¶å® å•çº¯çš„ h5 ä¹Ÿéå¸¸ä¸å»ºè®®ç”¨ uniappå¼€å‘ï¼Œçœ‹èµ·æ¥ç®€å•ä¸Šæ‰‹å¿«ï¼Œå®é™…ä¸Š å‘ä¸€ä¸ªæ¥ä¸€ä¸ªã€‚ã€‚ã€‚ã€‚\nå¦‚æœä½ å¼„app æˆ–è€… å°ç¨‹åº æˆ–è€… çœŸçš„å¤šç«¯ã€‚ã€‚ã€‚ä½ ä¼šå‘ç°ï¼Œæ¯å¤©éƒ½åœ¨è¸©å‘çš„è·¯ä¸Šã€‚ã€‚ã€‚ã€‚\næœ‰äººè¯´ï¼Œæˆ‘å°±åšä¸€ä¸ªç®€å•çš„åŠŸèƒ½ã€‚ ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯è¦çœ‹è¦åšå¤šç®€å•çš„ã€‚ã€‚ã€‚ç®€å•åˆ°ä¸€ä¸ªHello, world ,é‚£è‡ªç„¶æ²¡é—®é¢˜ã€‚ã€‚ã€‚\nç•¥å¾®å¤æ‚ä¸€ç‚¹ç‚¹çš„ã€‚ã€‚ã€‚ã€‚å¿…å®š ï¼Œ100% æœ‰å‘ç­‰ç€ä½ ã€‚ã€‚ã€‚ã€‚\næ¯”å¦‚ ç®€å•çš„æ³¨å†Œç™»å½•ï¼Œæ³¨å†Œçš„æ—¶å€™ è¡¨å•éªŒè¯ï¼Œç”¨è‡ªå¸¦çš„ form.validate()ã€‚ æ²¡é—®é¢˜å¯¹å§? ç„¶åä½ ä¼šå‘ç°ï¼Œåœ¨ä½åˆ†å±å¹•è®¾å¤‡ä¸Šï¼Œé”™è¯¯æç¤ºæ¶ˆæ¯æ˜¾ç¤ºä¸å…¨ï¼ ç„¶åæˆ‘ä»¬è‡ªç„¶è€Œç„¶çš„æƒ³åˆ°ï¼Œé‡å†™ä¸€ä¸‹cssï¼Œç„¶åä½ åˆä¼šå‘ç° ï¼Œä½ å†™åˆ°é¡µé¢é‡Œé¢ å‹æ ¹ä¸ç”Ÿæ•ˆï¼ ç„¶å æ…¢æ…¢å»å•ƒä»–uni-forms-itemç»„ä»¶å§ã€‚ã€‚ ä½ æŠ€æœ¯è¿˜è¿‡å¾—å»ï¼Œç­‰å¼„å¥½ 1ä¸ªå¤šå°æ—¶è¿‡å»äº†ã€‚\nè¯¸å¦‚æ­¤ç±»çš„å°å‘ ï¼Œä½ åšå®Œä¸€ä¸ªapp ä½ ä¼šå‘ç° å‡ åä¸ª ï¼ æœ‰çš„å‘å¯èƒ½éœ€è¦ä½ è‡ªå·±å†™åŸç”Ÿä»£ç ï¼Œç”šè‡³æœ‰çš„å‘ æ— æ³•è§£å†³ï¼\nuniappå°±æ˜¯è¿™ä¹ˆç¥å¥‡çš„ä¸œè¥¿\n","date":"2023-03-06T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/uniapp-bug/","title":"uniappçš„bugå’Œå‘çœŸçš„æ˜¯å¤ªå¤šå¤ªå¤šäº†"},{"content":"å‰è¨€ ä¸æƒ³èŠ±é’±ï¼Œä¸ºä»€ä¹ˆä¸ç”¨é»‘ç¾¤æ™–ã€‚åŸå› \n1ã€é¦–å…ˆæˆ‘è¿™ä¸ªæ˜¯å®¶ç”¨ä¸ºä¸»ï¼Œå…¼é¡¾å°å›¢é˜Ÿå·¥ä½œä½¿ç”¨ã€‚ ä¸»è¦çš„éœ€æ±‚å¾ˆæ˜ç¡®ã€‚\n2ã€é­é‡è¿‡é»‘ç¾¤æ™–çªç„¶æ— æ³•å¼•å¯¼çš„é—®é¢˜ï¼Œäººåœ¨å¼‚åœ°æ— æ³•å¤„ç†ã€‚ 3ã€æ‰€è°“\nå®¿ä¸»æœºç¯å¢ƒ å®¿ä¸»æœºå™¨ pve 7.3-4 cpuï¼ši8850h qnct 6æ ¸12çº¿ç¨‹ å†…å­˜32G nvme ç¡¬ç›˜1å— æœºæ¢°ç¡¬ç›˜ Nå— pve ä½¿ç”¨ ventoyå¯åŠ¨ï¼Œæ ¸æ˜¾å¼€å¯äº†gvt-g\næ›¿ä»£ å¯¹æ ‡ç¾¤æ™–\nlxc alpine å¼€ smb sftp webdav ç”¨ cloudreveå¼€webdav rcloneæŒ‚è½½åå¼€smb å’Œsftp lxc alpine Aria2 + nginx+AriaNG ä¸‹è½½å·¥å…· lxc alpine docker è·‘ duplicati æ ¸å¿ƒæ•°æ®å¼‚åœ°å¤‡ä»½ rclone +alistç½‘ç›˜åŒæ­¥ lxc alpine docker+ æ€æºåœ¨çº¿md åŒæ­¥åˆ°minio lxc alpine è·‘minio ç§æœ‰s3å¯¹è±¡å‚¨å­˜ lxc alpine è·‘ gogs + SQLite3 ç§æœ‰git ç‹¬ç«‹lxc è·‘ nginx+acme.sh å¤„ç†ä¸€åˆ‡è¯ä¹¦ã€‚åæ”¹ä¸º github action è§†é¢‘ plexã€embyã€jellyfin tinyMediaManager éŸ³ä¹ webdav+ nPlayer AVplayer AcePlayer ESæ–‡ä»¶æµè§ˆå™¨ åœ¨çº¿office cloudreve + onlyoffice æ¯”ç¾¤æ™– å…¼å®¹æ€§æ›´å¥½ï¼ äººè„¸è¯†åˆ«ç›¸å†Œ æ— è§£ æˆ‘è¿™é‡Œæ— éœ€æ±‚ã€‚å®åœ¨è¦ç”¨ åªèƒ½ç¾¤æ™–æŒ‚è½½smbåç”¨åˆ«äººç ´è§£çš„soæ–‡ä»¶æã€‚ åœ¨çº¿ golang å¼€å‘ docker debian golang + codeserver + chrome å®Œæ•´è§£å†³æ–¹æ¡ˆ æŸ¥çœ‹ä¸‹é¢çš„æ–‡ç« ä¹‹å‰ï¼Œä½ å¦‚æœå¯¹lxcå’Œalpineä¸ç†Ÿæ‚‰ï¼Œæœ€å¥½å…ˆçœ‹æœ¬æ–‡åé¢çš„lxcå’Œalpineçš„å†…å®¹ã€‚å°¤å…¶æ˜¯ç‰¹æƒå®¹å™¨å’Œdocker ä»¥åŠ ç›®å½•æŒ‚è½½çš„ä¸€äº›æƒé™é—®é¢˜ã€‚ 2023-02-17 åä½¿ç”¨çš„æ–¹æ¡ˆä¸ºï¼šå…¨lxc æ¯ä¸ªlxcè¿è¡Œ1-å¤šä¸ªæœåŠ¡ åˆ†å¼€ç®¡ç†\ngithub actioneè‡ªåŠ¨å¤„ç†è¯ä¹¦ å¹¶åŠ å¯† æœ¬åœ°è‡ªåŠ¨è·å–å‰é¢çš„è¯ä¹¦ lxc 10000 alpine è¿è¡Œ cloudereve + rcloneï¼ˆæŒ‚è½½crçš„webdavï¼‰ + smb + sftp lxc 10001 alpine è¿è¡Œ alist æŒ‚ç½‘ç›˜ lxc 10002 alpine è¿è¡Œ aria2+ariaNG å’Œ cloudereve ç›´é€šåŒä¸€ä¸ªç¡¬ç›˜ å¤„ç†ç¦»çº¿ä¸‹è½½ lxc 10003 alpine è¿è¡Œ dockerç‰ˆduplicati åŒæ­¥ ä»¥åŠ åŠ å¯†å¤‡ä»½æ–‡ä»¶ åˆ° äº‘ç›˜ lxc 10010 alpine è¿è¡Œ nginx + dockerç‰ˆonlyoffice å¤„ç†åœ¨çº¿æ–‡æ¡£ ä¼—å¤šç«¯å£å·å’ŒåŸŸåè‡ªå·±è®°ä¸ä½çš„é—®é¢˜ï¼šgitcode.net å¼€ä¸€ä¸ªç§æœ‰åº“ï¼Œåˆ›å»ºä¸€ä¸ªmdæ–‡ä»¶ å°±å®Œäº‹ï¼Œä¸éœ€è¦å†å»æŠ˜è…¾å¯¼èˆªç«™ã€‚ã€ æœªå®Œå¾…ç»­ lxcåŸºæœ¬ä½¿ç”¨ cté•œåƒ å…¨éƒ¨é€‰æ‹©alpine3.17ï¼Œ alpineçš„ä¼˜ç‚¹ä¸ç”¨è¯´äº†ï¼Œå°å·§å¹²å‡€ï¼æ— å¯æ›¿ä»£ï¼\nå›½å†…ä¸‹è½½åœ°å€ï¼š https://mirrors.tuna.tsinghua.edu.cn/proxmox/images/system/alpine-3.17-default_20221129_amd64.tar.xz\nå› ä¸ºæ˜¯å°å›¢é˜Ÿä½¿ç”¨ï¼Œæ‰€ä»¥å…¨éƒ¨ä½¿ç”¨ç‰¹æƒå®¹å™¨ å¯åŠ¨ã€‚\nåˆ›å»ºä¸€ä¸ªlxc CT CT ID è¾“å…¥ï¼š10080 åç§° nas-core è¾“å…¥rootå¯†ç  å»æ‰ æ— ç‰¹æƒå®¹å™¨ å‹¾å·ã€‚æ¨¡æ¿é€‰æ‹© alpine3.17ï¼Œç£ç›˜1Gï¼Œcpu 12æ ¸å¿ƒï¼Œå†…å­˜1024ï¼Œäº¤æ¢åˆ†åŒº0ï¼Œç½‘ç»œå¼€dhcpï¼Œç¨ååœ¨è·¯ç”±å™¨ä¸­ç»‘å®šé™æ€åˆ†é…åˆ° 10.1.1.80ï¼Œå…¶ä»–é»˜è®¤ï¼Œå…ˆä¸å¯åŠ¨ã€‚é€‰é¡¹é‡Œé¢ï¼Œå‹¾é€‰ä¸Š å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼ŒåŠŸèƒ½é‡Œé¢å‹¾é€‰ä¸ŠåµŒå¥—ã€‚\nè¿™ä¸ªlxc å¦‚æœä¸éœ€è¦è¿è¡Œdockeræ‰€ä»¥ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚åªéœ€è¦æŒ‚æœºæ¢°ç¡¬ç›˜è¿›å»ï¼Œ ç¡¬ç›˜åªæœ‰ä¸€ä¸ªåˆ†åŒºå·²ç»æ ¼å¼åŒ–ä¸ºbrtfsã€‚åœ¨pveä¸‹æ²¡æœ‰æŒ‚è½½ï¼ŒèŠ‚ç‚¹åœ¨/dev/sda1\n1 2 pct set 10080 -mp0 /dev/sda1,mp=/mnt/sda1 #æŠŠ ç¬¬ä¸€ä¸ªç¡¬ç›˜çš„ç¬¬ä¸€ä¸ªåˆ†åŒºæŒ‚åˆ° lxcçš„/mnt/sda1 ä¸‹ pct start 10080 #å¯åŠ¨ alpineç³»ç»Ÿå‡†å¤‡ é…ç½®alpineçš„æºå’Œæ—¶åŒº 1 2 3 4 5 6 7 8 9 10 # é…ç½®æºå’Œæ—¶åŒº alpineå†…è¿è¡Œ sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* # vimæ›¿æ¢ä¸ºnano apk add nano apk del vim \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vim \u0026amp;\u0026amp; rm -rf /usr/bin/vi \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vi ç‰¹æƒlxcè¿è¡Œdocker alpineç‰¹æƒå®¹å™¨å®‰è£…è¿è¡Œdocker\n","date":"2023-02-27T18:55:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas/","title":"pveä¸‹ä½¿ç”¨lxc ç›´é€šç¡¬ç›˜æ­å»º nas æœåŠ¡  å…¨é¢æ›¿ä»£ç¾¤æ™– freenas OMV ç­‰ æ€»è§ˆ"},{"content":"ç‰¹ç‚¹ å¹²å‡€æ•´æ´ï¼Œä¸é›†æˆä»»ä½•æ’ä»¶ï¼Œä½†æ˜¯ å¯ä»¥éšæ„å®‰è£…ç§‘å­¦æ’ä»¶ï¼Œå¯ä»¥ä»»æ„é‡æ–°æ‰“åŒ…å¤‡ä»½ å¯¼å‡ºåˆ°æœ¬åœ°ç­‰ç­‰ã€‚\næ˜¯æœ€æ–°æœ€æ–°çš„æºæ„å»ºï¼ ç‰ˆæœ¬: 22.03.3 å†…æ ¸ç‰ˆæœ¬ï¼šè‚¯å®šæ˜¯çˆ±å¿«çš„å†…æ ¸ã€‚\nå°¤å…¶é€‚åˆä¸æ”¯æŒçš„è™šæ‹ŸåŒ–çš„ä¸»æœºå®‰è£…çˆ±å¿«çš„æƒ…å†µä¸‹ ä½¿ç”¨openwrt ä½œä¸ºæ—è·¯ç”± æ¥æ›¿ ç½‘å…³ dns æä¾› ç§‘å­¦å­¦ä¹  ä»¥åŠå»å¹¿å‘Šç­‰æœåŠ¡ã€‚\næ”¯æŒ dockerçš„å…¶ä»–ç¯å¢ƒ ä¹Ÿå¯ä»¥ç”¨ã€‚\nçˆ±å¿«åå°å¯ä»¥ç›´æ¥ç‚¹å‡ ä¸‹ å°±å®‰è£…ã€‚\nä¸€é”®å¼€æœº ipv6 é»˜è®¤ä¸»é¢˜ï¼šargon WebæœåŠ¡å™¨ : nginx\nä½¿ç”¨æ•™ç¨‹ ä»…ä¾›èµåŠ©ç”¨æˆ·ï¼ŒèµåŠ© 20 å…ƒï¼Œé‚®ä»¶ joyanhui@qq.com ç´¢å–ã€‚é‚®ä»¶æ ‡é¢˜æ³¨æ˜ çˆ±å¿« dockerè¿è¡Œ openwrt\nå¦å¤–æ¥å—å®šåˆ¶ï¼Œå¯ä»¥ æä¾› lxc dockeré•œåƒ VMwareé•œåƒ ä»¥åŠç‰©ç†æœºé•œåƒï¼Œ\n","date":"2023-02-25T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/ikuai/","title":"ä¸€ä¸ªé€‚åˆçˆ±å¿«dockerè¿è¡Œçš„openwrt"},{"content":"alpine è½»é‡ï¼Œé€‚åˆå¾ˆå¤šåœºæ™¯ä½¿ç”¨ã€‚ä½†æ˜¯ç›®å‰é™¤äº†å¾ˆå¤šäººç”¨ä»–æ¥åšdockeråŸºç¡€é•œåƒä¹‹å¤–ï¼Œè¿˜æ˜¯å°ä¼—äº†ä¸€äº›ã€‚æ‰€ä»¥å¾ˆå¤šè½¯ä»¶åŒ…æ²¡æœ‰æä¾›ç¼–è¯‘å¥½çš„å®‰è£…åŒ…ã€‚ è€Œalpineçš„å®˜æ–¹ä»“åº“ï¼Œä¸€ç›´æ§åˆ¶åœ¨10000ä»¥å†…ï¼Œæ‰€ä»¥\u0026hellip;\næ¯”å¦‚ é˜¿é‡Œäº‘çš„ ossfs è…¾è®¯çš„ cosfs éƒ½ä¸è¡Œï¼Œè¿s3fs ä¹Ÿæ²¡æœ‰ã€‚ã€‚ã€‚\nè‡ªå·±ç¼–è¯‘ï¼Ÿï¼Ÿï¼Ÿ è¦è£…ä¸€å †ä¾èµ–ï¼Œï¼Œï¼Œï¼ˆå…¶å® å¯ä»¥dockeré‡Œé¢ç¼–è¯‘å®Œäº†åˆ é™¤å°±è¡Œï¼‰ä¸ç¬¦åˆ æˆ‘ä»¬éœ€æ±‚.. è¿˜æ˜¯ç”¨rcloneå§ã€‚ å¯ä»¥ç”¨å›½äº§çš„alist cloudreveï¼Œæˆ‘è¿™ä¸ªåœºæ™¯æ›´é€‚åˆrcloneï¼Œå› ä¸ºæˆ‘åªæ˜¯åŒæ­¥å¤‡ä»½æ•°æ®ï¼Œä¸åšæœ¬åœ°å‚¨å­˜ç”¨ã€‚\nå®‰è£…è·å– 1 2 3 4 apk add unzip wget wget https://downloads.rclone.org/v1.61.1/rclone-v1.61.1-linux-amd64.zip unzip rclone-v1.61.1-linux-amd64.zip mv rclone-v1.61.1-linux-amd64/rclone . rcloneé»˜è®¤çš„é…ç½®æ–‡ä»¶ æ˜¯åœ¨ ~/.config/rclone/rclone.conf ï¼Œä½ å¯ä»¥ç”¨å‘½ä»¤ æŸ¥çœ‹ rclone config paths æˆ‘è¿™é‡Œæ‰‹åŠ¨æŒ‡å®š ./rclone config --config /root/rclone.conf æ˜¯è¿›å…¥äº¤äº’å¼•å¯¼æ¨¡å¼ å¸®ä½ åˆ›å»ºå‚¨å­˜ç‚¹ã€‚ç®€å•ç‚¹\n1 2 3 4 5 6 7 8 9 10 11 cat \u0026gt; /root/rclone.conf \u0026lt;\u0026lt; EOF [oss] type = s3 provider = Alibaba access_key_id = ä½ çš„access_key_id secret_access_key = ä½ çš„secret_access_key endpoint = oss-cn-åœ°åŒº.aliyuncs.com acl = public-read storage_class = STANDARD bucket_acl = public-read EOF æµ‹è¯•\n1 2 3 4 5 #./rclone ls oss:ä½ çš„å­˜å‚¨æ¡¶åç§° --config /root/rclone.conf #åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ ./rclone lsd oss:ä½ çš„å­˜å‚¨æ¡¶åç§° --config /root/rclone.conf #åˆ—å‡ºæŒ‡å®šçš„ç›®å½•çš„å­ç›®å½• ./rclone lsf oss:ä½ çš„å­˜å‚¨æ¡¶åç§° --config /root/rclone.conf #åˆ—å‡ºæ–‡ä»¶ä¸ªç›®å½•çš„æ–‡ä»¶å’Œç›®å½• ./rclone copy /root/rclone.conf oss:ä½ çš„å­˜å‚¨æ¡¶åç§°/ --config /root/rclone.conf # å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶ ./rclone lsf oss:ä½ çš„å­˜å‚¨æ¡¶åç§° --config /root/rclone.conf è…¾è®¯cos å’Œ äºšé©¬é€Šs3 åŒç†\nrclone è¿˜å†…ç½® åˆ é™¤ sync ç­‰æ“ä½œ ï¼Œå…·ä½“ ./rcone -h æŸ¥çœ‹\næŒ‚è½½åˆ°æœ¬åœ° 1 2 apk add fuse # å¿…é¡»çš„ï¼Œå¦‚æœä½ åœ¨å®¹å™¨é‡Œé¢ï¼Œå®¿ä¸»å’Œå®¹å™¨ éƒ½è¦æœ‰fuseæƒé™ rclone mount cos:/ä½ çš„å­˜å‚¨æ¡¶åç§°/å­ç›®å½•æˆ–è€…ä¸éœ€è¦ /mnt/æœ¬åœ°æŒ‚è½½è·¯å¾„ --no-check-certificate --allow-other --allow-non-empty è¿˜æœ‰å…¶ä»–ä¸€äº›æ›´ä¸°å¯Œçš„å‚æ•° è¿™é‡Œä¸è¯´äº†\nå¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Ÿ rc-local å¤„ç†å°±å¥½äº†ã€‚\n","date":"2023-02-23T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/alpine-s3/","title":"alpineæŒ‚è½½ é˜¿é‡Œäº‘oss è…¾è®¯cos äºšé©¬é€Šs3 ç­‰å¯¹è±¡å‚¨å­˜æ–¹æ³•"},{"content":"åœºæ™¯ï¼š æ ¸å¿ƒæ•°æ® ä¸»ä»åŒæ­¥ æŒä¹…åŒ–\néæ ¸å¿ƒ å¤§å¹¶å‘ å¯ä»¥æ¥å—ä¸¢å¤±ä½†æ˜¯å°½é‡ä¸ä¸¢å¤±çš„ï¼Œä¸»ä»åŒæ­¥ ï¼Œä»æœºæŒä¹…åŒ–\næ—¥å¿—ç±»æ•°æ® éœ€è¦è½¬å­˜ ä½†æ˜¯å¯ä»¥æ¥å—ä¸¢å¤± ä¸å¼€ä¸»ä» ä¸æŒä¹…åŒ–\næœ€ç®€å•çš„æ–¹æ³• è¿˜æ˜¯åˆ›å»ºå¤šä¸ªå®ä¾‹æ¥å¤„ç†ã€‚ä¸‹é¢è®°å½•è¿‡ç¨‹ã€‚\nredis å‡†å¤‡é…ç½®æ–‡ä»¶ éœ€è¦ä¸‰ä¸ªå®ä¾‹ï¼Œåˆ†åˆ« æ˜¯ â‘ æ ¸å¿ƒæ•°æ® éœ€è¦åŒæ­¥å®¹ç¾ éœ€è¦æŒä¹…åŒ– éœ€è¦ossè½¬å­˜ â‘¡ä¸´æ—¶æ•°æ® å¤„ç†ä¸€äº› limt éªŒè¯ç ç­‰ ä¸æŒä¹… ä¸åŒæ­¥ â‘¢è®¾å¤‡æ—¥å¿—ä¸´æ—¶å­˜å‚¨ é™åˆ¶å¤§å°å¯ä¸¢ä¸€éƒ¨åˆ†\n1 2 3 4 wget http://repo.huaweicloud.com/redis/redis-7.0.8.tar.gz #èŠèŠ±å®¶ å®˜ç½‘https://github.com/redis/redis/archive/7.0.8.tar.gz tar -zxvf redis-7.0.8.tar.gz cp ./redis-7.0.8/redis.conf /root/redis/redis-template.conf #å¤‡ä»½ä¸€ä»½ rm -rf redis-7.0.8* ä¿®æ”¹é…ç½® æŒä¹…åŒ– ï¼Œåªæœ‰mainèŠ‚ç‚¹éœ€è¦ å¹¶ä¸”æ˜¯æ··åˆæŒä¹…åŒ– å³ï¼š1ç§’aofä¸€æ¬¡ æ ¹æ®è§„åˆ™å†å‹ç¼©ï¼Œé»˜è®¤é…ç½®æ–‡ä»¶ æ˜¯å…³é—­ rdbçš„ä½†æ˜¯å¼€äº† appendfsync everysec 1ç§’ä¸€æ¬¡ ä»¥åŠ aof-use-rdb-preamble ï¼Œå¢é•¿æ¯”ä¾‹ auto-aof-rewrite-percentage ä¸º100 æ–‡ä»¶å¤§å° auto-aof-rewrite-min-size 64mb ï¼Œno-appendfsync-on-rewrite é»˜è®¤ä¸º no å°±æ˜¯ ä¸»çº¿ç¨‹å’Œå’Œå­çº¿ç¨‹å†²çª çš„æ—¶å€™ï¼Œç­‰å¾… ä¼šå¶å‘å µå¡ä½†æ˜¯ä¸ä¼šä¸¢æ•°æ®ã€‚cacheçš„ ä¹Ÿé»˜è®¤å¼€æŒä¹…åŒ–ï¼Œæš‚æ—¶ä¸å…³é—­ï¼Œno-appendfsync-on-rewrite æ”¹ä¸ºyes å°±æ˜¯å†²çªçš„æ—¶å€™ç”¨ç¡¬ç›˜ç¼“å­˜è§£å†³ã€‚ é»˜è®¤æŒä¹…åŒ–æ–‡ä»¶ï¼šdump.rdb appendonly.aof\n1 2 3 4 5 6 7 8 9 10 11 12 13 export redisName=db rm -rf /data/redis/${main}* \u0026amp;\u0026amp; cp /root/redis/redis-template.conf /root/redis/${redisName}.conf sed -i \u0026#34;s@# requirepass foobared@requirepass cx6hYJcCpZybXT112233@g\u0026#34; /root/redis/${redisName}.conf #ä¿®æ”¹å¯†ç  sed -i \u0026#34;s@appendonly no@appendonly yes@g\u0026#34; /root/redis/${redisName}.conf # appendonly æ‰“å¼€æ··åˆæŒä¹…åŒ– sed -i \u0026#34;s@bind 127.0.0.1 -::1@#bind 127.0.0.1 -::1@g\u0026#34; /root/redis/${redisName}.conf # ip #å¯åŠ¨ æ–°ç‰ˆdockerçš„redis éœ€è¦æ‰‹åŠ¨æŒ‡å®šé…ç½®æ–‡ä»¶ docker stop ${redisName} \u0026amp;\u0026amp; docker rm ${redisName} docker run -itd --name ${redisName} --hostname ${redisName} -p 6381:6379 \\ -v /root/redis/${redisName}.conf:/redis.conf -v /root/redis/date-${redisName}:/data --restart=always \\ redis:7.0.8-alpine3.17 redis-server /redis.conf docker logs -f -t --since=\u0026#34;2020-02-08\u0026#34; --tail=50 ${redisName} #å…¶ä»– sed -i \u0026#34;s@no-appendfsync-on-rewrite no@no-appendfsync-on-rewrite yes@g\u0026#34; /root/redis/${redisName}.conf #é¿å¼€å µå¡ä½†æ˜¯å¯èƒ½ä¼šä¸¢æ•°æ® \u0026lt;ä¸å»ºè®®\u0026gt; ram\n1 2 3 4 5 6 7 8 9 10 export redisName=ram rm -rf /data/redis/${main}* \u0026amp;\u0026amp; cp /root/redis/redis-template.conf /root/redis/${redisName}.conf sed -i \u0026#34;s@# requirepass foobared@requirepass cx6hYJcCpZybXT112233@g\u0026#34; /root/redis/${redisName}.conf #ä¿®æ”¹å¯†ç  sed -i \u0026#34;s@bind 127.0.0.1 -::1@#bind 127.0.0.1 -::1@g\u0026#34; /root/redis/${redisName}.conf # ip sed -i \u0026#39;s@# save \u0026#34;\u0026#34;@save \u0026#34;\u0026#34;@g\u0026#39; /root/redis/${redisName}.conf # å–æ¶ˆæŒä¹…åŒ– docker stop ${redisName} \u0026amp;\u0026amp; docker rm ${redisName} docker run -itd --name ${redisName} --hostname ${redisName} -p 6382:6379 \\ -v /root/redis/${redisName}.conf:/redis.conf --restart=always \\ redis:7.0.8-alpine3.17 redis-server /redis.conf devlog\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 export redisName=devlog rm -rf /data/redis/${redisName}* \u0026amp;\u0026amp; cp /root/redis/redis-template.conf /root/redis/${redisName}.conf sed -i \u0026#34;s@# requirepass foobared@requirepass cx6hYJcCpZybXT112233@g\u0026#34; /root/redis/${redisName}.conf #ä¿®æ”¹å¯†ç  sed -i \u0026#34;s@bind 127.0.0.1 -::1@#bind 127.0.0.1 -::1@g\u0026#34; /root/redis/${redisName}.conf # ip sed -i \u0026#39;s@# save \u0026#34;\u0026#34;@save \u0026#34;\u0026#34;@g\u0026#39; /root/redis/${redisName}.conf # å–æ¶ˆæŒä¹…åŒ– # æ‰§è¡Œ ramçš„å‘½ä»¤åˆ›å»ºdockerä¹‹å‰ å† é™åˆ¶ä¸€ä¸‹å¤§å° sed -i \u0026#34;s@# maxmemory \u0026lt;bytes\u0026gt;@maxmemory 268435456@g\u0026#34; /root/redis/${redisName}.conf #é™åˆ¶ 256M sed -i \u0026#34;s@# maxmemory \u0026lt;bytes\u0026gt;@maxmemory 536870912@g\u0026#34; /root/redis/${redisName}.conf #é™åˆ¶ 512M sed -i \u0026#34;s@# maxmemory \u0026lt;bytes\u0026gt;@maxmemory 1073741824@g\u0026#34; /root/redis/${redisName}.conf #é™åˆ¶ 1G docker stop ${redisName} \u0026amp;\u0026amp; docker rm ${redisName} docker run -itd --name ${redisName} --hostname ${redisName} -p 6383:6379 \\ -v /root/redis/${redisName}.conf:/redis.conf --restart=always \\ redis:7.0.8-alpine3.17 redis-server /redis.conf rediså‘½ä»¤æŸ¥çœ‹é™åˆ¶ï¼šinfo memory æœ€å åˆ›å»ºä¸€ä¸ª slave-test ä½œä¸ºä»æœºæµ‹è¯•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 export redisName=slave-test rm -rf /data/redis/${redisName}* \u0026amp;\u0026amp; cp /root/redis/redis-template.conf /root/redis/${redisName}.conf sed -i \u0026#34;s@# requirepass foobared@requirepass cx6hYJcCpZybXT112233@g\u0026#34; /root/redis/${redisName}.conf #ä¿®æ”¹å¯†ç  sed -i \u0026#34;s@bind 127.0.0.1 -::1@#bind 127.0.0.1 -::1@g\u0026#34; /root/redis/${redisName}.conf # ip sed -i \u0026#39;s@# save \u0026#34;\u0026#34;@save \u0026#34;\u0026#34;@g\u0026#39; /root/redis/${redisName}.conf # å–æ¶ˆæŒä¹…åŒ– sed -i \u0026#39;s@# masterauth \u0026lt;master-password\u0026gt;@masterauth cx6hYJcCpZybXT112233@g\u0026#39; /root/redis/${redisName}.conf # è®¾ç½®ä¸»çš„å¯†ç  docker stop ${redisName} \u0026amp;\u0026amp; docker rm ${redisName} docker run -itd --name ${redisName} --hostname ${redisName} -p 6389:6379 \\ -v /root/redis/${redisName}.conf:/redis.conf --restart=always \\ redis:7.0.8-alpine3.17 redis-server /redis.conf docker restart slave-test # åˆ‡æ¢ä¸º ä»æœº docker exec -it slave-test redis-cli -h localhost -p 6379 -a cx6hYJcCpZybXT112233 SLAVEOF 10.1.1.111 6381 # åˆ‡æ¢ä¸º ä¸»æœº docker exec -it slave-test redis-cli -h localhost -p 6379 -a cx6hYJcCpZybXT112233 slaveof NO ONE ä»æœº ä»ä¸»æœº åŒæ­¥çš„æ•°æ®ï¼Œå¦‚æœä¸»æœºæ˜¯æŒä¹…åŒ–ï¼Œä»çº§æ²¡æœ‰å¼€å¯ï¼Œä½†æ˜¯ä¸›æœº ä¼šæŒä¹…åŒ–è¿™éƒ¨åˆ†æ•°æ®ã€‚ ä»æœºå¯ä»¥ä»0æ•°æ® æˆ–è€…æœ‰ä¸€éƒ¨åˆ†æ•°æ® æˆ–è€… æœ‰å…¶ä»–æ•°æ® å¼€å§‹åˆ‡æ¢ä¸ºä»æœºæ¨¡å¼ ä»æœº çš„æ•°æ® åœ¨å¼€å¯ ä¸»ä» å ä¼šä¸¢å¤±ï¼Œä»æœºè¿›å…¥ä»æ¨¡å¼å æ— æ³•å†™å…¥æ•°æ® åœ¨ç®€å•çš„é€»è¾‘ä¸‹ï¼Œå¯ä»¥ç”¨shellè„šæœ¬ å…ç™»å½•å¤„ç†ã€‚\nå¼ºåˆ¶å…³é—­ ç¨‹åºåï¼Œå†è¿›è¡Œåˆ‡æ¢æ“ä½œã€‚\n","date":"2023-02-23T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/redis-more/","title":"åŒä¸€å°æœºå™¨æ­å»ºå¤šä¸ªrediså®ä¾‹ å¹¶æµ‹è¯•ä¸»ä»åŒæ­¥"},{"content":"è¿ç»­å‡ å¤© ä¸Šä¼ é€Ÿåº¦åªæœ‰å¯æ€œçš„ å‡ ç™¾K\n","date":"2023-02-20T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/aliyundocker-limit/","title":"é˜¿é‡Œäº‘dockerç§æœ‰é•œåƒæœåŠ¡è²Œä¼¼é™é€Ÿäº†"},{"content":"lxcå®¹å™¨è¿è¡Œçš„ alpine é‡Œé¢å•ç‹¬è£…ä¸€ä¸ª mariadbã€‚\n1 2 3 4 5 6 7 8 9 10 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk search mysql apk search mariadb # mariadb-server-utils-10.6.10-r0 apk add mariadb mariadb-client rc-update add mariadb default touch /run/openrc/softlevel /etc/init.d/mariadb setup rc-service mariadb start mysql -u root -p å¦‚æœè¦è£… mysql5.7 éœ€è¦å®˜ç½‘å»ä¸‹è½½ äºŒè¿›åˆ¶ã€‚ æˆ–è€… å¥—docker\n1 2 3 Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 3 Server version: 10.6.10-MariaDB MariaDB Server æŸ¥çœ‹å…·ä½“ç‰ˆæœ¬ è®°ä½\n1 2 # mysql -V mysql Ver 15.1 Distrib 10.6.10-MariaDB, for Linux (x86_64) using readline 5.1 ä¿®æ”¹æœ¬åœ°ç”¨æˆ·å¯†ç  1 2 mysql -u root -p mysql\u0026gt; ALTER USER \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;ä½ çš„å¯†ç \u0026#39;; æ‰“å¼€è¿œç¨‹è®¿é—® è¿œç¨‹ç”¨æˆ·å¯†ç  1 2 3 4 5 mysql -u root -p mysql\u0026gt; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;ä½ çš„å¯†ç \u0026#39;; mysql\u0026gt; use mysql; mysql\u0026gt; SELECT host,user,password from user; mysql\u0026gt; flush privileges; é…ç½®æ–‡ä»¶ å°† vi /etc/my.cnf.d/mariadb-server.cnf ä¸­bind-address = XXXX åŠ # æ³¨é‡Šæ‰ æˆ–è€…æ”¹ä¸º bind-address = 0.0.0.0\nå°å‘ æ­¤å¤„æœ‰ä¸€ä¸ªå°å‘ï¼Œalpineçš„ mariadbé»˜è®¤skip-networking å°±æ˜¯ä¸ç›‘å¬tcpï¼Œéœ€è¦ä¸€èµ·å»æ‰æ³¨é‡Š\né‡å¯ 1 rc-service mariadb restart è¿›é˜¶ æ¸…ç† localhost çš„rootç”¨æˆ·ã€‚å¯é€‰æ“ä½œï¼Œä¸å¤ªå»ºè®® 1 2 3 4 5 6 mysql -u root -p mysql\u0026gt; DROP USER \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39;; mysql\u0026gt; use mysql; mysql\u0026gt; SELECT host,user,password from user; mysql\u0026gt; flush privileges; mysql\u0026gt; exit; ä¿®æ”¹ç«¯å£ 1 2 vi /etc/my.cnf # åœ¨mysqlldèŠ‚ç‚¹ä¸‹å¢åŠ ä¸€è¡Œ port=ç«¯å£å· ","date":"2023-02-18T19:13:10+08:00","permalink":"https://dev.leiyanhui.com/docker/alpine-mysql-err/","title":"alpineä¸­å®‰è£…mysql/mariadbçš„ä¸€ä¸ªå°å‘ æ— æ³•è¿œç¨‹è®¿é—®çš„é—®é¢˜"},{"content":"å•ç‹¬ä¸€ä¸ªlxcè¿è¡Œ aria2ï¼Œç³»ç»Ÿalpine å¹¶æŒ‚è½½ ç¡¬ç›˜è¿›æ¥\n1 pct set 10002 -mp0 /dev/sda1,mp=/mnt/sda1 è¿™ä¸ªç¡¬ç›˜ è¦æ±‚è¿è¡Œ cloudreveçš„lxcå®¹å™¨ä¹Ÿå¯ä»¥è®¿é—®ã€‚ä¸ç„¶cloudreveæ²¡æ³•ç§»åŠ¨æ–‡ä»¶è¿›å»ã€‚\nå®‰è£…aria2 ç”¨p3terxçš„æœ€åç‰ˆæœ¬ï¼Œéœ€è¦ç§‘å­¦ç¯å¢ƒ\n1 2 3 apk add bash wget ca-certificates curl wget -N git.io/aria2.sh \u0026amp;\u0026amp; chmod +x aria2.sh ./aria2.sh # å®‰è£… å®‰è£…å®Œæˆå åœ¨aria2.sh é…ç½®ä¿®æ”¹ä¸€ä¸‹,ä¸»è¦ä¿®æ”¹ä¸‹è½½ç›®å½•ã€‚ å®‰è£…å®Œæˆå ä¼šæç¤º RPC å¯†é’¥ è¿˜æœ‰NGçš„åœ°å€ã€‚\nBTä¸‹è½½åŠŸèƒ½ éœ€è¦å¼€ 51413ç«¯å£ï¼Œå¦å¤–aria2æ˜¯ä¸æ”¯æŒ ed2kåè®®çš„ã€‚å†·é—¨btä¸‹è½½ï¼Œè¿˜æ˜¯ç”¨å¼€è¿…é›·å»å§ã€‚å…¶ä»–éƒ½ä¸å¥½ç”¨ã€‚\nå¼€æœºè‡ªåŠ¨å¯åŠ¨,å› ä¸ºp3terxçš„è„šæœ¬ä¸æ”¯æŒalpineï¼Œéœ€è¦å¤„ç†ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œä¸ºäº†çœäº‹ç›´æ¥ç”¨supervisor\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 apk add supervisor rc-update add supervisord boot service supervisord restart echo_supervisord_conf \u0026gt; /etc/supervisord.conf echo \u0026#34;[include]\u0026#34;\u0026gt;\u0026gt;/etc/supervisord.conf echo \u0026#34;files = /root/supervisor/*.ini\u0026#34;\u0026gt;\u0026gt;/etc/supervisord.conf mkdir /root/supervisor/ #supervisor aria2 é…ç½® cat \u0026gt; /root/supervisor/aria2.ini \u0026lt;\u0026lt; EOF [program:aria2c] directory=/root/.aria2c/ command=/usr/local/bin/aria2c --conf-path=/root/.aria2c/aria2.conf autostart=true autorestart=true ;stderr_logfile=/tmp/aria2c.err ;stdout_logfile=/tmp/aria2c.log environment=CODENATION_ENV=prod EOF # å…¶ä»–æŒ‡ä»¤ supervisord -c /etc/supervisord.conf supervisorctl start aria2c supervisorctl stop aria2c supervisorctl status aria2c AriaNg å¯è§†åŒ–çš„Aria ç®¡ç†ç•Œé¢ï¼Œç”¨nginxè·‘å§\n1 2 3 4 5 6 7 8 9 apk add nginx rm -rf /var/cache/apk/* rc-update add nginx boot service nginx start cd ~ mkdir ng-html \u0026amp;\u0026amp; cd ng-html wget https://github.com/mayswind/AriaNg/releases/download/1.3.2/AriaNg-1.3.2.zip unzip AriaNg* rm AriaNg* é…ç½®nginx ï¼Œè¿˜æœ‰ä¿®æ”¹ä¸€ä¸‹ nginxçš„è¿è¡Œç”¨æˆ· æˆ–è€… ç›®å½•æ‰€æœ‰è€…\n1 2 3 4 5 6 7 8 9 10 mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf-bak cat \u0026gt; /etc/nginx/http.d/ariang.conf \u0026lt;\u0026lt; EOF server { listen 80 ; server_name _ ; root /root/ng-html;# ç«™ç‚¹æ ¹ç›®å½• index index.html; } EOF nginx -s reload æµ‹è¯• http://10.1.1.82/#!/settings/rpc/set/ws/10.1.1.82/6800/jsonrpc/XXXXXXXXXXX\nå¦‚æœä½ çš„ ariaNG è¦å¤–ç½‘ä½¿ç”¨ï¼Œå†å»å¤„ç†ä¸€ä¸‹sslå’Œç«¯å£æ˜ å°„å°±å¥½ã€‚\n","date":"2023-02-17T18:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-cloudreve-aria2/","title":"lxc alpineä¸‹ä½¿ç”¨cloudreveæ›¿ä»£nginxæ­å»ºwebdav ä¹‹aria2ç¦»çº¿ä¸‹è½½ "},{"content":"ä¹‹å‰åœ¨github ä¸‹ç”¨ä¸¤ä¸ªåº“å®ç°äº†è‡ªåŠ¨æ›´æ–° åœ°å€ ï¼šhttps://dev.leiyanhui.com/web/auto-get-ssl\nè¿™é‡Œè®°å½•ä¸‹ ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨éƒ¨ç½²çš„æ–¹æ³• ä»¥alpineä¸‹ä¸ºä¾‹\n1 2 3 4 5 apk add nano wget p7zip rc-update add crond boot service crond start cd /root nano auto-updatessl-form-github.sh å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 cat \u0026gt; auto-updatessl-form-github.sh \u0026lt;\u0026lt; EOF cd /root rm ssl.zip* wget https://cdn.jsdelivr.net/gh/XXXX/sXXXX.zip #https://github.com/XXXXXXXXXXXXX.zip if [ ! -f \u0026#34;/root/ssl.zip\u0026#34; ]; then wget -O/dev/null -q https://api.day.app/ä½ çš„key/SSL-update-err/[home-mino]?sound=birdsong\u0026amp;amp;isArchive=1 else rm -rf ssl 7z x ssl.zip -på¯†ç  #å¯†ç å’Œpä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ supervisorctl restart minio #æ ¹æ®æƒ…å†µä¿®æ”¹ nginx -s reload fi EOF echo \u0026#34;15 8 * * * sh /root/auto-updatessl-form-github.sh\u0026#34; \u0026gt;\u0026gt; /etc/crontabs/root \u0026amp;\u0026amp; cat /etc/crontabs/root æ·»åŠ è®¡åˆ’ä»»åŠ¡ crontab -e æ¯å¤©7ç‚¹50\n1 50 7 * * * sh /root/auto-updatessl-form-github.sh ","date":"2023-02-16T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/auto-updatessl-form-github/","title":"ä»è‡ªå·±çš„githubä¸Šè‡ªåŠ¨è·å–è¯ä¹¦å¹¶éƒ¨ç½²åˆ°æœ¬åœ°"},{"content":"pveä¸‹ å¯ä»¥æŠŠlxcå½“ä½œåº”ç”¨å®¹å™¨ä½¿ç”¨ï¼Œæ‰€ä»¥ç³»ç»Ÿè‚¯å®šé€‰æ‹©åªæœ‰3mçš„alpinelinux\nä¸ç”¨dockeré…ç½®ï¼Œä¼˜ç‚¹ä½“ç§¯å°ï¼Œç¼ºç‚¹ç•¥å¾®ç¹çä¸€ä¸¢ã€‚\nåˆ›å»ºalpine lxcå®¹å™¨ pveä¸‹æ“ä½œï¼Œç‰¹æƒå®¹å™¨ï¼Œåˆ›å»ºå®Œæˆåï¼Œé€‰é¡¹åŠŸèƒ½ é‡Œé¢ æœ€å¥½å‹¾é€‰ åµŒå¥—å’Œ fuseï¼Œç£ç›˜å¤§å°0.3Gã€‚\n1 2 3 4 5 6 7 8 9 10 # é…ç½®æºå’Œæ—¶åŒº alpineå†…è¿è¡Œ sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* # vimæ›¿æ¢ä¸ºnano apk add nano apk del vim \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vim \u0026amp;\u0026amp; rm -rf /usr/bin/vi \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vi å®‰è£…alist å®˜ç½‘ä¸€é”®å®‰è£…å‘½ä»¤ ä¸æ”¯æŒalpineï¼Œæ‰‹åŠ¨è£…ï¼Œalpine æ²¡æœ‰ glibcï¼Œæˆ‘ç”¨muslç‰ˆæœ¬\n1 2 3 4 5 6 akp add wget cd ~ wget https://github.com/alist-org/alist/releases/download/v3.11.0/alist-linux-musl-amd64.tar.gz tar -zxvf alist-*.tar.gz \u0026amp;\u0026amp; rm alist-*.tar.gz chmod +x alist ./alist server # è¿è¡Œç¨‹åº æŸ¥çœ‹æœ‰æ²¡æœ‰å¼‚å¸¸ ctrl +c åœæ­¢\nå¦‚æœè¦æ›´æ–°alistï¼Œä¸Šé¢å‘½ä»¤ç®€å•ä¿®æ”¹ä¸€ä¸‹å³å¯\n1 2 ./alist admin # è·å¾—ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç ä¿¡æ¯ kT0voJRZ ./alist server \u0026amp; # ä¸´æ—¶åå°è¿è¡Œï¼Œç„¶åå»åå°é…ç½® é…ç½®å®Œæˆå killall alist alpineä¸‹é…ç½®alistå®ˆæŠ¤è¿›ç¨‹ å¯ä»¥ç”¨ rc.local , æˆ‘è¿™é‡Œä½¿ç”¨supervisor æ›´ç®€å•ä¸€äº›\n1 2 3 apk add supervisor nano rc-update add supervisord boot service supervisord restart åˆå§‹åŒ–é…ç½®æ–‡ä»¶\n1 2 echo_supervisord_conf \u0026gt; /etc/supervisord.conf nano /etc/supervisord.conf ç¼–è¾‘æˆ–è€…æ·»åŠ æ–‡ä»¶æœ«å°¾ä¸¤è¡Œ\n1 2 [include] files = /etc/supervisord_conf/*.ini 1 2 mkdir -p /etc/supervisord_conf/ nano /etc/supervisord_conf/alist.ini æ ¹æ®è‡ªå·±çš„æƒ…å†µé…ç½® æ³¨æ„è¿™ä¸ªæ–‡ä»¶æ˜¯iniæ ¼å¼çš„\n1 2 3 4 5 6 7 8 [program:alist] directory=/root/ command=/root/alist server autostart=true autorestart=true ;stderr_logfile=/tmp/alist.err ;stdout_logfile=/tmp/alist.log environment=CODENATION_ENV=prod ç®¡ç†\n1 2 3 4 5 supervisord -c /etc/supervisord.conf supervisorctl start alist supervisorctl stop alist supervisorctl status alist reboot # é‡å¯åæ£€æŸ¥alistæ˜¯å¦å·²ç»ok é…ç½®å¤–ç½‘ssl è·å–è¯ä¹¦ è·å–ä½ çš„åŸŸåè¯ä¹¦ã€‚æˆ‘è¿™é‡Œæ˜¯ éƒ¨ç½²åˆ°githubä¸Šçš„acme.shï¼Œç›´æ¥æ‹‰å›æ¥è§£å‹ã€‚ä½ å¯ä»¥è‡ªç­¾ï¼Œä¹Ÿå¯ä»¥å•ç‹¬è£…acmesh ç”šè‡³å®å¡” è‡ªå·±éšæ„å°±å¥½ã€‚\n1 2 3 wget https://github.com/joyanhui/ssl/raw/main/ssl.zip apk add p7zip 7z x ssl.zip -på¯†ç  #å¯†ç å’Œpå­—æ¯ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ é…ç½®nginx alpineä¸‹nginxçš„é…ç½®æ–‡ä»¶ æ˜¯åœ¨ http.d ç›®å½•ä¸‹å“ˆ\n1 2 3 4 apk add nginx rc-update add nginx rc-service nginx start nginx -s reload # é‡è½½ 1 2 mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf-bak #éå¿…é¡» nano /etc/nginx/http.d/alist.conf å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 server { listen ç«¯å£å·ç  ssl; server_name ä½ çš„åŸŸå; ssl_certificate /root/ssl/ddns.leiyanhui.com.cer; # fullchain.pem ssl_certificate_key /root/ssl/ddns.leiyanhui.com.key; #privkey.pem ssl_verify_client off; server_tokens off; root /usr/share/nginx/html; location / { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Range $http_range; proxy_set_header If-Range $http_if_range; proxy_redirect off; proxy_pass http://127.0.0.1:5244; # the max size of file to upload client_max_body_size 20000m; } } ç»“æŸ é‡è½½nginxï¼Œè·¯ç”±å™¨è®¾ç½®å¥½ipç»‘å®šå’Œç«¯å£è½¬å‘ å®Œæ¯•\nwindowsä¸‹ æŒ‚è½½åï¼Œå°è¯•å¤åˆ¶å¤§æ–‡ä»¶æ­£å¸¸ã€‚\n","date":"2023-02-15T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-alist/","title":"pveä¸‹lxcè¿è¡Œalpine + alist + ssl édockeræ–¹å¼"},{"content":"pveè‡ªå¸¦çš„archlinuxçš„ CTæ¨¡æ¿ ä¼šå»¶è¿Ÿå‡ ä¸ªæœˆï¼Œarchlinuxå› ä¸ºæ˜¯æ»šåŠ¨æ›´æ–°ï¼Œç›´æ¥ä½¿ç”¨ä¼šæ— æ³•æ­£å¸¸æ›´æ–°ã€‚ åœ¨ æ¢¦ä¸­å¤§ä½¬æŒ‡ç‚¹æå®š\nå‡†å¤‡ctæ¨¡æ¿ é€‰æ‹© archlinux-base_20221111-1_amd64.tar.zst ã€‚ç°åœ¨æ˜¯2023 02 15ï¼Œç›´æ¥æ›´æ–°ä¼šå‡ºé”™ã€‚\nä¿®æ”¹æº 1 nano /etc/pacman.d/mirrorlist åœ¨æœ€å‰é¢æ·»åŠ ä¸€è¡Œï¼Œåé¢çš„ä¸è¦åˆ é™¤ã€‚\n1 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch å¼€å§‹æ›´æ–° æ›´æ–°\n1 pacman -Syy ç»§ç»­\n1 pacman -Su å‡ºé”™ï¼ŒæŒ‰ç…§æç¤º\n1 pacman-key --init ç»§ç»­\n1 2 3 pacman-key --populate #Reload the default keys from the (given) keyrings pacman -S archlinux-keyring pacman -Su archlinux-keyring æå®šï¼Œå¯ä»¥ç»§ç»­è£…å…¶ä»–è½¯ä»¶äº†ã€‚\næ€»ç»“ é¦–å…ˆè¦ åˆå§‹åŒ–keyåéœ€è¦ ç„¶å ä»å¯†é’¥ç¯ä¸­é‡æ–°åŠ è½½é»˜è®¤å¯†é’¥ï¼Œæœ€åå…ˆå•ç‹¬è£…keyring å†æ›´æ–°\n","date":"2023-02-15T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-archlinux/","title":"pveä¸‹lxcè¿è¡Œarchlinux"},{"content":"å®‰è£…archå¹¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆ å‚è€ƒä¹‹å‰æ–‡ç« \nå‡†å¤‡å·¥ä½œ å®‰è£…yay sudo æ·»åŠ æ–°ç”¨æˆ·\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 nano /etc/pacman.conf ---- [archlinuxcn] Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch ---- pacman -Sy archlinuxcn-keyring pacman -S yay pacman -S doas echo \u0026#34;permit persist :wheel\u0026#34; \u0026gt; /etc/doas.conf chown -c root:root /etc/doas.conf chmod -c 0400 /etc/doas.conf doas -C /etc/doas.conf \u0026amp;\u0026amp; echo \u0026#34;config ok\u0026#34; || echo \u0026#34;config error\u0026#34; useradd -m -G wheel -s /bin/bash leiyanhui passwd leiyanhui é€‰æ‹©æ¡Œé¢å’Œè¾“å…¥æ³• æˆ‘è¿™é‡Œé€‰ xorg kde äº† å¦‚æœå®‰è£…i3 å‚è€ƒ https://dev.leiyanhui.com/arch/xinitc-xrdp/\nxorg 1 pacman -S xorg-server æ˜¾ç¤ºç®¡ç†å™¨ æˆ‘è¿™é‡Œç”¨ xinitrc\n1 2 pacman -S xorg-xinit cp /etc/X11/xinit/xinitrc /etc/X11/xinit/xinitrc-bak 1 2 3 4 5 6 7 nano /etc/X11/xinit/xinitrc #æ³¨é‡Šæ‰ä¸‹é¢å‡ è¡Œ è¿™å‡ ä¹æ˜¯å¯åŠ¨ä¸€ä¸ªæ—¶é’Ÿ å‡ ä¸ª xtermï¼Œå®é™…ä¸Šä¼šå¯¼è‡´xrdpæ— æ³•ç™»å½• #twm \u0026amp; #xclock -geometry 50x50-1+1 \u0026amp; #xterm -geometry 80x50+494+51 \u0026amp; #xterm -geometry 80x20+494-0 \u0026amp; #exec xterm -geometry 80x66+0+0 -name login å®‰è£…kde æˆ‘è¿™é‡Œç›´æ¥è£… plasma æ•´ä¸ªåŒ…ï¼Œç„¶åå¸è½½å¼€å‘åŒ… ã€‚ å› ä¸ºplasma-desktop å…¶å®ä¸å…¨ï¼ŒåæœŸå¼„èµ·æ¥éº»çƒ¦ã€‚\n1 2 3 pacman -S plasma pacman -Rscn plasma-sdk pacman -Rscn `pacman -Qqs kde games` ç½‘ç»œç®¡ç† lxcä¸‹æ²¡å¿…è¦\n1 systemctl enable NetworkManager xrdp å¤„ç† æ³¨æ„ç§‘å­¦ç¯å¢ƒ\n1 yay -S xrdp å£°éŸ³ 1 pacman -S pulseaudio å…¶ä»–å‚è€ƒ https://dev.leiyanhui.com/c/arch-install-xrdp/\n","date":"2023-02-15T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-arch-desktop-xrdp/","title":"pveä¸‹lxcè¿è¡Œarchlinuxæ¡Œé¢ç¯å¢ƒ åŒ…æ‹¬è¾“å…¥æ³• è¿œç¨‹æ¡Œé¢ 3dåŠ é€Ÿç­‰"},{"content":"è€ƒè™‘åˆ°ä½¿ç”¨æ–¹ä¾¿ï¼ŒæŠŠè¯ä¹¦åŠ å¯†å å‘é€åˆ°å…¬å¼€ä»“åº“ã€‚éƒ¨ç½²çš„æ—¶å€™ï¼Œåªéœ€è¦å®šæ—¶ä»å…¬å¼€ä»“åº“wgetä¸‹æ¥å³å¯ä½¿ç”¨ã€‚\nåç»­ä¼šè€ƒè™‘è‡ªåŠ¨æ¨é€åˆ°cdnï¼Œå› ä¸ºcdné‚£è¾¹æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œæš‚æ—¶è¿˜æ˜¯ä¸ç”¨å…è´¹è¯ä¹¦ã€‚\ngithubè‡ªåŠ¨ç”³è¯· åŸŸåè¯ä¹¦ï¼ŒåŠ å¯†æ¨é€åˆ°å…¬å¼€åº“ä»¥åŠè‡ªåŠ¨éƒ¨ç½²ç­‰ è‡ªåŠ¨ç”³è¯· å‡†å¤‡ 1ã€ä¸¤ä¸ªgithubä»“åº“ 1ä¸ªç§æœ‰åº“ å­˜æ”¾ è‡ªåŠ¨è„šæœ¬ï¼Œå¦å¤–ä¸€ä¸ªå…¬å¼€ä»“åº“å­˜æ”¾åŠ å¯†çš„è¯ä¹¦å‹ç¼©åŒ… å…¬å¼€å°±å¥½ï¼Œå¯ä»¥å¼€pages æˆ–è€…å¥—cdn é»˜è®¤åˆ†æ”¯ä¸ºmain\n2ã€ç”³è¯·åŸŸåè¯ä¹¦çš„åŸŸådnsæœåŠ¡å™¨çš„apiï¼Œæˆ‘è¿™é‡Œéƒ½æ˜¯ç”¨dnspodsä¸ºä¾‹\n3ã€ä¸€å¯¹sshå…¬ç§é’¥ã€‚å…¬é’¥åŒ™è¦é…ç½®åˆ° å…¬å¼€ä»“åº“ çš„Deploy keysï¼Œç§ç¥éƒ¨ç½²åˆ° ç§æœ‰åº“çš„Secret\n4ã€ä¸€ä¸ª16ä½ä»¥ä¸Šè¶³å¤Ÿå¤æ‚çš„å¯†ç ï¼ˆzipåŒ…å¯ä»¥ç©·ä¸¾ï¼Œæ‰€ä»¥åŠ¡å¿…è¦é«˜å¼ºåº¦çš„å¯†ç ï¼‰\n5ã€å°‘è®¸linuxåŸºç¡€çŸ¥è¯†\né…ç½®åŠ å¯†ä¿¡æ¯ é…ç½®å…¬ç§ç¥ å…¬å¼€åº“çš„åœ¨ä»“åº“çš„ Settings ä¸­Deploy keysæ·»åŠ  å¡«å†™ sshå…¬é’¥ï¼Œå‹¾é€‰ä¸Š Allow write access åå­—éšæ„\nç§é’¥éƒ¨ç½²åˆ°ç§æœ‰åº“çš„Secret åç§°ä¸º MYGITHUBKEY\ndns api åœ¨ä»“åº“çš„ Settings ä¸­æ·»åŠ  Secretï¼Œåˆ›å»º DNSAPI å¡«å†™ä¸Šæ–‡è·å–çš„ API KEY æ ¼å¼å¦‚ä¸‹ï¼Œå…·ä½“æ ¼å¼ æŸ¥çœ‹ acme.sh çš„æ–‡æ¡£\n1 2 3 4 export DP_Id=\u0026#34;214234234\u0026#34; export DP_Key=\u0026#34;XXXXXXXXXX\u0026#34; export CF_Token=\u0026#34;XXXXXXXXXXXXXX\u0026#34; export CF_Account_ID=\u0026#34;XXXXXXXXXXXX\u0026#34; å‹ç¼©åŒ…å¯†ç  å†åˆ›å»ºä¸€ä¸ª ZIPPASSWORD è¾“å…¥å‹ç¼©åŒ…è§£å‹å¯†ç ï¼Œä¸€å®šå¿…é¡»è¦è¶…çº§é«˜å¼ºåº¦çš„å¯†ç ã€‚æ¯”å¦‚ 16ä½ä»¥ä¸Š åŒ…å«æ•°å­—å­—æ¯ç‰¹æ®Šç¬¦å·æ±‰å­—\né…ç½®github actions åœ¨ç§æœ‰ä»“åº“ä¸­åˆ›å»º â€‹ .github/workflows/AutoACME.yml â€‹â€‹ é…ç½®æ–‡ä»¶,å‚è€ƒå¤åˆ¶ç²˜è´´å¦‚ä¸‹.\ncron æ˜¯ UTCæ—¶é—´ æ¯æœˆ26æ—¥ä¸‹åˆ17ç‚¹7åˆ† è‡ªåŠ¨æ‰§è¡Œ å®Œæ•´å†…å®¹å‚è€ƒ ï¼šhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/github-actions/%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7%E8%AF%81%E4%B9%A6%E5%B9%B6%E6%8E%A8%E9%80%81%E5%88%B0%E5%85%AC%E5%BC%80%E4%BB%93%E5%BA%93.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 name: Auto ACME on: workflow_dispatch: schedule: - cron: \u0026#34;7 17 20 * *\u0026#34; watch: types: [started] env: ACME: /home/runner/.acme.sh/acme.sh PUBHUB: /ä½ çš„ç”¨æˆ·å/ä»“åº“åœ°å€ DNSAPI: ${{ secrets.DNSAPI }} ZIPPASSWORD: ${{ secrets.ZIPPASSWORD }} MYGITHUBKEY: ${{ secrets.MYGITHUBKEY }} EMAIL: ä½ çš„é‚®ç®±åœ°å€@qq.com TZ: Asia/Shanghai jobs: build: runs-on: ubuntu-latest if: github.event.repository.owner.id == github.event.sender.id steps: - name: Checkout uses: actions/checkout@v2 with: ref: main github_token: ${{ secrets.GITHUB_TOKEN }} - name: å®‰è£…å’Œåˆå§‹åŒ–acme.sh run: | curl https://get.acme.sh | sh echo \u0026#34;$DNSAPI\u0026#34; \u0026gt;\u0026gt; /home/runner/.acme.sh/account.conf $ACME --register-account -m $EMAIL - name: å¼€å§‹è·å–è¯ä¹¦ run: | mkdir -p ./ssl #å¦‚æœè¦å¤„ç†å¤šä¸ªåŸŸåï¼Œå¤åˆ¶åé¢ä¸‰è¡Œå³å¯ é»˜è®¤ä½¿ç”¨zerosslçš„è¯ä¹¦ å…¶ä»–å‚æ•°å‚è€ƒacme.shæ–‡æ¡£ mydomian=ä½ çš„åŸŸå.com $ACME --issue --dns dns_dp -d ${mydomian} -d *.${mydomian} $ACME --installcert -d ${mydomian} --key-file ./ssl/${mydomian}.key --fullchain-file ./ssl/${mydomian}.cer - name: å¸¦å¯†ç æ‰“åŒ…è¯ä¹¦ run: | zip -r acme.zip /home/runner/.acme.sh -P $ZIPPASSWORD zip -r ssl.zip ssl -P $ZIPPASSWORD - name: æäº¤åŠ å¯†åçš„è¯ä¹¦åˆ°å…¬å¼€åº“ run: | mkdir -p ~/.ssh/ echo \u0026#34;$MYGITHUBKEY\u0026#34; \u0026gt; ~/.ssh/id_rsa chmod 600 ~/.ssh/id_rsa ssh-keyscan github.com \u0026gt;\u0026gt; ~/.ssh/known_hosts rm -rf .git* \u0026amp;\u0026amp; rm -rf README.md echo \u0026#34;å¤„ç†å…¬å¼€åº“çš„readmeæ–‡ä»¶\u0026#34; wget https://raw.githubusercontent.com/$PUBHUB/main/README.md echo -e \u0026#34;\\nè¯ä¹¦æœ€åæ›´æ–°ï¼š $(date \u0026#39;+%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34;\u0026gt;\u0026gt;README.md git init git config --global user.name \u0026#34;githubactions bot\u0026#34; git config --global user.email \u0026#34;$ACME\u0026#34; git add ./ssl.zip ./README.md ./acme.zip git commit -m \u0026#34;è¯ä¹¦è‡ªåŠ¨æ›´æ–° on $(date \u0026#39;+%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34; git remote add origin git@github.com:$PUBHUB.git git remote -v git push origin master:main -f -q â€\nâ€\nå®¢æˆ·ç«¯ä½¿ç”¨ wget å 7z -P å¯†ç  ï¼Œç„¶å nginx -s reloadå³å¯\nè‡ªåŠ¨æ›´æ–° å‚è€ƒ ï¼šhttps://dev.leiyanhui.com/web/auto-updatessl-form-github\nè‡ªåŠ¨éƒ¨ç½²åˆ°å›½å†…cdn åç»­å¤„ç†\n","date":"2023-02-14T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/auto-get-ssl/","title":"ç§æœ‰ä»“åº“GitHub actionsè¿è¡Œacme.sh å¹¶åŠ å¯†æ¨é€åˆ°å…¬å¼€ä»“åº“"},{"content":"æ¥ä¸Šä¸€ç¯‡ï¼Œåœ¨pve lxcä¸‹ä»¥cloudreveä¸ºæ ¸å¿ƒæ­å»ºäº†nas https://dev.leiyanhui.com/pve/lxc-nas-core-cloudreve\nä¸‹é¢éœ€è¦é…ç½® åœ¨çº¿ç¼–è¾‘åŠŸèƒ½ï¼Œè€ƒè™‘åˆ°alpineçš„ä¾èµ–é—®é¢˜ï¼Œå•ç‹¬é…ç½®ä¸€ä¸ªlxcå®¹å™¨æ¥è¿è¡Œofficeéƒ¨åˆ†\nç‰¹æƒå®¹å™¨ å®‰è£…docker æ–¹æ³•ï¼šæŸ¥çœ‹è¿™é‡Œ\nofficeçš„é€‰æ‹©ï¼Œè‚¯å®šæ˜¯é€‰å¤§åé¼é¼çš„LibreOfficeï¼Œå¦å¤–Office Online Serverå¾®è½¯çš„ ï¼Œåœ¨éƒ¨åˆ†æˆæƒæƒ…å†µä¸‹å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œä½†æ˜¯éœ€è¦window serverä¸»æœºã€‚å¦å¤–ä¸€ä¸ªOnlyOffice ä¸çŸ¥ä¸ºä»€ä¹ˆæˆ‘è¿™é‡Œæ²¡æˆåŠŸ\nå®‰è£…é…ç½®docker åŸºæœ¬é…ç½®å’Œå®‰è£…docker https://dev.leiyanhui.com/pve/alpine-docker\nè¿è¡Œdocker å› ä¸ºOffice Online Serveræ”¶è´¹ï¼ŒOnlyOfficeçš„å…¼å®¹æ€§ä¹Ÿæ²¡çœ‹åˆ°ï¼Œå¹¶ä¸”æˆ‘è¿™é‡Œé…ç½®åªèƒ½é¢„è§ˆæ— æ³•ç¼–è¾‘ï¼Œæ‰€ä»¥é€‰æ‹©LibreOffice.\nå°è¯•ä½¿ç”¨ Collabora Online (LibreOffice Online) å»ºè®®ç”¨ubuntu22.04è¿è¡Œï¼Œç›´æ¥å®‰è£… ä¸ä½¿ç”¨dockerã€‚ åˆ›å»ºä¸€ä¸ªlxc è‡³å°‘éœ€è¦2.8G å»ºè®® 5Gã€‚ å†…å­˜è¦1G+\nä¿®æ”¹æº é‚£äº›ä¸ç”¨è¯´äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 export customer_hash=Example-413539ece39485afc35b4a469adfde0a279d2fd2 cd /usr/share/keyrings wget https://collaboraoffice.com/downloads/gpg/collaboraonline-release-keyring.gpg cat \u0026lt;\u0026lt; EOF \u0026gt; /etc/apt/sources.list.d/collaboraonline.sources Types: deb URIs:https://www.collaboraoffice.com/repos/CollaboraOnline/22.05/customer-ubuntu2204-$customer_hash Suites: ./ Signed-By: /usr/share/keyrings/collaboraonline-release-keyring.gpg EOF apt update apt install coolwsd collabora-online-brand 1 2 3 4 5 6 7 8 docker stop code \u0026amp;\u0026amp; docker rm code docker run -t -d -p 9980:9980 --name code --hostname code \\ -e TZ=Asia/Shanghai \\ -e dictionaries=zh-CN \\ -e \u0026#34;aliasgroup1=https://pan.jia.leiyanhui.com:5213\u0026#34; \\ -e \u0026#34;username=admin\u0026#34; \\ -e \u0026#34;password=admin\u0026#34; \\ --restart always collabora/code é…ç½®ssl æˆ‘è¿™é‡Œä½¿ç”¨github actionsé›†ä¸­ç®¡ç†çš„sslè¯ä¹¦ https://dev.leiyanhui.com/web/auto-get-ssl\nç›´æ¥ä¸‹è½½å›æ¥ ç”¨ 7z å¸¦å¯†ç è§£å‹ ï¼ˆunzipéƒ¨åˆ†å‘è¡Œç‰ˆä¸æ”¯æŒå¯†ç ï¼‰\n1 2 3 wget https://github.com/joyanhui/ssl/raw/main/ssl.zip apk add p7zip 7z x ssl.zip -på¯†ç  #å¯†ç å’Œpå­—æ¯ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ å®‰è£…nginx å¤„ç†ssl\n1 2 3 4 5 apk add nginx rc-update add nginx rc-service nginx start nginx -s reload # é‡è½½ nano /etc/nginx/http.d/code.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 server { listen 8443 ssl; server_name office.jia.leiyanhui.com; ssl_certificate /root/ssl/jia.leiyanhui.com.cer; ssl_certificate_key /root/ssl/jia.leiyanhui.com.key; # static files location ^~ /browser { proxy_pass https://127.0.0.1:9980; proxy_set_header Host $http_host; } # WOPI discovery URL location ^~ /hosting/discovery { proxy_pass https://127.0.0.1:9980; proxy_set_header Host $http_host; } # Capabilities location ^~ /hosting/capabilities { proxy_pass https://127.0.0.1:9980; proxy_set_header Host $http_host; } # main websocket location ~ ^/cool/(.*)/ws$ { proxy_pass https://127.0.0.1:9980; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; proxy_set_header Host $http_host; proxy_read_timeout 36000s; } # download, presentation and image upload location ~ ^/(c|l)ool { proxy_pass https://127.0.0.1:9980; proxy_set_header Host $http_host; } # Admin Console websocket location ^~ /cool/adminws { proxy_pass https://127.0.0.1:9980; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; proxy_set_header Host $http_host; proxy_read_timeout 36000s; } } ç®¡ç† https:///browser/dist/admin/admin.html\né…ç½®cloudreve ç®¡ç†å‘˜ç™»é™† ï¼Œåˆ°åå°ï¼Œå‚æ•°è®¾æ–½ å›¾åƒé¢„è§ˆ WOPI å®¢æˆ·ç«¯ å¯ç”¨\nè¿›é˜¶ å®‰è£…ä¸­æ–‡å­—ä½“ 1 2 3 4 cd ~ wget -c https://ghproxy.com/https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip unzip windows_font.zip mv file.leiyanhui.com-windows_font win_font é‡å»ºdocker\n1 2 3 4 5 6 7 8 9 docker stop code \u0026amp;\u0026amp; docker rm code docker run -t -d -p 9980:9980 --name code --hostname code \\ -v /root/win_font:/usr/share/fonts/win_font \\ -e TZ=Asia/Shanghai \\ -e dictionaries=zh-CN \\ -e \u0026#34;aliasgroup1=https://pan.jia.leiyanhui.com:5213\u0026#34; \\ -e \u0026#34;username=admin\u0026#34; \\ -e \u0026#34;password=admin\u0026#34; \\ --restart always collabora/code è¿›å…¥docker ç»§ç»­å¤„ç†\n1 2 3 4 5 6 7 8 9 10 11 12 # docker exec -u 0 -it code /bin/bash #å¿…é¡»å¸¦ -u 0 cat /etc/issue # Ubuntu 18.04.6 LTS apt update fc-cache -fv coolwsd-systemplate-setup /opt/cool/systemplate /opt/collaboraoffice apt install collaboraofficebasis-zh-cn # å‘ç°å·²ç»å®‰è£… apt -y install language-pack-zh-hans language-pack-zh-hans-base exit # docker restart code æœ¬æ–‡å‚è€ƒå®˜æ–¹æ‰‹å†Œï¼šhttps://docs.cloudreve.org/use/wopi\nhttps://sdk.collaboraonline.com/docs/installation/CODE_Docker_image.html#code-docker-image\n","date":"2023-02-13T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-office/","title":"lxc alpineä¸‹ä½¿ç”¨cloudreve å’Œ LibreOffice çš„é…ç½® "},{"content":"å› ä¸ºå¯¹LibreOfficeçš„å…¼å®¹æ€§ä¸çœ‹å¥½ï¼ŒåŠ ä¸ŠCollabora Online (LibreOffice Online)çš„ç•Œé¢è¯­è¨€æ˜¾ç¤ºä¸çŸ¥é“åˆ°åº•å’Œä»€ä¹ˆæœ‰å…³ã€‚åŠ ä¸Šç½‘ç»œä¸Šå…³äºä»–çš„èµ„æ–™å¤šæ•°è¾ƒè€ã€‚æ‰€ä»¥ç»§ç»­å°è¯•onlyofficeã€‚\nonlyoffice ç¤¾åŒºå¼€æºç‰ˆæœ¬ï¼Œé™åˆ¶20ä¸ªæ–‡ä»¶åŒæ—¶ç¼–è¾‘ã€‚ä½†æ˜¯å› ä¸ºå¼€æºï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ç»•è¿‡å»çš„ã€‚æˆ‘è¿™é‡Œç”¨ä¸åˆ°æ‰€ä»¥æ²¡æœ‰å°è¯•ä¿®æ”¹è¿™ä¸ªé™åˆ¶ã€‚\næœ¬æ–‡ä¸»è¦å†…å®¹ï¼š\næ­å»ºå…¬ç½‘ç¯å¢ƒå¯ç”¨çš„onlyoffice é™åˆ¶ä»…é™è‡ªå·±å¯ç”¨çš„onlyoffice åŸºäº pve7.3-4 lxc alpine3.17\nåˆæ­¥æ­å»ºã€‚ lxc alpineå®‰è£…docker å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼šåŸºæœ¬é…ç½®å’Œå®‰è£…docker https://dev.leiyanhui.com/pve/alpine-docker\nå‡†å¤‡è¯ä¹¦ æˆ‘è¿™é‡Œæ˜¯ éƒ¨ç½²åˆ°githubä¸Šçš„acme.shï¼Œç›´æ¥æ‹‰å›æ¥è§£å‹\n1 2 3 wget https://github.com/joyanhui/ssl/raw/main/ssl.zip apk add p7zip 7z x ssl.zip -på¯†ç  #å¯†ç å’Œpå­—æ¯ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ è‡ªåŠ¨æ›´æ–° å‚è€ƒ ï¼šhttps://dev.leiyanhui.com/web/auto-updatessl-form-github\ndockerå®‰è£…onlyoffice onlyoffice ä¾èµ–ä¸å°‘ï¼Œç›´æ¥dockerå¼„å§ã€‚ æˆ‘è¿™é‡Œè¯ä¹¦ç”¨nginxå¤„ç†ï¼Œæ–¹ä¾¿åé¢ç¦æ­¢åˆ«äººä½¿ç”¨ã€‚\nä¹Ÿå¯ä»¥æŠŠè¯ä¹¦æŒ‚è½½åˆ° /var/www/onlyoffice/Data/certs/ onlyoffice.crt onlyoffice.key ç›´æ¥å¼€443ã€‚å¦‚æœä½ æœ‰80å’Œ443çš„è¯ï¼Œä»–å¥½åƒä¼šè‡ªåŠ¨å¸®ä½ ç”³è¯·è¯ä¹¦ã€‚\n1 docker run -itd -p 8080:80 --name office2 -e WOPI_ENABLED=true --restart always -e TZ=Asia/Shanghai onlyoffice/documentserver æ‰“å¼€æ£€æŸ¥\n1 http://10.1.1.84:8080 ç¾¤å‹çš„,å¯ä»¥å‚è€ƒ\n1 docker run -i -t -d -p 9001:80 -p 9002:443 -e WOPI_ENABLED=true -v /root/onlyoffice/DocumentServer/logs:/var/log/onlyoffice -v /root/onlyoffice/DocumentServer/data:/var/www/onlyoffice/Data -v /root/onlyoffice/DocumentServer/lib:/var/lib/onlyoffice -v /root/onlyoffice/DocumentServer/rabbitmq:/var/lib/rabbitmq -v /root/onlyoffice/DocumentServer/redis:/var/lib/redis -v /root/onlyoffice/DocumentServer/db:/var/lib/postgresql onlyoffice/documentserver nginxåä»£ alpineä¸‹nginxçš„é…ç½®æ–‡ä»¶ æ˜¯åœ¨ http.d ç›®å½•ä¸‹å“ˆ\n1 2 3 4 apk add nginx rc-update add nginx rc-service nginx start nginx -s reload # é‡è½½ 1 2 mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf-bak #éå¿…é¡» nano /etc/nginx/http.d/office.conf å†…å®¹ï¼Œå¦‚æœä½ è¿˜æœ‰å…¶ä»–è™šæ‹Ÿä¸»æœºï¼Œè®°å¾—å¤„ç† æ®µè½ä½ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 upstream docservice { server 127.0.0.1:8080; } map $http_host $this_host { \u0026#34;\u0026#34; $host; default $http_host; } map $http_x_forwarded_proto $the_scheme { default $http_x_forwarded_proto; \u0026#34;\u0026#34; $scheme; } map $http_x_forwarded_host $the_host { default $http_x_forwarded_host; \u0026#34;\u0026#34; $this_host; } map $http_upgrade $proxy_connection { default upgrade; \u0026#34;\u0026#34; close; } proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $proxy_connection; proxy_set_header X-Forwarded-Host $the_host; proxy_set_header X-Forwarded-Proto $the_scheme; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; #é™·é˜±ä¸»æœº ä¸ºäº†æ‹¦æˆªåŸŸåé”™è¯¯çš„è¯·æ±‚ server { listen 10011 ssl; server_name trap.ddns.leiyanhui.com *.ddns.leiyanhui.com *.leiyanhui.com; ssl_certificate /root/ssl/ddns.leiyanhui.com.cer; # fullchain.pem ssl_certificate_key /root/ssl/ddns.leiyanhui.com.key; #privkey.pem ssl_verify_client off; server_tokens off; root /usr/share/nginx/html; } #çœŸå®ä¸»æœº server { listen 10011 ssl; server_name office.ddns.leiyanhui.com; server_tokens off; root /usr/share/nginx/html; # è¯ä¹¦ä½ç½® ssl_certificate /root/ssl/ddns.leiyanhui.com.cer; # fullchain.pem ssl_certificate_key /root/ssl/ddns.leiyanhui.com.key; #privkey.pem ssl_verify_client off; ssl_ciphers \u0026#34;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\u0026#34;; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_session_cache builtin:1000 shared:SSL:10m; ssl_prefer_server_ciphers on; add_header Strict-Transport-Security \u0026#34;max-age=1209600; includeSubDomains\u0026#34; always; add_header X-Content-Type-Options nosniff; location / { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; } } å¦å¤–æ‰¾åˆ° nginx.conf çš„ ssl_session_cache shared:SSL:2m; æ³¨é‡Šæ‰\né‡è½½nginx nginx -s reload\næµ‹è¯• æ‰“å¼€ç½‘ç«™ https://office.ddns.leiyanhui.com:10011/ æ²¡é—®é¢˜äº†ï¼Œåœ¨cloudreve åå°é¢æ¿ä¸­ å›¾åƒé¢„è§ˆä¸­é…ç½® https://office.ddns.leiyanhui.com:10011/hosting/discovery æ‰“å¼€officeæ–‡æ¡£æµ‹è¯•\næ³¨æ„å’ŒCollabora Online (LibreOffice Online)ä¸åŒçš„åœ°æ–¹ã€‚onlyoffice å¯¹ doc xsl ppt æ—§ç‰ˆæ ¼å¼ æ˜¯ä¸æ”¯æŒçš„ï¼Œè¿™ä¸ªå›°æ‰°æˆ‘å¥½ä¹…ï¼Œæœ€ååœ¨ cloudreveä½œè€…çš„æé†’ä¸‹ æ‰çŸ¥é“ï¼Œå¿…é¡»ç”¨ docx xslx pptx\né™åˆ¶åªèƒ½è‡ªå·±ä½¿ç”¨ å› ä¸ºonlyoffice æ²¡æœ‰éªŒè¯åŠŸèƒ½ï¼Œæ‰€ä»¥ä»»ä½•äººçŸ¥é“ä½ æ¥å£åœ°å€ å éƒ½å¯ä»¥è®¿é—®ä½ ã€‚é‚£ä¹ˆå°±ä¼šå¯¼è‡´ å¾ˆå®¹æ˜“è¶…è¿‡20ä¸ªæ–‡ä»¶çš„é™åˆ¶ã€‚è€Œä¸”è‡ªå·±èµ„æºè¢«åˆ«äººç™½å«–ä½ å¿ƒç†ä¹Ÿä¸çˆ½ã€‚\nåˆæ­¥è§£å†³æ–¹æ¡ˆ å‰é¢ nginx é…ç½®çš„ server_name çš„ åŸŸåå¼„ä¸€ä¸ªå¤æ‚çš„å­åŸŸå ï¼Œä¾‹å¦‚ä¸Šä¾‹ä¸­çš„ office.ddns.leiyanhui.com ä¿®æ”¹æˆ office-ankN35wvy5owLv-3JtR8cCguagRct.ddns.leiyanhui.com\nå¦‚æœè¦è¿™æ ·åšï¼Œè¿™ä¸ªå­åŸŸå å¿…é¡»æ˜¯æ³›åŸŸåçš„ä¸€ä¸ªä¸‹çº§åŸŸåï¼Œdnsè§£æè®°å½•é‡Œé¢ ä¸åº”è¯¥æœ‰ä»–ã€‚\næ¯”å¦‚ï¼Œæˆ‘çš„*.ddns.leiyanhui.com cname åˆ°ddns.leiyanhui.comï¼Œddns.leiyanhui.com é…ç½®äº†ddnsã€‚è¿™æ ·å‡ ä¹æ²¡æœ‰è¢«æ‰«åˆ°å¯èƒ½æ€§ã€‚\nç„¶ååˆ†äº«é¢„è§ˆï¼Œæœ€å¥½ä¹Ÿå…³é—­ã€‚ä¸ç„¶ä¾æ—§ä¼šæš´éœ²ã€‚\né™åˆ¶referers å‰é¢çš„\n1 2 3 4 location / { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; } ä¿®æ”¹ä¸º\n1 2 3 4 5 6 7 location / { valid_referers none blocked è°ƒç”¨åŸŸå.com onlyofficeçš„åŸŸå.com; if ($invalid_referer) {return 403;} proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; } åŒæ—¶æŠŠ cloudreveå’Œonlyoffice çš„åœ°å€æ·»åŠ è¿›å»å³å¯\né™åˆ¶wopisrc åœ¨å‰é¢çš„ location / å†æ·»åŠ ä¸€æ®µ\n1 2 3 4 5 6 location /hosting/wopi { if ( $args ~ wopisrc=https%3A%2F%2Fä½ çš„åŸŸå.com%3A ) { proxy_pass http://127.0.0.1:8080; } proxy_http_version 1.1; } %3A æ˜¯å†’å·è½¬ä¹‰ç¬¦ åé¢è·Ÿçš„ç«¯å£å·ï¼Œå¦‚æœä½ çš„æ²¡æœ‰è®°å¾—åˆ é™¤%3Aã€‚\n","date":"2023-02-13T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-office-onlyoffice/","title":"lxc alpineä¸‹ä½¿ç”¨cloudreve å’Œ onlyoffice çš„é…ç½® åŒ…æ‹¬onlyofficeçš„é…ç½®"},{"content":" 2023å¹´6æœˆ30æ—¥ è¡¥å……ï¼šå› cloudreve çš„webuiå…¶å®å®Œæˆåº¦å¹¶ä¸é«˜ï¼Œofficeçš„wopiä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼ŒissuesåŸºæœ¬åœæ»åœ¨ä½ æä½ çš„ä½œè€…è‡ªå·±æœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œæˆ–è€…è¯´å‹æ ¹æ— äººå¤„ç†çš„çŠ¶æ€ã€‚ æˆ‘æœ€ç»ˆé€‰äº†filerun å¹¶æ­ä¸Šäº†filerunçš„æœ€åä¸€ç­å…è´¹10ç”¨æˆ·çš„è½¦ã€‚nextcloud å› ä¸ºwebç•Œé¢ä¸€ç›´å¡å¡çš„æ„Ÿè§‰å¤„äºå¤‡ç”¨çŠ¶æ€ã€‚è‡ªå·±å°è¯•ç”¨go æˆ–è€…rusté‡å†™ä¸€ä¸ªwebuiæ¥ç”¨ï¼Œä½†æ˜¯å°šæœªæœ‰å¤ªå¤šè¿›å±•ã€‚ æ ¸å¿ƒçš„webdav sftp smb æˆ‘å…¨éƒ¨æ”¹ä¸ºrclone serverå®ç°ã€‚å…·ä½“ç«™å†…æœç´¢ã€‚\ncloudreve æ˜¯ä¼˜ç§€çš„å›½äº§å¼€æºç¨‹åºï¼Œä½¿ç”¨golangå†™çš„ï¼Œè½»é‡é«˜æ€§èƒ½ï¼Œ3.7ç‰ˆæœ¬ä»¥åå¼€å§‹æ”¯æŒ wopiæ‰©å±•officeåœ¨çº¿ç¼–è¾‘ã€‚è€Œä¸”å¯ä»¥ç›´æ¥åŠ ssl ä»¥åŠå¯¹è±¡å‚¨å­˜æ”¯æŒç­‰\nè¦è¯´ç¼ºç‚¹ã€‚ã€‚ã€‚å°±æ˜¯ioså®¢æˆ·ç«¯ æ”¶è´¹ã€‚ã€‚ã€‚ä¸è¿‡æœ‰ç¬¬ä¸‰æ–¹webdav å®¢æˆ·ç«¯è¿™ä¸ªä¹Ÿä¸ç®—å¤ªå¤§ç¼ºç‚¹ã€‚\nä½†æ˜¯ cloudreve è²Œä¼¼ä¸æ”¯æŒé»˜è®¤è·¯å¾„å‚¨å­˜ï¼Œä¹Ÿå°±æ˜¯æ— æ³•å’Œsmbæ— ç¼é…åˆ,è€Œä¸”ä»–çš„æ•°æ®åº“åŠŸèƒ½ä¹Ÿå°±é™åˆ¶äº†ï¼Œä½ è¦ä½¿ç”¨smbçš„è¯ï¼Œå°±å¿…é¡»è¦è¦ å…ˆæŒ‚è½½webdav å†å¼€å¯smbå¥—å¨ƒ\u0026hellip;\nä¹°æ–­çš„è¯ å®é™…æœ€å°‘ä»·æ ¼ æ˜¯ 399 + 398 ä¸ä¾¿å®œï¼Œä¸è¿‡å¥½åœ¨å…è´¹ç‰ˆæœ¬ä¹Ÿå¯ä»¥ç”¨\næœ¬æ–‡ä¸»è¦å†…å®¹\nåˆ©ç”¨ å‡ ä¸ªå¼€æºgolangç¨‹åº æ­å»º è½»é‡ä½†æ˜¯çµæ´»é«˜æ€§èƒ½nas cloudreve æ­å»ºåœ¨çº¿webç½‘ç›˜å’Œwebdavï¼Œacme.shè·å–åŸŸåè¯ä¹¦ï¼ŒrcloneæŒ‚è½½åˆ°æœ¬åœ°ï¼Œsamba wsddæ­å»ºsmbï¼Œopensshæ­å»ºsftp\nalpineçš„é…ç½® å®¿ä¸»æœºå™¨ ä¾æ—§æ˜¯ä½¿ç”¨lxcçš„alpine alpine å®¹å™¨çš„åˆ›å»ºå’ŒåŸºæœ¬é…ç½® ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\nåˆ›å»ºç‰¹æƒå®¹å™¨ 10000 ï¼Œæ¨¡æ¿ alpine 3.17 ï¼Œç£ç›˜0.5G cpu12æ ¸ ï¼Œå†…å­˜ 1024 swap 0 å¼€dhcp å¹¶ä¸”åœ¨é€‰é¡¹é‡Œé¢ æ‰“å¼€ åµŒå¥— å’Œfuseã€‚ æŒ‚è½½ pveä¸Šçš„ç‰©ç†è¿‡æ¥\n1 2 pct set 10000 -mp0 /dev/sda1,mp=/mnt/sda1 pct start 10000 #å¯åŠ¨ å…¶ä»–ä¿®æ”¹æº æ—¶åŒº è¿˜æœ‰å¸¸ç”¨å·¥å…·å®‰è£… å‚è€ƒ https://dev.leiyanhui.com/pve/lxc-nas\nå®‰è£… cloudreve 1 2 3 4 5 6 cd /mnt/sda1 apk add wget wget https://github.com/cloudreve/Cloudreve/releases/download/3.7.0/cloudreve_3.7.0_linux_amd64.tar.gz tar -zxvf cloudreve*.tar.gz rm -rf LICENSE README* cloudreve*.tar.gz ./cloudreve å¯åŠ¨åä¼šè‡ªåŠ¨æ˜¾ç¤º ç«¯å£å’Œ ç”¨æˆ·å¯†ç ç­‰\n1 2 [Info] 02-13 14:38:39 Admin user name: admin@cloudreve.org [Info] 2023-02-13 14:38:39 Admin password: HMLXclhK cloudreve çš„æœ¬æœºå‚¨å­˜ æ˜¯æ”¾åœ¨åŒç›®å½•çš„uploadç›®å½•ä¸‹ï¼Œæ‰€ä»¥ã€‚ã€‚cloudreve å¯ä»¥ç›´æ¥æ”¾åˆ° lxcç›´é€šç¡¬ç›˜é‡Œé¢ã€‚\né…ç½®cloudreveæœ¬åœ°å‚¨å­˜è·¯å¾„ è¿™ä¸ªæ­¥éª¤å¯ä»¥çœç•¥ï¼Œæˆ‘è¿™é‡Œç›´æ¥æ”¾åˆ°äº†/mnt/sda1/ å¹¶åœ¨ å¦å¤–ä¸€ä¸ªå®¹å™¨ä¸­ç”¨duplicati+alist æ•´ä½“å¤‡ä»½sda1 åˆ°é˜¿é‡Œäº‘ç›˜ 1ã€å¢åŠ ä¸€ä¸ªæœ¬åœ°å‚¨å­˜ç­–ç•¥ åç§°â€œæœ¬åœ°æœºæ¢°ç¡¬ç›˜â€ /mnt/sda1/cloudreve/{uid}/{path}\n2ã€ä¿®æ”¹å¯¹åº”ç”¨æˆ·ç»„ å‚¨å­˜ç­–ç•¥ ä¸º â€œæœ¬åœ°æœºæ¢°ç¡¬ç›˜â€\nalpineä¸‹é…ç½®è‡ªåŠ¨å¯åŠ¨å’Œå®ˆæŠ¤ ç”¨supervisor æ›´ç®€å•ä¸€äº›\n1 2 3 apk add supervisor nano rc-update add supervisord boot service supervisord restart åˆå§‹åŒ–é…ç½®æ–‡ä»¶\n1 2 echo_supervisord_conf \u0026gt; /etc/supervisord.conf nano /etc/supervisord.conf ç¼–è¾‘æˆ–è€…æ·»åŠ æ–‡ä»¶æœ«å°¾ä¸¤è¡Œ\n1 2 [include] files = /mnt/sda1/conf/supervisor/*.ini 1 2 mkdir -p /mnt/sda1/conf/supervisor/ nano /mnt/sda1/conf/supervisor/cloudreve.ini æ ¹æ®è‡ªå·±çš„æƒ…å†µé…ç½® æ³¨æ„è¿™ä¸ªæ–‡ä»¶æ˜¯iniæ ¼å¼çš„\n1 2 3 4 5 6 7 8 [program:cloudreve] directory=/mnt/sda1/ command=/mnt/sda1/cloudreve autostart=true autorestart=true ;stderr_logfile=/tmp/cloudreve.err ;stdout_logfile=/tmp/cloudreve.log environment=CODENATION_ENV=prod ç®¡ç†\n1 2 3 4 5 supervisord -c /etc/supervisord.conf supervisorctl start cloudreve supervisorctl restart cloudreve supervisorctl stop cloudreve supervisorctl status cloudreve é…ç½®ssl æˆ‘è¿™é‡Œä¸ºäº†é¿å…éº»çƒ¦ï¼Œç›´æ¥ç”¨cloudreve+acme.sh\nacme.sh å®‰è£… 1 2 apk add curl openssl curl https://get.acme.sh | sh -s email=joyanhui@qq.com acme.sh ä¾èµ–opensslï¼Œå›½å†…æ‰‹åŠ¨å®‰è£…\n1 2 3 4 5 6 apk add wget unzip cd ~ wget https://ghproxy.com/https://github.com/acmesh-official/acme.sh/archive/refs/heads/master.zip unzip mv acme.sh-master .acme.sh rm -rf master.zip .acme.sh/.githu é…ç½®dns æˆ‘è¿™é‡Œç”¨çš„dnspod,å…ˆç™»å½•åˆ° dnspod è´¦å·, ç”Ÿæˆä½ çš„ api id å’Œ api key, è¿™ä¸ªç®€å•ï¼Œè‡ªå·±çœ‹dnspodæ“ä½œå³å¯\n1 vi /etc/profile æœ«å°¾æ·»åŠ \n1 2 3 export DP_Id=\u0026#34;1243354\u0026#34; export DP_Key=\u0026#34;XXXXXXXXXXXXXXXXXXXX\u0026#34; alias acme.sh=/root/.acme.sh/acme.sh å¯ç”¨å’Œæµ‹è¯•\n1 2 source /etc/profile echo $DP_Id åˆ›å»ºè¯ä¹¦ 1 acme.sh --register-account -m joyanhui@qq.com --issue --dns dns_dp -d jia.leiyanhui.com -d *.jia.leiyanhui.com å…¶ä»–å‚æ•°\n1 --server letsencrypt # æ›´æ¢letsencryptè¯ä¹¦ï¼Œé»˜è®¤æ˜¯zerosslçš„ æ£€æŸ¥è®¡åˆ’ä»»åŠ¡, é¡ºå¸¦ä¿®æ”¹ä¸€ä¸‹æ—¶é—´ï¼Œé¿å¼€é«˜å³°æœŸã€‚\n1 2 3 crontab -e ======== 20 14 * * * \u0026#34;/root/.acme.sh\u0026#34;/acme.sh --cron --home \u0026#34;/root/.acme.sh\u0026#34; \u0026gt; /dev/null é…ç½®cloudreve ä½¿ç”¨sslè¯ä¹¦ conf.ini æ·»åŠ ä¸€æ®µ\n1 2 3 4 [SSL] Listen = :5213 CertPath = /root/.acme.sh/jia.leiyanhui.com_ecc/fullchain.cer KeyPath = /root/.acme.sh/jia.leiyanhui.com_ecc/jia.leiyanhui.com.key é‡å¯ supervisorctl restart cloudreve\næ‰“å¼€ https://10.1.1.80:5213/ æŸ¥çœ‹ å½“ç„¶è¯ä¹¦è‚¯å®šæ˜¯æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°è¯ä¹¦å¯¹åº”åˆ°åŸŸåäº†ã€‚\nè¿›é˜¶ æ•°æ®åº“ æ–‡ä»¶å¤šï¼Œæˆ–è€…ç”¨æˆ·æ•°æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½å¯ç”¨mysqlæ•°æ®åº“ã€‚\nåœ¨çº¿ç¼–è¾‘office ä½¿ç”¨wopi https://dev.leiyanhui.com/pve/lxc-nas-office\nå…¶ä»–é—®é¢˜ ç›®å‰cloudreve webdavä¸Šä¼ çš„æ–‡ä»¶ä¸èƒ½è‡ªåŠ¨åˆ›å»ºç¼©ç•¥å›¾ï¼Œä½œè€…è¡¨ç¤º3.8ç‰ˆæœ¬ä¼šä¿®å¤ã€‚\næœ¬æœºæŒ‚è½½webdav ä¸ºsmbå’Œsftpå‡†å¤‡ åˆ›å»ºwebdavå¯†ç  cloudreveçš„webdavå¯†ç æ˜¯ç‹¬ç«‹çš„ï¼Œå¸å·æ˜¯å’Œç”¨æˆ·åçš„é‚®ç®±é€šç”¨çš„ã€‚\nå‰å°ç™»å½•åï¼Œç‚¹å‡» é“¾æ¥ webdav åˆ›å»ºæ–°å¸å·ï¼Œè¾“å…¥å¤‡æ³¨ï¼Œç„¶åå¯†ç æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œç”¨æˆ·åæ˜¯å½“å‰ç”¨æˆ·ã€‚\næŒ‚è½½ rclone davfs2 çš„æŒ‚è½½åæœ‰ä¸€äº›å°é—®é¢˜ï¼Œä¸å¤ªç¡®å®šåŸå› ã€‚æ¨èä½¿ç”¨rclone\n1 2 3 4 5 6 7 curl -O https://downloads.rclone.org/rclone-current-linux-amd64.zip unzip rclone-current-linux-amd64.zip cd rclone-*-linux-amd64 cp rclone /usr/bin/ chown root:root /usr/bin/rclone chmod 755 /usr/bin/rclone rclone config #æŒ‰ç…§æç¤ºåˆ›å»ºä¸€ä¸ªwebdavèŠ‚ç‚¹ åç§° cloudreveï¼Œvendoré€‰æ‹©nextcloudå°±è¡Œï¼ŒæŒ‰ç…§æç¤ºé…ç½®è´¦æˆ·å¯†ç ï¼Œå…¶ä»–é»˜è®¤ rcloneçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹\n1 2 3 4 5 6 [cloudreve] type = webdav url = https://å¤–ç½‘åœ°å€:5213/dav vendor = nextcloud user = ä½ çš„é‚®ç®± pass = åŠ å¯†åçš„å¯†ç  æ‰‹åŠ¨æŒ‚è½½ 1 2 3 mkdir /mnt/dav apk add fuse rclone mount cloudreve:/ /mnt/dav å¼€æœºè‡ªåŠ¨æŒ‚è½½ è¿™é‡Œä¸€æ–¹é¢ éœ€è¦å¼€æœºè‡ªåŠ¨è¿è¡Œï¼Œä¸€æ–¹é¢è¿˜éœ€è¦cloudreveå¯åŠ¨å æ‰å¯ä»¥ã€‚ è¯ä¹¦å¿½ç•¥ --insecure æˆ–è€… -k\n1 2 serv_http_code=`curl -I -k -m 10 -o /dev/null -s -w %{http_code} https://localhost:5213/` echo $serv_http_code åˆ›å»ºä¸€ä¸ªè„šæœ¬ nano /etc/local.d/mount_webdav.start åå°å¯åŠ¨ä¸€ä¸ªè„šæœ¬\n1 sh /mnt/sda1/mount_webdav.sh \u0026amp; chmod +x /etc/local.d/mount_webdav.start ä»¥åŠä¸€ä¸ªshellç”¨æ¥åˆ¤æ–­cloudreveçš„çŠ¶æ€ï¼Œå¦‚æœæ²¡å¯åŠ¨ é‚£ä¹ˆå°è¯•å»å¯åŠ¨ï¼Œä»£ç å¾ˆç®€å•ã€‚\nnano /mnt/sda1/mount_webdav.sh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 while : do serv_http_code=`curl -I -k -m 10 -o /dev/null -s -w %{http_code} https://localhost:5213/` echo \u0026#34;æ£€æŸ¥cloudreveçŠ¶æ€ï¼š\u0026#34;${serv_http_code} if [ \u0026#34;$serv_http_code\u0026#34; -eq \u0026#34;200\u0026#34; ];then if grep -qs \u0026#39;/mnt/dav\u0026#39; /proc/mounts; then echo \u0026#34;å·²ç»æŒ‚è½½ ä¸éœ€è¦åšä»»ä½•äº‹æƒ…\u0026#34; echo \u0026#34;å¤‡ä»½æ•°æ®åº“æ–‡ä»¶\u0026#34; \u0026amp;\u0026amp; cp /root/cloudreve.db /mnt/dav/ else echo \u0026#34;æœªæ›¾æŒ‚è½½ï¼Œå°è¯•æŒ‚è½½\u0026#34; nohup rclone mount cloudreve:/ /mnt/dav \u0026amp; sleep 3 #echo \u0026#34;å¤‡ä»½æ•°æ®åº“æ–‡ä»¶\u0026#34; \u0026amp;\u0026amp; cp /root/cloudreve.db /mnt/dav/ fi else umount /mnt/dav supervisorctl restart cloudreve fi sleep 10 done 1 2 rc-update add local #æ·»åŠ ä¸€ä¸ªlocal service local restart é‡å¯æµ‹è¯•ï¼Œls /mnt/dav åº”è¯¥å¯ä»¥çœ‹åˆ° lost+found é‚£å°±æ˜¯æ²¡é—®é¢˜äº†ã€‚\né…ç½®smb 1 2 3 4 5 6 7 8 apk add samba rc-update add samba smbpasswd -a root # é…ç½®ç”¨æˆ·çš„ smbå¯†ç  æ³¨æ„è¿™ä¸ªç”¨æˆ·å’Œè¿è¡Œcloudreveçš„ç”¨æˆ· å¿…é¡»æ˜¯åŒä¸€ä¸ª å¦åˆ™ä¼šæœ‰æƒé™å†²çªã€‚ apk add wsdd #å‘ç°æœåŠ¡ rc-update add wsdd boot service wsdd restart # åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç»™ pveç”¨ `mkdir /mnt/dav/pve-node` rm -rf /etc/samba/smb.conf \u0026amp;\u0026amp; nano /etc/samba/smb.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # nano /etc/samba/smb.conf ç¼–è¾‘å®Œæˆåé‡å¯ samba start [global] allow insecure wide links = yes workgroup = WORKGROUP dos charset = cp866 unix charset = utf-8 [webdav] path = /mnt/dav writable = yes write list = root valid users = root display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 [sda1] path = /mnt/sda1 writable = yes write list = root valid users = root display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 #ä¸‹é¢è¿™æ®µç»™pveæŒ‚è½½ç”¨ mkdir /mnt/sda1/pve [pve-node] path = /mnt/dav/pve-node writable = yes write list = root valid users = root display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 1 rc-service samba restart #é‡å¯ windowsä¸‹åº”è¯¥å¯ä»¥ç›´æ¥èƒ½è®¿é—®äº†ã€‚å¦‚æœä¸å¯ä»¥ å¯èƒ½éœ€è¦ é‡å¯å‡ æ¬¡ã€‚\nsftpé…ç½® 1 2 3 apk add openssh rc-update add sshd boot service sshd restart å…è®¸root å¯†ç ç™»å½•\n1 2 # nano /etc/ssh/sshd_config æ·»åŠ æˆ–è€…ç¼–è¾‘ä¸‹é¢å†…å®¹ ç„¶åé‡å¯ service sshd restart PermitRootLogin yes ","date":"2023-02-13T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-core-cloudreve/","title":"lxc alpineä¸‹ä½¿ç”¨cloudreveæ›¿ä»£nginxæ­å»ºwebdav å¹¶å¼€å¯smb/nfså’Œsftp "},{"content":"ä¸¤è€…éƒ½æ˜¯è™šæ‹ŸåŒ–å®¹å™¨ï¼Œéƒ½å’Œå®¿ä¸»ä¹‹é—´éš”ç¦»ï¼Œå¹¶ä¸”æœ‰éå¸¸ä½çš„é£é™©è¢«ç»•è¿‡å®¹å™¨éš”ç¦»ã€‚\néƒ½æ”¯æŒæ¡¥æ¥ç‰©ç†ç½‘ç»œï¼Œç›´æ¥æ¥å…¥ä¸Šçº§è·¯ç”±ï¼Œæˆ–è€…ç±»ä¼¼è™šæ‹Ÿæœºé‚£ç§ä»…é™ä¸»æœºçš„ç½‘ç»œé…ç½®ã€‚\nä¸¤è€…åœ¨æ€§èƒ½ä¸Šæ²¡å·®åˆ« éƒ½å¯ä»¥æ–¹ä¾¿çš„å¤‡ä»½å’Œè¿ç§» ä¸¤è€…éƒ½å¯ä»¥æŒ‚è½½ç›®å½•ï¼Œæˆ–è€…æŒ‚åˆ° rawæ ¼å¼çš„è™šæ‹Ÿç£ç›˜å†…ã€‚ å†…æ ¸éƒ½æ˜¯ä½¿ç”¨å®¿ä¸»æœºå†…æ ¸\ndockerï¼š å®šä½ä¸ºåº”ç”¨ç¨‹åºå®¹å™¨ï¼Œdocker è‡³å°‘æœ‰ä¸€ä¸ªç¨‹åºåœ¨å‰ç«¯è¿è¡Œï¼Œä¸ç„¶dockerä¼šç›´æ¥å…³æ‰é€€å‡ºã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŸåˆ™ä¸Šä¸€ä¸ªdockeråªè·‘ä¸€ä¸ªæœåŠ¡ï¼Œæ—©æœŸçš„docker å°±æ˜¯lxc ï¼Œdockeræ–‡ä»¶åˆ†å±‚ï¼Œdockerçš„æ›´æ–°æ˜¯æ•´ä¸ªé•œåƒæ›´æ–°ï¼Œè¦ä¿ç•™çš„æ–‡ä»¶éœ€è¦æå‰æ˜ å°„åˆ°ç›®å½•å¤–éƒ¨ã€‚\ndockerçš„é•œåƒè¶…å¤š ä½¿ç”¨æ–¹ä¾¿\nlxcï¼šå®šä½ä¸ºç³»ç»Ÿå®¹å™¨ï¼Œå¯ä»¥è§†ä½œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œlxcçš„æ–‡ä»¶ä¸åˆ†å±‚ lxcæ²¡æœ‰é•œåƒæ›´æ–°çš„æ¦‚å¿µä»–æœ¬èº«å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç›´æ¥åœ¨ç³»ç»Ÿå†…éƒ¨å‡çº§å¯¹åº”çš„åº”ç”¨æˆ–è€…ç³»ç»Ÿè‡ªèº«ç­‰å³å¯ã€‚\nlxcæ›´ä¸ºçµæ´»ï¼Œlxcå› ä¸ºæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œlxcå†…çš„æ˜¯å¯ä»¥æ­£å¸¸å®‰è£…dockerçš„ å¹¶ä¸”å’Œlxcçš„å®¿ä¸»ä¹‹é—´å®Œå…¨éš”ç¦» lxcçš„é•œåƒè¾ƒå°‘ï¼Œä¸€èˆ¬åªæ˜¯å‡ ä¸ªå¸¸è§å‘è¡Œç‰ˆçš„é•œåƒ\nä¸­å°å›¢é˜Ÿå¦‚ä½•é€‰æ‹©ï¼Ÿ\npveå¹³å°çš„è¯ï¼Œä¸ç”¨è€ƒè™‘ lxc ä¹Ÿå¯ä»¥ ä¸€ä¸ªlxc è·‘ä¸€ä¸ªæœåŠ¡ã€‚ èƒ½ä¸ç”¨dockerçš„ å°±ç›´æ¥lxcå³å¯ã€‚ éœ€è¦dockerçš„ å¯ä»¥lxc é‡Œé¢å®‰è£…docker\nå¦‚æœæ‰€éœ€æœåŠ¡ä¸å¤šï¼Œå¯ä»¥å…¨éƒ¨åœ¨ä¸€ä¸ªlxcé‡Œé¢æå®š\nlxc çš„alpine+docker ç£ç›˜å ç”¨ï¼Œæ¯”è£¸çš„lxc debianè¦å°\n","date":"2023-02-12T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/docker-vs-lxc/","title":"dockerå’Œlxcçš„å¯¹æ¯”å’Œé€‰æ‹©"},{"content":"ç®€å•è¯´ï¼Œæ˜¯éœ€è¦ more_set_headers è¿™ä¸ªæ¨¡å—ï¼Œä¸€èˆ¬æƒ…å†µä¸‹nginxæ²¡æœ‰è‡ªå¸¦\nhttps://github.com/openresty/headers-more-nginx-module\nä»¥alpineä¸‹è½½çš„nginxä¸ºä¾‹\n1 apk add nginx-mod-http-headers-more 1 nginx -V å‘ç°æ˜¯åŠ¨æ€åŠ è½½çš„\n1 find / -name \u0026#34;*more*\u0026#34; æ‰¾åˆ°äº†æ–‡ä»¶ /usr/lib/nginx/modules/ngx_http_headers_more_filter_module.so\nä¿®æ”¹é…ç½®æ–‡ä»¶ nginx.confæ·»åŠ ä¸€è¡Œ\n1 load_module /usr/lib/nginx/modules/ngx_http_headers_more_filter_module.so; nginxç‰ˆæœ¬å¿…é¡»å¤§äº 1.9.11ï¼Œå¦åˆ™éœ€è¦è‡ªå·±ç¼–è¯‘äº†ä¸èƒ½ä½¿ç”¨åŠ¨æ€åŠ è½½äº†\næ–°ç‰ˆalpineçš„nginxé»˜è®¤é…ç½®æ–‡ä»¶ä¼šè‡ªåŠ¨åŠ è½½ /etc/nginx/modules/ è¿™é‡Œçš„é…ç½®æ–‡ä»¶ï¼Œä¸éœ€è¦è‡ªå·± load_module\nè§£å†³ä¸­æ–‡æ–‡ä»¶å¤¹é‡å‘½åé—®é¢˜ å°†è¯·æ±‚å¤´Destinationä¸­çš„httpsæ›¿æ¢ä¸ºhttpï¼Œå¹¶è§£å†³webdavé‡å‘½åä¸­æ–‡æ–‡ä»¶å¤¹çš„ä¹±ç é—®é¢˜ï¼š ä¿®æ”¹é…ç½®æ–‡ä»¶ httpéƒ¨åˆ†\n1 2 3 4 map $http_destination $webdav_dest { ~*https://(.+) http://$1; default $http_destination; } ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶é—®é¢˜ è¿™éƒ¨åˆ†å†…å®¹æ”¾åˆ°serverï¼Œæˆ–è€…httpéƒ¨åˆ†\n1 2 # ä¿®æ”¹åŒ…å¤§å°ä¸Šé™é¿å…ä¸Šä¼ é”™è¯¯ client_max_body_size 10G; å…¶ä»–çš„é—®é¢˜ è¿™éƒ¨åˆ†å†…å®¹æ”¾åˆ° location\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # è§£å†³webdavä¸èƒ½åˆ›å»ºæ–‡ä»¶å¤¹é—®é¢˜ if ($request_method = MKCOL) { rewrite ^(.*[^/])$ $1/ break; } # è§£å†³webdavä¸èƒ½é‡å‘½åé—®é¢˜ if (-d $request_filename) { rewrite ^(.*[^/])$ $1/; set $webdav_dest $webdav_dest/; more_set_input_headers \u0026#39;Destination: $webdav_dest\u0026#39;; } # è§£å†³webdavä¸èƒ½å¤åˆ¶ã€ç§»åŠ¨æ–‡ä»¶é—®é¢˜ if ($request_method ~ (MOVE|COPY)) { more_set_input_headers \u0026#39;Destination: $webdav_dest\u0026#39;; } æœ€ç»ˆé…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 load_module /usr/lib/nginx/modules/ngx_stream_module.so; load_module /usr/lib/nginx/modules/ngx_http_headers_more_filter_module.so; worker_processes auto; events { worker_connections 1024; accept_mutex on; } http { include mime.types; default_type application/octet-stream; keepalive_timeout 75s; gzip on; gzip_min_length 4k; gzip_comp_level 4; client_max_body_size 1024m; client_header_buffer_size 32k; client_body_buffer_size 8m; server_names_hash_bucket_size 512; proxy_headers_hash_max_size 51200; proxy_headers_hash_bucket_size 6400; gzip_types application/javascript application/x-javascript text/javascript text/css application/json application/xml; map $http_upgrade $connection_upgrade { default upgrade; \u0026#39;\u0026#39; close; } map $http_destination $webdav_dest { ~*https://(.+) http://$1; default $http_destination; } server { server_name alist.jia.leiyanhui.com; listen 50443 ssl http2; ssl_certificate /home/nginxWebUI/.acme.sh/jia.leiyanhui.com/fullchain.cer; ssl_certificate_key /home/nginxWebUI/.acme.sh/jia.leiyanhui.com/jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50080; if ($scheme = http) { return 301 https://$host:50443$request_uri; } error_page 497 https://$host:50443; #è§£å†³httpåˆ°sslç«¯å£çš„400é”™è¯¯; client_max_body_size 10G; location / { proxy_pass http://10.1.1.52/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Host $http_host; proxy_set_header X-Forwarded-Port $server_port; proxy_set_header X-Forwarded-Proto $scheme; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_redirect http:// https://; proxy_set_header Range $http_range; # è§£å†³webdavä¸èƒ½åˆ›å»ºæ–‡ä»¶å¤¹é—®é¢˜ if ($request_method = MKCOL) { rewrite ^(.*[^/])$ $1/ break; } # è§£å†³webdavä¸èƒ½é‡å‘½åé—®é¢˜ if (-d $request_filename) { rewrite ^(.*[^/])$ $1/; set $webdav_dest $webdav_dest/; more_set_input_headers \u0026#39;Destination: $webdav_dest\u0026#39;; } # è§£å†³webdavä¸èƒ½å¤åˆ¶ã€ç§»åŠ¨æ–‡ä»¶é—®é¢˜ if ($request_method ~ (MOVE|COPY)) { more_set_input_headers \u0026#39;Destination: $webdav_dest\u0026#39;; } } } } ","date":"2023-02-12T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/nginx-proxy-webdav/","title":"nginx åå‘ä»£ç†webdavçš„é—®é¢˜  æ— æ³•åˆ›å»ºç»­ä¼  é‡å‘½å ç§»åŠ¨ ç­‰é—®é¢˜"},{"content":"æœ¬æ–‡ æ˜¯ pve lxc æ­å»ºnas çš„ç³»åˆ—æ–‡ç«  çš„ä¸€éƒ¨åˆ†ã€‚ å› ä¸ºç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€ä»¥åˆ†å¼€ã€‚\nåŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\næœ¬æ–‡ä¸»è¦å†…å®¹ æœ¬åœ°é‡è¦æ•°æ®çš„å¼‚åœ°å¤‡ä»½ çš„ç›¸å…³è®°å½•ã€‚\nduplicati ä¸æ”¯æŒalpine ç›´æ¥å®‰è£…ï¼Œå®˜ç½‘çš„åŒ…ç”¨çš„ zst å‹ç¼©çš„debï¼Œalpineä¸‹çš„dpkg å¼„ä¸æ­»\nalpine å®¹å™¨çš„åˆ›å»ºå’ŒåŸºæœ¬é…ç½® åŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\nç¡¬ç›˜è¦åˆ†2Gï¼Œduplicatiä½“ç§¯ä¸å°\næŒ‚è½½ç‰©ç†ç¡¬ç›˜ æŸ¥çœ‹å‰é¢çš„alpine å®¹å™¨çš„åˆ›å»ºå’ŒåŸºæœ¬é…ç½®,ç®€å•è¯´å°±ä¸€è¡Œå‘½ä»¤\n1 pct set 10081 -mp0 /dev/sda1,mp=/mnt/sda1 å®‰è£…docker ç‰¹æƒå®¹å™¨å®‰è£…docker éœ€è¦æ‰“å¼€åµŒå¥—ï¼Œå¹¶æ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹cnfæ–‡ä»¶ åŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-docker-err\nalist æŒ‚è½½ç½‘ç›˜ æ”¯æŒå¾ˆå¤šç½‘ç›˜çš„ä¸€ä¸ªå°ç¨‹åºï¼Œé€‚åˆæŠŠç½‘ç›˜è½¬webdavã€‚ç›®å½•åˆ—è¡¨åŠŸèƒ½å¯ä»¥åŠ å¯†ã€‚ alistå…·ä½“å®‰è£…è¿‡ç¨‹æ è¿‡ï¼Œå®˜ç½‘æ–‡æ¡£å¾ˆå…¨ã€‚\ndocker è¿è¡Œ æˆ‘è¿™é‡Œé€‰æ‹©duplicatiï¼Œæ¯”è‡ªå·±å†™shellè„šæœ¬ç®€å•å¾ˆå¤šï¼Œè€Œä¸”æ”¯æŒå¯è§†åŒ–ç•Œé¢ï¼Œæ”¯æŒåŠ å¯†å¤‡ä»½ã€‚\nç¼ºç‚¹æ˜¯ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œä¸ç®—è½»é‡ã€‚ è¿™ä¸ªlxcè¦\n1 2 3 4 5 6 7 8 9 10 11 docker run -d \\ --name=duplicati --hostname=duplicati \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -p 80:8200 \\ -v /root/config-duplicati:/config \\ -v /root/backups-duplicati:/backups \\ -v /mnt/sda1:/mnt/sda1 \\ --restart unless-stopped \\ linuxserver/duplicati:latest backups è¿™ä¸ªç›®å½•æ˜¯æœ¬åœ°å­˜æ”¾å¤‡ä»½çš„ç›®å½•ï¼Œå› ä¸ºæˆ‘ä¸»è¦æ˜¯å¼‚åœ°å¤‡ä»½åˆ° é˜¿é‡Œäº‘ç›˜ å’Œ å¯¹è±¡å‚¨å­˜ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¿æŒé»˜è®¤ source æ˜¯åŸå§‹ç›®å½•ã€‚å¯ä»¥é…ç½®ä¸ºåœ¨å‰é¢æŒ‚è½½è¿‡æ¥çš„ç‰©ç†ç¡¬ç›˜. å› ä¸ºè¿™ä¸ªlxcåªè¿è¡Œè¿™ä¸€ä¸ªdockerï¼Œæ‰€ä»¥80ç«¯å£ç›´æ¥åˆ†ç»™ä»–\né…ç½®duplicati æ‰“å¼€ç½‘é¡µ http://lxcçš„ip+ç«¯å£ ä¾‹å¦‚ http://10.1.1.213/ åˆšåˆšåŠ è½½è¿›æ¥é¡µé¢æ˜¯è‹±æ–‡çš„ï¼Œå…ˆæç¤ºåˆ›å»ºå¯†ç ï¼Œç‚¹yesã€‚ç„¶åç•Œé¢å°±è‡ªåŠ¨è½¬æ¢ä¸­æ–‡äº†ã€‚\nè®¾ç½®å®Œæˆå¯†ç å é‡æ–°ç™»å½•ï¼Œè€Œå æ–°å¢å¤‡ä»½å³å¯ã€‚\næ–‡ä»¶å¯åŠ å¯†åå¤‡ä»½ï¼Œä¹Ÿå¯ä»¥åˆ†å· ä¹Ÿå¯ä»¥å®šæ—¶æ¸…ç†è¿‡æœŸæ•°æ® è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚\n","date":"2023-02-08T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-autobackup/","title":"pveä¸‹ä½¿ç”¨lxc ç›´é€šç¡¬ç›˜æ­å»º nas æœåŠ¡  å…¨é¢æ›¿ä»£ç¾¤æ™– freenas OMV ç­‰  å¼‚åœ°å¤‡ä»½"},{"content":"æœ¬æ–‡ æ˜¯ pve lxc æ­å»ºnas çš„ç³»åˆ—æ–‡ç«  çš„ä¸€éƒ¨åˆ†ã€‚ å› ä¸ºç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€ä»¥åˆ†å¼€ã€‚\nåŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\næœ¬æ–‡ä¸»è¦å†…å®¹ webdav https-git minio s3å¯¹è±¡å‚¨å­˜ æ€æº å¥—sslçš„ç›¸å…³è®°å½•ã€‚\næˆ‘è¿™é‡Œä½¿ç”¨ nginxwebuiçš„ä¿®æ”¹ç‰ˆæœ¬ï¼Œå…·ä½“çœ‹çœ‹ä¹‹å‰æ–‡ç« ç‚¹è¿™é‡Œã€‚è¿™é‡Œåªè®°å½•æœ€ç»ˆé…ç½®æ–‡ä»¶ã€‚\nnginxåä»£æ€æº éœ€è¦wsï¼Œæœ€ç»ˆé…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 server { server_name åŸŸå; listen 50443 ssl http2; ssl_certificate /home/nginxWebUI/.acme.sh/åŸŸå/fullchain.cer; ssl_certificate_key /home/nginxWebUI/.acme.sh/åŸŸå/jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50080; if ($scheme = http) { return 301 https://$host:50443$request_uri; } error_page 497 https://$host:50443; #è§£å†³httpåˆ°sslç«¯å£çš„400é”™è¯¯; location / { proxy_pass http://10.1.1.68/; proxy_redirect http:// https://; } location /ws { proxy_pass http://10.1.1.68; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_redirect http:// https://; proxy_read_timeout 60s; } } nginxåä»£ç½‘ç›˜ç±» éœ€è¦å®‰è£…æ¨¡å— more_set_headers alpineä¸‹åŒ…åç§°nginx-mod-http-headers-more åœ¨nginx.confé…ç½®æ–‡ä»¶çš„httpå—ï¼ˆæ³¨æ„ ä¸æ˜¯ serverå—ï¼‰ä¸­æ·»åŠ mapæŒ‡ä»¤ï¼Œå°†è¯·æ±‚å¤´Destinationä¸­çš„httpsæ›¿æ¢ä¸ºhttpï¼Œå¹¶è§£å†³webdavé‡å‘½åä¸­æ–‡æ–‡ä»¶å¤¹çš„ä¹±ç é—®é¢˜ï¼š\n1 2 3 4 map $http_destination $webdav_dest { ~*https://(.+) http://$1; default $http_destination; } 1 2 3 4 5 6 7 8 9 10 11 12 location / { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Range $http_range; proxy_set_header If-Range $http_if_range; proxy_redirect off; proxy_pass http://127.0.0.1:5244; # the max size of file to upload client_max_body_size 20000m; } ","date":"2023-02-08T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-ssl/","title":"pveä¸‹ä½¿ç”¨lxc ç›´é€šç¡¬ç›˜æ­å»º nas æœåŠ¡  å…¨é¢æ›¿ä»£ç¾¤æ™– freenas OMV ç­‰ æœåŠ¡å¥—ssl"},{"content":"æœ¬æ–‡å·²ç»æ›´æ–°ä¸º ä½¿ç”¨cloudreveå’Œdavfs æ­å»ºå¤šåˆ1 æ–‡ä»¶ä¸­å¿ƒ ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas-core-cloudreve\n2023å¹´6æœˆ30æ—¥ è¡¥å……ï¼šå› cloudreve çš„webuiå…¶å®å®Œæˆåº¦å¹¶ä¸é«˜ï¼Œofficeçš„wopiä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼ŒissuesåŸºæœ¬åœæ»åœ¨ä½ æä½ çš„ä½œè€…è‡ªå·±æœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œæˆ–è€…è¯´å‹æ ¹æ— äººå¤„ç†çš„çŠ¶æ€ã€‚ æˆ‘æœ€ç»ˆé€‰äº†filerun å¹¶æ­ä¸Šäº†filerunçš„æœ€åä¸€ç­å…è´¹10ç”¨æˆ·çš„è½¦ã€‚nextcloud å› ä¸ºwebç•Œé¢ä¸€ç›´å¡å¡çš„æ„Ÿè§‰å¤„äºå¤‡ç”¨çŠ¶æ€ã€‚è‡ªå·±å°è¯•ç”¨go æˆ–è€…rusté‡å†™ä¸€ä¸ªwebuiæ¥ç”¨ï¼Œä½†æ˜¯å°šæœªæœ‰å¤ªå¤šè¿›å±•ã€‚ æ ¸å¿ƒçš„webdav sftp smb æˆ‘å…¨éƒ¨æ”¹ä¸ºrclone serverå®ç°ã€‚å…·ä½“ç«™å†…æœç´¢ã€‚\næœ¬æ–‡ æ˜¯ pve lxc æ­å»ºnas çš„ç³»åˆ—æ–‡ç«  çš„ä¸€éƒ¨åˆ†ã€‚ å› ä¸ºç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€ä»¥åˆ†å¼€ã€‚\nåŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\næœ¬æ–‡ä¸»è¦å†…å®¹ æ˜¯ ç›´é€š ç¡¬ç›˜ ä»¥åŠé…ç½® smb sftp webdav ç›¸å…³ nasçš„åŸºç¡€åº”ç”¨ã€‚\nalpine å®¹å™¨çš„åˆ›å»ºå’ŒåŸºæœ¬é…ç½® åŸæ–‡ç´¢å¼• ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas\nå®‰è£…sudo nano 1 2 3 4 # ç”¨æ›´åŠ è½»é‡çš„doas æ›¿ä»£sudo nanoæ›¿ä»£vi lxc å†…è¿è¡Œ apk add doas nano apk del vim ln -s /usr/bin/doas /usr/bin/sudo #æ›¿ä»£sudo æ·»åŠ ç”¨æˆ· å…ˆæ·»åŠ ä¸€ä¸ªç”¨æˆ· ä½œä¸º ä¸‰ä¸ªæœåŠ¡çš„ç™»å½•ç”¨æˆ· å¹¶ç»™ä»–sudoæƒé™ï¼Œlxc å†…è¿è¡Œ\n1 2 3 adduser -g yanhui adduser yanhui -G wheel #æ·»åŠ ç”¨æˆ¶åˆ°wheel è¾“å…¥å¯†ç  echo \u0026#34;permit persist :wheel\u0026#34;\u0026gt;/etc/doas.d/doas.conf #æŠŠç”¨æˆ·æ·»åŠ åˆ°doas é…ç½®ç£ç›˜ç›®å½•æ‰€æœ‰è€…æƒé™ 1 chown -R yanhui:wheel /mnt/sda1 å¼€å¯é…ç½®sftp smb webdav sftp ç›´æ¥å®‰è£…openssh ï¼Œä¸æ¨èdropbear\n1 2 3 apk add openssh rc-update add sshd boot service sshd restart smb 1 2 3 4 apk add samba rc-update add samba smbpasswd -a yanhui # é…ç½®ç”¨æˆ·çš„ smbå¯†ç  rm -rf /etc/samba/smb.conf \u0026amp;\u0026amp; nano /etc/samba/smb.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # nano /etc/samba/smb.conf ç¼–è¾‘å®Œæˆåé‡å¯ samba start [global] allow insecure wide links = yes workgroup = WORKGROUP dos charset = cp866 unix charset = utf-8 [cloudreve] path = /mnt/sda1 writable = yes write list = yanhui valid users =yanhui display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 #ä¸‹é¢è¿™æ®µç»™pveæŒ‚è½½ç”¨ mkdir /mnt/sda1/pve [pve] path = /mnt/sda1/pve writable = yes write list = yanhui valid users =yanhui display charset = UTF-8 unix charset = UTF-8 dos charset = cp936 1 rc-service samba restart #é‡å¯ windowsèµ„æºç®¡ç†å™¨ æ‰“å¼€ \\\\10.1.1.80â€‹ å³å¯è®¿é—®ï¼Œwindowsæ— æ³•å‘ç°ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰å¼€å§‹ wddsï¼Œéœ€è¦çš„è¯ç»§ç»­\nwsdd wsdd å°±æ˜¯ æ˜¯ smbçš„ç½‘ç»œå‘ç°æœåŠ¡ã€‚alpineä»“åº“è‡ªå¸¦\nhttps://github.com/christgau/wsdd\n1 2 3 apk add wsdd rc-update add wsdd boot service wsdd restart webdav é€‰æ‹©æœ€ç†Ÿæ‚‰çš„nginxæ¥å¤„ç†ã€‚nginxæ­å»ºçš„webdavæœ‰ä¸€äº›å°é—®é¢˜ã€‚ æ¨èä½¿ç”¨ cloudreve\ncloudreveæ­å»ºç½‘ç›˜ ï¼šhttps://dev.leiyanhui.com/pve/lxc-cloudreve\n1 2 apk add nginx nginx-mod-http-dav-ext openssl nginx-mod-http-headers-more echo \u0026#34;yanhui:$(openssl passwd 123456)\u0026#34; \u0026gt;/etc/nginx/.passwords.list # è¿™ä¸ªç”¨æˆ·å’Œç³»ç»Ÿç”¨æˆ·å®Œå…¨ä¸ç›¸å…³,åªæ˜¯é‡å é…ç½®nginxè¿è¡Œç”¨æˆ·\n1 nano /etc/nginx/nginx.conf # æŠŠ user nginx; è¿™è¡Œæ³¨é‡Šæ‰ï¼Œæ·»åŠ ä¸€è¡Œ user yanhui wheel; access_log è¿™è¡Œå¦‚æœä¸éœ€è¦æ—¥å¿—ä¹Ÿæ³¨é‡Šæ‰ nginxä¸€äº›å°é—®é¢˜ é¦–è¡Œæ·»åŠ ä¸€è¡Œ\n1 load_module /usr/lib/nginx/modules/ngx_http_headers_more_filter_module.so; åé¢æ·»åŠ ä¸€æ®µ,httpéƒ¨åˆ†\n1 2 3 4 map $http_destination $webdav_dest { ~*https://(.+) http://$1; default $http_destination; } åˆ›å»ºwebdavç”¨æˆ·ï¼Œé€šè¿‡ä¸Šé¢çš„ngin.conf æˆ‘ä»¬çŸ¥é“ alpineä¸‹é…ç½®æ–‡ä»¶ åœ¨ /etc/nginx/http.d/â€‹\n1 2 mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf-bak nano /etc/nginx/http.d/webdav.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 server { listen 80; #è¿™ä¸ªç«¯å£å·å¦‚æœè¦ç”¨80 éœ€è¦å¦å¤–å¤„ç†ä¸€ä¸‹/etc/nginx/nginx.conf server_name localhost; #æ‰“å¼€ç›®å½•æµè§ˆåŠŸèƒ½ autoindex on; #é»˜è®¤ä¸ºonï¼Œæ˜¾ç¤ºå‡ºæ–‡ä»¶çš„ç¡®åˆ‡å¤§å°ï¼Œå•ä½æ˜¯bytes #æ˜¾ç¤ºå‡ºæ–‡ä»¶çš„å¤§æ¦‚å¤§å°ï¼Œå•ä½æ˜¯kBæˆ–è€…MBæˆ–è€…GB autoindex_exact_size off; #æ—¶é—´æ˜¾ç¤ºé»˜è®¤ä¸ºoffï¼Œæ˜¾ç¤ºçš„æ–‡ä»¶æ—¶é—´ä¸ºGMTæ—¶é—´ã€‚ #æ”¹ä¸ºonåï¼Œæ˜¾ç¤ºçš„æ–‡ä»¶æ—¶é—´ä¸ºæ–‡ä»¶çš„æœåŠ¡å™¨æ—¶é—´ autoindex_localtime on; add_header Cache-Control no-store; #è®©æµè§ˆå™¨ä¸ä¿å­˜ä¸´æ—¶æ–‡ä»¶ # è®¾ç½®ä½¿ç”¨utf-8ç¼–ç ,é˜²æ­¢ä¸­æ–‡æ–‡ä»¶åä¹±ç  charset utf-8; # é»˜è®¤å­˜æ”¾æ–‡ä»¶çš„è·¯å¾„ root /mnt/sda1; auth_basic realm_name; # ç”¨æˆ·å¯†ç æ–‡ä»¶å­˜æ”¾ä½ç½® auth_basic_user_file /etc/nginx/.passwords.list; # dav å…è®¸çš„æ“ä½œ dav_methods PUT DELETE MKCOL COPY MOVE; dav_ext_methods PROPFIND OPTIONS; # åˆ›å»ºæ–‡ä»¶çš„é»˜è®¤æƒé™ dav_access user:rw group:rw all:r; # ä¸´æ—¶æ–‡ä»¶ä½ç½® client_body_temp_path /tmp; # æœ€å¤§ä¸Šä¼ æ–‡ä»¶é™åˆ¶, 0è¡¨ç¤ºæ— é™åˆ¶ client_max_body_size 0; # å…è®¸è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹(å¦‚æœæœ‰éœ€è¦çš„è¯) create_full_put_path on; } 1 2 3 rc-update add nginx rc-service nginx start nginx -s reload # é‡è½½ Windowsä¸‹æŒ‚è½½webdav å»ºè®®ç”¨ç¬¬ä¸‰æ–¹å·¥å…· (RaiDrive CyberDuck WinSCP)ï¼Œ é»˜è®¤ä¸æ”¯æŒ éhttpsï¼Œå¤§æ–‡ä»¶ å†™å…¥æœ‰é—®é¢˜\næ¸…ç†å’Œå¤‡ä»½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/issue echo \u0026#34;==== nas core ====\u0026#34; \u0026gt;\u0026gt; /etc/issue echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/issue echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;==== nas core ====\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;/etc/doas.d/doas.conf\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;/etc/samba/smb.conf \u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;WebDav paswd /etc/nginx/.passwords.list \u0026#34;\u0026gt;\u0026gt; /etc/motd echo \u0026#34;/etc/nginx/nginx.conf\u0026#34;\u0026gt;\u0026gt; /etc/motd echo \u0026#34;/etc/nginx/http.d/webdav.conf\u0026#34;\u0026gt;\u0026gt; /etc/motd echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;rc-service samba restart\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;rc-service nginx restart\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;rc-service sshd restart\u0026#34; \u0026gt;\u0026gt; /etc/motd echo \u0026#34;===========================\u0026#34; \u0026gt;\u0026gt; /etc/motd rm -rf /var/cache/apk/* rm .ash_history poweroff lxc å…³æœºå¤‡ä»½ï¼Œå¤‡ä»½å®Œæˆå ç³»ç»Ÿåªæœ‰åŒºåŒºçš„ 37M èˆ’æœ\nwebdavå¥—ssl æˆ‘è¿™é‡Œç”¨ä¸€ä¸ªå•ç‹¬çš„lxcè¿è¡Œ nginxå’Œacme.sh\nè¯¦æƒ…æŸ¥çœ‹ ï¼šhttps://dev.leiyanhui.com/pve/lxc-ssl\n","date":"2023-02-08T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-nas-core/","title":"pveä¸‹ä½¿ç”¨lxc ç›´é€šç¡¬ç›˜æ­å»º nas æœåŠ¡  å…¨é¢æ›¿ä»£ç¾¤æ™– freenas OMV ç­‰ æ ¸å¿ƒ ä¹‹  smb sftp webdav"},{"content":"pveä¸‹ vm å¯ä»¥åœ¨é€‰é¡¹é‡Œé¢ç›´æ¥ä¿®æ”¹åå­—ï¼Œlxcå®¹å™¨éœ€è¦è‡ªè¡Œä¿®æ”¹æ–‡ä»¶ã€‚\n1 2 /var/lib/lxc/å®¹å™¨çš„idç¼–å·/config /etc/pve/lxc/å®¹å™¨çš„idç¼–å·.conf åªä¿®æ”¹åé¢è¿™ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥\n","date":"2023-02-07T07:10:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-rename/","title":"pve lxc ä¿®æ”¹åå­—"},{"content":"æœ¬æ–‡ä¸é€‚åˆlinuxçº¯å°ç™½ï¼Œå¯¹linuxæœ‰æ‰€äº†è§£çš„å¯ä»¥çœ‹ã€‚\nå›½å†… openwrt esxi pve unraid åŒ…æ‹¬ ç¾¤æ™– ç­‰ ç¾¤ä½“ï¼Œæ˜¯ä¸€ä¸ª æ¯”è¾ƒæœ‰ç‰¹è‰²çš„äººç›¸å¯¹æ¯”è¾ƒé›†ä¸­çš„ç¾¤ä½“ã€‚ã€‚ã€‚ã€‚ åˆ‡è«è½»ä¿¡è¿™äº›ç¾¤é‡Œä¸€äº›äººè¨€ä¹‹å‡¿å‡¿çš„ä¸€äº›è¨€è¯­ã€‚é«˜æ‰‹ å¤ªå¤šäº†\nç¾¤æ™–ç³»ç»Ÿè·ŸWindowsä¸åŒ,Windowsæœ‰ä¸ªç›˜è¦å½“æˆç³»ç»Ÿç›˜,è€Œç¾¤æ™–ä¼šåœ¨æ¯ä¸ªç¡¬ç›˜ä¸Šè‡ªåŠ¨å®‰è£…ç³»ç»Ÿã€‚\nå¯¹äºé»‘ç¾¤æ™–æ¥è¯´ä¹Ÿå°±æ˜¯ ä½ å¯ä»¥åªæ’å…¥ä¸€ä¸ªå¼•å¯¼ç›˜å’Œä¸€ä¸ªæ•°æ®ç›˜å°±å¯ä»¥å¯åŠ¨èµ·æ¥ç¾¤æ™–ã€‚\nä½†æ˜¯åœ¨pveä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ 1å¼•å¯¼ç›˜ 1è™šæ‹Ÿæ•°æ®ç›˜ å¤šlxcå¤–æŒ‚smb/nfsç¡¬ç›˜çš„æ–¹å¼æ¥ä½¿ç”¨ã€‚\nè¿™æ ·ç¾¤æ™–å¯¹æˆ‘ä»¬æ¥è¯´åªæ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„nasç®¡ç†å·¥å…·ã€‚ç¦»å¼€ç¾¤æ™–ï¼Œæˆ‘ä»¬çš„ç¡¬ç›˜ä¾æ—§å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œç”šè‡³ç¾¤æ™–å…³æœºåä¾æ—§ä¸å½±å“æˆ‘ä»¬nasçš„ä½¿ç”¨ã€‚\nç¼ºç‚¹ï¼š 1ã€é—¨æ§›ç•¥é«˜ä¸€ç‚¹ 2ã€ç¾¤æ™–éœ€è¦æ›¿æ¢.soæ–‡ä»¶ 3ã€cpuè¦å‚ä¸ç¾¤æ™–å’Œç‰©ç†ç¡¬ç›˜ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œä¼šå¢åŠ ä¸€ç‚¹è´Ÿè½½ã€‚\nè¿™ç§æƒ…å†µä¸‹çš„ ç¡¬ç›˜çš„åˆ†é… 1ã€å¼•å¯¼ç›˜ï¼Œé»‘ç¾¤æ™–å¿…é¡»çš„ã€‚ 2ã€ç³»ç»Ÿç›˜ï¼Œå°±æ˜¯é»‘ç¾¤æ™–è‡ªèº«çš„ç³»ç»Ÿå®‰è£…çš„ç›˜ï¼Œæ­¤ç›˜å¤šä½™ç©ºé—´ å¯ä»¥ä½œä¸º ç¾¤æ™–çš„å‚¨å­˜æ±  ï¼Œä¹Ÿå°±æ˜¯ä½ å¯ç”¨çš„ç©ºé—´ã€‚è¿™ä¸ªç£ç›˜ç”¨è™šæ‹Ÿç£ç›˜å³å¯ã€‚ 3ã€æ•°æ®ç›˜ Nä¸ª æˆ–è€…raidï¼Œä¸€èˆ¬æ˜¯ç›´é€šè¿‡æ¥çš„ç¡¬ç›˜ï¼Œæˆ–è€… æŒ‚è™šæ‹Ÿç£ç›˜ä¹Ÿå¯ä»¥ã€‚ pveä¸‹å› ä¸ºæœ‰å…ˆå¤©ä¼˜åŠ¿ï¼Œå¦‚æœä½ pveæ€§èƒ½è¿‡å¾—å»ï¼Œå¯ä»¥æŠŠç¡¬ç›˜å…ˆæŒ‚è½½åˆ°lxcå¼€å¯smb/nfsåï¼Œå†æŠŠç›˜ä»¥ä¸‡å…†pveå†…ç½®äº¤æ¢æŒ‚åˆ°ç¾¤æ™–ã€‚\nsmbå’ŒnfsæŒ‚è½½çš„ç›®å½•ï¼Œç¾¤æ™–é»˜è®¤ä¸æ”¯æŒç…§ç‰‡å’Œè§†é¢‘çš„é‚£äº›æ“ä½œï¼Œç½‘ä¸Šæœ‰å¯¹åº”çš„è¡¥ä¸å¯ä»¥å¤„ç†ã€‚\nå¼•å¯¼ç›˜ é€šå¸¸æƒ…å†µä¸‹ï¼Œå¼•å¯¼ç›˜ å¤§å®¶éƒ½æ˜¯ç”¨ arpl çš„imgç›´æ¥è½¬æ¢qcow2ï¼Œç„¶åå¯¼å…¥åˆ°ç¾¤æ™–ä¸­ã€‚\n1 qm importdisk è™šæ‹ŸID arplé•œåƒè·¯å¾„ local --format=qcow2 è¿™ä¸ªç£ç›˜æ˜¯1g å®é™…å ç”¨ç©ºé—´ è¦çœ‹é©±åŠ¨é›†æˆæƒ…å†µã€‚\nç³»ç»Ÿç›˜ ç¾¤æ™– 920+ 7.1.1 42962 å¤§æ¦‚éœ€è¦ 10Gå·¦å³ç©ºé—´ã€‚å®é™… 1Gå¤š ä»–è‡ªå·±ç•™äº†ä¸€éƒ¨åˆ†ç©ºé—´ ç”¨äºå®‰è£…å¥—ä»¶ã€‚ä½äº13Gä¼šå¯¼è‡´ç³»ç»Ÿç›˜ä¸Šæ— æ³•åˆ›å»ºå‚¨å­˜ç©ºé—´ã€‚\nä¼—æ‰€å‘¨çŸ¥çš„ pveçš„å¤‡ä»½åŠŸèƒ½çš„é€Ÿåº¦ å’Œ ç£ç›˜æ ‡æ³¨å®¹é‡æœ‰å…³ç³»ã€‚æ‰€ä»¥è‚¯å®šæ˜¯è¶Šå°è¶Šå¥½ã€‚ æ‰€ä»¥ç³»ç»Ÿç›˜çš„å°ºå¯¸ å¿…é¡»13Gä»¥ä¸Šï¼Œå¦å¤–éƒ¨åˆ†å¥—ä»¶å ç”¨è¿™ä¸ªå‚¨å­˜ç©ºé—´ï¼Œå¥—ä»¶è£…åŸºæœ¬å…¨çš„è¯å·®ä¸å¤šï¼Œå¦å¤–éœ€è¦10Gå·¦å³ç©ºé—´ã€‚ è‡³å°‘å»ºè®®16Gã€‚ çœ‹ä¸ªäººéœ€æ±‚ã€‚ æˆ‘å®é™…ä½¿ç”¨25Gã€‚ è¿™ä¸ªç¬¬äºŒå—ç£ç›˜ï¼ˆç¬¬ä¸€ä¸ªæ˜¯é»‘ç¾¤æ™–å¼•å¯¼ç›˜ï¼‰ï¼Œæ‰¿æ‹…ç¾¤æ™–å¥—ä»¶å’Œå‚¨å­˜å·ï¼Œå§‘ä¸”å°±å«ç³»ç»Ÿç›˜\næ•°æ®ç›˜ çœ‹ä¸ªäººæƒ…å†µã€‚ é‡è¦æ•°æ®ï¼Œä¸€å®šä¸€å®š å¼‚åœ°å¤‡ä»½ã€‚ æ—¢ç„¶æ˜¯å·²ç»pveè¿è¡Œç¾¤æ™–äº†ï¼Œé™¤éä½ pveå®¿ä¸»æ€§èƒ½éå¸¸æ‹‰è·¨ï¼Œå¦åˆ™ä¸å»ºè®®ç¡¬ç›˜ç›´é€šç»™ç¾¤æ™–ã€‚ æ›´çµæ´»æ–¹ä¾¿çš„æ–¹å¼ï¼š ç¡¬ç›˜ç›´é€šç»™lxcå®¹å™¨ï¼Œå¼€smb/nfs/webdav/sftpï¼Œè€Œååœ¨ç¾¤æ™–ä¸­æŒ‚è½½ï¼Œå¹¶æ›¿æ¢ç¾¤æ™–æ–‡ä»¶å®ç° ä¸€äº›ä¸æ”¯æŒçš„å¥—ä»¶ä½¿ç”¨ã€‚ ç³»ç»Ÿç›˜å¯ä»¥ç°è¡Œåœ¨lxcä¸­ç»„raidã€‚å…³äºlxcç³»ç»Ÿçš„é€‰æ‹©ã€‚\nå…³äºç³»ç»Ÿçš„å¤‡ä»½å’Œæ¢å¤ å› ä¸ºæˆ‘ä»¬æ˜¯é»‘ç¾¤æ™–ï¼Œå¼•å¯¼ç›˜å’Œç³»ç»Ÿç›˜ è¦å®šæœŸå¤‡ä»½ï¼Œç¾¤æ™–å…³æœºåç”¨ pveå¤åˆ¶å¯¹åº”çš„qcow2æ–‡ä»¶å‡ºæ¥å³å¯ã€‚\nç³»ç»Ÿé‡è£…åï¼Œé‡æ–°æŒ‚è½½smb/nfså³å¯ã€‚\næ•°æ®ç›˜ç³»ç»Ÿ ç¡¬ç›˜æ ¹æ®è‡ªå·±æƒ…å†µç»„å»ºraid è‡ªå·±çœ‹æƒ…å†µæ¥ï¼Œè½¯ç¡¬éƒ½å¯ä»¥\nlxcç³»ç»Ÿ æŠ€æœ¯ä¸åˆ°ä½å¯ä»¥omvï¼ŒæŠ€æœ¯å¯ä»¥çš„è¯ï¼Œç›´æ¥ alpine / debian è£…smb/nfs/nginx/sshd é…ç½®å¥½æƒé™å’Œç›®å½• å°±å®Œäº†ã€‚\nå…³äº éƒ¨åˆ†å¥—ä»¶ä¸æ”¯æŒ smb/nfsæŒ‚è½½çš„ç›®å½•é—®é¢˜ æ„Ÿè°¢jinlife\n1 2 3 The patch for libsynosdk.so.7 will allow remote NFS/CIFS shared folder be used in VideoStation, AudioStation and Photos etc. cp /volume1/homes/jinlife/libsynosdk.so.7 /usr/lib/ https://github.com/jinlife/Synology_Photos_Face_Patch\nå…³äºæ‹…å¿ƒé»‘ç¾¤æ™–æŒ‚æ‰çš„é—®é¢˜ã€‚ å¦‚æœæ‹…å¿ƒç¾¤æ™–å‡çº§åæ— æ³•ä½¿ç”¨ï¼Œä¸å¦‚ä¸€æ¬¡æ€§å¼„å¥½ä»¥åï¼ŒæŠŠæ‰€æœ‰å¯èƒ½è¦ç”¨çš„å¥—ä»¶é…ç½®å¥½ã€‚ç„¶åæŠŠè™šæ‹Ÿæœºçš„ç¾¤æ™–æ•´æœºå¤‡ä»½ä¸€æ¬¡ã€‚\nå°±æ­¤å…»è€ï¼Œå¤©è’åœ°è€äº†\n","date":"2023-02-06T19:11:20+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-qh-vdisksize/","title":"pve è£…ç¾¤æ™– ç³»ç»Ÿç›˜åˆ†å¤šå¤§åˆé€‚ / pveä¸Šé»‘ç¾¤æ™–çš„æ›´èˆ’æœçš„ä½¿ç”¨å§¿åŠ¿ "},{"content":"ä¸ºä»€ä¹ˆç”¨lxcè¿è¡Œdockerï¼Œå› ä¸ºæ›´è½»é‡ï¼Œç›¸å¯¹vmè¿è¡Œ ç®¡ç†æ›´æ–¹ä¾¿ã€‚ æ¯”å¦‚ å®¶ç”¨ç¯å¢ƒçš„ aioä¸Šï¼Œ å¯ä»¥æŠŠè·¯ç”±å™¨å¸¸ç”¨çš„åŠŸèƒ½ å…¨éƒ¨é›†æˆåˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ªlxcé‡Œé¢ã€‚ pve è·‘vm å†å»è·‘docker è™½ç„¶ä¸Šæ‰‹ç®€å•ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€äº›å…¶ä»–é—®é¢˜ã€‚\nä¹‹æ‰€ä»¥ç”¨lxcå»è¿è¡Œdockerï¼Œå› ä¸ºå¾ˆå¤šè½¯ä»¶åªæœ‰dockerç‰ˆæœ¬ æˆ–ä¸ºäº†éƒ¨ç½²/æ›´æ–°/å¤‡ä»½/æ›´æ–¹ä¾¿ã€‚\næœ€å°åŒ–éƒ¨ç½²docker æ¨¡æ¿é€‰æ‹©alpineï¼Œæ”¹ä¸€ä¸‹ctæºã€‚ä¸æ”¹ä¹Ÿå¯ä»¥ç›´æ¥å»å›½å†…é•œåƒä¸‹è½½ï¼Œä¾‹å¦‚ï¼š https://mirrors.tuna.tsinghua.edu.cn/proxmox/images/system/\n1 https://mirrors.tuna.tsinghua.edu.cn/proxmox/images/system/alpine-3.17-default_20221129_amd64.tar.xz å»æ‰æ— ç‰¹æƒå®¹å™¨çš„å‹¾å·ï¼Œipçš„åœ°æ–¹é€‰æ‹©dhcpï¼Œç„¶åå…ˆä¸å¼€æœºã€‚å…¶ä»–æŒ‰ç…§é»˜è®¤è®¾ç½®å³å¯\nç‚¹é€‰é¡¹ åŠŸèƒ½ï¼Œé€‰ä¸­ fuse å’Œ åµŒå¥—ã€‚ ç¼–è¾‘nano â€‹ /etc/pve/lxc/å®¹å™¨id.conf å…·ä½“æŸ¥çœ‹æœ¬æ–‡ lxc ç‰¹æƒå®¹å™¨ å’Œéç‰¹æƒå®¹å™¨çš„é€‰æ‹© ç« èŠ‚ï¼Œç¼–è¾‘å®Œæˆåå¯åŠ¨ å¯åŠ¨åé€è¡Œè¿è¡Œï¼Œéƒ½æœ‰æ³¨é‡Š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # æ›¿æ¢å›½å†…æº sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories # å®‰è£…æ—¶åŒºè®¾ç½® apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone # å¸è½½æ—¶åŒº apk del tzdata rm -rf /var/cache/apk/* # å®‰è£…docker apk add docker #nano rm -rf /var/cache/apk/* # å¼€æœºå¯åŠ¨å¯åŠ¨docker rc-update add docker boot # æ‰‹åŠ¨å¯åŠ¨docker service docker start # æŸ¥çœ‹dockerç‰ˆæœ¬ docker version è¿™æ ·è¿è¡Œçš„docker ä¸ä¼šæœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œä¹Ÿä¸ä¼šå­˜åœ¨é‚£äº›ä¸€çŸ¥åŠè§£çš„äººè¯´çš„ ä»€ä¹ˆä»€ä¹ˆä¸èƒ½è¿è¡Œçš„é—®é¢˜ã€‚\nlxcæ¨¡æ¿çš„é€‰æ‹© ä¸»è¦æ˜¯ debian/ubuntu å’Œ alpineçš„ äºŒé€‰ä¸€\nå¦‚æœlxc åªæ‰“ç®—ç”¨æ¥è·‘docker é‚£ä¹ˆ è‚¯å®šæ˜¯é¦–é€‰alpineï¼Œalpineå®¿ä¸»lxcåªæœ‰å‡ Mã€‚å¦‚æœè¦è·‘ä¸€äº›édockerçš„è½¯ä»¶ã€‚ æœ‰å‡ ç§æƒ…å†µä¸‹ï¼Œå»ºè®®é€‰ debian/ubuntu\nalpineå› ä¸ºmusl å’Œ rcçš„é—®é¢˜ å’Œéƒ¨åˆ†è½¯ä»¶å…¼å®¹æ€§ä¸å¥½ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å¤„ç†ä¸€äº›ä¸œè¥¿ã€‚ å¦‚æœä½ æ²¡æœ‰æ—¶é—´å¼„é‚£äº› éƒ¨åˆ†è½¯ä»¶çš„å‘è¡Œç‰ˆ ä¸æ”¯æŒalpine æƒ³ç›´æ¥è£…deb lxc ç‰¹æƒå®¹å™¨ å’Œéç‰¹æƒå®¹å™¨çš„é€‰æ‹© æ— ç‰¹æ®Šæƒ…å†µï¼Œé¦–é€‰ç‰¹æƒå®¹å™¨ã€‚ç‰¹æƒå®¹å™¨å¤–æŒ‚pveçš„ç›®å½•æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ç‰¹æƒå®¹å™¨ä¹Ÿæ˜¯æ”¯æŒdockerçš„ã€‚nano â€‹ /etc/pve/lxc/å®¹å™¨id.conf æ·»åŠ ä¸‹é¢å‡ è¡Œ\n1 2 3 lxc.apparmor.profile: unconfined lxc.cgroup.devices.allow: a lxc.cap.drop: lxcå†…è¿è¡Œçš„æœåŠ¡ æ˜¯ç›´æ¥å®‰è£…è¿˜æ˜¯å†å¥—ä¸€æ¬¡docker çœ‹æœåŠ¡çš„è½¯ä»¶æƒ…å†µã€‚ä¼˜é€‰ç›´æ¥å®‰è£…ï¼Œå°¤å…¶æ˜¯ä¾èµ–å¾ˆå°‘çš„æœåŠ¡ã€‚ ä¾‹å¦‚ ddns-go ä½œè€…æä¾›äºŒè¿›åˆ¶åŒ…ï¼Œè€Œä¸”æ”¯æŒalpineï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦å†å¥—dockeräº†ã€‚\nå†æ¯”å¦‚ æ€æºç¬”è®°ï¼Œä½œè€…æ²¡æœ‰æä¾›äºŒè¿›åˆ¶åŒ…ï¼ŒæœåŠ¡ç‰ˆåªæœ‰dockerç‰ˆï¼Œé‚£ä¹ˆå°±è‚¯å®šå°±æ˜¯dockeræ¥è¿è¡Œäº†ã€‚\nå†æ¯”å¦‚ alist ï¼Œå¦‚æœä½ lxcè·‘çš„alpine ï¼Œalistèƒ½è¿è¡Œï¼Œä½†æ˜¯ä¸æ”¯æŒå®‰è£…çš„å¯åŠ¨æœåŠ¡é‡Œé¢ï¼Œé‚£ä¹ˆæ‰‹å†™å¯åŠ¨è„šæœ¬ï¼Œè¿˜æ˜¯ç›´æ¥docker é‚£å°±éšä¾¿ä½ äº†ã€‚\nä¸€ä¸ªlxcé‡Œé¢å¯ä»¥è¿è¡Œå¤šå°‘ä¸ªæœåŠ¡ï¼Œå¤šå°‘ä¸ªdocker æ²¡æœ‰é™åˆ¶ï¼Œä½†lxcä¹Ÿæ˜¯å®¹å™¨ï¼Œé€šå¸¸è€Œè¨€æœ€å¥½ä¹Ÿéµå¾ª ä¸€ä¸ªå®¹å™¨ä¸€ä¸ªæœåŠ¡çš„åŸåˆ™ã€‚ æ¯”å¦‚ lxc 100 è¿è¡Œopenwrt åšæ—è·¯ç”±/ç½‘å…³ lxc 101 è¿è¡Œ mosdns lxc 102 è¿è¡Œ alist lxc 103 è¿è¡Œ rustdesk çš„ä¸¤ä¸ªä¸­ç»§æœåŠ¡ lxc 104 è·‘ä¸€ä¸ªnginx webdavç½‘ç›˜ äº’ç›¸ç‹¬ç«‹ï¼Œè¿™æ ·æœ€åˆç†ï¼Œå¤‡ä»½å’Œç®¡ç†ä¹Ÿæ–¹ä¾¿ä¸€äº›ã€‚ ä½†æ˜¯ä½ å…¨éƒ¨æ”¾åˆ°ä¸€ä¸ªlxcé‡Œé¢ ä¹Ÿæ²¡æ¯›ç—…ã€‚\nlxc åˆ›å»ºé‚£ä¹ˆå¤šå†…å®¹å¤Ÿç”¨å˜›ï¼Ÿ lxc çš„å†…å­˜ æ˜¯ä¸Šé™å†…å­˜ ä¸æ˜¯åˆ†ç»™ä»–å°±å°±å…¨å ç”¨äº†ã€‚ æ‰€ä»¥åˆ›å»ºä½ å‡ åä¸ªlxcï¼Œä½†æ˜¯éƒ½æ²¡æœ‰å¤ªå¤§è´Ÿè½½ï¼Œæ¯ä¸ªéƒ½åˆ†ç»™ä»–10Gå†…å­˜ï¼Œä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚\nlxc é‡Œé¢å¯ä»¥å†å¥—ä¸€æ¬¡pveå˜›ï¼Ÿ ç†è®ºä¸Šå¯ä»¥ï¼Œç›´æ¥å¥—kvm å†å»è·‘ä¸€ä¸ªwindows æ˜¯å¯ä»¥çš„ã€‚\nlxc å†…éƒ¨çš„sshåæ˜ æ…¢ é€‰é¡¹é‡Œé¢ å‹¾é€‰ åµŒå¥— ã€‚é‡å¯å³å¯\nlxc å†…æ— æ³•è¿è¡Œappimage ç¨‹åº é€‰é¡¹é‡Œé¢ å‹¾é€‰ fuse ã€‚é‡å¯å³å¯\nlxc æŒ‚è½½å¤–éƒ¨ç›®å½• æ²¡æœ‰å†™æƒé™ éç‰¹æƒå®¹å™¨éœ€è¦å¤„ç†ç”¨æˆ·æ˜ å°„ï¼Œç‰¹æƒå®¹å™¨å¯ä»¥ç›´æ¥è¯»å†™ã€‚è¯¦æƒ…æŸ¥çœ‹ æœ¬ç«™å†…æ–‡ç« ï¼š https://dev.leiyanhui.com/pve/lxc-mount-dir/\nlxc æ— æ³•ç›´æ¥å¯¼å…¥ openwrtçš„åŒ… å› ä¸ºostype çš„é—®é¢˜ï¼Œpveçš„webuiç•Œé¢æ“ä½œé‡Œé¢ä¸æ”¯æŒè¿™ä¸ªé…ç½®ã€‚ç”¨å‘½ä»¤è¡Œå¯¼å…¥å³å¯,ä¾‹å­ï¼š\n1 2 3 pct create 2008 /var/lib/vz/template/cache/openwrt-dmz-02.05.2023-x86-64-generic-rootfs__1_.tar.gz --arch amd64 \\ --hostname dmz-OpenWrt --rootfs local:2 --memory 2048 -swap 0 --cores 12 --ostype unmanaged \\ --unprivileged 0 -net0 bridge=vmbr0,name=eth0 lxc å¯ä»¥è¿è¡Œå‡ºæ¥ä¸€ä¸ªæ¡Œé¢å˜› å½“ç„¶å¯ä»¥ï¼Œä½ æ­£å¸¸åœ¨lxcé‡Œé¢ å®‰è£…æ¡Œé¢åŒ…å°±okäº†ã€‚æ¯”å¦‚ gnome kde i3w ç­‰ç­‰ éƒ½æ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”å¯ä»¥å¼€æ˜¾å¡åŠ é€Ÿ\nlxc é‡Œé¢å¯ä»¥è¿è¡Œä¸€ä¸ªwindowså˜› å¯ä»¥ï¼Œç”šè‡³ è¿è¡Œä¸€ä¸ªmacoséƒ½æ˜¯å¯ä»¥çš„ã€‚å½“ç„¶å°±æ˜¯å’Œdockeré‡Œé¢è·‘winè·‘macosä¸€æ · éƒ½æ˜¯éœ€è¦ lxc é‡Œé¢å¥—kvmäº†ã€‚\nç°æœ‰è™šæ‹Ÿæœºå¯¼å…¥lxc å¯ä»¥å˜›ï¼Ÿ å¯ä»¥ï¼Œä½†æ˜¯ä»…é™linuxè™šæ‹Ÿæœº ï¼š https://dev.leiyanhui.com/pve/kvm-to-lxc/\n","date":"2023-02-06T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/docker-mini/","title":"pve ç”¨lxcå®¹å™¨è¿è¡Œdockeræœ€å°åŒ–éƒ¨ç½²ï¼Œä»¥åŠlxcæ‰€æœ‰é—®é¢˜æ±‡æ€»ï¼"},{"content":"ä¸»è¦æœ‰ä¸¤ç§æƒ…å†µï¼Œ1ç‰¹æƒå®¹å™¨ 2 æ— ç‰¹æƒå®¹å™¨\nç‰¹æƒå®¹å™¨ å¦‚æœlxcåˆ›å»ºçš„æ—¶å€™ æ²¡æœ‰å‹¾é€‰ æ— ç‰¹æƒå®¹å™¨ é‚£ä¹ˆç›´æ¥æŒ‚è½½å³å¯\nä¾‹å¦‚ lxc çš„idæ˜¯50443(å°±æ˜¯pveé‡Œé¢æ˜¾ç¤ºçš„è™šæ‹Ÿæœºå’Œctçš„é‚£ä¸ªæ•°å­—) ï¼Œè¦æŠŠpveçš„ /nvme/lxc_mount/nginxWebUIæŒ‚è½½åˆ°lxcå®¹å™¨é‡Œé¢çš„ /home/nginxWebUI\nèŒƒä¾‹æŒ‚è½½è¿™ä¸ªç›®å½•å‡ºæ¥æ˜¯ä¸ºäº†pveèƒ½ä½¿ç”¨nginxwebuiè‡ªå·±ç­¾åçš„sslè¯ä¹¦ï¼Œä»¥åŠå…¶ä»–æœåŠ¡ä¹Ÿå¯ä»¥ç”¨ã€‚\n1 pct set 50443 -mp1 /nvme/lxc_mount/nginxWebUI,mp=/home/nginxWebUI æ‰§è¡Œå®Œæˆå ä¸éœ€è¦é‡å¯ å³å¯ç”Ÿæ•ˆã€‚ ä¸Šé¢çš„å‘½ä»¤ç­‰åŒ åœ¨ /etc/pve/lxc/50443.conf æ·»åŠ ä¸€è¡Œ\n1 mp1: /nvme/lxc_mount/nginxWebUI,mp=/home/nginxWebUI å¾€åå°±mp1ã€mp2ã€mp3 ã€‚ã€‚ã€‚ã€‚\néç‰¹æƒå®¹å™¨ åŸºäºå®‰å…¨æ€§è€ƒè™‘ï¼Œä»¥åŠåµŒå¥—dockerçš„æ—¶å€™çš„ä¸€äº›é—®é¢˜ï¼Œåˆ›å»ºctå®¹å™¨çš„æ—¶å€™ï¼Œé€šå¸¸ä½¿ç”¨éç‰¹æƒå®¹å™¨ã€‚ è¿™ä¸ªæ—¶å€™ç›´æ¥æŒ‚è½½çš„ç›®å½•å¯èƒ½ä¼šæœ‰æƒé™é—®é¢˜ã€‚ å…¶å®å¯ä»¥ç”¨ç‰¹æƒç”¨æˆ·è¿è¡Œdocker æŸ¥çœ‹ : http://dev.leiyanhui.com/pve/kxc-docker-err\næŸ¥çœ‹rootç”¨æˆ·æƒ…å†µ 1 2 3 4 grep root /etc/subgid /etc/subuid ------------- /etc/subgid:root:100000:65536 /etc/subuid:root:100000:65536 rootçš„ä»å±ç”¨æˆ·èµ·å§‹idä¸º100000ï¼Œæ•°é‡65536ä¸ªã€‚\nä¿®æ”¹lxcçš„ç”¨æˆ· æŠŠlxcé‡Œé¢çš„ç”¨æˆ·æ˜ å°„åˆ°pveçš„rootç”¨æˆ·\nå®¹å™¨å†…root(id=0)æ˜ å°„ä¸ºpve æœåŠ¡å™¨id 100000ï¼Œé€’å¢65536ä¸ªï¼Œå³å®¹å™¨å†…ç”¨æˆ·id 0-65535å¯¹åº”æœåŠ¡å™¨100000-165535 nano /etc/pve/lxc/50443.conf æ·»åŠ ä¸¤è¡Œ\n1 2 lxc.idmap: u 0 100000 65536 lxc.idmap: g 0 100000 65536 é…ç½®ç›®å½•æƒé™ å°†æŒ‚è½½ç›®å½•è®©å®¹å™¨å†…rootå¯è¯»å†™çš„è¯åœ¨æœåŠ¡å™¨å†…å°†æ‰€æœ‰è€…æ›´æ”¹ä¸ºid 100000ã€‚\n1 chown -R 100000:100000 /nvme/lxc_mount/nginxWebUI å¯¹åº”ç›®å½•ä¸å¯ä»¥æ˜¯élinuxåŸç”Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”å¦‚ntfs exfatå‡ä¸å¯ä»¥\npveä¸Šæ˜ å°„ç”¨æˆ· æ˜ å°„pveç”¨æˆ·ï¼ŒæœåŠ¡å™¨å’Œå®¹å™¨å†…æœ‰ç›¸åŒIDçš„ç”¨æˆ·ã€‚ nano /etc/subuid æ·»åŠ ä¸€è¡Œ\n1 lxc.idmap = u 1000 1000 1 nano /etc/subgid æ·»åŠ ä¸€è¡Œ\n1 lxc.idmap = g 1000 1000 1 æœ¬æ–‡å‚è€ƒï¼šhttps://www.haiyun.me/archives/1419.html\n","date":"2023-02-04T07:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-mount-dir/","title":"pve lxc æŒ‚è½½å®¿ä¸»æœº ç›®å½• æœ€ç®€å•æ–¹æ³• ï¼ˆç‰¹æƒå®¹å™¨ï¼‰"},{"content":"é”™è¯¯æç¤º 1 2 docker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: unable to apply caps: operation not permitted: unknown. ERRO[0005] error waiting for container: context canceled å…ˆè¿è¡Œ hello word è¯•è¯•\n1 docker run hello-world è¿™ä¸ªé—®é¢˜ å‘ç”Ÿåœ¨ ç‰¹æƒå®¹å™¨ä¸Š.\nç®€å•çš„è§£å†³æ–¹æ³• - éç‰¹æƒå®¹å™¨ ä¸ä½¿ç”¨ç‰¹æƒå®¹å™¨\nç„¶åå…³äºéç‰¹æƒå®¹å™¨çš„ ç›®å½•æŒ‚è½½ æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥æŸ¥çœ‹\næŸ¥çœ‹ (http://dev.leiyanhui.com/pve/lxc-mount-dir)[http://dev.leiyanhui.com/pve/lxc-mount-dir]\nä½¿ç”¨ ç‰¹æƒå®¹å™¨ ä½¿ç”¨ç‰¹æƒå®¹å™¨ å…¶å®æ˜¯å¯ä»¥å®‰è£…dockerçš„ï¼Œåˆ›å»ºçš„lxcçš„æ—¶å€™ å»æ‰ æ— ç‰¹æƒå®¹å™¨çš„ å‹¾é€‰ï¼Œåˆ›å»ºå®Œæˆå åœ¨é€‰é¡¹é‡Œé¢ åŠŸèƒ½ å‹¾é€‰ä¸Š åµŒå¥— åœ¨lxcçš„é…ç½®æ–‡ä»¶ æ·»åŠ ä¸‰è¡Œ å¯ä»¥ç”¨ç‰¹æƒå®¹å™¨å¼€å¯docker /etc/pve/lxc/å®¹å™¨id.conf\n1 2 3 lxc.apparmor.profile: unconfined lxc.cgroup.devices.allow: a lxc.cap.drop: å¦å¤– pveçš„webuié‡Œé¢ è¿™ä¸ªå®¹å™¨ä¹Ÿè¦æ‰“å¼€åµŒå¥—ï¼Œä¹Ÿå°±æ˜¯confæ–‡ä»¶é‡Œé¢è¦æœ‰ features: nesting=1\nå®‰è£docker ä»¥alpineä¸ºä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add docker #nano rm -rf /var/cache/apk/* rc-update add docker boot service docker start docker version ","date":"2023-02-04T07:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/lxc-docker-err/","title":"pve lxc é‡Œé¢è¿è¡Œdockerçš„ä¸€äº›é”™è¯¯"},{"content":"pveè¿è¡Œdockerï¼Œæ¯ç³»ç»Ÿä½¿ç”¨lxcçš„alpineæ˜¯å¤šæ•°æƒ…å†µä¸‹çš„æœ€ä½³é€‰æ‹©äº†ã€‚\nåŸå› ï¼šä½“ç§¯å°ï¼Œå ç”¨èµ„æºå°ï¼Œå¯åŠ¨å¿«ã€‚ å¯ä»¥ä¸€ä¸ªlxcè¿è¡Œä¸€ä¸ªdockeræœåŠ¡ã€‚\nç¼ºç‚¹ï¼šmusl å’Œ gcc æœ‰ä¸€äº›ä¸å…¼å®¹ï¼Œä¸è¿‡è¿™å¯¹ä½¿ç”¨dockeræ²¡æœ‰ä»»ä½•å½±å“ã€‚\n1 2 3 4 5 6 7 8 9 10 # é…ç½®æºå’Œæ—¶åŒº alpineå†…è¿è¡Œ sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime echo \u0026#34;Asia/Shanghai\u0026#34; \u0026gt; /etc/timezone apk del tzdata rm -rf /var/cache/apk/* # vimæ›¿æ¢ä¸ºnano apk add nano apk del vim \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vim \u0026amp;\u0026amp; rm -rf /usr/bin/vi \u0026amp;\u0026amp; ln -s /usr/bin/nano /usr/bin/vi 1 2 3 4 5 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories #æ›¿æ¢æº apk add docker #nano # å®‰è£…docker å’Œ nano rc-update add docker boot # å¼€æœºå¯åŠ¨å¯åŠ¨ service docker start # å¯åŠ¨ docker version # æŸ¥çœ‹ç‰ˆæœ¬ å¦‚æœæ˜¯ç‰¹æƒå®¹å™¨ï¼Œéœ€è¦ä¿®æ”¹lxcçš„é…ç½®\nå¦‚æœè¦æŒ‚è½½ç›®å½•ï¼Œæœ€å¥½è¦ç”¨ç‰¹æƒåˆ›å»ºï¼Œå¹¶å¼€å¯åµŒå¥—ï¼Œç„¶ååœ¨lxcçš„é…ç½®æ–‡ä»¶ æ·»åŠ ä¸‰è¡Œ å¯ä»¥ç”¨ç‰¹æƒå®¹å™¨å¼€å¯docker â€‹ /etc/pve/lxc/å®¹å™¨id.conf\n1 2 3 lxc.apparmor.profile: unconfined lxc.cgroup.devices.allow: a lxc.cap.drop: ","date":"2023-02-04T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/alpine-docker/","title":"alpine ä¸€é”®å®‰è£…docker"},{"content":"å› ä¸º å®‰å“å’Œios éƒ½é»˜è®¤æ”¯æŒipsec è€Œä¸éœ€è¦å¦å¤–å®‰è£…è½¯ä»¶ã€‚æ‰€ä»¥ ä½œä¸ºå†…ç½‘æœåŠ¡ä½¿ç”¨è¿˜æ˜¯éå¸¸æ–¹ä¾¿ã€‚\nåŠ ä¸Šä¹‹å‰openwrtè¿ç§»åˆ°lxcåï¼Œå‘ç°è‡ªå¸¦çš„ipsec æœ‰é—®é¢˜ã€‚æ‰€ä»¥å¹²è„†lxcå•ç‹¬è¿è¡Œä¸€ä¸ªï¼Œç‹¬ç«‹è¿è¡Œ å¤‡ä»½å’Œä½¿ç”¨éƒ½æ–¹ä¾¿å¤ªå¤šäº†ã€‚\nlxc ä¹Ÿåº”è¯¥éµå®ˆ one å®¹å™¨ one server\nåºŸè¯åˆ°æ­¤ä¸ºæ­¢\nåˆ›å»º ä¸€ä¸ªlxc æ¯ç›˜ æˆ‘é€‰çš„ alpine 3.16 , dhcpåˆ†é…ipï¼Œç„¶ååœ¨dhcpè·¯ç”±ä¸Šç»‘å®šé™æ€ip ã€‚ ç³»ç»Ÿç›˜1gå°±å¤Ÿç”¨ å†…å­˜éšä¾¿ç»™ä¸€ç‚¹ swapå…³é—­ï¼Œcpuç»™12æ ¸å¿ƒ è¿è¡Œä¸€ä¸‹å‘½ä»¤å…ˆå®‰è£…é…ç½®docker\nä¹‹æ‰€ä»¥lxcå¥—docker æ˜¯å› ä¸ºæ‡’å¾—æŠ˜è…¾ï¼Œè€Œä¸”alpineä½“ç§¯å¾ˆå°ã€‚\n1 2 3 4 5 sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g\u0026#39; /etc/apk/repositories apk add docker rc-update add docker boot service docker start docker version å‡†å¤‡é…ç½®æ–‡ä»¶ ä¸‹é¢çš„å‘½ä»¤ è¦ä¸€æ¬¡æ€§è¾“å…¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 cat \u0026gt; /root/ipsec.env \u0026lt;\u0026lt;EOF # Define your own values for these variables # - DO NOT put \u0026#34;\u0026#34; or \u0026#39;\u0026#39; around values, or add space around = # - DO NOT use these special characters within values: \\ \u0026#34; \u0026#39; # pskå¯†é’¥ VPN_IPSEC_PSK=å¯†é’¥ # é…ç½®ç”¨äºç™»é™†VPNçš„è´¦å·å’Œå¯†ç  VPN_USER=ä¸»ç”¨æˆ·å VPN_PASSWORD=ä¸»ç”¨æˆ·åçš„å¯†ç  # å¦‚ä¸‹åº”è¯¥å¡«å†™æœ¬æœºçš„å¤–ç½‘IP ä¸å¼ºåˆ¶ # VPN_PUBLIC_IP=10.1.1.45 # (Optional) Define additional VPN users # - Uncomment and replace with your own values # - Usernames and passwords must be separated by spaces # é…ç½®é¢å¤–çš„ç”¨æˆ·åå’Œå¯†ç  VPN_ADDL_USERS=ç”¨æˆ·2 ç”¨æˆ·3 VPN_ADDL_PASSWORDS=ç”¨æˆ·2çš„å¯†ç  ç”¨æˆ·3çš„å¯†ç  # (Optional) Use alternative DNS servers # - By default, clients are set to use Google Public DNS # - Example below shows using Cloudflare\u0026#39;s DNS service VPN_DNS_SRV1=1.1.1.1 VPN_DNS_SRV2=223.6.6.6 EOF å¯åŠ¨docker 1 2 3 4 5 6 7 8 9 10 docker run \\ --name ipsec --network=host \\ --env-file /root/ipsec.env \\ --restart=always \\ -v ikev2-vpn-data:/etc/ipsec.d \\ -v /lib/modules:/lib/modules:ro \\ -p 500:500/udp \\ -p 4500:4500/udp \\ -d --privileged \\ hwdsl2/ipsec-vpn-server æŸ¥çœ‹çŠ¶æ€ 1 docker exec -it ipsec ipsec status æŸ¥çœ‹ç”¨æˆ·é“¾æ¥ 1 docker exec -it ipsec ipsec whack --trafficstatus æµ‹è¯•å’Œå…¬ç½‘è®¿é—® ä¸»è·¯ç”±ä¸Š æˆ–è€… dmzä¸Šï¼Œåˆ›å»º ç«¯å£æ˜ å°„ 500 å’Œ4500 ä¸¤ä¸ªç«¯å£çš„ udpå³å¯ã€‚\nå¤‡ä»½ lxc å®¹å™¨ï¼Œç›´æ¥åœ¨pveåå°å¤‡ä»½å³å¯\næ›´å¤š æŸ¥çœ‹ä½œè€…çš„ï¼šhttps://github.com/hwdsl2/docker-ipsec-vpn-server/blob/master/docs/advanced-usage-zh.md\n","date":"2023-02-03T16:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/ipsec/","title":"pveä¸‹ä»¥lxcæ¨¡å¼è¿è¡Œ ipsec ï¼ˆå¥—dockerï¼‰"},{"content":"å¦‚æœæ˜¯linux ä¸éœ€è¦æ˜¾ç¤ºå±æ˜¾ç¤ºçš„è¯ï¼Œå»ºè®®lxcè¿è¡Œã€‚\nå¯¹æ¯” lxc å’Œ è™šæ‹Ÿæœºkvmå¯¹æ¯” lxcæ²¡åŠæ³•æ”¯æŒ macos win ä»¥åŠé»‘ç¾¤æ™– çˆ±å¿«ç­‰éå¸¸è§„ç³»ç»Ÿï¼Œæ”¯æŒå¸¸è§linuxç±»æœåŠ¡ï¼Œæ”¯æŒåµŒå¥—docker\nlxc æ”¯æŒçƒ­å¤‡ä»½\nlxc æ€§èƒ½æ›´é«˜ï¼Œå‡ ä¹å°±æ˜¯åŸå£°æ€§èƒ½ï¼Œå°¤å…¶æ˜¯æ˜¯éœ€è¦ç¡¬ä»¶çš„æœåŠ¡ï¼Œä¾‹å¦‚ openwrt jellyfin ç­‰å·®è·å¾ˆå¤§\nkvmå¤šäº†ä¸€å±‚è½¬æ¢ï¼Œæ€§èƒ½ç•¥ä½äºlxcï¼Œéƒ¨åˆ†æƒ…å†µä¸‹å·®è·å¾ˆå¤§ï¼ ä¾‹å¦‚ openwrt\nlxc å’Œ docker å¯¹æ¯” lxc å’Œdocker å·®ä¸å¤šã€‚\nlxc æ²¡æœ‰åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨é¢‘ç¹éœ€è¦ä¿®æ”¹ä¸œè¥¿ä¸Šã€‚æ¯”å¦‚æ•°æ®åº“ï¼Œopenwrtè¿™ç§ç»å¸¸ä¿®æ”¹é…ç½®çš„æœåŠ¡ä¸Šï¼Œæ›´é€‚åˆã€‚\nlxc å¯ä»¥åœ¨åˆ›å»ºå®Œæˆå ä¿®æ”¹æŒ‚è½½ ç”šè‡³ä¸éœ€è¦ä¸­æ–­æœåŠ¡\nlxc åœ¨pveä¸Š çº¦ç­‰äºä¸€ä¸ªç‹¬ç«‹çš„ linuxè™šæ‹Ÿæœºï¼Œæ¯”dockerçš„æ›´å®Œæ•´\npveä¸Šçš„lxc åœ¨ç½‘ç»œé…ç½®ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨æ¡¥æ¥æ¥å…¥å®¿ä¸»æœºå™¨ç‰©ç†ç½‘ç»œ\nlxc å¯ä»¥ç‹¬ç«‹ä¸”ç®€å•æ–¹ä¾¿çš„åµŒå¥—docker docker ä¼˜åŠ¿ï¼šæ›´å¤šçš„åŸå§‹é•œåƒçš„æ”¯æŒ\nä½†æ˜¯åœ¨pveä¸‹ å› ä¸ºè‡ªå¸¦lxcçš„æ”¯æŒï¼Œæ‰€ä»¥èƒ½ç”¨lxcè·‘çš„ å°±ä¸è¦éº»çƒ¦dockeräº†ã€‚ å®è¦ç”¨docker å¯ä»¥ lxcå¥—docker æˆ–è€… pveç›´æ¥è£…docker éƒ½å¯ä»¥ã€‚\nlxc æœ‰ä¸€ä¸ªå°å°çš„ç¼ºç‚¹ï¼š æ— ç‰¹æƒå®¹å™¨ å¤–æŒ‚ç›®å½•æœ‰æƒé™é—®é¢˜è¦å¤„ç†å¦åˆ™åªèƒ½åªè¯»ï¼Œç‰¹æƒå®¹å™¨è·‘dockeræœ‰ä¸€ç‚¹ç‚¹é—®é¢˜ï¼Œéœ€è¦é¢å¤–å¤„ç†ã€‚ä½ å¯ä»¥åœ¨æœ¬ç«™æ‰¾åˆ°ç›¸å…³æ•™ç¨‹ã€‚\npveå®˜ç½‘å»ºè®® åŸæ–‡\n1 If you want to run application containers, for example, Docker images, it is recommended that you run them inside a Proxmox Qemu VM. This will give you all the advantages of application containerization, while also providing the benefits that VMs offer, such as strong isolation from the host and the ability to live-migrate, which otherwise isnâ€™t possible with containers. å¤§æ¦‚å°±æ˜¯è¯´ vmè·‘docker è¿ç§»æ€§å’Œå¼ºåˆ¶éš”ç¦»æ•ˆæœæ›´å¥½ã€‚\nå®é™…ä½¿ç”¨ä¸­ï¼Œä½ ä¼šå‘ç° lxcå¥—docker ä¸€ä¸ªlxc è·‘ä¸€ä¸ªalpine å¥—1-Nä¸ªæ›´æ–¹ä¾¿ã€‚ä¸€äº›å®¶ç”¨å¿…é¡»æœ‰çš„æœåŠ¡ï¼Œæ¯”å¦‚ ipsec nginxåä»£\nå…³äºlxc å¯¼å…¥çš„æ ¼å¼ å°±æ˜¯å¸¦æƒé™çš„å‹ç¼©åŒ…ï¼Œæ¯”å¦‚ tar gz zstç­‰æ ¼å¼ã€‚æ‰€ä»¥ æ— è®ºåŸå§‹æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬åªè¦æœ€ç»ˆ æ‰“åŒ…æ–‡ä»¶å°±å¯ä»¥äº†ã€‚\nè™šæ‹Ÿæœº è™šæ‹Ÿæœºå¦‚æœå¯ä»¥å…³æœºçš„è¯ï¼Œç›´æ¥è½¬æ¢åŸæ¥ç£ç›˜æ–‡ä»¶ä¸ºimgå³å¯ï¼Œqcow2 ä¹Ÿå¯ä»¥ç›´æ¥åœ¨pveä¸‹æŒ‚è½½ï¼Œä¸‹é¢ä»¥imgä¸ºä¾‹ã€‚ å…¶ä»–æ ¼å¼ åŒ…æ‹¬ vmware å’Œ virtualboxçš„ éƒ½å¯ä»¥è½¬æ¢ã€‚\n1 2 3 4 5 6 7 cd /var/lib/vz/template/cache mkdir op root_partition=$((`fdisk -l op.img | grep .img2 | awk \u0026#39;{print $2}\u0026#39;` * 512)) mount -o loop,offset=$root_partition op.img /var/lib/vz/template/cache/op cd op \u0026amp;\u0026amp; tar zcf /var/lib/vz/template/cache/op.tar.gz * \u0026amp;\u0026amp;cd .. # æ‰“åŒ…è‡³PVEä¸­LXCæ¨¡æ¿è·¯å¾„ umount op \u0026amp;\u0026amp; rm -rf op #rm -rf å›ºä»¶åç§°.img æœ€ç»ˆæ‹¿åˆ°å‹ç¼©åŒ… op.tar.gzï¼Œç„¶åå°±å¯ä»¥ç›´æ¥åœ¨pve åˆ›å»ºctå®¹å™¨äº†ã€‚\nå¦‚æœæ˜¯ openwrtç­‰ç³»ç»Ÿï¼Œå¯èƒ½è¿˜éœ€è¦å¦å¤–å¤„ç†ä¸€ä¸‹ã€‚ å‚è€ƒï¼šhttps://dev.leiyanhui.com/openwrt/pve-lxc-install-op/\næ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº å¦‚æœæ˜¯pveçš„è¯ï¼Œç›´æ¥å¤‡ä»½ï¼Œç„¶å å†å¯¼å…¥åˆ°è™šæ‹Ÿæœºï¼Œç„¶åå†å¤„ç†ç£ç›˜å³å¯ã€‚\nå‚è€ƒï¼šhttps://dev.leiyanhui.com/openwrt/pve-lxc-install-op/\ndockerçš„è¯ï¼Œç›´æ¥å¯¼å‡º 1 2 docker save -o centos. tar centos:latest #å°†centos:latest é•œåƒå¯¼å‡º ä¸ºcentos. tar docker export debian-go-codeserver-git \u0026gt; debian11-for-sshd.tar # å°†æ­£åœ¨è¿è¡Œçš„å®¹å™¨ ä¸ä¿ç•™å†å²è®°å½• ç›´æ¥å¯¼å‡º éƒ¨åˆ†å®¹å™¨ å¯¼å‡ºçš„åçš„ å‹ç¼©åŒ…ä¸èƒ½ç›´æ¥å¯¼å…¥åˆ°lxcï¼Œå»ºè®® lxc åµŒå¥—docker\n","date":"2023-02-03T12:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/kvm-to-lxc/","title":"pveä¸‹è™šæ‹Ÿæœºkvmè½¬lxc dockerè½¬lxc æ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºä¹Ÿå¯ä»¥ï¼Œ ä»¥åŠlxcå’Œdocker kvmä¹‹é—´çš„å¯¹æ¯”"},{"content":" æœ¬æ–‡æ˜¯æ—è·¯è·¯ç”±æ¨¡å¼ï¼Œä¸»è·¯ç”±æ¨¡å¼ è¯·æµè§ˆ ï¼š https://dev.leiyanhui.com/openwrt/lxc-mian-op/\npve æ²¡æœ‰é»˜è®¤dockerï¼Œéœ€è¦å•ç‹¬å®‰è£…ã€‚é€šå¸¸ä¸æ¨èè¿™æ ·åšã€‚åŸå› æ˜¯é‚£ä¸ªå°½é‡ä¸åŠ¨pveè‡ªèº«çš„åŸåˆ™ã€‚ä¸€èˆ¬åœ¨å¤§é‡ä½¿ç”¨å®¹å™¨çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨lxc å¼€å¯ä¸€ä¸ªdebian11ï¼Œç„¶ååœ¨é‡Œé¢å®‰è£…dockerã€‚ æˆ–è€…å¹²è„†å¼€ä¸€ä¸ª alpineè™šæ‹Ÿæœºã€‚\né‚£ä¹ˆopenwrt å› ä¸ºè¦æ¥ç®¡æˆ‘ä»¬ç½‘ç»œçš„ç½‘å…³ï¼Œæœ€å¥½åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨é‡Œé¢è¿è¡Œã€‚ ç”¨è™šæ‹Ÿæœºæ–¹å¼è·‘openwrt ï¼Œåœ¨å†…ç½‘æ²¡äººä¸‹è½½ä¸œè¥¿çš„æ—¶å€™ï¼Œå®ƒä¾æ—§ä¼šåƒç›¸å½“ä¸€éƒ¨åˆ†cpuï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨lxcæ–¹å¼åˆé€‚ï¼Œå…¶æ€§èƒ½å°±æ˜¯ä½ ç‰©ç†æœºçš„æ€§èƒ½\nå¦å¤–lxc æ²¡æœ‰dockerçš„å±‚æ¦‚å¿µï¼Œæ‰€ä»¥éå¸¸é€‚åˆè¿è¡Œè¿™ç§ç‹¬ç«‹çš„æœåŠ¡ï¼\nè·å–openwrtçš„ rootfs æˆ‘è¿™é‡Œæ˜¯è‡ªå·±ç¼–è¯‘çš„ï¼Œå¦‚æœä½ æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œå¯ä»¥è”ç³»æˆ‘ç¼–è¯‘ã€‚ä¹Ÿå¯ä»¥ç”¨å®˜ç½‘ç‰ˆæœ¬ï¼ˆæ–°æ‰‹ä¸å»ºè®®ï¼Œå‘å¤šï¼‰\nä»£ç¼–è¯‘è¯´æ˜ ç›´æ¥æ‹¿åˆ°tar.gzåŒ… https://dev.leiyanhui.com/openwrt/diy\nåŸæœ‰é•œåƒè½¬lxc è½¬æ¢ä¸ºimg qcow2/vmdk å¦‚æœåŸæ¥é•œåƒæ˜¯ qcow2 vmdk\n1 2 qemu-img convert -p -f qcow2 -O raw op.qcow2 op.img qemu-img convert -p -f vmdk -O raw op.vmdk op.img img.gz 1 gzip -d openwrt-01.10.2023-x86-64-generic-squashfs-combined.img.gz æ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºopenwrtè½¬lxc ç›´æ¥åœ¨pve webæ§åˆ¶å°ç‚¹å¤‡ä»½ï¼Œé€‰æ‹© gzipæ ¼å¼ ,å¾—åˆ°æ–‡ä»¶ /var/lib/vz/dump/vzdump-qemu-100-2023_02_03-12_29_56.vma.gz\nåœ¨ local å¤‡ä»½é‡Œé¢ æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ ç‚¹æ¢å¤ å¯¼å…¥åˆ°ä¸€ä¸ªæ–°è™šæ‹Ÿæœº 102\n1 qemu-img convert -p -f qcow2 -O raw /var/lib/vz/images/102/vm-102-disk-0.qcow2 op.img æŒ‚è½½å’Œæ‰“åŒ… 1 2 3 4 5 6 7 cd /var/lib/vz/template/cache mkdir op root_partition=$((`fdisk -l op.img | grep .img2 | awk \u0026#39;{print $2}\u0026#39;` * 512)) mount -o loop,offset=$root_partition op.img /var/lib/vz/template/cache/op cd op \u0026amp;\u0026amp; tar zcf /var/lib/vz/template/cache/op.tar.gz * \u0026amp;\u0026amp;cd .. # æ‰“åŒ…è‡³PVEä¸­LXCæ¨¡æ¿è·¯å¾„ umount op \u0026amp;\u0026amp; rm -rf op #rm -rf å›ºä»¶åç§°.img å¦‚æœimgæ˜¯æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿä¸”ä½¿ç”¨çš„Overlayæ¨¡å¼ï¼Œä¼šä¸¢å¤±Overlayå†…å®¹ï¼ˆæ¢å¤é»˜è®¤äº†ï¼‰ã€‚ä½ éœ€è¦åœ¨åŸæ¥ç³»ç»Ÿé‡Œé¢ å¯¼å‡º åè¦†ç›–è¿‡æ¥ã€‚\nä¸Šä¼ lxc ä¸Šä¼ åˆ° localèŠ‚ç‚¹ ctæ¨¡æ¿ op.tar.gz åé¢æ“ä½œéƒ½åŸºäºlocalå’Œè¿™ä¸ªæ–‡ä»¶åã€‚\nåˆ›å»ºCTå®¹å™¨ ç›´æ¥åœ¨pveé‡Œé¢åˆ›å»º ä¼šæç¤º unknown ID 'openwrt' in /etc/os-release file, trying fallback detection TASK ERROR: unable to create CT 2000 - unable to detect OS distribution è¿™æ ·çš„é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ostypeï¼Œè¿™åœ¨pveçš„webuié‡Œé¢æ˜¯æ— æ³•æ˜¯å®ç°çš„ã€‚ ç™»å½• pve shell å‘½ä»¤ åˆ›å»º 2000 ä½¿ç”¨ä¸Šé¢çš„rootfs ç£ç›˜å’Œå†…å­˜ cpu ä¹Ÿé…ç½®ä¸€ä¸‹\n1 pct create 2000 /var/lib/vz/template/cache/op.tar.gz --arch amd64 --hostname lxc-OpenWrt --rootfs local:2 --memory 2048 -swap 0 --cores 12 --ostype unmanaged --unprivileged 0 -net0 bridge=vmbr0,name=eth0 --rootfs local:2 ä»£è¡¨æ”¾åˆ° local 2gå¤§å°\nä½ éœ€è¦æ ¹æ®ä½ çš„æƒ…å†µä¿®æ”¹ä¸Šé¢å‘½ä»¤çš„éƒ¨åˆ†å†…å®¹ï¼Œbtrfs çš„è¯è·¯å¾„æ˜¯/var/lib/pve/local-btrfs/template/cache/\nç½‘ç»œé…ç½® åˆ›å»º æ·»åŠ ç½‘å¡\næˆ‘è¿™é‡Œæ˜¯åšæ—è·¯ç”±ä½¿ç”¨ï¼Œå¦‚æœä½ åšä¸»è·¯ç”±ç”¨ï¼Œè¿˜éœ€è¦æŠŠæ˜ å°„ /dev/ppp ä»¥åŠåˆ†é…é¢å¤–çš„ç½‘å¡è¿‡æ¥ã€‚ ä¸€èˆ¬ä¸å»ºè®® aioå¹³å°è·‘ä¸»è·¯ç”±å“ˆã€‚\nå¯åŠ¨ 1 pct start 2000 å…¶ä»–æ“ä½œ å¦‚æœä½ æ˜¯ç”¨çš„åˆ«äººç¼–è¯‘çš„ æˆ–è€…å®˜ç½‘çš„ï¼Œè¿˜éœ€è¦å»å®¹å™¨é‡Œé¢ ä¿®æ”¹ä¸€ä¸‹ipï¼Œå¦‚æœæ˜¯å®šåˆ¶ç‰ˆæœ¬çš„ ç›´æ¥å°±å¯ä»¥å¼€å§‹ç”¨äº†ã€‚\n1 lxc-attach 2000 # è¿›å…¥å®¹å™¨ç»ˆç«¯ å…¶ä»–å¸¸è§é—®é¢˜ luci-static é”™è¯¯ éƒ¨åˆ†å›ºä»¶æç¤ºï¼š\n1 2 3 4 Function statements require a function name in http://10.1.1.20/luci-static/resources/network.js?v=git-94eb2a9:? at http://10.1.1.20/luci-static/resources/luci.js?v=git-24.033.44588-94eb2a9:179:29 at async Promise.all (index 4) å›ºä»¶æœ¬èº«çš„é—®é¢˜ æ¢å›ºä»¶ã€‚\nsshæ— æ³•ç™»å½• å›ºä»¶é—®é¢˜\nipsecæ— æ³•é“¾æ¥çš„é—®é¢˜ é—®é¢˜ä¸æ˜ï¼Œæœ€ä½³æ–¹æ¡ˆï¼Œå•ç‹¬ä¸€ä¸ªlxc/docker è¿è¡Œ ipsec è¯¦æƒ…ï¼š https://dev.leiyanhui.com/pve/ipsec\n","date":"2023-02-03T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/pve-lxc-install-op/","title":"pveä¸‹ä»¥lxcæ¨¡å¼è¿è¡Œopenwrt"},{"content":"ç‰¹è‰² å¯ä»¥åå°ä¸€é”®å®‰è£…å¸‚é¢ä¸Šæœ‰çš„ä»»ä½•æ’ä»¶ï¼Œå¯ä»¥å†…ç½®ä½ å¸¸ç”¨æ’ä»¶ã€‚ ä¸ç”¨ä½ è‡ªå·±æœipkåŒ…ä¸Šä¼  æœ‰å¾ˆå¤šå¯ä»¥è‡ªç”±å®šåˆ¶é¡¹ åŸºäºæœ€è¿‘æºç æ„å»ºï¼Œæ¯æ—¥åŒæ­¥3æ¬¡å®˜æ–¹åº“ æ”¯æŒå¹³å° å¸‚é¢ä¸Šå¤šæ•°ä¸»æµå¯ä»¥åˆ·æœºçš„ç¡¬è·¯ç”± vmware esxié•œåƒ pve unraidé•œåƒ ç¾¤æ™–ç­‰naså’Œçˆ±å¿«çš„vmé•œåƒ dockeré•œåƒ lxcé•œåƒ ç¡¬è·¯ç”±æ³¨æ„äº‹é¡¹ éƒ¨åˆ†ç¡¬è·¯ç”± éœ€è¦å…ˆåˆ· ä¸æ­»uboot æˆ–è€…è§£é”sshç­‰ï¼Œè¯·æå‰å¤„ç†å¥½ï¼Œéœ€è¦æˆ‘è¿œç¨‹ä»£ä¸ºå¤„ç†çš„ï¼Œéœ€è¦æä¾› é¢å¤–çš„ç½‘ç»œç¯å¢ƒï¼ˆå¦å¤–ä¸€ä¸ªè·¯ç”± æˆ–è€…æ‰‹æœºçƒ­ç‚¹ï¼‰ å¤ªå¤è€çš„è·¯ç”±å™¨å¯èƒ½ä¸æ”¯æŒäº†ï¼Œå› ä¸ºæœ€æ–°çš„opå¯¹èŠ¯ç‰‡è¦æ±‚å’Œåå¹´å‰å·²ç»ä¸å¤ªä¸€æ ·\næ”¯æŒçš„å®šåˆ¶é¡¹ç›® æ’ä»¶è‡ªé€‰ï¼ˆè¯¦æƒ…æŸ¥çœ‹åæ–‡ï¼‰ é»˜è®¤ip 10.0.0.1 é»˜è®¤rootå¯†ç  root ipv6 é»˜è®¤æ˜¯å¦å¼€å¯ å…³é—­ æ˜¯å¦å†…ç½®ppoeå®½å¸¦å¸å· dhcp é»˜è®¤ä¸»é¢˜ argon WebæœåŠ¡å™¨ nginx/uhttpd é»˜è®¤æ—è·¯ç”±æ¨¡å¼ å¦ ï¼ˆè¯¦æƒ…æŸ¥çœ‹åæ–‡ï¼‰ wifiå¸å·å¯†ç  openwrt/æ— å¯†ç  é˜²ç«å¢™ firewall ï¼ˆå¯é€‰nftablesï¼‰ ç«¯å£è½¬å‘ firewall ä¸å åŠ socat (socatæ”¯æŒipv6è½¬v4) ä¸»æœºå opwnert ï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºæŒ‡å®šçš„åç§°ï¼‰ è‡ªå®šä¹‰ç­¾å dev.leiyanhui.com å›ºä»¶ç‰ˆæœ¬\tä¸»æœºåç§° æ—¥æœŸ by ç­¾å / LuCI Master git-* æ¯æ¬¡åˆå§‹åŒ–è‡ªå®šä¹‰shellè„šæœ¬ æ—  x86/vmè½¯è·¯ç”±å¹³å°å¯ä»¥é€‰ Overlayåˆ†åŒºå®¹é‡ï¼ˆ0.5-6Gï¼‰ï¼Œç£ç›˜æ ¼å¼SquashFS/EXT4 x86 å¯é€‰EFIæˆ–Legacy å…³äºæ’ä»¶è‡ªé€‰ å¦‚æœä¸é€‰æ‹©ä»»ä½•æ’ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªå¹²å‡€æ•´æ´çš„openwrt ä½ ç¨åå¯ä»¥è‡ªè¡Œåœ¨åå°å¯è§†åŒ–ä¸€é”®å®‰è£…æ’ä»¶\nå¦‚æœä¸æ‡‚ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å‘Šè¯‰æˆ‘ä½ çš„éœ€æ±‚ï¼Œæˆ‘æ¥å¸®ä½ é€‰æ‹©ã€‚\nå¸¸è§æ’ä»¶éœ€æ±‚ æ¯ä¸ªäººéœ€æ±‚ä¸åŒï¼Œå¸¸ç”¨æ’ä»¶åŒ…å·²ç»æœ‰9åƒå¤šä¸ªï¼Œè¿™é‡ŒæŒ‰ç…§åˆ†ç±»ï¼Œä½ è‡ªå·±è¯´æ¸…å…·ä½“è½¯ä»¶åç§°ï¼Œæˆ–è€…éœ€æ±‚\nNASç±»/ç½‘ç›˜ç±»ï¼ˆæŠ›ç –ï¼šalist rclone istorage nastools vm-ç¾¤æ™–ç­‰ ï¼‰ å½±éŸ³è§£ç ç±» ï¼ˆæŠ›ç –ï¼šdockerå¤„ç† ç­‰ï¼‰ docker è™šæ‹Ÿæœºç±» è¿œç¨‹æ§åˆ¶ç±» ï¼ˆæŠ›ç –ï¼šddnsto frpc rustdesk ç«¯å£è½¬å‘ ç­‰ï¼‰ å†…ç½‘ç©¿é€ç±» ï¼ˆæŠ›ç –ï¼šddnsto frpc ipv6æ˜ å°„ç­‰ï¼‰ å­¦ä¹ ç±»ï¼ˆæŠ›ç –ï¼š*** ï¼‰ å†…ç½‘æœåŠ¡ç±» ï¼ˆæŠ›ç –ï¼šç«¯å£è½¬å‘ï¼Œå†…ç½‘åä»£ï¼Œå®å¡”ï¼Œnginx-proxyç­‰ï¼‰ é™„åŠ æ”¶è´¹ æŠ€æœ¯æ ˆï¼šlinux winsServer ioså¼€å‘ iosç­¾å nginx golang php pythone node.js openwrt çˆ±å¿« é»‘ç¾¤æ™– é»‘è‹¹æœ kvm pve unraid vmware/hyper-v/virtualbox\n","date":"2023-02-01T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/diy/","title":"openwrtå®šåˆ¶è¯´æ˜"},{"content":"å…·ä½“è¡¨ç°ï¼Œpadavenè·¯ç”±å™¨æ‰“å¼€å…è®¸å¤–ç½‘è®¿é—®ï¼Œå¤–ç½‘å¯ä»¥è®¿é—®åˆ°è·¯ç”±å™¨webç®¡ç†ç•Œé¢ã€‚ç„¶åç«¯å£è½¬å‘çš„å†…ç½‘çš„æœåŠ¡å™¨ å‡æ— æ³•è®¿é—®ã€‚\næœ‰äººè¯´æ˜¯ç½‘å…³é—®é¢˜ï¼Œæµ‹è¯•åå‘ç° åº”è¯¥å°±æ˜¯ å›ºä»¶çš„bugï¼Œä¿®æ”¹ç«¯å£è½¬å‘åè®®ä¹Ÿæ— æ•ˆã€‚ã€‚ã€‚\nå› ä¸ºæˆ‘å†…ç½‘è¿˜æœ‰ä¸€ä¸ªæ—è·¯ç”±ï¼Œæ‰€ä»¥ å¹²è„†å°±ä¸è¾›è‹¦è¿™ä¸ª10å¹´è€å¤è‘£çš„k2pï¼ˆpadavenï¼‰äº†ï¼Œå¼€dmz åˆ°æ—è·¯ç”±ï¼Œç«¯å£è½¬å‘è½¬ç§»åˆ°æ—è·¯ç”±æ¥å¤„ç†ã€‚ã€‚ã€‚\nå› ä¸ºæˆ‘è¿™ä¸ªæ—è·¯ç”± æ€§èƒ½è¿‡å¾—å»ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±å¹²è„† ç”¨ Socat åœ¨æ—è·¯ç”±ä¸Šå¤„ç†äº†ã€‚\nSocat çš„ä¼˜ç‚¹ï¼Œè®¾ç½®ç®€å•ï¼Œæ”¯æŒipv6 ipv4 ç¼ºç‚¹ï¼šæ¯”é˜²ç«å¢™è½¬å‘æ›´åŠ æ¶ˆè€—cpuæ€§èƒ½ï¼Œä¸é€‚åˆå¤ªä½é…ç½®çš„è·¯ç”±å™¨ä½¿ç”¨ã€‚\nä¹Ÿå¯ä»¥ç”¨opè‡ªå¸¦çš„é˜²ç«å¢™\n","date":"2023-01-31T11:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/padaven-port-rule/","title":"padaven å›ºä»¶ç«¯å£è½¬å‘é…ç½®æ— æ•ˆçš„é—®é¢˜"},{"content":"è®¾å¤‡æƒ…å†µå¦‚ä¸‹ï¼š 1ã€APï¼š å°ç±³è·¯ç”±å™¨ AP 2ä¸ª 1ä¸ªæ˜¯è®¿å®¢ç½‘ç»œ ä¸€ä¸ªæ˜¯åŒ—å‚åŒºçš„APï¼Œè¿˜æœ‰ä¸€ä¸ªK2P åœ¨ç”¨ 2ã€x86 ï¼š ä¸¤å° ä¸€ä¸ªi7 8850h è£…çš„pve å¦å¤–ä¸€ä¸ªæ˜¯ä¿¡æ­¥çš„N2600 è£…çš„openwrt 3ã€ç»ˆç«¯ï¼šå‡ åä¸ª2.4Gçš„ç‰©è”ç½‘è®¾å¤‡ 14ä¸ªppoeç›‘æ§ ç›‘æ§ç¡¬ç›˜æœº æ‰‹æœº ç¬”è®°æœ¬è‹¥å¹²\nä¸€ç›´æ²¡æ‰”çš„k2p æ˜¯å› ä¸ºä»–çš„2.4Gä¿¡å·å¾ˆç¨³ï¼Œé€‚åˆç‰©è”ç½‘è®¾å¤‡è¦†ç›–ã€‚ä¹‹å‰ä¹Ÿæ˜¯æ‹¿ä»–å½“ä½œä¸»è·¯ç”±ä½¿ç”¨äº†10å¤šå¹´ã€‚\nä¸€ç›´ä»¥æ¥çš„çº ç»“ å°±æ˜¯ è½¯è·¯ç”±å’Œ pve çš„åŠŸèƒ½é‡å ï¼Œä»¥åŠä¿¡æ­¥è¿™ä¸ªæ¿å­çš„ä¸€äº›é—®é¢˜ã€‚\nçº ç»“çš„åœ°æ–¹ å…³äº ä¿¡æ­¥è¿™ä¸ªæ¿å­ æ–­ç”µåå¶å°”ä¼šå‡ºç°ä¸èƒ½è‡ªåŠ¨å¯åŠ¨ï¼Œå¦å¤–N2600 ä¸æ”¯æŒè™šæ‹ŸåŒ–ï¼Œè‡ªå¸¦æ˜¾å¡ä¹Ÿæ— æ³•åœ¨linuxä¸‹é©±åŠ¨ è¿™å°±å¯¼è‡´å¾ˆå¤šé™åˆ¶ã€‚\nè¿˜æ˜¯æƒ³å»æ‰ä»–ï¼Œå–æ‰çš„é’±è¿˜èƒ½æ¢ä¸€ä¸ª 1-2TçŸ¿åœºç¡¬ç›˜ã€‚\nè·¯ç”±çš„æ€è€ƒ åœ¨ä¸æ·»åŠ æ–°ç¡¬ä»¶ï¼ˆç©·ï¼‰çš„æƒ…å†µä¸‹ï¼Œæƒ³ç”¨é è°±çš„ç½‘ç»œã€‚ æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆ å¯èƒ½è¿˜æ˜¯ æ—è·¯ç”±ï¼ˆæ—ç½‘å…³ï¼‰æ–¹æ¡ˆã€‚ æˆ‘çš„k2p åœ¨ä¸è·‘ç§‘å­¦è½¯ä»¶çš„æƒ…å†µä¸‹ï¼Œå®é™…æ˜¯å¯ä»¥è·‘æ»¡å¸¦å®½ï¼Œå†…ç½‘æœ‰äº¤æ¢æœºä¸éœ€è¦ä»–ã€‚é©¼å­é‡Œé¢æ‹”å°†å†›ï¼Œè¿˜æ˜¯å°è¯•ç”¨ä»–åšä¸»è·¯ç”±ã€‚ç„¶åå†å°è¯•æŒ‡å®šipçš„ç½‘å…³åˆ°pveä¸Šçš„æ—è·¯ç”±ã€‚ è¿™å°±éœ€è¦ï¼Œk2påˆ·çš„å›ºä»¶çš„dhcpæ”¯æŒè¿™ä¸ªåŠŸèƒ½.\nå› ä¸º è¿è¡Œpveçš„aioæœ¬èº«æ˜¯ä¸éœ€è¦ç§‘å­¦çš„ã€‚ ä¸ºäº†å…¨å±€ç§‘å­¦ï¼ˆç‰©è”ç½‘è®¾å¤‡å¯ä»¥åœ¨openwrtæ’é™¤ï¼‰ è€ƒè™‘æ–¹æ¡ˆå¦‚ä¸‹\næ–°æ–¹æ¡ˆ å°½é‡ä¸å½±å“ç°æœ‰è®¾å¤‡çš„æƒ…å†µä¸‹å¿«é€Ÿå¹³æ»‘è¿‡åº¦ã€‚\nk2p å›ºä»¶ k2p æ˜¯è‚¯å®šä¸èƒ½åˆ·çˆ±å¿«çš„ï¼Œç¡¬æ”¹åå¯ä»¥ä½†æ˜¯ä¸å°‘äººè¯´å†…ç½‘éƒ½ä¼šæ‰åˆ°500Mã€‚å‰©ä¸‹çš„å°±æ˜¯é«˜ge å®˜æ”¹ openwrt å’Œ Padavanã€‚\nopenwrt ç†Ÿæ‚‰å¾ˆå¤šï¼Œä½†æ˜¯padaven æœ‰äººè¯´ æ˜¯å¯ä»¥è·‘æ»¡1000M çš„ï¼Œè€Œopenwrt ä¸å¤ªæ¸…æ¥šï¼Œæœ¬ç€èƒ½ç”¨å°±è¡Œçš„æ€åº¦ã€‚æˆ‘å†³å®š è¿˜æ˜¯ ç”¨ padaven ï¼Œåªæ˜¯dhcpé™æ€ç»‘å®šçš„è¿ç§»æœ‰ä¸€ç‚¹éº»çƒ¦ã€‚ä¸¤è€…çš„é…ç½®æ–‡ä»¶ä¸é€šç”¨ã€‚\næ—è·¯ç”±ç½‘å…³ ç³»ç»Ÿè‚¯å®šæ˜¯opäº†ã€‚ ç”¨pveçš„è™šæ‹Ÿæœºè·‘å§ çœå¿ƒã€‚ç„¶åé™¤äº†è·‘openclash ipsec å…¶ä»–åŸºæœ¬éƒ½ä¸éœ€è¦ã€‚dhcpä¹Ÿæš‚å®šå…³æ‰ã€‚\næœ€é‡è¦çš„ï¼š è‡ªåŠ¨ç½‘å…³ï¼ˆæ–‡æœ«ï¼‰ å› ä¸ºæˆ‘ä¸»è·¯ç”±å—å›ºä»¶é™åˆ¶æ— æ³•æŒ‡å®šéƒ¨åˆ†è®¾å¤‡èµ°æ—è·¯ç”±ç½‘å…³ï¼Œæ‰‹åŠ¨å¤„ç†ç¡®å®ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œå¹¶ä¸”æˆ‘éœ€è¦ æ–°è®¾å¤‡åŠ å…¥åå¯ä»¥è‡ªåŠ¨ç§‘å­¦ ipsecæ‹¨è¿›æ¥çš„è®¾å¤‡ä¹Ÿå¯ä»¥ã€‚ æ‰€ä»¥æ‰“ç®—åœ¨ä¸»è·¯ç”±ä¸Šå®šæ—¶ï¼ˆ1åˆ†é’Ÿï¼‰pingä¸€ä¸‹æ—è·¯ç”±ï¼Œå¦‚æœä¸é€šï¼Œé‚£ä¹ˆå°±æŠŠdhcpçš„ç½‘å…³åˆ‡æ¢å›ä¸»è·¯ç”±ï¼Œå¹¶é‡å¯ dhcpæœåŠ¡å™¨ã€‚ å¦å¤– dhcpçš„ç”Ÿå‘½å‘¨æœŸä¹Ÿå°½å¯èƒ½çŸ­ä¸€äº› è¿™æ ·æ‰èƒ½å°½å¿«ç”Ÿæ•ˆã€‚ ï¼ˆè™½ç„¶å¯¹padavenä¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯å¥½åœ¨ä»–ä¹Ÿæä¾›sshçš„ï¼Œæ€»å¯ä»¥æå®šã€‚ ï¼‰\nè¿™æ ·å°±å®Œç¾å®ç°äº†ï¼Œå…¨å±€éƒ½èµ°ç§‘å­¦ï¼Œéƒ¨åˆ†ä¸éœ€è¦ç§‘å­¦çš„è®¾å¤‡ï¼Œå•ç‹¬ä»openclashé‡Œé¢ç”¨è§„åˆ™å¤„ç†æ‰å³å¯ã€‚\nè¿™æ ·å¸¦æ¥çš„å¥½å¤„å°±æ˜¯ ï¼Œæ— è®ºæ€ä¹ˆæŠ˜è…¾ ä¸»è·¯ç”±éƒ½å¯ä»¥æä¾›åŸºæœ¬çš„ä¸Šç½‘æœåŠ¡ã€‚æ—è·¯ç”±ä¸Šçº¿ å å°±æä¾›ç§‘å­¦å’Œipsecç­‰ã€‚\nå°é—®é¢˜çš„å¤„ç† padaven çš„å†…ç½®ddns ä¸æ”¯æŒæˆ‘å¸¸ç”¨çš„3322ï¼ˆè‡ªå®šä¹‰å¯ä»¥ï¼‰ å’Œ dnspod ä»¥åŠ cloudfareï¼Œ æš‚æ—¶æ³¨å†Œä¸€ä¸ªå®ƒæ”¯æŒçš„ï¼Œç„¶åç”¨cnameè§£å†³ã€‚\npadaven çš„é™æ€dhcpçš„å¤‡ä»½ å–œæ¬¢å¤‡ä»½æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ã€‚ ç³»ç»Ÿç®¡ç† - é…ç½®ç®¡ç† ç›´æ¥å¤‡ä»½\npadaven çš„ipv6 å¯ä»¥å¼€å¯ ï¼Œä»¥åŠ padaven è¯¦æƒ…ï¼šhttps://www.jianshu.com/p/cb51fb0fb2ac\npadaven pæ®µçš„è¿ç§» ä¹‹å‰çš„ipæ®µæ˜¯10.1.1.1 è‡ªå®šä¹‰çš„opå›ºä»¶ï¼Œä½†padaven é»˜è®¤çš„ip\nvlmcsd padaven æœ‰è‡ªå¸¦\nalist æŒªåˆ°pveé‡Œé¢ï¼Œå•ç‹¬ä¸€ä¸ªå®¹å™¨/vmè¿è¡Œ\nnginxWebUI æŒªåˆ°pveé‡Œé¢ï¼Œå•ç‹¬ä¸€ä¸ªå®¹å™¨/vmè¿è¡Œ\nrustdeskæœåŠ¡ æŒªåˆ°pveé‡Œé¢ï¼Œå•ç‹¬ä¸€ä¸ªå®¹å™¨/vmè¿è¡Œ\nå†…ç½‘ç©¿é€ å› ä¸ºæˆ‘æœ‰å…¬ç½‘ipæ‰€ä»¥ä¸éœ€è¦å…¶ä»–ç©¿é€ï¼Œä»…éœ€è¦80ä¸ª443çš„ç©¿é€æ˜ å°„ã€‚ pve å’Œ è·¯ç”±å™¨çš„ webç•Œé¢ ç”¨ ddnsto ç›´æ¥å¼„ ç®€å•çœå¿ƒã€‚ 3389 ä¹‹ç±»çš„ç«¯å£å¯ä»¥ç›´æ¥ç”¨ä¸è´¹å¿ƒã€‚ 80å’Œ443ç«¯å£ç©¿é€ æœ‰ä¸¤ä¸ªè§£å†³ï¼Œæ˜¯å¤‡æ¡ˆè¿‡çš„åŸŸå ç”¨ è…¾è®¯cdnç©¿é€ï¼Œæœªå¤‡æ¡ˆçš„åŸŸåç”¨cloudfareç©¿é€\nä¸€äº›åº”ç”¨çº§çš„ï¼Œç›´æ¥ç”¨éæ ‡ç«¯å£è§£å†³\nç«¯å£è½¬å‘ æ€ä¹ˆéƒ½æ²¡æƒ³åˆ°ï¼Œä¼šåœ¨ç«¯å£è½¬å‘çš„ä¸Šé‡åˆ°é—®é¢˜ padaven çš„å›ºä»¶çš„ç«¯å£è½¬å‘ç«Ÿç„¶æœ‰é—®é¢˜ã€‚\nä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šdmz åˆ°æ—è·¯ç”±ï¼Œåœ¨æ—è·¯ç”±ä¸Š ç›´æ¥ä¸Š socat\npveçš„è‡ªåŠ¨å¤‡ä»½ qm stop åï¼Œç›´æ¥cpç£ç›˜å‡ºæ¥ã€‚\nnasçš„å¤„ç† æš‚æ—¶ç”¨é»‘ç¾¤æ™–ç®€å•å¾ˆå¤šï¼Œæ ¸å¿ƒæ•°æ®å®šæ—¶å¯¼å‡ºå¤‡ä»½ï¼Œå½±ç‰‡ç­‰æ•°æ®å¤–æŒ‚ç›´é€šçš„çŸ¿æ¸£æœºæ¢°ç›˜\nè‡ªåŠ¨æ£€æµ‹æ—è·¯ç”±è„šæœ¬ å®ç°ï¼šå…¨å±€ç§‘å­¦ï¼Œå»å¹¿å‘Šç­‰ï¼Œå¤–ç½‘å¯ä»¥ç”¨ipsecåè®®é“¾å›å®¶å¹¶ç§‘å­¦ã€‚æŒ‡å®šipæ®µ ç¦æ­¢ç§‘å­¦ã€‚ æ—è·¯ç”±ç¦»çº¿å1-2åˆ†é’Ÿå†…ï¼Œå…¨å±€æ”¹ä¸ºæ™®é€šæ¨¡å¼ä¸Šç½‘ã€‚ æ—è·¯ç”±ä¸Šé™å è‡ªåŠ¨æ¢å¤ã€‚ https://dev.leiyanhui.com/openwrt/auto-change-gatway\n","date":"2023-01-31T11:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/my-jiujie/","title":"æˆ‘çš„all in one  ä»¥åŠè·¯ç”±å™¨ nas çš„çº ç»“å’Œæœ€ç»ˆçš„æ–¹æ¡ˆ"},{"content":"è¿˜è¦è¯´ è¿œç¦»åšæœäº‘ å›½å†…æ”¯æŒwebdavçš„ç½‘ç›˜ï¼Œåªæœ‰åšæœäº‘ä¸€å®¶ï¼Œä½†æ˜¯å®¶åªèƒ½è¯´çŸ¥ä¹è¥é”€åšçš„ä¸é”™\u0026hellip;\nä¹°è¿‡1å¹´ä¼šå‘˜ï¼Œé€Ÿåº¦æ‹‰è·¨ï¼Œæ‰¾å®¢æœé€€æ¬¾ ä¸ç»™é€€æ¬¾ã€‚ã€‚ã€‚\nå› ä¸ºè¿˜æœ‰éƒ¨åˆ†æ–‡ä»¶æ”¾åœ¨ä»–å®¶ï¼Œä¼šå‘˜è¿‡æœŸåä¹Ÿåœ¨ç»§ç»­ç”¨ï¼Œå¿ƒæƒ³ æœ€èµ·ç æœ‰æ¯ä¸ªæœˆ1gçš„æµé‡ï¼ŒåŒæ­¥ä¸€ç‚¹å°æ–‡æœ¬æ–‡ä»¶ è¿˜å¯ä»¥çš„ã€‚ã€‚ã€‚ç»“æœåœ¨æˆ‘ç”¨åˆ°34M æµé‡çš„æ—¶å€™ï¼ˆpc ios ç½‘é¡µ éƒ½æ˜¾ç¤ºåªç”¨äº†30Mï¼Œå…¶å®æˆ‘å°±ç”¨å§ floccusåŒæ­¥æ”¾é‡Œé¢ï¼Œç„¶ååŒæ­¥äº†ä¸€ç‚¹çº¯æ–‡æœ¬çš„æ–‡ä»¶ openwrt /etc/config è¿™ä¸ªç›®å½•ï¼Œä¸åˆ°2M ï¼‰ï¼Œ ä»–æç¤ºæˆ‘è¶…è¿‡æµé‡äº†ã€‚ã€‚ã€‚ã€‚\nç„¶åwinå®¢æˆ·ç«¯ æˆ‘æ²¡é€€å‡ºï¼Œç”µè„‘ä¹Ÿæ˜¯24å°æ—¶å¼€æœºçš„ï¼Œç­‰ç¡ä¸€è§‰åï¼Œä»–å¼¹å‡ºäº†20å‡ ä¸ª æç¤ºäº¤é’±çš„å¼¹å‡ºçª—ï¼\nå¦å¤–åšæœäº‘æ˜ç¡®å¯¹webdavè°ƒç”¨åšäº†é™åˆ¶ï¼Œä»˜è´¹ç”¨æˆ·é™åˆ¶ä¹Ÿå¾ˆå¤šã€‚\nä¸€ä¸ªå…¬ç½‘çš„ç¬¬ä¸‰æ–¹webdavå¯ä»¥åšä»€ä¹ˆ å¯ä»¥éšæ„æŒ‚è½½åˆ° ä»»ä½•ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šåšæœ¬åœ°ç£ç›˜ç”¨ï¼Œwin linux macos ios android éƒ½å¯ã€‚\nå¤§é‡æ”¯æŒåŒæ­¥çš„è½¯ä»¶çš„å†…ç½®æ”¯æŒï¼šfloccus LastPass Obsidian æ€æºç¬”è®° joplin Zotero\næ›¿ä»£æ–¹æ¡ˆ è‡ªå»º ç¼ºç‚¹æ˜¯éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨æ¥å¼„ alistä¹‹ç±»çš„æŒ‚è½½ è¿˜æ˜¯éœ€è¦ä¸€ä¸ªç”µè„‘æ¥è¿è¡Œ teracloud teracloud teracloud æ˜¯æ—¥æœ¬ï¼Œå›½å†…å¯ä»¥è®¿é—®ï¼Œä¹Ÿæœ‰è‹±æ–‡ç•Œé¢ï¼Œæ³¨å†Œåæ§åˆ¶å°æœ‰ä¸­æ–‡ã€‚ åŠŸèƒ½ç®€å• æ³¨å†Œç®€å•ã€‚ ä¹‹æ‰€ä»¥æ²¡æœ‰è¢«å¢™ï¼Œä½ åº”è¯¥èƒ½çŒœåˆ°ï¼Œä»–çš„åˆ†äº«åŠŸèƒ½ 1 ä¸æ”¯æŒé¢„è§ˆ 2 åªæœ‰æ³¨å†Œç”¨æˆ·å¯ä»¥ä¸‹è½½ æ‰€ä»¥ä»–ä¾æ—§åœ¨å±€åŸŸç½‘å†…æ´»åˆ°ç°åœ¨ã€‚ å…è´¹æœ‰ 15Gï¼Œä¸é™é€Ÿ ä¸é™æµé‡ï¼Œä½†æ˜¯æ»¥ç”¨è‚¯å®šå°ã€‚ å¦‚æœåªæ˜¯ç”¨æ¥åŒæ­¥ä¸€äº›éå½±éŸ³ç±»è§†é¢‘ è¶³å¤Ÿäº†ã€‚ æ”¶è´¹ç‰ˆæœ¬ç•¥è´µï¼Œæœ‰æä¾› PayPal å’Œä¿¡ç”¨å¡ä»˜æ¬¾\nå°ç²‰çº¢ è¯·è‡ªå·±å¿½ç•¥ã€‚ã€‚\næ³¨å†Œ åœ°å€ï¼šhttps://teracloud.jp/en/ æ”¯æŒ å›½å†…é‚®ç®± éœ€è¦é‚®ä»¶éªŒè¯ç æ¿€æ´»\næ‰©å®¹ æ³¨å†Œå10Gï¼Œç”¨æ‰©å®¹ç å¯ä»¥+5G æ°¸ä¹…å…è´¹ç©ºé—´ã€‚ åœ°å€ï¼šhttps://teracloud.jp/en/modules/mypage/usage/ åœ¨ Referral Bonus åœ°æ–¹è¾“å…¥ 4FMWV å¢åŠ 5Gç©ºé—´\nè¿™ä¸ªé‚€è¯·ç  åˆ†äº«ç»™åˆ«äºº åªç»™åŠ 4Gç©ºé—´æœ‰æ•ˆæœŸä¹Ÿåªæœ‰1å¹´ï¼Œæ²¡å•¥ç”¨ã€‚15GåŸºæœ¬å¤Ÿç”¨äº†ã€‚ 20Gçš„æ´»åŠ¨ æ—©ç»“æŸäº†ï¼Œæ²¡æ´»åŠ¨çš„æ—¶å€™ åªèƒ½åŠ åˆ°15G\nç½‘é¡µç®¡ç†åœ°å€ æ¯”è¾ƒç®€é™‹ï¼Œå°±æ˜¯ä¸€ä¸ªwebdavçš„ç½‘é¡µå®¢æˆ·ç«¯ https://toi.teracloud.jp/browser/\nwebdav é“¾æ¥åœ°å€ æ‰“å¼€ https://teracloud.jp/en/modules/mypage/usage/ å‹¾é€‰ Apps Connection ç„¶åç‚¹å‡» eissue ä¼šç”Ÿæˆ webdavå¯†ç \n","date":"2023-01-31T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/webdav/net-disk/","title":"éå¸¸é€‚åˆå›½å†…ä½¿ç”¨çš„æ”¯æŒwebdavçš„ç½‘ç›˜ å…è´¹15G"},{"content":"å‡ ä¸ªç§æœ‰ç½‘ç›˜çš„å¯¹æ¯”ï¼šhttps://dev.leiyanhui.com/all-in-one/mynetdisk-duibi\nä¹‹å‰ä¸€ç›´ç”¨ smb/nfs åœ¨å±€åŸŸç½‘å†…ä½¿ç”¨ï¼Œä¸»è¦æ˜¯è§£å†³ å‡ ä¸ªwifiæ‘„åƒå¤´è½¬å­˜ä»¥åŠ macosçš„å¤‡ä»½ã€‚ åç»­å¼€å§‹ç”¨webdavã€‚\næ—¶é—´æ—§äº†ä»¥åå¼€å§‹å¯¹åœ¨çº¿æ–‡æ¡£ç¼–è¾‘æœ‰éœ€æ±‚ã€‚\nå…¶å®æƒ³è¦çš„åŠŸèƒ½å¾ˆå¤šï¼Œæ¯”å¦‚ åœ¨çº¿æ€ç»´å¯¼å›¾ï¼Œå½“ç„¶æ˜¯è‡ªå·±å¯æ§çš„ã€‚ è¿˜æœ‰ç±»ä¼¼winå¿«æ·æ–¹å¼çš„é“¾æ¥åŠŸèƒ½ï¼ˆåªèƒ½æ‰‹å†™æ–‡æœ¬çš„æ ·å­ï¼‰ã€‚\n","date":"2023-01-28T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/my-netdisk/","title":"2023 æ­å»ºç§æœ‰ç½‘ç›˜çš„ä¸€äº›éœ€æ±‚å’Œæƒ³æ³•"},{"content":"ç§æœ‰ç½‘ç›˜ç¨‹åºåŠŸèƒ½å¯¹æ¯” åŸºæœ¬éœ€æ±‚ å¦‚æœåªæ˜¯è¦åŸºæœ¬çš„ ç½‘ç›˜åŠŸèƒ½ï¼Œå‡ ä¹æ‰€æœ‰çš„ç½‘ç›˜ç¨‹åºéƒ½å¯ä»¥ã€‚ ç”šè‡³nginx è‡ªå¸¦çš„webdavä¹ŸæŒºä¸é”™çš„ã€‚ç”šè‡³sftpå¯èƒ½éƒ½å¯ä»¥ã€‚æ”¯æŒçš„å®¢æˆ·ç«¯ä¹Ÿä¼—å¤šã€‚ ä¸‹é¢ä»å‡ ä¸ªå¸¸è§çš„ç½‘ç›˜å®¢æˆ·ç«¯ç¨‹åºä¸­ä½œä¸€ä¸ªå¯¹æ¯”ï¼Œå¹¶æ ¹æ®æˆ‘çš„éœ€æ±‚æ¥ç®€å•é€‰æ‹©ä¸€ä¸‹ã€‚\nç®€å•å¯¹æ¯” å…ˆè¯´ç»“è®ºï¼Œå¾ˆå¤šç½‘ç›˜ç¨‹åºè½¯æ–‡æ»¡å¤©é£ï¼Œå¹¿å‘Šå¤©èŠ±ä¹±å ã€‚ä½†æ˜¯å®é™…æä¾›çš„åŠŸèƒ½ ä¹Ÿå°±æ˜¯ è¿œç¨‹æ–‡ä»¶ç®¡ç†+æƒé™ç®¡ç†ã€‚ åœ¨ åœ¨çº¿æ–‡æ¡£æ–¹é¢ å¾ˆå¼±æ™ºã€‚\næˆ‘æƒ³è¦çš„ç½‘ç›˜åŠŸèƒ½ï¼š åè®®ï¼šè‚¯å®šè¦æ”¯æŒwebdavï¼Œä¸ç„¶ç©ä¸ªé”¤å­ï¼Œæœ€å¥½èƒ½å…¼å®¹sftpï¼Œæ˜¯å¦å…¼é€šsmbä¸å¼ºæ±‚ ioså®¢æˆ·ç«¯ï¼šå¦‚æœæ”¯æŒç›¸å†Œè§†é¢‘å¤‡ä»½æœ€å¥½ï¼ˆä¸è¿‡æœ‰FEæ–‡ä»¶ç®¡ç†å™¨ PhotoSync Resilio Sync å¯ä»¥æ›¿ä»£[éƒ¨åˆ†æ”¶è´¹]ï¼‰ ä¸è¦æ±‚ä¸€å®šå¯ä»¥æ”¯æŒäº‘ç›˜å¤‡ä»½æŒ‚è½½ï¼Œå› ä¸ºæœ‰ å…¶ä»–æ›¿ä»£æ–¹æ¡ˆå¯ä»¥å®ç°ã€‚ ä¸€å®šè¦æœ‰æ¯”è¾ƒå¥½ç”¨çš„åœ¨çº¿makedownç¼–è¾‘å·¥å…· æœ€å¥½æœ‰åŸºæœ¬çš„docå’Œexeclç¼–è¾‘åŠŸèƒ½ å¯ä»¥å¯¹æ¥onlyoffice nextcloud /owncloud è™½ç„¶æ˜¯åŸºäºphpçš„ï¼Œä½†æ˜¯å¤šæ•°äººå®æµ‹æ˜¯å¯ä»¥è·‘æ»¡å†…ç½‘100Mçš„ã€‚\nä½†æ˜¯ åŠŸèƒ½å¼ºå¤§ï¼Œæ‰©å±•æ€§å¼ºã€‚ å› ä¸ºæ–‡ä»¶æ˜¯æŒ‰ç…§åŸå§‹æ ¼å¼å‚¨å­˜ï¼Œä¸æ¸…æ¥š åŠ å¯†æœ¬åœ°å‚¨å­˜ä»¥åŠ smb/sftp é…åˆä½¿ç”¨ä¼šå‡ºä»€ä¹ˆé—®é¢˜ ioså®¢æˆ·ç«¯å…è´¹ è‡´å‘½ç¼ºç‚¹ï¼šæ€§èƒ½è¦æ±‚é«˜ï¼Œåƒcpu åƒå†…å­˜ æœ‰äººè¯´è¿˜æœ‰å¤§æ–‡ä»¶ä¸Šä¼ ä¸‹è½½çš„èµ„æºå ç”¨bug\nCloudreve æœ€å¤§æœ€å¤§çš„ä¼˜ç‚¹ï¼Œä¸æ˜¯php pythoneè„šæœ¬è¯­è¨€å†™çš„ï¼Œæ˜¯ç”¨çš„golangã€‚ æ€§èƒ½æå‡Nå€æ•°èµ„æºå ç”¨é™ä½Nå€ã€‚éå¸¸é€‚åˆcpuæ€§èƒ½ä½çš„æ¸…ç©ºä¸‹ä½¿ç”¨ã€‚ æ”¯æŒåœ¨çº¿makedownï¼Œå…¶ä»–å¯¹æ¯”nextcloudçš„ç¼ºç‚¹æ²¡æœ‰åœ¨çº¿æ–‡æ¡£åŠŸèƒ½ï¼Œåªæœ‰é¢„è§ˆ ç¼ºç‚¹ï¼šioså®¢æˆ·ç«¯æ”¶è´¹è€Œä¸”è¿˜ä¸ä¾¿å®œï¼Œå½“ç„¶å¯ä»¥æ›¿ä»£ã€‚æ–‡ä»¶ç›®å½• å¥½åƒæ‰“ä¹±äº† ã€‚ å¦å¤–è®ºå›å‘ç°å¯ä»¥ å¯¹æ¥ https://forum.cloudreve.org/d/1200\nfilebrowser åªæœ‰å¾ˆç®€å•çš„åŠŸèƒ½ï¼Œå¥½åƒè¿webdav éƒ½æ²¡æœ‰\nseafile æ–‡ä»¶æœ¬åœ°æ˜¯åˆ†å—å‚¨å­˜çš„ï¼Œè²Œä¼¼å°±æ— æ³•æä¾›smb sftpäº†\nç•Œé¢ä¸‘é™‹ä¸Šä¸ªä¸–çºªçš„ä¸œè¥¿ã€‚æ²¡æœ‰æ‰©å±•æ€§ã€‚officeæ–‡ä»¶ç›´æ¥æ— æ³•é¢„è§ˆï¼Œä½†æ˜¯å¯ä»¥åˆ›å»ºã€‚ã€‚ã€‚mdæ–‡ä»¶é¢„è§ˆåŠ è½½å‡ºä¸æ¥ã€‚ã€‚ã€‚\nè§‰å¾—ã€‚ã€‚ã€‚è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ã€‚ã€‚è¿˜æ˜¯ç®—äº†ã€‚\nå¯é“äº‘ å¯é“äº‘æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç•Œé¢ç„ï¼ŒåŠŸèƒ½ã€‚ã€‚å¼±é¸¡ã€‚ä½†æ˜¯åœ¨ç¾¤æ™– æˆ–è€…ç¾¤æ™–è¡ä¼¸çš„äººç¾¤ä¸­å¾ˆå—æ¬¢è¿ï¼Œç”šè‡³æœ‰äººå¥‰ä¸ºä¿¡ä»°ã€‚ã€‚ã€‚è¿˜æ˜¯ä¸¤ä¸ªå­—ï¼šå¼±é¸¡\nalist å¯ä»¥æŒ‚æœ¬åœ°ï¼Œä¹Ÿå¯ä»¥æŒ‚å¤šæ•°ç½‘ç›˜ä»¥åŠå…±äº«ç­‰ã€‚åœ¨æŒ‚è½½è¿™æ–¹é¢å¯ä»¥è¯´æ— äººèƒ½æ¯”ã€‚ä½†æ˜¯å®Œå…¨ä¸æ”¯æŒåœ¨çº¿æ–‡æ¡£ã€‚éå¸¸é€‚åˆä½œä¸€ä¸ªç½‘ç›˜ åˆ—è¡¨ç¨‹åºï¼Œä½†æ˜¯ä¸é€‚åˆä½œä¸€ä¸ªåŠŸèƒ½é½å…¨çš„ç½‘ç›˜ç¨‹åºã€‚\nä¸­é—´å‘ç°ä¸€äº›éå¸¸å¥‡è‘©çš„ç½‘ç›˜ç¨‹åº æ¯”å¦‚ dzzofficeï¼Œä½ æ–°å»ºä¸€ä¸ªæ–‡æœ¬ï¼Œé‡å‘½åä¸º .md ä»–éè¦ç»™ä½ åŠ ä¸Š.txtä½ å†æ”¹ä¸€æ¬¡ï¼Œä¾æ—§ã€‚ã€‚ã€‚åå¹´è„‘è¡€æ “\n","date":"2023-01-28T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/mynetdisk-duibi/","title":"å‡ ä¸ªç§æœ‰ç›˜çš„é€‰æ‹©å’Œå¯¹æ¯”"},{"content":"pve7.3 åŸºäºdebian11 ã€‚ã€‚è¿™ç§éæ»šåŠ¨å‘è¡Œçš„ç‰ˆæœ¬å†…æ ¸ç›¸å¯¹æ¥è¯´éƒ½æ˜¯æ¯”è¾ƒé™ˆæ—§çš„ï¼Œç›®å‰è¿˜æ˜¯åœ¨pve-kernel-5.15 (7.3-1) / 5.15.83 åœ¨è·‘dockerçš„æ—¶å€™ ä¼šéå¸¸ä¸çˆ½ã€‚ ç”šè‡³éƒ¨åˆ†è½¯ä»¶è¿˜æœ‰ä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚\nå½“ç„¶æœ€ç®€å•æ–¹æ³•æ˜¯ï¼Œè™šæ‹Ÿæœºè·‘ä¸€ä¸ªarchlinuxæˆ–CachyOS ï¼Œç„¶åå†å»è·‘docker ä¹Ÿå°±æ²¡é—®é¢˜äº†ã€‚å½“ç„¶æ€§èƒ½ä¼šå·®ä¸€ç‚¹\n","date":"2023-01-27T11:24:20+08:00","permalink":"https://dev.leiyanhui.com/pve/update-to-linux6/","title":"pve 7.3 å‡çº§åˆ° linux6.1å†…æ ¸"},{"content":"æ‰“å¼€ /tmp/dhcp.leases åˆ é™¤æƒ³è¦å›æ”¶çš„é‚£è¡Œï¼Œç„¶åé‡å¯dhcp /etc/init.d/dnsmasq restart æ–‡ä»¶ä¹Ÿå¯ä»¥å®Œå…¨æ¸…ç©º\n1 2 rm -rf /tmp/dhcp.leases \u0026amp;\u0026amp; touch /tmp/dhcp.leases /etc/init.d/dnsmasq restart é‡æ–°åœ¨opé‡Œé¢é™æ€åˆ†é…ç»‘å®šå¥½åœ°å€ï¼Œç„¶åé‡å¯å¯¹åº”æœºå™¨çš„dhcpå®¢æˆ·ç«¯æœåŠ¡å³å¯ æˆ–è€…å¹²è„†é‡å¯å®¢æˆ·ç«¯æœºå™¨ï¼Œæˆ–è€…é‡æ–°é“¾æ¥wifiæˆ–è€…ç½‘çº¿ å‡å¯\nè¿™ä¸ªæ–‡ä»¶çš„åœ°å€ï¼Œåœ¨è·¯ç”±çš„ ç½‘ç»œ\u0026gt; dhcp \u0026gt; hostå’Œè§£ææ–‡ä»¶ ï¼šç§Ÿçº¦æ–‡ä»¶ æ˜¯å¯ä»¥çœ‹åˆ°çš„ã€‚\n","date":"2023-01-27T11:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/del-dhcp/","title":"openwrtå›æ”¶ï¼ˆé‡Šæ”¾ï¼‰å·²ç»åˆ†å‡ºå»çš„dchpçš„ipåœ°å€"},{"content":"æœ€ç»ˆç›®çš„ï¼Œå®ç° åœ¨è™šæ‹Ÿç£ç›˜å¯åŠ¨çš„ç‰©ç†æœºè¿è¡Œçš„pveï¼Œå¹¶æœ€ç»ˆå¼€å§‹ä½¿ç”¨ã€‚ æœŸé—´ç»“åˆæˆ‘è¿™å‡ å¹´æ¥æŠ˜è…¾çš„ç»éªŒç»™å‡ºå»ºè®®ã€‚\nvhdå®‰è£…pve why? å› ä¸ºä¸å½±å“ç£ç›˜åˆ†åŒºï¼Œå¯ä»¥éšæ„ç§»åŠ¨ã€‚\næˆ‘æ˜¯ç¡¬ç›˜gptæŒ‰çˆªç»™ä½ çš„ventoyï¼Œventoyåˆ†åŒºä¸ºfat32æ ¼å¼ï¼Œé‡Œé¢æ”¾äº†å‡ ä¸ªpeå’Œlinux liveç›˜ï¼Œä»¥åŠ ventoyé…ç½®æ–‡ä»¶ï¼Œé»‘è‹¹æœçš„opencoreå¼•å¯¼ï¼Œä»¥åŠ ä¸€äº›vhdçš„vtoyé“¾æ¥æ–‡ä»¶ã€‚å¦‚æœä¸æ‡‚è¿™äº›ï¼Œå»ºè®®å…ˆå»äº†è§£ä¸€ä¸‹ventoyã€‚\nwinä¸‹ç”¨virtualbox7 åˆ›å»ºè™šæ‹Ÿæœºåç§°pve ç£ç›˜æ ¼å¼vhd 7Gå°±å¤Ÿç”¨äº†ã€‚åˆ†é…å…¨éƒ¨ç©ºé—´ï¼Œå¼€å¯efi å¼€å¯ vmåµŒå¥— ç½‘å¡é…ç½®ä¸ºæ¡¥æ¥ã€‚æŒ‚ä¸Špveçš„å®‰è£…é•œåƒå¼€å§‹ï¼Œå®‰è£…pve7.3 ç”¨ext4æ ¼å¼å®‰è£…ã€‚ å®‰è£…å®Œæˆåè‡ªåŠ¨é‡å¯ï¼ŒæŒ‚è½½ventoyçš„vtoyboot-1.0.25.isoé•œåƒ,\n1 2 3 4 5 mount /dev/cdrom /mnt cp /mnt/vtoyboot*.tar.gz . tar -zxvf vtoyboot* cd vtoyboot* sh vtoyboot.sh æ‰§è¡Œå®Œæˆåï¼Œè¾“å…¥poweroff å…³æœºï¼Œç„¶åæ‰“å¼€è™šæ‹Ÿæœºçš„ç›®å½•æ‰¾åˆ° pve.vhd ç§»åŠ¨åˆ°è‡ªå·±éœ€è¦çš„ä½ç½®ï¼ˆæ³¨æ„åˆ†åŒºæ ¼å¼ï¼Œæœ€å¥½ä¸è¦ntfsåˆ†åŒºï¼Œæœ€æ¬¡exfatï¼‰é‡å‘½åä¸º pve-7g-ext4.vhd.vtoy\næ‰“å¼€ ventoyçš„å·¥å…· VentoyVlnk.exeï¼Œåˆ›å»ºlnkæ–‡ä»¶åˆ° ventoyçš„ç¬¬ä¸€åˆ†åŒºï¼Œæ–‡ä»¶åä¸ºï¼š1.pve-7g-ext4.vhd.vlnk.vtoy\nventoyåˆ†åŒºçš„/ventoy/ventoy.jsonå†…å®¹å¦‚ä¸‹ï¼Œå¤§æ¦‚å°±æ˜¯è·³è¿‡win11æ£€æµ‹ï¼Œè¿è¡ŒlinuxæŒ‚è½½é•œåƒæ‰€åœ¨ç›®å½•ï¼Œè‡ªåŠ¨å¯åŠ¨è¶…æ—¶æ—¶é—´3ç§’ï¼ˆå³é»˜è®¤å¯åŠ¨ç¬¬ä¸€ä¸ªå¯å¯åŠ¨æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä¸Šé¢è¦é‡å‘½åvlnkæ–‡ä»¶ä¸º1.***ï¼‰\n1 2 3 4 5 6 7 { \u0026#34;control\u0026#34;:[ { \u0026#34;VTOY_WIN11_BYPASS_CHECK\u0026#34;: \u0026#34;1\u0026#34; }, { \u0026#34;VTOY_LINUX_REMOUNT\u0026#34;: \u0026#34;1\u0026#34; }, { \u0026#34;VTOY_MENU_TIMEOUT\u0026#34;: \u0026#34;3\u0026#34; } ] } ä¸‡äº‹åé‡å¯ï¼Œä¼šè‡ªåŠ¨é‡å¯åˆ°vhdç‰ˆçš„pveã€‚\nå¦‚æœé¦–é€‰å¯åŠ¨æ˜¯ .vtoyè¿™ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œé‚£å°±æ˜¯ventoyæœåˆ°äº†å›æ”¶ç«™çš„æ–‡ä»¶ï¼Œè‡ªå·±å»peæˆ–è€…winä¸‹æˆ–è€…pveä¸‹åˆ é™¤ventoyåˆ†åŒº å›æ”¶ç«™æ–‡ä»¶ å°±å¥½äº†ã€‚pveä¸‹å¤„ç†\n1 2 mount /dev/nvme0n1p1 /mnt # nvme0n1p1æ˜¯æˆ‘çš„ventoyçš„åˆ†åŒº cd mnt \u0026amp;\u0026amp; rm -rf \u0026#39;$RECYCLE.BIN\u0026#39; \u0026amp;\u0026amp; rm -rf System\\ Volume\\ Information/ \u0026amp;\u0026amp; umount /mnt ç½‘ç»œé…ç½® å› ä¸ºåˆšåˆšæ˜¯è™šæ‹Ÿæœºç¯å¢ƒï¼Œå¯åŠ¨åˆ°ç‰©ç†æœºåæ˜¯æ— æ³•è”ç½‘çš„ã€‚è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹ipå’Œç»‘å®šçš„ç½‘å¡ã€‚ https://dev.leiyanhui.com/pve/changip-and-netcard/ å¦‚æœå‰é¢æ˜¯æ¡¥æ¥ç½‘ç»œå®‰è£…çš„pveï¼Œå·²ç»é…ç½®å¥½äº†ipï¼Œè¿™é‡Œå°±åªéœ€è¦ä¿®æ”¹ç½‘å¡åç§°å°±å¯ä»¥äº†ã€‚\npve webç•Œé¢å¥—ssl å»ºè®®ç›´æ¥åœ¨openwrtè·¯ç”±å™¨ä¸Šç”¨nginxWebUIå¥—sslï¼Œå½“ç„¶ã€‚ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨é…ç½®è¯ä¹¦æ–‡ä»¶ã€‚\nä¿®æ”¹å›½å†…æº https://dev.leiyanhui.com/pve/guonei/\nå¼€å¯x11 è½¬å‘ æ–¹ä¾¿ åœ¨pveä¸Šè¿œç¨‹è·‘ä¸ªæµè§ˆå™¨å•¥çš„ https://dev.leiyanhui.com/pve/x11/\n1 2 apt install -y xauth systemctl restart sshd å¼€å¯sftp æ–¹ä¾¿openwrtä¸Šçš„alistæŒ‚è½½ https://dev.leiyanhui.com/pve/open-sftp/\nå®‰è£…fish apt install -y fish # éå¿…é¡»çœ‹ä¸ªäººå–œå¥½\nè‡ªåŠ¨æŒ‚è½½å…¶ä»–åˆ†åŒº fdisk -læŸ¥çœ‹ åˆ†åŒºæƒ…å†µï¼ŒæŒ‚è½½å¿…è¦çš„åˆ†åŒº\n1 2 3 4 5 6 7 mkdir /nvme /exfat /ventoy-fat32 # mkdir /root/other-etc-bak \u0026amp;\u0026amp; cp /etc/fstab /root/other-etc-bak nano /etc/fstab # æ·»åŠ ä¸‰è¡Œ # ----------------------- /dev/nvme0n1p1 /ventoy-fat32 vfat defaults 0 2 /dev/nvme0n1p5 /nvme btrfs defaults 0 2 /dev/nvme0n1p6 /exfat exfat defaults 0 2 æ£€æŸ¥å¥½å†é‡å¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ— æ³•è‡ªåŠ¨å¯åŠ¨ï¼Œéœ€è¦ç‰©ç†é”®ç›˜æ“ä½œã€‚\nç§»åŠ¨è™šæ‹Ÿæœºå’Œlxc isoç›®å½• https://dev.leiyanhui.com/pve/pve-mv-dir/\n1 2 3 4 5 cd /var/lib/vz/ rm -rf images \u0026amp;\u0026amp; ln -s /nvme/images images cd /var/lib/vz/template rm -rf iso \u0026amp;\u0026amp; ln -s /exfat/iso iso rm -rf cache \u0026amp;\u0026amp; ln -s /exfat/lxc_cache cache picå’Œæ˜¾å¡ç›´é€š ä»¥æ ¸æ˜¾ä¸ºä¾‹ https://dev.leiyanhui.com/pve/igpu-pass/\nå› ä¸ºæ˜¾å¡å¯ä»¥åœ¨è™šæ‹ŸæœºæŒ‚æœºçš„æƒ…å†µä¸‹ç›´é€šç»™å…¶ä»–è™šæ‹Ÿæœºï¼Œæ‰€ä»¥æˆ‘è€ƒè™‘åˆ°å¶å°”çš„æ¸¸æˆéœ€æ±‚è¿™æ²¡æœ‰ç”¨gvtï¼ˆæ€§èƒ½å·®ä¸€äº›ï¼Œè€Œä¸”ä¸€äº›éwinç³»ç»Ÿé‡Œé¢é©±åŠ¨å¤„ç†èµ·æ¥æ›´åŠ å¤æ‚ï¼‰\n","date":"2023-01-27T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-ventoy-7g-all-use/","title":"pve è™šæ‹Ÿç£ç›˜å®‰è£… ç›®å½•ç§»åŠ¨ä»¥åŠç¡¬ä»¶ç›´é€šç­‰ å…¨éƒ¨å¸¸ç”¨å†…å®¹"},{"content":"å°è¯•åœ¨ å•ç½‘å£çš„ all in one ä¸»æœºä¸Š ä½¿ç”¨kvmè¿è¡Œ openwrt å®ç°æ›¿ä»£ä¸€ä¸ªx86è½¯è·¯ç”±çš„æ–¹æ¡ˆã€‚ ä¸ºä»€ä¹ˆ è¦å§è·¯ç”±å™¨æ”¾åˆ° aioä¸»æœºä¸Šï¼Œæ˜¯å› ä¸ºæƒ³èŠ‚çœä¸€å°è®¾å¤‡ é¿å…ç»´æŠ¤å¤æ‚åŒ–ã€‚ ä¸ºäº†é¿å… all in boomï¼Œå•ç‹¬æ‰¾äº†ä¸€ä¸ªé—²ç½®å°ç±³è·¯ç”±ï¼Œé…ç½®å¥½dhcpé™æ€åˆ†é…å’Œppoe ä½œä¸ºå¤‡ç”¨è·¯ç”±å™¨ã€‚\nç¡¬ä»¶è®¾å¤‡ï¼š\nå…‰çŒ« æ¡¥æ¥æ¨¡å¼ ç¡¬è·¯ç”± k2p ä¿¡å·ä¸é”™ï¼Œä½†æ˜¯æ€§èƒ½ä¸å¤Ÿï¼Œæ‰€ä»¥åšAPæ¨¡å¼ äº¤æ¢æœº 4å£ä¸‡å…† 8å£åƒå…† 16å£poeäº¤æ¢æœº å’Œç›‘æ§è‹¥å¹² ç»„è£…æœºä¸€å° 24å°æ—¶å¼€æœºï¼Œqncté­”æ”¹U 8ä»£4æ ¸ï¼Œ64Gå†…å­˜ pioä¸»æ¿ å¸¦ä¸€ä¸ªpiceå£ å•ç½‘å¡ nvmeç¡¬ç›˜512G æœºæ¢°ç›˜ 4å— åŠ èµ·æ¥ 5T è½¯ä»¶æƒ…å†µï¼š ç¡¬è·¯ç”± k2p åˆ· Padavan all in oneä¸»æœºï¼Œè‡ªå·±åšçš„ ventoy+ archlinux+docker+kvmç³»ç»Ÿ https://dev.leiyanhui.com/all-in-one/arch-aio/\nall in oneç³»ç»Ÿæƒ…å†µï¼š\nä¸»è¦è·‘ä¸‰ä¸ªç³»ç»Ÿ win archlinux/kdeï¼ˆkvmï¼‰ ç›´é€šmacos winä¸»è¦åšrdpè½¬å‘å’Œæ¸¸æˆä¸²æµ æ—¥ç”¨ archlinux ç¼–è¯‘é€‚åˆä¸»æœºçš„openwrt æ ¸å¿ƒè½¯ä»¶åŒ… 1 autocore-x86 automount base-files bash block-mount busybox ca-bundle coremark curl dnsmasq-full dropbear ds-lite e2fsprogs fdisk firewall fstools grub2-bios-setup htop kmod-8139cp kmod-8139too kmod-alx kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-bnx2x kmod-button-hotplug kmod-drm-amdgpu kmod-drm-i915 kmod-e1000 kmod-e1000e kmod-forcedeth kmod-fs-vfat kmod-i40e kmod-iavf kmod-igb kmod-igbvf kmod-igc kmod-ipt-nat kmod-ipt-nat6 kmod-ixgbe kmod-lib-zstd kmod-mlx4-core kmod-mlx5-core kmod-mmc kmod-pcnet32 kmod-phy-broadcom kmod-r8125 kmod-r8168 kmod-sdhci kmod-tcp-bbr kmod-tg3 kmod-tulip kmod-usb-hid kmod-vmxnet3 libc libgcc libustream-wolfssl lm-sensors-detect logd lsblk luci-app-advanced luci-app-autoreboot luci-app-firewall luci-app-gpsysupgrade luci-app-opkg luci-app-upnp luci-app-wizard luci-base luci-compat luci-lib-fs luci-lib-ipkg mkf2fs mtd nano netifd odhcp6c odhcpd-ipv6only openssh-sftp-server opkg partx-utils pciutils ppp ppp-mod-pppoe procd procd-seccomp resolveip swconfig uci uclient-fetch urandom-seed urngd usbutils wget-ssl zram-swap é™„åŠ è½¯ä»¶åŒ… 1 luci-app-socat luci-app-ipsec-vpnd luci-app-ddns luci-app-diskman luci-app-ksmbd luci-app-ttyd luci-app-vlmcsd luci-app-watchcat luci-app-argon-config å»æ‰äº†docker å’Œalistç­‰ å¢åŠ äº† openclash\nå…¶ä»–é…ç½® å†…ç½®ppoeå¸å· ip æ”¹ä¸º 10.1.0.1 åˆå§‹å¯†ç ï¼š dev.leiyanhui.com ä¸»æœºåç§° kvm-op æ ¹ç›®å½•(Overlay)å®¹é‡(M) : 512M å› ä¸ºä¸æ‰“ç®—ç”¨ä»–è·‘å¤ªå¤šä¸œè¥¿äº†ã€‚æ‰€ä»¥512Mè¶³å¤Ÿäº†ã€‚ åˆ›å»ºopè™šæ‹Ÿä¸»æœº 12æ ¸ 512Må†…å­˜ã€‚ cd /home/yanhui/mnt/nvme/vdisk/ qemu-img convert -p -f ram -O qcow2 openwrt-01.24.2023-x86-64-generic-squashfs-combined.img op.qcow2\nåˆ›å»º è™šæ‹Ÿä¸»æœº 12æ ¸ 1Gå†…å­˜ã€‚ æ³¨æ„è¦å¦å¤–æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ç»™è¿™ä¸ªè™šæ‹Ÿæœºã€‚éƒ½æ˜¯èµ°æ¡¥æ¥ï¼Œarch-aio æ¡¥æ¥é—®é¢˜çœ‹ https://dev.leiyanhui.com/all-in-one/arch-aio-use-bridge-network/\næ›´æ”¹ç‰©ç†å¸ƒå±€ å…‰çŒ« -\u0026gt; äº¤æ¢æœº -\u0026gt; arch-aioä¸»æœº å»æ‰ åŸæ¥çš„n2600çš„op\nåç»­ å¯èƒ½ä¼šå°è¯• ç”¨dockeræ¥è·‘ openwrt ä½œä¸ºä¸»è·¯ç”±\n","date":"2023-01-24T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/kvm-my/","title":"openwrt å®šåˆ¶ç‰ˆæœ¬ æˆ‘è‡ªç”¨çš„ç‰ˆæœ¬- kvmç‰ˆæœ¬"},{"content":"è¯´èµ·æ¥amhå°±éš¾å…è¯´åˆ°å®å¡”ã€‚æ›¾ç»ä¼˜ç§€çš„å›½äº§è½¯ä»¶ï¼Œæ²¦è½åˆ°ç°åœ¨\u0026hellip;\nå…ˆæœ‰å¼ºåˆ¶ç»‘å®šæ‰‹æœºï¼Œåæœ‰æ¥è¿çˆ†å‡ºæ¼æ´ï¼Œæœ€ååˆè¢«å®é”¤åŠå¤œä¸Šä¼ æ•°æ®\u0026hellip;\né€æ­¥å°è¯•ç”¨å…¶ä»–è½¯ä»¶æ›¿ä»£å®å¡”ã€‚ä»Šå¤©å°è¯•amh.sh\nå¤§æ¦‚çœ‹äº†ä¸€ä¸‹amh.sh ä¸»è¦åŸºäº bashè„šæœ¬å’Œphpè„šæœ¬å®ç°çš„ã€‚ï¼ˆPSï¼šä¸ºä»€ä¹ˆå°±æ²¡æœ‰ä¸€ä¸ªç”¨golangåšçš„é è°±çš„é¢æ¿ï¼‰\nåŸºäºdebian11 åˆ›å»º ä½¿ç”¨æˆ‘è‡ªå·±çš„é•œåƒ\n1 2 3 docker run -itd --name amh --hostname amh --privileged=true \\ -p 50010:2222 -p 50011-50029:50011-50029 \\ registry.cn-qingdao.aliyuncs.com/joyanhui/base-sh-debian:debian11-sshd-autoboot.sh2222 sh /autoboot.sh å®‰è£… 1 2 3 docker exec -it amh /bin/bash apt-get install -y wget wget http://dl.amh.sh/amh.sh \u0026amp;\u0026amp; bash amh.sh nginx-1.20,mysql-5.7,php-7.4 35546 ä¾èµ–å¾ˆå¤šï¼Œå®‰è£…éœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œå®˜ç½‘è¯´çš„å…ç¼–è¯‘å®‰è£…ï¼Œç»“æœå¡å¡å¡ å…¨ç¼–è¯‘å®‰è£…ï¼ŒæŸ¥çœ‹äº†ä¸€ä¸‹æ–‡æ¡£ä¹Ÿæ²¡æœ‰è¯´åˆ°åº•ä»€ä¹ˆç¯å¢ƒæ‰æ˜¯å…ç¼–è¯‘çš„ã€‚æœªå…å¯¹amh.shå¤§å¤±æ‰€æœ›ã€‚ è¿˜æ²¡è£…å®Œå·²ç»æƒ³åˆ é™¤äº†ã€‚\nç®€å•é…ç½® ä¿®æ”¹ç«¯å£ é»˜è®¤ç®¡ç†ç«¯å£æ˜¯ 8888 9999 å®˜ç½‘æ–‡æ¡£æ²¡æœ‰è¯´æ˜ã€‚ã€‚ã€‚æˆ‘ä»¥ä¸ºæ˜¯å¯ä»¥è‡ªå®šä¹‰ï¼Œçœ‹äº†ä¸‹æ–‡æ¡£ ä¹Ÿæ²¡æœ‰è¯´æ˜ã€‚ã€‚ã€‚\né™„åŠ è½¯ä»¶ phpmyadmin amrewrite amdata\né‰´äº amhæ–‡æ¡£æ®‹ç¼º ï¼Œå·²ç»åˆ é™¤ï¼Œä¸ç›¸ä¿¡è¿™ç©æ„èƒ½å¥½ç”¨åˆ°å“ªé‡Œå»\n","date":"2023-01-22T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/amh-sh/","title":"dockerè¿è¡Œamh.sh ä»¥åŠamhçš„ä½“éªŒ"},{"content":"è¯´èµ·æ¥amhå°±éš¾å…è¯´åˆ°å®å¡”ã€‚æ›¾ç»ä¼˜ç§€çš„å›½äº§è½¯ä»¶ï¼Œæ²¦è½åˆ°ç°åœ¨\u0026hellip;\nå…ˆæœ‰å¼ºåˆ¶ç»‘å®šæ‰‹æœºï¼Œåæœ‰æ¥è¿çˆ†å‡ºæ¼æ´ï¼Œæœ€ååˆè¢«å®é”¤åŠå¤œä¸Šä¼ æ•°æ®\u0026hellip;\né€æ­¥å°è¯•ç”¨å…¶ä»–è½¯ä»¶æ›¿ä»£å®å¡”ã€‚ä»Šå¤©å°è¯• urlos\ndocker run -itd \u0026ndash;name urlos \u0026ndash;restart always -p 9969:9969 -p 9968:9968 -p 9966:9966 urlos/urlos\nä¹Ÿæ˜¯ä¸€ä¸ªå¥‡è‘©ã€‚ã€‚ã€‚ å¼ºåˆ¶ç»‘å®šæ‰‹æœºå·ï¼Œç„¶åæ‰‹æœºå·ä¸å¯ä»¥ç›´æ¥æ³¨å†Œï¼Œè¦å…ˆé‚®ç®±æ³¨å†Œã€‚ã€‚ã€‚ç„¶åã€‚ã€‚ä¸çŸ¥åé¢è¿˜æœ‰ä»€ä¹ˆå¥—è·¯ã€‚å·²ç»åˆ æ‰\n","date":"2023-01-22T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/urlos/","title":"dockerè¿è¡Œamh.sh ä»¥åŠamhçš„ä½“éªŒ"},{"content":"æ¦‚è¿° è¿™æ˜¯æˆ‘ç›®å‰ 2023-01-14 è‡ªç”¨çš„ç‰ˆæœ¬ï¼Œå°½å¯èƒ½çš„æè‡´ç²¾ç®€ï¼Œé›†æˆäº†å¸¸ç”¨å¿…å¤‡æ’ä»¶ã€‚\nåŸºæœ¬è¯´æ˜ ipï¼š10.1.1.1\nç”¨æˆ·åï¼šroot\nå¯†ç ï¼šdev.leiyanhui.com luciç¯å¢ƒï¼šnginx ipv6æ”¯æŒï¼Œipv6ç«¯å£è½¬å‘æ”¯æŒï¼Œå¢™ä½“å†…å¤–åˆ†æµå…¨å±€doh é»˜è®¤å¼€ppoeæœ‰å†…ç½®æˆ‘è‡ªå·±çš„å®½å¸¦è´¦å·ï¼Œè‡ªå·±æ”¹æˆä½ è‡ªå·±çš„å³å¯() æ²¡æœ‰å†…ç½®ä»»ä½•usbç½‘å¡ é©±åŠ¨å’ŒWiFié©±åŠ¨ã€‚() é»˜è®¤ä¸»é¢˜ï¼šargon æ¼‚äº®ä¸èŠ±å“¨\n~~ ä½¿ç”¨Firewall4(nftables)~~ æ ¹ç›®å½•(Overlay)å®¹é‡ 2048M å†…æ ¸ç‰ˆæœ¬ï¼š5.15.86\nå¹³å°ï¼šx86/64\næ”¯æŒç”¨ventoyå¯åŠ¨\nå…¶ä»–æ’ä»¶å°½é‡èƒ½dockerå…è®¸çš„å°½é‡dockerã€‚è¿™æ˜¯ä¸€ä¸ªç¨³å®šçš„è½¯è·¯ç”±å™¨çš„åŸºæœ¬ä½¿ç”¨ä¹ æƒ¯ã€‚\nåŒå®¹é‡çš„Overlay ç³»ç»Ÿå‡çº§ï¼Œä¸ä¼šä¸¢å¤±Overlay åˆ†åŒºä¹‹å¤–çš„æ•°æ®\nåŸºæœ¬ä½¿ç”¨ ä¸‹è½½åï¼Œç›´æ¥ç”¨balenaEtcherå†™ç›˜å³å¯ã€‚ æˆ–è€…ç”¨ventoyçš„openwrtå·¥å…·è§£å‹åå¯åŠ¨ã€‚ æ”¯æŒefi å’Œ Legacy ï¼ŒVMware/esxi/pve/unraid/kvm ï¼Œdocker/lxc å¯åŠ¨\næˆ–è€…åœ¨ä½ è·¯ç”±å™¨åå°ç›´æ¥ä¸Šä¼ ä¸‹è½½çš„gzåŒ…\nä½¿ç”¨æ­¥éª¤ æ¦‚è¿° https://dev.leiyanhui.com/openwrt/my_use\nä¸‹è½½åœ°å€ å› ä¸ºå¸¦äº†dockerï¼Œæ‰€ä»¥ä½“ç§¯è¾ƒå¤§ï¼ˆ120M+ï¼‰ æš‚æ—¶åˆ é™¤ä¸‹è½½è¿æ¥.è”ç³»joyanhui@qq.comå…è´¹ç´¢å–\nè½¯ä»¶åŒ… æ ¸å¿ƒåŸºç¡€åŒ… 1 autocore-x86 automount base-files bash block-mount busybox ca-bundle coremark curl dnsmasq-full dropbear ds-lite e2fsprogs fdisk firewall fstools grub2-bios-setup htop kmod-8139cp kmod-8139too kmod-alx kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-bnx2x kmod-button-hotplug kmod-drm-amdgpu kmod-drm-i915 kmod-e1000 kmod-e1000e kmod-forcedeth kmod-fs-vfat kmod-i40e kmod-iavf kmod-igb kmod-igbvf kmod-igc kmod-ipt-nat kmod-ipt-nat6 kmod-ixgbe kmod-lib-zstd kmod-mlx4-core kmod-mlx5-core kmod-mmc kmod-pcnet32 kmod-phy-broadcom kmod-r8125 kmod-r8168 kmod-sdhci kmod-tcp-bbr kmod-tg3 kmod-tulip kmod-usb-hid kmod-vmxnet3 libc libgcc libustream-wolfssl lm-sensors-detect logd lsblk luci-app-advanced luci-app-autoreboot luci-app-firewall luci-app-gpsysupgrade luci-app-opkg luci-app-upnp luci-app-wizard luci-base luci-compat luci-lib-fs luci-lib-ipkg mkf2fs mtd nano netifd odhcp6c odhcpd-ipv6only openssh-sftp-server opkg partx-utils pciutils ppp ppp-mod-pppoe procd procd-seccomp resolveip swconfig uci uclient-fetch urandom-seed urngd usbutils wget-ssl zram-swap é™„åŠ åŒ… 1 luci-app-socat luci-app-ipsec-vpnd luci-app-alist luci-app-ddns luci-app-diskman luci-app-dockerman luci-app-ksmbd luci-app-rclone luci-app-ttyd luci-app-vlmcsd luci-app-watchcat luci-app-argon-config å¤§æ¦‚è¯´æ˜\n1 2 3 4 5 6 7 8 9 10 11 12 luci-app-socat # ç«¯å£è½¬å‘å·¥å…· é—®é¢˜æ›´å°‘ luci-app-ipsec-vpnd #ä»…ipsec æ”¯æŒ ios å®‰å“åŸç”Ÿè¿æ¥ï¼Œæ”¯æŒå¤–ç½‘æ‹¨å·è¿›æ¥åè®¿é—®å¤–ç½‘å¯èµ°æ¢¯å­ iosè¿æ¥æ”¹ä¸ªé…ç½®æ–‡ä»¶ https://dev.leiyanhui.com/openwrt/ipsec-server luci-app-alist # ç½‘ç›˜åˆ—è¡¨ç¨‹åº ä»¥åŠè½¬webdav luci-app-ddns # åŠ¨æ€dns æ”¯æŒ3322 aliyunç­‰å‡ ä¹æ‰€æœ‰ddnsï¼Œæ”¯æŒipv6 luci-app-diskman #ç£ç›˜ç®¡ç† å’ŒæŒ‚è½½å·¥å…· luci-app-dockerman #docker å¯è§†åŒ–ç®¡ç†å·¥å…· luci-app-ksmbd # smbå…±äº«ï¼Œå†…æ ¸çº§ luci-app-rclone # å¤šç½‘ç›˜æŒ‚è½½ç¨‹åºï¼Œå¯ä»¥å’Œalisté…åˆ luci-app-ttyd #ç½‘é¡µshell luci-app-vlmcsd #kmsæ¿€æ´» è‡ªåŠ¨å¯åŠ¨è‡ªåŠ¨æ¿€æ´»å†…ç½‘win luci-app-watchcat # æ‰ç½‘é‡å¯æ£€æµ‹ uci-app-argon-config #argonä¸»é¢˜é…ç½® å…¶ä»– ~~ luci-app-passwall2 : æ”¯æŒdoh æ”¯æŒè‡ªå®šä¹‰åˆ†æµ https://dev.leiyanhui.com/openwrt/passwall2 ~~ å­¦ä¹ å·¥å…·åæ¥ä¸å†æ‰“åŒ…è¿›æ¥æ˜¯å› ä¸ºå¤ªå¤šè½¯ä»¶äº†å„æœ‰ç‰¹è‰²è¿˜åœ¨æ‘¸ç´¢é€‚åˆè‡ªå·±çš„ã€‚æš‚æ—¶æ˜¯ç”¨çš„passwall2 åé¢å¯èƒ½ä¼šæ¢openclash dnsè½¯ä»¶åŒç† ipv6 æ”¯æŒ luci-app-socat ç«¯å£è½¬å‘ï¼Œæ”¯æŒipv4 ipv6 ï¼Œç”¨äºæ›¿ä»£è‡ªå¸¦çš„é˜²ç«å¢™è½¬å‘ https://dev.leiyanhui.com/openwrt/ipv6-v4-port\nå¸¸è§é—®é¢˜ ç«¯å£è½¬å‘ è¯·ä½¿ç”¨socat\næ•´æœºå¤‡ä»½å’Œè‡ªåŠ¨å¤‡ä»½ https://dev.leiyanhui.com/openwrt/backup\niphoneè¿ä¸ä¸Šipsecçš„vpn https://dev.leiyanhui.com/openwrt/ipsec-server\nipsecçš„vpnçš„å®¢æˆ·ç«¯æ— æ³•è®¿é—®å¤–ç½‘ å‚è€ƒä¸Šæ–‡\néƒ¨åˆ†è½¯ä»¶ç•Œé¢éƒ¨åˆ†æ˜¾ç¤ºè‹±æ–‡ ctrl+F5 åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ã€‚\nä¸€ç‚¹çœ‹æ³• å…³äºé›†æˆçš„è½¯ä»¶ ddns kms docker ipsec socat è¿™å‡ ä¸ªè½¯ä»¶æ˜¯æˆ‘å¿…ç”¨çš„ ï¼Œä¸”éå¸¸é€‚åˆæˆ‘è‡ªå·±çš„,å¯¹æˆ‘æ¥è¯´ä¹Ÿæ˜¯è·¯ç”±çš„æ ¸å¿ƒã€‚è™½ç„¶å¯ä»¥è‡ªè¡Œå®‰è£…ï¼Œä½†æ˜¯æˆ‘æ—¥å¸¸å¤‡ä»½ç³»ç»Ÿï¼Œç›´æ¥åœ¨çº¿tarï¼Œæ‰€ä»¥ä¸ºäº†å‡å°‘å¤‡ä»½æ–‡ä»¶ä½“ç§¯ï¼Œè¿™é‡Œå°±é¢„è£…äº†ã€‚å¦‚æœä½ ä¸éœ€è¦å¯ä»¥è‡ªè¡Œå¸è½½ã€‚æˆ–è€…æ‰¾æˆ‘å®šåˆ¶å‡å¯ã€‚\nå…³äºx86å¹³å°æ’ä»¶å’Œdockerçš„é€‰æ‹© x86è½¯è·¯ç”±ç®—æ˜¯ä¸€ä¸ªå®¿ä¸»æœºè¿è¡Œdockerçš„ä½é…ç‰ˆall in oneï¼Œç”šè‡³åŒ…æ‹¬æˆ‘åœ¨å†…çš„å¾ˆå¤šäººè¿˜ä¼šå†dockerä¸Šç›´æ¥å¼€nas è™šæ‹Ÿæœºç­‰ï¼Œä¸ºäº†é¿å…all in boomï¼ˆæ¢—ï¼‰ï¼Œå®¿ä¸»æœºçš„ç¨³å®šæ€§éå¸¸é‡è¦ã€‚ä½†æ˜¯linuxç³»ç»ŸåŸç”Ÿçš„dockeræ”¯æŒï¼Œä¸ä½¿ç”¨çœŸçš„å¯æƒœã€‚\næ¯”å¦‚ smartdns è¿™ç§ä¼šå½±å“å…¨å±€çš„åŠŸèƒ½ï¼Œä½ æ’ä»¶å®‰è£…ï¼Œä¸€ä¸ªä¸å°å¿ƒå¯èƒ½å°±å…¨å®¶æ‰çº¿äº†ã€‚ä½†æ˜¯ä½ ç”¨dockerè·‘ï¼Œç­‰è°ƒè¯•æµ‹è¯•å®Œæˆåï¼Œå†æŠŠipæˆ–ç«¯å£æŒ‡å‘ å°±å®Œäº‹äº†ã€‚è¿˜æœ‰ä¸€äº›é˜²ç«å¢™çš„è°ƒè¯•é…ç½®ç­‰\nå…¶ä»–å¿…ç”¨çš„è½¯ä»¶ï¼Œæ¯”å¦‚ alist rclone smb acme nginx-proxy smartdns ç­‰ è¿˜æœ‰ä¸€äº›pcdnæ”¶ç›Šè½¯ä»¶ å°½é‡èƒ½dockerçš„ä¸è£…æ’ä»¶ã€‚ä»¥ç‰µæ‰¯å®¿ä¸»æœºæœºä¾èµ–ï¼Œå¤‡ä»½è¿ç§»éƒ½æ–¹ä¾¿å¾ˆå¤šã€‚\nå½“ç„¶ ç¡¬è·¯ç”±ç­‰ç¡¬ä»¶èµ„æºå—é™çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯æ’ä»¶å®‰è£…å§è‡³å°‘çœå¾ˆå¤šå‚¨å­˜ç©ºé—´ã€‚æˆ–è€…å¯¹dockerä¸ç†Ÿæ‚‰ï¼Œæ„Ÿè§‰æ²¡å›¾å½¢ç•Œé¢æ–¹ä¾¿ï¼Œé‚£ä¹ˆè¿˜æ˜¯æ’ä»¶å®‰è£…\nå…³äºOverlayå®¹é‡ ä¸ºä»€ä¹ˆé€‰æ‹©2G æˆ‘æ˜¯32Gç£ç›˜ï¼Œä½†æ˜¯ä¾æ—§é€‰æ‹©äº† 2Gçš„Overlayï¼Œå› ä¸º 1ã€å…¶ä»–åˆ†åŒºæŒ‚åˆ°/opt å ï¼Œå•çº¯å¸¸ç”¨è½¯ä»¶å…¶å®1Géƒ½å‹‰å¼ºå¤Ÿç”¨ï¼Œä½†æ˜¯æŠ˜è…¾å¤ªå¤šçš„è¯1Gå…¶å®æœ‰ç‚¹ç´§å¼ ã€‚ 2ã€åˆ†åŒºå°äº†ä»¥åDDå¤‡ä»½ï¼Œåˆ·å…¥å’Œè¿ç§»éƒ½æ–¹ä¾¿ 3ã€å³ä¾¿æ˜¯è£…ä¸Šæ¡Œé¢ç³»ç»Ÿ2G éƒ½å¤Ÿç”¨äº†ã€‚ä½•å†µè¿˜æœ‰docekå¯ä»¥è·‘æ¡Œé¢è½¯ä»¶\næ‰€ä»¥æƒè¡¡ä¹‹ä¸‹ overlayåˆ†åŒºé»˜è®¤1.5-2G è¾ƒä¸ºåˆç†\nä¸ç”¨é»˜è®¤ipçš„åŸå›  å†…ç½‘è¿˜æœ‰å…¶ä»–è·¯ç”±å’Œä¸‹çº§ap ä»–ä»¬çš„é»˜è®¤å›ºä»¶çš„é»˜è®¤ipå¯èƒ½ä¼šå¯¼è‡´å†²çªã€‚æ‰€ä»¥è¿™é‡Œä¸ç”¨10.0.0.1 192.168.31.1 æˆ–è€…192.168.1.1 å¦å¤–æˆ‘çš„è®¾å¤‡æ²¡æœ‰é‚£ä¹ˆå¤š, è‚¯å®šæ˜¯254ä¸ªè®¾å¤‡ä»¥å†…çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸ç”¨å¤šæŠ˜è…¾äº†ã€‚\n","date":"2023-01-13T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/my/","title":"openwrt å®šåˆ¶ç‰ˆæœ¬ æˆ‘è‡ªç”¨çš„ç‰ˆæœ¬"},{"content":"ç™»å½• ç™»å½•åœ°å€å’Œå¯†ç å‚è€ƒ https://dev.leiyanhui.com/openwrt/my/\néƒ¨åˆ†ç•Œé¢å¦‚æœæ˜¯è‹±æ–‡ï¼Œåœ¨æµè§ˆå™¨é‡Œé¢æŒ‰ä¸‹ crtl+F5 å°±å¥½äº†ã€‚\nä¿®æ”¹å¯†ç  ç³»ç»Ÿ - ç®¡ç†æƒ ä¿®æ”¹\nddnsé…ç½® é…ç½®äº†ä¸€ç»„ 3322 çš„ipv4 ä¸€ç»„ dnspodsçš„v4å’Œv6 ï¼Œé…ç½®å¾ˆç®€å•ä¸ç”¨å¤šè¯´ã€‚ dnspodséœ€è¦ç”¨tokençš„idå’Œkeyã€‚\næ³¨æ„ï¼šipv6åœ°å€çš„è·å–ï¼Œå¯ä»¥ç”¨ lan å£ï¼Œé»˜è®¤wanå£æ˜¯è·å–ä¸åˆ°çš„ã€‚å¦‚æœé…ç½®å¥½äº† ç§‘å­¦è½¯ä»¶çš„æƒ…å†µä¸‹æˆ–è€…ä¸ä½¿ç”¨ç§‘å­¦ä¸Šç½‘ï¼Œä¹Ÿå¯ä»¥ç”¨ url http://checkipv6.dyndns.com è·å–\nç§‘å­¦ä¸Šç½‘å·¥å…·å¯èƒ½å½±å“ipv6çš„ä½¿ç”¨ ï¼Œéœ€è¦é¢å¤–é…ç½®\né…ç½® vpn å‚è€ƒ https://dev.leiyanhui.com/openwrt/ipsec-server/\nKMSæœåŠ¡å™¨ ä¸ç”¨é…ç½®ï¼Œé»˜è®¤å¯åŠ¨çš„ã€‚ä¼šè‡ªåŠ¨æ¿€æ´»å†…ç½‘çš„winï¼Œå¦‚æœä¸èƒ½ è‡ªå·±æ‰¾ä¸€ä¸ªkeyæ‰‹åŠ¨æ¿€æ´»ã€‚ä¼šè‡ªåŠ¨ç»­ç­¾ã€‚\nalistæŒ‚è½½ ç•¥è¿‡\nrcloneæŒ‚è½½alistçš„webdav ç•¥è¿‡\næŒ‚è½½å’Œæ‰©å®¹ æˆ‘è¿™é‡Œoverlayåˆ†åŒºæ¯”è¾ƒå¤§ï¼Œ2Gã€‚è£…æ—¥å¸¸æ’ä»¶è¶³å¤Ÿäº†ã€‚ç”šè‡³éƒ½å¯ä»¥è£…ä¸Šæ¡Œé¢ç¯å¢ƒï¼Œä½†æ˜¯å¦‚æœè·‘kvmå’Œå¤ªå¤šdocker æ˜¯è‚¯å®šä¸å¤Ÿçš„ã€‚æ‰€ä»¥æ–°å»ºä¸€ä¸ªåˆ†åŒºæŒ‚è½½åˆ°/opt\nç‚¹å‡» ç³»ç»Ÿ - DiskMan ç£ç›˜ç®¡ç† ï¼Œç¼–è¾‘ä¸»ç¡¬ç›˜msata /dev/sda æ–°å»ºä¸€ä¸ªåˆ†åŒºã€‚sda3ã€‚ç„¶åè¿”å› ç³»ç»Ÿ - æŒ‚è½½ç‚¹ æŒ‚åˆ°/opt\næˆ‘è¿™é‡Œï¼Œä¹ æƒ¯ç”¨å®ƒçš„è‡ªåŠ¨æŒ‚è½½ï¼Œé»˜è®¤æ˜¯è‡ªåŠ¨æŒ‚è½½åˆ° /mnt/sda3 çš„ï¼Œæ‰€ä»¥ dockerç›´æ¥æŠŠå‚¨å­˜ç›®å½• åˆ‡æ¢åˆ° /mnt/sda3 æˆ–è€…è½¯è¿æ¥åˆ°/opt éƒ½å¯ä»¥ã€‚\næˆ‘ä¸»è·¯ç”±å™¨ æ²¡æœ‰è·‘è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºå¹³å° æ˜¯åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šã€‚\ndockeræ¢å¤ ç•¥è¿‡ å¦‚æœ dockeråˆ‡æ¢åˆ°ä¹‹å‰å­˜æ”¾dockerçš„ä½ç½®ï¼Œä¼šè‡ªåŠ¨è¿˜åŸçš„ã€‚\ndocker - é…ç½® Docker æ ¹ç›®å½• è®¾ç½®ä¸ºmsataä¸Šçš„ç©ºé—²åˆ†åŒºçš„è‡ªåŠ¨æŒ‚è½½åœ°å€ /mnt/sda3\nç«¯å£è½¬å‘ ç”¨ ç½‘ç»œ - socat æ¥è½¬å‘\nç½‘ç»œ é˜²ç«å¢™ è½¬å‘çš„ç«¯å£ï¼Œopenwrtè‡ªå·± ä¸èƒ½ç”¨ å…¬ç½‘åœ°å€+ç«¯å£ è®¿é—®ï¼ˆå†…ç½‘å…¶ä»–æœºå™¨å’Œå¤–ç½‘å¯ä»¥è®¿é—®ï¼‰ï¼Œæ‰€ä»¥æœ€å¥½ç”¨socat æ›´ç®€å•çœå¿ƒ\nç³»ç»Ÿå¤‡ä»½å’Œè¿˜åŸ å»ºè®®ç›´æ¥ç”¨å‘½ä»¤è¡Œæ¥å¤‡ä»½å’Œè¿˜åŸï¼Œå‚è€ƒhttps://dev.leiyanhui.com/openwrt/backup åŒæ—¶ä¹Ÿå»ºè®®ä½¿ç”¨squashfs-combinedå›ºä»¶\nç®€å•ç¤ºä¾‹ å¤‡ä»½\n1 2 3 4 mkdir /mnt/sda3/openwrt-backup tar -czvf /mnt/sda3/openwrt-backup/$(date +%Y-%m-%d_%H)-overlay.tar.gz /overlay # è®¡åˆ’ä»»åŠ¡ # 45 8 * * * tar -czvf /mnt/sda3/openwrt-backup/$(date +%Y-%m-%d_%H)-overlay.tar.gz /overlay è¿˜åŸ\n1 2 3 4 rm -rvf /overlay/* cd / tar -xzvf /mnt/sda1/openwrt-backup/XXXX-overlay.tar.gz reboot # å¾ˆé‡è¦ é©¬ä¸Šé‡å¯ è¿˜åŸå ä¸€å®šé©¬ä¸Šé‡å¯ å¦åˆ™ä¼šå¸¦æ¥ä¸€äº›å…¶ä»–å¥‡å¥‡æ€ªæ€ªé—®é¢˜\nç§‘å­¦è½¯ä»¶é…ç½® ç”¨æš‚æ—¶ç”¨passwall2 æ”¯æŒå…¨å±€dohï¼Œè‡ªå®šä¹‰è§„åˆ™ç®€å•ã€‚ä½†æ˜¯ ipv6 å¥½åƒä¼šå—å½±å“ï¼Œå¦å¤–æœ‰å‡ ä¸ªç¼–è¯‘ç‰ˆæœ¬bugä¹Ÿæ¯”è¾ƒå¤šã€‚\nv2rayA ç›¸å¯¹ç®€å•ä¸€äº›ï¼Œåªæ˜¯å•çº¯ç¿»å¢™ï¼Œä¸æŠ˜è…¾è‡ªå®šä¹‰è§„åˆ™ é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œå¯ä»¥ç”¨ï¼Œä¹Ÿç¨³å®š\nå¦å¤–æ¨è openclash ç•Œé¢å¤æ‚ï¼Œä½†æ˜¯ä½¿ç”¨å¹¶ä¸å¤æ‚ï¼Œè€Œä¸”åŠŸèƒ½å¥½å¤ªå¤šäº†ã€‚\n","date":"2023-01-13T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/my_use/","title":"openwrt å®šåˆ¶ç‰ˆæœ¬ æˆ‘è‡ªç”¨çš„ç‰ˆæœ¬ - ä½¿ç”¨"},{"content":"alistæ”¯æŒä¸»æµç½‘ç›˜ç¨‹åºçš„æŒ‚è½½ï¼Œå¹¶æ”¯æŒå…¨éƒ¨ç®¡ç†å‘˜è½¬webdavï¼Œéƒ¨åˆ†ç›®å½•éšè—æˆ–è€…åŠ å¯† ï¼Œä»¥åŠé’ˆå¯¹ä¸ªåˆ«ç›®å½•å•ç‹¬ç®¡ç† ç­‰ç­‰ã€‚ã€‚ã€‚\nä½†æ˜¯æœ‰ä¸€äº›å¸¸è§é—®é¢˜ï¼Œå®˜æ–¹æ²¡æœ‰ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚\nlxc + alpine linux å®‰è£…alistè¯·å‚è€ƒ https://dev.leiyanhui.com/pve/lxc-nas-alist\nopenwrtä¸‹å®‰è£… ä¸‰ç§æ–¹å¼ï¼Œ1æ˜¯å®˜æ–¹å‘½ä»¤æ¨¡å¼å®‰è£… 2æ˜¯æ’ä»¶å®‰è£…luci-app-alist 3æ˜¯dockerå®‰è£…\næ’ä»¶å®‰è£…æœ€ç›´è§‚æ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨opé‡Œé¢ ä¼šæ˜¾ç¤ºå‡ºç®¡ç†å‘˜å¯†ç  alistè²Œä¼¼æ˜¯golangå†™çš„ï¼Œè€Œä¸”æ”¯æŒjsonå¯¼å‡ºå¤‡ä»½è¿ç§»æ–¹ä¾¿ï¼Œæ‰€ä»¥è¦ä¸è¦dockerå®‰è£…ï¼Œçœ‹ä¸ªäººéœ€æ±‚å§ã€‚\ndockerå®‰è£… 1 docker run -d --restart=always -v /opt/docker_file/op_alist:/opt/alist/data -v /:/openwrt -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=\u0026#34;alist\u0026#34; --hostname \u0026#34;alist\u0026#34; xhofe/alist:latest ssl åŠ å¯†é€šè®¯ opæ’ä»¶å®‰è£…è¯å¯ä»¥ç›´æ¥é…ç½®è¯ä¹¦ï¼Œä½†æ˜¯ä¸å»ºè®®ã€‚å› ä¸ºæˆ‘ä»¬å®¶ç”¨ç”¨æˆ·çš„è¯ä¹¦é€šå¸¸éƒ½æ˜¯çŸ­æœŸçš„æœ€é•¿ä¹Ÿå°±1å¹´ ç»´æŠ¤éº»çƒ¦ã€‚ æ‰€ä»¥è¯ä¹¦éƒ½æ˜¯ç»Ÿä¸€ç®¡ç†çš„ã€‚\næˆ‘ä½¿ç”¨çš„å›½äº§çš„ nginxWebUIå·¥å…·çš„dockerç‰ˆï¼Œåœ¨opä¸Šè¿è¡Œï¼Œç»Ÿä¸€ç®¡ç†å†…ç½‘è¯ä¹¦ï¼Œå¹¶åå¸¦æ‰€æœ‰å†…ç½‘çš„æœåŠ¡å¥—ä¸Šsslï¼Œ è¯¦æƒ…æŸ¥çœ‹ï¼šhttps://dev.leiyanhui.com/openwrt/nginx-proxy-ssl/\nä¸Šä¼ æ–‡ä»¶504é”™è¯¯ è¿™ä¸ªä¸»è¦æ˜¯å‰ç«¯ç”¨nginxåä»£åå‡ºç°çš„ã€‚å› ä¸ºnginxé™åˆ¶äº†åç«¯è¶…æ—¶æ—¶é—´ã€‚ Request failed with status code 504\nä¸Šä¼ æ–‡ä»¶413é”™è¯¯ è¿™ä¸ªä¸»è¦æ˜¯å‰ç«¯ç”¨nginxåä»£åå‡ºç°çš„ã€‚ å› ä¸ºnginxé™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶å¤§å°ã€‚ å¦‚æœæ˜¯ç”¨çš„nginxWebUIï¼Œé‚£ä¹ˆåœ¨å¯¹åº”çš„åä»£ç«™ç‚¹é‡Œé¢ è®¾ç½®é¢å¤–å‚æ•° client_max_body_size å€¼51200m; #ä¸Šä¼ é™åˆ¶\nä¸Šä¼ æ–‡ä»¶504é”™è¯¯ è¿™ä¸ªä¸»è¦æ˜¯å‰ç«¯ç”¨nginxåä»£åå‡ºç°çš„ã€‚å› ä¸ºnginxé™åˆ¶äº†åç«¯è¶…æ—¶æ—¶é—´ã€‚ Request failed with status code 504\nå¦‚æœæ˜¯ç”¨çš„nginxWebUIï¼Œé‚£ä¹ˆåœ¨å¯¹åº”çš„åä»£ç«™ç‚¹é‡Œé¢ è®¾ç½®é¢å¤–å‚æ•° å¯¹ç…§å··é™Œ413é”™è¯¯çš„å¤„ç†æ–¹å¼ åˆ†åˆ«æ·»åŠ é¢å¤–å‚æ•°\n1 2 3 proxy_send_timeout 7200; proxy_read_timeout 7200; proxy_connect_timeout 7200; nginxåå‘ä»£ç† æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼Œå¦‚æœä½ ç”¨å®å¡”ä¹‹ç±»çš„ï¼Œè‡ªè¡Œè°ƒæ•´ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 server { server_name pan.jia.leiyanhui.com; listen 50443 ssl http2; ssl_certificate /home/nginxWebUI/.acme.sh/*.jia.leiyanhui.com/fullchain.cer; ssl_certificate_key /home/nginxWebUI/.acme.sh/*.jia.leiyanhui.com/*.jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50081; if ($scheme = http) { return 301 https://$host:50443$request_uri; } error_page 497 https://$host:50443; #è§£å†³httpåˆ°sslç«¯å£çš„400é”™è¯¯; client_max_body_size 51200m; #ä¸Šä¼ é™åˆ¶; proxy_send_timeout 7200; #è¶…æ—¶æ—¶é—´sendå’Œä¸Šä¼ æœ‰å…³; proxy_read_timeout 7200; #è¶…æ—¶æ—¶é—´readå’Œä¸‹è½½æœ‰å…³; proxy_connect_timeout 60; #è¶…æ—¶æ—¶é—´connectå’Œäºåç«¯alistå»ºç«‹è¿æ¥æœ‰å…³; location / { proxy_pass http://10.1.1.1:5244; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Host $http_host; proxy_set_header X-Forwarded-Port $server_port; proxy_set_header X-Forwarded-Proto $scheme; proxy_redirect http:// https://; } å…¶ä»–é—®é¢˜ å¦‚æœæ˜¯ä¸Šä¼  å¸¸è§ç³»ç»Ÿé•œåƒï¼Œå»ºè®®ä½¿ç”¨å¯¹åº”ç½‘ç›˜çš„æ ‡å‡†å®¢æˆ·ç«¯æ¥å¤„ç†ã€‚ å› ä¸ºä¼šæœ¬åœ°éªŒè¯åç§’ä¼ ã€‚\n","date":"2023-01-13T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/alist/","title":"openwrt æŒ‚è½½ç½‘ç›˜alistå¸¸è§é—®é¢˜æ•´ç†"},{"content":"openclash å¯ä»¥è¯´æ˜¯æœ€å¼ºå¤§çš„ç§‘å­¦è½¯ä»¶ï¼Œç¼ºç‚¹å°±æ˜¯ ç•¥å¾®ç¹çç•Œé¢ä¸å‹å¥½ï¼Œå¦å¤–å¯¹è·¯ç”±å™¨æ€§èƒ½æœ‰è¦æ±‚ï¼Œä½ç«¯çš„ç¡¬è·¯ç”±åˆ·opçš„æƒ…å†µ å°±ä¸å¤ªé€‚åˆã€‚x86çš„è¯å› ä¸ºæ€§èƒ½å¯Œè£•ï¼Œæ‰€ä»¥éå¸¸é€‚åˆã€‚\nopenclash å®‰è£…åï¼Œåªè¦æ·»åŠ è®¢é˜…åœ°å€å å°±å¯ä»¥ æ„‰å¿«ä½¿ç”¨ã€‚å¦‚æœæœ‰æ›´å¤šè¦æ±‚éƒ¨åˆ†åœ°æ–¹å¯èƒ½è¿˜éœ€è¦è‡ªå·±æ‰‹åŠ¨è°ƒæ•´ä¸€ä¸‹ã€‚\nè®°å½•ä¸€ä¸‹ æˆ‘çš„é…ç½®\nåœ¨çº¿è®¢é˜…è½¬æ¢ æ¨èä½¿ç”¨ acl4ssr oneline fullï¼Œæ·»åŠ Emoji å¯ç”¨ udpã€‚å¼„å®Œä¹‹å è¦é‡å¯ä¸€ä¸‹ openclash\nè‡ªåŠ¨æµ‹é€Ÿè‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹ Dashboard æ§åˆ¶é¢æ¿ ï¼ŒSelector é€‰æ‹© è‡ªåŠ¨\nipv6æ”¯æŒå’Œddnsæ— æ³•è·å–ipv6åœ°å€çš„å¤„ç† openwrt å…¨å±€è®¾ç½®ï¼šdnsè®¾ç½® å…è®¸ IPv6 ç±»å‹ DNS è§£æ\nddns myddns_ipv6 -\u0026gt; IP åœ°å€æ¥æº -\u0026gt; æ¥å£ æ¥å£é€‰æ‹© br-lan\nèŠ‚ç‚¹ä¸æ”¯æŒipv6çš„æƒ…å†µä¸‹ ä¼šè‡ªåŠ¨èµ°v4,å½“ç„¶ä¹Ÿæ‰“ä¸å¼€çº¯v6ç«™ç‚¹\næ¨¡å¼è®¾ç½®é‡Œé¢ IPv6 æµé‡ä»£ç† ä¸å»ºè®®æ‰“å¼€\næŒ‡å®šç½‘ç«™å¼ºåˆ¶èµ°ä»£ç† ä¾‹å¦‚ dev.leiyanhui.com æˆ‘åŒæ—¶åœ¨å›½å†…cdn å’Œ GitHub page ä¸¤ä¸ªé•œåƒï¼Œå› ä¸ºå›½å†…cdnå»¶è¿Ÿæ›´æ–°ï¼Œæ‰€ä»¥è‡ªå·±è®¿é—® å¼ºåˆ¶åˆ° GitHub\nåœ¨å…¨å±€è®¾ç½® è®¿é—®æ§åˆ¶ ç»•è¿‡ä¸­å›½å¤§é™† IPv4 é»‘åå• é‡Œé¢æ·»åŠ  dev.leiyanhui.com å³å¯ï¼ŒåŒç†å¯ä»¥ipv6çš„ä¹Ÿæ·»åŠ ä¸ŠåŸŸå\nå…¨å±€doh/dotçš„å®ç° å…¨å±€è®¾ç½® dns æ‰“å¼€ æœ¬åœ° DNS åŠ«æŒ è‡ªå®šä¹‰ä¸Šæ¸¸ DNS æœåŠ¡å™¨ *è¿œç¨‹åŸŸåè§£æ è¿½åŠ ä¸Šæ¸¸ DNS è¿½åŠ é»˜è®¤ DNS ç¦æ­¢ Dnsmasq ç¼“å­˜ DNS\nç„¶å åœ¨ä¸‹é¢çš„è®¾ç½®è‡ªå®šä¹‰ä¸Šæ¸¸ DNS æœåŠ¡å™¨ é‡Œé¢ åªå‹¾é€‰ httpå’Œ tls ç±»çš„dnsï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ·»åŠ \néœ€è¦è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„ä¸€äº›åŠŸèƒ½å®ç° è‡ªå®šä¹‰è§„åˆ™ å¯ä»¥é™„åŠ åˆ° æœºåœºçš„è§„åˆ™å‰é¢ã€‚ å…¨å±€è®¾ç½® è§„åˆ™è®¾ç½® è‡ªå®šä¹‰è§„åˆ™ å‹¾é€‰ä¸Šï¼Œè§„åˆ™ æ·»åŠ åˆ° è®¾ç½®è‡ªå®šä¹‰è§„åˆ™ï¼ˆä¼˜å…ˆåŒ¹é…ï¼‰ çš„rules:é‡Œé¢\nå…¨å±€è¢«èµ°ä»£ç† æ£€æŸ¥è§„åˆ™æ²¡é—®é¢˜ï¼Œä½†æ˜¯ç”¨å›½å†…çš„ç½‘ç«™æŸ¥è¯¢ipä¾æ—§æ˜¯æ¢¯å­çš„å·¥å…·ã€‚\nç»è¿‡æµ‹è¯•ï¼Œåœ¨ openclash ä»£ç†æ¨¡å¼ åˆ‡æ¢ä¸€æ¬¡ å³å¯ã€‚ å¸¸ç”¨ipæŸ¥è¯¢ç½‘ç«™ï¼š\nhttps://ip.skk.moe/ ï¼ˆå¢ƒå¤–cfï¼Œopenclashé»˜è®¤ç»•è¿‡ï¼‰\nhttps://ip.cn/ (æ³¨æ„ï¼Œè¿™ä¸ªç½‘ç«™åœ¨å¢ƒå¤–cf) https://ip138.com/ ï¼ˆå¢ƒå†…ï¼Œä¸å°‘æœºåœºé»˜è®¤é˜»æ–­ï¼‰ https://ip.chinaz.com/ ï¼ˆå¢ƒå†…ï¼Œä¸å°‘æœºåœºé»˜è®¤é˜»æ–­ï¼‰ http://checkip.synology.com/ (å¢ƒå†…) https://test-ipv6.com/ (å¢ƒå¤–ï¼Œå¯ä»¥æ£€æµ‹ipv6) http://checkip.dyndns.com ï¼ˆå¢ƒå¤–ï¼ŒIPv4 ï¼‰ http://checkipv6.dyndns.com ï¼ˆå¢ƒå¤–ï¼ŒIPv6 ï¼‰\næŒ‡å®šç½‘ç«™å¼ºåˆ¶ä¸èµ°ä»£ç† ä¾‹å¦‚\n1 2 3 4 5 6 7 8 9 10 - DOMAIN-SUFFIX,checkip.dyndns.com,DIRECT - DOMAIN-SUFFIX,checkipv6.dyndns.com,DIRECT - DOMAIN-SUFFIX,checkip.synology.com,DIRECT - DOMAIN-SUFFIX,ifconfig.co,DIRECT - DOMAIN-SUFFIX,api.myip.com,DIRECT - DOMAIN-SUFFIX,ip-api.com,DIRECT - DOMAIN-SUFFIX,ipapi.co,DIRECT - DOMAIN-SUFFIX,ip6.seeip.org,DIRECT - DOMAIN-SUFFIX,members.3322.org,DIRECT - DOMAIN-SUFFIX,github.dev,DIRECT å†…ç½‘æŒ‡å®šè®¾å¤‡å¼ºåˆ¶èµ°å›ºå®šçº¿è·¯ æ¯”å¦‚ï¼Œå†…ç½‘æŸä¸€ä¸ªæ‰‹æœºå¼ºåˆ¶ èµ° é¦™æ¸¯01 è¿™ä¸ªçº¿è·¯\n1 - SRC-IP-CIDR,192.168.1.201/32,26, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ 01 | ä¸“çº¿ æˆ–è€…\n1 - SRC-IP-CIDR,10.0.0.1/32,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ ","date":"2023-01-13T02:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/openclash/","title":"openwrt ä¸‹openclash å¸¸ç”¨è§„åˆ™å’Œé…ç½®"},{"content":"ä¹‹å‰ç”¨ smartdns+ssrp æ¥è§£å†³ï¼Œåæ¥å‘ç°è¿‡äºå¤æ‚ã€‚\nç®€å•çš„æ–¹æ³• è¿˜æ˜¯ç”¨ openclash æˆ–è€… passwall2ã€‚ä½†æ˜¯openclash è§„åˆ™è®¾ç½®è¿‡äºç¹çã€‚æ‰€ä»¥æˆ‘è¿™é‡Œç®€å•çš„ç”¨passwall2 æ¥å®ç°ã€‚\næœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œæ–°æ–‡ç« ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼š\npasswall2 æ–¹æ¡ˆç®€å•å®¹æ˜“ä¸”é è°± https://dev.leiyanhui.com/openwrt/passwall2\nssrp+smartdns ç•¥å¾®éº»çƒ¦ https://dev.leiyanhui.com/openwrt/ssr_doh\nopenclash è‡ªç”± å¼ºå¤§ https://dev.leiyanhui.com/openwrt/openclash\nå¦‚æœå¯ä»¥æ¥å—openclashçš„ç¹çï¼Œè¿˜æ˜¯å»ºè®®openclashï¼Œè‡ªç”±ï¼Œå¼ºå¤§ ï¼š\næœ¬æ–‡åŸºäº passwall2\nå®ç°ç›®æ ‡ 1ã€å›½å†…ä¸èµ°ä»£ç†ï¼Œdnsèµ°dohåˆ°é˜¿é‡Œäº‘ï¼Œå¢ƒå¤–ipå…¨éƒ¨èµ°ä»£ç†ï¼Œdohç”¨cloudflare 2ã€å¯ä»¥æŒ‡å®šéƒ¨åˆ†åŸŸåèµ° æˆ–è€… ä¸èµ° ä»£ç†\né…ç½®passwall2 å¯èƒ½éœ€è¦å¸è½½smartdnsï¼Œç„¶åå®‰è£…luci-app-passwall2 å…³é—­å…¶ä»–ä»£ç†å·¥å…·ã€‚\nèŠ‚ç‚¹è®¢é˜… é…ç½®å¥½ï¼Œä»¥åŠè‡ªåŠ¨æ›´æ–° è®¢é˜… å¯åŠ¨åˆ‡æ¢ ç­‰ç­‰\né…ç½®ä»£ç†ç¯å¢ƒ åŸºæœ¬é…ç½® mian è¿™ä¸ªåœ°æ–¹ Node é€‰åˆ†æµæ€»èŠ‚ç‚¹ å…¶ä»–çœ‹æƒ…å†µè‡ªå·±é…ç½®ï¼Œä»–è‡ªå¸¦äº†ä¸€ä¸ªDirectè§„åˆ™ï¼Œå†…ç½®çš„å›½å†…dns è¿˜æœ‰å¸¸ç”¨çš„è‹¹æœ å¾®è½¯ç­‰è§„åˆ™ã€‚è¿™ä¸ªé€‰ç›´è¿ï¼Œå…¶ä»–çš„çœ‹è‡ªå·±éœ€æ±‚ åŒ…æ‹¬å¥ˆé£ å’Œå»å¹¿å‘Š è¿˜æœ‰å›½å†…é‚£ä¸ª chinaç­‰ç­‰ã€‚\næœ€å…³é”®çš„æ˜¯ ä¸‹é¢é‚£ä¸ª å…¶ä»–æˆ–è€…å«åš* é»˜è®¤ è¿™è¡Œæ˜¯é…ç½®å¥½é¦–é€‰èŠ‚ç‚¹\nè¿™å°±å®Œæˆäº† åŸºæœ¬çš„ä¸Šç½‘ç¯å¢ƒ\nå…¨å±€dohé…ç½® åŸºæœ¬è®¾ç½®ï¼Œdnsç›´è¿dnsï¼Œé€‰dohé€‰é˜¿é‡Œäº‘ã€‚è¿œç¨‹ DNS åè®® åŒæ ·è®¾ç½® é€‰cfã€‚\nå®Œæ¯•\nè‡ªå®šä¹‰ä¸¤ä¸ªè§„åˆ™ passwall2 è‡ªå¸¦çš„è§„åˆ™ åŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³æ—¥å¸¸ä½¿ç”¨ã€‚ä¸éœ€è¦é¢å¤–å®šåˆ¶ã€‚ä½†æ˜¯æœ‰ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µã€‚\nå¼ºåˆ¶èµ°ä»£ç†çš„åŸŸå æ–°å»ºä»¥è§„åˆ™åç§°my_proxy æ‹–åˆ° æœ€å‰é¢ï¼Œç¼–è¾‘å†…å®¹ã€‚ åŸŸåè¿™ä¸ªåœ°æ–¹,æœ‰è¯´æ˜ï¼Œæˆ‘è¿™é‡Œ ä»¥æœ¬ç«™ä¸ºä¾‹,è¾“å…¥ä¸‹é¢ä¸¤è¡Œä»»æ„ä¸€è¡Œéƒ½æ˜¯å¯ä»¥çš„\n1 2 dev.leiyanhui.com full:dev.leiyanhui.com è¿”å›ï¼ŒåŸºæœ¬è®¾ç½®ï¼Œç»™ my_proxy é…ç½®ä¸€ä¸ªçº¿è·¯\nå¼ºåˆ¶ä¸èµ°ä»£ç†çš„åŸŸå æ–°å»ºä»¥è§„åˆ™åç§°my_direct æ‹–åˆ° æœ€å‰é¢my_proxyä¹‹å‰ï¼Œç¼–è¾‘å†…å®¹ã€‚\n1 2 test-ipv6.com dyndns.com è¿”å›ï¼ŒåŸºæœ¬è®¾ç½®ï¼Œç»™ my_direct è®¾ç½®ä¸ºç›´è¿\næµ‹è¯• å¯èƒ½éœ€è¦é‡å¯æµè§ˆå™¨ æˆ–è€…æ¸…ç†æœ¬æœºç¼“å­˜ï¼Œæ‰“å¼€ test-ipv6.com æŸ¥çœ‹è‡ªå·±çš„ip ä¸åœ¨æ˜¯æ¢¯å­çš„ipï¼Œ è¿˜æœ‰ï¼šhttp://checkipv6.dyndns.com http://checkip.dyndns.com/\nping dev.leiyanhui.com ä¹Ÿåº”è¯¥è¿”å›å›½å¤–çš„ipæ®µï¼ˆgitbub.ioï¼‰ï¼Œç”¨å›½å†…åœ¨çº¿ping å·¥å…·è¿”å›å›½å†…ipï¼ˆé˜¿é‡Œäº‘ï¼‰ æ‰“å¼€ç½‘ç«™æŸ¥çœ‹ dev.leiyanhui.com æŸ¥çœ‹è¯ä¹¦æ˜¯leçš„ ä¹Ÿå°±æ˜¯å¼ºåˆ¶èµ°äº†ä»£ç†ã€‚å›½å†…çš„æ˜¯äºšæ´²è¯šä¿¡çš„è¯ä¹¦\nè¿›é˜¶ipç›´è¿ ç›´è¿dohçš„ipï¼Œå¯ä»¥æŸ¥çœ‹ä¹‹å‰çš„æ–‡ç«  æœ«å°¾ https://dev.leiyanhui.com/openwrt/ssr_doh\né…åˆsmartdns smartdns æ”¯æŒé¢„æ›´æ–°dnsç­‰åŠŸèƒ½ æ”¯æŒttlç¼“å­˜ç­‰ç­‰ å¦‚æœæ€§èƒ½å¤Ÿç”¨å¯èƒ½ä¼šèˆ’æœä¸€äº›æ›´æ–¹ä¾¿ä¸€äº›ã€‚\nå¦‚æœéœ€è¦ï¼Œå¯ä»¥å¦å¤–æ­å»ºsmartdns åˆ°dockerï¼Œè¿™é‡Œè®¾ç½®ä¸ºsmartdnsçš„åœ°å€å³å¯ã€‚\n","date":"2023-01-12T08:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/passwall2/","title":"openwrtä¸Šé…ç½®doh/dotï¼Œä»¥åŠç§‘å­¦å·¥å…·åˆ†æµè§£æçš„æ–¹æ³• ä»¥åŠè‡ªå®šä¹‰åˆ†æµç­‰ ç®€å•æ–¹æ³•"},{"content":"ç®€å•çš„è¯´æ˜ æœ€ç®€å•çš„æ–¹æ³• æ˜¯ç”¨ passwall2\næœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œæ–°æ–‡ç« ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼š passwall2 æ–¹æ¡ˆç®€å•å®¹æ˜“ä¸”é è°± https://dev.leiyanhui.com/openwrt/passwall2\nç§‘å­¦å·¥å…· ç”¨ ssrp luci-app-ssr-plus dns å·¥å…·ç”¨ luci-app-smartdns\nsmartdns é‡Œé¢æ·»åŠ ä¸¤ç§dnsä¸Šæ¸¸æœåŠ¡å™¨\nä¸€ç»„å¢ƒå†…çš„ ç»„åç§° chinaï¼Œä¸€ç»„å¢ƒå¤–çš„ï¼Œç»„åç§° gfw\nå¢ƒå¤–çš„dohå‡å‹¾é€‰ä¸Š ä»defaulté»˜è®¤æœåŠ¡å™¨ç»„ä¸­æ’é™¤\nåŒæ—¶ smartdns ä¹Ÿå¼€å¯ä¸¤ç»„æœåŠ¡\nå¸¸è§„è®¾ç½®é‡Œé¢ï¼Œç«¯å£ä¿®æ”¹æ‰ä¸è¦ç”¨53 é˜²æ­¢æ•…éšœå¯¼è‡´å…¨å®¶æ–­ç½‘ï¼Œæˆ‘è¿™é‡Œç”¨ 6453\nç¬¬äºŒDNSæœåŠ¡å™¨ ä¹Ÿå¼€å¯ ç«¯å£ 6553 ï¼ŒæœåŠ¡å™¨ç»„ é€‰æ‹© gfw\nè¿™æ · åœ¨ 6453ç«¯å£ä¸Š èµ°å›½å†…dohè§£æï¼Œåœ¨ 6553 èµ°å›½å¤–dohè§£æ\nç„¶å åœ¨ ssrpé‡Œé¢ è®¿é—®å›½å¤–åŸŸå DNS æœåŠ¡å™¨ è‡ªå®šä¹‰è¾“å…¥ 127.0.0.1:6553 å›½å†… DNS æœåŠ¡å™¨ 127.0.0.1:6453\nè¿™æ ·å°±okäº†\nsmartdns æ”¯æŒæ˜æ–‡ä¸Šæ¸¸dns ä¹Ÿæ”¯æŒ dohå’Œdot\næˆ‘åœ¨ç”¨çš„ä¸Šæ¸¸dns chinaç»„ 1 2 https://dns.alidns.com/dns-query https://doh.pub/dns-query å°æ¹¾ä¹Ÿæœ‰ä¸€ç»„ï¼šhttps://dns.twnic.tw/dns-query\ngwfç»„ 1 2 3 4 https://dns.google/dns-query https://cloudflare-dns.com/dns-query https://dns.quad9.net/dns-query https://doh.sb/dns-query å…³é”®ç‚¹æ¥äº† å¦‚æœssrpä¸Šçš„ç”¨çš„ipåˆ†æµã€‚ã€‚ä»–éœ€è¦å…ˆè§£æå‡ºæ¥ å†åˆ¤æ–­ï¼Œæ‰€ä»¥ã€‚ã€‚å°±ä¼šå¯¼è‡´ æ‰€æœ‰çš„ç½‘ç«™ å¯èƒ½éƒ½æ— æ³•è®¿é—®ã€‚ã€‚ã€‚\nè§£å†³æ–¹æ³•ä¹Ÿç®€å•ï¼Œå°±æ˜¯ä¸Šæ¸¸dohæœåŠ¡å™¨ï¼Œç”¨ipç›´æ¥é“¾æ¥ã€‚è€Œä¸æ˜¯ç”¨åŸŸåã€‚ã€‚\né˜¿é‡Œäº‘çš„ä¹Ÿå¯ä»¥è¿™æ ·å†™\n1 2 https://223.5.5.5/dns-query https://223.6.6.6/dns-query è…¾è®¯çš„è²Œä¼¼ä¸æ”¯æŒç›´æ¥ipçš„æ–¹å¼ï¼Œä¸è¿‡è…¾è®¯çš„dohå’Œdot ä¸€ç›´ä¸æ€ä¹ˆç¨³å®šï¼Œæµ‹è¯•è¿è¡Œäº†å‡ ç™¾å¹´äº†è¿˜æ˜¯ä¸ç¨³å®š\n360çš„ ç”µä¿¡ç§»åŠ¨ https://101.226.4.6 https://218.30.118.6 360çš„ è”é€š https://123.125.81.6 https://140.207.198.6\ncfçš„å¯ä»¥è¿™æ ·å†™ https://1.1.1.1/dns-query googleçš„è¿™æ ·å†™ https://8.8.8.8\nä¸ºä»€ä¹ˆä¸é€‰æ‹©å…¶ä»–å·¥å…· pypass å†…ç½®äº†ä¸€ä¸ªsmartdnsï¼Œä½†æ˜¯pypass è‡ªå·±æœ‰åŸŸå èµ°ä»£ç†å’Œä¸èµ°ä»£ç†çš„ é…ç½®bug ï¼Œä¹Ÿå°±æ˜¯æ— æ•ˆã€‚æš‚æ—¶ä¸æ”¯æŒæ–°ç‰ˆä¼šä¸ä¼šè§£å†³\nclash è§„åˆ™è¿‡äºå¤æ‚ï¼Œæ²¡æ—¶é—´æŠ˜è…¾\nmosdns ä¸é”™ï¼Œæ”¯æŒåŸŸååˆ«åè§£æï¼Œæ¯”å¦‚ å¯ä»¥å¼ºåˆ¶è‡ªå·±åœ¨å›½å†…å¯¹è±¡å‚¨å­˜å’Œgithubpage åŒæ—¶å­˜åœ¨çš„ç½‘ç«™ï¼Œå¯ä»¥å¼ºåˆ¶åˆ«ååˆ° xxx.github.io ,ä½†æ˜¯ï¼Œmosdns çœŸçš„å¤ªç®€é™‹äº†ã€‚\nåŒæ—¶ smartdnsæ”¯æŒ åŸŸå æŒ‡å®šçš„ä¸Šæ¸¸ç»„è§£æï¼Œæ‰€ä»¥åˆ«åè§£æ ä¹Ÿä¸éœ€è¦äº†ã€‚\n","date":"2023-01-12T07:12:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/ssr_doh/","title":"openwrtä¸Šé…ç½®doh/dotï¼Œä»¥åŠç§‘å­¦å·¥å…·åˆ†æµè§£æçš„æ–¹æ³•"},{"content":"å‰ å®¶äººè¦å¬è‰¯å‹ç”µå°ï¼Œä¹‹å‰éƒ½æ˜¯ä½¿ç”¨webæ–¹å¼ ç»™å¥¹åœ¨æ‰‹æœºæ¡Œé¢åˆ›å»ºwebappåˆ° https://ly729.airtime.pro/embed/player?stream=s1\u0026amp;skin=2\nè€Œåå‘ç°è¯¸å¤šä¸ä¾¿\näºæ˜¯è¿˜æ˜¯ç®€å•å¼„ä¸€ä¸ªapp\næºåœ°å€ ä» https://tx.729ly.net/zh-sc/ è·å–åˆ°ä¸‰ä¸ªåœ°å€\n1 2 3 var source1 = \u0026#34;https://ly729.out.airtime.pro/ly729_a\u0026#34;; var source2 = \u0026#34;https://c20.radioboss.fm/stream/572\u0026#34;; var source3 = \u0026#34;https://listen.729ly.net:8001/ly729_a\u0026#34;; ä»“åº“åœ°å€ https://github.com/joyanhui/radio_ly\nä½¿ç”¨åº“ 1 2 3 4 cupertino_icons: ^1.0.2 audioplayers: ^5.2.1 flutter_launcher_icons: \u0026#34;^0.13.1\u0026#34; url_launcher: ^6.2.2 è‡ªå·±ç¼–è¯‘ linuxä¸‹éœ€è¦\n1 2 3 sudo apt-get install clang cmake ninja-build pkg-config libgtk-3-dev liblzma-dev sudo apt-get install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev sudo apt-get install gstreamer1.0-plugins-good gstreamer1.0-plugins-bad windowsä¸‹\n1 https://github.com/bluefireteam/audioplayers/blob/main/packages/audioplayers_windows/README.md#setup-for-windows è‡ªå®šä¹‰æºæµ‹è¯•åœ°å€ 1 2 http://satellitepull.cnr.cn/live/wxnxxwgb/playlist.m3u8 http://sk.cri.cn/887.m3u8 ","date":"2023-01-11T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/new/radio-ly/","title":"è‰¯å‹ç”µå°app"},{"content":"å…ˆè¯´ä¸ºä»€ä¹ˆä¸ç”¨æµè§ˆå™¨è‡ªå¸¦çš„ã€‚åŸå› å¾ˆç®€å•ï¼šéœ€è¦ç”¨å¤šä¸ªæµè§ˆå™¨ï¼ å¦å¤– å¯ä¿¡åº¦ä¸é«˜ï¼Œå‡ ä¹éƒ½æ²¡æœ‰å†å²å›æ¡£åŠŸèƒ½ ï¼Œæˆ‘æ›¾ç»åœ¨edgeå’Œç«ç‹ æä¸¢ä¸€æ¬¡å¯†ç ã€‚ æœ€åä¸‡å¹¸çš„æ˜¯ï¼ŒåŒæ­¥è¿‡ä¸€æ¬¡icloudï¼Œç„¶åä»icloudæ‰¾å›æ¥çš„ã€‚\nedge åº”è¯¥æ˜¯æœ€è¿‘æœ€ç«çš„äº†ï¼Œä½†æ˜¯edge åœ¨winä¸‹ï¼Œéœ€è¦è·Ÿéšç³»ç»Ÿæ›´æ–°ï¼Œè€Œä¸”å¸å·ç™»å½•ç¯å¢ƒå¤æ‚çš„æ—¶å€™ç»å¸¸è‡ªåŠ¨é€€å‡ºï¼Œä¸èƒœå…¶çƒ¦ã€‚\nå…¶æ¬¡å•°å—¦å‡ å¥å¸¸ç”¨çš„æµè§ˆå™¨ï¼šç«ç‹ï¼Œç«ç‹ çš„webappåŠŸèƒ½ç æ‰äº†ã€‚ç„¶åæœ‰æ’ä»¶å¯ä»¥å®ç°ï¼Œä½†æ˜¯ä¼šå¯¼è‡´ä¸€äº›çƒ­é”®é—®é¢˜ï¼Œæ¯”chrome ç³»å·®äº†ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ã€‚\nå½“ç„¶ ç«ç‹æœ€å¤§çš„ä¼˜åŠ¿ä¾æ—§æ˜¯ åœ¨linuxä¸‹ å¤šæ•°å‘è¡Œç‰ˆè‡ªå¸¦ï¼Œarchä¸Šä¸éœ€è¦aurå°±å¯ä»¥å®‰è£…ã€‚è¿˜æœ‰linuxä¸‹ç¡¬è§£ç çš„ä¼˜åŠ¿ã€‚\nchrome\u0026hellip;å›½å†…ç¯å¢ƒï¼Œè‡ªåŠ¨åŒæ­¥ç•¥å¾®éº»çƒ¦ä¸€äº›,æ ‡ç­¾åœ¨å¤šè®¾å¤‡å‘é€ æ›´æ˜¯è¦æ±‚å…¨å±€ éƒ½ç§‘å­¦ã€‚ã€‚ã€‚\nsafari ä¸ç”¨è¯´äº†ã€‚ã€‚ã€‚ä»…macoså’Œios\nè¿™å°±å¯¼è‡´æˆ‘å¸¸ç”¨çš„æµè§ˆå™¨ æ˜¯ edge+firefox+safari\nå…ˆè¯´ ç›®å‰çš„æ–¹æ¡ˆï¼šbitwarden/KeePass + floccus + åšæœäº‘ + ä¸€ä¸ªwinè™šæ‹Ÿæœº\nå¯¹å¯†ç åŒæ­¥çš„éœ€æ±‚ 1ã€å¿…é¡»æ”¯æŒioså¹³å° 2ã€æœ€å¥½å¯ä»¥åŒæ­¥åˆ°è‡ªå·±çš„å‚¨å­˜ç©ºé—´ï¼ˆå®‰å…¨ï¼‰ 3ã€å†å²å›æ¡£/å›æ”¶ç«™ 4ã€å¿…é¡»æ”¯æŒfirefox 5ã€æœ‰å¯¼å…¥å¯¼å‡º\nå¯¹ä¹¦ç­¾åŒæ­¥çš„è¦æ±‚ 1ã€å¿…é¡»æ˜¯å¯ä»¥ç›´æ¥æ›¿ä»£æµè§ˆå™¨é»˜è®¤æ”¶è—çš„ 2ã€æœ€å¥½æ”¯æŒios 3ã€å†å²å›æ¡£/å›æ”¶ç«™ 4ã€å¿…é¡»æ”¯æŒfirefox 5ã€æœ‰å¯¼å…¥å¯¼å‡º\nå¯†ç åŒæ­¥ LastPass å·²ç»å¼€å§‹æ”¶è´¹ï¼Œbitwarden ç›®å‰å…è´¹ç‰ˆå¤Ÿç”¨ï¼Œå¦å¤–bitwarden æ”¯æŒéƒ¨åˆ†ä¸­æ–‡,æ§åˆ¶å°è¿˜æœ‰å®¢æˆ·ç«¯ éƒ½æ˜¯ä¸­æ–‡çš„ã€‚æ”¯æŒfirefox safari iosã€‚ åœ¨iosä¸‹å¯ä»¥æ›¿ä»£è‡ªå¸¦çš„å¯†ç ç®¡ç†å™¨\nå½“ç„¶ï¼Œbitwarden æ˜¯æŠŠå¯†ç åŒæ­¥åˆ°äº†bitwarden å®˜æ–¹æœåŠ¡å™¨é‡Œé¢ã€‚å¦‚æœä¸æ”¾å¿ƒå¯ä»¥è€ƒè™‘ä½¿ç”¨ KeePassï¼Œæ”¯æŒwebdavåŒæ­¥ã€‚å¿«æ·é”®è‡ªåŠ¨å¡«å†™ç­‰ç­‰\nKeePasså¤§è‡´æµç¨‹ å…ˆé…ç½®å¥½KeePassï¼Œåˆ›å»ºæ•°æ®åº“å¹¶åŠ å¯†ï¼Œé…ç½®åä¿å­˜æ•°æ®åº“æ–‡ä»¶ï¼Œç„¶åå…³é—­æ•°æ®åº“ã€‚\nç„¶ååšæœäº‘ä¸­åˆ›å»ºæ–‡ä»¶å¤¹(KeePass)ï¼ŒæŠŠKeePassçš„å¯†ç æ–‡ä»¶ä¸Šä¼ è¿›å»ï¼Œç„¶ååœ¨keepasså†é…ç½®ä¸€æ¬¡ã€‚\nkeepassæ‰“å¼€é€‰æ‹©urlæ‰“å¼€ https://dav.jianguoyun.com/dav/KeePass/æ–‡ä»¶å\nå®˜ç½‘è¯´æ˜ï¼šhttps://help.jianguoyun.com/?p=3348\niosä¸‹ ä½¿ç”¨ keepassium strongbox éƒ½å¯ä»¥ åœ¨è®¾ç½®é‡Œé¢ å¯†ç  å¯†ç é€‰é¡¹ é€‰ä¸­ å³å¯\nå•†åº—é‡Œé¢æœ‰ä¸€ä¸ª å« å¥‡å¯†(FantasyPass - iKeepass) çš„å›½äº§è½¯ä»¶ï¼Œ12å—é’±ï¼Œç»è¿‡æµ‹è¯•å‘ç°ï¼Œå¡é¡¿ç¦»è°± è«åå…¶å¦™é—®é¢˜å¾ˆå¤šï¼Œå·²ç»é€€æ¬¾\nstrongbox å…è´¹ç‰ˆæœ¬æ¯æ¬¡éƒ½è¦è¾“å…¥ä¸»å¯†ç ï¼Œå¦‚æœä¸»å¯†ç æ¯”è¾ƒå¤æ‚ å°±å¾ˆçƒ¦èºï¼ï¼ï¼æœ€å¤šåªèƒ½ä¿å­˜10åˆ†é’Ÿ\nkeepassium å…è´¹ç‰ˆæœ¬ ç›®å‰çœ‹æ¥ å¥½åƒæ¯”è¾ƒå¥½ç”¨ï¼Œä½†æ˜¯å…è´¹ç‰ˆæœ¬åªæ”¯æŒä¸€ä¸ªæ•°æ®åº“ï¼Œä¸ªäººç”¨ ä¹Ÿè¶³å¤Ÿäº†\nè¿™å‡ ä¸ª åœ¨éƒ¨åˆ†ç½‘ç«™ä¸Š éƒ½æ— æ³•è‡ªåŠ¨è¾“å…¥ç”¨æˆ·åã€‚ã€‚ã€‚æœ‰ä¸€äº›è›‹ç–¼\nä¹¦ç­¾åŒæ­¥ ä¹¦ç­¾åŒæ­¥ã€‚ä¹¦ç­¾æ²¡æœ‰å¤ªå¤§ç§å¯†è¦æ±‚ï¼Œæˆ‘é€‰æ‹© floccus ç›´æ¥åˆ°åšæœäº‘çš„webdaväº†ã€‚ç®€å•çœå¿ƒã€‚ç„¶åè‡ªå·±åœ¨alist å’Œ rcloneä¸­ åšä¸€æ¬¡å®šæ—¶å¼‚åœ°å¤‡ä»½ã€‚\nå€¼å¾—æ³¨æ„çš„æœ‰ä¸‰ç‚¹ï¼š\nåšæœäº‘çš„æŒ‚è½½ç‚¹ è¦ ï¼š https://dav.jianguoyun.com/dav/ä½ åˆ›å»ºçš„åŒæ­¥æ–‡ä»¶å¤¹\nç¬¬äºŒä¸ªå¯†ç  æ˜¯æ–‡ä»¶åŠ å¯†å¯†ç ï¼Œå¦‚æœä½ ä¸æƒ³åŠ å¯† ç•™ç©ºå³å¯ï¼Œå¦åˆ™å¯¹åº”çš„æ–‡ä»¶æ— æ³•ç›´æ¥ä»å…¶ä»–æµè§ˆå™¨æ‰“å¼€\nhtmlæ ¼å¼ åœ¨æ‰‹æœºç«¯æœ‰è§£æé—®é¢˜ï¼Œä¼šæŠ¥é”™ã€‚å»ºè®®é€‰æ‹© xbel æ ¼å¼\næœ€åå…³äºåšæœäº‘çš„æ•°æ®å®‰å…¨é—®é¢˜ å¯†ç å’Œä¹¦ç­¾ éƒ½å¯ä»¥åŠ å¯†åå‚¨å­˜\nåšæœäº‘æ”¯æŒwebdavï¼Œå¯ä»¥ä»ç³»ç»Ÿä¸­æŒ‚è½½åï¼Œå¦å¤–è‡ªè¡Œsyncä¸€ä»½åˆ°æœ¬åœ° æˆ–è€…å…¶ä»–äº‘ç›˜\n","date":"2023-01-08T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/os/brower-sysnc/","title":"è·¨å¹³å°è·¨æµè§ˆå™¨ä¹¦ç­¾å’Œå¯†ç åŒæ­¥å…¬å·¥å…·"},{"content":"å®¶é‡Œè·¯ç”±å™¨æ˜¯openwrt x86ï¼Œå†…å¤–æœ‰è·‘ä¸€äº›æœåŠ¡ã€‚è¿™é‡Œç”¨è·¯ç”±å™¨ä¸Šé…ç½®nginx+sslï¼Œç„¶åå†…ç½‘çš„æ‰€æœ‰webæœåŠ¡éƒ½ç»è¿‡nginxåˆ°å…¬ç½‘ï¼Œå› ä¸ºå®¶ç”¨å®½å¸¦ä¸åª\nnginxwebuiæ˜¯å›½äº§åŸºäºjavaçš„å¼€æºnginxé…ç½®æ–‡ä»¶ç”Ÿæˆå™¨ï¼Œç”¨äºæ›¿ä»£æ­»æ¿çš„nginx-proxy-manage ã€‚\nä¼˜ç‚¹æ˜¯ æ›´åŠ çµæ´» å¼ºå¤§ æ”¯æŒä¸­æ–‡ï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰çš„nginxåŠŸèƒ½çš„å¯è§†åŒ–é…ç½®ã€‚\nç¼ºç‚¹æ˜¯ ç•¥å¾®ç¹çï¼Œå°¤å…¶æ˜¯ä¸èƒ½è‡ªåŠ¨è½½å…¥é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºé¡¹ç›®åï¼Œè¦æ‰‹åŠ¨åœ¨webuié‡Œé¢ï¼Œç‚¹æ›¿æ¢å’Œé‡è½½ã€‚\ndockerå®‰è£… nginxwebui å®˜ç½‘dockerå®ä¾‹æ˜¯ç”¨çš„hostæ¨¡å¼è¿è¡Œï¼Œä¸å»ºè®®ã€‚è¿˜æ˜¯è‡ªå®šä¹‰ç«¯å£æ˜ å°„ã€‚\næˆ‘è¿™é‡Œéœ€è¦3ä¸ªç«¯å£ nginxwebuiç®¡ç†ç«¯å£50088ï¼Œhttp ç«¯å£50081 https ç«¯å£50443\n1 docker run -itd --restart=always --name=nginxwebui --hostname nginxwebui -e BOOT_OPTIONS=\u0026#34;--server.port=50088\u0026#34; -p 50081:50081 -p 50088:50088 -p 50443:50443 --privileged=true cym1102/nginxwebui:latest è¯ä¹¦ç›®å½• æ˜¯ä¿å­˜åœ¨ï¼š /home/nginxWebUI/.acme.sh/ ä¸‹é¢\né…ç½®æ–‡ä»¶/home/nginxWebUI/nginx.conf ã€‚\nå¦‚æœéœ€è¦å¯¹è¯ä¹¦å•ç‹¬ç®¡ç†ï¼Œå¯ä»¥æ˜ å°„å‡ºæ¥ã€‚ä¹Ÿæ©å¯ä»¥ç”¨docker cp å®šæ—¶å¤åˆ¶å‡ºæ¥ã€‚\n1 docker run -itd -v /opt/docker_file/op_nginxWebUI:/home/nginxWebUI --restart=always --name=nginxwebui --hostname nginxwebui -e BOOT_OPTIONS=\u0026#34;â€“server.port=50088\u0026#34; -p 50081:50081 -p 50088:50088 -p 50443:50443 --privileged=true cym1102/nginxwebui:latest è€Œååœ¨ nginxwebui å†…éƒ¨ å†åä»£ ç®¡ç†ç«¯å£å‡ºæ¥ å¥—ä¸Šssl å³å¯ä»å¤–ç½‘sslè®¿é—®ã€‚\nä¸ºäº†æ–¹ä¾¿å¤‡ä»½ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰æ˜ å°„ç›®å½•å‡ºæ¥ã€‚è®°å¾—è‡ªè¡Œå®šæ—¶æ¸…ç†æ—¥å¿—ï¼š/home/nginxWebUI/log/nginxWebUI.log\næ³¨æ„ï¼š http://10.0.0.1:50088/ webç•Œé¢ æ‰“å¼€å¯èƒ½ä¼šç©ºç™½ï¼Œè¿™ä¸ª\u0026hellip;.å¤§æ¦‚æ˜¯å› ä¸ºjavaå¯åŠ¨æ…¢çš„åŸå› ï¼Œç­‰ä¸€ä¼š åˆ·æ–°ä¸€ä¸‹å°±å¥½äº†ã€‚\nä¸€ä¸ªå…¸å‹çš„åä»£é…ç½® åŒ…æ‹¬httpè‡ªåŠ¨è·³è½¬ssl\n1 2 3 4 5 6 7 8 9 è½¬å‘ç±»å‹ http ç›‘å¬ç«¯å£ï¼šè¿™ä¸ªå¦‚æœè¦å¼€å¯sslçš„è¯è¦è¾“å…¥sslç«¯å£ 50443 é€‰æ‹©å¯†ç æ–‡ä»¶ï¼šè¿™ä¸ªæ˜¯baseçš„å¯†ç  å¼€æœºsslï¼šæ˜¯ é€‰æ‹©å†…ç½®è¯ä¹¦ï¼šï¼ˆæå‰é…ç½®ï¼‰ å¼€å¯httpsï¼šæ˜¯ sslåè®®ç‰ˆæœ¬ï¼šå…¨éƒ¨å‹¾é€‰ httpè·³è½¬httpsï¼šæ˜¯ ä»è¯¥ç«¯å£è·³è½¬ï¼šç¬¬ä¸€ä¸ªç•™ç©º ç¬¬äºŒä¸ªè¾“å…¥sslçš„ç«¯å£å 50081 è¿™æ ·å°±å¯ä»¥å®ç°ï¼Œè®¿é—®httpçš„æ—¶å€™è‡ªåŠ¨è·³è½¬åˆ°ssl æœ€ç»ˆé…ç½®æ–‡ä»¶å¤§æ¦‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 server { server_name åŸŸå; listen 50443 ssl http2; ssl_certificate /home/nginxWebUI/.acme.sh/jia.leiyanhui.com/fullchain.cer; ssl_certificate_key /home/nginxWebUI/.acme.sh/jia.leiyanhui.com/jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50081; if ($scheme = http) { return 301 https://$host:50443$request_uri; } location / { # è‡ªå·±; proxy_pass http://10.0.0.1:50088; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Host $http_host; proxy_set_header X-Forwarded-Port $server_port; proxy_set_header X-Forwarded-Proto $scheme; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_redirect http:// https://; } } è‡ªåŠ¨å¤‡ä»½åˆ°é˜¿é‡Œäº‘é•œåƒ https://dev.leiyanhui.com/docker/img-to-aliyun/\n1 10 3 * * 6 sh /etc/docker_up_aliyun_nginxWebUi.sh ä½¿ç”¨nginxWebUIåä»£ ä¸»è·¯ç”±çš„ä¸€ä¸ªå°é—®é¢˜ å¦‚æœopä¸»è·¯ç”±é…ç½®äº† æ ¹æ®åŸŸåè·³è½¬ï¼ˆhttps://dev.leiyanhui.com/openwrt/acme-ssl/ï¼‰ï¼Œopéœ€è¦ç»‘å®šä¸€ä¸ªä¸å±äºæœ€ç»ˆé…ç½®æ–‡ä»¶çš„åŸŸå ã€‚æˆ–è€… ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚ å¦å¤– opé‡Œé¢çš„ç½‘é¡µç»ˆç«¯éœ€è¦å•ç‹¬å¤„ç†ï¼ˆæˆ‘é€‰æ‹© ç›´æ¥å¼ƒç”¨ï¼‰ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ–¹æ¡ˆ æ˜¯ ä¸ä¼ é€’hostå‚æ•°ï¼Œç„¶åç›´æ¥è®¿é—® https://ä½ çš„åŸŸå:ç«¯å£/cgi-bin/luci/ ä¹Ÿå¯ä»¥è§£å†³ã€‚\nå…³äºä½¿ç”¨httpåè®®è®¿é—®httpsç«¯å£çš„400é”™è¯¯å¤„ç† ä¾‹å¦‚æˆ‘æ­£å¸¸è®¿é—®æˆ‘çš„è·¯ç”±å™¨åº”è¯¥æ˜¯https://åŸŸå:50443å¦‚æœç”¨http://åŸŸå:50443è®¿é—®ç«¯å£è¿˜æ˜¯httpsçš„ç«¯å£å°±ä¼šæç¤º400é”™è¯¯ã€‚ å› ä¸ºæœåŠ¡æ˜¯å®¶äººä¹Ÿç”¨ã€‚ ä¸èƒ½æŒ‡æœ›ä»–ä»¬ç†è§£httpï¼ˆSï¼‰è¿™äº›ã€‚æ‰€ä»¥æˆ‘é‡‡å–çš„æ–¹æ³•æ˜¯ç›´æ¥æ‹¦æˆªé”™è¯¯ï¼Œå¹¶è·³è½¬åˆ°æ­£ç¡®çš„é¦–é¡µåœ°å€ã€‚\né¦–å…ˆè¿™ä¸ªé”™è¯¯æ˜¯ 497 é”™è¯¯ï¼ŒnginxWebUIæ”¯æŒå‚æ•°æ¨¡æ¿ï¼Œæ·»åŠ ä¸€ä¸ªå‚æ•°æ¨¡æ¿ï¼Œåå­—éšæ„ï¼Œæ·»åŠ å‚æ•°error_page 497 å€¼https://$host:50443; #è§£å†³httpåˆ°sslç«¯å£çš„400é”™è¯¯ ç„¶åç”¨é»˜è®¤é…ç½®åº”ç”¨åˆ°åå‘ä»£ç†ã€‚å®Œæ¯•\næœ€å¥½çš„è§£å†³æ–¹æ¡ˆ ç¼–è¾‘å¯¹åº”çš„ningxWebUiåå‘ä»£ç†é…ç½®ï¼Œ æ·»åŠ ä¸€ä¸ª = / è‡ªå®šä¹‰localtions æ·»åŠ å‚æ•° return å€¼ 301 https://$host:50443/cgi-bin/luci ï¼ˆæ„æ€å°±æ˜¯ç½‘å€åé¢æ²¡æœ‰ä¸œè¥¿çš„æƒ…å†µä¸‹è·³è½¬åˆ°åé¢åœ°å€ï¼‰å³å¯ ï¼ˆæ³¨æ„å¥½è¦æ¸…ç†æµè§ˆå™¨ç¼“å­˜ä¸ç„¶ä¸ä¼šç”Ÿæ•ˆï¼‰ æœ€ç»ˆä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 server { server_name op.jia.leiyanhui.com; listen 50443 ssl http2; ssl_certificate /home/nginxWebUI/.acme.sh/*.jia.leiyanhui.com/fullchain.cer; ssl_certificate_key /home/nginxWebUI/.acme.sh/*.jia.leiyanhui.com/*.jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; listen 50081; if ($scheme = http) { return 301 https://$host:50443$request_uri; } error_page 497 https://$host:50443; #è§£å†³httpåˆ°sslç«¯å£çš„400é”™è¯¯; location = / { # opè‡ªåŠ¨è·³è½¬; return 301 https://$host:50443/cgi-bin/luci; } location / { # opä»£ç†; proxy_pass http://10.1.1.1/; proxy_redirect http:// https://; } } è¿›é˜¶ 1ã€è§£å†³ åœ¨webç•Œé¢ç›´æ¥ç‚¹å‡» åŸŸå é“¾æ¥æ‰“å¼€çš„æ˜¯ä¸å¸¦ç«¯å£çš„å¯¼è‡´éæ ‡ç«¯å£æ‰“ä¸å¼€çš„æƒ…å†µã€‚ https://github.com/joyanhui/nginxWebUI 2ã€è§£å†³ å®šæ—¶ç»­ç­¾2ç‚¹æ‹¥å µçš„é—®é¢˜ï¼Œ ä¸‹è½½ æˆ‘è‡ªå·±çš„ä¿®æ”¹çš„ jarï¼Œæ›¿æ¢åˆ°dockeré‡Œé¢\n1 2 3 4 5 docker exec -it nginxwebui rm /home/nginxWebUI.jar #åˆ é™¤åŸç‰ˆjar wget https://github.com/joyanhui/nginxWebUI/releases/download/2st/nginxWebUI.jar docker cp nginxWebUI.jar nginxwebui:/home/nginxWebUI.jar # å¤åˆ¶å®¿ä¸»æœºä¸Šçš„ä¿®æ”¹è¿‡çš„jarè¿›å» docker restart nginxwebui #é‡å¯ rm -rf nginxWebUI.jar ä¸‹è½½åœ°å€ https://www.123pan.com/s/EqorVv-n0nPA æå–ç :yhjt\nè¯¦ç»† https://github.com/joyanhui/nginxWebUI\nå…¶ä»–é—®é¢˜ nginxwebui å’Œ nginx-proxy-manager éƒ½åŒæ ·çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨webç•Œé¢ç›´æ¥ç‚¹å‡» åŸŸå é“¾æ¥æ‰“å¼€çš„æ˜¯ä¸å¸¦ç«¯å£çš„ã€‚åœ¨å‰è€…çš„github æäº¤è¿‡issuesä½†æ˜¯ä½œè€…æ²¡æœ‰å›åº”ã€‚åatä½œè€…åï¼Œä½œè€…è¡¨ç¤ºï¼šè¿™ä¸ªç•Œé¢æ˜¯å±•ç¤ºä¿¡æ¯ç”¨ï¼Œä¸æ˜¯ç»™ä½ é«˜å¼ºåº¦ä½¿ç”¨çš„ ä¸çŸ¥æ‰€äº‘ã€‚\nå·²ç»è‡ªå·±ä¿®æ”¹ https://github.com/joyanhui/nginxWebUI\nä¸è¿‡nginxwebui ç›¸å¯¹ nginx-proxy-manager ä¾æ—§é€‚åˆéæ ‡ç«¯å£çš„ å¦‚æœæ˜¯å†…ç½‘ä½¿ç”¨ï¼Œå®¶ç”¨å®½å¸¦æ²¡æœ‰æ ‡å‡†ç«¯å£çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•æ–¹æ³•å®ç°ï¼Œå°±æ˜¯åœ¨è·¯ç”±å™¨ä¸Šè½¬å‘è·³è½¬ä¸€æ¬¡ï¼Œè¯¦æƒ…ï¼šhttps://dev.leiyanhui.com/openwrt/acme-ssl/\nå¦å¤– nginxwebui çš„è¯ä¹¦ç”³è¯· æœ‰å‡ ä¸ªå°é—æ†¾ï¼Œ1 è¯ä¹¦æ£€æŸ¥æ—¶é—´å›ºå®šåœ¨å‡Œæ™¨2ç‚¹ä¸å¯ä»¥ä¿®æ”¹ï¼Œè¿˜æ˜¯å¾ˆæ‹¥æŒ¤çš„ã€‚2 æ²¡æœ‰æ—¥å¿—æ˜¾ç¤ºï¼Œå¦‚æœå‡ºé”™ä½ ä¹Ÿä¸çŸ¥é“ã€‚ã€‚ã€‚åªèƒ½ç­‰å¾…ã€‚ã€‚ã€‚\n","date":"2023-01-07T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/nginx-proxy-ssl/","title":"dockerè¿è¡Œnginx å¹¶åä»£å†…ç½‘çš„ä¸€äº›æœåŠ¡2(nginxwebuiä¿®æ”¹ç‰ˆ)"},{"content":"openwrtä¸‹é…ç½®ipsec,åŸºäºluci-app-ipsec-vpnd æ³¨æ„ä¸æ˜¯luci-app-ipsec-server åè€…æœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªé—®é¢˜ã€‚\né»˜è®¤è®¾ç½®å‘ç° å¤–ç½‘æ— æ³•æ‹¨ä¸Šæ¥ã€‚éšåå‘ç°å†…ç½‘ä¹Ÿæ— æ³•æ‹¨ä¸Šæ¥ã€‚\né…ç½®æ–‡ä»¶ 1 nano /etc/ipsec.conf æ‰¾åˆ°\n1 # strictcrlpolicy=yes å–æ¶ˆæ³¨é‡Šï¼Œç„¶åé‡å¯ipsec å°±å¥½äº†ã€‚\n1 /etc/init.d/ipsec restart å¯åŠ¨è„šæœ¬ å¦‚æœé‡å¯å è¿™ä¸ªä¸Šé¢çš„æ–‡ä»¶è‡ªåŠ¨æ¢å¤ï¼Œé‚£å°±æ˜¯æœ‰å…¶å®ƒè„šæœ¬å¤„ç†è¿‡è¿™ä¸ªæ–‡ä»¶ã€‚ç»è¿‡æ£€æŸ¥ å‘ç° æ˜¯ /etc/init.d/ipsec è¿™ä¸ªè„šæœ¬ï¼Œã€‚æ‰¾åˆ° start_service() è¿™æ®µ çš„config setup\nä¿®æ”¹ä¸‹é¢çš„å†…å®¹\n1 2 3 4 5 config setup # strictcrlpolicy=yes # edit this form /etc/init.d/ipsec strictcrlpolicy=yes uniqueids=never å…¶ä»–æ— æ³•è®¿é—®å†…ç½‘ ç­‰å…¶ä»–é—®é¢˜ æ²¡å‘ç°ã€‚éƒ½æ­£å¸¸ã€‚\né˜²ç«å¢™å¤„ç† å¦å¤– ç½‘ç»œ-é˜²ç«å¢™-è½¬å‘ å°†æ‹’ç»æ”¹ä¸ºæ¥å— ï¼Œ æ£€æŸ¥ é€šè®¯è§„åˆ™é‡Œé¢ åº”è¯¥æœ‰è‡ªåŠ¨æ·»åŠ çš„ 500 å’Œ4500 ä¸¤ä¸ªç«¯å£\nå¦‚æœæ˜¯äºŒçº§è·¯ç”±å™¨ è¿˜éœ€è¦åœ¨ä¸»è·¯ç”±åšç«¯å£è½¬å‘ï¼Œè¿™ä¸ªä¸ç”¨å¤šè¯´äº†ã€‚\nå¦å¤–é˜²ç«å¢™è§„åˆ™ï¼Œæˆ‘vpnç½‘æ®µæ˜¯ 10.10.10.2/24 æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆéå¿…é¡»ï¼‰\n1 2 3 tables -t nat -I POSTROUTING -s 10.10.10.0/24 -j MASQUERADE tables -I FORWARD -i vpn -s 10.10.10.0/24 -j ACCEPT ptables -I INPUT -i vpn -s 10.10.10.0/24 -j ACCEPT å¦‚æœæƒ³è®©vpnå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ ç§‘å­¦ä¸Šç½‘ï¼Œéœ€è¦åœ¨å¯¹åº”çš„ç§‘å­¦è½¯ä»¶é‡Œé¢é…ç½®ã€‚ æ¯”å¦‚ï¼šssrpçš„è¯ï¼Œé»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œåªä»è®¿é—®æ§åˆ¶ æ¥å£æ§åˆ¶é‡Œé¢ é€‰ä¸­ä¸¤ä¸ªvpnæ¥å£å³å¯\nå¯åŠ¨ipsec vpn ç³»ç»Ÿï¼Œå¯åŠ¨é¡¹ï¼Œæ‰¾åˆ° ipsec é‡å¯ æˆ–è€…å¯åŠ¨\n","date":"2023-01-07T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/ipsec-server/","title":"openwrt ä¸‹é…ç½®IPSec "},{"content":"openwrtæ›´æ–°çš„æ—¶å€™ å‡ºç° Signature check failed,ï¼Œç„¶åéƒ¨åˆ†è½¯ä»¶åŒ…ä¹Ÿæœ‰é—®é¢˜ï¼Œå°±æ˜¯æºçš„ç­¾åæœ‰é—®é¢˜ã€‚\nåœ¨ æŸäº›ä¿®æ”¹ç‰ˆå›ºä»¶ä¸Šå¸¸è§ï¼Œå°¤å…¶è…¾è®¯äº‘çš„æºï¼Œè§£å†³æ–¹æ³• å°±æ˜¯æ‰¾åˆ°\n/cgi-bin/luci/admin/system/packages/ipkg OPKG åŸºç¡€é…ç½® æˆ–è€…ç›´æ¥ç¼–è¾‘ /etc/opkg.conf æŠŠæœ€åä¸€è¡Œ option check_signature æˆ–è€… option check_signature 1 æ³¨é‡Šæ‰\n","date":"2023-01-06T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/source-signature-err/","title":"openwrt Signature check failed.é”™è¯¯çš„è§£å†³"},{"content":"åœ¨ä½¿ç”¨openwrtçš„ç«¯å£è½¬å‘æ—¶å€™é‡åˆ°ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ å¤–ç½‘å¯ä»¥ç”¨ å…¬ç½‘IP/åŸŸå + ç«¯å£çš„æ–¹å¼ è®¿é—®å†…ç½‘ã€‚ä½†æ˜¯å†…ç½‘å†…ä¸å¯ä»¥è¿™æ ·è®¿é—®ã€‚\nç»è¿‡ç”µæŠ¥ç¾¤é‡Œé¢å¤§ä½¬Gx Hunterçš„æé†’ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹ç«¯å£å›æµã€‚ç„¶åæŸ¥é˜…å…¶ä»–äººæ–‡ç«  å‘ç° æ˜¯dockerå¯¼è‡´çš„ç«¯å£å›æµé—®é¢˜ã€‚\nç®€å•å¤„ç†æ”¾æ–¹æ³•\nvi /etc/sysctl.d/11-br-netfilter.conf æ£€æŸ¥å’Œä¿®æ”¹ä¸‹é¢ä¸‰è¡Œå†…å®¹ï¼Œæ²¡æœ‰çš„è¯æ·»åŠ ï¼Œæœ‰çš„è¯ä¿®æ”¹\n1 2 3 net.bridge.bridge-nf-call-arptables=0 net.bridge.bridge-nf-call-ip6tables=0 net.bridge.bridge-nf-call-iptables=0 vi /etc/sysctl.conf æ£€æŸ¥å’Œä¿®æ”¹ ï¼Œæ²¡æœ‰çš„è¯æ·»åŠ ï¼Œæœ‰çš„è¯ä¿®æ”¹ æ–‡ä»¶ä¸å­˜åœ¨çš„è¯åˆ›å»ºï¼Œå†…å®¹ä¹Ÿæ˜¯å‰é¢çš„ä¸‰è¡Œ\néªŒè¯sysctl -p è¾“å‡ºå†…å®¹åº”è¯¥ä¹Ÿæ˜¯è¿™ä¸‰è¡Œå†…å®¹ï¼Œæ£€æŸ¥æ— è¯¯åï¼Œé‡å¯sysctl\n1 /etc/init.d/sysctl restart ","date":"2023-01-06T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/forwards-err/","title":"openwrtç«¯å£è½¬å‘çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œç«¯å£å›æµçš„é—®é¢˜"},{"content":"æŠ¥é”™ä¿¡æ¯\n1 docker: Error response from daemon: driver failed programming external connectivity on endpoint alist (53d606bcf21ac0e0943a9d21eddb3934f0d2f71c75a8fa7fb652685e3fdd9253): (iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 0/0 --dport XXX -j DNAT --to-destination 172.17.0.2:XXX ! -i docker0: iptables: No chain/target/match by that name. æ£€æŸ¥äº†ä¸€åœˆæ²¡æœ‰æ‰¾åˆ°é—®é¢˜ï¼Œç„¶åä»openwrtçš„lucié‡Œé¢é‡å¯äº†ä¸€ä¸‹docker è§£å†³ã€‚ã€‚ã€‚\n","date":"2023-01-06T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/docker-iptable-err/","title":"openwrtä¸Šçš„dockeræç¤ºiptableé”™è¯¯çš„è§£å†³æ–¹æ¡ˆ"},{"content":"æˆ‘è¿™é‡Œé€‰æ‹©ç”¨dockerè¿è¡Œ,éœ€è¦ä½ å…ˆåœ¨openwrtä¸Šé…ç½®å¥½dockerã€‚\n1ã€æ³¨å†Œé…ç½®å¥½cf ç™»å½•åï¼Œåœ¨cfç‚¹å‡»åŸŸå/ç½‘ç«™ï¼Œ ç‚¹å‡»å·¦ä¾§çš„ æµé‡ -ã€‹ Cloudflare Tunnel å¯åŠ¨ Cloudflare Zero Trust ä»ªè¡¨ç›˜\nåœ¨ä»ªè¡¨ç›˜ é€‰æ‹© access -ã€‹ Tunnel æŒ‰ç…§æç¤ºé…ç½® å³å¯ã€‚\nè·¯ç”±ä¸Šç›´æ¥è¿è¡Œ ä»ªè¡¨ç›˜æç¤ºçš„dockerå‘½ä»¤\n","date":"2023-01-06T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/cloudflare-net/","title":"openwrtä¸Šé…ç½®cloudflareå†…ç½‘ç©¿é€"},{"content":"dns æ˜¯éå¸¸å¤è€çš„åè®®ï¼Œéå¸¸å®¹æ˜“åŠ«æŒ å®¹æ˜“æ³„éœ²éšç§ã€‚ä¸»è¦æ˜¯åŠ«æŒè¿™ç‚¹éå¸¸ä¸æ–¹ä¾¿ã€‚\ndoh ä¹Ÿå°±æ˜¯ dns over httpsï¼Œå°±æ˜¯è®©dnsåè®®å»èµ°httpsåè®®ï¼Œå¯ä»¥å®Œå…¨é˜²æ­¢dnsæ±¡æŸ“ï¼Œä¹Ÿé˜²æ­¢éšç§æ³„éœ²ã€‚ä¸»æµç³»ç»Ÿéƒ½ä¸€ç›´æ”¯æŒè‡ªè¡Œé…ç½®ï¼Œä½†æ˜¯åœ¨æ¯å°è®¾å¤‡ä¸Šå¼„ è¿˜æ˜¯éº»çƒ¦ã€‚ æ‰€ä»¥ è¿˜æ˜¯å¼„åˆ°è·¯ç”±å™¨ä¸Šçœå¿ƒã€‚\næœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œæ–°æ–‡ç« ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼š\npasswall2 æ–¹æ¡ˆç®€å•å®¹æ˜“ä¸”é è°± https://dev.leiyanhui.com/openwrt/passwall2\nssrp+smartdns ç•¥å¾®éº»çƒ¦ https://dev.leiyanhui.com/openwrt/ssr_doh\nopenclash è‡ªç”± å¼ºå¤§ https://dev.leiyanhui.com/openwrt/openclash\nå¦‚æœå¯ä»¥æ¥å—openclashçš„ç¹çï¼Œè¿˜æ˜¯å»ºè®®openclashï¼Œè‡ªç”±ï¼Œå¼ºå¤§ ï¼š\nå®‰è£…æ’ä»¶https-dns-proxy\n1 2 3 4 5 6 #æ ¸å¿ƒ opkg install https-dns-proxy #ç½‘é¡µç•Œé¢ opkg install luci-app-https-dns-proxy #ä¸­æ–‡ opkg install luci-i18n-https-dns-proxy-zh-cn ä¸­æ–‡è¯­è¨€åŒ… å¥½åƒå¤±æ•ˆäº†ã€‚æ‰¾åˆ°ä¸€ä¸ª https://openwrt.pkgs.org/19.07/openwrt-luci-x86_64/luci-i18n-https-dns-proxy-zh-cn_2021-07-29-1-1_all.ipk.html\næ³¨æ„ https-dns-proxy å®‰è£…åä¼šé»˜è®¤å¯åŠ¨ï¼Œå¹¶æ¥ç®¡dnsï¼Œä¸”é»˜è®¤ä½¿ç”¨googleå’Œcfçš„dns å¢™å†…è‚¯å®š ä¼šå¯¼è‡´å…¨å±€ç½‘ç»œæ— æ³•dnsï¼Œéœ€è¦å°½å¿«å»é…ç½®ä¸ºå›½å†…å¯ç”¨çš„ã€‚\nå¸¸ç”¨dohæœåŠ¡å•† æµ‹è¯•\n1 2 curl --http2 -H \u0026#39;accept: application/dns-json\u0026#39; https://1.1.1.1/dns-query?name=cloudflare.com curl https://dns.alidns.com/resolve?name=taobao.com å¢ƒå†… è…¾è®¯/dnspods https://doh.pub/dns-query\u0026quot; é˜¿é‡Œäº‘ https://dns.alidns.com/dns-query\nå¦å¤–è¯´ä¸€ä¸‹é˜¿é‡Œäº‘çš„doh é˜¿é‡Œäº‘çš„dohä¼šå¼ºåˆ¶æ˜¾ç¤ºclient ipï¼Œgoogle cfç­‰æ²¡æœ‰è¿™æƒ…å†µã€‚ä½†æ˜¯æ€»æ‰€å‘¨çŸ¥ï¼Œgoogleå’Œcf éƒ½ç›¸å¯¹æ¯”è¾ƒæ…¢ä¸€äº›ï¼Œè€Œä¸”éœ€è¦ä½ æœ‰ç½‘ç»œå­¦ä¹ ç¯å¢ƒã€‚\nç›®å‰é˜¿é‡Œäº‘çš„dohåœ¨æ‰‹åŠ¨æŒ‡å®š client-subnetçš„æ—¶å€™è®¾ç½®ä¸ºå¢™å¤–ipä¼šè¿”å›æ²¡æœ‰æ±¡æŸ“çš„ç»“æœã€‚ è¿™ä¸ªå°æ¼æ´çš„èµ·å› åº”è¯¥æ˜¯é˜¿é‡Œäº‘åœ¨å¢™å¤–æœ‰ä¸Šçº§çº¯å‡€çš„æƒå¨dns\nä½†æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å¢™å†…ä½¿ç”¨é˜¿é‡Œäº‘dohæ¥è·å–æ²¡æœ‰æ±¡æŸ“çš„ç»“æœã€‚\n","date":"2023-01-06T15:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/doh/","title":"openwrtä¸Šé…ç½®dohï¼Œè®©å…¨ä½“ç”¨ä¸Šdoh (å†…æœ‰æ–°è§£å†³æ–¹æ¡ˆ)"},{"content":"nginxæ ‡å‡†ç«¯å£ä¸‹ï¼Œæˆ‘ä»¬å¸¸ç”¨rewriteæŠŠ80ç«¯å£å¼ºåˆ¶è°ƒæ•´åˆ°httpsï¼Œé‚£ä¹ˆåœ¨éæ ‡å‡†ç«¯å£ä¸‹ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ\nå…¶å®ä¹Ÿå¾ˆç®€å•\nä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ å¤§æ¦‚å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 server { # httpç«¯å£ listen 8880; # httpsç«¯å£ listen 8443 ssl http2; server_name ä½ çš„åŸŸå; index index.php index.html index.htm default.php default.htm default.html; root /www/wwwroot/Sites/site-vod; #SSL-START SSLç›¸å…³é…ç½®ï¼Œè¯·å‹¿åˆ é™¤æˆ–ä¿®æ”¹ä¸‹ä¸€è¡Œå¸¦æ³¨é‡Šçš„404è§„åˆ™ #error_page 404/404.html; #HTTP_TO_HTTPS_START if ($server_port !~ 8443){ rewrite ^(/.*)$ https://$host:8443$1 permanent; } #HTTP_TO_HTTPS_END ","date":"2023-01-06T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/web/nginx-http-https-no443/","title":"nginx éæ ‡ç«¯å£ httpå¼ºåˆ¶è·³è½¬https "},{"content":"xrdp ç›¸å¯¹ vnc ä»¥åŠç¬¬ä¸‰æ–¹çš„å…¶ä»–çš„åŸåˆ›æ¡Œé¢çš„è½¯ä»¶ ä¾‹å¦‚ todesk rustdeskï¼ˆè‡ªå»ºï¼‰ nomactione ä»¥åŠ ä¸²æµç­‰ï¼Œéƒ½æœ‰é€Ÿåº¦ä¼˜åŠ¿ã€‚\nä½†æ˜¯xrdp è‚¯å®šæ˜¯åªæ”¯æŒx11/xorgçš„ï¼Œç›®å‰åªæœ‰gnomeè‡ªå¸¦çš„è¿œç¨‹ï¼ˆç”¨æˆ·çº§ä¸”ä¸ç¨³å®šï¼‰æ”¯æŒWayland\nåœ¨ä¸åŒæ¡Œé¢çš„ä¸‹ xrdpçš„å¤„ç†ä¹Ÿç¨æœ‰å·®å¼‚ï¼Œè¿™é‡Œåˆ†åˆ«è®°å½•å¸¸è§çš„\nå®‰è£…é…ç½®xrdp è¿™é‡Œè·³è¿‡æ¡Œé¢ç¯å¢ƒçš„æ­å»º kdeã€i3ã€xfce4 ï¼Œä»¥åŠé©±åŠ¨éƒ¨åˆ†ï¼Œåªè®°å½•xrdpç›¸å…³çš„\n1 2 3 4 5 sudo pacman -S xorg-xinit # ä¸€èˆ¬æ¡Œé¢åº”è¯¥éƒ½å¸¦äº† sudo pacman -S base-devel #all ä¸€äº›ç¼–è¯‘è¦ç”¨çš„åŒ… yay -S xrdp yay -S xorgxrdp-glamor sudo pacman -S xorg-xrdb å£°å¡çš„å¤„ç†è¦ç”¨pulseaudio\n1 2 3 4 sudo pacman -S pulseaudio sudo pacman -S sbc bluez yay -S pulseaudio-module-xrdp å¤„ç†å¯åŠ¨è„šæœ¬ xrdp ä½¿ç”¨xinit å¯åŠ¨\n1 2 3 4 5 6 7 8 cp /etc/X11/xinit/xinitrc ~/.xinitrc #å¤åˆ¶ä¸€ä¸ªè¿‡æ¥ nano ~/.xinitrc #æ³¨é‡Šæ‰æœ€åçš„å‡ è¡Œ #twm \u0026amp; #xclock -geometry 50x50-1+1 \u0026amp; #xterm -geometry 80x50+494+51 \u0026amp; #xterm -geometry 80x20+494-0 \u0026amp; #exec xterm -geometry 80x66+0+0 -name login pulseaudio 1 2 3 # å£°éŸ³éƒ¨åˆ†å¯èƒ½éœ€è¦ æœ‰çš„æ¡Œé¢ç¯å¢ƒä¸éœ€è¦ PULSE_SCRIPT=/etc/xrdp/pulse/default.pa pulseaudio --daemonize=no pulseaudio \u0026amp; æ·»åŠ éœ€è¦å¯åŠ¨çš„æ¡Œé¢ i3w / dwm æ·»åŠ ä¸€è¡Œ\n1 exec i3w gnome 1 2 3 unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS exec dbus-launch gnome-shell --x11 kde 1 2 export DESKTOP_SESSION=plasma /usr/lib/plasma-dbus-run-session-if-needed startplasma-x11 xfce4 1 2 3 unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS exec dbus-launch startxfce4 åç»­å¤„ç† Xwrapper 1 2 sudo nano /etc/X11/Xwrapper.config allowed_users=anybody å¯åŠ¨xrdp 1 2 sudo systemctl enable xrdp sudo systemctl start xrdp ","date":"2023-01-02T09:40:20+08:00","permalink":"https://dev.leiyanhui.com/arch/xrdp-all/","title":"archlinux å„ç§æ¡Œé¢ç¯å¢ƒä¸‹çš„xrdpçš„é…ç½®"},{"content":"é€‰æ‹© ç”¨ https://hub.docker.com/r/linuxserver/webtop\né»˜è®¤ç”¨æˆ·åï¼šabc å¯†ç ï¼šabc\n3DåŠ é€Ÿ Ubuntu 1 --device=/dev/dri:/dev/dri fuse å®¿ä¸»æœºè¦å®‰è£…fuse\n1 --privileged å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆ æ˜¯\n1 2 --device /dev/fuse \\ --cap-add SYS_ADMIN \\ ç«¯å£ 3000 æ˜¯web-vnc 3389 å’Œ22 ä¸ç”¨å¤šè¯´\n1 2 3 -p 10100:3000 -p 10101:3389 -p 10102:22 ubuntu 3D 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker run -d \\ --name=webtop-ubuntu \\ --privileged \\ --security-opt seccomp=unconfined \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e SUBFOLDER=/ \\ -e KEYBOARD=en-us-qwerty \\ -e TITLE=webtop-ubuntu \\ -p 10100:3000 \\ -p 10101:3389 \\ -p 10102:22 \\ -v /home/yanhui/mnt/nvme/webtop-ubuntu:/config \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --device=/dev/dri:/dev/dri \\ --restart unless-stopped \\ lscr.io/linuxserver/webtop:ubuntu-kde è¾“å…¥æ³• 1 sudo apt install fcitx5 fcitx5-rime å¦å¤–éœ€è¦ç¼–è¾‘ /init å®ç°è‡ªåŠ¨å¯åŠ¨\narch kdeçš„é•œåƒ æœ‰ç‚¹é—®é¢˜ï¼Œxrdpè¿ä¸ä¸Š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker run -d \\ --name=webtop-arch \\ --privileged \\ --security-opt seccomp=unconfined \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e SUBFOLDER=/ \\ -e KEYBOARD=en-us-qwerty \\ -e TITLE=webtop-arch \\ -p 10100:3000 \\ -p 10101:3389 \\ -p 10102:22 \\ -v /home/yanhui/mnt/nvme/webtop-arch:/config \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --device=/dev/dri:/dev/dri \\ --restart unless-stopped \\ lscr.io/linuxserver/webtop:arch-i3 ","date":"2023-01-01T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/docker-linux-desktop/","title":"docker ä¸€ä¸ªå¯ç”¨çš„å®Œæ•´æ¡Œé¢ç³»ç»Ÿ  "},{"content":"æ—§ç‰ˆæŸ¥çœ‹ ï¼šhttps://dev.leiyanhui.com/all-in-one/diy/\nå®‰è£…å’Œä¸‹è½½ https://www.123pan.com/s/EqorVv-K2nPA æå–ç :arch ä¸‹è½½åè§£å‹ï¼Œç„¶åç”¨ventoyï¼Œç”¨æ”¯æŒx11è½¬å‘çš„sshå®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ MobaXtermï¼‰ ç™»å½• ç”¨æˆ·åyanhui å¯†ç  1 root å¯†ç ä¹Ÿæ˜¯ 1 ä½†æ˜¯rooté»˜è®¤ç¦æ­¢ç™»å½•ã€‚\nç®€æ˜ä½¿ç”¨æ–¹æ³• https://dev.leiyanhui.com/all-in-one/arch-aio-use/\néƒ¨åˆ†éœ€è¦ä½ ç»§ç»­å¤„ç†çš„ ä»…é™2022-12-29 ç‰ˆæœ¬ ï¼š ä¿®æ”¹æœåŠ¡å¼•å¯¼é¡ºåº\nä½¿ç”¨æ¡¥æ¥ç½‘ç»œ https://dev.leiyanhui.com/all-in-one/arch-aio-use-bridge-network/\nè‡ªåŠ¨æŒ‚è½½å…¶ä»–ç£ç›˜çš„æ¡ˆä¾‹ https://dev.leiyanhui.com/arch/auto\u0026ndash;dock-kvm/\nå…¶ä»–å¸¸è§é—®é¢˜ https://dev.leiyanhui.com/all-in-one/faq\n","date":"2022-12-30T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/arch-aio/","title":"é€‰æ‹©arch-aioï¼Œå½»åº•æŠ›å¼ƒpve esxi unraid"},{"content":"æ—è·¯ç”±æ–¹æ¡ˆçš„ç—›ç‚¹ æ—è·¯ç”±åœ¨å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œä¼šå½±å“ç½‘å…³é…ç½®ä¸ºæ—è·¯ç”±çš„è®¾å¤‡ä½¿ç”¨ã€‚æ‰€ä»¥éœ€è¦è‡ªåŠ¨æ£€æµ‹æ—è·¯ç”±ã€‚\né¦–å…ˆ ä¸»è·¯ç”±è¦æœ‰å®Œæ•´æƒé™çš„ç³»ç»Ÿï¼Œå°±æ˜¯æœ‰sshæƒé™çš„ï¼ çˆ±å¿«è¯·ä½¿ç”¨åˆ†æµæ–¹æ¡ˆ åˆ°äºŒçº§è·¯ç”±ä»¥åŠç¯å›ç­‰æ–¹å¼å®ç°ã€‚\næ—è·¯ç”±çš„è‡ªåŠ¨åˆ‡æ¢æ–¹æ¡ˆæ˜¯å¾ˆå¤šçš„äººçš„åˆšæ€§éœ€æ±‚ã€‚\nç”¨è½¯è·¯ç”±åšä¸»è·¯ç”±ï¼Œä¸»è¦é—®é¢˜ä¸¤ç‚¹ï¼ŒæŠ˜è…¾è¿‡ç¨‹ä¸­çš„å¤±è¯¯ä¸€äº›ä¸ç¡®å®šä¸œè¥¿ï¼Œå®¹æ˜“æ–­ç½‘ã€‚è¿˜æœ‰x86è½¯è·¯ç”± ä¸å°‘äººé‡åˆ°çªç„¶æ–­ç”µå¯¼è‡´çš„æ— æ³•å¯åŠ¨åå…¨å®¶æ–­ç½‘ è‡ªåŠ¨åˆ‡æ¢æ—è·¯ç”±æ–¹æ¡ˆï¼Œæ›´åŠ ç¨³å®šä¸€äº›ã€‚\næœ¬æ–‡æ’°å†™äº2019å¹´ï¼ŒåæœŸè™½æœ‰ä¿®æ”¹è¡¥å……ï¼Œä½†æ˜¯éƒ¨åˆ†å†…å®¹å·²ç»è½å æœ‰èƒ½åŠ›æœ‰æ—¶é—´çš„æœ‹å‹ï¼Œå»ºè®®è¿˜æ˜¯ä¸Šx86 æ–¹æ¡ˆï¼Œä¸éœ€è¦æ—è·¯ç”±ã€‚ æˆ–è€…ä½¿ç”¨çˆ±å¿«åˆ†æµæ–¹æ¡ˆã€‚ https://dev.leiyanhui.com/route/ikuai-bypass-gfw/\nä¸ªäººç»éªŒ çˆ±å¿«åˆ†æµæ–¹æ¡ˆæ›´ä¸ºç¨³å¥ï¼Œä½†æ˜¯éœ€è¦å¦å¤–å¼€ä¸€ä¸ªop ä»¥åŠdockeræ¥å¤„ç†åˆ†æµè§„åˆ™ã€‚ å¯¹è®¾å¤‡å†…å­˜è¦æ±‚è¾ƒé«˜ï¼ˆx32çˆ±å¿«ä¸æ”¯æŒkvm dockerå¯ç”¨é•œåƒæœ‰é™ï¼Œçˆ±å¿«x64 éœ€è¦4Gå†…å­˜å®‰è£… 2Gå†…å­˜è¿è¡Œï¼‰ã€‚ å¦‚æœå†…å­˜ç´§å¼ æœ€å¥½è¿˜æ˜¯é€‰æ‹©openwrt one only\nå®ç°ç›®æ ‡ ä¸»è·¯ç”±ä¸ºç¡¬è·¯ç”±è´Ÿè´£ä¸Šç½‘å’Œdhcp é¡ºå¸¦wifiï¼Œç¡¬äº¤æ¢è´Ÿè´£naså’Œæœºé¡¶ç›’ å°å¼æœºä¹‹é—´é€šè®¯ã€‚ å»æ‰ x86 è½¯è·¯ç”± nasæˆ–è€…aioä¸»æœº æˆ–è€… N1 æˆ–è€…é—²ç½®æ‰‹æœºä½œä¸ºæ—è·¯ç”±/æ—ç½‘å…³(åé¢ç»Ÿç§°æ—è·¯ç”±)\né‡ç‚¹ç›®æ ‡ï¼š æ—è·¯ç”±ç¦»çº¿åï¼Œæ‰€æœ‰è®¾å¤‡è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸»è·¯ç”±ç½‘å…³ åŒæ—è·¯ç”±Aå’ŒB Aæ­£å¸¸è¿è¡Œçš„æ—¶å€™Båˆ é™¤ä¸å­˜åœ¨åœ¨éœ€è¦è°ƒæ•´çš„æ—¶å€™ï¼Œå¤åˆ¶ä¸€ä¸ªç‹¬ç«‹çš„æ—è·¯ç”±å‡ºæ¥ï¼Œè‡ªå·±æ‰‹åŠ¨ä¿®æ”¹ä¸»æœºç”µè„‘çš„ç½‘å…³åˆ°æ—è·¯ç”±Bæµ‹è¯•æ²¡é—®é¢˜åæ›¿æ¢A å¯æ§åˆ¶éƒ¨åˆ†è®¾å¤‡ç§‘å­¦ï¼Œéƒ¨åˆ†è®¾å¤‡ä¸ç§‘å­¦ ksm ipsec ç§‘å­¦ å¹¿å‘Šè¿‡æ»¤ alist ddns nas ç­‰ï¼Œå…¨éƒ¨ç”±æ—è·¯ç”±æˆ–è€…aio/naså¤„ç†ã€‚ å®ç°åŸç† æ—è·¯ç”±ç”¨pve æˆ–è€… unraid æˆ–è€…dockerè¿è¡Œï¼Œå…³é—­dhcpæœåŠ¡ï¼Œé™æ€ipï¼ˆ10.0.0.50ï¼‰ï¼Œç½‘å…³æŒ‡å®šä¸ºä¸»è·¯ç”±ã€‚ä¹Ÿå°±æ˜¯æ—è·¯ç”±åªæ˜¯ä¸»è·¯ç”±ä¸‹é¢çš„ä¸€ä¸ªæ™®é€šè®¾å¤‡è€Œå·²ã€‚\nåŒDHCP å­˜åœ¨æŠ¢dhcpçš„æƒ…å†µï¼Œæ‰€ä»¥dhcpæœ¬èº«å ä¸äº†å¤ªå¤šèµ„æºï¼Œè¿˜æ˜¯ä¸»è·¯ç”±ç»Ÿä¸€ç®¡ç†ã€‚ ä¸»è·¯ç”±10.1.1.1 å¼€å¯dhcp dhcpçš„ç½‘å…³æ”¹ä¸ºç¨‹åºè„šæœ¬æ§åˆ¶ dhcpçš„ç§ŸæœŸå°½å¯èƒ½çŸ­ä¸€äº›ï¼ˆ120ç§’ï¼‰ ä¸»è·¯ç”± dhcpçš„ipæ®µä¸º 10.1.1.200-245 é‡ç‚¹è®¾å¤‡ é™æ€ç»‘å®šåˆ° 10.1.1.200ä»¥å†…çš„ipæ®µã€‚\né€»è¾‘å¦‚ä¸‹ ä¸»è·¯ç”±æ¯éš”ä¸€å®šæ—¶é—´ 30ç§’æˆ–è€…1åˆ†é’Ÿï¼Œæ£€æŸ¥ä¸€æ¬¡æ—è·¯ç”±æ˜¯å¦åœ¨çº¿ï¼Œ å¦‚æœåœ¨çº¿é‚£ä¹ˆ dhcpæœåŠ¡çš„ç½‘å…³æ”¹ä¸ºæ—è·¯ç”±ï¼ˆ10.0.0.50ï¼‰\nå¦‚æœæ—è·¯ç”±ä¸åœ¨çº¿ é‚£ä¹ˆdhcpæœåŠ¡çš„ç½‘å…³æ”¹ä¸ºä¸»è·¯ç”±ï¼ˆ10.0.0.1ï¼‰\nå¦‚æœæ—è·¯ç”±çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆé‡å¯ä¸€æ¬¡dnsmasqï¼ˆæˆ–è€…å†é‡å¯wifi æˆ–è€…é‡å¯æ•´ä¸ªç³»ç»Ÿï¼‰\nç§‘å­¦éƒ¨åˆ†ï¼Œç”±openclash å®ç°åˆ†æµï¼Œå°±æ˜¯éƒ¨åˆ†è®¾å¤‡ä¸èµ°ç§‘å­¦è¿˜æœ‰éƒ¨åˆ†è®¾å¤‡å¼ºåˆ¶å…¨å±€ç§‘å­¦ç­‰ç­‰ã€‚ è¿™ä¸ªå¯ä»¥çœ‹æˆ‘ä»¥å‰çš„æ–‡ç«  https://dev.leiyanhui.com/openwrt/openclash/\nå…·ä½“å®ç° æˆ‘ä¸»è·¯ç”±ä¾æ—§ç”¨10å¤šå¹´å‰çš„ å¤è‘£çº§k2påˆ·Padavan å›ºä»¶ï¼Œå› ä¸ºä»–çš„2.4Gä¿¡å·ä¸€ç›´å¾ˆå¥½ï¼ŒPadavan å¯ä»¥è·‘æ»¡1000Mï¼Œ5Gçš„è¯ä¹Ÿèƒ½è·‘åˆ°500Mï¼Œå¦å¤–ä¸€ä¸ª5Gè·¯ç”±å™¨å› ä¸º2.4Gä¿¡å·ä¸€èˆ¬æ‰€ä»¥åªèƒ½åšapç”¨ã€‚ ä¸‡å…†ç”±ä¸‹çº§ä¸€ä¸ªäº¤æ¢æœºå¤„ç†ï¼Œåƒå…†ä»¥å†…ä¼—ç”Ÿå¹³ç­‰ é€‚åˆè‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„ã€‚\nPadavan ä¹Ÿæ˜¯å¼€æºlinux å’Œopenwrtä½¿ç”¨èµ·æ¥åœ¨ç³»ç»Ÿå±‚é¢å·®è·ä¸æ˜¯å¾ˆå¤§ ï¼Œåªè¦æœ‰sshæƒé™ï¼Œæ‰€æœ‰å›ºä»¶éƒ½å¤§åŒå°å¼‚ã€‚\næ—è·¯ç”± ç”¨ pve è·‘çš„è‡ªå·±ç¼–è¯‘çš„openwrtï¼Œç›´æ¥æŒ‚çš„vmè·‘çš„ï¼Œå› ä¸ºæˆ‘è¿™è¾¹ï¼Œ8æ ¸å¿ƒï¼Œ64Gå†…å­˜ æ‰€ä»¥æ²¡ç”¨lxcå’Œdockerã€‚\nè„šæœ¬æµ‹è¯• padvané»˜è®¤æ˜¯å…³é—­sshçš„ï¼Œç³»ç»Ÿç®¡ç† - æœåŠ¡ æ‰¾åˆ°ssh æ‰“å¼€ï¼Œå®¢æˆ·ç«¯ç™»å½•ssh\næ£€æŸ¥æ—è·¯ç”±æ˜¯å¦åœ¨çº¿ 1 curl http://10.1.1.50 è¿™æ˜¯openwrtçš„ç™»å½•é¡µé¢ ä»–ä¼šè‡ªåŠ¨301è·³è½¬ï¼ŒæŸ¥çœ‹è¿”å›httpä»£ç  -m 3 æ˜¯3ç§’\n1 curl -I -s -m 3 http://10.1.1.50 -w %{http_code} | tail -n1 åº”è¯¥ä¼šè‡ªåŠ¨è¿”å›ä¸€ä¸ª301ä»£ç , http://10.1.1.50/cgi-bin/luci/ çš„è¯åº”è¯¥æ˜¯è¿”å›403ï¼Œè¿™ä¸ªå…ˆä¸ç®¡ å¦‚æœæ˜¯ä¸å­˜åœ¨çš„åœ°å€ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯è¿”å› 000\næ‰¾dnsmasqlçš„é…ç½®æ–‡ä»¶åœ°å€ 1 find / -name \u0026#34;*dnsmasq*\u0026#34; è¿”å› ç»“æœ é€ä¸ªæ£€æŸ¥åå‘ç°Padavanå’Œopenwrtä¸€æ · éƒ½æ˜¯/etc/dnsmasq.conf è¿™ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶å·²ç»åˆ†é…çš„åˆ—è¡¨ä¹Ÿæ˜¯/tmp/dnsmasq.leasesè¿™ä¸ªæ–‡ä»¶ã€‚\nåœ¨ä¸»è·¯ç”±ä¸­ è®¾ç½®dhcpçš„ç½‘å…³ä¸º æ—è·¯ç”±åœ°å€10.1.1.50 ï¼Œç„¶åæ‰§è¡Œ cat /etc/dnsmasq.confåº”è¯¥æœ‰ä¸€è¡Œdhcp-option=tag:lan,3,10.1.1.50\næµ‹è¯•é…ç½®æ–‡ä»¶çš„æŸ¥æ‰¾å’Œæ›¿æ¢ è®°ä½ä¸Šé¢çš„é‚£æ®µ dhcp-option=tag:lan,3,10.1.1.50 ç”¨grepæœç´¢è¯•è¯•\n1 grep dhcp-option=tag:lan,3,10.1.1.50 /etc/dnsmasq.conf |wc -l # æŸ¥æ‰¾ å¦‚æœæœ‰çš„è¯åº”è¯¥è¿”å›1 æ›¿æ¢\n1 2 3 sed -i \u0026#34;s/dhcp-option=tag:lan,3,10.1.1.50/dhcp-option=tag:lan,3,10.1.1.1/g\u0026#34; /etc/dnsmasq.conf ## æ£€æŸ¥ cat /etc/dnsmasq.conf å¦‚æœpadavançš„è¯ä¸ç”¨è¿™ä¹ˆéº»çƒ¦ ç”¨nvram set dhcp_gateway_x=10.1.1.1 é‡å¯ dnsmasq openwrt ä¸‹é¢è¿™ä¸¤ä¸ªå‘½ä»¤ éƒ½ä¸€æ ·çš„æ•ˆæœ\n1 2 service dnsmasq restart /etc/init.d/dnsmasq restart Padavan ä¸‹å¯æ‰§è¡Œæ–‡ä»¶æ˜¯ /usr/sbin/dnsmasq é€šè¿‡æŸ¥è¯¢ç½‘ä¸Šèµ„æ–™å¾—çŸ¥ PadavanæŠŠæœåŠ¡è„šæœ¬æ”¾åœ¨/sbin ç›´æ¥æ‰§è¡Œ/sbin/restart_dhcpd å³å¯\nç¼–å†™è„šæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 #!/bin/bash default_gateway=\u0026#39;10.1.1.1\u0026#39; #ä¸»è·¯ç”± IP up_gateway=\u0026#39;10.1.1.50\u0026#39; #æ—è·¯ç”± IP ï¼ˆéœ€è®¾ç½®çš„ä¸»è·¯ç”± DNS åœ°å€ï¼‰ check_ip_available(){ #ä½¿ç”¨ ping å‘½ä»¤æ£€æµ‹æ—è·¯ç”±æ˜¯å¦åœ¨çº¿ ping -c 3 $1 | grep packets | awk \u0026#39;{print $4}\u0026#39; } change_gateway_dns(){ #ç½‘å…³ DNS åˆ‡æ¢ nvram set dhcp_gateway_x=$1 #è®¾ç½®ç½‘å…³ nvram set dhcp_dns1_x=$1 nvram set dhcp_dns2_x=\u0026#34;\u0026#34; #è®¾ç½® DNS nvram commit #æäº¤ä¿®æ”¹ sleep 2 rc rc_service restart_net_and_phy #é‡å¯ä¸»è·¯ç”± ç½‘ç»œæœåŠ¡ restart_dns #é‡å¯ä¸»è·¯ç”± DNS restart_dhcpd #é‡å¯ä¸»è·¯ç”± DHCP # sleep 5 # reboot #è‡ªåŠ¨ä¿®æ”¹åå­˜åœ¨ç½‘ç»œæ•…éšœï¼Œå¯èƒ½éœ€è¦ç›´æ¥é‡å¯è·¯ç”±å™¨ï¼Œ ç­‰å¾…æ—¶é—´è¾ƒé•¿ } # If the gateway of the up close, the network is completely unusable res=`check_ip_available $up_gateway` #æ£€æµ‹æ—è·¯ç”±æ˜¯å¦å­˜åœ¨ current_gateway=`nvram get dhcp_gateway_x` #è·å–ä¸»è·¯ç”±å½“å‰ç½‘å…³ if [ $(($res)) -eq 0 ]; #æ£€æµ‹ç»“æœç­‰äº 0ï¼Œå³æ—è·¯ç”±ä¸å­˜åœ¨ï¼Œåº”è®¾ç½®ç½‘å…³å’Œ DNS ä¸ºä¸»è·¯ç”±åœ°å€ then if [ \u0026#34;$current_gateway\u0026#34; != \u0026#34;$default_gateway\u0026#34; ]; then #å¦‚æœå½“å‰ç½‘å…³åœ°å€ä¸æ˜¯ä¸»è·¯ç”±åœ°å€ echo \u0026#34;up_gateway to default\u0026#34; `change_gateway_dns $default_gateway` #å°†ç½‘å…³å’ŒDNSåˆ‡æ¢ä¸ºä¸»è·¯ç”±åœ°å€ å¹¶é‡å¯ fi echo \u0026#34;use default gateway , nothing changed\u0026#34; # ä»€ä¹ˆéƒ½ä¸ç”¨åš exit 1 fi if [ $(($res)) -ne 0 ]; #æ£€æµ‹ç»“æœä¸ç­‰äº 0ï¼Œå³æ—è·¯ç”±å­˜åœ¨ï¼Œåº”è®¾ç½®ç½‘å…³å’Œ DNS ä¸ºæ—è·¯ç”±åœ°å€ then if [ \u0026#34;$current_gateway\u0026#34; != \u0026#34;$up_gateway\u0026#34; ]; then #å¦‚æœå½“å‰ç½‘å…³åœ°å€ä¸æ˜¯ä¸»è·¯ç”±åœ°å€ echo \u0026#34;up_gateway to auxiliary_gateway\u0026#34; `change_gateway_dns $up_gateway` #å°†ç½‘å…³å’ŒDNSåˆ‡æ¢ä¸ºæ—è·¯ç”±åœ°å€ å¹¶é‡å¯ fi echo \u0026#34;use auxiliary_gateway , nothing changed\u0026#34; # ä»€ä¹ˆéƒ½ä¸ç”¨åš exit 1 fi #å°†è„šæœ¬ç½®äº /etc/storage/change_gatway.sh #è®¾ç½®è„šæœ¬è¿è¡Œæƒé™ï¼š`chmod +x /etc/storage/change_gatway.sh ` #ä¿å­˜è„šæœ¬ï¼Œé˜²æ­¢é‡å¯ä¸¢å¤±ï¼š`/sbin/mtd_storage.sh save` #è‡ªåŠ¨å®šæ—¶è¿è¡Œè„šæœ¬ï¼ˆæ¯ä¸€åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡ï¼‰ï¼š #`ç³»ç»Ÿç®¡ç† - æœåŠ¡ ` è°ƒåº¦ä»»åŠ¡ (Crontab) åŠ å…¥ `*/1 * * * * /etc/storage/change_gatway.sh` æœ€å\nå°†è„šæœ¬ç½®äº /etc/storage/change_gatway.sh è®¾ç½®è„šæœ¬è¿è¡Œæƒé™ï¼šchmod +x /etc/storage/change_gatway.sh ä¿å­˜è„šæœ¬ï¼Œé˜²æ­¢é‡å¯ä¸¢å¤±ï¼š/sbin/mtd_storage.sh save è‡ªåŠ¨å®šæ—¶è¿è¡Œè„šæœ¬ï¼ˆæ¯ä¸€åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡ï¼‰ï¼š ç³»ç»Ÿç®¡ç† - æœåŠ¡ è°ƒåº¦ä»»åŠ¡ (Crontab) åŠ å…¥ */1 * * * * /etc/storage/change_gatway.sh\nä»¥ä¸Šå†…å®¹æŠ„ è‡ªï¼šæ©å±±ï¼Œxuezou\næœ€åå­˜åœ¨çš„é—®é¢˜ ç»è¿‡æµ‹è¯• æ— è®ºæ˜¯wifiæ¥å…¥è¿˜æ˜¯ç½‘çº¿åŠ å…¥çš„è®¾å¤‡ éƒ½å¯ä»¥åœ¨çŸ­æš‚æ‰çº¿å è‡ªåŠ¨åˆ‡æ¢æˆåŠŸ\n","date":"2022-12-30T09:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/auto-change-gatway/","title":"æ—è·¯ç”±æ–¹æ¡ˆï¼Œè‡ªåŠ¨åˆ‡æ¢ç½‘å…³æ–¹æ¡ˆ å‚è€ƒ"},{"content":"å…ˆç¦æ­¢dockerå’Œkvm(libvirtd)å¼€æœºè‡ªåŠ¨ 1 2 systemctl disable docker systemctl disable libvirtd è‡ªå®šä¹‰ä¸€ä¸ªå¼€æœºæœåŠ¡rc-local rc-local.servic nano /usr/lib/systemd/system/rc-local.service\n1 2 3 4 5 6 7 8 9 10 11 12 13 [Unit] Description=\u0026#34;/etc/rc.local Compatibility\u0026#34; [Service] Type=forking ExecStart=/etc/rc.local start TimeoutSec=0 StandardInput=tty RemainAfterExit=yes SysVStartPriority=99 [Install] WantedBy=multi-user.target rc.local nano /etc/rc.local æŸ¥æ‰¾/etc/rc.local.d/ä¸‹çš„è„šæœ¬å¹¶æ‰§è¡Œ\n1 2 3 4 5 6 7 8 #!/bin/sh # /etc/rc.local if test -d /etc/rc.local.d; then for rcscript in /etc/rc.local.d/*.sh; do test -r \u0026#34;${rcscript}\u0026#34; \u0026amp;\u0026amp; sh ${rcscript} done unset rcscript fi æƒé™ ç›®å½• å’Œå¼€æœºè‡ªå¯ 1 2 3 chmod a+x /etc/rc.local mkdir /etc/rc.local.d systemctl enable rc-local åˆ›å»ºè‡ªåŠ¨è„šæœ¬ sudo nano /etc/rc.local.d/auto-mount-and-start-aio.sh\nå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 # è‡ªåŠ¨æŒ‚è½½ #mkdir-p mnt/nvme mnt/efi mnt/exfat mount /dev/nvme0n1p6 /home/yanhui/mnt/exfat mount /dev/nvme0n1p5 /home/yanhui/mnt/nvme mount /dev/nvme0n1p1 /home/yanhui/mnt/efi docker å’Œkvmçš„è¿ç§» 1 2 3 4 systemctl stop docker rsync -avzP /var/lib/docker /home/yanhui/mnt/nvme mv /var/lib/docker /var/lib/docker.bak \u0026amp;\u0026amp; ln -s /home/yanhui/mnt/nvme/docker /var/lib/ # å®Œæˆå rm -rf /var/lib/docker.bak 1 2 3 4 systemctl stop libvirtd rsync -avzP /var/lib/libvirt /home/yanhui/mnt/nvme mv /var/lib/libvirt /var/lib/libvirt.bak \u0026amp;\u0026amp; ln -s /home/yanhui/mnt/nvme/libvirt /var/lib/ # å®Œæˆå rm -rf /var/lib/libvirt.bak ä¿®æ”¹dockerå’ŒlibvirtdæœåŠ¡å¯åŠ¨é¡ºåº 1 cd /usr/lib/systemd/system/ åˆ†åˆ«ç¼–è¾‘ sudo nano libvirtd.service å’Œ sudo nano docker.service åœ¨[Unit] æ®µ å¢åŠ ä¸€è¡Œ\n1 After=rc-local.service è¿™è¡Œæ˜¯ä¸ºäº†è®©dockerå’Œlibvirtd åœ¨rc-localè¿™ä¸ªæœåŠ¡ä¹‹åå¯åŠ¨ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨ rc-local å†…å…ˆæŒ‚è½½å¥½ç£ç›˜ æœ€åè¿™ä¸¤ä¸ªæœåŠ¡è®¾ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨\n1 2 3 4 sudo systemctl enable libvirtd sudo systemctl enable docker sudo systemctl start docker sudo systemctl start libvirtd å¦ä¸€ä¸ªæ–‡ç«  https://dev.leiyanhui.com/arch/auto\u0026ndash;dock-kvm/\n","date":"2022-12-29T18:15:20+08:00","permalink":"https://dev.leiyanhui.com/arch/auto-mount-dock-kvm/","title":"arhclinux ä¸‹å¼€æœºæŒ‰ç…§é¡ºåºæŒ‚è½½ç£ç›˜å’Œå¯åŠ¨dockerä»¥åŠkvm"},{"content":"libvirtd/virt-manager æ‰¾ä¸åˆ°ç£ç›˜ libvirtd åº”è¯¥åœ¨rc.local ä¹‹åå¯åŠ¨\nvirt-manager å¼¹ä¸å‡ºç•Œé¢ 1ã€ ä½¿ç”¨æ”¯æŒx11è½¬å‘çš„å®¢æˆ·ç«¯ï¼Œwinä¸‹ä½¿ç”¨ MobaXterm Macoså’Œlinux andriodä¸‹ä¹Ÿåˆå¯¹åº”çš„å®¢æˆ·ç«¯ã€‚å¦‚æœæ˜¯iosè®¾å¤‡ä¹Ÿæœ‰å¼¯é“è§£å†³æ–¹æ¡ˆ 2ã€åå°æœ‰virt-managerè¿›ç¨‹ï¼Œé‚£ä¹ˆå…ˆå…³æ‰ killall virt-manager\nvirt-manager æ— æ³•è¿æ¥ 1 Unable to connect to libvirt qemu:///system. è¿ä¸åˆ°virtqemud-sock å› ä¸º libvirtd æ²¡å¯åŠ¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼å¯åŠ¨\n1 2 systemctl enable libvirtd systemctl start libvirtd ä¿®æ”¹docker/kvmç›®å½•åï¼Œæ— æ³•è‡ªåŠ¨å¯åŠ¨ è‡ªåŠ¨æŒ‚è½½å»ºè®®æ”¾åˆ°rc-local æœåŠ¡ç”¨ï¼Œdockerå’Œlibvirtd åœ¨rc-localä¹‹åå¯åŠ¨ å…·ä½“æ–¹æ³•\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/faq/","title":"arch-aio å¸¸è§é—®é¢˜"},{"content":"æœ¬æ–‡åŸºäº arch-aioï¼Œå¦‚æœä½ æ˜¯å…¶ä»–ç³»ç»Ÿï¼Œè¯·å…ˆå¤„ç†å¥½ç›¸å…³ä¾èµ–ã€‚\næœªå®Œæˆ\næŸ¥çœ‹ 1 2 3 cat /etc/qemu/bridge.conf -------------- allow virbr0 virbr0 æ˜¯è‡ªåŠ¨åˆ›å»ºçš„ï¼Œå¹¶ä¸èƒ½å®Œæˆè™šæ‹Ÿæœº æ˜ å°„åˆ°å¤–ç½‘\nç»§ç»­æŸ¥çœ‹å…¶ä»–æƒ…å†µ\n1 2 ip a sudo brctl show åˆ¤æ–­å‡ºæ¥ç‰©ç†å£æ˜¯ enp1s0\nå®‰è£… networkmanager æˆ‘è¿™é‡Œè¿˜æ˜¯é€‰ç”¨ä¼ ç»Ÿçš„networkmanageræ¥å¤„ç†ï¼Œæ„Ÿè§‰æ›´ç®€å•æ— è„‘ä¸€äº›ã€‚\n1 2 3 pacman -S networkmanager systemctl enable NetworkManager systemctl start NetworkManager é…ç½®æ¡¥æ¥br0 æ ¹æ®ä½ çš„å®é™…æƒ…å†µä¿®æ”¹ipç½‘å…³dnsç­‰\n1 nmcli connection add type bridge ifname br0 con-name br0 ipv4.addresses 10.1.1.1/24 ipv4.gateway 10.1.1.254 ipv4.dns 114.114.114.114 ipv4.method manual æˆ‘è¿™é‡Œè¿˜æ˜¯æ‰“ç®—ç”¨dhcpæ‰€ä»¥æ‰§è¡Œä¸‹é¢çš„\n1 nmcli connection add type bridge ifname br0 con-name br0 æ¡¥æ¥ç½‘å¡å­ç½‘å¡ å…³è”ç‰©ç†å¡ 1 nmcli connection add type bridge-slave con-name br0-slave1 ifname enp1s0 master br0 å¼€å¯ 1 2 3 4 nmcli connection up br0-slave1 nmcli connection up br0 nmcli connection show # systemctl restart NetworkManager æ­¤æ—¶ç½‘ç»œä¼šæ–­å¼€ï¼ŒåŸæ¥ipæ— æ³•è¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨br0ä¸Šçš„ip é‡æ–°è¿æ¥ã€‚ å¦‚æœæ˜¯dhcp å¯ä»¥ä»è·¯ç”±å™¨çœ‹åˆ°å¤šåˆ†é…åˆ°br0ä¸Šçš„ipã€‚\né‡å¯ NetworkManager åï¼Œæˆ–è€…é‡å¯ç‰©ç†æœºå™¨åï¼Œä¸¤ä¸ªipéƒ½å¯ä»¥è¿æ¥ã€‚\nåç»­å¯é€‰å¤„ç† å…³é—­br0çš„stp\nç¦æ­¢ç‰©ç†å¡å¼€æœºå¯åŠ¨ å¯ä»¥é¿å…è¦å ç”¨ä¸¤ä¸ªipçš„é—®é¢˜\nå¼€å¯ip4è½¬å‘ 1 2 3 4 sysctl net.ipv4.ip_forward=1 nano /etc/sysctl.d/99-sysctl.conf -------- net.ipv4.ip_forward = 1 åŠ è½½tun 1 2 3 4 modprobe tun nano /etc/modules-load.d/tun.conf ------------- tun æ¢å¤ä¹‹å‰çš„æ“ä½œ(æœªç»æµ‹è¯•) 1 2 3 4 5 6 sudo ip link set br0 down sudo brctl delif br0 enp1s0 sudo ip link set enp1s0 down sudo ip link set up enp1s0 #é‡å¯ç‰©ç†ç½‘å¡ sudo ip link set dev br0 down #å…³é—­ åˆ é™¤br0 sudo brctl delbr br0 å‚è€ƒæ–‡ç« ï¼š\nhttps://wiki.archlinux.org/title/Network_bridge\nhttps://blog.csdn.net/qq_42197548/article/details/120655449\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/arch-aio-use-bridge-network/","title":"arch-aio çš„ virt-managerä¸Šé…ç½®æ¡¥æ¥ç½‘ç»œ"},{"content":"ä¸‹è½½ 1ã€ arch-aioï¼šhttps://dev.leiyanhui.com/all-in-one/diy/ ä¸‹è½½åè§£å‹åˆ°ç¡¬ç›˜æˆ–Uç›˜ï¼Œè¦æ±‚åˆ†åŒºæ ¼å¼æ˜¯ï¼ˆexFAT/NTFS/UDF/XFS/Ext2(3)(4) ï¼‰\n2ã€ www.ventoy.net ä¸‹è½½ ï¼Œå¹¶å®‰è£…åˆ°Uç›˜ æˆ–è€…ç¡¬ç›˜ï¼ˆæ–°ç‰ˆæ”¯æŒæ— æŸå®‰è£…äº†ï¼‰\n3ã€ é…ç½®ventoyçš„è‡ªåŠ¨å¯åŠ¨ä»¥åŠVTOY_LINUX_REMOUNT ï¼Œå¯ä»¥ä½¿ç”¨arch-aio ä¸‹è½½é“¾æ¥é‡Œé¢çš„ventoyæ–‡ä»¶çš„jsonæ–‡ä»¶ï¼Œå…·ä½“å‚è€ƒ ventoyå®˜ç½‘è¯´æ˜\n4ã€ é…ç½® lnk.vtoy ç­‰ç­‰ï¼Œå…·ä½“å‚è€ƒ ventoyå®˜ç½‘è¯´æ˜ï¼Œä¹Ÿå¯ä»¥åœ¨ventoyå¼•å¯¼ç•Œé¢æŒ‰ä¸‹F2 æµè§ˆæ‰¾åˆ°å¯¹åº”çš„ vhd.vtoy æ–‡ä»¶\nå¯åŠ¨ ä½¿ç”¨ventoyå¯åŠ¨å³å¯ï¼Œå…·ä½“å‚è€ƒ ventoyå®˜ç½‘è¯´æ˜\nç™»å½•arch-aio ä½¿ç”¨é»˜è®¤ç”¨æˆ· yanhui æˆ– root ç™»å½•ã€‚\nwinå®¢æˆ·ç«¯ç™»å½•å»ºè®®ä½¿ç”¨MobaXtermå…è´¹ç‰ˆ\nä¿®æ”¹å¯†ç  rootå’Œyanhuiçš„å¯†ç  éƒ½è¦ä¿®æ”¹,yanhui\n1 2 passwd yanhui passwd root å¯é€‰shellå’Œneofetch 1 2 3 sudo pacman -S fish neofetch #ç¼–è¾‘ nano .bashrc æ·»åŠ ä¸¤è¡Œ\n1 2 neofetch fish neofetch æ˜¯ç™»å½•åè‡ªåŠ¨æ‰“å°ç³»ç»Ÿä¿¡æ¯ï¼Œfishæ˜¯ä¸€ä¸ªè¿˜ä¸é”™çš„shellç»ˆç«¯ï¼Œå‘½ä»¤è¡¥å……å’Œæç¤ºå¥½ç”¨ä¸€äº›ï¼Œå¦å¤–ä¸€ä¸ªä¸é”™çš„shell å«åšnushell å®‰è£…åå¯åŠ¨å‘½ä»¤æ˜¯nu\n.bashrc æ–‡ä»¶æ˜¯ä½ å‘½ä»¤è¡Œç™»å½•åè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªæ–‡ä»¶ã€‚å¯ä»¥è®©å®ƒè‡ªåŠ¨å¯åŠ¨ä¸€äº›è„šæœ¬æ–¹ä¾¿ä½¿ç”¨ã€‚\næ£€æŸ¥å’Œè‡ªåŠ¨é…ç½®æŒ‚è½½ æ£€æŸ¥ ä½¿ç”¨ fdisk -l å’Œ lsblk æŸ¥çœ‹åˆ†åŒºæƒ…å†µï¼Œä½¿ç”¨ df -h æŸ¥çœ‹æŒ‚è½½æƒ…å†µã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ/dev/mapper/ventoy çš„ä¸¤ä¸ªåˆ†åŒº æ˜¯arch-aio è™šæ‹Ÿç£ç›˜é•œåƒçš„ä¸¤ä¸ªåˆ†åŒºåˆ†åˆ«å¯¹åº”efiå’Œ/\né…ç½®è‡ªåŠ¨æŒ‚è½½ å»ºè®®ä½¿ç”¨rc-local è¿™ä¸ªç³»ç»ŸæœåŠ¡æ¥å¤„ç†ï¼Œä¸å»ºè®®ä½¿ç”¨fstab\nä»¥ä¸‹å®ä¾‹ç›´æ¥ä»yanhuiè¿™ä¸ªç”¨æˆ·ä¸‹å¤„ç†\n1 2 3 4 5 6 cd ~ mkdir -p mnt/nvme mnt/efi mnt/exfat # æµ‹è¯• sudo mount /dev/nvme0n1p6 /home/yanhui/mnt/exfat sudo mount /dev/nvme0n1p5 /home/yanhui/mnt/nvme sudo mount /dev/nvme0n1p1 /home/yanhui/mnt/efi æ²¡é—®é¢˜åä¿®æ”¹ sudo nano /etc/rc.local.d/auto-mount-and-start-aio.sh å†…å®¹\n1 2 3 mount /dev/nvme0n1p6 /home/yanhui/mnt/exfat mount /dev/nvme0n1p5 /home/yanhui/mnt/nvme mount /dev/nvme0n1p1 /home/yanhui/mnt/efi é‡å¯æµ‹è¯•\nè¿ç§»å’Œé…ç½®dockerå’Œkvm docker 1 2 3 4 sudo systemctl stop docker sudo rsync -avzP /var/lib/docker /home/yanhui/mnt/nvme sudo mv /var/lib/docker /var/lib/docker.bak \u0026amp;\u0026amp; sudo ln -s /home/yanhui/mnt/nvme/docker /var/lib/ # å®Œæˆå rm -rf /var/lib/docker.bak kvm/libvirtd æ­¤æ­¥éª¤ å¯ä»¥ä¸å¤„ç†\n1 2 3 4 systemctl stop libvirtd rsync -avzP /var/lib/libvirt /home/yanhui/mnt/nvme mv /var/lib/libvirt /var/lib/libvirt.bak \u0026amp;\u0026amp; ln -s /home/yanhui/mnt/nvme/libvirt /var/lib/ # å®Œæˆå rm -rf /var/lib/libvirt.bak é…ç½®dockerå’Œlibvirtdå¼€æœºè‡ªåŠ¨å¯åŠ¨ å…ˆç¦æ­¢ä»–ä»¬çš„å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼Œæ”¹ä¸ºä»rc.localè¿™ä¸ªæœåŠ¡é‡Œé¢å¯åŠ¨ï¼Œå·²æ–¹ä¾¿åœ¨æŒ‚è½½å®Œæˆåå†å¯åŠ¨å¯¹åº”çš„æœåŠ¡\n1 2 systemctl disable docker systemctl disable libvirtd ä¿®æ”¹ sudo nano /etc/rc.local.d/auto-mount-and-start-aio.sh å†…å®¹ æ·»åŠ ä¸¤è¡Œ\n1 2 systemctl start docker systemctl start libvirtd 2022-12-29ç‰ˆæœ¬è¿™ä¸ªé»˜è®¤æ–‡ä»¶çš„libvirtdå°‘äº†ä¸€ä¸ªå­—æ¯dï¼Œæ³¨æ„ä¿®æ”¹ä»¥ä¸‹ é‡å¯\nå®‰è£…ä¸€ä¸ªç³»ç»Ÿï¼ˆwin10ä¸ºä¾‹ï¼‰ å®‰è£…é•œåƒ å…ˆå»å¼„ä¸€ä¸ªwinå®‰è£…é•œåƒ,æˆ‘è¿™é‡Œæœ‰äº†\n1 mnt/exfat/iso/SW_DVD9_Win_Pro_10_22H2_64BIT_ChnSimp_Pro_Ent_EDU_N_MLF_X23-20012.ISO å¯¹åº”çš„ç›®å½•æ˜¯ /var/lib/libvirt/images windows virioé©±åŠ¨é•œåƒ 1 2 3 sudo pacman -S wget cd mnt/exfat/iso/ wget -c https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/virtio-win-0.1.225-2/virtio-win-0.1.225.iso è¿™ä¸ªç½‘ç«™è®¿é—®é€Ÿåº¦å¾ˆæ…¢ï¼Œæœ€å¥½æŒ‚ä¸ªä»£ç†ï¼Œæˆ–è€…ä¸‹è½½åç”¨MobaXtermä¸Šä¼ åˆ°å¯¹åº”ç›®å½•\nå‡†å¤‡å®‰è£… MobaXtermæˆ–è€…å…¶ä»–æ”¯æŒx11çš„sshå®¢æˆ·ç«¯é‡Œé¢ ç”¨yanhuiç™»å½•ï¼Œæ‰§è¡Œ\n1 2 systemctl start libvirtd virt-manager ä¼šå¼¹å‡ºvirt-manager å›¾å½¢ç•Œé¢çª—å£ï¼Œå…ˆconnectä¸Šé»˜è®¤çš„QEMU/KVM\nç‚¹ file -\u0026gt; New virual Machine é€‰é»˜è®¤çš„ local installï¼Œç‚¹ä¸‹ä¸€æ­¥ Forward\nç‚¹åé¢çš„æµè§ˆBrowse å¼¹å‡ºæ¥ä¸€ä¸ª locate Iso ç®¡ç†çª—å£ï¼Œç‚¹å·¦ä¸‹è§’çš„ + å· Name è¾“å…¥ ISO ï¼Œtype ä¿æŒé»˜è®¤ dir: ,ç›®æ ‡è·¯å¾„ Target è¾“å…¥ISOå‚¨å­˜è·¯å¾„/home/yanhui/mnt/exfat/iso ç„¶åç‚¹Finish ç»“æŸ\nç„¶åé€‰ä¸­æ–°å»ºçš„isoé‡Œé¢çš„win10å®‰è£…é•œåƒï¼Œ è¿”å›è™šæ‹Ÿä¸»æœºçš„é…ç½®ç•Œé¢ å»æ‰automatically ... è¿™ä¸ªè‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿç‰ˆæœ¬çš„å‹¾å·ï¼Œåœ¨ä¸Šé¢è¾“å…¥win10 æœç´¢ é€‰ä¸­å¯¹åº”çš„ç³»ç»Ÿã€‚ç„¶å ç‚¹ä¸‹ä¸€æ­¥ Forward\nå¯èƒ½å¼¹å‡ºä¸€ä¸ªæƒé™çš„æé†’ï¼Œä¸‹ä¸€æ­¥å¿½ç•¥å°±å¥½ï¼Œåˆ†é…cpuå’Œå†…å­˜ã€‚ä¸‹ä¸€æ­¥ Forward åˆ›å»ºç£ç›˜ã€‚å‚è€ƒå‰é¢isoçš„é…ç½®åŒæ ·çš„æ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸“é—¨æ”¾ç½®vdiskçš„ç›®å½•/home/yanhui/mnt/nvme/vdiskï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç£ç›˜ win10-base.qcow2 åœ¨è¿™é‡Œä¸ªç›®å½•ï¼Œå¤§å°è¦14Gä»¥ä¸Šå“¦ï¼Œä¸ç„¶ä¸å¤Ÿwin10å®‰è£…ç”¨çš„ï¼Œä¸‹ä¸€æ­¥ Forward ï¼Œå‹¾é€‰ä¸Š Customize configuration before install\nç»§ç»­é…ç½®ï¼Œæ·»åŠ ä¸€ä¸ªideç£ç›˜cdrom åˆ° é©±åŠ¨virtio-win-0.1.225.isoã€‚\né»˜è®¤ç£ç›˜æ”¹ä¸º virtIO,ç¼“å­˜ unfaseï¼Œ\nå¦‚æœéœ€è¦å’Œå®¿ä¸»æœºæ–‡ä»¶çš„äº¤äº’ï¼Œæ·»åŠ  File Systemï¼Œé€‰æ‹© virtio-9p\nç½‘ç»œæ¥å£ç­‰ç­‰ å…¶ä»–ç®€å•ä¹Ÿé…ç½®ä»¥ä¸‹ï¼Œç‚¹begin installxxx\nå¼€å§‹å®‰è£… å°±å¥½äº†ã€‚ æ‰¾ä¸åˆ°ç£ç›˜ è®°å¾—åŠ è½½é©±åŠ¨ï¼Œå®Œæˆå è®°å¾—è£…å®Œæ•´é©±åŠ¨ã€‚åˆ«çš„éƒ½ç®€å• ä¸ç”¨å¤šè¯´ã€‚\nç½‘ç»œå¦‚æœä¸ä¼šé…ç½®æ¡¥æ¥çš„è¯ï¼Œæš‚æ—¶å…ˆç”¨NAT\nwin11 çš„è¯è®°å¾—æ·»åŠ tpm æ¡¥æ¥ç½‘ç»œçš„é…ç½® ç‚¹è¿™é‡ŒæŸ¥çœ‹\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/arch-aio-use/","title":"arch-aio å…è´¹é«˜æ‰©å±•æ€§çµæ´»ä¸”å¼€æ”¾çš„all in one ç³»ç»Ÿçš„åŸºæœ¬ä½¿ç”¨"},{"content":"æœ€è¿‘å¼€å§‹å¯¹åœ¨çº¿æ–‡æ¡£ å’Œ ç¬¬ä¸‰æ–¹äº‘å¤‡ä»½æœ‰è¾ƒå¤§çš„éœ€æ±‚ï¼Œå°è¯•è¿‡å‡ æ¬¡åï¼Œå†³å®šåœ¨pveä¸Šè·‘ä¸€ä¸ªç¾¤æ™–æ¥å¤„ç†è¿™äº›é—®é¢˜ã€‚\næœ‰å¾ˆå¤šå¼€æºå…è´¹é¡¹ç›®éƒ½å¯ä»¥å®ç°è¿™äº›åŠŸèƒ½ï¼Œä½†æ˜¯ç¾¤æ™–è‚¯å®šæ˜¯å®ç°èµ·æ¥æœ€ç®€å•åŠŸèƒ½ä¹Ÿæ˜¯æœ€å¼ºçš„ã€‚\nå†æ¬¡æ„Ÿè°¢ ç¾¤æ™–å…¬å¸å¯¹é»‘ç¾¤æ™–çš„å®¹å¿\næœ¬æ–‡ä¸é€‚åˆlinuxçº¯å°ç™½ï¼Œä½†æ˜¯éƒ¨åˆ†å†…å®¹é€‚åˆpveæ–°æ‰‹\npveè¿è¡Œç¾¤æ™– ä¸ªäººæœŸæœ›å’Œè§£å†³æ–¹æ¡ˆ å› ä¸ºé»‘ç¾¤æ™–å‡ºè¿‡é—®é¢˜ï¼Œæ‰€ä»¥æœ‰ä»¥ä¸‹éœ€æ±‚ã€‚\n1ã€æ–¹ä¾¿å¤‡ä»½æ•´æœº\n2ã€ç¾¤æ™–æŒ‚äº†ä¸å½±å“æ•°æ®è®¿é—®\nè§£å†³æ–¹æ¡ˆ ä¸ºäº†æ»¡è¶³æˆ‘ä¸Šé¢çš„è¦æ±‚ï¼Œæˆ‘æ‰ç”¨ ç¡¬ç›˜ç›´é€šä¸€ä¸ªå•ç‹¬çš„lxcå®¹å™¨ï¼Œç„¶åå¼€smbå’Œwebdav/sftpï¼Œè¿™ä¸ªå®¹å™¨ç§°ä¸º filecenter ã€‚ç¾¤æ™–ç”¨è¡¥ä¸å®ç° smbæŒ‚è½½çš„æ–‡ä»¶çš„ photo audio videoçš„æ”¯æŒã€‚\né¢å¤–çš„æ”¯æŒ ç¾¤æ™–ä¸åšssl å’Œ ddns ã€‚\nssl ç”¨ä¸€ä¸ªå•ç‹¬çš„lxc è¿è¡Œ æˆ‘è‡ªå·±ä¿®æ”¹è¿‡çš„ nginxWebUI å¤„ç†ã€‚\nddns ç”¨ä¸€ä¸ªå•ç‹¬çš„lxc è¿è¡Œ ddns-go\nå¯¹è±¡å‚¨å­˜ ç”¨ä¸€ä¸ªå•ç‹¬çš„ lxc è¿è¡Œ minio\ngitä»“åº“ å¯ä»¥ç”¨gitlabå®ç° æˆ‘è¿™é‡Œç›´æ¥ç”¨é˜¿é‡Œçš„codeupäº†\næ ¸å¿ƒæ•°æ®å¼‚åœ°å¤‡ä»½åŠŸèƒ½ ç¾¤æ™–æ•´æœºå®šæ—¶çš„å¤‡ä»½ lxcå•ç‹¬è¿è¡Œä¸€ä¸ªalpineï¼Œå®šæ—¶ä»»åŠ¡sshåˆ°pveå®ç°ã€‚å¤‡ä»½å‡ºæ¥çš„omaï¼ŒåŒæ­¥åˆ° filecenterçš„sftp\nå¤‡ä»½åˆ°ç™¾åº¦äº‘ ç¾¤æ™–cloud sysncå®ç°\nå¤‡ä»½åˆ°é˜¿é‡Œäº‘ç›˜ ç¾¤æ™–cloud sysnc + alist webdav\nâ€\nå®‰è£… pveå‡†å¤‡ å¼€å¯æ ¸æ˜¾ç›´é€šæˆ–è€…gvt-gã€‚ è¿‡ç¨‹ ï¼š https://dev.leiyanhui.com/pve/igpu-one-key/ åˆ›å»ºè™šæ‹Ÿæœºï¼Œç¡¬ç›˜Sataï¼Œç„¶åç¨ååˆ æ‰\nå‡†å¤‡å¼•å¯¼é•œåƒ https://github.com/fbelavenuto/arpl/releases\n1 2 3 qemu-img convert -p -f raw -O qcow2 arpl-1.0-beta13a.img arpl-1.0-beta13a.qcow2 # å¯¼å…¥ qm importdisk 5000 /exfat/vm-cnf-and-vdisk-bak/Synology/arpl-1.0-beta13a.qcow2 local --format=qcow2 ç¼–è¯‘å¼•å¯¼çš„è¯´æ˜ å¯åŠ¨è™šæ‹Ÿæœºï¼Œç„¶åæŒ‰ç…§æç¤ºæ‰“å¼€ç½‘é¡µ\n1 2 3 4 m æ˜¯é€‰æ‹©æœºå‹ï¼Œæˆ‘è¿™é‡Œé€‰ DS920+ n æ˜¯é€‰æ‹©ç‰ˆæœ¬ï¼Œé€‰æœ€æ–°çš„ 42962 ç„¶åéšæœºåºåˆ—å· å…¶ä»–éƒ½ä¸ç”¨æ”¹åŠ¨ï¼Œç„¶å é€‰æ‹© build the loader ä¼šè‡ªåŠ¨ç¼–è¯‘ æ¢å¤å¼•å¯¼\n1 2 3 4 qm stop 5000 rm -rf /var/lib/vz/images/5000/vm-5000-disk-0.qcow2 cp /exfat/vm-cnf-and-vdisk-bak/Synology/arpl-1.0-beta13a.qcow2 /var/lib/vz/images/5000/vm-5000-disk-0.qcow2 # http://10.1.1.70:7681/ æ¸…ç†å¼•å¯¼å’Œç³»ç»Ÿ åˆ°ç©ºç™½\n1 2 3 4 5 qm stop 7000 rm -rf /var/lib/vz/images/5000/vm-5000-disk-0.qcow2 cp /exfat/vm-cnf-and-vdisk-bak/arpl-1.0-beta13a.qcow2 /var/lib/vz/images/5000/vm-5000-disk-0.qcow2 rm -rf /var/lib/vz/images/5000/vm-5000-disk-1.qcow2 cp /exfat/vm-cnf-and-vdisk-bak/temp-120g.qcow2 /var/lib/vz/images/5000/vm-5000-disk-1.qcow2 æŸ¥çœ‹æ ¸æ˜¾\n1 ls /dev/dri ç³»ç»Ÿå’Œå¼•å¯¼å¤‡ä»½\n1 2 3 4 5 6 7 pvevmid=5000 backuppath=/exfat/vm-cnf-and-vdisk-bak/Synology/$(date +%Y%m%d-%H%M%S) mkdir -p $backuppath qm stop $pvevmid cp /var/lib/vz/images/$pvevmid/vm-$pvevmid-disk-0.qcow2 $backuppath/load.qcow2 qemu-img convert -p -f qcow2 -O qcow2 /var/lib/vz/images/$pvevmid/vm-$pvevmid-disk-1.qcow2 $backuppath/sys.qcow2 cp /etc/pve/qemu-server/$pvevmid.conf $backuppath/pve-vm.conf https://dev.leiyanhui.com/pve/qunhui\nâ€\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/qunhui/","title":"pveå®‰è£…ç¾¤æ™–æœ€æ–°ç‰ˆ7.2 ç‰©ç†æœºå®‰è£…åŒç†"},{"content":"æˆ‘é€‰æ‹© arch-aioçš„ç†ç”±\narch-aioçš„ç®€ä»‹ https://dev.leiyanhui.com/all-in-one/diy/\npve ç£ç›˜åˆ†åŒº éœ€è¦12-20Gå·¦å³ï¼Œå¤‡ä»½èµ·æ¥ä¸æ–¹ä¾¿ ï¼Œè™šæ‹Ÿç£ç›˜åç§°ä¸æ–¹ä¾¿è‡ªå®šä¹‰ å¤šäº†ä¸å¤ªå¸¸ç”¨çš„lxcï¼Œæ²¡æœ‰åŸç”Ÿdocker éœ€è¦è‡ªå·±å¤„ç† hyper-v å®¿ä¸»æœºå ç”¨èµ„æºåå¤š éƒ¨åˆ†ç¡¬ä»¶çš„ç›´é€šå­˜åœ¨ä¸€äº›é—®é¢˜ hyper-v è™½ç„¶å…è´¹ï¼Œä½†winæ˜¯æ”¶è´¹çš„ ç ´è§£ç‰ˆä¸é€‚åˆå•†ç”¨ esxi ä¸ªäººå…è´¹ï¼Œå•†ç”¨æ”¶è´¹ éåŸç”Ÿlinuxï¼ŒåŠŸèƒ½é™åˆ¶å¤ªå¤šã€‚ ç¡¬ä»¶è¦æ±‚å°¤å…¶æ˜¯ç½‘å¡è¦æ±‚å¤š unraid å ç”¨ä¸€ä¸ªusbå£ éœ€è¦ä¸€ä¸ªéå¸¸é è°±çš„uç›˜ å¢™å†…ä½¿ç”¨éº»çƒ¦ï¼Œéœ€è¦æ¢¯å­ ä¼šç ´åä¸€å—ç¡¬ç›˜çš„æ•°æ® æ”¶è´¹ï¼Œç ´è§£ç‰ˆå¤šæ•°æœ‰æŒ–çŸ¿åå° çˆ±å¿« è¿™ä¸ªæ€ä¹ˆè¯´å‘¢\u0026hellip;ä¹Ÿå°±æ¯”è¾ƒé€‚åˆä¸æŠ˜è…¾çš„ç”¨æˆ·å§ è™½ç„¶æ”¯æŒdockerï¼Œä½†æ˜¯æ²¡æœ‰shell æ‰©å±•æ€§å¤ªå·®ï¼Œç®€ç›´å¯ä»¥è¯´æ˜¯åƒåœ¾ä¸­çš„æˆ˜æ–—æœº ä½†æ˜¯ä»–çš„dhcp ä»¥åŠæµæ§ éƒ½å¾ˆç®€å•æ˜“ç”¨ æœ‰é»‘å†å² æ…é‡ ç¾¤æ™– è¦ä¹ˆç¡¬ä»¶ä¹°ï¼Œé’±å¤šå¯ä»¥ é»‘ç¾¤æ™– æœ‰ä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™å¯èƒ½æ˜¯è‡´å‘½æ€§çš„ï¼Œä¸å°‘äººå‡ºç°ä¸€æ®µæ—¶é—´åæ— æ³•å¯åŠ¨éœ€è¦æ¥ä¸Šæ˜¾ç¤ºå™¨å¤„ç†ã€‚ openwrt è·¯ç”±å™¨ç³»ç»Ÿï¼Œä¸å¤ªé€‚åˆå®¿ä¸»æœºæŠ˜è…¾ ","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/other-os/","title":"å¸¸è§all in one ç³»ç»Ÿçš„ä¸€äº›é—®é¢˜"},{"content":"ä¸ºäº†çµæ´»ç®¡ç†ï¼Œarch-aio å•ç‹¬åˆ›å»ºä¸€ä¸ªäº†rc-localæœåŠ¡ï¼Œç”¨æ¥æ·»åŠ å¼€æœºè‡ªåŠ¨å¯åŠ¨çš„è„šæœ¬ã€‚ åŒæ—¶ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ï¼Œå»ºè®®åœ¨rc-local é‡Œé¢å¤„ç†è‡ªåŠ¨æŒ‚è½½è„šæœ¬ã€‚\nä»…é™2022-12-29 ç‰ˆæœ¬\n1 cd /usr/lib/systemd/system/ åˆ†åˆ«ç¼–è¾‘ sudo nano libvirtd.service å’Œ sudo nano docker.service åœ¨[Unit] æ®µ å¢åŠ ä¸€è¡Œ\n1 After=rc-local.service è¿™è¡Œæ˜¯ä¸ºäº†è®©dockerå’Œlibvirtd åœ¨rc-localè¿™ä¸ªæœåŠ¡ä¹‹åå¯åŠ¨ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨ rc-local å†…å…ˆæŒ‚è½½å¥½ç£ç›˜ æœ€åè¿™ä¸¤ä¸ªæœåŠ¡è®¾ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨\n1 2 sudo systemctl enable libvirtd sudo systemctl enable docker å…³äºå’Œè‡ªåŠ¨æŒ‚è½½å…¶ä»–åˆ†åŒºé…åˆçš„æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼šhttps://dev.leiyanhui.com/arch/auto\u0026ndash;dock-kvm/\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/server-after/","title":"æ—§ç‰ˆæœ¬ arch-aio all in oneç³»ç»Ÿçš„ï¼Œdockerå’Œkvm ä¸æŒ‚è½½ç£ç›˜é¡ºåºçš„ä¸€ä¸ªå°åœ°æ–¹éœ€è¦è‡ªå·±å¤„ç†ä»¥ä¸‹"},{"content":" æœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œæ–°ç‰ˆæŸ¥çœ‹ https://dev.leiyanhui.com/all-in-one/arch-aio/\nå‰è¨€ ç»å† å‰å‰ååç”¨è¿‡å¾ˆå¤š all in one ç³»ç»Ÿï¼Œhyper-v pve6-7.3 unraidï¼Œesxi è¿˜æœ‰ ç¾¤æ™– çˆ±å¿«ï¼Œæ„Ÿè§‰åˆ°å¾ˆå¤šä¸æ–¹ä¾¿çš„åœ°æ–¹ã€‚æ‰€ä»¥è‡ªå·±åšäº†ä¸€ä¸ªåŸºäºarch å’Œ ventoyçš„all in one æ¯ç³»ç»Ÿã€‚\nç¼ºç‚¹ï¼šé—¨æ§›ç•¥å¾®é«˜ä¸€ç‚¹ç‚¹ã€‚ä½ éœ€è¦ä¼šç”¨linuxçš„åŸºæœ¬å‘½ä»¤ã€‚åŒ…æ‹¬ä¸é™ln mount ä¼˜ç‚¹ï¼šçµæ´»ï¼Œå…è´¹,ä¸å ç”¨é¢å¤–åˆ†åŒºï¼Œå¼ºå¤§æ‰©å±•ï¼Œè¾ƒæ–°å¹¶éå¸¸ç¨³å®šçš„å†…æ ¸\nä½¿ç”¨æ–¹æ³• https://www.123pan.com/s/EqorVv-K2nPA æå–ç :arch\nä¸‹è½½åè§£å‹ï¼Œç„¶åç”¨ventoyï¼Œç”¨æ”¯æŒx11è½¬å‘çš„sshå®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ MobaXtermï¼‰ ç™»å½• ç”¨æˆ·åyanhui å¯†ç  1 root å¯†ç ä¹Ÿæ˜¯ 1 ä½†æ˜¯rooté»˜è®¤ç¦æ­¢ç™»å½•ã€‚\nç®€æ˜ä½¿ç”¨æ–¹æ³•ï¼šhttps://dev.leiyanhui.com/all-in-one/arch-aio-use/\nè™šæ‹Ÿæœº å…ˆæŒ‚è½½åˆ†åŒºï¼Œå¹¶ ln -s /var/lib/libvirt/images /ç›®å½• æˆ–è€…ç›´æ¥æŠŠè¿™ä¸ªç›®å½•æŒ‚è½½åˆ°åˆ†åŒº MobaXterm ä¸­è¿è¡Œ virt-manager ä¼šå¼¹å‡ºvirt-managerç•Œé¢\nå¦‚æœä½ åªæƒ³ç”¨å‘½ä»¤è¡Œï¼Œä¹Ÿå¯ä»¥å¸è½½æ‰å®ƒã€‚\nåœ¨ä¸æ”¯æŒx11 è½¬å‘çš„è®¾å¤‡ä¸Šç®¡ç†è™šæ‹Ÿæœºï¼Œè¯·ç»§ç»­çœ‹åé¢\ndocker å…ˆæŒ‚è½½åˆ†åŒºï¼Œå¹¶ln /var/lib/docker ç›®å½• æˆ–è€…ç›´æ¥æŠŠè¿™ä¸ªç›®å½•æŒ‚è½½åˆ°åˆ†åŒº å¦‚æœè¦å›¾å½¢ç•Œé¢ï¼Œå¯ä»¥å®‰è£…portainer\n1 2 3 4 docker run -d -p 8000:8000 -p 9443:9443 \\ --name portainer --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ portainer/portainer-ce:latest ç„¶åæµè§ˆå™¨è®¿é—®ï¼šhttps://ip:9443\næ–°å»ºç”¨æˆ· æ–°å»ºç”¨æˆ·è¯· æ·»åŠ åˆ°wheelç»„ å’Œ libvirt ç»„ï¼Œä¾‹å¦‚ç”¨æˆ·å xiaolei\n1 2 sudo useradd -m -G wheel -s /bin/bash xiaolei sudo usermod -a -G libvirt xiaolei ç„¶åè®¾ç½®å¯†ç \n1 sudo passwd xiaolei æ¸…ç†æ—¥å¿—å’Œç¼“å­˜æ–‡ä»¶ 1 sh /root/del-log.sh æ‰©å®¹ å¦‚æœé»˜è®¤å®¹é‡ä¸å¤Ÿï¼Œéœ€è¦æ‰©å®¹ã€‚è¯·å‚è€ƒ https://dev.leiyanhui.com/arch/ventoy-vdisk-resize\nexfat4 å’Œntfsæ”¯æŒ 1 2 sudo pacman -S exfat-utils sudo pacman -S ntfs-3g exfat å’Œ ntfs åœ¨linuxä¸‹æ€§èƒ½ä¸€èˆ¬ï¼Œntfsç¨³å®šæ€§æ›´æ˜¯ä¸€èˆ¬ï¼Œä¸å»ºè®®é«˜å¼ºåº¦ä½¿ç”¨\nå…³äºsudo å’Œ vi vim ç”¨doas å’Œnanoæ›¿ä»£çš„ è½¯è¿æ¥å¯¹åº”çš„sudo å’Œ vi vim\nè¿è¡Œæµè§ˆå™¨å’Œå…¶ä»–è½¯ä»¶ è¯·å°½é‡æŒ‚è½½åˆ°å…¶ä»–åˆ†åŒºåç”¨appimages ä¾‹å¦‚ç«ç‹\n1 2 3 4 5 6 sudo pacman -S fuse #AppImage ä¾èµ– sudo pacman -S dbus-glib # ç«ç‹ä¾èµ– cd /æŒ‚è½½ç›®å½• wget https://apprepo.de/appimage/download/firefox --output-document=Firefox.AppImage chmod +x ./*.AppImage ./Firefox.AppImage ç«ç‹åœ¨x11è½¬å‘ä¸‹é¦–æ¬¡å¯åŠ¨å¾ˆå¡ï¼Œç­‰ä¸€ä¼šå…³æ‰å†æ¬¡æ‰“å¼€å°±æµç•…å¾ˆå¤š ä¸­æ–‡å­—ä½“æ”¯æŒ\n1 sudo pacman -S wqy-zenhei ä¸­æ–‡è¾“å…¥æ³•ï¼šhttps://wiki.archlinuxcn.org/wiki/Fcitx5\nå¼€æœºè‡ªåŠ¨å¯åŠ¨è„šæœ¬ rc-localæœåŠ¡ï¼š/usr/lib/systemd/system/rc-local.service å’Œ /etc/rc.local\nshè„šæœ¬æ”¾åˆ° /etc/rc.local.d ç›®å½•\nå¼€æœºè‡ªåŠ¨æŒ‚è½½ å»ºè®®æ”¾åˆ° /etc/rc.local.dç›®å½•ã€‚ å‚è€ƒç¼–è¾‘æ–‡ä»¶sudo nano /etc/rc.local.d/auto-mount-and-start-aio.sh\nè¯¦ç»†è¯´æ˜å‚è€ƒè¿™é‡Œï¼šhttps://dev.leiyanhui.com/arch/auto-mount-dock-kvm\nå¼€æœºè‡ªåŠ¨å¯åŠ¨å…¶ä»–åˆ†åŒºçš„vm æˆ–è€…docker å‚è€ƒç¼–è¾‘æ–‡ä»¶sudo nano /etc/rc.local.d/auto-mount-and-start-aio.sh\nè¯¦ç»†è¯´æ˜å‚è€ƒè¿™é‡Œï¼šhttps://dev.leiyanhui.com/arch/auto-mount-dock-kvm\næ¡¥æ¥è™šæ‹Ÿæœºç½‘ç»œ https://dev.leiyanhui.com/all-in-one/arch-aio-use-bridge-network/\nå…³äºè¿œç¨‹è®¿é—®è™šæ‹Ÿæœº å¦‚æœå®¢æˆ·ç«¯éiosè®¾å¤‡ï¼Œç½‘ç»œå°šå¯ ç›´æ¥ç”¨æ”¯æŒx11è½¬å‘çš„sshå®¢æˆ·ç«¯ç®¡ç†\nå¦‚æœæ˜¯iosè®¾å¤‡ï¼Œå› ä¸ºæ²¡æœ‰å¯ç”¨çš„å®¢æˆ·ç«¯ï¼Œå»ºè®®kvm æˆ–è€…dockerä¸­è¿è¡Œä¸€ä¸ª æœ‰æ¡Œé¢çš„win æˆ–è€…linuxï¼Œå†è¿œç¨‹è¿‡å».å†å¥—å¨ƒè®¿é—®å®¿ä¸»æœº\ndocker è¿è¡Œlinuxæ¡Œé¢å‚è€ƒ https://dev.leiyanhui.com/docker/run-deskto-gpu-usb/\nä¸Šæ–‡ä¸­çš„docker æ”¯æŒç½‘é¡µvncå’Œxrdpå¾®è½¯è¿œç¨‹é“¾æ¥ï¼Œä½ ç”šè‡³å¯ä»¥væŒ‚è½½è™šæ‹Ÿç£ç›˜ç›®å½•è¿›å»ï¼Œé‡Œé¢æœ‰ä¸€äº›åŸºæœ¬çš„è½¯ä»¶ï¼ŒåŒ…æ‹¬æµè§ˆå™¨å®Œæˆç½‘ç›˜å¤‡ä»½ç­‰æ“ä½œã€‚\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å®¿ä¸»ç³»ç»Ÿä¸Šå®‰è£…ä¸€ä¸ªgnome kdeç­‰æ¡Œé¢ç³»ç»Ÿï¼Œç„¶åå¼€xrdpæˆ–è€…vnc æˆ–è€… å‘æ—¥è‘µ rustdesk ç­‰ç­‰ å°½æƒ…æƒ³æƒ³\u0026hellip;\nå…³äºwin/winpeä¸‹è®¿é—® å› ä¸ºé•œåƒæ˜¯vhdæ ¼å¼çš„ï¼Œåœ¨winç³»ç»Ÿå’Œå¤šæ•°winpeä¸‹å¯ä»¥ç›´æ¥æŒ‚è½½ã€‚ brtfsåˆ†åŒºçš„è®¿é—®è¯·å®‰è£…é©±åŠ¨ï¼Œè¯¦æƒ…\nç³»ç»Ÿå†…è½¯ä»¶åŒ… æ¯ç›˜ archlinux-2022.12.01-x86_64.iso archæ»šåŠ¨æ›´æ–°ï¼Œæˆ‘ç”¨çš„æ¯ç›˜çš„ç‰ˆæœ¬ä¸å½±å“ä½  ä½ å¯éšæ„éšæ—¶å‡çº§åˆ°æœ€æ–°ç‰ˆ\nç”¨archinstall ç›´æ¥å®‰è£…çš„ minimal æ¨¡å¼\næº æ”¹ä¸ºæ¸…åæºï¼Œæœªå¼€å¯archlinuxcnæºï¼Œå¦‚æœä½ éœ€è¦aurè½¯ä»¶åŒ…è‡ªè¡Œå¼€å¯ https://mirrors.tuna.tsinghua.edu.cn/help/archlinuxcn/ å†…æ ¸è€ƒè™‘åˆ°å®‰å“x86 é€‰æ‹© linux-zen\né¢å¤–çš„è½¯ä»¶åŒ…å’Œé…ç½® åŸºæœ¬ å¼€å¯äº†érootç”¨æˆ·çš„x11è½¬å‘ï¼Œä¾èµ–xorg-xauth åŸºæœ¬åŒ…ï¼š openssh dhcpcd nano doas\nventoyä¾èµ–ï¼šwhich lvm2\nsudoç”¨doasæ›¿æ¢äº†ï¼Œä½†æ˜¯åŒæ—¶lnåˆ°/bin/sudo\nvi æœªå®‰è£… å¦‚æœä¸å–œæ¬¢ç”¨nanoè‡ªè¡Œå¤„ç†\nkvmå’Œdockerç›¸å…³ exfat-utils rsync qemu-base samba dnsmasq dmidecode iptables-nft bridge-utils openbsd-netcat libvirt virt-manager docker\nå¼€æœºè‡ªå®šå¯åŠ¨çš„é¢å¤–æœåŠ¡ sshd dhcpcd\næ³¨æ„ docker å’Œ kvmçš„libvirt é»˜è®¤æ˜¯é€šè¿‡ /etc/rc.local.d/auto-mount-and-start-aio.sh å¯åŠ¨çš„\næˆ‘å¯¹all in oneçš„ä¸€ç‚¹è¦æ±‚ è‡ªå®šä¹‰ã€çµæ´»ã€å†…æ ¸æ–°ï¼Œä¸ç ´ååŸæ¥ç¡¬ç›˜ã€‚\nç®€å•è¯´ä¸€ä¸‹å„ä¸ªç³»ç»Ÿçš„ç¼ºé™· https://dev.leiyanhui.com/all-in-one/other-os/\nä¸ºä»€ä¹ˆé€‰æ‹©arch åªä½¿ç”¨qemu ç­‰å‡ ä¸ªè½¯ä»¶çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¸å­˜åœ¨æ»šæŒ‚çš„å¯èƒ½æ€§ã€‚é™¤éä½ çœŸçš„å¤§åŠå¹´ä¸æ›´æ–°ã€‚ ç›¸å¯¹ debian centosç³»ï¼Œå†…æ ¸æ–°ï¼Œå¾ˆå¤šæ–°ç‰¹æ€§éƒ½å¯ä»¥æ”¯æŒ wikièµ„æ–™ä¸°å¯Œï¼Œæ‰©å±•å®¹æ˜“ ä¸ºä»€ä¹ˆé€‰æ‹©ventoyå¼•å¯¼ ventoyæ–°ç‰ˆå·²ç»æœ‰é™çš„æ”¯æŒæ— æŸå®‰è£…åˆ°ç¡¬ç›˜ï¼ŒåŒæ—¶ä¹Ÿå…¼å®¹grub4dos\nç£ç›˜å®¹é‡çš„çº ç»“ æ§åˆ¶åˆ°3.7G ä»¥å†…æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œä½†æ˜¯å¯ç”¨ç©ºé—´å®åœ¨æ˜¯å¤ªå°‘äº†ã€‚å®‰è£…qemuçš„å¸¸ç”¨ä¾èµ–åï¼Œå‰©ä½™ç©ºé—´åªæœ‰å‡ ç™¾Mã€‚æ— æ³•æ»¡è¶³æ­£å¸¸ä½¿ç”¨çš„éœ€æ±‚ã€‚ è€ƒè™‘è®¸ä¹…åï¼Œå†³å®šæŠ›å¼ƒå…¼å®¹fat32å’Œ4G Uç›˜çš„ä¸å®é™…çš„æƒ³æ³•ï¼Œæ”¹ä¸º7.3Gã€‚ å³ä¾¿æ˜¯è¦å®‰è£…ä¸€ä¸ªæ¡Œé¢ç³»ç»Ÿ åº”è¯¥ä¹Ÿå‹‰å¼ºå¤Ÿç”¨ã€‚ å¦å¤– home optç­‰ç›®å½•éƒ½å¯ä»¥æŒ‚è½½å‡ºæ¥ã€‚\nç£ç›˜æ ¼å¼çš„é€‰æ‹© ventoyåªæ”¯æŒ å›ºå®šå¤§å°çš„vhd vdi raw/img ä¸‰ç§æ ¼å¼ è™šæ‹Ÿç£ç›˜å¯åŠ¨linuxã€‚kvmåªæ”¯æŒå…¶ä¸­rawï¼Œvboxæ”¯æŒå‰ä¸¤è€…ï¼Œwinå¯ä»¥ç›´æ¥æŒ‚è½½vhd\nlinuxå¯ä»¥ç”¨qemu-imgéšæ„è½¬æ¢å…¶ä»–æ ¼å¼ï¼Œvhdæ–‡ä»¶ä¹Ÿå¯ä»¥è½¬æ¢æˆraw/imgåæŒ‚è½½ã€‚ ç»¼åˆè€ƒè™‘ï¼Œè¿˜æ˜¯é€‰æ‹©äº†vhdæ ¼å¼\nvdiskå†…efiåˆ†åŒºçš„å¤§å° è€ƒè™‘åˆ°æ¢å†…æ ¸çš„å¯èƒ½æ€§å’Œå†…æ ¸æ›´æ–°çš„æƒ…å†µï¼Œè¿˜æ˜¯ç”¨å¤šæ•°æƒ…å†µé€‚ç”¨çš„512Mï¼ˆæ­£å¸¸åªå ç”¨60må·¦å³ï¼‰\nvdiskå†…æ ¹åˆ†åŒºæ–‡ä»¶ç³»ç»Ÿçš„é€‰æ‹© æˆ‘è¿™é‡Œé€‰æ‹©brtfsï¼Œæ”¯æŒå‹ç¼©å’Œå¿«ç…§ã€‚å¹¶ä¸”å‡ ä¹æ‰€æœ‰winpeä¸‹éƒ½å¯ä»¥ å³é”®åŠ è½½é©±åŠ¨åè®¿é—®ï¼Œè™½ç„¶ä¸å¤Ÿç¨³å®šä½†æ˜¯è¦æ¯”å…¶ä»–æ–‡ä»¶ç³»ç»Ÿç®€å•ä¸€äº›ã€‚\nswapçš„é€‰æ‹© é»˜è®¤ä¸å¼€å¯ï¼Œå¦‚æœéœ€è¦è‡ªè¡Œåˆ›å»ºswapæ–‡ä»¶å³å¯\n","date":"2022-12-29T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/diy/","title":"é€‰æ‹©arch-aioï¼Œå½»åº•æŠ›å¼ƒpve esxi unraid"},{"content":"è¿™é‡Œä»¥ archlinux å’Œ vhdæ ¼å¼ ä¸ºä¾‹ï¼Œrawæ ¼å¼ å¯ä»¥ç”¨qemu-img æ‰©å®¹ã€‚\nä¸€ä¸ªå¯ä»¥æ­£å¸¸å¯åŠ¨çš„linuxé•œåƒarchinstall-ext4.vhd.vtoy å¦‚æœä¸ä¼šå¼„ï¼Œå‚è€ƒï¼šhttps://dev.leiyanhui.com/arch/boot-vhd-ventoy/\nventoyå¯åŠ¨çš„linux æ‰©å®¹æ¯”è¾ƒéº»çƒ¦\nè™šæ‹Ÿç£ç›˜æ‰©å®¹ å…ˆå…³æ‰ç³»ç»Ÿï¼Œç„¶åé‡å¯åˆ°å¦å¤–ä¸€ä¸ªå¸¦è™šæ‹Ÿæœºçš„ç³»ç»Ÿï¼Œlinux æˆ–è€…win éƒ½å¯ä»¥ linuxä¸‹ å»ºè®®ç”¨qemu-img è½¬æ¢åˆ°ramåæ‰©å®¹ è¿‡ç¨‹æ è¿‡\n1 2 3 4 5 6 mv archinstall-ext4.vhd.vtoy archinstall-ext4.vhd pacman -S qemu-img # vpc æ˜¯vhdæ ¼å¼ qemu-img convert -p -f vpc -O raw archinstall-ext4.vhd archinstall-ext4.raw qemu-img resize archinstall-ext4.raw +5G mv archinstall-ext4.raw archinstall-ext4.raw.vtoy winä¸‹ å¯ä»¥ç›´æ¥ä½¿ç”¨diskpart æˆ–è€… ç¬¬ä¸‰æ–¹å·¥å…·æ‰©å®¹ã€‚æ¯”å¦‚Bootice.exe ä¸€èˆ¬peéƒ½æœ‰ï¼Œåœ¨ç£ç›˜ä¿¡æ¯çš„åœ°æ–¹è¾“å…¥æ–°å®¹é‡å³å¯\nç¼©å°é•œåƒï¼Œä¼šå¯¼è‡´ä¸å¯ä»¥é¢„æ–™çš„æ–‡ä»¶ä¸¢å¤± ï¼Œè½»æ˜“ä¸è¦å°è¯•\næ–°è™šæ‹Ÿç£ç›˜æ–‡ä»¶æŒ‚è½½åˆ°è™šæ‹Ÿæœº å¯ä»¥ç”¨virtualboxæˆ–è€…kvm,rootç”¨æˆ·ç™»å½•\nåœ¨ç³»ç»Ÿå†…éƒ¨å¤„ç† ç”¨ventoyå¯åŠ¨æ‰©å®¹å¥½çš„è™šæ‹Ÿç£ç›˜ç³»ç»Ÿï¼Œsshç™»å½•\n1 cfdisk /dev/sdXXX resizeéœ€è¦å¤„ç†çš„åˆ†åŒºï¼Œæˆ‘è¿™é‡Œæ˜¯/dev/sda2ï¼Œç„¶åwriteå†™å…¥ yesç¡®è®¤ é€€å‡º\next4 æ ¼å¼ 1 resize2fs /dev/sdXXX btrfsæ ¼å¼ æ“ä½œæ ¹ç›®å½• 1 btrfs filesystem resize max / ç„¶åé‡æ–°æ‰§è¡Œvtoyboot 1 2 cd /root/vtoyboot* sh vtoyboot.sh å‡†å¤‡é‡å¯ è™šæ‹Ÿç£ç›˜æ–‡ä»¶é‡å‘½åä¸º XX.vtoy ï¼Œé‡æ–°ç”¨ventoyå¼•å¯¼ å®Œæ¯•ã€‚\n","date":"2022-12-29T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/arch/ventoy-vdisk-resize/","title":"åŸºäºventoyå¯åŠ¨çš„linuxè™šæ‹Ÿç£ç›˜çš„æ‰©å®¹"},{"content":"arch çš„ä¸€ä¸ªå®¶åº­serverä¸Šå¯ç”¨ x11 è½¬å‘ æ–¹ä¾¿åº”æ€¥çš„æƒ…å†µä¸‹ç”¨æµè§ˆå™¨å¤‡ä»½æ–‡ä»¶åˆ°ç½‘é¡µç«¯ç½‘ç›˜\næœ¬æ–‡åŸºäº Linux archlinux 6.1.1-zen1-1-zen 1 2 sudo pacman -S xorg-xauth sudo nano /etc/ssh/sshd_config sshd_config\n1 2 3 X11Forwarding yes X11DisplayOffset 10 X11UseLocalhost yes é‡å¯sshd é‡æ–°é“¾æ¥ okäº†\n1 sudo systemctl restart sshd \u0026mdash;\u0026mdash; ä¸‹é¢å†…å®¹ä½œåºŸ \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash; ä¿®æ”¹ sshd_config\n1 2 3 4 5 6 7 8 9 sudo nano /etc/ssh/sshd_config ----ä¸‹é¢å‡ è¡Œå–æ¶ˆ#æ³¨é‡Š--- #AllowAgentForwarding yes #éå¿…é¡» #AllowTcpForwarding yes #éå¿…é¡» #X11Forwarding no #å–æ¶ˆæ³¨é‡Šå¹¶æ”¹ä¸ºyes #X11DisplayOffset 10 #X11UseLocalhost yes #AddressFamily any # è¿™é¡¹ä¸‹é¢æ·»åŠ ä¸€è¡Œ AddressFamily inet é‡å¯sshå å‘ç°æ— æ•ˆ æŸ¥è¯¢wikiåå‘ç°éœ€è¦ xorg-xauth å®‰è£…xorg-xauth\n1 sudo pacman -S xorg-xauth é…ç½®\n1 touch ~/.Xauthority \u0026amp;\u0026amp; chmod 600 ~/.Xauthority é‡å¯sshd\n1 sudo systemctl restart sshd é‡æ–°é“¾æ¥ okäº†\nå‚è€ƒ https://wiki.archlinuxcn.org/wiki/OpenSSH#X11_forwarding\n","date":"2022-12-28T15:20:20+08:00","permalink":"https://dev.leiyanhui.com/arch/x11-forwarding/","title":"archlinux æ‰“å¼€x11è½¬å‘"},{"content":"æœ¬æ–‡æ—§ç‰ˆï¼šhttps://dev.leiyanhui.com/kvm/archlinux-kvm/\né…ç½®åŸºæœ¬çš„å®¿ä¸»ç³»ç»Ÿ æ‰‹åŠ¨å®‰è£…arch https://dev.leiyanhui.com/arch/base-install/\nå¯é€‰æ“ä½œ æœ€å°åŒ–å®‰è£…gnome https://dev.leiyanhui.com/arch/arch-linux-install-gnome-desktop/ gnome çš„è¿œç¨‹æ¡Œé¢ å¥½åƒæœ‰ä¸€äº›é—®é¢˜ åŸºäºå®‰å…¨è¿˜éœ€è¦é…ç½® è¯ä¹¦ä¹‹ç±»çš„éº»çƒ¦ã€‚ã€‚è€Œä¸”xrdpæ€§èƒ½æ¯”rdpå·®å¤ªå¤šäº†ã€‚ æˆ‘è¿™é‡Œç”¨rustdesk å®‰è£…rustdeskè¿œç¨‹æ§åˆ¶ https://dev.leiyanhui.com/arch/rustdesk/\nç¦ç”¨waylandï¼ˆå®‰è£…rustdesk åªæ”¯æŒxorgï¼‰ï¼šhttps://rustdesk.com/docs/en/manual/linux/#login-screen æˆ–è€… ä¸è¦æ¡Œé¢ï¼Œç›´æ¥ç”¨x11è½¬å‘ https://dev.leiyanhui.com/arch/x11-forwarding/\né…ç½®kvm qemu-base 1 sudo pacman -S qemu-base ç°åœ¨kvm å·²ç»å¯ä»¥ç”¨äº†ï¼Œä½†æ˜¯\u0026hellip;åªèƒ½ç”¨å‘½ä»¤è¡Œï¼Œè€Œä¸”è¿˜æœ‰ä¸€äº›æƒé™é—®é¢˜éœ€è¦å¤„ç†ã€‚ æˆ‘è¿™é‡Œæ‰“ç®—ç›´æ¥ç”¨å›¾å½¢ç•Œé¢ï¼Œæ‰€ä»¥ç»§ç»­å¤„ç†ã€‚\nå…¶ä»–æ”¯æŒ 1 2 sudo pacman -S samba dnsmasq dmidecode sudo pacman -S iptables-nft bridge-utils openbsd-netcat å®¢æˆ·ç«¯é€‰æ‹© aqemu æœ‰ä¸€ç‚¹é—®é¢˜ï¼Œæˆ‘è¿™é‡Œé€‰ libvirt + virt-manager\nlibvirt virsh æ˜¯ç”¨äºç®¡ç†å’Œé…ç½®åŸŸï¼ˆè™šæ‹Ÿæœºï¼‰çš„å‘½ä»¤è¡Œç¨‹åºã€‚ å°±æ˜¯æ”¯æŒ xmlç®¡ç†kvmè™šæ‹Ÿæœºäº†ä¸€ä¸ªåŸºæœ¬ç¨‹åº\n1 sudo pacman -S libvirt å¤„ç†æƒé™ç›¸å…³\n1 2 sudo groupadd libvirt sudo usermod -a -G libvirt $USER é…ç½® sudo nano /etc/libvirt/libvirtd.conf æ‰¾åˆ°#unix_sock_group = \u0026quot;libvirt\u0026quot; å–æ¶ˆæ³¨å†Œ\n1 2 3 sudo systemctl enable libvirtd sudo systemctl start libvirtd sudo systemctl status libvirtd ui å®¢æˆ·ç«¯ 1 sudo pacman -S virt-manager virt-manager æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§virshçš„uiå®¢æˆ·ç«¯\nvirt-manager é“¾æ¥çš„æ—¶å€™ è®°å¾—é€‰æ‹© ç”¨æˆ·çº§çš„ qemu:///session\nå…¶ä»–è½¯ä»¶ å®‰è£…æµè§ˆå™¨ å’Œæ–‡ä»¶ç®¡ç†å·¥å…·\n1 2 sudo pacman -S firefox wqy-zenhei sudo pacman -S thunar å»ºè®®ç”¨appimage\n1 2 3 4 5 sudo pacman -S fuse #AppImage ä¾èµ– sudo pacman -S dbus-glib # ç«ç‹ä¾èµ– wget https://apprepo.de/appimage/download/firefox --output-document=Firefox.AppImage chmod +x ./*.AppImage ./Firefox.AppImage ","date":"2022-12-28T14:00:20+08:00","permalink":"https://dev.leiyanhui.com/arch/install-kvm/","title":"archlinuxè¿è¡Œkvm all in oneä¸»æœºï¼ŒåŒ…æ‹¬æ ¸æ˜¾å’Œpciç›´é€š  ä¿å§†çº§æ•™ç¨‹ æ–°ç‰ˆ"},{"content":"archlinux ä½œä¸ºæœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯æˆ‘ç”¨çš„winä¸Šç½‘æœ¬ã€‚ åœ¨10Mçš„å¸¦å®½ä¸Š å¯ä»¥ç³»ç»Ÿ1080p 30å¸§çš„ æµç•…ä½“éªŒï¼ŒåŠå…¬æ²¡æœ‰ä»»ä½•å‹åŠ›ï¼Œæ¸¸æˆçš„è¯ä½“éªŒå°±å·®ä¸€ç‚¹ã€‚60å¸§è¦20M\næ˜¾å¡é©±åŠ¨ æˆ‘è¿™é‡Œæ˜¯æ ¸æ˜¾ intel uhd630\n1 sudo pacman -S vulkan-intel æœåŠ¡ç«¯å®‰è£…sunshine æœ‰å¾ˆå¤šå®‰è£…æ–¹æ³•ï¼Œæˆ‘è¿™é‡Œç”¨aurçš„ ç®€å•ä¸€äº›\n1 yay -S sunshine æœåŠ¡å™¨ç«¯å¤„ç† ä¾èµ–\n1 sudo pacman -S fuse ç”¨æˆ·æƒé™\n1 sudo usermod -a -G input $USER udev è§„åˆ™\n1 2 echo \u0026#39;KERNEL==\u0026#34;uinput\u0026#34;, GROUP=\u0026#34;input\u0026#34;, MODE=\u0026#34;0660\u0026#34;, OPTIONS+=\u0026#34;static_node=uinput\u0026#34;\u0026#39; | \\ sudo tee /etc/udev/rules.d/85-sunshine-input.rules KMS çš„é¢å¤–è®¾ç½®\n1 sudo setcap cap_sys_admin+p $(readlink -f $(which sunshine)) ç”¨æˆ·æœåŠ¡\n1 2 mkdir -p ~/.config/systemd/user/ nano ~/.config/systemd/user/sunshine.service 1 2 3 4 5 6 7 8 9 10 [Unit] Description=Sunshine Gamestream Server for Moonlight [Service] ExecStart=/usr/bin/sunshine #Flatpak Only #ExecStop=flatpak kill dev.lizardbyte.sunshine [Install] WantedBy=graphical-session.target å¯åŠ¨\n1 2 systemctl --user enable sunshine systemctl --user start sunshine é‡å¯æœåŠ¡å™¨ï¼Œä½¿ç”¨x11 ç™»å½•æ¡Œé¢ï¼Œæˆ‘è¿™é‡Œæ˜¯kde ï¼ˆè¦æ— äººèŒå®ˆçš„è¯ï¼Œéœ€è¦é…ç½®è‡ªåŠ¨ç™»å½•ï¼‰\næ‰“å¼€ https://IP:47990/ é…ç½®å¸å·å¯†ç ï¼Œå¹¶é…ç½®å¥½å¸å·å¯†ç ã€‚\nå®¢æˆ·ç«¯ä¸‹è½½ï¼Œæˆ‘è¿™é‡Œæ˜¯ windows\nhttps://github.com/moonlight-stream/moonlight-qt/releases\nhttps://github.com/moonlight-stream/moonlight-qt/releases/download/v4.3.1/MoonlightPortable-x64-4.3.1.zip\nè§£å‹ è¿è¡Œï¼Œ\né“¾æ¥ linuxçš„ip ï¼Œè®©è¾“å…¥pinæ•°å­—ï¼Œåœ¨ç½‘é¡µç«¯ https://IP:47990/ ç‚¹pin è¾“å…¥ï¼Œç„¶åå®¢æˆ·ç«¯ç­‰ä¸€ä¸‹è‡ªåŠ¨é“¾æ¥ä¸Š ç‚¹å‡»desktop å®Œæ¯•\næ¨å‡ºå¿«æ·é”®æ˜¯ ctl alt shift Q\né¼ æ ‡çµæ•åº¦é—®é¢˜ï¼Œéœ€è¦ä¸¤è¾¹è®¾ç½®åˆ†è¾¨ç‡ä¸€æ · å°±okäº†\n","date":"2022-12-27T09:25:20+08:00","permalink":"https://dev.leiyanhui.com/arch/moonlight-sunshine-install/","title":"linuxæ­å»ºä¸²æµæœåŠ¡å™¨ ç©æ¸¸æˆ åˆ·è§†é¢‘ï¼Œå®¢æˆ·ç«¯æ”¯æŒ ios å®‰å“ win linux macosç­‰"},{"content":"gnomeçš„å¯†é’¥ç¯ä¸èƒ½è·Ÿéšè‡ªåŠ¨ç™»å½•è‡ªåŠ¨è§£é”ï¼Œä¼šå¯¼è‡´ä¸€äº›ä½¿ç”¨çš„é—®é¢˜ã€‚ä¾‹å¦‚ gnomeè‡ªå¸¦çš„xrdpæ— æ³•é“¾æ¥ã€‚ éœ€è¦æ‰‹åŠ¨è§£é”ä¸€æ¬¡\nç®€å•çš„å¤„ç†ï¼Œç›´æ¥åˆ é™¤æ‰€æœ‰\n1 rm ~/.local/share/keyrings/login.keyring ç‚¹å‡»éœ€è¦å¯†é’¥ç¯çš„åœ°æ–¹ï¼ˆä¾‹å¦‚å…±äº«ï¼‰ï¼Œæˆ–è€…å®‰è£…å¹¶å¯åŠ¨seahorse\n1 pacman -S seahorse æç¤ºé€‰æ‹©æ–°å¯†é’¥ç¯ï¼Œè®©è¾“å…¥å¯†ç çš„æ—¶å€™ï¼Œå¯†ç ç•™ç©º\n","date":"2022-12-26T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/arch/gnome-key-err/","title":"linuxä¸‹gnomeè‡ªåŠ¨ç™»å½•åå¯†é’¥ç¯çš„é—®é¢˜"},{"content":"å…³é—­è™šæ‹Ÿæœºï¼Œå¿…é¡»å…³é—­ï¼Œä¸èƒ½é‡å¯ å‡è®¾102æ˜¯ä½ çš„è™šæ‹Ÿæœºç¼–å·\n1 nano /etc/pve/qemu-server/102.conf é¡¶éƒ¨æ·»åŠ ä¸€è¡Œ\n1 args: -cpu host,-hypervisor,+kvm_pv_unhalt,+kvm_pv_eoi,hv_spinlocks=0x1fff,hv_vapic,hv_time,hv_reset,hv_vpindex,hv_runtime,hv_relaxed,kvm=off,hv_vendor_id=intel\u0026#39; å¼€æœºåï¼Œä»»åŠ¡ç®¡ç†å™¨ æŸ¥çœ‹ cpu ä¸æç¤ºè™šæ‹Ÿæœºï¼Œç„¶åæ‰“å¼€æ¸¸æˆå³å¯\nPSï¼š æ¸¸æˆæ£€æµ‹è™šæ‹Ÿæœº æœ‰åƒåƒä¸‡ç§åŠæ³•ï¼Œæ‰€ä»¥è¿™ä¸œè¥¿ å½“å‰èƒ½ç”¨å°±è¡Œï¼Œä»¥åä¸èƒ½ç”¨å†æƒ³åŠæ³•\n","date":"2022-12-25T19:16:20+08:00","permalink":"https://dev.leiyanhui.com/pve/game-vm/","title":"pve ä¸‹è™šæ‹Ÿæœºè¿‡æ¸¸æˆæ£€æµ‹ -åŸç¥"},{"content":"æœ¬æ–‡åŸºäºVirtual Environment 7.3-3 ç†è®ºä¸Špve7ç³»åˆ—é€šç”¨ã€‚æ˜¾å¡æ˜¯uhd630æ ¸æ˜¾ï¼Œå¦‚æœä½ æ˜¯å…¶ä»–æ˜¾å¡ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹vfio.confè¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„ids=\nä¸€é”®å…³é—­ æ ¸æ˜¾ç›´é€š å’Œ gvt-g ä»æ ¸æ˜¾ç›´é€šåˆ°gvt å¿…é¡» å…³é—­ å† å¼€å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 cd /root wget -c https://file.leiyanhui.com/pve-unraid-kvm/igpu-etc-bak.tar.gz tar -zxvf igpu-etc-bak.tar.gz rm -rf /etc/default/grub \u0026amp;\u0026amp; cp /root/igpu-etc-bak/grub /etc/default/grub update-grub # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # æœ€å¥½é‡å¯ä¸€ä¸‹å†ç»§ç»­ rm -rf /etc/modules \u0026amp;\u0026amp; cp /root/igpu-etc-bak/modules /etc/modules rm -rf /etc/modprobe.d/pve-blacklist.conf \u0026amp;\u0026amp; cp /root/igpu-etc-bak/pve-blacklist.conf /etc/modprobe.d/pve-blacklist.conf rm -rf /etc/modprobe.d/kvm.conf rm -rf /etc/modprobe.d/iommu_unsafe_interrupts.conf rm -rf /etc/modprobe.d/vfio.conf update-initramfs -u # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # é‡å¯åæ£€æŸ¥ lsmod | grep vfio ä¸€é”®åˆ‡æ¢ æ ¸æ˜¾ç›´é€š éœ€è¦å…ˆå…³é—­gvt-g\n1 2 3 4 5 6 7 8 9 10 11 12 13 cd /root wget -c https://file.leiyanhui.com/pve-unraid-kvm/igpu-etc-passed-bak.tar.gz tar -zxvf igpu-etc-passed-bak.tar.gz rm -rf /etc/default/grub \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/grub /etc/default/grub update-grub # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # æœ€å¥½é‡å¯ä¸€ä¸‹å†ç»§ç»­ rm -rf /etc/module \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/modules /etc/modules rm -rf /etc/modprobe.d/pve-blacklist.conf \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/pve-blacklist.conf /etc/modprobe.d/pve-blacklist.conf rm -rf /etc/modprobe.d/kvm.conf \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/kvm.conf /etc/modprobe.d/kvm.conf rm -rf /etc/modprobe.d/iommu_unsafe_interrupts.conf \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/iommu_unsafe_interrupts.conf /etc/modprobe.d/iommu_unsafe_interrupts.conf rm -rf /etc/modprobe.d/vfio.conf \u0026amp;\u0026amp; cp /root/igpu-etc-passed-bak/vfio.con /etc/modprobe.d/vfio.conf update-initramfs -u # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # é‡å¯åæ£€æŸ¥ lsmod | grep vfio ä¸€é”®åˆ‡æ¢ gvt-g 1 2 3 4 5 6 7 8 9 10 11 12 13 cd /root wget -c https://file.leiyanhui.com/pve-unraid-kvm/igpu-etc-gvt-g-bak.tar.gz tar -zxvf igpu-etc-gvt-g-bak.tar.gz rm -rf /etc/default/grub \u0026amp;\u0026amp; cp /root/igpu-etc-gvt-g-bak/grub /etc/default/grub update-grub # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # æœ€å¥½é‡å¯ä¸€ä¸‹å†ç»§ç»­ rm -rf /etc/modules \u0026amp;\u0026amp; cp /root/igpu-etc-gvt-g-bak/modules /etc/modules rm -rf /etc/modprobe.d/pve-blacklist.conf rm -rf /etc/modprobe.d/kvm.conf rm -rf /etc/modprobe.d/iommu_unsafe_interrupts.conf rm -rf /etc/modprobe.d/vfio.conf update-initramfs -u # cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh # é‡å¯åæ£€æŸ¥ lsmod | grep vfio gvt-g å¤‡ä»½ å…³é—­çŠ¶æ€å¼€å¯gvt-g åªéœ€è¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶\nnano /etc/default/grub ç¼–è¾‘GRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet intel_iommu=on iommu=pt i915.enable_gvt=1\u0026quot; update-grub nano /etc/modules æ·»åŠ  ä¸€è¡Œä¸€ä¸ª vfio vfio_iommu_type1 vfio_pci vfio_virqfd kvmgt update-initramfs -u -k all 1 2 3 4 5 mkdir /root/igpu-etc-gvt-g-bak cp /etc/default/grub /root/igpu-etc-gvt-g-bak cp /etc/modules /root/igpu-etc-gvt-g-bak tar -zcvf igpu-etc-gvt-g-bak.tar.gz igpu-etc-gvt-g-bak æ‰‹åŠ¨å¤„ç†è¿‡ç¨‹ å¤‡ä»½éœ€è¦å¤„ç†çš„æ–‡ä»¶ 1 2 3 4 mkdir /root/igpu-etc-bak cp /etc/default/grub /root/igpu-etc-bak cp /etc/modules /root/igpu-etc-bak cp /etc/modprobe.d/pve-blacklist.conf /root/igpu-etc-bak å‹ç¼©å¤‡ä»½æ–‡ä»¶ cd /root tar -zcvf igpu-etc-bak.tar.gz igpu-etc-bak\nå¤„ç†æ–‡ä»¶ https://dev.leiyanhui.com/pve/igpu-pass/\nå¤‡ä»½å¤„ç†è¿‡çš„æ–‡ä»¶ 1 2 3 4 5 6 7 mkdir /root/igpu-etc-passed-bak cp /etc/default/grub /root/igpu-etc-passed-bak cp /etc/modules /root/igpu-etc-passed-bak cp /etc/modprobe.d/pve-blacklist.conf /root/igpu-etc-passed-bak cp /etc/modprobe.d/kvm.conf /root/igpu-etc-passed-bak cp /etc/modprobe.d/iommu_unsafe_interrupts.conf /root/igpu-etc-passed-bak cp /etc/modprobe.d/vfio.conf /root/igpu-etc-passed-bak å‹ç¼©å¤‡ä»½æ–‡ä»¶ cd /root tar -zcvf igpu-etc-passed-bak.tar.gz igpu-etc-passed-bak\n","date":"2022-12-24T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/igpu-one-key/","title":"pve 7.3 ä¸€é”®å¼€å¯æ ¸æ˜¾ç›´é€š"},{"content":"grubå¤„ç† nano 1 2 #GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet\u0026#34; GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet intel_iommu=on\u0026#34; æœ‰å¯èƒ½è¿˜éœ€è¦\n1 GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet intel_iommu=on video=efifb:off\u0026#34; intel_iommu=on æ˜¯å¼€å¯åˆ†ç»„\nvideo=efifb:off æ˜¯å…³é—­pveçš„æ˜¾ç¤º\nvesafb:off ç¦ç”¨legacyå¯åŠ¨çš„æ˜¾ç¤ºè®¾å¤‡ éå¿…é¡»\næ›´æ–°grubåé‡å¯\n1 update-grub ventoyçš„pve è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹ å†é‡å¯\n1 cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh å¼€å¯vfioæ¨¡å— nano /etc/modules\n1 2 3 4 vfio vfio_iommu_type1 vfio_pci vfio_virqfd åˆ›å»ºé»‘åå• nano /etc/modprobe.d/pve-blacklist.conf å±è”½å¸¸è§è®¾å¤‡å’Œæ ¸æ˜¾ç­‰\n1 2 3 blacklist i915 blacklist snd_hda_intel blacklist snd_hda_codec_hdmi å…¶ä»–çš„æ˜¾å¡ è‡ªå·±æŒ‰éœ€è¦å±è”½\n1 2 3 4 5 6 7 # block AMD driver blacklist radeon blacklist amdgpu # block NVIDIA driver blacklist nouveau blacklist nvidia blacklist nvidiafb é¿å… æ— é™é‡å¯ 1 echo \u0026#34;options kvm ignore_msrs=1\u0026#34; \u0026gt; /etc/modprobe.d/kvm.conf å…è®¸ä¸å®‰å…¨çš„ä¸­æ–­ 1 echo \u0026#34;options vfio_iommu_type1 allow_unsafe_interrupts=1\u0026#34; \u0026gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf æŸ¥çœ‹è¦å±è”½çš„è®¾å¤‡çš„idï¼Œ 1 2 3 lspci -nn | grep UHD --------- 00:02.0 VGA compatible controller [0300]: Intel Corporation CoffeeLake-H GT2 [UHD Graphics 630] [8086:3e9b] è®°ä½å‰é¢å’Œæœ€åçš„åœ°å€ 00:02 å’Œ 8086:3e9b\n1 echo \u0026#34;options vfio-pci ids=8086:3e9b\u0026#34; \u0026gt; /etc/modprobe.d/vfio.conf psï¼šæ‰§è¡Œæ­¤æ“ä½œåå¯èƒ½æ— æ³•è¾“å‡ºåˆ°å¤–æ¥æ˜¾ç¤ºå™¨ï¼Œè‹¥å‡ºç°æ­¤æƒ…å†µï¼Œè¯·æ’¤å›è¯¥æ­¥éª¤.å¦å¤–æœ‰ä¸€ä¸ª å‚æ•° disable_vga=1 ä¹Ÿå¯èƒ½ä¼šå½±å“\n1 echo \u0026#34;options vfio-pci ids=8086:3e9b disable_vga=1\u0026#34; \u0026gt; /etc/modprobe.d/vfio.conf æ›´æ–°initramfs 1 2 3 update-initramfs -u # ventoyå¯åŠ¨çš„pve.vhd è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹vtoyboot cd /root/vtoyboot**/ \u0026amp;\u0026amp; sh vtoyboot.sh å†é‡å¯\næ£€æŸ¥ 1 2 3 4 5 6 7 8 root@pve ~# lsmod | grep vfio ------------------------------------------ vfio_pci 16384 0 vfio_pci_core 73728 1 vfio_pci vfio_virqfd 16384 1 vfio_pci_core irqbypass 16384 16 vfio_pci_core,kvm vfio_iommu_type1 40960 0 vfio 45056 2 vfio_pci_core,vfio_iommu_type1 å®Œæ¯• å…¶ä»–é—®é¢˜ å‚è€ƒä»¥å‰çš„è®°å½• ï¼šhttps://dev.leiyanhui.com/pve/win-gpu/\n","date":"2022-12-24T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/igpu-pass/","title":"pve 7.3å¼€å¯æ ¸æ˜¾/ç‹¬æ˜¾ç›´é€špicè®¾å¤‡ç›´é€šç®€æ˜“æ•™ç¨‹"},{"content":"ä½ å¯ä»¥ç›´æ¥å®‰è£…å®Œæ•´çš„ gnome kdeç­‰æ¡Œé¢ç³»ç»Ÿã€‚\næˆ‘è¿™é‡Œçš„pve æ²¡æœ‰æ˜¾å¡ï¼ˆéƒ½ç›´é€šç»™ä½ è™šæ‹Ÿæœºäº†ï¼‰ï¼Œä¹Ÿä¸ä¼šç»å¸¸ç”¨ä»–æ¡Œé¢ç³»ç»Ÿï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œæ˜¯ç”¨x11è½¬å‘ï¼Œç”±æ§åˆ¶pveçš„è¿œç¨‹ç”µè„‘æ¥æ˜¾ç¤ºå›¾å½¢ç•Œé¢ã€‚è½¯ä»¶ä¹Ÿå°½é‡ç”¨appimagesï¼Œä»¥ä¾¿å‡å°‘å¯¹pveç³»ç»Ÿçš„ä¿®æ”¹ã€‚\nå¼€å¯x11 è½¬å‘ https://dev.leiyanhui.com/pve/x11/\nå‡†å¤‡å®¢æˆ·ç«¯å·¥å…· è¿™é‡Œæ˜¯winå®¢æˆ·æœºï¼Œæˆ‘ç”¨ MobaXterm\næ¸…ç†ç³»ç»Ÿ æˆ‘åŸæ¥æ˜¯aptå®‰è£…çš„ç«ç‹å’Œthunar å¸è½½æ‰\n1 2 apt-get purge firefox-esr thunar apt-get autoremove å®‰è£…appimageså¸¸ç”¨è½¯ä»¶ å­˜æ”¾ç›®å½•\n1 2 mkdir appimages cd appimages ç«ç‹ 1 2 3 wget https://apprepo.de/appimage/download/firefox --output-document=Firefox.AppImage chmod +x ./*.AppImage ./Firefox.AppImage éœ€è¦ä¸€ç‚¹ä¾èµ– æˆ‘ä»¬è¿™é‡Œè‡ªå·±è£…ä¸€ä¸‹\n1 2 # apt-get install libgtk-3-0 # apprepo.deçš„ä¸éœ€è¦ apt-get install libdbus-glib-1-2 ç«ç‹appimages ä»“åº“ï¼šhttps://github.com/srevinsaju/Firefox-Appimage/\npve è‡ªå¸¦äº†Lynx ï¼Œå¯ä»¥æµè§ˆä¸€äº›æ–‡æœ¬ç±»å‹ä¸ºä¸»çš„ç½‘ç«™\n1 lync dev.leiyanhui.com å›¾å½¢åŒ–æ–‡ä»¶ç®¡ç†å·¥å…· å¯é€‰ Far2l ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„å›¾å½¢ç•Œé¢çš„è½¯ä»¶ï¼Œæ”¯æŒé¼ æ ‡æ“ä½œï¼Œx11 è½¬å‘æ¯•ç«Ÿæ²¡æœ‰ç»ˆç«¯æ–¹ä¾¿\nFar2l 1 2 3 wget https://apprepo.de/appimage/download/far2l --output-document=Far2l.AppImage chmod +x ./Far2l.AppImage ./Far2l.AppImage DFileManager ä¾èµ–QT\nä¸€äº›å…¶ä»–çš„å¸¸ç”¨è½¯ä»¶çš„appimagesæ•´ç†\nhttps://appimage.github.io\nhttps://apprepo.de/\n","date":"2022-12-24T23:10:20+08:00","permalink":"https://dev.leiyanhui.com/pve/brower-filemanage/","title":"pve å®‰è£…å›¾å½¢ç•Œé¢è½¯ä»¶ï¼šæ–‡ä»¶ç®¡ç†å™¨ï¼Œæµè§ˆå™¨ç­‰ ç”¨äºåŸºæœ¬é…ç½®å’Œäº‘å¤‡ä»½ç­‰"},{"content":"btrfs å¤§æœ‰æ›¿ä»£ ext4çš„è¶‹åŠ¿ï¼Œæ”¯æŒå‹ç¼© æ”¯æŒå¿«ç…§ ç®€ç›´çˆ½çš„ä¸è¦ä¸è¦çš„\nwin10ä¸‹å¯ç”¨btrfs ç»è¿‡é•¿æ—¶é—´ä½¿ç”¨å‘ç°winbtrfsè¿™ä¸ªé¡¹ç›®ç®—æ˜¯ç›¸å¯¹ä¸é”™ ä¸”ç¨³å®šçš„ https://github.com/maharmstone/btrfs\nå®‰è£…æ–¹æ³•\nä¸‹è½½ï¼Œhttps://github.com/maharmstone/btrfs/releases/download/v1.8.1/btrfs-1.8.1.zip è§£å‹ï¼Œæ³¨æ„ æ˜¯ btrfs-XX.zip ä¸æ˜¯debugå’Œpdbé‚£ä¸¤ä¸ª\nå³é”® btrfs.inf ,å®‰è£…ï¼Œä¸ç”¨é‡å¯å³å¯ä½¿ç”¨\næµ‹è¯• å¤§æ–‡ä»¶å¯ä»¥å…¨é€Ÿè¯»å†™ 4k æœªæµ‹è¯•ã€‚\nåè®° winpeä¸‹ æµ‹è¯•winpe ä¸º firpe v1.8.1 ï¼Œä¹Ÿæ”¯æŒã€‚ winpeä¸‹ä¸éœ€è¦é‡å¯å³å¯ä½¿ç”¨\nä¸å»ºè®®ä¸»åŠ› winä¸‹ä½¿ç”¨linuxåŸç”Ÿåˆ†åŒºæ ¼å¼ï¼Œå»ºè®®è¿˜æ˜¯åº”æ€¥ä¸ºä¸»ã€‚\nå¦‚æœä½ çš„ç³»ç»Ÿä»¥winä¸ºä¸»ï¼Œå»ºè®®è¿˜æ˜¯exfat å…¼å®¹æ€§å¤„ç†èµ·æ¥æ›´ç®€å• ä¹Ÿæ›´ç¨³ã€‚\nå¦‚æœæ˜¯linuxä¸ºä¸»çš„è¯ï¼Œé‚£ä¹ˆ ä¸Šbtrfs å§ï¼ä¸ä¼šåæ‚”\n","date":"2022-12-23T01:14:20+08:00","permalink":"https://dev.leiyanhui.com/win/winbtrfs/","title":"windows ä½¿ç”¨btrfsåˆ†åŒº "},{"content":"æœ‰ä»€ä¹ˆç”¨ å¯ä»¥åœ¨ä¸ä¿®æ”¹ä½ ç£ç›˜åˆ†åŒºçš„æƒ…å†µä¸‹ï¼Œåªå ç”¨5Gçš„ç¡¬ç›˜ç©ºé—´(æ–°ç‰ˆå ç”¨12Gï¼Œå‰©ä½™7G+)ï¼Œä½¿ç”¨vhdè™šæ‹Ÿç£ç›˜çš„æ–¹å¼ å¯åŠ¨ä¸€ä¸ªæ€§èƒ½å’ŒåŠŸèƒ½å®Œå…¨ä¸å—å½±å“åœ¨ç‰©ç†æœºè¿è¡Œçš„pveç³»ç»Ÿã€‚ å¯ä»¥å’Œå…¶ä»–ç³»ç»Ÿå…±å­˜å¹¶ä¸éœ€è¦é¢å¤–çš„åˆ†åŒº å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªpveç³»ç»Ÿ è‡ªç”±åˆ‡æ¢ï¼Œä¾‹å¦‚ä¸€ä¸ªå¼€å¯gvt-gçš„ä¸€ä¸ªå¼€å¯æ ¸æ˜¾ç›´é€šçš„ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ•´ä¸ªç³»ç»Ÿå¤‡ä»½å’Œæ¢å¤ å¼€å§‹ä½¿ç”¨ 1ã€å‡†å¤‡ä¸€ä¸ªç©ºç™½Uç›˜ï¼Œæˆ–è€…ç¡¬ç›˜å®‰è£…å¥½ ventoy,ä¸‹è½½ è§£å‹ pve.vhd æ–‡ä»¶åˆ° ä»»æ„ä¸€ä¸ªåˆ†åŒºï¼ˆexFAT/NTFS/UDF/XFS/Ext2(3)(4)æ ¼å¼çš„åˆ†åŒºï¼‰ï¼Œé‡å‘½åä¸º pve.vhd.vtoy 2ã€å¼€æœºç”¨ventoyç£ç›˜å¼•å¯¼ï¼ŒæŒ‰ä¸‹F2 æµè§ˆï¼Œæ‰¾åˆ° pve.vhd.vtoyï¼Œæ­£å¸¸å¯åŠ¨ ç”¨æˆ·åroot å¯†ç root 3ã€é…ç½®ç½‘å¡å’Œipç­‰ é‡å¯ï¼Œè¯¦ç»†è¯´æ˜çœ‹è¿™é‡Œ 4ã€æŒ‚è½½å…¶ä»–ç£ç›˜ä¿®æ”¹è™šæ‹Ÿæœºå’Œctå®¹å™¨ç›®å½• è¯¦ç»†è¯´æ˜çœ‹åæ–‡\nåªæ˜¯ä¿®æ”¹äº†pveå†…éƒ¨çš„å¼•å¯¼æŒ‚è½½è·¯å¾„,ä½¿ç”¨æ–¹æ³• å’Œæ­£å¸¸å®‰è£…çš„pveä¸€æ · ï¼Œä¸å½±å“ç›´é€šå’Œå…¶ä»–ä»»ä½•åŠŸèƒ½ã€‚æ›´ä¸å½±å“ä»»ä½•æ€§èƒ½ã€‚\nè¿›é˜¶ 1ã€æ‰©å®¹æ–¹æ³•ï¼ˆä»¥åè¡¥ å‰©ä½™7Gå…¶å®è¶³å¤Ÿäº†\u0026hellip; å…ˆç”¨å·¥å…·æ‰©å®¹vhdï¼Œç„¶ååœ¨ä»pveå†…éƒ¨å¤„ç†lvmå³å¯ï¼‰ 2ã€é…ç½®å¼€æœºå¯åŠ¨å¯åŠ¨pve æŸ¥çœ‹è¿™é‡Œ 3ã€ä¸ä½¿ç”¨ventoyçš„å¯åŠ¨ï¼ˆæ•´ç†ä¸­..ï¼‰\npveé€šç”¨è¿›é˜¶æ•™ç¨‹ å¼€å¯pciç›´é€šç®€æ˜æ•™ç¨‹ å¼€å¯è™šæ‹ŸåŒ–åµŒå¥— å®‰è£…macos æ›´æ–°è¯´æ˜ 2022-12-23\næ›´æ–°ä¸º12G å®¹é‡ï¼Œå‰©ä½™ç©ºé—´7Gå·¦å³ï¼Œæ”¾å¼ƒ5Gé•œåƒï¼Œä¹‹æ‰€ä»¥åšä¸€ä¸ªå®¹é‡å¤§ä¸€äº›çš„ï¼Œæ˜¯å‘ç°1.3Gçš„å‰©ä½™ç©ºé—´åœ¨å®‰è£…å‡ ä¸ªå¸¸ç”¨è½¯ä»¶åç»å¸¸å°±å æ»¡äº†ï¼Œå†æ¬¡å»æ‰©å®¹è¿‡äºæŠ˜è…¾ã€‚è€Œ7Gå®¹é‡è¶³å¤Ÿå®‰è£…å¸¸ç”¨è½¯ä»¶ï¼Œç”šè‡³å¯ä»¥å®‰è£…ä¸Šä¸€ä¸ªæ¡Œé¢ç³»ç»Ÿã€‚ å®‰è£…firefox å’Œ hrub ä¸ºäº†å‡å°‘ä½“ç§¯ï¼Œç½‘ç›˜åŒ…æ”¹ä¸º 7zip æ ¼å¼ linuxè§£å‹å‘½ä»¤ï¼Œdebian/ubuntu:apt-get install p7zip \u0026amp;\u0026amp; 7z x pve20221223.vhd.vtoy.7z -r -o /ç›®æ ‡è·¯å¾„ æ¦‚è¿° åŸºäº Virtual Environment 7.3-3 å†…æ ¸æœ€æ–°ç‰ˆï¼ˆç›®å‰æ˜¯ 5.15.74-1ï¼‰ åŸºäºvtoyboot-1.0.25ï¼ˆventoyï¼‰ æ”¯æŒç¡¬ç›˜/Uç›˜å®‰è£…çš„ vtoybootï¼Œä¹Ÿæ”¯æŒgrub4dosæ’ä»¶å¯åŠ¨ï¼Œæ¨èç”¨vtoyboot ç¡¬ç›˜å ç”¨ç©ºé—´5G å‰©ä½™ç©ºé—´1.1G å·¦å³ï¼ˆå¯æ‰©å®¹ï¼‰ é»˜è®¤ipï¼š5Gç‰ˆï¼š10.0.0.8 12Gåˆå§‹ç‰ˆï¼š10.0.0.120 é»˜è®¤ç”¨æˆ·åroot å¯†ç  root Local-lvm é»˜è®¤æ²¡æœ‰å¯ç”¨(ä½å®¹é‡ä¼šé»˜è®¤ç¦ç”¨)Localå¼€å¯å…¨åŠŸèƒ½ å¼€å¯x11 è½¬å‘ï¼Œæ–¹ä¾¿åœ¨ä¸Šé¢è¿è¡Œå›¾å½¢åŒ–è½¯ä»¶ï¼Œæ”¯æŒæµè§ˆå™¨ æ–‡ä»¶ç®¡ç†ç­‰æ‰€æœ‰linuxå›¾å½¢åŒ–è½¯ä»¶ å¼€å¯äº†sftp å¯ä»¥ç”¨alist rcloneä¹‹ç±»çš„è½¯ä»¶æŒ‚è½½ è¯¦æƒ… ä¿®æ”¹ä¸ºå›½å†…æº æ˜¾ç¤ºcpuä¸»é¢‘ cpuæ¸©åº¦ nvmeç¡¬ç›˜æ¸©åº¦ sataç¡¬ç›˜æ¸©åº¦ å»æ‰è®¢é˜…å¼¹çª— æ”¯æŒå‡çº§ ä¸å½±å“pciç›´é€šç­‰æ“ä½œ ç»å¯¹æ²¡æœ‰åé—¨ï¼Œæ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œéƒ½å¤‡ä»½äº†ä¸€ä»½åœ¨ /root/bak-sources, æ‰€æœ‰çš„å†å²å‘½ä»¤å’Œæ“ä½œè®°å½• éƒ½ä¿ç•™ï¼Œä½ å¯ä»¥è‡ªè¡Œåˆ é™¤\nè®¡åˆ’ä¸­çš„åŠŸèƒ½ ç²¾ç®€åˆ°4G ä»¥å†… æ–¹ä¾¿fat32 åˆ†åŒºä½¿ç”¨\nå·²ç»å¤„ç†çš„æ­¥éª¤å’Œå¸¸è§é—®é¢˜ æŒ‚è½½å…¶ä»–åˆ†åŒº æŸ¥çœ‹æ‰€æœ‰ç£ç›˜å’Œåˆ†åŒº\n1 fdisk -l æŒ‚è½½ä¸€ä¸ªåˆ†åŒºåˆ°/mnt/nvme1\n1 2 mkdir /mnt/nvme1 mount /dev/nvmen0p2 /mnt/nvme1 å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œä¿®æ”¹fstab æˆ–è€… æ·»åŠ å¼€æœºè‡ªåŠ¨æ‰§è¡Œè„šæœ¬ã€‚ æŸ¥çœ‹æœ¬æ–‡ https://dev.leiyanhui.com/pve/auto-mount-exfat æ›´å¤šå†…å®¹è¯·è‡ªè¡Œgoogle \u0026ldquo;linux æŒ‚è½½åˆ†åŒº\u0026quot;å…³é”®è¯\npve å¯ä»¥æŒ‚è½½ntfsåˆ†åŒºï¼Œä½†æ˜¯ä¸å»ºè®®é•¿æœŸä½¿ç”¨ï¼Œæ€§èƒ½å’Œç¨³å®šæ€§éƒ½æœ‰é—®é¢˜ã€‚\nä¿®æ”¹ctå’Œè™šæ‹Ÿæœºä¸»æœºçš„è·¯å¾„ https://dev.leiyanhui.com/pve/pve-mv-dir\nå›½å†…æº å·²ç»æ›´æ¢åˆ°æ¸…åæº https://dev.leiyanhui.com/pve/guonei\næ˜¾ç¤ºæ¸©åº¦ å·²ç»å¤„ç†è¿‡ï¼Œä¸éœ€è¦ä½ å†å¤„ç†\n1 2 3 4 5 cp /usr/share/perl5/PVE/API2/Nodes.pm /root/bak-sources cp /usr/share/pve-manager/js/pvemanagerlib.js /root/bak-sources #è¦†ç›–æ–‡ä»¶å æ‰§è¡Œä¸‹é¢å‘½ä»¤ apt-get install lm-sensors \u0026amp;\u0026amp; apt-get install nvme-cli \u0026amp;\u0026amp; apt-get install hddtemp \u0026amp;\u0026amp; chmod +s /usr/sbin/nvme \u0026amp;\u0026amp; chmod +s /usr/sbin/hddtemp \u0026amp;\u0026amp; chmod +s /usr/sbin/smartctl \u0026amp;\u0026amp; systemctl restart pveproxy è®¢é˜…å¼¹å‡ºçª—å£ å·²ç»å¤„ç†è¿‡ï¼Œä¸éœ€è¦ä½ å†å¤„ç†\n1 2 cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /root/bak-sources sed -Ezi.bak \u0026#34;s/(Ext.Msg.show\\(\\{\\s+title: gettext\\(\u0026#39;No valid sub)/void\\(\\{ \\/\\/\\1/g\u0026#34; /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js \u0026amp;\u0026amp; systemctl restart pveproxy.service å¯èƒ½éœ€è¦æ¸…ç†ç¼“å­˜\nX11 è½¬å‘ å·²ç»å¤„ç†è¿‡ï¼Œä¸éœ€è¦ä½ å†å¤„ç†ï¼šhttps://dev.leiyanhui.com/pve/x11 ç”¨ Xming æˆ–è€…MobaXterm è¿æ¥ä¸Šï¼Œå®‰è£…ä¸€ä¸ªå›¾å½¢ç•Œé¢è½¯ä»¶ æµ‹è¯•ï¼Œæ¯”å¦‚ apt install firefox-esr thunar ç„¶åæ‰§è¡Œfirefox å³å¯æ‰“å¼€ç«ç‹ï¼Œthunar ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç®¡ç†å·¥å…·ã€‚\næ³¨æ„ï¼šx11 è½¬å‘ åªé€‚åˆç®€å•çš„åœºæ™¯ä½¿ç”¨ã€‚å¦‚æœä½ è¦æµç•…ï¼Œè¿˜æ˜¯è€ƒè™‘ æ‰©å®¹åå®‰è£…ä¸€ä¸ªå®Œæ•´çš„æ¡Œé¢ç³»ç»Ÿkde gnomeç­‰ï¼Œç„¶åxrdp vncæˆ–è€…todeskä¹‹ç±»çš„è¿æ¥ä¸Šä½¿ç”¨ã€‚\næ¸…ç†æ—¥å¿—å’Œå†å²å‘½ä»¤ https://dev.leiyanhui.com/pve/del-log/\nç³»ç»Ÿå‡çº§åˆ°æœ€æ–°ç‰ˆ 1 2 apt update \u0026amp;\u0026amp; apt full-upgrade cd /root/vtoyboot-*/ \u0026amp;\u0026amp; sh vtoyboot.sh æ›´æ–°vtoyboot 1 cd /root/vtoyboot-*/ \u0026amp;\u0026amp; sh vtoyboot.sh åº”è¯¥åœ¨ç³»ç»Ÿæ›´æ–°å’Œä¿®æ”¹grubåï¼Œé‡å¯ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œè¯¦æƒ…å‚è€ƒ https://www.ventoy.net/cn/plugin_vtoyboot.html\næ€ä¹ˆè®¿é—® vhdæ‰€åœ¨çš„åˆ†åŒº å‚è€ƒ ventoy faqæ‰‹å†Œ å¯åŠ¨ç±»é—®é¢˜çš„è¯´æ˜ç¬¬å››æ¡ é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinuxç³»ç»Ÿå¯åŠ¨ä¹‹åï¼Œå­˜æ”¾ISOæ–‡ä»¶çš„åˆ†åŒºæ— æ³•æŒ‚è½½ï¼ˆä¼šæç¤º Busyï¼‰ã€‚å¦‚æœç¡®å®éœ€è¦æŒ‚è½½ï¼Œè¯·ä½¿ç”¨ å…¨å±€æ§åˆ¶æ’ä»¶ ä¸­çš„ VTOY_LINUX_REMOUNT é€‰é¡¹ã€‚\nä¹Ÿå¯ä»¥æŸ¥çœ‹æœ¬æ–‡ å…³äºè‡ªåŠ¨å¯åŠ¨çš„è¯´æ˜\nwinpe/winä¸‹å¦‚ä½•å¤‡ä»½å’Œé…ç½®pve å¤‡ä»½ ç›´æ¥å¤åˆ¶å‹ç¼© XXX.vtoy æ–‡ä»¶\né…ç½®ventoy å»ºè®®ç”¨å®Œæ•´winï¼Œæˆ–è€…firpeï¼Œç„¶å ç”¨å®ƒè‡ªå¸¦çš„å·¥å…· VentoyPlugson.exe ï¼Œé»˜è®¤åœ°å€æ˜¯ http://127.0.0.1:24681\nä¿®æ”¹pveå†…éƒ¨æ–‡ä»¶ é‡å‘½åä¸º .vhdï¼Œç„¶åæŒ‚è½½åˆ°Windowsï¼Œè€Œåç”¨æ”¯æŒext4åˆ†åŒºçš„è½¯ä»¶æ¥æ“ä½œ æ¨è ExtFS æœ€ç¨³å®šï¼Œå…è´¹10å¤©ï¼Œä¹Ÿæœ‰XXXçš„ç‰ˆæœ¬\nhttps://china.paragon-software.com/home-windows/extfs-for-windows/download.html\nventoyå’Œpveçš„ä½¿ç”¨éœ€è¦æ³¨æ„ ventoy ä¸æ”¯æŒå·®åˆ†vhdç£ç›˜ï¼Œä¸è¦å°è¯•æ”¹ä¸ºvhdæ–‡ä»¶åå†æ¬¡å·®åˆ†ï¼Œä½†æ˜¯å¯ä»¥è‡ªå·±è½¬æ¢ä¸ºvdiæˆ–è€…imgæ ¼å¼ ä¿®æ”¹grubåæˆ–è€…å†…æ ¸å‡çº§åè®°å¾—è¿è¡Œä¸€æ¬¡ vtoyboot.sh å†é‡å¯ã€‚å¹³æ—¶ä¸éœ€è¦ vhd.vtoyæ–‡ä»¶å¯ä»¥æ”¾åœ¨ntfsåˆ†åŒºï¼Œä¸å½±å“ä½¿ç”¨ã€‚ä½†ä¸å»ºè®®pveå†…çš„è™šæ‹Ÿæœºæ”¾åœ¨ntfsåˆ†åŒºï¼Œæ‰€æœ‰çš„éwinç³»ç»Ÿï¼Œå¯¹ntfsçš„æ”¯æŒéƒ½ä¸å¤Ÿç¨³å®šã€‚ è®°å¾—ä¿®æ”¹å¯†ç ï¼ï¼ï¼ï¼ï¼ ä¸‹è½½åœ°å€ å¦‚æœå¤±æ•ˆï¼Œè¯·è”ç³» joyanhui@qq.com\nhttps://www.123pan.com/s/EqorVv-fPnPA æå–ç :0pve\nå…¶ä»–æœªå°½äº‹å®œ è¯·å‚è€ƒventoyæ‰‹å†Œï¼šhttps://www.ventoy.net/cn/doc_news.html\n","date":"2022-12-22T03:14:20+08:00","permalink":"https://dev.leiyanhui.com/all-in-one/pve-ventoy-vdisk/","title":"ä¸€ä¸ªå¯ä»¥ä¸åŠ¨ç¡¬ç›˜åˆ†åŒºï¼Œç›´æ¥ä»ä¸€ä¸ªæ–‡ä»¶å¯åŠ¨çš„proxmoxï¼ˆpveï¼‰ æ‰“é€ all in one "},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 mkdir /root/bak-sources # ä¼ä¸šæº mv /etc/apt/sources.list.d/pve-install-repo.list /root/bak-sources #è¿™ä¸ªæ–‡ä»¶æ–°ç‰ˆä¸å­˜åœ¨äº† è¿™è¡Œä¸éœ€è¦æ‰§è¡Œ mv /etc/apt/sources.list.d/pve-enterprise.list /root/bak-sources nano /etc/apt/sources.list.d/pve-enterprise.list ----------------- deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian bullseye pve-no-subscription # debianæº mv /etc/apt/sources.list /root/bak-sources #apt update #apt install apt-transport-https ca-certificates nano /etc/apt/sources.list ----------- deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free # CT/LXC æº å¤‡ä»½åæ›¿æ¢ï¼Œç„¶åé‡å¯pvedaemon cp /usr/share/perl5/PVE/APLInfo.pm /root/bak-sources sed -i \u0026#39;s|http://download.proxmox.com|https://mirrors.tuna.tsinghua.edu.cn/proxmox|g\u0026#39; /usr/share/perl5/PVE/APLInfo.pm systemctl restart pvedaemon.service æ›´æ–°åˆ°æœ€æ–°ç‰ˆ ä¸å»ºè®®\n1 2 apt update \u0026amp;\u0026amp; apt full-upgrade cd /root/vtoyboot-*/ \u0026amp;\u0026amp; sh vtoyboot.sh ","date":"2022-12-21T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/guonei/","title":"pve æ›´æ¢å›½å†…æºï¼Œå®Œæ•´æ“ä½œ"},{"content":"pveå·²ç»å†…ç½®äº†exfatæ”¯æŒï¼Œç›´æ¥æŒ‚è½½å³å¯ã€‚ å…¶ä»–linuxå†…å»ºæ”¯æŒçš„åˆ†åŒºæ ¼å¼ç”¨åŒæ ·æ–¹æ³•æŒ‚è½½å³å¯ã€‚nftsæ ¼å¼çš„è¯éœ€è¦å…ˆapt install ntfs-3g å…ˆæ‰‹åŠ¨æŒ‚è½½\n1 2 3 4 5 6 7 8 # æŸ¥çœ‹åˆ†åŒº fdisk -l # ç›®æ ‡åˆ†åŒº /dev/nvme0n1p3 # æŒ‚è½½ mkdir /nvme mount /dev/nvme0n1p3 /nvme # æ£€æŸ¥ ls /nvme è‡ªåŠ¨æŒ‚è½½\n1 nano /etc/fstab æ·»åŠ ä¸€è¡Œ\n1 2 3 # \u0026lt;file system\u0026gt; \u0026lt;mount point\u0026gt; \u0026lt;type\u0026gt; \u0026lt;options\u0026gt; \u0026lt;dump\u0026gt; \u0026lt;pass\u0026gt; /dev/nvme0n1p3 /nvme exfat defaults 0 2 /dev/nvme0n1p3 æ˜¯åˆ†åŒº, /nvmekæ˜¯æŒ‚è½½çš„æ–‡ä»¶å¤¹, exfatæ˜¯ç£ç›˜æ ¼å¼, defaults é»˜è®¤.\nç¬¬ä¸€ä¸ªæ•°å­—ï¼š0è¡¨ç¤ºå¼€æœºä¸æ£€æŸ¥ç£ç›˜ï¼Œ1è¡¨ç¤ºå¼€æœºæ£€æŸ¥ç£ç›˜ï¼›\nç¬¬äºŒä¸ªæ•°å­—ï¼š0è¡¨ç¤ºäº¤æ¢åˆ†åŒºï¼Œ1ä»£è¡¨å¯åŠ¨åˆ†åŒºï¼ˆLinuxï¼‰ï¼Œ2è¡¨ç¤ºæ™®é€šåˆ†åŒº\né‡å¯æµ‹è¯•\nè¯»å†™é€Ÿåº¦æµ‹è¯• è¯»å–\n1 hdparm -t /dev/nvme0n1p3 Timing buffered disk reads: 3874 MB in 3.00 seconds = 1291.26 MB/sec å†™å…¥\n1 dd if=/dev/zero of=/nvme/test.for.write bs=1M count=8000 oflag=direct #å†™å…¥ä¸€ä¸ª8Gçš„æ–‡ä»¶ ç»“æœ\n1 2 3 8000+0 records in 8000+0 records out 8388608000 bytes (8.4 GB, 7.8 GiB) copied, 12.7129 s, 660 MB/s å†™å…¥é€Ÿåº¦æœ‰ç‚¹æ‹‰è·¨ï¼Œä¸è¿‡ä¹Ÿè¿˜å¥½ï¼Œé©¬é©¬é©¬è™è™ï¼Œè€ƒè™‘åˆ°å…¼å®¹æ€§å’Œæ–¹ä¾¿æ€§exfatåˆ†åŒºè¿˜æ˜¯å€¼å¾—\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 root@pve-yanhui ~# dd if=/dev/zero of=/nvme/test.for.write bs=1M count=8000 oflag=direct 8000+0 records in 8000+0 records out 8388608000 bytes (8.4 GB, 7.8 GiB) copied, 12.7129 s, 660 MB/s root@pve-yanhui ~# rm -rf /nvme/test.for.write root@pve-yanhui ~# dd if=/dev/zero of=/nvme/test.for.write bs=100M count=80 oflag=direct 80+0 records in 80+0 records out 8388608000 bytes (8.4 GB, 7.8 GiB) copied, 16.8002 s, 499 MB/s root@pve-yanhui ~# dd if=/dev/zero of=/nvme/test.for.write bs=100M count=80 oflag=direct 80+0 records in 80+0 records out 8388608000 bytes (8.4 GB, 7.8 GiB) copied, 16.7228 s, 502 MB/s root@pve-yanhui ~# dd if=/dev/zero of=/nvme/test.for.write bs=10M count=800 oflag=direct 800+0 records in 800+0 records out 8388608000 bytes (8.4 GB, 7.8 GiB) copied, 14.3473 s, 585 MB/s ç»“è¯­ å¯¹äºnvme ç¡¬ç›˜æ¥è¯´ï¼ŒexfatçœŸçš„ä¸åˆé€‚ï¼Œlinuxä¸‹æ€§èƒ½æŸè€—å¤ªå¤§äº†ï¼Œä¸Šé¢çš„æµ‹è¯•å¯ä»¥çœ‹åˆ°æ€§èƒ½æŸè€—å·®ä¸å¤šä¸€åŠï¼è¡€äº\nå¤šç³»ç»Ÿä½¿ç”¨å¼ºçƒˆå»ºè®® ä½¿ç”¨brtfsæ ¼å¼ã€‚linuxè‚¯å®šæ²¡é—®é¢˜ winå’Œwinpe å¯ä»¥ä½¿ç”¨ æœ¬æ–‡æ–¹æ³•ï¼šhttps://dev.leiyanhui.com/win/winbtrfs/\nmacosçš„è¯ï¼Œç›®å‰å¥½åƒåªæœ‰ç”¨è™šæ‹Ÿæœºæ˜ å°„åˆ†åŒºçš„æ–¹æ³•è®¿é—®ï¼Œç„¶åsftpæˆ–è€…å…¶ä»–æ–¹å¼å†æŒ‚è½½å‡ºæ¥ã€‚\n","date":"2022-12-21T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/auto-mount-exfat/","title":"pve å¼€æœºè‡ªåŠ¨æŒ‚è½½exfatåˆ†åŒº"},{"content":"é¦–å…ˆï¼Œä½ è¦æœ‰å…¬ç½‘ipã€‚ ipv6 ä¹Ÿè¡Œ\nç¾¤æ™–ä¸‹sslè¯ä¹¦æœ‰å‡ ç§å¤„ç†æ–¹æ³•ï¼Œ\næ˜¯docker æˆ–è€…vm è¿è¡Œä¸€ä¸ª æ”¯æŒè¯ä¹¦ç»­ç­¾çš„æœåŠ¡ ç„¶åç”¨-væŒ‚è½½å‡ºæ¥æˆ–è€…ç”¨è®¡åˆ’ä»»åŠ¡å¤åˆ¶å‡ºæ¥ å¸¸ç”¨çš„å®å¡” docker acme.sh ç­‰ å®é™…ä¸Šå¯ä»¥ç›´æ¥å¤„ç†ï¼Œä½†æ˜¯éœ€è¦pythone3 è¿™ä¸ªä¾èµ–ã€‚ å‡†å¤‡ é¦–å…ˆåªæœ‰ä¸€ä¸ªé»˜è®¤è¯ä¹¦æ‰å¯ä»¥ æ§åˆ¶é¢æ¿ å®‰å…¨æ€§ è¯ä¹¦ æŸ¥çœ‹åªæœ‰ä¸€ä¸ªè‡ªç­¾è¯ä¹¦çš„æƒ…å†µä¸‹\nåŸŸåå•†å¤„ç† åŸŸåå•†é‚£è¾¹è·å–id keyä¹‹ç±»çš„ è¿‡ç¨‹å‚è€ƒå¯¹åº”åŸŸåå‚å•†ã€‚\nåŸŸåé‚£è¾¹åˆ›å»ºä¸¤ä¸ªå­åŸŸå ä¾‹å¦‚ jia.leiyanhui.com Aè®°å½•åˆ°ä»»æ„ä¸€ä¸ªip\nç„¶å *.jia.leiyanhui.com Cnama åˆ° jia.leiyanhui.com\né…ç½®DDNS å¯ä»¥åœ¨è·¯ç”±å™¨å¤„ç†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ç¾¤æ™–é‡Œé¢å¤„ç†\né…ç½®sslç»­ç­¾è„šæœ¬ åœ¨ file é‡Œé¢åˆ›å»ºä¸€ä¸ªç›®å½• ä¸‹è½½ çš„è„šæœ¬ ä¸Šä¼ åˆ°å¯¹åº”ç›®å½•è§£å‹ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/andyzhshg/syno-acme\nè¯¦æƒ…å‚è€ƒï¼šhttp://www.up4dev.com/2018/05/29/synology-ssl-wildcard-cert-update/\næ³¨æ„ä¸€ç‚¹ æœ€åçš„è„šæœ¬å†…å®¹æœ‰ä¸€ä¸ª cert-up.sh update\n1 /volume1/system_file/syno-acme-0.3.0_dsm7_beta/cert-up.sh update \u0026gt;\u0026gt; /volume1/system_file/syno-acme_log.txt 2\u0026gt;\u0026amp;1 å¯ä»¥å…ˆæ‰‹åŠ¨æŒ‡å®šæ‰§è¡Œä¸€æ¬¡sudo bash /volume1/system_file/syno-acme-0.3.0_dsm7_beta/cert-up.sh update æŸ¥çœ‹æ—¥å¿—ï¼š\n1 sudo cat /volume1/system_file/syno-acme_log.txt æ²¡é—®é¢˜çš„è¯ \u0026gt;\u0026gt; å’Œåé¢çš„å†…å®¹å¯ä»¥åˆ æ‰ï¼Œä¹Ÿå¯ä»¥æ”¹ä¸º \u0026gt; ä¾‹å¦‚ä¸‹é¢ä¸¤è¡Œéƒ½å¯ä»¥\n1 2 /volume1/system_file/syno-acme-0.3.0_dsm7_beta/cert-up.sh update \u0026gt; /volume1/system_file/syno-acme-0.3.0_dsm7_beta/cert-up.sh update httpè‡ªåŠ¨è·³è½¬https æ‰“å¼€æ§åˆ¶é¢æ¿æ‰¾åˆ°ç™»å½•é—¨æˆ·ï¼Œåœ¨ç½‘é¡µæœåŠ¡å¤„å‹¾é€‰è‡ªåŠ¨å°†DSMæ¡Œé¢çš„HTTPè¿æ¥é‡å®šå‘åˆ°HTTPSåç‚¹å‡»ä¿å­˜ã€‚\nè·¯ç”±å™¨æ³¨æ„è½¬å‘ç«¯å£è¿‡æ¥ è¿‡ç¨‹ç•¥\n","date":"2022-12-21T22:14:20+08:00","permalink":"https://dev.leiyanhui.com/qh/ssl/","title":"ç¾¤æ™–7.1.1 å¼€å¯ssl å¹¶å¼€å¯è‡ªåŠ¨ç»­ç­¾ édockeræ–¹æ³•"},{"content":"ventoy æ— è®ºé…ç½® è‡ªåŠ¨å¯åŠ¨ linux è¿˜æ˜¯ windows.vhd ç”šè‡³ é»‘è‹¹æœçš„opencore éƒ½æ˜¯ä¸€æ ·çš„\nå‰ç½®æ¡ä»¶ ventoy å†…ç½®äº†å¸¸è§efiä»¥åŠlinuxçš„è™šæ‹Ÿç£ç›˜å¯åŠ¨ã€‚å¦‚æœwindowsçš„è¯éœ€è¦Ventoyåˆ†åŒº ä¹Ÿå°±æ˜¯ ç¬¬ä¸€ä¸ªåˆ†åŒºé‡Œé¢ï¼Œæ–°å»ºä¸€ä¸ªç›®å½•ventoy å¹¶æ”¾å…¥win7æˆ–è€…win8-11çš„ventoy_vhdboot.imgæ–‡ä»¶ å¯åŠ¨è™šæ‹Ÿç£ç›˜çš„linuxçš„è¯ï¼Œéœ€è¦æŠŠå¯¹åº”çš„vhd img vdiæ–‡ä»¶ä¿®æ”¹åç¼€ä¸º .vtoy\né…ç½®ventoy å»ºè®®ç”¨ VentoyPlugson ç›´æ¥åœ¨ç½‘é¡µé…ç½® æˆ–è€…å¤åˆ¶ä¸‹é¢ä»£ç åˆ°Ventoyåˆ†åŒº çš„ventoy\\ventoy.jsonä¸­ VTOY_MENU_TIMEOUT è®¾ç½®æ—¶é—´ä¸º3ç§’ VTOY_DEFAULT_IMAGE å»ºè®®ç•™ç©ºï¼Œè¿™æ ·å¯ä»¥æŒ‰ç…§æ–‡ä»¶åé¡ºåºå¯åŠ¨ VTOY_LINUX_REMOUNT å»ºè®®æ‰“å¼€ å®Œæ•´çš„é…ç½®æ–‡ä»¶ ventoy\\ventoy.jsonå¦‚ä¸‹\n1 2 3 4 5 6 { \u0026#34;control\u0026#34;:[ { \u0026#34;VTOY_LINUX_REMOUNT\u0026#34;: \u0026#34;1\u0026#34; }, { \u0026#34;VTOY_MENU_TIMEOUT\u0026#34;: \u0026#34;3\u0026#34; } ] } é…ç½®è™šæ‹Ÿç£ç›˜é“¾æ¥ åœ¨winpeæˆ–è€…winä¸‹æˆ–è€…linuxä¸‹ç”¨VentoyVlnk åˆ›å»ºä¸€ä¸ªæƒ³è‡ªåŠ¨å¼€æœºçš„è™šæ‹Ÿç£ç›˜çš„é“¾æ¥æ–‡ä»¶ï¼Œæ”¾åˆ°Ventoyåˆ†åŒºï¼Œå¹¶æ”¹åä¸º 0.xxxx.vlnk.xxx è®©ä»–é»˜è®¤æ’åœ¨ç¬¬ä¸€ä¸ª\nbiosä¸­è®¾ç½®å¼•å¯¼é¡ºåº å®‰è£…ventoyçš„ç¡¬ç›˜æˆ–è€…Uç›˜ä¸ºç¬¬ä¸€å¼•å¯¼è®¾å¤‡\né‡å¯æµ‹è¯•ï¼Œ3ç§’åä¼šè‡ªåŠ¨é€‰æ‹© æ–‡ä»¶åæ’åºç¬¬ä¸€çš„å¯å¼•å¯¼æ–‡ä»¶\n","date":"2022-12-21T06:19:20+08:00","permalink":"https://dev.leiyanhui.com/os/ventoy-auto-boot/","title":"ventoy é…ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ "},{"content":"æ ¼å¼åŒ– 1 2 3 mkfs.btrfs /dev/nvme0n1p4 mkfs.btrfs -f /dev/nvme0n1p4 #å¼ºåˆ¶ lsblk å‹ç¼© æŒ‚è½½æ—¶å€™å…¨ç›˜å¯ç”¨å‹ç¼© 1 2 mount -o compress=lzo /dev/nvme0n1p4 /mnt mount -o compress=zstd /dev/sdx /mnt è‡ªåŠ¨æŒ‚è½½fstab\n1 /dev/nvme0n1p4 / btrfs defaults,compress-force=lzo,subvol=snapshot 0 1 lzoæ˜¯å‹ç¼©ç®—æ³•ï¼Œç›®å‰btrfsæ”¯æŒlzo zlib ZSTDä¸‰ç§ç®—æ³•,æ—§ç‰ˆåªæ”¯æŒlzo zlib ï¼Œé»˜è®¤å‹ç¼©æ–¹å¼æ˜¯ zlib å‹ç¼©ç­‰çº§æ˜¯3\nå•æ–‡ä»¶æˆ–è€…è·¯å¾„å‹ç¼© 1 2 chattr +c file btrfs property set file compression zstd å…³äºå†™å¤åˆ¶ æ”¹åŠ¨é¢‘ç¹çš„æ–‡ä»¶ï¼ŒåŠ¡å¿… ä½¿ç”¨chattrå‘½ä»¤ç»™æ–‡ä»¶æˆ–ç›®å½•æ·»åŠ Cå±æ€§\nwindowsä¸‹å¯ä»¥å…¨é€Ÿè¯»å†™btrfsåˆ†åŒºï¼šhttps://dev.leiyanhui.com/win/winbtrfs/\nå‚è€ƒï¼š https://btrfs.readthedocs.io/en/latest/btrfs-man5.html#how-to-enable-compression\nåè®° winpe æ”¯æŒ æµ‹è¯•winpe ä¸º firpe v1.8.1\nå…¶ä»– çœŸçš„ä¸å»ºè®®å†ç”¨exfatäº†ï¼Œ macosçš„è¯ï¼Œä¹Ÿå¯ä»¥ç”¨è™šæ‹Ÿæœºæ˜ å°„åˆ†åŒºçš„æ–¹æ³•è®¿é—®ï¼Œç„¶åsftpæˆ–è€…å…¶ä»–æ–¹å¼å†æŒ‚è½½å‡ºæ¥ã€‚ å¦å¤–çˆ±æŠ˜è…¾æˆ‘ä»¬æœ€çˆ±çš„ventoy å°šä¸æ”¯æŒ btrfs\n","date":"2022-12-21T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/linux/btrfs/","title":"btrfs æ–‡ä»¶ç³»ç»Ÿ ç®€è¦è¯´æ˜ "},{"content":"mesa sudo pacman -S mesa å®ƒæä¾›ç”¨äº3DåŠ é€Ÿçš„åŸºç¡€DRIé©±åŠ¨ç¨‹åºã€‚\nè™šæ‹Ÿæœºä¸‹çš„æ˜¾å¡é©±åŠ¨ è™šæ‹Ÿæœºçš„æƒ…å†µï¼Œæœ‰å¾ˆå¤šä¸­ï¼Œå¸¸ç”¨çš„ vmware å’Œ virio gpu\nvirio gpu éœ€è¦æ‰‹åŠ¨ ç¼–è¯‘mesa\nvmware / virtual box sudo pacman -S xf86-video-vmware intelæ ¸æ˜¾ sudo pacman -S xf86-video-intel Ivy BridgeåŠä»¥ä¸Šæ¶æ„çš„cpu åªå®‰è£…vulkan-intel ä¹Ÿå¯ä»¥\nNvidia sudo pacman -S nvidia nvidia-prime nvidia-settings nvidia-utils opencl-nvidia lib32-nvidia-utils lib32-opencl-nvidia nvidiaé©±åŠ¨éå¼€æºçš„ å¯èƒ½éœ€è¦/etc/pacman.confæ‰“å¼€ multilib ä»“åº“ å¦å¤–å¯èƒ½éœ€è¦\nsudo pacman -S xf86-video-nouveau ","date":"2022-12-19T09:25:20+08:00","permalink":"https://dev.leiyanhui.com/arch/gpu-drvi/","title":"archLinux ä¸‹æ˜¾å¡é©±åŠ¨ç›¸å…³æ•´ç† intel amd Nvidia åŒ…æ‹¬è™šæ‹Ÿæœºçš„"},{"content":"æ£€æŸ¥ cat /sys/module/kvm_intel/parameters/nested\nå¦‚æœè¾“å‡ºY é‚£å°±æ˜¯æ”¯æŒ å°±ä¸ç”¨æäº†\nå¦‚æœæ²¡æœ‰æ‰“å¼€ æ³¨æ„ å¿…é¡»å…³é—­æ‰€æœ‰è™šæ‹Ÿæœºï¼Œæœ€å¥½è¿å®¹å™¨ä¸€èµ·å…³é—­ ç„¶å\n1 2 3 4 modprobe -r kvm_intel modprobe kvm_intel nested=1 # å†æ¬¡æ£€æŸ¥nested,è¾“å‡ºYï¼Œå³ä¸ºå¼€å¯æˆåŠŸã€‚ cat /sys/module/kvm_intel/parameters/nested è®¾ç½®æ¯æ¬¡å¼€æœºéƒ½æ‰“å¼€ echo \u0026quot;options kvm_intel nested=1\u0026quot; \u0026gt;\u0026gt; /etc/modprobe.d/modprobe.conf è™šæ‹Ÿæœºè®¾ç½® è®¾ç½®éœ€è¦ç›´é€šçš„è™šæ‹Ÿæœºçš„cpuç±»å‹ä¸ºhost\nå®Œæ¯• å¼€å¯intel gvt - vgpu https://dev.leiyanhui.com/kvm/gvt-g-vgpu/\nç®€å•å®‰è£…esxié»‘è‹¹æœ https://dev.leiyanhui.com/esxi/macos13/\n","date":"2022-12-15T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-vm-esxi/","title":"pveå¼€å¯è™šæ‹ŸåŒ–åµŒå¥—ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨esxiåµŒå¥—é»‘è‹¹æœä»¥ä¾¿ä½¿ç”¨æ ¸æ˜¾"},{"content":" ä¹‹æ‰€ä»¥å°è¯•esxi ï¼Œæ˜¯å› ä¸º æ®è¯´esxiä¸‹ç›´é€šå’Œé»‘è‹¹æœéƒ½è¦å®¹æ˜“ä¸€äº› è€Œpveä¸‹ç›´æ¥ç›´é€šæ ¸æ˜¾åˆ°macosï¼Œåç»­çš„é©±åŠ¨å¤„ç†å®åœ¨æ˜¯éº»çƒ¦ï¼Œç”šè‡³ä»˜è´¹æ‰¾ä¸å°‘äººæ¥å¤„ç†éƒ½æ²¡æœ‰æˆåŠŸï¼Œå®åœ¨æ˜¯å¤ªå•ç‹¬æ—¶é—´äº†ï¼Œè¿‡äºæŠ˜è…¾ æ‰€ä»¥æœ¬æ–‡å°è¯• ç”¨pveåµŒå¥—å¤§esxi æ¥å®‰è£…macos\næˆ‘ç½‘å¡ æ˜¯èƒèŸ¹å¡ï¼ŒRTL8168ã€‚esxi 8 æš‚æ—¶æ²¡åŠæ³•é©±åŠ¨ï¼Œesxi7 ä¹Ÿéœ€è¦è‡ªå·±æ‰“åŒ…é©±åŠ¨ï¼Œè€Œä¸”æˆ‘æ›´å–œæ¬¢é²«é±¼debiançš„pveæˆ–è€…ç›´æ¥åŸç”Ÿçš„linux+kvmçš„æ–¹å¼ã€‚ å®¿ä¸»æœºæ˜¯pveï¼Œå¼€å¯äº†è™šæ‹ŸåŒ–åµŒå¥—ï¼Œå‡†å¤‡ä½¿ç”¨åµŒå¥—çš„æ–¹å¼ å®‰è£…é»‘è‹¹æœå¹¶ä½¿ç”¨æ ¸æ˜¾ç›´é€šæˆ–è€…vgpuçš„æ–¹å¼ã€‚\nå¹¶ä¸”åœ¨pveå¼€å¯äº†gvt,æˆ‘ä¸ç©æ¸¸æˆï¼Œè€Œä¸”pveä¸»æœº24å°æ—¶å¼€æœºï¼Œè€—ç”µä¸Šç‹¬æ˜¾å®åœ¨ä¸é€‚åˆæˆ‘ã€‚å¦å¤– ä»…æœ‰çš„ä¸€ä¸ªæ ¸æ˜¾ è¿˜è¦ç»™ä¸»åŠ›linuxç³»ç»Ÿå’Œå¦å¤–ä¸€ä¸ªJellyfinä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œé€‰æ‹©äº†gvtæ–¹å¼ã€‚\nå½“ç„¶ç›´é€šå¹¶ç‚¹äº®ç†è®ºä¸Šä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\npveå¼€å¯gvt\nå‡†å¤‡esxiå®‰è£…é•œåƒ å› ä¸ºè¦å®‰è£…macosï¼Œéœ€è¦unlockæ‰esxiï¼Œæ‰€ä»¥å…ˆå»çœ‹äº†ä¸€ä¸‹unlockæ”¯æŒçš„esxiç‰ˆæœ¬ï¼Œå¾—çŸ¥å·²ç»æ”¯æŒesxi8\nvmware å®˜ç½‘ä¸‹è½½ä¸€ç›´æç¤ºé‚®ç¼–é”™è¯¯ï¼Œä¸å¥½å¤„ç†ã€‚ sysinçš„é›†æˆé•œåƒä¹Ÿå¼€å§‹æ”¶è´¹\næ‰¾åˆ°ä¸€ä¸ªåšä¸»çš„ https://www.dinghui.org/vmware-iso-download.html æœ€ç»ˆé€‰ äº†\nä¸€å¼€å§‹é€‰äº†8.0çš„é•œåƒï¼Œä½†æ˜¯webç•Œé¢ç™»å½•æœ‰é—®é¢˜ï¼Œæ²¡æ—¶é—´æ’æŸ¥ï¼Œæ›´æ¢VMware-VMvisor-Installer-7.0U3g-20328353.x86_64.iso\nå®‰è£…esxi æˆ‘è¿™é‡Œæ˜¯pveï¼Œæ­¥éª¤å¦‚ä¸‹ åˆ›å»ºè™šæ‹Ÿæœºä¸»æœºï¼Œæœºå‹é€‰q35ï¼Œä¼ ç»Ÿbiosï¼ˆä¸ºäº†çœäº‹ï¼‰ï¼Œqemuä»£ç†æ‰“å¼€ ç£ç›˜ é€‰SATA ï¼Œå‚¨å­˜é€‰32G ï¼ˆåªè£…esxi è¶³å¤Ÿäº†ï¼Œesxi7ä»¥åéœ€è¦æœ€å°32Gäº†ï¼‰ï¼Œè™šæ‹Ÿæœºæ–‡ä»¶å¦å¤–æŒ‚ç›˜å¤„ç† ç½‘å¡çš„åœ°æ–¹ ç½‘ç»œæ¨¡å‹ é€‰ VMware vmxnet3ï¼Œå…¶ä»–æ–°ç‰ˆä¸æ”¯æŒ æ·»åŠ å…¶ä»–è®¾å¤‡\nå£°å¡ï¼šæˆ‘ä¸æ‰“ç®—ç›´é€šï¼Œå› ä¸ºæˆ‘éƒ½æ˜¯è¿œç¨‹ç”¨ï¼Œæ‰€ä»¥æ·»åŠ ä¸€ä¸ªè™šæ‹ŸéŸ³é¢‘è®¾ç½® ich9-intel-hda PCIè®¾å¤‡ï¼š æ ¸æ˜¾ï¼Œæ·»åŠ ä¸€ä¸ª i915-GVTg_V5_8 ç»™å®ƒ wifiï¼Œæ·»åŠ bcmç»™ä»– usbè®¾å¤‡ï¼šæŠŠbmcè“ç‰™ç»™ä»– å¼€æœº å®‰è£…\nç™»å½•esxi ","date":"2022-12-15T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/esxi/pve-esxi-macos13/","title":"å½»åº•è§£å†³pveä¸‹macos ç›´é€šæ ¸æ˜¾çš„ é—®é¢˜ï¼"},{"content":"archå®‰è£…xrdpï¼Œæ–¹ä¾¿winå’Œipadè¿œç¨‹æ§ 1ã€å…ˆå®‰è£… yay archå®‰è£…yayæœ€ç®€å•çš„åŠæ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n2ã€å®‰è£…\n1 2 yay -S xrdp yay -S xorgxrdp ï¼ƒç”¨ï½˜ï½ï½’ï½‡åšåç«¯ï¼Œæ¨èå®‰è£…ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ xorgxrdp å’Œ xorgxrdp-glamor xorgxrdp-nvidia é€‰ä¸€ä¸ªï¼Œ\nå®˜ç½‘wifiçš„ä¸€å¥è¯\n1 2 #å°† allowed_users=anybody æ·»åŠ åˆ° /etc/X11/Xwrapper.config ä»¥å…è®¸ä»»ä½•äººå¯åŠ¨ X æœåŠ¡å™¨ã€‚ sudo nano /etc/X11/Xwrapper.config æ˜¾å¡3D åŠ é€Ÿ ç”¨è¿™ä¸¤ä¸ªå°±ä¸ç”¨ xorgxrdpäº†\n1 2 3 4 #intel xorgxrdp-glamor å’Œ Nvidia GPU å®‰è£… xorgxrdp-nvidia yay -S xorgxrdp-glamor #æˆ–è€… yay -S xorgxrdp-nvidia å£°éŸ³ï¼Œéœ€è¦ç”¨pulseaudio\n1 2 sudo pacman -S pulseaudio yay -S pulseaudio-module-xrdp æ³¨æ„ pulseaudio-module-xrdp ä¾èµ– sbc å’Œ bluezï¼Œå¦‚æœæ²¡æœ‰å®‰è£…çš„è¯ï¼Œç¼–è¯‘å¤±è´¥å çœ‹ä¸€ä¸‹åŸå› \næç¤º\n1 Remember to pass the environment \u0026#34;PULSE_SCRIPT=/etc/xrdp/pulse/default.pa\u0026#34; to pulseaudio to make this module work æ–°ç‰ˆä¼šè‡ªåŠ¨æ·»åŠ  ä¸ç”¨é¢å¤–å¤„ç†\n1 2 3 4 sudo nano /etc/xrdp/sesman.ini #æ·»åŠ  [SessionVariables] PULSE_SCRIPT=/etc/xrdp/pulse/default.pa 3ã€é…ç½®xrdpæ¡Œé¢ï¼Œè¿™æ­¥å¾ˆé‡è¦ å¾ˆé‡è¦ ,ä¸ç„¶ç™»å½•æ˜¯ç©ºç™½\n1 2 3 4 5 6 7 8 9 cp /etc/X11/xinit/xinitrc ~/.xinitrc nano ~/.xinitrc #æ³¨é‡Šæ‰ä¸‹é¢å‡ è¡Œ è¿™å‡ ä¹æ˜¯å¯åŠ¨ä¸€ä¸ªæ—¶é’Ÿ å‡ ä¸ª xtermï¼Œå®é™…ä¸Šä¼šå¯¼è‡´xrdpæ— æ³•ç™»å½• #twm \u0026amp; #xclock -geometry 50x50-1+1 \u0026amp; #xterm -geometry 80x50+494+51 \u0026amp; #xterm -geometry 80x20+494-0 \u0026amp; #exec xterm -geometry 80x66+0+0 -name login æ·»åŠ å†…å®¹\nå£°éŸ³éƒ¨åˆ†çš„å¤„ç†\n1 2 3 # å£°éŸ³éƒ¨åˆ†å¯èƒ½éœ€è¦ æœ‰çš„æ¡Œé¢ç¯å¢ƒä¸éœ€è¦ PULSE_SCRIPT=/etc/xrdp/pulse/default.pa pulseaudio --daemonize=no pulseaudio \u0026amp; æ¡Œé¢ç¯å¢ƒ\n1 2 3 # æ·»åŠ  æ³¨æ„æˆ‘çš„çš„ kde plasma å…¶ä»–æ¡Œé¢è‡ªè¡Œå¤„ç† export DESKTOP_SESSION=plasma /usr/lib/plasma-dbus-run-session-if-needed startplasma-x11 å¦‚æœæ˜¯i3çš„è¯ï¼Œç›´æ¥execå°±å¯ä»¥ dwmç±»ä¼¼\n1 exec i3 4ã€å¯åŠ¨å’Œé…ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨\n1 2 sudo systemctl enable xrdp sudo systemctl start xrdp ç»“æŸ\nå…¶ä»–é—®é¢˜ï¼š ä»xrdpé‡Œé¢å…³æœºæˆ–è€…é‡å¯ ä¼šå¯¼è‡´xrdpé»‘å±æ— æ³•ç™»å½•ï¼Œä½†æ˜¯ä¸ä¼šå…³æœºã€‚\nè§£å†³æ–¹æ³• å°±æ˜¯å»ssh å¤„ç†ï¼Œå¦‚æœé»‘å±åéœ€è¦é‡æ–°ç™»å½•xrdpå°±é‡å¯ä¸€ä¸‹xrdpå°±å¥½äº† systemctl restart xrdp\næ²¡å£°éŸ³çš„é—®é¢˜ï¼ŒåŸºæœ¬ä¸Š pulseaudio æ²¡å¯åŠ¨ï¼Œæˆ–è€…è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯è¿™è¾¹ æ²¡è®¾ç½®å£°éŸ³æ’­æ”¾\næ„Ÿå— å•çº¯æ–‡å­—åŠå…¬ å’Œå†™ä»£ç çš„è¯ï¼Œè¿˜å¯ä»¥ï¼Œå¦‚æœè¦æ’­æ”¾è§†é¢‘ï¼Œè§†é¢‘å¯ä»¥å¾ˆæµç•…ï¼Œä½†æ˜¯å£°éŸ³å¡ä¼šå¡ã€‚\nxvnc è¦æ¯” xorg æµç•…å¾ˆå¤šï¼Œå£°éŸ³ä¹Ÿè¦æ¯”xorgæµç•…ä¸€ç‚¹ç‚¹\nä¸­é—´å°è¯•è¿‡è‡ªå·±æ­å»º rustdesk ä¸­è½¬ ï¼Œæ•ˆæœä¹Ÿä¸€èˆ¬èˆ¬ã€‚å“ªæ€•å±€åŸŸç½‘å†… rustdesk æœ‰æ—¶å€™ ä¹Ÿä¼šç³Šï¼Œä½†æ˜¯å£°éŸ³è¦æ¯”xrdpæµç•…ä¸€äº›ã€‚\nå¦å¤– ibus ä¹Ÿæœ‰ä¸€ç‚¹é—®é¢˜ï¼Œå»ºè®®ç”¨ fcitx5\n","date":"2022-12-14T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/arch-install-xrdp/","title":"archlinuxå®‰è£…xrdpï¼Œå¯ä»¥å’Œæ–¹ä¾¿winå’Œipadè¿œç¨‹æ§ i3 kde dwm"},{"content":"å…³äºé˜¿é‡Œäº‘çš„é•œåƒæœåŠ¡ ç›®å‰é˜¿é‡Œäº‘çš„dockeré•œåƒæœåŠ¡åªé™åˆ¶å¹¶å‘æ•°è¦æ±‚\u0026lt;10ï¼Œå¹¶ä¸é™åˆ¶å®¹é‡å’Œé€Ÿåº¦ã€‚ å¯ä»¥æ»¡è¶³æ—¥å¸¸å°å›¢é˜Ÿä½¿ç”¨ã€‚\né…ç½®é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡ æ‰“å¼€ https://cr.console.aliyun.com/cn-qingdao/instances æˆ‘è¿™é‡Œé€‰é’å²›èŠ‚ç‚¹\nåˆ›å»ºä¸ªäººç‰ˆå®ä¾‹\nå¼„ä¸€ä¸ªå…¬å¼€çš„é•œåƒ åˆ›å»ºä¸€ä¸ªé•œåƒä»“åº“ å…ˆå¼„ä¸€ä¸ªå…¬å¼€çš„ ä»“åº“åç§° ï¼šbase-sh-debian é€‰æ‹©æœ¬åœ°ä»“åº“\næ¨é€é•œåƒ docker login --username=é‚®ç®± registry.cn-qingdao.aliyuncs.com # ç”¨äºç™»å½•çš„ç”¨æˆ·åä¸ºé˜¿é‡Œäº‘è´¦å·å…¨åï¼Œå¯†ç ä¸ºå¼€é€šæœåŠ¡æ—¶è®¾ç½®çš„å¯†ç ã€‚ docker docker images # docker tag [ImageId] registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:[é•œåƒç‰ˆæœ¬å·] docker tag debian11:sshd-autoboot.sh2222 registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:debian11-sshd-autoboot.sh2222 # docker push registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:[é•œåƒç‰ˆæœ¬å·] docker push registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:debian11-sshd-autoboot.sh2222 å› ä¸ºè¿™ä¸ªæ˜¯å…¬å¼€çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ 1 2 3 docker run -itd --name debian-go-codeserver-git --privileged=true \\ -p 59010:2222 -p 59011-59019:59011-59019 \\ registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:debian11-sshd-autoboot.sh2222 sh /autoboot.sh è¿™é•œåƒçš„è¯¦ç»†ä½¿ç”¨ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹\næ¸…ç† docker rmi registry.cn-qingdao.aliyuncs.com/ä½ çš„ç”¨æˆ·å/base-sh-debian:debian11-sshd-autoboot.sh2222 ç§æœ‰é•œåƒï¼Œä¹Ÿå°±æ˜¯åªæœ‰æœ‰å¯†ç æ‰å¯ä»¥è·å–çš„ åˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ è¿‡ç¨‹ç•¥ åå­—å°±å«åš mydocker\næŠŠæ­£åœ¨ä½¿ç”¨çš„å®¹å™¨ç›´æ¥æ‰“åŒ…åˆ°é•œåƒ æˆ‘è¿™é‡Œä¸ä¿ç•™å†å²è®°å½• æ‰€ä»¥ä¸ä½¿ç”¨docker commit\n1 2 3 4 5 6 7 8 # å¯¼å‡º docker export debian-go-codeserver-git \u0026gt; debian11-for-sshd.tar # æ‰“åŒ…å‹ç¼© è¿™æ­¥å¯ä»¥è·³è¿‡,å› ä¸ºè¿™é‡Œè¿˜è¦æœ¬åœ°å‚¨å­˜ä¸€ä¸‹ gzip debian11-for-sshd.tar # å¯¼å…¥ï¼Œè¿™é‡Œç›´æ¥å¯¼å…¥åˆ°é˜¿é‡Œäº‘çš„æ ¼å¼ å°±ä¸ç”¨å†æ‰“ä¸€æ¬¡æ ‡ç­¾ã€‚ cat debian11-for-sshd.tar.gz | docker import - registry.cn-qingdao.aliyuncs.com/joyanhui/mydocker:debian11-ssh-coder-golang-git-autoboot.sh2222-2022-1213 # æ¨é€ docker push registry.cn-qingdao.aliyuncs.com/joyanhui/mydocker:debian11-ssh-coder-golang-git-autoboot.sh2222-2022-1213 æ¸…ç†\n1 docker rmi registry.cn-qingdao.aliyuncs.com/joyanhui/mydocker:debian11-ssh-coder-golang-git-autoboot.sh2222-2022-1213 ç¼–å†™ä¸€ä¸ªshell docker.sh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # ä¸€é”®å¤‡ä»½æ­£åœ¨è¿è¡Œçš„dockeråˆ°é˜¿é‡Œäº‘ å¹¶ä¸¢å¼ƒå†å²è®°å½• # ç™»å½• # docker login --username=ç”¨æˆ·å registry.cn-åŒºåŸŸ.aliyuncs.com # é˜¿é‡Œäº‘è¿œç¨‹åœ°å€ remoturl=registry.cn-qingdao.aliyuncs.com/ä½ çš„/ä½ çš„ä»“åº“åç§° # è¦å¤‡ä»½çš„å®¹å™¨åç§° dockername=debian-go-codeserver-git # æ ‡ç­¾å‰ç¼€ tagname=debian11-ssh-coder-golang-git-autoboot.sh2222 # ä¸´æ—¶æ–‡ä»¶åå‰ç¼€ tarfilename=debian-go-codeserver-git datename=$(date +%Y%m%d-%H%M%S) echo å½“å‰æ—¶é—´ $datename echo å¯¼å‡ºåˆ°tar... docker export $dockername\u0026gt; $tarfilename-$datename.tar echo å¯¼å‡ºåˆ°tar...å®Œæ¯• echo tarå¯¼å…¥åˆ°é•œåƒ... cat $tarfilename-$datename.tar | docker import - $remoturl:$tagname-$datename echo tarå¯¼å…¥åˆ°é•œåƒ...å®Œæ¯• echo æ¨é€é•œåƒåˆ°é˜¿é‡Œäº‘é’å²›... docker push $remoturl:$tagname-$datename echo æ¨é€é•œåƒåˆ°é˜¿é‡Œäº‘é’å²›... å®Œæ¯• echo åˆ é™¤æœ¬åœ°é•œåƒ docker rmi $remoturl:$tagname-$datename echo åˆ é™¤æœ¬åœ°æ–‡ä»¶ rm -rf $tarfilename-$datename.tar echo å®Œæ¯• echo è¯·æ‰“å¼€ https://cr.console.aliyun.com/cn-qingdao/instance/repositories æŸ¥çœ‹ åŠ åˆ°è®¡åˆ’ä»»åŠ¡ï¼Œæ¯å¤©ä¸€æ¬¡ /var/spool/cron/crontabs/root æˆ–è€… crontab -e æŸ¥çœ‹çŠ¶æ€service crond status\n1 2 3 4 5 6 7 8 9 10 11 cat /var/spool/cron/crontabs/root # do daily/weekly/monthly maintenance # min hour day month weekday command */15 * * * * run-parts /etc/periodic/15min 0 * * * * run-parts /etc/periodic/hourly 0 2 * * * run-parts /etc/periodic/daily 0 3 * * 6 run-parts /etc/periodic/weekly 0 5 1 * * run-parts /etc/periodic/monthly 15 9 * * * sh /home/tom/docker.sh ","date":"2022-12-13T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/docker/img-to-aliyun/","title":"dockeré•œåƒå¤‡ä»½åˆ°é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡"},{"content":"é¡¹ç›®ç®€ä»‹ https://hub.docker.com/r/linuxserver/\nä»–æ˜¯é»˜è®¤å¼€äº†web vnc å’Œ xrdpçš„\nå…¶ä¸­ubuntuçš„é•œåƒæ˜¯æ”¯æŒ3dåŠ é€Ÿçš„ã€‚\nå‡†å¤‡å·¥ä½œ å…ˆæŸ¥çœ‹å®¿ä¸»æœºçš„æ˜¾å¡ ls /dev/dri usbè®¾å¤‡ ls /dev/bus/usb å¯ä»¥ç”¨ usbutils å’Œ lspice è¯¦ç»†æŸ¥çœ‹\né€‰æ‹© webtop é•œåƒ æ²¡æœ‰gnome,æˆ‘è¿™é‡Œ é€‰æ‹© ubuntu-kdeï¼Œ\nå’Œå¸¸è§„dockerä¸ä¸€æ ·çš„åœ°æ–¹ 1ã€è®¾å¤‡çš„æ˜ å°„\n--device /dev/dri:/dev/dri \\ --device /dev/fuse \\ /dev/dri æ˜¾å¡ /dev/fuse å°±æ˜¯fuse å®¿ä¸»æœºè¦ \u0026lsquo;modprobe fuse\u0026rsquo;\n2ã€dockeråµŒå¥—\n-v /var/run/docker.sock:/var/run/docker.sock \\ 3ã€æƒé™\n1 2 --device /dev/fuse \\ --cap-add SYS_ADMIN \\ æˆ–è€…\n1 2 3 --device /dev/fuse \\ --cap-add SYS_ADMIN \\ --security-opt apparmor:unconfined \\ å®åœ¨ä¸è¡Œç›´æ¥ä¸Š --privileged\nåˆ›å»º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 docker stop webtop-arch-kde \u0026amp;\u0026amp; docker rm webtop-arch-kde docker run -d \\ --name=webtop-arch-kde \\ --hostname=docker-arch \\ --privileged \\ --security-opt seccomp=unconfined \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e SUBFOLDER=/ \\ -e KEYBOARD=en-us-qwerty \\ -e TITLE=Webtop \\ -p 59030:3000 \\ -p 59031:3389 \\ -p 59032:22 \\ -p 59033-59039:59033-59039 \\ -v /var/run/docker.sock:/var/run/docker.sock \\ -v /dev/bus/usb:/dev/bus/usb \\ --device /dev/dri:/dev/dri \\ --cap-add SYS_ADMIN --cap-add MKNOD --device /dev/fuse:mrw \\ --restart unless-stopped \\ linuxserver/webtop:arch-kde ä¸­æ–‡å’Œæ±‰åŒ– 1 2 sudo pacman -Sy nano sudo nano /etc/pacman.d/mirrorlist 1 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch 1 2 3 sudo pacman -S wqy-microhei sudo pacman -S wqy-zenhei sudo pacman -S fcitx5-im fcitx5-rime æ—¶åŒº éœ€è¦su sudo passwd root echo \u0026ldquo;Asia/Shanghai\u0026rdquo; \u0026gt; /etc/timezone rm -rf /etc/localtime ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nè¾“å…¥æ³•é…ç½® 1 2 3 4 5 6 7 sudo nano /etc/environment ----------- GTK_IM_MODULE=fcitx QT_IM_MODULE=fcitx XMODIFIERS=@im=fcitx SDL_IM_MODULE=fcitx GLFW_IM_MODULE=ibus 1 source /etc/environment yay 1 sudo nano /etc/pacman.conf 1 2 [archlinuxcn] Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch 1 2 sudo pacman -Sy archlinuxcn-keyring sudo pacman -S yay å…¶ä»–å¸¸ç”¨å·¥å…· 1 sudo pacman -S wget unzip èŠå¤©è½¯ä»¶ 1 2 3 4 5 6 7 8 9 10 11 sudo pacman -S libnotify dunst #é€šçŸ¥æœåŠ¡ yay -S electronic-wechat-uos-bin #kdeè¿˜éœ€è¦ä¸€ä¸ª sudo pacman -S xdg-desktop-portal-kde wget -c https://dldir1.qq.com/qqfile/qq/QQNT/4691a571/QQ-v2.0.1-429_x64.AppImage chmod u+x ./QQ-* #AppImageä¾èµ–fuseï¼Œdockeré‡Œé¢çš„fuseæœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œå¯åŠ¨æµ‹è¯• ./QQ-v2.0.1-429_x64.AppImage --appimage-extract-and-run sudo pacman -S telegram-desktop å®¿ä¸»é‡å¯ä¸€ä¸‹docker 1 docker restart webtop-arch-kde æœ€åç»“è¯­ å› ä¸ºdockerçš„åŸå› ï¼Œåç»­ä¸€äº›å°åœ°æ–¹çš„å¤„ç†ä¼šéå¸¸éº»çƒ¦\nå°é²œ å¯ä»¥ï¼Œæˆ–è€…åªç”¨å‡ ä¸ªç®€å•çš„è½¯ä»¶ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œæ—¥ç”¨è¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜çš„ã€‚\nåªç”¨æ¥è·‘ä¸€ä¸ªå‡ ä¸ªè½¯ä»¶ æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚\n","date":"2022-12-13T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/docker/run-deskto-gpu-usb/","title":"dockerè¿è¡Œä¸€ä¸ªå¯ä»¥ä½¿ç”¨usbå’Œæ˜¾å¡åŠ é€Ÿçš„æ¡Œé¢linux"},{"content":"åŸºäºpve7.3 ç†è®ºä¸Š7.x é€šç”¨\npve7.3 é»˜è®¤å®‰è£…åä¸éœ€è¦ç¼–è¾‘sshd_configï¼Œç›´æ‰§è¡Œ apt install -y xauth å³å¯\n1 2 3 4 5 apt install -y xauth nano /etc/ssh/sshd_config --------------- X11Forwarding yes X11UseLocalhost no é‡å¯ssh\n1 systemctl restart sshd ç”¨ Xming æˆ–è€…MobaXterm é‡æ–°è¿æ¥ä¸Šï¼Œå®‰è£…ä¸€ä¸ªå›¾å½¢ç•Œé¢è½¯ä»¶ æµ‹è¯•ï¼Œæ¯”å¦‚ apt install firefox\nè€Œåæµ‹è¯•\n","date":"2022-12-11T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/x11/","title":"pve å¼€å¯x11è½¬å‘"},{"content":"ä¿®æ”¹ç½‘å¡ éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ä¸¤å¤„åœ°æ–¹\næŸ¥çœ‹ç½‘å¡ ip a é™¤å»loå’Œvmbr0 ä¹‹å¤–çš„ç½‘å¡ å°±æ˜¯æˆ‘ä»¬éœ€è¦ç”¨çš„ç½‘å¡ï¼Œå¦‚æœæ˜¯wifiç½‘å¡ï¼ˆä¸€èˆ¬wlå¼€å¤´çš„ï¼‰çš„è¯éœ€è¦é¢å¤–å¤„ç† è¿™é‡Œä¸åœ¨è®°å½• æˆ‘è¿™é‡Œçš„å®é™…éœ€è¦çš„ç½‘å¡åç§°ä¸º enp1s0\nç¼–è¾‘interfaces 1 nano /etc/network/interfaces æŠŠ iface xxx inet manual è¿™è¡Œé‡Œé¢çš„ç½‘å¡åç§°ä¿®æ”¹ä¸ºenp1s0 å†æŠŠ bridge-ports XXX åé¢çš„ç½‘å¡åç§°ä¿®æ”¹ä¸ºenp1s0\nä¿®æ”¹ip éœ€è¦ä¿®æ”¹3ä¸ªæ–‡ä»¶,æ³¨æ„ç½‘å…³æ©ç  éƒ½æ ¹æ®ä½ çš„æƒ…å†µä¿®æ”¹\n1 2 3 /etc/network/interfaces /etc/issue /etc/hosts é‡å¯PVE\nä¿®æ”¹ä¸»æœºå éœ€è¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶\n1 2 /etc/hostname /etc/hosts å¦‚æœç”¨é‚®ä»¶æœåŠ¡ï¼Œè¿˜è¦ä¿®æ”¹\n1 /etc/postfix/main.cf ","date":"2022-12-11T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/changip-and-netcard/","title":"pve ä¿®æ”¹ç½‘å¡å’Œip ä¸»æœºåç§°"},{"content":"cachyosæ˜¯åŸºäºarchçš„ä¸€ä¸ªå‘è¡Œç‰ˆï¼Œæœ‰ç‚¹æ˜¯å¸¦x86_64_v3 çš„ä¸€ä¸ªä»“åº“ã€‚ å¯ä»¥æå‡10%çš„cpuæ€§èƒ½ã€‚ å¹¶ä¸”å¯ä»¥å’Œarchçš„ä»“åº“æ··ç”¨ã€‚\nå‡†å¤‡åˆ‡æ¢ ï¼Œå°±å¤‡ä»½ä¸€ä¸‹ 1 sudo cp /etc/pacman.conf /etc/pacman.conf-bak-before-cachyos ç›´æ¥ç”¨å®˜ç½‘åŒ…å¤„ç†æº 1 2 3 wget https://mirror.cachyos.org/cachyos-repo.tar.xz tar xvf cachyos-repo.tar.xz \u0026amp;\u0026amp; cd cachyos-repo sudo ./cachyos-repo.sh å®é™…ä¿®æ”¹åçš„æ–‡ä»¶å¤šäº†ä¸€æ®µ 1 2 [cachyos-v3] Include = /etc/pacman.d/cachyos-v3-mirrorlist æ›´æ–° 1 sudo pacman -Syyu ä¼šæŠŠä½ å·²ç»è£…è¿‡çš„æ›¿æ¢ä¸ºv3ç‰ˆ\næ›´æ¢å†…æ ¸ 1 sudo pacman -S linux-cachyos-pds-lto é…ç½®å¼•å¯¼ 1 2 3 4 5 sudo nano /etc/default/grub ---æ·»åŠ æˆ–è€…ä¿®æ”¹ä¸‰è¡Œ-æ–¹ä¾¿å¼•å¯¼çš„æ—¶å€™é€‰æ‹©å†…æ ¸ GRUB_DISABLE_SUBMENU=y GRUB_DEFAULT=saved GRUB_SAVEDEFAULT=true æ›´æ–°å¼•å¯¼ ç„¶åé‡å¯ é€‰æ‹©æ–°è£…çš„å†…æ ¸pds sudo grub-mkconfig -o /boot/grub/grub.cfg\nå¸è½½æ—§å†…æ ¸æ¸…ç† 1 2 3 sudo pacman -Rns linux sudo grub-mkconfig -o /boot/grub/grub.cfg yay -Sccc ","date":"2022-12-11T20:25:20+08:00","permalink":"https://dev.leiyanhui.com/arch/arch-to-cachyos/","title":"archLinux åˆ‡æ¢åˆ°cachyoså‘è¡Œç‰ˆ"},{"content":"ç®€å•è¯´æ˜ i3w ä¸å• å¯ä»¥å¤šä¸ªå±å¹•ï¼Œè¿˜å¯ä»¥å¤šç»„windowsï¼Œç”šè‡³å¯ä»¥å­˜åœ¨ çˆ¶ç»„ å­ç»„ç­‰ã€‚\nå¸¸ç”¨å¿«æ·é”® $mod + Enter\tå¯åŠ¨è™šæ‹Ÿç»ˆç«¯\n$mod + A\tç„¦ç‚¹è½¬ä¹‰åˆ°çˆ¶çª—å£ä¸Š\n$mod + S\tå †å å¸ƒå±€\n$mod + W\tæ ‡ç­¾å¸ƒå±€\n$mod + E\té»˜è®¤å¸ƒå±€ è¿ç»­æŒ‰ä¸‹ å¯ä»¥ä» çºµå‘æ’åˆ—å’Œç«–å‘æ’åˆ—ä¹‹é—´ æ¥å›åˆ‡æ¢\n$mod + SpaceBar\tç„¦ç‚¹åœ¨å¹³é“ºå¼ï¼æµ®åŠ¨å¼è½¬æ¢\n$mod + Shift + SpaceBar\tçª—å£åœ¨å¹³é“ºå¼ï¼æµ®åŠ¨å¼è½¬æ¢\n$mod + shift + \u0026lt;æ•°å­—é”®\u0026gt; å°†å½“å‰ç¨‹åºå‘é€åˆ°æŒ‡å®šwindow\n$mod + \u0026lt;æ–¹å‘é”®\u0026gt; ç§»åŠ¨é¼ æ ‡åˆ°ç„¦ç‚¹\n$mod + shift + \u0026lt;æ–¹å‘é”®\u0026gt; ç§»åŠ¨çª—å£ä½ç½®\n$mod + D\tå¯åŠ¨ dmenu\n$mod + H\tæ°´å¹³åˆ†å‰²çª—å£\n$mod + V\tå‚ç›´åˆ†å‰²çª—å£\n$mod + J\tç„¦ç‚¹å¾€å·¦çª—å£ç§»\n$mod + K\tç„¦ç‚¹å¾€ä¸‹çª—å£ç§»\n$mod + L\tç„¦ç‚¹å¾€ä¸Šçª—å£ç§»\n$mod + ;\tç„¦ç‚¹å¾€å³çª—å£ç§»\n$mod + Shift + Q\tæ€æ­»å½“å‰çª—å£çš„è¿›ç¨‹\n$mod + Shift + E\té€€å‡º i3\n$mod + Shift + C\tå½“åœºé‡æ–°åŠ è½½ i3config, æ— éœ€é‡å¯\n$mod + Shift + R\té‡å¯ i3 ï¼ˆè¿˜é‡æ–°åŠ è½½äº† i3config, åˆæ²¡æœ‰é€€å‡ºè¿‡ç¨‹ï¼‰\n$mod + Shift + J\tçª—å£å·¦ç§» ç­‰åŒäº $mod + shift + \u0026lt;æ–¹å‘é”®\u0026gt;\n$mod + Shift + K\tçª—å£ä¸‹ç§» ç­‰åŒäº $mod + shift + \u0026lt;æ–¹å‘é”®\u0026gt;\n$mod + Shift + L\tçª—å£ä¸Šç§» ç­‰åŒäº $mod + shift + \u0026lt;æ–¹å‘é”®\u0026gt;\n$mod + Shift + :\tçª—å£å³ç§» ç­‰åŒäº $mod + shift + \u0026lt;æ–¹å‘é”®\u0026gt;\n$mod + \u0026lt;æ•°å­—é”®\u0026gt; åˆ‡æ¢window\n$mod + F ç„¦ç‚¹çª—å£å…¨å±\n","date":"2022-12-11T08:23:20+08:00","permalink":"https://dev.leiyanhui.com/arch/i3w-config-key/","title":"i3w å¸¸ç”¨å¿«æ·é”®å’ŒåŸºæœ¬é…ç½®"},{"content":"åœ¨/home/ç”¨æˆ·å è¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾ç€æˆ‘ä»¬çš„å¤§é‡é…ç½®æ–‡ä»¶ã€‚å°¤å…¶æ˜¯ç³»ç»Ÿçš„ä¸€äº›é…ç½®iï¼Œè¿˜æœ‰ä¸€äº›ä¸ªåˆ«è½¯ä»¶çš„é…ç½®ã€‚\nå…ˆåˆ›å»ºè¿œç¨‹ç§æœ‰åº“å’Œtoken key è¿‡ç¨‹ç•¥\né…ç½®è¿‡æ»¤æ–‡ä»¶ .gitignore .gitignore\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # ä¿®æ”¹åéœ€è¦æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¸…ç†ç¼“å­˜ # git rm -r --cached . /.cache /Downloads /ä¸‹è½½ /.mozilla /.config/electronic-wechat /.config/icalingua /.config/QQ /.local/share/logs /golang/webdavgo/.git /golang/webdavgo/bin /.gocache /golang/ole/ /.local/share/code-server/logs vscode.lock code-server-stdout.log /.local/share/fish/fish_history å¤„ç†git è¿™æ ·å—¯é‡Œ git.sh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # å®šä¹‰æº git remote set-url origin https://joyanhui:XXX@github.com/joyanhui/XXXX.git # ä¿®æ”¹ .gitignore åéœ€è¦æ¸…ç†ç¼“å­˜ # #git init #git rm -r --cached . git add . git commit -m \u0026#34;sh git.sh è‡ªåŠ¨ $(date \u0026#34;+%Y-%m-%d %H:%M:%S\u0026#34;) -$RANDOM\u0026#34; # æŒ‚ä»£ç† export http_proxy=\u0026#34;10.0.0.1:20172\u0026#34; export https_proxy=\u0026#34;10.0.0.1:20172\u0026#34; # git remote add origin https://joyanhui:XXX@github.com/joyanhui/XXXX.git # git remote set-url origin https://joyanhui:XXX@github.com/joyanhui/XXXX.git # git pull --rebase origin master # å¼ºåˆ¶è¦†ç›– git push -f origin master git push -u origin master ","date":"2022-12-11T07:25:20+08:00","permalink":"https://dev.leiyanhui.com/arch/git-backup-userdir/","title":"linuxä¸‹gitå¤‡ä»½homeç›®å½•åˆ°è¿œç¨‹ä»“åº“"},{"content":"å®‰è£ ibus åŸºç¡€ 1 sudo pacman -S ibus å®‰è£…ä¸€ä¸ªè¾“å…¥æ³•å¼•æ“ 1 sudo pacman -S ibus-rime # ibus-libpinyin ibus-pinyin å¯åŠ¨ 1 ibus-daemon -d -x é…ç½® å³é”®ibusæ‰˜ç›˜ï¼Œç®€å•é…ç½®ã€‚ rimeçš„è¯ï¼Œç›´æ¥æ‰“å¼€è¾“å…¥æ¡†ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æœ‰ä¸€äº›å»¶è¿Ÿï¼‰ ç„¶åç‚¹F4 é€‰æ‹©ç®€ä½“\nå’Œå…¶ä»–è½¯ä»¶çš„é€šè®¯ å¤šæ•°è½¯ä»¶å¯ä»¥ä½¿ç”¨ï¼Œéƒ¨åˆ†è½¯ä»¶,æœ€å¥½åŠ åˆ° ~/.pam_environment\n1 2 3 4 export GTK_IM_MODULE=ibus export XMODIFIERS=@im=ibus export QT_IM_MODULE=ibus ibus-daemon -d -x ","date":"2022-12-08T08:02:20+08:00","permalink":"https://dev.leiyanhui.com/arch/ibus-install/","title":"archLinux ibus "},{"content":"ç°åœ¨ç”¨çš„i3wï¼Œå‡†å¤‡å®‰è£…ä¸€ä¸ªgnome ä¸€èµ·ä½¿ç”¨ï¼Œä»å¤´å¼€å§‹å¼„\næ‰‹åŠ¨å®‰è£…æœ€åŸºæœ¬çš„archlinux https://dev.leiyanhui.com/arch/base-install/\nå®‰è£…xorgå’Œæ˜¾å¡é©±åŠ¨ä¹‹ç±»çš„ pacman -S linux-firmware xf86-video-vesa xorg-server sudo pacman -S --needed xorg-server gnome-shell sudo pacman -S gnome-shell è§£å‹å300M+\nå…¶ä»–å¯èƒ½éœ€è¦çš„gnome ç»„ä»¶ è®¾ç½®ç»„ä»¶ sudo pacman -S gnome-control-center è§£å‹å130Mï¼ŒåŒ…æ‹¬å£çº¸è®¾ç½® åˆ†è¾¨ç‡ å±å¹•æ–¹å‘ ç­‰ç­‰\né…ç½®ä¸­æ–‡ sudo nano /etc/locale.gen ------ en_US.UTF-8 UTF-8 zh_CN.UTF-8 UTF-8 zh_SG.UTF-8 UTF-8 ä¸»é¢˜å’Œæ‰©å±• sudo pacman -S gnome-themes-extra yay -S chrome-gnome-shell ç«ç‹æ‰“å¼€ https://extensions.gnome.org/ æŒ‰ç…§æç¤ºå®‰è£…æ‰©å±• æ¯”å¦‚ dock from dash ï¼Œå›ºå®šdock\nå¸è½½ 1 sudo pacman -Rns gnome-themes-extra chrome-gnome-shell gnome-control-center gnome-shell ä¸­æ–‡å­—ä½“ è‡ªå·±é€‰ä¸€ä¸ªï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢é›…é»‘ã€‚ã€‚\nè¾“å…¥æ³• sudo pacman -S ibus-rime å®‰è£…ç™»å½•ç®¡ç†å™¨ å¯ä»¥ç”¨ xorg-xinit ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œéœ€è¦ç”¨rustdesk æ‰€ä»¥é€‰ lightdm\nsudo pacman -S lightdm-gtk-greeter sudo systemctl enable lightdm sudo systemctl start lightdm å…¶ä»– åº”ç”¨è½¯ä»¶ è‡ªå·±å–œæ¬¢çš„æ–‡ä»¶ç®¡ç†å™¨å’Œç»ˆç«¯ æ–‡æœ¬ç¼–è¾‘å™¨ç­‰å°½é‡å’Œi3w å¤ç”¨\n1 sudo pacman -S thunar xed terminator ","date":"2022-12-07T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/arch/arch-linux-install-gnome-desktop/","title":"arch linuxæœ€å°åŒ–å®‰è£…gnome"},{"content":"qqç»ˆäºæ›´æ–°linuxç‰ˆæœ¬å•¦ã€‚ è™½ç„¶ä¸å‡ºæ‰€æ–™æ˜¯electronç‰ˆï¼Œä½†æ˜¯æ€»ç®—æ˜¯æ›´æ–°å•¦\u0026hellip;\nå†…æµ‹ç¾¤æ¶ˆæ¯ 2022-12-07 09:47\nhttps://dldir1.qq.com/qqfile/qq/QQNT/4691a571/QQ-v2.0.1-429_x64.AppImage\n#Linux QQ å…¨æ–°æ¥è¢­#æ—¶éš”3å¹´ï¼ŒLinux QQåŸºäºNTæ¶æ„å…¨æ–°å‡çº§å•¦\n[åº†ç¥]12æœˆ7æ—¥èµ·ï¼Œæ­£å¼å¼€å¯å…¬æµ‹ï¼ŒæœŸå¾…æ”¶åˆ°å¤§å®¶åé¦ˆçš„å£°éŸ³å…³äºä½“éªŒæ–¹å¼ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ï¼Œå³åˆ»â€œå°é²œâ€\nhttps://dldir1.qq.com/qqfile/qq/QQNT/4691a571/QQ-v2.0.1-429_x64.deb\nhttps://dldir1.qq.com/qqfile/qq/QQNT/4691a571/QQ-v2.0.1-429_x64.rpm\nhttps://dldir1.qq.com/qqfile/qq/QQNT/4691a571/QQ-v2.0.1-429_x64.AppImage\npsï¼šæš‚æ—¶åªæ”¯æŒx64æ¶æ„ï¼Œarm64æ¶æ„è¿˜åœ¨åŠ æ€¥é€‚é…ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼å…³äºä½“éªŒåå•ä»…é™12æœˆ6æ—¥19ç‚¹å‰è¿›ç¾¤çš„æˆå‘˜\nå…³äºä½“éªŒåé¦ˆç‚¹å‡»ä¸»é¢æ¿å·¦ä¸‹è§’çš„â€œæ›´å¤š-å¸®åŠ©-æ„è§åé¦ˆâ€è¿›è¡Œç”¨æˆ·åé¦ˆæœ€åï¼ŒæœŸå¾…å¹¶æ„Ÿè°¢å¤§å®¶çš„ä½“éªŒå’Œåé¦ˆï½\nåˆæ­¥æµ‹è¯• ç™½åå•å†…æµ‹ï¼Œä¸åœ¨å†…æµ‹ç¾¤çš„å¸å·ç™»å½•ä¸ä¸Šã€‚cpuä¸ç®—å¤ªé«˜ï¼Œæˆ‘è¿™å•æ ¸å¿ƒ30%ä»¥å†…ï¼Œå…¶ä»–å‡ ä¸ªè¿›ç¨‹å¤šæ•°ä¼‘çœ çŠ¶æ€ã€‚å†…æµ‹200-300Mä¹‹é—´æ³¢åŠ¨ï¼Œ\næ¯”èµ·ç¬¬ä¸‰æ–¹Icalingua++ å’Œæ—§ç‰ˆä¸é”™çš„åœ°æ–¹\nå¯ä»¥ç¾¤æœç´¢ å¯ä»¥æŠ˜å ç¾¤ ç¾¤æ–‡ä»¶ æ­£å¸¸ ç§èŠå‘é€æ–‡ä»¶ æ­£å¸¸ ç•Œé¢å’Œmacosçš„æµ‹è¯•ç‰ˆå·®ä¸å¤šã€‚ è¡¨æƒ…å¯ä»¥æ¼«æ¸¸ é‚®ç®±å¯ä»¥è°ƒç”¨é»˜è®¤æµè§ˆå™¨ æœ‰qqç©ºé—´å’Œå°ä¸–ç•Œå…¥å£ è°ƒç”¨å†…ç½®æµè§ˆå™¨ ç­‰ç­‰ å­˜åœ¨çš„é—®é¢˜\narch i3w ä¸‹ æ²¡æœ‰ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ æ²¡æœ‰æ¶ˆæ¯é€šçŸ¥ æš‚æ—¶ä¸çŸ¥é“ä¾èµ–å’Œæ’ä»¶æƒ…å†µ æ— æ³•å¤„ç†ï¼Œç®¡ç†æ²¡æ˜ç¡®è¯´ï¼Œè¿™ç®—æ˜¯ä¸¥é‡bugï¼Œåç»­åº”è¯¥ä¼šä¿®å¤ã€‚ æ²¡æœ‰è¯­éŸ³é€šè¯å’Œè§†é¢‘é€šè¯ æ— æ³•æ¥å—è¯­éŸ³æ¶ˆæ¯ ç¾¤èŠé‡Œé¢ èŠå¤©è®°å½•åˆ—è¡¨ä¸æ˜¾ç¤ºç®¡ç†æˆ–è€…ç¾¤ä¸»å¤´è¡”ï¼Œç¾¤èŠå³ä¾§ç”¨æˆ·åˆ—è¡¨å¯ä»¥æ˜¾ç¤º wayland ä¸‹æˆªå›¾åº”è¯¥æ˜¯æœ‰é—®é¢˜ x11 xorg ä¸‹æˆªå›¾ä¼šé—ªä¸€ä¸‹çª—å£ï¼Œå¡2ç§’å·¦å³ ç¾¤ä¸æ˜¾ç¤ºåœ¨çº¿äººæ•°ï¼Œåªæ˜¾ç¤ºå…¨éƒ¨äººæ•° æœ‰äººåæ˜ ä¸å…³é—­æ–°ç‰ˆQQ æ— æ³•å…³æœº éœ€è¦æ‰«ç ç™»å½• æš‚æ—¶ä¸æ”¯æŒå¯†ç ç™»å½•ï¼Œä»¥åæ˜¯å¦æ”¯æŒä¸ç¡®å®šï¼ˆmac electronç‰ˆå·²ç»æ”¯æŒï¼‰ å­—ä½“é»˜è®¤ï¼Œæ— æ³•ä¿®æ”¹ï¼Œéƒ¨åˆ†ç•Œé¢å­˜åœ¨ä¸¤ç§å­—ä½“æ··ç”¨çš„æƒ…å†µ æ€ªæ€ªçš„ã€‚éœ€è¦è®¤çœŸè‡ªè¡Œé…ç½®æ¡Œé¢ç¯å¢ƒå­—ä½“ã€‚ åŒå‡»å›å¤åŠŸèƒ½ æ²¡æœ‰ï¼Œåªèƒ½å³é”® QQé¢‘é“ å…¬ä¼—å· å°ç¨‹åºä¹Ÿæ²¡æœ‰ï¼ˆè¿™ç®—æœ€å¤§ä¼˜ç‚¹ å“ˆå“ˆï¼‰ å°ä¸–ç•Œ æ²¡æœ‰ç¡¬è§£ï¼Œçº¯è½¯è§£ï¼Œåƒä½ 2ä¸ªæ ¸å¿ƒçš„cpuä¸åœ¨è¯ä¸‹ å“ˆå“ˆ èŠå¤©è®°å½• å­˜æ”¾åœ¨ .config/QQ/nt_qq_XXXX/ ç›®å½•ï¼Œè‡ªåŠ¨å¤‡ä»½configç›®å½•çš„åŒå­¦æ³¨æ„å•¦ã€‚ã€‚ å°é—®é¢˜æœ‰ä¸€äº›ï¼Œä¸»è¦æ˜¯ç³»ç»Ÿæ‰˜ç›˜å’Œæ¶ˆæ¯æé†’åŠŸèƒ½ ä»¥åŠè¯­éŸ³å’Œè§†é¢‘ï¼Œä½†æ˜¯æ•´ä½“å¯ä»¥ç”¨ã€‚ æ„å¤–çš„æƒŠå–œ\nå…¨å±€å¿«æ·é”®æ”¯æŒï¼Œå…¼å®¹i3w è¿™ä¸ªç‰ˆæœ¬æ”¯æŒå¤šå¼€ æ•´ä½“æ„Ÿè§‰ æ¯”ä¹‹å‰çš„ç‰ˆæœ¬çš„ç•Œé¢å¥½äº†ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ï¼Œæ¶ˆæ¯é€šçŸ¥é—®é¢˜ï¼Œæ™šç‚¹çœ‹çœ‹ åº”è¯¥å¯ä»¥è§£å†³ã€‚æµ‹è¯•ç‰ˆä¹Ÿä¸æ˜¯æœ€ç»ˆç‰ˆã€‚\nå½“ç„¶ ä¹Ÿæ”¯æŒdocker è¿è¡Œ\nç”¨æˆ·æ–‡ä»¶çœ‹èµ·æ¥æ”¾ ~/.config/QQé‡Œäº†,\nç„¶åé¬¼ç•œçš„æ˜¯èŠå¤©è®°å½•æ–‡ä»¶ä¹Ÿæ”¾åˆ°configäº† .config/QQ/nt_qq_XXXX/ã€‚ä¸çŸ¥é“è¿™æ˜¯å†…æµ‹ç‰ˆçš„å¤±è¯¯ï¼Œè¿˜æ˜¯æœ‰å¿ƒè¿™æ ·åšçš„ã€‚ç¾¤é‡Œè®¨è®ºè¿™ä¸ªè¯é¢˜å¾ˆé•¿æ—¶é—´ï¼Œå®˜æ–¹ç®¡ç†æ²¡æœ‰å¯¹æ­¤å›å¤ã€‚\nå¤§éƒ¨åˆ†linuxç”¨æˆ·æœ‰å¤‡ä»½ç”šè‡³è‡ªåŠ¨åŒæ­¥configç›®å½•çš„ä¹ æƒ¯ã€‚è¿™ä¸‹ éƒ½è¢«æµ‹è¯•ç‰ˆç»™å‘äº†ã€‚ä¸€ä¼šåŠŸå¤«configç›®å½•ä»å‡ ç™¾Kå˜æˆå‡ ä¸ªG\u0026hellip;.\ndocker x11è½¬å‘å®Œç¾è¿è¡Œï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒqq ä¹±è¯»æˆ‘çš„æ–‡ä»¶ åƒæˆ‘cpuå’Œå†…å­˜äº†ã€‚\næ„Ÿè°¢Icalingua++ çš„ç›¸ä¼´ï¼Œå¸è½½å•¦\nä¸€ç‚¹å°é—æ†¾ å…¶å®è¿˜æ˜¯å¸Œæœ›qtçš„ï¼Œå¦‚æœå¸¸ç”¨è½¯ä»¶éƒ½electronäº†\u0026hellip;linuxæ¡Œé¢ç¯å¢ƒåªèƒ½æ›´åŠ æ¶åŠ£\nå†…æµ‹ç”³è¯· ç›®å‰æµ‹è¯•æ˜¯å†…æµ‹ç™½åå•ï¼Œç¾¤å†…æ˜¨å¤©ä¸‹åˆè¿›ç¾¤çš„è‡ªåŠ¨ç™½åå•ã€‚æ²¡æœ‰è¿›ç¾¤çš„éœ€è¦å¡«å†™è¡¨å•ç”³è¯·\nç”³è¯·åœ°å€ï¼š https://docs.qq.com/form/page/DUXdac0ZaVEZUSnVn#/fill\n","date":"2022-12-07T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/arch/new-qq2022/","title":"QQ linux æ–°ç‰ˆç»ˆäºå‘å¸ƒå•¦"},{"content":"å®å¡”ç»å†è¿‡å‡ æ¬¡ä¸¥é‡æ¼æ´ï¼ŒåŠ ä¸Šæœ€è¿‘å°bugä¸æ–­ï¼Œç”šè‡³æœ‰çš„bugååå¤å¤ï¼Œå¦‚åŒæœˆç»ä¸€æ ·ï¼Œæ¯ä¸ªæœˆå‡ºç°ä¸€æ¬¡ï¼ˆå®å¡”å‘¨æ›´ï¼‰\nè¿˜æœ‰ä¹‹å‰ç›´æ’­é—´çš„äº‹æ•…ï¼Œå¼ºåˆ¶ç»‘å®šæ‰‹æœºå·ç­‰ç­‰\u0026hellip;.å®˜ç½‘bugè®ºå›çš„æœºå™¨äººä¸€æ ·çš„å›å¤ï¼šæˆ‘æ²¡æœ‰bugï¼Œä½ æ›´æ–°ä¸€ä¸‹\nåæ­£å°±æ˜¯æ­»ä¸æ‰¿è®¤ï¼Œç„¶åä¸€ç›´åˆ°åé¦ˆçš„äººå¤šäº†ï¼Œç”šè‡³è¿‡å»æ•°å‘¨æ‰å»ä¿®å¤ï¼Œç„¶åè¿‡å‡ å‘¨å¯èƒ½åˆå¤ç°\nè¿™ä¸ªæ›¾ç»ä¼˜ç§€çš„å›½äº§è½¯ä»¶ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºç”¨æˆ·ç¾¤å¤ªå¤šï¼Œä¹Ÿå¯èƒ½æ˜¯å†…éƒ¨ç®¡ç†çœŸçš„æ˜¯æ··ä¹±ä¸å ªã€‚é¢‘ç¹çˆ†å‡ºbug è¿˜æœ‰ å®‰å…¨é—®é¢˜ã€‚\nå»å¹´å¼€å§‹ï¼Œæ–°æœºå™¨ä¸Šå°±é¿å…å†ä½¿ç”¨å®å¡”ã€‚\nè¿™æ¬¡å®å¡”çš„æ“ä½œ ä¹Ÿéå¸¸æƒŠäººï¼Œå®å¡”å®˜æ–¹è‡ªå·±çš„demoéƒ½è¢«é»‘æ‰ï¼Œä¾æ—§ä¸æ‰¿è®¤æœ‰æ¼æ´ï¼Œç„¶ååœ¨è®ºå›å¼€å§‹ç–¯ç‹‚åˆ åé¦ˆè´´ï¼\næç¬‘çš„æ˜¯ï¼Œå®å¡”è‡ªå·±çš„demo è¿Ÿè¿Ÿéƒ½æ²¡æœ‰å¤„ç†æ‰ï¼Œç¬¬äºŒå¤©æ—©ä¸Šç›´æ¥æŒ‚403äº†ã€‚ çœŸçš„æ˜¯ã€‚ã€‚ã€‚\né¦–å…ˆè¯´ï¼Œè¿˜æ˜¯æ¨èå°½é‡æ‰‹æ“çš„æ–¹å¼æ¥ç®¡ç†ç”Ÿäº§æœåŠ¡å™¨ï¼ŒçœŸçš„ä¸å»ºè®®å†ç”¨å®å¡”è¿™ç§é¬¼ä¸œè¥¿ã€‚\nå¦‚æœå®åœ¨æ˜¯éœ€è¦å›¾å½¢ç•Œé¢ æˆ–è€…ä¸€é”®ç¯å¢ƒ å¯ä»¥çœ‹ä¸€ä¸‹ç›¸å…³æ›¿ä»£äº§å“\næ›¿ä»£å“ 1ã€https://cockpit-project.org/\nCockpit æ˜¯ç”± Red Hat å¼€å‘çš„ä½¿å¾—ç®¡ç†æœåŠ¡å™¨å˜å¾—è½»æ¾ç®€å•çš„è‡ªç”±å¼€æºè½¯ä»¶ã€‚å®ƒéå¸¸é€‚åˆäºè¿›è¡Œç®€å•çš„ç³»ç»Ÿç®¡ç†ä»»åŠ¡å’Œæ–°æ‰‹ç³»ç»Ÿç®¡ç†å‘˜ã€‚\n2ã€https://github.com/midoks/mdserver-web UIè·Ÿå®å¡”å·®ä¸å¤šï¼Œä½†ä¸ªäººè¯•ç”¨äº†ä¸€ä¸‹å‘ç°å ç”¨èµ„æºæŒºé«˜çš„ã€‚\n3ã€https://hestiacp.com/ å¤ªç®€å•ï¼ŒåŠŸèƒ½ä¸è¶³\n4ã€https://oneinstack.com/ ç±»lnmpï¼Œæ— web UI\n5ã€https://cyberpanel.net/ å¤ªç®€å•ï¼ŒåŠŸèƒ½ä¸è¶³\n6ã€https://lnmp.org/ æ— web UI\n7ã€https://github.com/DevHaoZi/Panel è€—å­é¢æ¿ï¼Œä»…æ”¯æŒredhatç³»åˆ—\n8ã€http://amh.sh/ amhé¢æ¿\n9ã€https://www.appnode.com/\n10ã€https://vestacp.com/\n11ã€https://fastpanel.direct/\n12ã€https://www.urlos.com/\n13ã€https://www.hws.com/\n14ã€https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhCN\n15ã€ Nginx Proxy Manager https://nginxproxymanager.com/ çº¯nginxåä»£ å’Œ leè¯ä¹¦ç®¡ç†å·¥å…·\n16ã€ çº¯è¯ä¹¦ç®¡ç† https://github.com/acmesh-official/acme.sh\n17ã€è¶…è¿‡25å¹´çš„è€å¤è‘£Webmin/Virtualmin\n","date":"2022-12-07T09:58:20+08:00","permalink":"https://dev.leiyanhui.com/linux/other-bt/","title":"å†è§å®å¡”ï¼Œå…³äºå®å¡”çš„17ä¸ªæ›¿ä»£å“"},{"content":"å®‰è£…é…ç½®codeserver 1 2 yay -S code-server sudo systemctl enable --now code-server@$USER é»˜è®¤åœ°å€ï¼šhttp://127.0.0.1:8080 é…ç½®æ–‡ä»¶åœ¨ ~/.config/code-server/config.yaml ç®€å•ä¿®æ”¹å…è®¸å¤–ç½‘è®¿é—®ï¼Œå¹¶åœ¨è·¯ç”±åšå¥½ç«¯å£è½¬å‘ æˆ–è€…nginx sslä»£ç†\n1 2 3 4 bind-addr: 0.0.0.0:8080 auth: password password: å¯†ç  cert: false é‡å¯\n1 sudo systemctl restart code-server@$USER å®‰è£…go å»ºè®®æ‰‹åŠ¨å®‰è£… ï¼šhttps://dev.leiyanhui.com/c/ubuntu-install-golang/\npacman å®‰è£…ä¹Ÿå¯ä»¥sudo pacman -S go\nérootç”¨æˆ·çš„å¤„ç† 1 2 cd ~ mkdir .gocache ç¼–è¾‘ /etc/profile æˆ–è€…ç”¨æˆ·ç›®å½•ä¸‹.profileæ–‡ä»¶\n1 export GOCACHE=/home/ç”¨æˆ·å/.gocache å®Œæ•´å†…å®¹\n1 2 3 4 5 6 7 export GO111MODULE=on export GOROOT=/opt/go export GOPATH=/opt/gopath #export GOCACHE=/opt/gocache export GOCACHE=/home/ç”¨æˆ·å/.gocache export GOPROXY=https://proxy.golang.com.cn,direct export PATH=$PATH:$GOROOT/bin:$GOPATH/bin é…ç½®codeserverçš„goæ’ä»¶ æ³¨æ„ç‚¹ï¼Œå¦‚å½“å‰ç”¨æˆ·æƒé™ä¸å¤Ÿï¼Œéœ€è¦suåˆ°rootä¸‹æ‰§è¡Œ,sudoæ‰§è¡Œ ä¼šæœ‰ç½‘ç»œè¶…æ—¶çš„é—®é¢˜ https://dev.leiyanhui.com/codeserver/vscode-golang-err-gocache/\næµ‹è¯•ä¸€ä¸ªé¡¹ç›® 1 2 3 4 mkdir golang \u0026amp;\u0026amp; cd golang git clone https://github.com/joyanhui/webdavgo.git su #åˆ‡æ¢åˆ°root go get golang.org/x/net/webdav #webdav coderserver æ‰“å¼€è¿è¡Œæµ‹è¯•\n","date":"2022-12-06T09:25:20+08:00","permalink":"https://dev.leiyanhui.com/arch/arch-golang-codeserver/","title":"archLinux å¿«é€Ÿæ­å»ºgolangå¼€å‘ç¯å¢ƒ"},{"content":"è¶…ç®€å•\n1 sudo pacman -S arduino åº“æ–‡ä»¶è·¯å¾„ /home/ç”¨æˆ·å/.arduino15/\nå…¶ä»–è¯´æ˜ https://wiki.archlinux.org/title/Arduino_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#\n","date":"2022-12-06T09:10:20+08:00","permalink":"https://dev.leiyanhui.com/arch/install-adruino/","title":"archLinux å¿«é€Ÿæ­å»ºgarduinoå•ç‰‡æœºå¼€å‘ç¯å¢ƒ"},{"content":" æ­¤ç±»è½¯ä»¶ä¸ºäº†èº²é¿å®¡æŸ¥éƒ½å­˜æ´»æ—¶é—´ä¸é•¿ä¹…ã€‚çœ‹åˆ°å°±èµ¶ç´§ä¸‹è½½å§ã€‚\nä¸éœ€è¦è¶Šç‹±ï¼Œä¸‹è½½åéœ€è¦ç®€å•å¤„ç†åæ‰ä¼šå˜æˆæ­£å¸¸ç”µå½±app\nè¿™ç±»è½¯ä»¶å¤šæ•°æ˜¯é‡‡é›†çš„ç¬¬ä¸‰æ–¹ï¼Œæ‰€ä»¥é€Ÿåº¦ä¸ä¸€å®šé€‚åˆä½ çš„ç½‘ç»œæƒ…å†µã€‚\nå¦‚æœæç¤ºæ²¡åœ¨å¯¹åº”çš„å›½å®¶ä¸Šæ¶ï¼Œé‚£ä¹ˆå¤§æ¦‚å°±æ˜¯è¢«å‘ç°åè¢«ä¸‹æ¶äº†ã€‚å¯ä»¥å°è¯•æ¢åˆ°å¤–åŒºidï¼Œå¦‚æœè¿˜ä¸è¡Œï¼Œå°±ç­‰æ–°çš„å§ã€‚\n1ã€å°å¨æˆ¿\nhttps://apps.apple.com/cn/app/%E5%B0%8F%E5%8E%A8%E6%88%90%E9%95%BF%E8%AE%B0/id6444581520\nå®‰è£…åï¼Œç‚¹ é¦–é¡µå·¦ä¸Šè§’ å°å¨æˆé•¿è®° è¿ç»­ç‚¹3ä¸‹ï¼Œé€€å‡ºåˆ’æ‰åå°é‡æ–°æ‰“å¼€\nç›®å‰æš‚æ—¶æ— å¹¿å‘Šï¼Œçº¿è·¯å¤šï¼Œé€Ÿåº¦è¿˜å¯ä»¥,ä¸å¡\n2ã€å¸¸æ‹œè®¿\nè¿ç»­ç‚¹å‡»é¡¶éƒ¨çš„ã€æ‹œè®¿æ—¥ç¨‹ã€‘3ä¸‹ï¼Œé€€å‡ºåˆ’æ‰åå°é‡è¿› ã€‚ æœ‰å¹¿å‘Šã€‚ä¹Ÿä¸å¡ã€‚\nhttps://apps.apple.com/cn/app/%E5%B8%B8%E6%8B%9C%E8%AE%BF/id6444376912\n3ã€ç”Ÿæ´»å›¾è®°\næ‰“å¼€ååªèƒ½èƒ½ç”¨ï¼Œå¦‚ä¸è¡Œï¼Œåˆ’æ‰é‡æ–°æ‰“å¼€ã€‚\nhttps://apps.apple.com/cn/app/%E7%94%9F%E6%B4%BB%E5%9B%BE%E8%AE%B0/id6444063802\næ— å¹¿å‘Šï¼Œä½†æ˜¯çº¿è·¯å°‘ï¼Œæœ‰ç‚¹å¡\n","date":"2022-12-06T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/ios/other_vodapp/","title":"iphoneè‹¹æœæ‰‹æœºå…è´¹è§‚çœ‹ç”µå½±çš„app"},{"content":"##linuxå¸¸ç”¨çš„è¿œç¨‹æ¡Œé¢ æ–¹å¼ ä¸å¾—ä¸è¯´ å¯¹æ¯” å¾®è½¯çš„rdpåè®®ï¼Œlinuxå’Œmacosä¸‹ éƒ½æ²¡æœ‰å¯ä»¥æ¯”è‚©çš„ã€‚rdpå¯ä»¥åœ¨ä½å¸¦å®½æä¾›å‡ ä¹æ²¡æœ‰ä»»ä½•å»¶è¿Ÿçš„æ¡Œé¢ä½“éªŒã€‚ä½†å¼€æºçš„xrdpç›¸æ¯”è€Œè¨€ ç®€ç›´å°±æ˜¯ä¸€ä¸ªåƒåœ¾äº†ã€‚ å¦‚æœæ˜¯kvmè¿è¡Œçš„ç³»ç»Ÿ ä¹Ÿå¯ä»¥ç”¨spiceåè®®ã€‚vncè¿™ç§ä¸Šå¤æ–¹å¼ï¼Œä¹Ÿä¸æ˜¯ä¸å¯ä»¥ç”¨ï¼Œçœ‹ä¸ªäººéœ€æ±‚å§ã€‚\nç¬¬ä¸‰æ–¹çš„ï¼Œå¥½ç”¨ä¸€ç‚¹ç‚¹çš„åŸºæœ¬éƒ½æ”¶è´¹ï¼Œæˆ‘è¿™é‡Œç”¨rustdesk æ¥æ›¿ä»£é‚£äº›æ”¶è´¹çš„ç¬¬ä¸‰æ–¹\nhttps://wiki.archlinux.org/title/List_of_applications/Internet\nå‰ç½® pveä¸­è¿è¡Œçš„archlinuxå®‰è£…äº†i3w å¹¶åŸºæœ¬å¯ä»¥ç”¨ https://dev.leiyanhui.com/arch/startx/ å®‰è£…äº†yay https://dev.leiyanhui.com/c/archlinux-install-yay/ è‡ªå»ºäº†ä¸€ä¸ªrustdeskçš„ä¸­è½¬æœåŠ¡å™¨ï¼Œhttps://dev.leiyanhui.com/docker/rustdesk-server/ pveä¸­åˆ†é…ç»™archçš„æ˜¾å¡æ˜¯ virio æ”¯æŒ3D å®‰è£… rustå®˜æ–¹æä¾›äº† zst åŒ…\n1 wget -c https://gitee.com/rustdesk/rustdesk/releases/download/1.1.9/rustdesk-1.1.9-manjaro-arch.pkg.tar.zst giteeçœŸç‰›æ¯”ï¼Œå›½å†…ç½‘ç»œå¯ä»¥æä¾›æ¯”githubè¿˜æ…¢çš„é€Ÿåº¦\u0026hellip;\n1 pacman -U rustdesk-1.1.9-manjaro-arch.pkg.tar.zst ä¾èµ–ä¹Ÿä¸å°‘\n1 2 3 4 5 6 Packages (12) python-3.10.8-3 python-attrs-22.1.0-1 python-cffi-1.15.1-1 python-cryptography-38.0.4-1 python-packaging-21.3-1 python-pip-22.3.1-1 python-ply-3.11-10 python-pycparser-2.21-3 python-pyparsing-3.0.9-1 python-wheel-0.38.4-1 ttf-arphic-uming-0.2.20080216.2-1 rustdesk-1.1.9-0 Total Download Size: 23.72 MiB Total Installed Size: 119.66 MiB i3w é‡Œé¢å¯åŠ¨å’Œé…ç½® å¯åŠ¨ winï¼ˆhotkeyï¼‰+d ï¼Œè¾“å…¥ restdeskï¼Œå¯åŠ¨ï¼Œé…ç½®idæœåŠ¡å™¨å’Œå¯†é’¥\næµ®åŠ¨çª—å£ ä¸å¼€å¯æµ®åŠ¨çª—å£çš„è¯ã€‚ã€‚ã€‚å¤§æ¦‚è¦å ä¸ªå±å¹•\nå¼€æœºå¯åŠ¨å¯åŠ¨ sudo systemctl enable rustdesk rustdesk ä¸æ”¯æŒttyï¼ˆstartxï¼‰ çš„è§£å†³ã€‚ éœ€è¦å®‰è£…ä¸€ä¸ªæ˜¾ç¤ºç®¡ç†å™¨ï¼Œæˆ‘è¿™é‡Œç”¨lightdm\nsudo pacman -S lightdm-gtk-greeter sudo systemctl enable lightdm sudo systemctl start lightdm lightdm+i3çš„ä¸€äº›é…ç½® åŒæ—¶éœ€è¦å¤„ç†ä¸€ä¸‹è¾“å…¥æ³•å’Œåˆ†è¾¨ç‡ ç›´æ¥æ”¹ i3çš„ä½ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 #å£çº¸ exec_always --no-startup-id feh --randomize --bg-fill ~/wallpaper #åŠé€æ˜ exec_always --no-startup-id picom #åˆ†è¾¨ç‡ exec --no-startup-id xrandr --output Virtual-1 --mode 1920x1080 #è¾“å…¥æ³• exec --no-startup-id fcitx -d #æˆªå±å·¥å…· exec --no-startup-id flameshot è¾“å…¥æ³• æ”¾åˆ°\nnano .bashrc å…¶ä»– yay -S rustdesk è¿™ä¸ªåŒ…æœ‰å‘ï¼Œä¸å»ºè®®\n","date":"2022-12-04T00:23:20+08:00","permalink":"https://dev.leiyanhui.com/arch/rustdesk/","title":"archlinux i3wä¸‹é…ç½®rustdesk"},{"content":" 1 2 3 4 5 6 7 8 # æŒ‚è½½é˜¿é‡Œäº‘ç›˜ webdavï¼Œè¿™ä¸ªå†™è®¡åˆ’ä»»åŠ¡é è°±ä¸€äº› */1 * * * * rclone mount aliyunpan:/ /mnt/aliyunpan --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime */1 * * * * rclone mount aliyunpan:/MediaVodCenter /mnt/MediaVodCenter --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime # æ•´æœºé‡å¯ 15 5 * * * sleep 70 \u0026amp;\u0026amp; echo \u0026#34;æ¯å¤©5ç‚¹15åˆ†+70ç§’è·¯ç”±å™¨è‡ªåŠ¨é‡å¯\u0026#34; \u0026gt; /etc/banner \u0026amp;\u0026amp; reboot 15 17 * * * sleep 70 \u0026amp;\u0026amp; echo \u0026#34;æ¯å¤©17ç‚¹15åˆ†+70ç§’è·¯ç”±å™¨è‡ªåŠ¨é‡å¯\u0026#34; \u0026gt; /etc/banner \u0026amp;\u0026amp; reboot # é‡å¯dnsmasq 15 */3 * * * sleep 70 \u0026amp;\u0026amp; echo \u0026#34;ä¸‰å°æ—¶é‡å¯ä¸€æ¬¡dnsmasp\u0026#34; \u0026gt; /etc/banner \u0026amp;\u0026amp; /etc/init.d/dnsmasq restart ","date":"2022-12-01T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/crontab/","title":"openwrtå¸¸ç”¨è®¡åˆ’ä»»åŠ¡"},{"content":"ä»¥ ç§»åŠ¨localèŠ‚ç‚¹çš„ç›®å½•ä¸ºä¾‹ï¼Œå…ˆé…ç½®åˆ†åŒºè‡ªåŠ¨æŒ‚è½½åˆ°pve æŸ¥çœ‹æœ¬æ–‡ https://dev.leiyanhui.com/pve/auto-mount-exfat\næˆ‘è¿™é‡Œä¸»è¦æ˜¯ç§»åŠ¨imagesç›®å½•ï¼Œä¹Ÿå°±æ˜¯è™šæ‹Ÿæœºçš„lxcçš„ç›®å½•\nå…³é—­æ‰€æœ‰è™šæ‹Ÿæœºå’Œlxcï¼Œ\n1 2 cd /var/lib/vz/ mv images /nvme/pve_vm_images # mkdir /nvme/pve_vm_images pve ä¼šè‡ªåŠ¨æ–°å»ºimageç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åŒæ—¶æ‰§è¡Œrm å’Œln\n1 rm -rf images \u0026amp;\u0026amp; ln -s /nvme/pve_vm_images images æ³¨æ„æ–°è£…çš„pve æœ‰å¯èƒ½æ˜¯æ²¡æœ‰imagesç›®å½•çš„ å®Œæ¯•\ntemplate ç›®å½• ä¸å»ºè®®ç›´æ¥ç§»åŠ¨ï¼Œæ¯•ç«Ÿè¦ç”¨çš„isoçš„å’Œlxcé•œåƒå¹¶ä¸å¤šï¼Œç›´æ¥åœ¨å¯¹åº”ç›®å½•ä¸‹ln -s å¯èƒ½æ›´ç®€å•ä¸€äº›ã€‚\nå¦‚æœè¦å¤„ç† ä¸€æ · æ‰§è¡Œ\n1 2 3 4 cd /var/lib/vz/template #mv iso /exfat/iso rm -rf iso \u0026amp;\u0026amp; ln -s /exfat/iso iso rm -rf iso \u0026amp;\u0026amp; ln -s /exfat/iso iso å…¶ä»–çš„ç›®å½•ä¹Ÿå¯ä»¥ä¿®æ”¹ dump private snippets\n/var/lib/vz/dump\n1 2 3 4 5 6 cd /var/lib/vz mv dump /exfat/dump-pve-back rm -rf dump \u0026amp;\u0026amp; ln -s /exfat/dump-pve-back dump mv snippets /exfat/exfat/snippets-pve rm -rf snippets \u0026amp;\u0026amp; ln -s /exfat/snippets-pve snippets ","date":"2022-11-29T23:34:20+08:00","permalink":"https://dev.leiyanhui.com/pve/pve-mv-dir/","title":"pve ç§»åŠ¨é»˜è®¤ç›®å½•"},{"content":"è¿è¡Œå¤ªä¹…äº† ä¼šè¶Šæ¥è¶Šå¤§ã€‚\n1 ls /var/log/pveproxy/ 1 access.log access.log.1 access.log.2.gz access.log.3.gz access.log.4.gz access.log.5.gz access.log.6.gz æ¸…ç† 1 2 3 4 5 6 rm -rf /var/log/* mkdir /var/log/pveproxy touch /var/log/pveproxy/access.log chown -R www-data:www-data /var/log/pveproxy systemctl restart pveproxy.service åˆ é™¤å†å²å‘½ä»¤ 1 2 history -c echo \u0026gt; $HOME/.bash_history ","date":"2022-11-29T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/del-log/","title":"pve åˆ é™¤è¿è¡Œæ—¥å¿—"},{"content":"windows server 2012ä»¥åçš„ç‰ˆæœ¬éƒ½æ”¯æŒï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¸æŠ˜è…¾ï¼Œwin7 win8 win10 éƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œè€ƒè™‘åˆ°å…¼å®¹æ€§ å’Œå…æŠ˜è…¾ï¼Œæˆ‘é€‰æ‹© win10ã€‚\næ¯ç›˜é€‰æ‹©Win_Pro_10_22H2_64BIT_ChnSimp_Pro_Ent_EDU_N_MLF_X23-20012.ISO kmsæ¿€æ´»åˆ°ä¸“ä¸šå·¥ä½œç«™ç‰ˆæœ¬ï¼Œä¸“ä¸šç‰ˆä¹Ÿå¯ä»¥ã€‚å®¶åº­ç‰ˆä¸ç¡®å®š Microsoft Windows [ç‰ˆæœ¬ 10.0.19045.2006] å€Ÿç”¨ç¬¬ä¸‰æ–¹å¼€æºå·¥å…·remoteapptoolè½»æ¾å®ç°\nhttp://www.kimknight.net/remoteapptool\nhttps://github.com/kimmknight/remoteapptool\nremoteapptool çš„æƒé™é—®é¢˜ä¾èµ–è´¦æˆ·ç³»ç»Ÿï¼Œä¹Ÿæ¯”è¾ƒç®€å•ã€‚å¦‚æœéœ€è¦ä¸¥æ ¼è¯¦ç»†çš„é™åˆ¶æƒé™åŠŸèƒ½ï¼Œè¿˜æ˜¯ç”¨window serverè‡ªå¸¦çš„remoteapp æ¥å¤„ç†ã€‚ æˆ‘è¿™é‡Œæ˜¯å°å›¢é˜Ÿä½¿ç”¨æ²¡æœ‰é‚£ä¹ˆå¤æ‚\nä¸‹è½½å®‰è£…RemoteApp.Tool https://github.com/kimmknight/remoteapptool/releases/download/v6.0.0.0/RemoteApp.Tool.6000.zip\nè§£å‹å°±å¯ä»¥äº†ï¼Œä½¿ç”¨å¾ˆç®€å• å°±æ˜¯æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶ï¼Œ\nå› ä¸ºæ˜¯è‡ªå·±ç”¨ï¼Œæ‰€ä»¥å…ˆæ·»åŠ ä¸¤ä¸ª C:\\Windows\\explorer.exe C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\nåˆ›å»ºrdpæ–‡ä»¶ ç„¶årdpæ–‡ä»¶å¤åˆ¶åˆ°å…¶ä»–winæˆ–è€…macosç”µè„‘ä¸Šã€‚winä¸‹ç›´æ¥æ‰“å¼€ macosä¸‹ç”¨å¾®è½¯çš„ è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯ å°±å¯ä»¥äº†ã€‚\nLinuxçš„å®¢æˆ·ç«¯ è¿˜æ²¡ç ”ç©¶æ˜ç™½\nå½“ç„¶éœ€è¦å…ˆè‡ªè¡Œæ‰“å¼€ Windowsçš„è¿œç¨‹æ¡Œé¢ å¹¶ä¸”æ­£å¸¸è¿æ¥å\nä¸‹ä¸€æ­¥æ˜¯éœ€è¦å¤„ç† win10çš„å¤šç”¨æˆ·ç™»å½•\nwin10 å¤šç”¨æˆ·ç™»å½• è¿™ä¸ªæ˜¯éå¿…é¡»çš„ï¼Œä½†ä¸è§£å†³åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªç”¨æˆ·ç™»å½•ï¼Œå¹¶ä¸”ä¸å¯ä»¥ å»ä¸‹è½½ï¼Œä¸»é¡µï¼šhttps://github.com/stascorp/rdpwrap\nä¸‹è½½ç ´è§£ç¨‹åº https://github.com/stascorp/rdpwrap/releases/download/v1.6.2/RDPWrap-v1.6.2.zip åŠ è½½åè§£å‹å³å¯ï¼Œè¿™ä¸ªç¨‹åºä¸å°‘æ€æ¯’è½¯ä»¶éƒ½æç¤ºç—…æ¯’é£é™©çš„ï¼Œè¿™ä¸ªæ˜¯æ­£å¸¸çš„ã€‚ä¹Ÿå·²ç»å¾ˆä¹…æ²¡æ›´æ–°è¿‡äº†\nä¸‹è½½æœ€æ–°çš„ç ´è§£é…ç½®æ–‡ä»¶ åªè¦ä¸æ˜¯å¤ªæ–°çš„winå†…æ ¸ç‰ˆæœ¬ï¼ˆæœ€è¿‘1-2å‘¨çš„ï¼‰ ä¸€èˆ¬éƒ½æ”¯æŒ https://github.com/sebaxakerhtc/rdpwrap.ini/blob/master/rdpwrap.ini ä¸‹è½½åå¤åˆ¶åˆ°å’ŒRDPWrap åŒä¸€ä¸ªç›®å½•ä¸‹\nå¼€å§‹å¤„ç† å»ºè®®å…¨éƒ¨æŒªåˆ° C:\\Program Files\\RDP Wrapper ç›®å½•ä¸‹ å…ˆæ‰“å¼€RDPConf.exe æŸ¥çœ‹ä¸€ä¸‹ åŒå‡»ä¸‹è¿è¡Œ install.bat å°±è€å¿ƒç­‰å¾…ã€‚ ä¸€ç›´åˆ°æç¤ºYou can check RDP functionality with RDPCheck program. é‡æ–°æ‰“å¼€ RDPConf.exe å…¨ç»¿è‰²å°±å¥½äº†\nå¸¸è§é—®é¢˜ å¾®ä¿¡é»‘æ¡†çš„é—®é¢˜ æš‚æ—¶æ— è§£\nèŠå¤©è½¯ä»¶ å’Œå…¶ä»–è½¯ä»¶ç³»ç»Ÿæ‰˜ç›˜çš„é—®é¢˜ æš‚æ—¶æ— è§£\nåå°ç¨‹åºçƒ­é”®é—®é¢˜ æš‚æ—¶æ— è§£\nedgeä¸èƒ½å¯åŠ¨é—®é¢˜ edge æœ‰åå°å¸¸é©»ç¨‹åºï¼Œä¼šå¯¼è‡´ä¸èƒ½å¤šç”¨æˆ·å¯åŠ¨ã€‚æ‰‹åŠ¨è¿è¡Œä»»åŠ¡ C:\\windows\\System32\\Taskmgr ç»“æŸæ‰ å°±å¯ä»¥äº†ã€‚ æˆ–è€… å¹²è„†ä½¿ç”¨ é»˜è®¤æ”¯æŒå¤šç”¨æˆ·çš„æµè§ˆå™¨ã€‚ç«ç‹ chrome éƒ½å¯ä»¥ç”¨æˆ·æ¨¡å¼å®‰è£…ã€‚\n","date":"2022-11-29T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/win/win10-remoteapp-server/","title":"win10 æ­å»ºremoteapp æœåŠ¡å™¨ï¼Œå®ç°app éšå¤„å¯ç§»åŠ¨"},{"content":"å‚è€ƒ dockerä¸­åˆ¶ä½œalpine+sshdçš„åŸºç¡€é•œåƒ\né€‰æ‹©åŸºç¡€ç³»ç»Ÿé•œåƒ è¿˜æ˜¯è€ƒè™‘ç”¨debianç³»åˆ—ï¼Œdocker pull debian:bullseye-slim\ndocker run -itd --name debian-for-sshd -p 59010:2222 -p 59011:22 --privileged=true debian:bullseye-slim /bin/bash docker exec -it debian-for-sshd /bin/bash å®‰è£…sshd å›½å†…æº/æ›´æ–°/å®‰è£…sshd nano tzdata sudo sed -i 's/deb.debian.org/mirrors.ustc.edu.cn/g' /etc/apt/sources.list apt update apt install openssh-server nano tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime é…ç½®ç™»å½•ä¿¡æ¯ 1 2 3 4 5 6 7 sed -i \u0026#34;s/#PermitRootLogin.*/PermitRootLogin yes/g\u0026#34; /etc/ssh/sshd_config \u0026amp;\u0026amp; \\ ssh-keygen -t dsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_dsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t rsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_rsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ecdsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ecdsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ed25519 -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ed25519_key echo \u0026#34;root:root\u0026#34; | chpasswd æ‰“å¼€sftp https://dev.leiyanhui.com/pve/open-sftp/\nä¿®æ”¹ç«¯å£ ä¸º2222 1 2 nano /etc/ssh/sshd_config /etc/init.d/ssh restart æµ‹è¯•ç™»å½• 1 ssh root@10.0.0.9 -p 59010 é…ç½®è„šæœ¬è‡ªåŠ¨å¯åŠ¨ 1 2 echo \u0026#34;/etc/init.d/ssh start\u0026#34; \u0026gt; /autoboot.sh echo \u0026#34;tail -f /dev/null\u0026#34; \u0026gt;\u0026gt; /autoboot.sh æœ€åè¿™è¡Œæ˜¯é˜²æ­¢é€€å‡ºçš„\næ¸…ç† apt clean apt autoclean å¤‡ä»½å®¹å™¨ åœ¨å®¿ä¸»æœºè¿è¡Œ\n1 2 3 4 5 6 7 8 docker stop debian-for-sshd docker export debian-for-sshd \u0026gt; debian11-for-sshd.tar # æ‰“åŒ…å‹ç¼© gzip debian11-for-sshd.tar #å¤‡ä»½ cp debian11-for-sshd.tar.gz /mnt/smb/docker # åˆ é™¤æ—§çš„å®¹å™¨ docker rm debian-for-sshd åˆ›å»ºæ–°å®¹å™¨ 1 2 3 4 5 cat debian11-for-sshd.tar.gz | docker import - debian11:sshd-autoboot.sh2222 docker run -itd --name debian-go-codeserver-git --privileged=true \\ -p 59010:2222 -p 59011-59019:59011-59019 \\ debian11:sshd-autoboot.sh2222 sh /autoboot.sh å¯ä»¥ç›´æ¥ç”¨æˆ‘æ”¾åœ¨é˜¿é‡Œäº‘ä¸Šçš„\n1 2 3 docker run -itd --name debian-go-codeserver-git --privileged=true \\ -p 59010:2222 -p 59011-59019:59011-59019 \\ registry.cn-qingdao.aliyuncs.com/joyanhui/base-sh-debian:debian11-sshd-autoboot.sh2222 sh /autoboot.sh æå…¶ä»–çš„ ssh è¿æ¥ä¸Šéšä¾¿ç©èµ·æ¥ï¼Œå¦‚æœè¦æ·»åŠ è·Ÿéšå®¹å™¨å¯åŠ¨çš„ç¨‹åº å°±ç¼–è¾‘ /autoboot.sh\n","date":"2022-11-29T07:20:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-sshd/","title":"docker é…ç½®ä¸€ä¸ªæ”¯æŒsshdçš„debian"},{"content":"æ–°ç‰ˆcodeserver ä¾èµ–glibcå·²ç»ä¸æ”¯æŒ åœ¨alpineä¸Šå®‰è£…ï¼Œå°è¯•è¿‡ç”¨å®˜ç½‘dockeræ¥å¤„ç† å‘ç°ä¸ç¬¦åˆæˆ‘è¦æ±‚ï¼Œè€Œä¸”å­˜åœ¨æƒé™é—®é¢˜ã€‚æ‰€ä»¥è¿˜æ˜¯è‡ªå·±æ–°å»ºä¸€ä¸ªåŸºæœ¬ç³»ç»Ÿæ¥å¤„ç†ã€‚\ndocker é…ç½®ä¸€ä¸ªæ”¯æŒsshdçš„debian https://dev.leiyanhui.com/docker/debian-sshd\nå› ä¸ºè¿™ä¸ªdockerè¿˜è¦è¿ç§»ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä¸æ‰“ç®—æ˜ å°„ä»»ä½•ç›®å½• ç«¯å£ä¹Ÿå›ºå®šåˆ†é…\ncat debian11-for-sshd.tar.gz | docker import - debian11:sshd-autoboot.sh2222 docker run -itd --name debian-go-codeserver-git --privileged=true \\ -p 59010:2222 -p 59011-59019:59011-59019 \\ debian11:sshd-autoboot.sh2222 sh /autoboot.sh sshç™»å½•åˆ°59010ç«¯å£ æŒ‚ä¸€ä¸‹å­¦ä¹ å·¥å…· export http_proxy=\u0026quot;10.0.0.1:20172\u0026quot; export https_proxy=\u0026quot;10.0.0.1:20172\u0026quot; å®‰è£… apt install curl curl -fsSL https://code-server.dev/install.sh | sh å¯åŠ¨ code-server ä¿®æ”¹å¯†ç å’Œç«¯å£ nano ~/.config/code-server/config.yaml å†…å®¹\nbind-addr: 0.0.0.0:59011 auth: password password: cd89d839912d5d87cd7db6c7 cert: false æ³¨æ„ æ¯ä¸ªå†’å·åé¢éƒ½æœ‰ç©ºæ ¼\nè‡ªåŠ¨å¯åŠ¨ nano /autoboot.sh å†…å®¹\n/etc/init.d/ssh start /usr/bin/code-server \u0026amp; tail -f /dev/null æœ€åã€‚ã€‚ codesever æ–°ç‰ˆ ä¾èµ– glibc å·²ç»æ— æ³•å®‰è£…ï¼Œä¼šéº»çƒ¦å¾ˆå¤šã€‚åŸºç¡€é•œåƒè¿˜æ˜¯å»ºè®®ç”¨\n","date":"2022-11-29T07:20:20+08:00","permalink":"https://dev.leiyanhui.com/docker/debian-go-codeserver-git/","title":"dockeréƒ¨ç½²vscodeå’Œgolang git"},{"content":"åŸºæœ¬ä½¿ç”¨ https://coder.com/docs/code-server/latest/install#docker\n1 2 3 4 5 6 7 mkdir -p ~/.config/codeserver docker run -it --name code-server -p 8080:8080 \\ -v \u0026#34;$HOME/.config/codeserver:/home/coder/.config\u0026#34; \\ -v \u0026#34;$PWD:/home/coder/project\u0026#34; \\ -u \u0026#34;$(id -u):$(id -g)\u0026#34; \\ -e \u0026#34;DOCKER_USER=$USER\u0026#34; \\ codercom/code-server:latest è¦é…ç½®golang å°±åœ¨codeserverçš„ç»ˆç«¯é‡Œé¢ å®‰è£…å°±å¥½äº†ã€‚ å¦‚æœè¦åšwebå¼€å‘ æˆ–è€…å…¶ä»–ç½‘ç»œçš„å¼€å‘ çš„è¯ï¼Œä½ å¯èƒ½è¿˜éœ€è¦å¤šæ˜ å°„å‡ ä¸ªç«¯å£è¿›å»ã€‚\nè¿›é˜¶ æ‰‹åŠ¨æ‰“é€ ä¸€ä¸ªä¸»æœºçš„golang git å¼€å‘ç¯å¢ƒ ç‚¹å‡»è¿™é‡Œ https://dev.leiyanhui.com/docker/golang-codeserserver/\n","date":"2022-11-29T07:05:20+08:00","permalink":"https://dev.leiyanhui.com/docker/codeserver/","title":"dockeréƒ¨ç½²vscode/codeserverå’Œgolang å¯ä»¥è¿ç§»gitå¼€å‘ç¯å¢ƒ"},{"content":" win8ä»¥åçš„winç³»ç»Ÿé»˜è®¤ä¸æ”¯æŒsmb1ï¼Œè®°å¾—æ·»åŠ smb1çš„æ”¯æŒåæ–¹å¯\næ›´æ–°æºåˆ°å›½å†… https://dev.leiyanhui.com/pve/guonei/\nå®‰è£…smb apt-get install samba å¯åŠ¨ 1 2 3 systemctl enable smbd systemctl start smbd systemctl restart smbd rootç›´æ¥ä½¿ç”¨ è‡ªå·±ç”¨çš„è¯ï¼Œç›´æ¥ç”¨rootç”¨æˆ· å°±å¥½äº† è®¾ç½®rootç”¨æˆ·çš„ smbçš„å¯†ç  smbpasswd -a root è¿™ä¸ªå¯†ç å’Œrootçš„ç®¡ç†å¯†ç æ— å…³\nnano /etc/samba/smb.conf 1 2 3 4 5 6 7 8 [nvme] comment = Share-rw path = /nvme available = yes browsable = yes public = yes writable = yes valid users = root é…ç½®è´¦å· smbpasswd -a ã€ç”¨æˆ·åã€‘ éœ€è¦æå‰æ–°å»ºç”¨æˆ·\naddgroup wheel useradd -m -G wheel -s /bin/bash ã€ç”¨æˆ·åã€‘ passwd ã€ç”¨æˆ·åã€‘ #æœ€å¥½é¡ºå¸¦é…ç½®ä¸€ä¸‹sudo https://dev.leiyanhui.com/arch/base-install/#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7 # æˆ–è€…å¹²è„† groupadd test -g 6000\u0026amp; useradd test -u 6000 -g 6000 -s /sbin/nologin -d /dev/null é…ç½®å…±äº« nano /etc/samba/smb.conf æ·»åŠ å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 [shareMNT] comment = Share-rw ;å…±äº«ç›®å½•å…¨è·¯å¾„ path = /mnt available = yes browsable = yes ;å†™å…¥æƒé™ public = yes writable = yes ;å¯è®¿é—®çš„ç”¨æˆ· valid users = yourUserName å¯èƒ½è¿˜éœ€è¦é…ç½®æƒé™ chmod -R 777 /mnt #ç®€å•ä¸€ç‚¹ å…³é—­é»˜è®¤ä¸»ç›®å½• æŠŠ homes å“ªæ®µåˆ æ‰å°±å¥½\nå…¶ä»–å‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 smbpasswd -d å†»ç»“ç”¨æˆ·ï¼Œå°±æ˜¯è¿™ä¸ªç”¨æˆ·ä¸èƒ½åœ¨ç™»å½•äº† smbpasswd -e æ¢å¤ç”¨æˆ·ï¼Œè§£å†»ç”¨æˆ·ï¼Œè®©å†»ç»“çš„ç”¨æˆ·å¯ä»¥åœ¨ä½¿ç”¨ smbpasswd -n æŠŠç”¨æˆ·çš„å¯†ç è®¾ç½®æˆç©º. è¦åœ¨globalä¸­å†™å…¥ null passwords -true systemctl status nmbd // æŸ¥è¯¢SMBçŠ¶æ€ systemctl status smbd systemctl enable smbd // å…è®¸SMBå¼€æœºå¯åŠ¨ ","date":"2022-11-29T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/open-smb/","title":"pve/debian11 å¼€å¯smbå’Œ è™šæ‹Ÿæœºä»¥åŠå±€åŸŸç½‘å…¶ä»–è®¾å¤‡å…±äº«"},{"content":"æœ¬æ–‡ä»¥hugoä¸ºä¾‹ï¼ŒhexoåŒç† å®ç°ç›®çš„ï¼Œ\næ— æœåŠ¡å™¨ å¦‚åŒæœ¬ç«™ æ¥è¿‘0è´¹ç”¨ åªæœ‰cdnå’Œossè´¹ç”¨ cdnæœ¬èº«è´¹ç”¨å¾ˆä½ oss é‚£è¾¹çœ‹cdné…ç½®å’Œæ–‡ç« æ›´æ–°é¢‘ç¹ç¨‹åº¦ æ­å»ºæ–‡ç« ç½‘ç«™ã€‚å®ç°åšå®¢æˆ–è€…å¸®åŠ©æ–‡æ¡£åœ¨çº¿å…¬å¼€æµè§ˆã€‚ å›½å¤–è®¿å®¢ç›´æ¥èµ°githubpage å›½å†…è®¿å®¢ èµ°è…¾è®¯-\u0026gt; é˜¿é‡Œäº‘oss .mdåŸæ–‡ä»¶ ä¸æš´éœ²åˆ°å…¬ç½‘ éƒ¨ç½²åˆ° oss ä¼šå¢åŠ å¤§æ¦‚100å¤šç§’çš„actionsæ‰§è¡Œæ—¶é—´ï¼Œä¹Ÿä¼šå¯¼è‡´ossé‚£è¾¹äº§ç”Ÿä¸€äº›å†™å…¥è´¹ç”¨ã€‚ æˆ‘çš„actions ä»ä¸€å¼€å§‹çš„18-25ç§’æ‰§è¡Œæ—¶é—´ï¼Œå˜æˆ2m30så·¦å³ã€‚å•ç‹¬ä¸Šä¼ åˆ°alioss å·®ä¸å¤šéœ€è¦2åˆ†é’Ÿã€‚\nGitHubä¸Šéƒ¨ç½²hugo æˆ–è€…mdbook hexoåˆ°ç§æœ‰åº“ hugo ï¼š https://dev.leiyanhui.com/mdbook/hugo-install-nolocal/\nmdbook: https://dev.leiyanhui.com/mdbook/siyou/\nhexo å·²ç»å¼ƒç”¨å¾ˆä¹…ï¼Œè‡ªå·±æå®š éƒ½å·®ä¸å¤šã€‚\nåœ¨é˜¿é‡Œäº‘åˆ›å»ºosså’Œç›¸å…³key è¯¦ç»†æ­¥éª¤ç•¥ï¼Œä¸»è¦æ˜¯ æ‹¿åˆ° AccessKey ID å’Œ AccessKey Secret, å¯¹åº”çš„Bucket æƒé™ åº”è¯¥æ˜¯æ‰€æœ‰äººå¯è¯» æˆ‘åˆ›å»ºäº†ä¸€ä¸ª é’å²› mydev-bolg.oss-cn-qingdao.aliyuncs.com\nåœ¨å¯¹åº”çš„Bucketçš„é…ç½® åŸŸåé…ç½® é‡Œé¢ç»‘å®šä¸€ä¸ªä¸´æ—¶åŸŸå oss.dev.leiyanhui.com\nç„¶ååœ¨æ•°æ®ç®¡ç†é™æ€é¡µé¢ä¸­è®¾ç½® é¦–é¡µ index.html æ‰“å¼€å­ç›®å½•é¦–é¡µ Redirect 404é¡µé¢ 404.html\nåŸŸåè§£æéƒ¨åˆ† dev.leiyanhui.com å¢ƒå¤–åˆ°xxx.gitHub.io dev.leiyanhui.com å¢ƒå†…åˆ°cdnï¼Œæˆ‘è¿™é‡Œåˆ°è…¾è®¯cdn ä¿®æ”¹GitHubç§æœ‰åº“ä¸Šçš„è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ ä»¥ä¸‹æ“ä½œåœ¨githubçš„ç§æœ‰åº“ä¸Šæ“ä½œ\nå…ˆé…ç½®ç¯å¢ƒå˜é‡ ä¾æ¬¡ç‚¹å‡» /settings/secrets/actions æ·»åŠ å˜é‡OSS_ACCESS_KEY_ID OSS_ACCESS_KEY_SERCRET å¯¹åº”é˜¿é‡Œäº‘çš„ AccessKey ID å’Œ AccessKey Secret åŸæ¥çš„å˜é‡FOR_PAGE_SSHKEY å‚è€ƒä¸Šé¢ç§æœ‰åº“é…ç½®çš„æ–‡ç« ã€‚\nè¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢åœ¨ç¼–è¯‘è¿‡ç¨‹æ—¥å¿—é‡Œé¢æ˜¾ç¤ºæ•æ„Ÿä¿¡æ¯\nç¼–è¾‘github actionsæ–‡ä»¶ /.github/workflows/deploy.yml åŸå§‹æ–‡ä»¶å†…å®¹å‚è€ƒ https://github.com/joyanhui/file.leiyanhui.com/blob/main/github-actions/hugo/hugo-Private-to-public-whis-theme-deploy.yml\næ·»åŠ å†…å®¹ å°±æ˜¯å¢åŠ ä¸€æ®µåˆ°aliossçš„é…ç½® æˆ‘ä»¬ç”¨manyuanrong/setup-ossutil@v1.0 è¿™ä¸ª æ³¨æ„run é‚£è¡Œæˆ‘ä»¬æ˜¯ å¤åˆ¶ public æ–‡ä»¶åˆ° oss://Bucketåç§°/ï¼ˆBucketåç§°ï¼‰ å¦‚æœä½ ç”¨å…¶ä»–ç¨‹åºï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹ä»¥ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 - name: setup aliyun oss uses: manyuanrong/setup-ossutil@master with: endpoint: oss-cn-qingdao.aliyuncs.com access-key-id: ${{ secrets.OSS_ACCESS_KEY_ID }} access-key-secret: ${{ secrets.OSS_ACCESS_KEY_SERCRET }} - name: cp files to aliyun run: | rm -rf .git* rm -rf public/.git* ossutil cp -rf public oss://mydev-bolg/ # å°†mydev-bolgæ”¹ä¸ºåˆ›å»ºçš„Bucketåç§°ï¼Œ-rfè¡¨ç¤ºè¦†ç›– å®Œæ•´æ–‡ä»¶ï¼šhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/github-actions/hugo/hugo-Private-to-public-to-Alioss-whis-theme-deploy.yml\næµ‹è¯• actions æ‰§è¡Œå®Œæˆåï¼Œæ‰“å¼€åŸŸåmydev-bolg.oss-cn-qingdao.aliyuncs.com æµ‹è¯•ï¼Œå¯ä»¥æ‰“å¼€\næ¨é€åˆ°è…¾è®¯cosçš„é…ç½® æ²¡æœ‰ä¹°cosï¼Œæ„Ÿè§‰è´µä¸€äº›,æ‰€ä»¥è¿™é‡Œæ²¡ç›¸å…³é…ç½®ï¼Œå®é™…å’Œä¸Šé¢æ“ä½œ å¤§åŒå°å¼‚\né…ç½®cdn æˆ‘è¿™é‡Œcdnç”¨çš„è…¾è®¯çš„ï¼Œä¹‹æ‰€ä»¥å¥—ä¸€ä¸ªcdn è€Œä¸æ˜¯ç›´æ¥ç”¨alioss é™æ€é¡µé¢åŠŸèƒ½ï¼Œå½“ç„¶æ˜¯ä¸ºäº†çœé’±ã€‚ã€‚ã€‚\né˜¿é‡Œoss åˆ æ‰è¿™ä¸ªåŸŸåï¼Œæˆ–è€…ç›´æ¥æ·»åŠ ä¸€ä¸ª åŸŸå dev.leiyanhui.com\nåœ¨è…¾è®¯cdn åŸŸåç®¡ç†ä¸­ æ·»åŠ  å›æºåœ°å€ GitHubä½œä¸º çƒ­å¤‡æºç«™ï¼Œä¸»ç«™ç”¨oss-cn-qingdao.aliyuncs.com\nè¿›é˜¶ èŠ‚çœossè´¹ç”¨ï¼Œé™ä½å†™å…¥æ¬¡æ•°ã€‚ è®¾ç½®ä¸ºå®šæ—¶æ‰§è¡Œ é»˜è®¤çš„æƒ…å†µæ˜¯ å½“å‘masteråˆ†æ”¯pushä»£ç æˆ–æäº¤pull requestçš„æ—¶å€™è§¦å‘\n1 2 3 4 5 on: push: branches: [ master ] pull_request: branches: [ master ] çœ‹æ‰‹å†Œ https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows å¦‚æœæƒ³è¦å®ç°ï¼Œpush å¹¶ä¸”è·ç¦»ä¸Šæ¬¡æ—¶é—´ è¶…è¿‡1å°æ—¶ï¼Œå› ä¸ºcron ä¸æ”¯æŒè¿™ä¸ªæ“ä½œï¼Œè€Œæˆ‘ä»¬acionså†…çš„è„šæœ¬ æ— æ³•æŒä¹…ä¿å­˜æ–‡ä»¶ã€‚æ‰€ä»¥ä¸å¥½å®ç°ã€‚\nschedule cronçš„æ–¹å¼ æ‰‹å†Œï¼šhttps://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule\n1 2 3 on: schedule: - cron: \u0026#39;30 5,17 * * *\u0026#39; å¯ä»¥å®šæ—¶æ‰§è¡Œï¼Œä½†æ˜¯ä¹Ÿå’Œæˆ‘ä»¬é¢„æœŸæ•ˆæœä¸ä¸€æ ·ã€‚å› ä¸ºæˆ‘ä»¬ä¸æ˜¯æ¯å¤©æˆ–è€…æ¯å°æ—¶éƒ½è¦æ›´æ–°å†…å®¹ã€‚\næ‰‹åŠ¨æ‰§è¡Œå‘æ–¹æ³• æœ€ç®€å• åŠæ³• æ˜¯ç”¨ workflow_dispatchï¼Œæƒ³åŒæ­¥çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡\n1 2 on: workflow_dispatch: å®šæ—¶å’Œæ‰‹åŠ¨ç»“åˆ æ‰‹åŠ¨åŠ å®šæ—¶ä»»åŠ¡\n1 2 3 4 5 on: workflow_dispatch: schedule: # ç¬¬äºŒä½å°æ—¶æ•°ï¼Œè¦åŒ—äº¬æ—¶é—´-8 åè¾“å…¥ æ¯”å¦‚ 2æ˜¯10ç‚¹ - cron: \u0026#34;16 5 */3 * *\u0026#34; æ‰‹åŠ¨è§¦å‘ ï¼Œæˆ–è€… æ¯é—´éš”3å¤©çš„13ç‚¹16åˆ†è‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡\nå®Œç¾ï¼šæ·»åŠ æ—¶é—´æˆ³çš„æ–¹æ³• åŸç†ï¼šåœ¨é˜¿é‡Œäº‘ossä¸Šåˆ›å»ºä¸€ä¸ªæ–‡æœ¬è®°å½•ä¸Šæ¬¡åŒæ­¥åˆ°é˜¿é‡Œäº‘çš„æ—¶é—´æˆ³ï¼Œç„¶åæ¯æ¬¡åŒæ­¥åˆ°é˜¿é‡Œäº‘ä¹‹å‰æ¯”è¾ƒä¸€ä¸‹æ—¶é—´æˆ³ï¼Œå¦‚æœè¶…è¿‡æŒ‡å®šçš„æ—¶é—´3600 é‚£ä¹ˆå°±åŒæ­¥ä¸€æ¬¡ï¼Œå¦åˆ™ ä¸æ‰§è¡Œã€‚ æ–°å»ºä¸€ä¸ªæ–‡ä»¶last_update.txtå†…å®¹last_update=0 æ‰‹åŠ¨ä¸Šä¼ åˆ°é˜¿é‡Œäº‘oss\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 - name: setup aliyun oss uses: manyuanrong/setup-ossutil@master with: endpoint: oss-cn-qingdao.aliyuncs.com access-key-id: ${{ secrets.OSS_ACCESS_KEY_ID }} access-key-secret: ${{ secrets.OSS_ACCESS_KEY_SERCRET }} - name: cp files to aliyun run: | #è·å–å½“å‰æ—¶é—´æˆ³ current=`date \u0026#34;+%Y-%m-%d %H:%M:%S\u0026#34;` timeStamp=`date -d \u0026#34;$current\u0026#34; +%s` currentTimeStamp=$(((timeStamp*1000+10#`date \u0026#34;+%N\u0026#34;`/1000000)/1000)) #å°†currentè½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°ç§’ #è·å–ä¸Šæ¬¡æ›´æ–°çš„æ—¶é—´æˆ³åˆ°å˜é‡last_update curl -o last_update.txt https://ä½ çš„åœ°å€.oss-cn-qingdao.aliyuncs.com/last_update.txt?$GITHUB_SHA source last_update.txt Time_over_val=`expr $currentTimeStamp - $last_update` if [ \u0026#34;$Time_over_val\u0026#34; -ge \u0026#34;3600\u0026#34; ];then echo \u0026#34;é˜¿é‡Œoss è®°å½•æ—¶é—´\u0026#34; echo \u0026#34;last_update=$currentTimeStamp\u0026#34; \u0026gt; public/last_update.txt rm -rf .git* rm -rf public/.git* ossutil cp -rf public oss://ä½ çš„Bucket/ else echo \u0026#34;è·³è¿‡æ›´æ–°é˜¿é‡Œoss\u0026#34; fi åŒæ—¶ ä¿®æ”¹è§¦å‘æ¡ä»¶ä¸ºï¼Œæ¯æ¬¡æ”¹åŠ¨ï¼Œæˆ–æ‰‹åŠ¨,å¹¶æ·»åŠ å®šæ—¶ï¼Œé˜²æ­¢æœ€åä¸€æ¬¡pushåæœªåŒæ­¥çš„æƒ…å†µä¸‹ ä¸èƒ½è‡ªåŠ¨æäº¤ç»™é˜¿é‡Œäº‘çš„æƒ…å†µã€‚\n1 2 3 4 5 6 7 8 9 on: workflow_dispatch: schedule: # ç¬¬äºŒä½å°æ—¶æ•°ï¼Œè¦åŒ—äº¬æ—¶é—´-8 åè¾“å…¥ æ¯”å¦‚ 2æ˜¯10ç‚¹ - cron: \u0026#34;33 2 * * *\u0026#34; push: branches: [master] pull_request: branches: [master] æœ€ç»ˆæ–‡ä»¶ ç‚¹å‡»è¿™é‡Œ\nå°é—®é¢˜ manyuanrong/setup-ossutil@master æ˜¯ä» http://gosspublic.alicdn.com/ossutil/1.7.7/ossutil64 ä¸‹è½½å®‰è£…ï¼Œgitå»ä¸‹è½½è¯ æœ‰æ—¶å€™å¶å°”æŠ½é£é€Ÿåº¦ä¸æ˜¯å¾ˆç†æƒ³ã€‚æœ‰æ—¶å€™éœ€è¦4åˆ†é’Ÿã€‚ã€‚å ç”¨actionsæ—¶é—´ã€‚\n","date":"2022-11-29T00:14:20+08:00","permalink":"https://dev.leiyanhui.com/mdbook/hugo-to-oss/","title":"hugoã€hexoã€mdbookè‡ªåŠ¨éƒ¨ç½²åˆ°GitHubç§æœ‰åº“å’Œé˜¿é‡Œäº‘oss å¹¶åµŒå¥—è…¾è®¯cdnçš„å®Œæ•´æ–¹æ¡ˆ"},{"content":"å®å¡” ç»ˆäºå‡ºå®˜æ–¹dockeräº† åŸºäºCentOS 7.9.2009 x86_64\nhttps://hub.docker.com/r/btpanel/baota https://www.bt.cn/bbs/thread-79499-1-1.html LNMPé•œåƒå¤§å°å¤§æ¦‚ 733.3MB è§£å‹åå¤§æ¦‚3006.51MB ã€‚ã€‚ã€‚æ²¡å¾—åŠæ³•ï¼Œå®å¡”çš„ä¾èµ–é¡¹çœŸçš„æ˜¯å¤ªå¤šäº†ã€‚ã€‚ã€‚ åœ¨è½¯è·¯ç”±ä¸Šæèµ·æ¥å…ˆ\nå…ˆæ•´ç†ç«¯å£ ä¸æ‰“ç®—æ˜ å°„æ•°æ®å‡ºæ¥ï¼Œæ–¹ä¾¿è½¬ç§»ï¼Œå¹¶é¢„ç•™ssh å’Œå¸¸ç”¨ç«¯å£\n#å®å¡”é¢æ¿ 22 ssl http phpmyadmin -p 51888:8888 -p 51022:22 -p 51443:443 -p 51080:80 -p 51188:888 \\ # è·¯ç”±å™¨å°80 443è‡ªå®šä¹‰webç«¯å£ ä»¥åŠ22é‡å¤ -p 51081:51081 -p 51444:51444 -p 51000:22 \\ # mysql -p 51306:3306 \\ # redis -p 51379:6379 \\ # pgsql -p 51432:5432 \\ # MongoDB -p 51017:27017 \\ # å¤‡ç”¨ç«¯å£ -p 51200-51299:51200-51299 \\ ä½ é—®æˆ‘ä¸ºå•¥å¼€è¿™ä¹ˆå¤šç«¯å£ã€‚ã€‚æˆ‘å¼€å¿ƒæˆ‘ä¹æ„ï¼Œåæ­£å¤–ç½‘åˆè®¿é—®ä¸åˆ°ã€‚ã€‚ã€‚\né•œåƒå’Œæ ‡ç­¾çš„é€‰æ‹© latest æ ‡ç­¾æ‹‰å–çš„æ˜¯libæ ‡ç­¾ï¼Œå®‰è£…äº†é¢æ¿å¹¶ä¸”å®‰è£…é›†æˆä¾èµ–åŒ…ï¼Œå®‰è£…æ¯ä¸ªè½¯ä»¶éƒ½ä¼šå¿«ä¸€ç‚¹ã€‚\nfresh æ ‡ç­¾è¡¨ç¤ºå®‰è£…äº†é¢æ¿ä½†æ˜¯æ²¡æœ‰å®‰è£…é›†æˆä¾èµ–åŒ…ï¼Œå®‰è£…ç¬¬ä¸€ä¸ªè½¯ä»¶ä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºéœ€è¦è£…ä¾èµ–åŒ…ã€‚\nlib æ ‡ç­¾è¡¨ç¤ºå®‰è£…äº†é¢æ¿å¹¶ä¸”å®‰è£…é›†æˆä¾èµ–åŒ…ï¼Œå®‰è£…æ¯ä¸ªè½¯ä»¶éƒ½ä¼šå¿«ä¸€ç‚¹ã€‚\nlnmp æ ‡ç­¾è¡¨ç¤ºå®‰è£…äº†é¢æ¿ã€é›†æˆåŒ…å¹¶ä¸”é›†æˆLNMPã€Nginx1.22+MySQL5.7+PHP7.4ã€‘armæ ‡ç­¾æ˜¯MySQL5.6\nlamp æ ‡ç­¾è¡¨ç¤ºå®‰è£…äº†é¢æ¿ã€é›†æˆåŒ…å¹¶ä¸”é›†æˆLAMPã€Apache2.4+MySQL5.7+PHP7.4ã€‘armæ ‡ç­¾æ˜¯MySQL5.6\næˆ‘è¿™é‡Œé€‰æ‹©lnmp ç»è¿‡æµ‹è¯•å‘ç°ï¼Œå…¶å®è¿˜é›†æˆäº†ftp\nç›®å½•çš„æŒ‚è½½ /www/server/data æ•°æ®åº“\n/www/wwwroot ç½‘ç«™ç›®å½• æˆ–è€…è¯´ é™æ€æ–‡ä»¶ç›®å½•\n/www/server/panel/vhost è™šæ‹Ÿæœºä¸»æœºé…ç½®æ–‡ä»¶\nå…¶ä»–ç›®å½•å‚è€ƒå®å¡”å®˜ç½‘\næˆ‘ä¸æ‰“ç®—æ˜ å°„å‡ºæ¥ï¼Œå› ä¸ºå¯ä»¥åœ¨å®å¡”å†…æŒ‚è½½ossä¹‹ç±»çš„ç½‘ç›˜è‡ªåŠ¨å¤‡ä»½ã€‚\nè€Œä¸”ä¸æ˜ å°„ä»»ä½•ç›®å½•çš„è¯ï¼Œdockerçš„å¤‡ä»½å’Œè¿ç§»æ›´ä¸ºç®€å•ç®€å•ä¸€äº›ã€‚\næœ€ç»ˆå‘½ä»¤çš„æ•´ç† 1 2 3 4 5 6 7 8 9 docker run -d --restart unless-stopped --name baota \\ -p 51888:8888 -p 51022:22 -p 51443:443 -p 51080:80 -p 51188:888 \\ -p 51081:51081 -p 51444:51444 -p 51000:22 \\ -p 51306:3306 \\ -p 51379:6379 \\ -p 51432:5432 \\ -p 51017:27017 \\ -p 51200-51299:51200-51299 \\ btpanel/baota:lnmp é»˜è®¤è´¦æˆ·åå¯†ç  å’Œç™»å½•åœ°å€ ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—®é»˜è®¤åœ°å€ http://æ‚¨çš„ipåœ°å€:8888/btpanel ä¸Šçš„å®å¡”é¢æ¿ã€‚ é»˜è®¤ç”¨æˆ·ï¼šbtpanel é»˜è®¤å¯†ç ï¼šbtpaneldocker é»˜è®¤SSHå¯†ç ï¼šç”¨æˆ·å root å¯†ç  btpaneldocker\né»˜è®¤ç”¨æˆ·ï¼šbtpanel\né»˜è®¤å¯†ç ï¼šbtpaneldocker\nå®¹å™¨é»˜è®¤SSHå¯†ç ï¼šbtpaneldocker\nå…¶ä»– å®¹å™¨å†…çš„æœåŠ¡å¤„ç† æ˜¯ä½¿ç”¨çš„/bt.sh è¿™ä¸ªæ–‡ä»¶ï¼Œé™¤äº†é»˜è®¤æœåŠ¡ä¹‹å¤–ï¼Œå…¶ä»–æœåŠ¡éœ€è¦è‡ªè¡Œæ·»åŠ é»˜è®¤å†…å®¹\n#!/bin/bash PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin export PATH init_path=/etc/init.d Root_Path=`cat /var/bt_setupPath.conf` Setup_Path=$Root_Path/server/mysql Data_Path=$Root_Path/server/data soft_start(){ ${init_path}/nginx start ${init_path}/php-fpm-74 start ${init_path}/pure-ftpd start ${init_path}/bt restart pkill crond /sbin/crond /usr/sbin/sshd -D \u0026amp; } is_empty_Data(){ return `ls -A ${Data_Path}/|wc -w` } init_mysql(){ # initialize_mysql if [ -f /init_mysql.sh ];then sh /init_mysql.sh rm -f /init_mysql.sh fi } start_mysql(){ chown -R mysql:mysql ${Data_Path} chgrp -R mysql ${Setup_Path}/. ${init_path}/mysqld start rm -f /init_mysql.sh } soft_start \u0026gt; /dev/null is_empty_Data \u0026gt; /dev/null if [ $? == 0 ];then init_mysql \u0026gt; /dev/null else start_mysql \u0026gt; /dev/null fi tail -f /dev/null è®¡åˆ’ä»»åŠ¡çš„bug å®¿ä¸»æœºè¿è¡Œ\ndocker exec -it å®¹å™¨åç§°baota bash pkill crond \u0026amp;\u0026amp; /sbin/crond ç„¶åé‡æ–°æ·»åŠ è®¡åˆ’ä»»åŠ¡\nå®¹å™¨å†…çš„sshçš„bug å·²ç»é»˜è®¤å®‰è£…äº†opensshï¼Œä½†æ˜¯å¯èƒ½è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹æ‰å¯ä»¥è¿æ¥ï¼Œæ³¨æ„ å¤åˆ¶çš„æ—¶å€™ è¦çœ‹ä¸€ä¸‹å®¿ä¸»æœºçš„æƒ…å†µã€‚å¦‚æœä¸æ˜¯hostæ¨¡å¼çš„è¯ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜\n#è·å–å®¹å™¨ID docker ps|awk 'NR \u0026gt; 1{print$1}' #å¤åˆ¶å¿…è¦å¯†é’¥æ–‡ä»¶åˆ°å®¹å™¨å†… \\cp -r /etc/ssh/ssh_host_* /home/ chmod 600 /home/ssh_host_* docker cp /home/ssh_host_rsa_key å®¹å™¨ID:/etc/ssh/ docker cp /home/ssh_host_ecdsa_key å®¹å™¨ID:/etc/ssh/ docker cp /home/ssh_host_ed25519_key å®¹å™¨ID:/etc/ssh/ #ç»™å®¹å™¨è®¾ç½®ä¸€ä¸ªrootå¯†ç ï¼Œqqwwee123æ›¿æ¢æˆè‡ªå·±æƒ³è¦çš„å¯†ç  docker exec -it å®¹å™¨ID /bin/bash -c \u0026quot;echo 'qqwwee123'|passwd --stdin root\u0026quot; #è®©sshdè¿è¡Œèµ·æ¥ docker exec å®¹å™¨ID /usr/sbin/sshd -D \u0026amp; rm -rf /home/ssh_host_* é—®é¢˜å’Œå…¶ä»–bug dockerç‰ˆæœ¬æ›´æ–°æ»åï¼Œä¹Ÿä¸ç®—å¤§äº‹ï¼Œå®å¡”æ–°ç‰ˆé—®é¢˜æ›´å¤šå“ˆå“ˆ webæ§åˆ¶é¢æ¿å¡é¡¿ï¼Œwebç»ˆç«¯å¡é¡¿ ç”šè‡³æ‰“ä¸å¼€ï¼Œä¸ç¼ºç‚¹æ˜¯å®å¡”æ–°ç‰ˆçš„é—®é¢˜ï¼Œè¿˜æ˜¯è½¯è·¯ç”±å™¨æ€§èƒ½é—®é¢˜ å®å¡”å†…ç½®ç³»ç»Ÿé˜²ç«å¢™ä¸å¯ç”¨ï¼ˆdockerçš„é™åˆ¶ã€‚ä¸è¿‡ç¡®å®æ²¡å¿…è¦ï¼‰ sslçš„è¯ä¹¦å¤¹åœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹ æ— æ³•ä¿å­˜çš„é—®é¢˜ã€‚è¿™ä¸ªåº”è¯¥æ˜¯å®å¡”è‡ªå·±çš„bugï¼Œæœˆç»bug å®å¡”ååå¤å¤ï¼Œç»å¸¸é—´éš”å‡ ä¸ªç‰ˆæœ¬å°±å‡ºç°ä¸€æ¬¡ .é‡æ–°ç™»å½•ä¸€æ¬¡é¢æ¿ï¼Œç„¶åç»­ç­¾ä¸€æ¬¡è¯ä¹¦ï¼Œæˆ–è€…é‡æ–°éƒ¨ç½²ä¸€æ¬¡ã€‚è¿æ°”å¥½çš„è¯ å°±å¥½äº†ï¼Œæˆ–è€…æ•´ä¸ªç«™ç‚¹éƒ½åˆ æ‰é‡æ–°æ·»åŠ ï¼Œè¿æ°”ä¸å¥½çš„è¯ï¼Œã€‚ã€‚ã€‚ã€‚åˆ äº†å®å¡”å§ã€‚ã€‚ innodb_log_buffer_size çš„bugï¼Œè¿™ä¸ªä»¥åŠæ˜¯å®å¡”æœ¬èº«çš„æœˆç»bug åå¤å‡ºç°ï¼Œæ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹å°±å¥½ webé¢æ¿ é…ç½®mysqlçš„ç•Œé¢ mysqlçŠ¶æ€ä¸æ˜¾ç¤ºï¼Œè¿™ä¸ªåº”è¯¥ä¹Ÿæ˜¯å®å¡”è‡ªå·±çš„bugï¼Œæœˆç»bug webé¢æ¿ ç»ˆç«¯å¶å°”æ‰“ä¸å¼€ åº”è¯¥æ˜¯xtermå’Œbugï¼Œå®å¡”æœ¬èº«ä¹Ÿæˆ–è®¸æœ‰é—®é¢˜ï¼Œé€€å‡ºé‡æ–°ç™»å½•å°±å¥½ï¼Œæˆ–è€…æ¸…ç†æµè§ˆå™¨ç¼“å­˜ é‡æ–°ç™»å½• é€šçŸ¥æ¨¡å—å¶å°”æ˜¾ç¤º åç§°ï¼šundefined xxxï¼Œæ— é…ç½®ã€‚ã€‚è¿™ä¸ªä¹Ÿæ˜¯å®å¡”çš„æœˆç»bug ä¸ç®—æ˜¯é—®é¢˜ï¼Œä½†ä¸€å®šæ³¨æ„ç¬¬ä¸€æ—¶é—´ä¿®æ”¹ é¢æ¿ç”¨æˆ·åå¯†ç ä»¥åŠsshçš„rootå¯†ç  é¢˜å¤–è¯ å…¶å®å·²ç»å¾ˆä¹…æ²¡æœ‰æ–°è£…è¿‡å®å¡”äº†ï¼Œç„¶åå‘ç° ç°åœ¨çš„å®å¡” æ˜¯bugæˆå †ã€‚ã€‚ã€‚ç¡¬ç¡¬æŠŠç”¨æˆ·å½“ä½œå®éªŒå°ï¼Œç•¥æœ‰èƒ½åŠ›çš„æƒ…å†µä¸‹èƒ½ä¸ç”¨å°±ä¸ç”¨äº†å§\nä»¥å‰ä¼šå»å®å¡”è®ºå› è®¤çœŸæˆªå›¾ è¯´å¤ç°æ­¥éª¤ï¼Œåé¦ˆï¼Œç„¶åè®ºå›å®¢æœ é™¤äº†ä¸€å †æ¯«æ— æ„ä¹‰çš„æœºæ¢°å›å¤ï¼Œä¹Ÿæ²¡å•¥ï¼Œæœ‰æ—¶å€™åé¦ˆä¸€ä¸ªbug ç«Ÿç„¶è¦å›å¸–æ•°æ¬¡ã€‚ã€‚ã€‚ åŸºæœ¬ä¸Š ä¿®è¡¥äº†ä¸Šä¸€ä¸ªbug ç„¶åå‡ºç°æ–°bug\næ­£ç»çš„ç”Ÿäº§ç¯å¢ƒï¼ŒçœŸçš„ä¸æ€ä¹ˆå»ºè®®ç”¨å®å¡”ã€‚ã€‚ã€‚æ¯•ç«Ÿç°åœ¨dockerç¯å¢ƒå¯é€‰å¤šéƒ¨ç½²ä¸€ä¸ªæ–°ç¯å¢ƒä¹Ÿä¸éš¾\n","date":"2022-11-27T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/baota/","title":"dockerè¿è¡Œ å®˜æ–¹å®å¡” "},{"content":"æœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œå»ºè®®ä½¿ç”¨ nginxwebui ï¼šhttps://dev.leiyanhui.com/openwrt/nginx-proxy-ssl\næ”¯æŒä¸­æ–‡ï¼Œä¹Ÿæ”¯æŒé™æ€ç«™ï¼Œç”šè‡³å¯ä»¥è½¬å‘phpä¹‹ç±»çš„ã€‚\nnginx-proxy-manage æ˜¯ä¸€ä¸ªæœ‰webç®¡ç†è§£å†³çš„ çº¯nginxç®¡ç†å·¥å…·ï¼ŒåŸºäºnodeå¼€å‘çš„ã€‚ç±»ä¼¼å®å¡”ã€‚ã€‚è‡ªå¸¦äº†sslè¯ä¹¦ç®¡ç†ï¼ˆåŸºäºLetâ€™s Encryptçš„ï¼‰\né€‚åˆ åœ¨è½»é‡çš„ä¸»æœºä¸Šè¿è¡Œï¼Œä¾‹å¦‚ è½¯è·¯ç”±ã€‚ã€‚ã€‚\næ¯”å®å¡”æ¥è¯´ä¼˜åŠ¿æœ‰\næ”¯æŒæ›´å¤šdnséªŒè¯apiï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰çš„å¸¸è§å›½å†…å¤–åŸŸåå’Œdnså•†ï¼Œå¹¶ä¸”æ”¯æŒ acmedns_api æ›´åŠ è½»é‡ç®€å• ç¼ºç‚¹å˜›ï¼Œï¼Œå°±æ˜¯æ²¡æœ‰åˆ«çš„åŠŸèƒ½äº†ã€‚åªæœ‰nginx å’Œ ssl ã€‚æ‰€ä»¥å¾ˆé€‚åˆ è·¯ç”±ä¸Šä½¿ç”¨ è¦æ±‚å¤šçš„è¯ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨å®å¡”ï¼Œç°åœ¨å®å¡”å®˜ç½‘å·²ç»å‘å¸ƒdocker\nåŸºæœ¬å‘½ä»¤ å‚è€ƒï¼šhttps://hub.docker.com/r/jlesage/nginx-proxy-manager æ”¹åŠ¨ä¸€ä¸‹\n1 2 3 4 5 6 docker run -d \\ --name=nginx-proxy-manager \\ -p 50181:8181 \\ -p 50080:8080 \\ -p 50443:4443 \\ jlesage/nginx-proxy-manager webè®¿é—®ç«¯å£ æ˜¯ 50080:8080 ssl 50443:4443 ç®¡ç†ç«¯å£ 50181:8181 é»˜è®¤ç”¨æˆ·åå¯†ç  admin@example.com changeme\nåç»­æˆ‘å‘ç°çœŸæ­£çš„å®˜ç½‘é•œåƒå®é™…ä¸æ˜¯è¿™ä¸ªï¼ è€Œæ˜¯ jc21/nginx-proxy-manager:latest æ–‡æ¡£åœ°å€ï¼šhttps://nginxproxymanager.com/setup/#using-mysql-mariadb-database å¹¶ä¸”å®˜ç½‘æ–‡æ¡£æ˜¯æ˜ç¡®æ”¯æŒipv6çš„ åªæ˜¯é»˜è®¤ç¦ç”¨\nåŸºæœ¬ä½¿ç”¨ ä¿®æ”¹ç”¨æˆ·å¯†ç  ç™»å½•åå°±ä¼šè‡ªåŠ¨æç¤ºä¿®æ”¹ï¼ŒæŒ‰ç…§æç¤ºä¿®æ”¹ä¸€ä¸‹\nè¯•ç€ç”³è¯·ä¸ªåŸŸåssl å¾ˆç®€å• ä¸ç”¨å¤šè¯´ï¼Œçœ‹ä¸æ‡‚ è‡ªå·±å¼€ç¿»è¯‘è½¯ä»¶ï¼ˆåæ§½ï¼šè½¯è·¯ç”±åœˆå­ è‹±è¯­ä¸å¥½ è¿˜ä¸è‚¯å¼€ç¿»è¯‘è½¯ä»¶çš„äººã€‚ã€‚å¤šå¥½ã€‚ã€‚ï¼‰\nè¿™ä¸ªå·¥å…·å­˜åœ¨çš„é—®é¢˜ åªæ”¯æŒLEçš„è¯ä¹¦ï¼Œæˆ‘æœ¬æƒ³å’Œacme.shçš„é…åˆ ä½¿ç”¨ï¼Œå‘ç°ã€‚ã€‚ã€‚è¿™è´§å¥½åƒæŠŠè¯ä¹¦æ”¾åœ¨äº†æ•°æ®åº“é‡Œé¢ï¼Œï¼Œæœäº†ã€‚ã€‚ã€‚ç„¶åè‡ªå®šä¹‰è¯ä¹¦ ä¹Ÿåªèƒ½æ˜¯ä¸Šä¼ ã€‚ã€‚ã€‚ åç»­å‘ç°å­˜æ”¾åˆ°äº†/etc/letsencrypt ï¼Œä½†æ˜¯æ ¼å¼å’Œacme.sh ä¸èƒ½å®Œå…¨å…¼å®¹ã€‚ã€‚ dns apiçš„é…ç½®è®°å½•ä¸èƒ½è‡ªåŠ¨ä¿å­˜ï¼Œæ·»åŠ å¤šä¸ªè¯ä¹¦çš„æ—¶å€™ éœ€è¦æ¯æ¬¡éƒ½è¾“å…¥ä¸€æ¬¡ apiæ¥å£çš„keyä¿¡æ¯ ä¸‹è½½å›æ¥çš„è¯ä¹¦ï¼Œåªæœ‰nginxæ ¼å¼ é¢æ¿æœ¬èº«å¥½åƒä¸å¯ä»¥ç›´æ¥å¯ç”¨sslï¼Œåº”è¯¥éœ€è¦shè¿›å»æ”¹é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±ä»£ç†è‡ªå·±ä¸€æ¬¡ æ²¡æœ‰ä¸­æ–‡ç•Œé¢ é•œåƒä½“ç§¯ä¸å°ï¼Œ 182.90MB å·¦å³ åœ¨ä¸»æœºåˆ—è¡¨é¡µé¢ç›´æ¥æ‰“å¼€å¯¹åº”çš„åŸŸåï¼Œæ˜¯ä½¿ç”¨é»˜è®¤ç«¯å£æ‰“å¼€ã€‚ä¸ä¼šå¸®ä½ è·³åˆ°50080:8080 ssl 50443:4443,æˆ‘node æ°´å¹³ä¸€èˆ¬ä¹Ÿæ²¡æœ‰æ‰¾æ‰“ é˜Ÿä»¥ingçš„æ–‡ä»¶ åŒæ—¶ åœ¨åä»£ pve æˆ– openwrtç­‰åº”ç”¨çš„é€‚åˆï¼Œä¼šå¯¼è‡´ vncæˆ–è€…ç»ˆç«¯æ§åˆ¶å°æ‰“ä¸å¼€ã€‚ï¼ˆè¿™ä¸ªå¥½åƒæ˜¯ noVNC ä»¥åŠxterm.jsçš„é—®é¢˜ï¼‰ pveå¯ä»¥ç”¨ /etc/pve/local/qemu-server/.conf æ·»åŠ vncé…ç½®çš„æ–¹æ³•ç”¨å®¢æˆ·ç«¯é“¾æ¥ ocçš„æ§åˆ¶dockerå° å¯ä»¥ç”¨shellç™»å½•å docker exec -it å®¹å™¨å /bin/bash æˆ–è€…docker å¦å¤–è·‘ä¸€ä¸ªæµè§ˆå™¨ æ¥è®¿é—®å†…ç½‘çš„è¿™ä¸ªwebï¼Œç„¶ånginx-proxy-managerå†å¥—ä¸Šssl å°±å¯ä»¥äº† å…¶ä»–æš‚æœªå‘ç° ç»“è®º å¾ˆé€‚åˆè¦æ±‚ä¸é«˜çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä¹Ÿé€‚åˆå°ç™½ã€‚ å…¶å® è¿˜æ˜¯å»ºè®®ç›´æ¥dockerè·‘ä¸€ä¸ªå®å¡”ç®—äº†ï¼Œè‡ªå·±ç”¨debianã€centosåŸºç¡€åšä¹Ÿè¡Œï¼Œç°åœ¨å®å¡”å®˜æ–¹ä¹Ÿæ”¯æŒdockeräº†\nhttps://dev.leiyanhui.com/docker/baota\nå¦å¤–ä¸€ä¸ªæ›¿ä»£é¡¹ç›® https://www.nginxwebui.cn/\nç®€å•çœ‹äº†ä¸€ä¸‹ å›½äº§çš„ï¼Œæ”¯æŒä¸­æ–‡ï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯è¯ä¹¦è™½ç„¶æ˜¯ç”¨ acme.sh ,ä½†æ˜¯åŒæ ·ä¹Ÿæ˜¯ åªæ”¯æŒ LEçš„è‡ªåŠ¨ç»­æœŸå’Œç”³è¯·ã€‚ã€‚\nä½¿ç”¨è¯´æ˜ ï¼šhttps://dev.leiyanhui.com/openwrt/nginx-proxy-ssl\nå®˜ç½‘ï¼šhttps://github.com/cym1102/nginxWebUI#docker%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E\n","date":"2022-11-27T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/nginx-proxy-manage/","title":"dockerè¿è¡Œnginx å¹¶åä»£å†…ç½‘çš„ä¸€äº›æœåŠ¡ï¼Œ"},{"content":"å®¢æˆ·ç«¯ å¯ä»¥ç”¨ winscp MobaXterm æˆ–è€… å…¶ä»– æ”¯æŒ sftpçš„è½¯ä»¶ï¼Œç›´æ¥ä¸Šä¼ æ–‡ä»¶ã€‚è¿™å¯¹ æ–°æ‰‹ï¼ˆè€æ‰‹ä¹Ÿæ˜¯ï¼‰ æ¥è¯´æ›´æ–¹ä¾¿ã€‚å¦å¤–ä¹Ÿå¯ä»¥æŒ‚è½½åˆ°alistç»Ÿä¸€ç®¡ç†ã€‚\nä½†æ˜¯pve é»˜è®¤æ˜¯å…³é—­ sftpçš„ï¼Œæ‰“å¼€æ–¹æ³•ä¹Ÿå¾ˆç®€å•ã€‚\nç”¨ vim æˆ–è€… nano ç¼–è¾‘sshdé…ç½®æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç”¨nano\n# apt install nano # mkdir /root/other-etc-bak \u0026amp;\u0026amp; cp /etc/ssh/sshd_config /root/other-etc-bak nano /etc/ssh/sshd_config å¾€ä¸‹ç¿»ï¼Œæ‰¾åˆ°Subsystem sftp /usr/lib/openssh/sftp-server è¿™è¡Œï¼Œæ³¨é‡Šæ‰ï¼Œç„¶åæ·»åŠ ä¸€è¡ŒSubsystem sftp internal-sftp\n#Subsystem sftp /usr/lib/openssh/sftp-server Subsystem sftp internal-sftp é‡å¯ssh\n/etc/init.d/ssh restart ä½¿ç”¨æ”¯æŒsftpçš„å®¢æˆ·ç«¯ é‡æ–°ç™»å½•ssh\næå®š\n","date":"2022-11-27T00:40:20+08:00","permalink":"https://dev.leiyanhui.com/pve/open-sftp/","title":"pve æ‰“å¼€sftp ç›´æ¥ä¸Šä¼ æ–‡ä»¶ debian centos arch åŒç†"},{"content":"æœ€è¿‘winä¸‹å…ˆæ¢åˆ°äº†rimeè¾“å…¥æ³•ï¼Œå› ä¸ºåæ˜ é€Ÿåº¦å¿«ï¼Œå¯¹æœºå™¨è¦æ±‚ä½ã€‚åŒæ—¶macå’Œios è¿˜æœ‰archä¸‹ä¹Ÿæ¢åˆ°rime ã€‚ä½†æ˜¯åœ¨archä¸‹é‡åˆ°ä¸€ç‚¹å°é—®é¢˜ï¼Œå°±æ˜¯éƒ¨åˆ†åé€‰è¯ä¹±ç ã€‚\nç½‘ä¸Šå¤§æ¦‚æœäº†ä¸€ä¸‹ï¼Œæ²¡æœ‰fcitxçš„è¯¦ç»†æ–¹æ¡ˆã€‚ç»è¿‡æ‘¸ç´¢\næ¯”å¦‚ï¼šhttps://www.zdic.net/hans/%F0%A8%88%96 æ˜¾ç¤ºä¸º ğ¨ˆ– è¿˜æœ‰ ğ«Ÿ„ åŒæ ·çš„ä¸€äº›å­—åœ¨åé€‰è¯é‡Œé¢æ˜¾ç¤ºè±†è…å—ï¼Œä½†æ˜¯æ‰“å‡ºæ¥æ˜¯æ­£å¸¸\næ˜¯rimeé»˜è®¤å­—ä½“çš„åŸå› ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶æ¢å­—ä½“ï¼Œæœ€ç®€å•æ–¹ä¾¿ æ˜¯å°±å®‰è£… notoå­—ä½“åŒ…ï¼Œç„¶åé‡å¯ä¸€ä¸‹å°±å®Œäº†ã€‚åŸºäº\n1 2 3 4 5 yay -S noto-fonts-sc \u0026gt; Found 08_NotoSansCJKsc.zip -\u0026gt; Found 13_NotoSansMonoCJKsc.zip -\u0026gt; Found 09_NotoSerifCJKsc.zip æˆ–è€…å¹²è„†\n1 sudo pacman -S noto-fonts-cjk ","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/arch/rime-luanma/","title":"archlinux ä¸‹rimeè¾“å…¥æ³•éƒ¨åˆ†åé€‰è¯ä¹±ç  é—®é¢˜"},{"content":"archlinuxå…¶å®è¿˜æ˜¯å¾ˆå®¹æ˜“å®‰è£…çš„ï¼Œ\næœ¬æ–‡æœ€åæ›´æ–° 2022-12-01 å®‰è£…ç³»ç»Ÿéœ€è¦ä½ å…ˆæ˜ç™½å‡ ä¸ªåŸºæœ¬æ¦‚å¿µ,å¦‚æœä½ èƒ½æ˜ç™½ï¼Œé‚£ä¹ˆæ‰‹åŠ¨å®‰è£…ä¸€ä¸ªarchlinuxä¹Ÿå°±è½»æ¾ç®€å•ã€‚ä¸æ˜ç™½ç…§ç€åšä¹Ÿå¯ã€‚\nå¼•å¯¼ï¼Œä¸€èˆ¬ç”µè„‘æ”¯æŒefiå’Œä¼ ç»Ÿbiosä¸¤ç§åˆ†åŒºæ¨¡å¼ï¼Œ bioså¼•å¯¼åˆ†åŒºæ¨¡å¼éœ€è¦ç”¨ä¼ ç»Ÿç£ç›˜æ ¼å¼ä¹Ÿå°±æ˜¯åªèƒ½4ä¸ªä¸»åˆ†åŒºï¼Œæˆ–è€…3ä¸ªä¸»åˆ†åŒº+æ‰©å±•çš„Nä¸ªåˆ†åŒº efiå¼•å¯¼çš„åˆ†åŒºæ¨¡å¼å¯ä»¥ç”¨gptï¼Œä¹Ÿå°±æ˜¯å¯ä»¥4ä¸ªä»¥ä¸Šä¸»åˆ†åŒºï¼Œä½†æ˜¯å¿…é¡»æœ‰ä¸€ä¸ªfat16 fat32çš„åˆ†åŒºï¼Œä¸»æ¿å¯åŠ¨åä»ç£ç›˜çš„è¿™ä¸ªåˆ†åŒºé‡Œé¢æ‰¾efiå¼•å¯¼ç¨‹åº ç£ç›˜ linuxä¸‹çš„ç£åˆ° /devä¸‹ ä¸€èˆ¬ç”¨ fdisk -lå‘½ä»¤æŸ¥çœ‹ åˆ†åŒºï¼Œlinuxä¸‹åˆ†åŒº éœ€è¦æŒ‚è½½åˆ°æ–‡ä»¶ç›®å½•ã€‚å¼€æœºè‡ªåŠ¨æŒ‚è½½çš„é…ç½®æ–‡ä»¶æ˜¯ /etc/fatab å¯åŠ¨å å¦‚æœæ˜¯ç¬”è®°æœ¬éœ€è¦å…ˆé…ç½®wifiï¼Œarchçš„å®‰è£…é•œåƒä¹Ÿæ”¯æŒusbå…±äº«å¤šæ•°æ‰‹æœºçš„ç½‘ç»œã€‚\nå¦‚æœä¸æƒ³åœ¨æœºå™¨ä¸Šä¸Šæ•²ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥å…ˆç»™rootè®¾ç½®ä¸€ä¸ªä¸´æ—¶å¯†ç passwd è¾“å…¥ä¸¤æ¬¡å¯†ç \nç„¶åip aæŸ¥çœ‹ä¸€ä¸‹ipï¼Œå†åœ¨ä¸€å°æœºå™¨ä¸Šsshé“¾æ¥ä¸Šssh root@IP ,å°±å¯ä»¥æŠ„è¢­ä¸‹é¢çš„ä½œä¸šäº†ã€‚\narchlinuxè‡ªå¸¦çš„ archinstall å·²ç»å¾ˆå¥½ç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸å†å»ºè®®æ‰‹åŠ¨å®‰è£…ã€‚\nåˆ†åŒº efiæ¨¡å¼è‡³å°‘ä¸¤ä¸ªåˆ†åŒºï¼Œboisæ¨¡å¼1ä¸ªåªä¸€ä¸ªåˆ†åŒºä¹Ÿå¯ä»¥ 1ã€efiåˆ†åŒº fat32æ ¼å¼ï¼Œå¯ä»¥å’Œé»‘è‹¹æœ winå…¬ç”¨ ï¼ˆboiså®‰è£…çš„åˆ†åŒº çœ‹æ–‡æœ«ï¼‰ 2ã€æ ¹åˆ†åŒºï¼Œæ ¼å¼è‡ªå·±éšæ„ï¼Œå¦‚æœåªæ˜¯è·‘ç®€å•ä¸šåŠ¡å»ºè®®ç”¨ext4 å…¶ä»–åˆ†åŒºè‡ªå®šä¹‰ åˆ†åŒºå¯ä»¥ç”¨winpe diskgenï¼Œä¹Ÿå¯ä»¥ç”¨ liveç›˜çš„ cfdisk\nå¯åŠ¨å’Œå‡†å¤‡ ä½¿ç”¨archlinux å®˜ç½‘live iso ä¸‹è½½åœ°å€ https://archlinux.org/download/ åº•éƒ¨æœ‰å›½å†…é•œåƒæº å†™å…¥åˆ°Uç›˜ï¼Œæˆ–è€…ç”¨ventoyç­‰æ”¯æŒisoå¯åŠ¨çš„å·¥å…·å¯åŠ¨isoã€‚ å¯åŠ¨åå…ˆ ping baidu.com çœ‹çœ‹æ˜¯å¦è”ç½‘äº†ï¼Œå¦‚æœæ²¡æœ‰å…ˆå»é…ç½®è”ç½‘ç¯å¢ƒï¼Œæ­¤å¤„æ è¿‡ï¼Œä¸æ˜¯ç¬”è®°æœ¬çš„éƒ½ç®€å•ï¼Œå¦‚æœç½‘å¡ä¸èƒ½è¯†åˆ«ï¼Œå¯ä»¥æš‚æ—¶usbæ’iPhone æ‰“å¼€å…±äº«\nç¼–è¾‘æºï¼Œè‡ªå·±æ‰¾ä¸€ä¸ªé è°±æºã€‚éƒ¨åˆ†æºæ›´æ–°æ…¢ï¼Œæ¯”å¦‚ nuesoftï¼Œéƒ¨åˆ†æºé€Ÿåº¦ä¸ç¨³å®šæ¯”å¦‚aliyunï¼Œå…¶ä»–è‡ªå·±é€‰ æ­¤æ­¥éª¤ä¸æ˜¯å¿…é¡»çš„ï¼Œç›®å‰æ–°ç‰ˆarchlinux 2022.11.1ä»¥åç‰ˆæœ¬çš„iso åœ¨è”ç½‘ç¯å¢ƒä¸‹ï¼Œå¯ä»¥è‡ªåŠ¨å¸®ä½ æ•´ç†æœ€å¿«çš„é•œåƒä½œä¸ºé»˜è®¤æº\n1 nano /etc/pacman.d/mirrorlist ä¾‹å¦‚æ¸…åæºåœ°å€ï¼Œæ”¾åˆ° æœ€å‰é¢ Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch\nå¯èƒ½éœ€è¦fdisk -l æŸ¥çœ‹ä¸€ä¸‹ç£ç›˜å¹¶æ ¼å¼åŒ–éƒ¨åˆ†åˆ†åŒº å¯ä»¥ç”¨cfdisk åˆ›å»ºæ“ä½œåˆ†åŒºï¼Œä½¿ç”¨uefiå¯åŠ¨çš„ç”µè„‘ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªåˆ†åŒºï¼Œä¸€ä¸ªefiä¸€ä¸ªæ ¹åˆ†åŒºï¼Œç„¶åç”¨mkfs.xxxx æ ¼å¼åŒ–å¯¹åº”çš„åˆ†åŒº\n1 cfdisk /dev/\u0026lt;ç£ç›˜å sda1 nvmexxxx mmcxxx vdaxxx\u0026gt; cfdisk æ¯”diskpartç®€å•ä¸€äº›ï¼Œå¹¶ä¸”æ˜¯å‘½ä»¤è¡Œçš„å›¾å½¢ç•Œé¢\nå…³äºåˆ†åŒº å¦‚æœæ˜¯efiæ¨¡å¼å¯åŠ¨ï¼Œå¿…é¡»éœ€è¦ä¸¤ä¸ªåˆ†åŒº ä¸€ä¸ª 32M ä»¥ä¸Šçš„efiåˆ†åŒºæ ¼å¼åŒ–ä¸ºfat16æˆ–è€…fat32æ ¼å¼ï¼Œå¦å¤–ä¸€ä¸ªåˆ†åŒºæ ¼å¼ä¸ºlinuxå¸¸ç”¨æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œæ¨èext4æ ¼å¼\nå¦‚æœæ˜¯ä¼ ç»Ÿå¯åŠ¨æ¨¡å¼ï¼Œé‚£ä¹ˆä¸éœ€è¦é¢å¤–çš„åˆ†åŒºï¼Œæœ€å°åªéœ€è¦ä¸€ä¸ªåˆ†åŒº / æ ¼å¼ä¸º\nå…³äºåˆ†åŒºæ ¼å¼ linuxä¸‹ä¸æ˜¯ä¸æ˜¯å¯ä»¥å®‰è£…åˆ°fatæˆ–è€…exfat ç”šè‡³ntfsåˆ†åŒºæ ¼å¼ï¼Œåªæ˜¯ä¸æ¨èï¼Œä¼šæœ‰å¾ˆå¤šè«åå…¶å¦™çš„é—®é¢˜ã€‚\nä¸€èˆ¬å¸¸ç”¨çš„åˆ†åŒºæ ¼å¼ è¿˜æ˜¯ ext4ï¼Œå…¶ä»–æ›´å…ˆè¿›çš„åˆ†åŒºæ ¼å¼ xfs,BtrFS,GlusterFS é™¤ééå¸¸æœ‰éœ€æ±‚ï¼Œæ¯”å¦‚å‹ç¼© å¿«ç…§ raidç­‰ï¼Œå¦åˆ™ä¸å»ºè®®ã€‚\nå¦‚æœä½ åŒç³»ç»Ÿï¼Œæœ‰å’Œwinäº¤æ¢æ–‡ä»¶çš„éœ€æ±‚ï¼Œå¼ºçƒˆå»ºè®®å•ç‹¬åˆ›ä¸€ä¸ªexfatåˆ†åŒºä½œä¸ºæ–‡ä»¶äº¤æ¢ç”¨ï¼Œæˆ–è€…åœ¨winä¸‹å®‰è£…ext4çš„è¯»å–é©±åŠ¨ï¼ˆä¸è¦å†™ï¼‰\nå¦å¤–ï¼Œwinä¸‹å¸¸ç”¨çš„diskgen å¯¹ext4åˆ†åŒºçš„æ”¯æŒæ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯å¯ä»¥å®ŒæˆåŸºæœ¬çš„åˆ†åŒºåˆ°é•œåƒçš„å¤‡ä»½ã€‚è¯»å–åŠŸèƒ½ä¸ç¨³ã€‚\næ ¼å¼éœ€è¦çš„åˆ†åŒº cfdiskåªèƒ½åˆ†åŒºä¸èƒ½æ ¼å¼ï¼Œè¿˜æ˜¯éœ€è¦ç”¨mkfså·¥å…·æ ¼å¼ï¼Œå¦‚æœå·²ç»æ ¼å¼å¥½äº†ã€‚æˆ–è€…å¯¹åº”çš„åˆ†åŒºå·²ç»æœ‰æ–‡ä»¶ï¼Œå¯ä»¥è·³è¿‡è¿™æ­¥ã€‚\n1 2 3 4 # efiåˆ†åŒº mkfs.fat -F 32 /dev/nvme0n1p1 ## æ ¹åˆ†åŒº mkfs.ext4 /dev/nvme0n1p2 é©¬ä¸Š2023å¹´ brtfså·²ç»å¾ˆä¸é”™äº†um efiå¿…é¡» fa32 æˆ–fat16ï¼Œ æ ¹åˆ†åŒº åˆ†åŒºæ ¼å¼æˆ‘è¿™é‡Œç”¨ext4\nå¦‚æœè¦åšswapåˆ†åŒºï¼Œè‡ªå·±çœ‹ä¸€ä¸‹å®˜ç½‘wikiï¼Œæˆ‘å–œæ¬¢ç”¨æ–‡ä»¶swapæ‰€ä»¥è¿™é‡Œæ²¡å¼„ã€‚ è®¾ç½® æ–‡ä»¶swap\næŒ‚è½½åˆ†åŒº æ ¹åˆ†åŒºæŒ‚è½½åˆ°/mnt efiåˆ†åŒºæŒ‚è½½åˆ°/mnt/boot/efi\n1 2 3 mount /dev/nvme0n1p2 /mnt mkdir -p /mnt/boot/efi mount /dev/nvme0n1p1 /mnt/boot/efi å¦‚æœä½ è¿˜è¦åšswapåˆ†åŒºï¼Œç»§ç»­å¼„ï¼Œä¹Ÿå¯ä»¥åé¢å¼€å¯swapfileçš„\nå¦‚æœæ˜¯ä¼ ç»Ÿå¯åŠ¨æ¨¡å¼ ä¸æ˜¯ efiæ¨¡å¼ å¯ä»¥è·³è¿‡ æŒ‚è½½efiçš„è¿™æ­¥ã€‚\n/mntå¼€å§‹å®‰è£… æœ€åŸºæœ¬çš„ç³»ç»Ÿ\n1 pacstrap /mnt base linux å¦å¤–è¿˜æœ‰ä¸‰ä¸ªå¸¸ç”¨åŒ… è‡ªå·±é€‰æ‹©æ˜¯å¦å®‰è£…ã€‚linux-headers linux-firmware base-devel base-develåŒ…é‡Œé¢ æœ‰ç¼–è¯‘å’Œyayï¼ˆaurï¼‰å¸¸ç”¨çš„å·¥å…·\nå¦‚æœæœ‰æç¤º keyé”™è¯¯ï¼Œå°¤å…¶æ˜¯opensslçš„ï¼Œå¯èƒ½éœ€è¦å…ˆæ‰§è¡Œä¸€æ¬¡\n1 2 pacman -S archlinux-keyring pacman-key --refresh-keys æˆ–è€… å¹²è„†è¿è¡Œä¸€æ¬¡archinstall ç„¶åä¼šè‡ªåŠ¨æ›´æ–°keytingï¼Œå†é€€å‡ºå°±å¥½äº†\nå†™å…¥è‡ªåŠ¨æŒ‚è½½fstab ç›´æ¥ç”¨genfstab å·¥å…·ï¼Œå…å»æ‰‹å†™fstabé…ç½®æ–‡ä»¶çš„éº»çƒ¦\n1 2 genfstab -U /mnt \u0026gt;\u0026gt; /mnt/etc/fstab cat /mnt/etc/fstab åˆ‡æ¢åˆ°æ–°ç³»ç»Ÿ 1 arch-chroot /mnt ç»§ç»­å®‰è£…ä¸€äº›åŸºç¡€åŒ… ç®€å•æ–‡æœ¬ç¼–è¾‘nano sudoæƒé™ç®¡ç† æˆ–è€… dosa 1 pacman -S nano ä½ ä¹Ÿå¯ä»¥è£…vim\nå¯é€‰åŒ…ç½‘ç»œç›¸å…³çš„ dhcpå®¢æˆ·ç«¯ï¼ŒsshæœåŠ¡å™¨ç«¯ï¼Œç½‘ç»œç®¡ç†ï¼Œusbå…±äº«iPhoneç½‘ç»œ\n1 pacman -S dhcpcd openssh è®¾ç½®å‡ ä¸ªéœ€è¦å¼€æœºå¯åŠ¨çš„æœåŠ¡ 1 2 systemctl enable dhcpcd systemctl enable sshd å¯é€‰åŒ…\n1 2 3 pacman -S networkmanager usbmuxd systemctl enable systemd-resolved systemctl enable NetworkManager ä¿®æ”¹rootå¯†ç  è®¾ç½®ç”¨æˆ·ç­‰ rootå¯†ç  1 passwd æ·»åŠ ç”¨æˆ· æ·»åŠ ä¸€ä¸ªæ—¥å¸¸ä½¿ç”¨ç”¨æˆ·ï¼ŒåŒæ—¶è¿™ä¸ªç”¨æˆ·é»˜è®¤å¯ä»¥sshç™»å½•\n1 2 useradd -m -G wheel -s /bin/bash leiyanhui passwd leiyanhui æˆ‘ç”¨fishæ›¿ä»£bash ä½†æ˜¯ä¸å»ºè®® ç”¨fish å½»åº•æ›¿ä»£bashï¼Œå› ä¸ºfishå’Œbash ashä¹‹é—´æœ‰å…¼å®¹é—®é¢˜ã€‚ åŸºç¡€shell è¿˜æ˜¯ base æˆ–è€… ashã€‚ æƒ³è¦fishè‡ªåŠ¨è‡ªåŠ¨ï¼Œä»¥åä¿®æ”¹ .bashrcæ–‡ä»¶å°±å¥½äº†\n1 pacman -S fish è®¾ç½®wheelç”¨æˆ·ç»„çš„sudoæƒé™ sudo 1 2 pacman -S sudo nano /etc/sudoers æ‰¾åˆ°# %wheel ALL=(ALL:ALL) ALL å–æ¶ˆå‰é¢çš„#æ³¨é‡Š æˆ–è€…å¸¦ NOPASSWDçš„ é‚£è¡Œï¼Œä»¥åsudo å°±ä¸éœ€è¦å¯†ç \ndoas æ›¿ä»£sudo æ›´è½»é‡æ›´ç®€å•ï¼Œå¦‚æœè¦ç”¨xrdpçš„è¯ä¸å»ºè®®ç”¨doas\n1 2 3 4 pacman -S doas nano /etc/doas.conf ------ permit :wheel æˆ–è€…permit persist :wheel åé¢éœ€è¦æœ‰ä¸€ä¸ªç©ºè¡Œ è®¾ç½®æ–‡ä»¶æƒé™\n1 2 chown -c root:root /etc/doas.conf chmod -c 0400 /etc/doas.conf éªŒè¯\n1 doas -C /etc/doas.conf \u0026amp;\u0026amp; echo \u0026#34;config ok\u0026#34; || echo \u0026#34;config error\u0026#34; æ›¿ä»£sudo\n1 ln -s /bin/dosa /bin/sudo è®¾ç½®æ—¶åŒº å¯¹æ—¶ 1 2 ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime hwclock --systohc å†™å…¥å¼•å¯¼ è¿˜æ˜¯å»ºè®®ç”¨grubï¼Œå› ä¸ºå¦‚æœä½ è¦åé¢æŠ˜è…¾è™šæ‹ŸåŒ– kvmä¹‹ç±»çš„ä¼šçœå¿ƒç”šå¤š ï¼ˆboiså®‰è£…çš„åˆ†åŒº çœ‹æ–‡æœ«ï¼‰\n1 2 3 pacman -S grub efibootmgr grub-install /dev/nvme0n1 #(æ³¨æ„ï¼Œä¸æ˜¯efiåˆ†åŒºï¼Œè€Œä¸”æ˜¯æ•´ä¸ªç£ç›˜) grub-mkconfig -o /boot/grub/grub.cfg grub-mkconfig è¿™ä¸ªå·¥å…·åœ¨efibootmgråŒ…é‡Œé¢\né‡å¯ 1 2 3 exit # é€€å‡ºåˆ°liveç›˜ reboot # æˆ–è€… poweroff ç³»ç»Ÿå¤‡ä»½ å¯ä»¥ç”¨liveç›˜ ç›´æ¥ tar æ•´ä¸ª /mntï¼Œå¦‚æœç”¨ext4åˆ†åŒº ä¹Ÿå¯ä»¥Windowsç”¨diskgenå¤‡ä»½ã€‚ ä¿®å¤å¼•å¯¼ å°±live ç›˜ arch-chroot åˆ°ç£ç›˜åˆ†åŒºï¼Œç„¶å é‡æ–°å†™å…¥ä¸€æ¬¡å¼•å¯¼ å’Œé…ç½®æ–‡ä»¶\nä¼ ç»Ÿå¯åŠ¨æ¨¡å¼å®‰è£… é€‚åˆäº è€è®¾å¤‡ï¼Œæˆ–è€… è™šæ‹Ÿæœºï¼Œå°¤å…¶æ˜¯ pveä¸‹çš„kvmæ¨¡å¼ åªéœ€è¦æœ€å°‘ä¸€ä¸ªåˆ†åŒºå°±å¯ä»¥äº† ï¼Œå…¶ä»–æ“ä½œå’Œefiä¸€æ ·\næ³¨æ„ç‚¹ å°±æ˜¯ cfdisk ç¬¬ä¸€æ¬¡æ‰“å¼€çš„æ—¶å€™ ä¸èƒ½ç”¨gptåˆ†åŒºï¼Œç”¨dosåˆ†åŒºæ¨¡å¼ï¼Œå¦‚æœå¼„é”™äº†å°±è¦é‡æ–°è®¾ç½®æ ¼å¼ï¼Œä¼šä¸¢å¤±æ‰€æœ‰æ•°æ®ã€‚\nparted /dev/vda #ç„¶åè¾“å…¥ mklabel msdos #æç¤ºä½ ä¼šä¸¢å¤±æ‰€æœ‰ä¹¦ Yes #é€€å‡º quit æˆ‘è¿™ä¸ªç³»ç»Ÿæ˜¯ç”¨æ¥æ‰“ç®—åškvmçš„åº•å±‚çš„ï¼Œæ‰€ä»¥é™¤äº†dockerä¸å†å®‰è£…ä»»ä½•ä¸œè¥¿\næ‰€æœ‰å®‰è£…çš„åŒ…è®°å½•\n1 2 3 4 5 6 7 8 9 10 11 12 13 base linux linux-headers linux-firmware #åŸºæœ¬å·¥å…· sudo nano #ç½‘ç»œ dhcpcd networkmanager openssh #å¼•å¯¼ grub efibootmgr #ä¸ªäººéœ€è¦çš„ exfat å’Œ fish exfat-utils fish # kvmç›¸å…³çš„ qemu-base ovmf æˆ‘ä¸Šé¢æ²¡æœ‰è®¾ç½®swap æ˜¯å› ä¸ºæˆ‘ä¹ æƒ¯æ€§ç”¨swap file æŸ¥çœ‹è¿™é‡Œï¼š https://dev.leiyanhui.com/arch/swapfile/\nè¿›é˜¶åŠŸèƒ½å’Œç›¸å…³è®°å½•æ–‡ç«  æ‰‹åŠ¨å®‰è£…ä¸€ä¸ªarchlinux æŸ¥çœ‹è¿™é‡Œï¼š https://dev.leiyanhui.com/arch/base-install/\næ¡Œé¢ç¯å¢ƒdwm æŸ¥çœ‹è¿™é‡Œï¼šhttps://dev.leiyanhui.com/linux/arch-install-dwm/\næ¡Œé¢ç¯å¢ƒi3w æŸ¥çœ‹è¿™é‡Œï¼šhttps://dev.leiyanhui.com/arch/xinitc-xrdp/\narchä¸‹kvmåŸºæœ¬å®‰è£… æŸ¥çœ‹è¿™é‡Œï¼š https://dev.leiyanhui.com/kvm/arch-install-kvm/\narchä¸‹kvmè™šæ‹Ÿæœºå¼€æœºè‡ªåŠ¨å¯åŠ¨ æŸ¥çœ‹è¿™é‡Œï¼š https://dev.leiyanhui.com/kvm/auto_start_vm/\nå…³äºefiæ¨¡å¼å¯åŠ¨ æŸ¥çœ‹è¿™é‡Œï¼š https://dev.leiyanhui.com/kvm/ovmf/\nkvmå®‰è£…macos æŸ¥çœ‹è¿™é‡Œï¼šhttps://dev.leiyanhui.com/kvm/install-macos-base/\nkvmå®‰è£…macosé™„åŠ ä¸Šä¸€ä¸ªwin æŸ¥çœ‹è¿™é‡Œï¼šhttps://dev.leiyanhui.com/kvm/macos_add_win10/\nè¿›é˜¶ï¼šé…ç½®æ¡¥æ¥ç½‘ç»œï¼Œä»¥åŠç¡¬ä»¶ç›´é€š æ¡¥æ¥ç½‘ç»œï¼šhttps://dev.leiyanhui.com/kvm/net-br/\nç¡¬ä»¶ç›´é€šï¼šhttps://dev.leiyanhui.com/kvm/kvm/pci-usb/\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/arch/base-install/","title":"archlinuxä¿å§†çº§è‡ªå®šä¹‰å®‰è£…-æœ€ç®€å•ï¼Œæœ€å°åŒ– è‡ªå®šä¹‰åˆ†åŒºå®‰è£… ã€efiå’Œbiosæ¨¡å¼"},{"content":"å®‰è£…å®˜æ–¹ç‰ˆæœ¬portainer\nå®‰è£…docker æ­¤æ­¥éª¤ä¸ç”¨å¤šè¯´ã€‚ã€‚ã€‚\nåˆ›å»ºä¸€ä¸ªportainerå®¹å™¨ æ ¸å¿ƒå°±æ˜¯æŒ‚è½½å®¿ä¸»çš„/var/run/docker.sock ä»¥ä¾¿å’Œå®¿ä¸»æœºé€šä¿¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç®¡ç†å…¶ä»–ä¸»æœºä¸Šçš„docker\næ‰§è¡Œ 1 2 3 4 5 6 # æ ‡å‡†å‘½ä»¤ docker run -d -p 8000:8000 -p 9443:9443 \\ --name portainer --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ -v /opt/portainer/data:/data \\ portainer/portainer-ce:latest ceæ˜¯ç¤¾åŒºç‰ˆ eeæ˜¯å•†ä¸šç‰ˆ\nç²¾ç®€\n1 2 3 4 5 # æ ‡å‡†å‘½ä»¤ docker run -d -p 8000:8000 -p 9443:9443 \\ --name portainer --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ portainer/portainer-ce:latest é…ç½® æ‰“å¼€ http://ip:8000 å°±å¥½äº† 9443 å°±æ˜¯ https://ip:9443\nå¯†ç ã€‚ã€‚è®¾ç½® è¦12ä½ã€‚ã€‚\nå…³äºæ±‰åŒ– å¦‚æœéœ€è¦æ±‰åŒ–çš„è¯ï¼Œéœ€è¦æŠŠpubicç›®å½•æ˜ å°„å‡ºæ¥ï¼Œä¸å»ºè®®ã€‚ã€‚å› ä¸ºè¿™ä¸ªå°±æ˜¯webçš„å‰ç«¯ç›®å½•ï¼Œæ˜ å°„å‡ºæ¥æ›¿æ¢æ‰ã€‚ã€‚é‚£å°±æ„å‘³ç€ã€‚ã€‚ä½ æ— æ³•å‡çº§ï¼Œé™¤éæ±‰åŒ–åŒ…ä¸€èµ·å‡çº§ã€‚ã€‚ã€‚\nå®åœ¨ä¸ä¼š å¼€ä¸ªç¿»è¯‘è½¯ä»¶ å•¥éƒ½è§£å†³äº†ã€‚\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/portainer/","title":"docker å›¾å½¢ç®¡ç†å·¥å…·portainer ï¼ˆwebç®¡ç†ï¼‰"},{"content":"æ”¯æŒåœ¨æ‰€æœ‰è¿è¡Œdockerçš„è®¾å¤‡ä¸Š linuxç³»ç»Ÿ windows macos openwrt unraid pveç­‰ è‡ªåŠ¨ç”³è¯·ç­¾å‘è¯ä¹¦ï¼ˆçˆ±å¿«è¿™ç§ç•¸å½¢çš„é™¤å¤–ï¼‰\nç®€å•çš„è¿è¡Œ docker run --rm -itd \\ -v \u0026quot;$(pwd)/out\u0026quot;:/acme.sh \\ --net=host \\ --name=acme.sh \\ neilpang/acme.sh daemon ä½¿ç”¨æ–¹æ³• docker exec acme.sh --help docker exec acme.sh --issue --dns dns_cf -d *.example.com -d example.com æŒ‡å®šdnsçš„api èµ°dnséªŒè¯çš„ï¼Œä¾‹å¦‚cfå®¶çš„\ndocker run --rm -itd \\ -v \u0026quot;$(pwd)/ssl_out\u0026quot;:/acme.sh \\ -e CF_Email=\u0026quot;example@example.com\u0026quot; \\ -e CF_Key=\u0026quot;asasasasasadasasas\u0026quot; \\ --net=host \\ --name=acme.sh \\ neilpang/acme.sh daemon å¦‚æœæ˜¯ dnspod\nexport DP_Key=\u0026quot;sADDsdasdgdsf\u0026quot; docker run --rm -itd \\ -v \u0026quot;$(pwd)/ssl_out\u0026quot;:/acme.sh \\ -e DP_Id=\u0026quot;1234\u0026quot; \\ -e DP_Key=\u0026quot;sADDsdasdgdsf\u0026quot; \\ --net=host \\ --name=acme.sh \\ neilpang/acme.sh daemon å…¶ä»–çš„dns çš„apiå‚è€ƒ https://github.com/acmesh-official/acme.sh/wiki/dnsapi\nå¦‚æœä¸æ”¯æŒè‡ªåŠ¨apiçš„è¯ï¼Œå‚è€ƒä»–å®˜ç½‘çš„åˆ«åè§£æéªŒè¯ https://github.com/acmesh-official/acme.sh/wiki/DNS-alias-mode\nè¿›é˜¶ å¯ä»¥å’Œå…¶ä»–å®¹å™¨ åŒ…æ‹¬ å®å¡” æˆ–è€… nginx-proxy-manager é…åˆä½¿ç”¨ï¼ˆè¿™ä¸¤ä¸ªåªæ”¯æŒLEçš„å…è´¹åŸŸåï¼Œå…¼å®¹æ€§æå·®ï¼‰\nå…¶ä»–èµ„æº æ”¯æŒ180å¤©çš„ ï¼ˆåŠå¹´çš„ï¼‰æ³›åŸŸå ä»¥åŠ ipç”³è¯· ï¼Œåº”è¯¥ è¿˜æ˜¯ä¸æ”¯æŒå†…ç½‘ipçš„\nhttps://hostloc.com/forum.php?mod=viewthread\u0026tid=1050449\nä½œè€…ä¸»é¡µï¼šhttps://github.com/Neilpang\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/acme-sh/","title":"docker è¿è¡Œè¯ä¹¦ç®¡ç†å·¥å…·acme.sh "},{"content":" 1 2 3 4 5 docker run --name mysql5.7 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d \\ -v /usr/local/docker_data/mysql/data:/var/lib/mysql \\ -v /usr/local/docker_data/mysql/conf:/etc/mysql/ \\ -v /usr/local/docker_data/mysql/logs:/var/log/mysql \\ mysql:5.7 ","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/mysql5-7/","title":"docker5.7"},{"content":"å‰è¨€ æœ¬æ–‡åŸºäº archlinux 2022-12-1 é•œåƒ ventoy-1.0.86 vtoyboot-1.0.25\næˆ‘åšå¥½çš„ https://www.123pan.com/s/EqorVv-r2nPA æå–ç :arch\nå»ºè®®é€‰æ‹© arch-base-btrfs-7.3gfree5g.vhd.vtoy.7z è§£å‹å7.3G ç©ºé—²5G å¯ä»¥æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼Œå¯ä»¥è‡ªè¡Œæ‰©å®¹ã€‚æ‰©å®¹æ•™ç¨‹ è¿™ä¸ªä¹Ÿæ˜¯æˆ‘çš„arch-aioçš„æ¯ç›˜ é»˜è®¤ç”¨æˆ·å yanhui å¯†ç  1 å¼€å¯äº†ssh å’Œ dhcp\nrootç”¨æˆ·ç¦æ­¢ssh å¯†ç  1 ç›´æ¥ç”¨archinstallå®‰è£…çš„åŸºç¡€åŒ…ï¼Œç„¶åè¡¥å……è½¯ä»¶ï¼š\ndhcpcd openssh nano doas which lvm2\nå¦‚æœä½ ç½‘å¡ä¸èƒ½å…é©± æˆ–è€…wifiè¦å¤„ç†ï¼Œè¯·å…ˆvirtualbox å¯åŠ¨åé…ç½®ç½‘å¡é©±åŠ¨\nå¦‚æœå†…æ ¸å‡çº§ æˆ–è€…grubå‡çº§ï¼Œè®°å¾— cd /root/vtoyboot* \u0026amp;\u0026amp;sh vtoyboot.sh å®‰è£…archlinux éœ€è¦æœ‰ä¸€ä¸ªè¿è¡Œäº†è™šæ‹Ÿæœºçš„ç³»ç»Ÿï¼Œæˆ‘è¿™é‡Œç”¨çš„ linuxç‰ˆ virtualbox ï¼Œwinä¸‹ä¸€æ ·æ“ä½œ\nvirtualbox åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œä¸“å®¶æ¨¡å¼ å¯ç”¨efiï¼Œç£ç›˜æ ¼å¼é€‰æ‹© vhdï¼Œä¹Ÿå¯ä»¥å…¶ä»–æ ¼å¼ ç¨åè‡ªè¡Œè½¬æ¢åˆ° vhd vdi raw å¿…é¡»æ˜¯é¢„åˆ†é…ç£ç›˜ï¼Œä¸å¯ä»¥ä½¿ç”¨åŠ¨æ€ç£ç›˜\næˆ‘è¿™é‡Œé€‰æ‹© vhdæ ¼å¼ï¼Œ\nå…¶ä»–å®‰è£…æ­¥éª¤ å’Œæ­£å¸¸å®‰è£…ä¸€æ · https://dev.leiyanhui.com/arch/base-install/\nå¹¶ä¸”\n1 ln -s /bin/doas /bin/sudo å¤„ç†Ventoy 1 pacman -S which lvm2 è™šæ‹ŸæœºæŒ‚è½½ https://github.com/ventoy/vtoyboot/releases/download/v1.0.25/vtoyboot-1.0.25.iso\n1 2 3 4 5 6 7 mount /dev/cdrom /mnt cd /root cp /mnt/vtoy* . tar -xf vtoy* rm -rf *.gz cd vtoyboot* sh vtoyboot.sh æç¤ºåªèƒ½ç”¨äºefiå¯åŠ¨\nventoyç¡¬ç›˜æˆ–è€…Uç›˜å®‰è£…é…ç½® å¾ˆç®€å•ä¸ç”¨å¤šè¯´äº†ã€‚æ³¨æ„ä¸€ç‚¹ VTOY_LINUX_REMOUNT æ–¹ä¾¿linuxä¸‹æŒ‚è½½ç®¡ç†vhdæ‰€åœ¨åˆ†åŒº å…·ä½“å‚è€ƒ ï¼šhttps://www.ventoy.net/cn/faq.html æœç´¢ VTOY_LINUX_REMOUNT å…³é”®è¯\nå…¶ä»–å¤„ç† autodetect å¤„ç† æ®è¯´å…¼å®¹æ€§æ›´å¥½ 1 nano /etc/mkinitcpio.conf æŠŠhooksä¸€è¡Œçš„autodetectåˆ æ‰\ngrub shellæŠ¢æ•‘ å¦‚æœéå¸¸ä¸å¹¸åœ°è¿›å…¥äº†grub shellï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸ªgrub\u0026gt;çš„ç•Œé¢ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤æ¥æŠ¢æ•‘ï¼š\nlsæ¥æŸ¥çœ‹ç¡¬ç›˜ï¼Œï¼ˆhd0ï¼‰è¿™æ ·çš„æ˜¯ç¡¬ç›˜ï¼Œï¼ˆhd0ï¼Œmsdos1ï¼‰è¿™æ ·çš„æ˜¯åˆ†åŒº ls (hd0,msdos1)/ï¼ˆæ³¨æ„æœ‰æ–œæ ï¼‰æ¥æŸ¥çœ‹åˆ†åŒºé‡Œçš„å†…å®¹ï¼Œæ‰¾åˆ°é‚£ä¸ªé‡Œé¢æœ‰vmlinuz-linuxæ–‡ä»¶çš„ï¼Œå®ƒæ˜¯å¯åŠ¨åˆ†åŒº set root=(hd0,msdos1)ï¼ˆhd0ï¼Œmsdos1ï¼‰æ”¹æˆä½ çš„å¯åŠ¨åˆ†åŒº linux /vmlinuz-linux root=/dev/sda1sda1æ”¹æˆä½ çš„æ ¹ç›®å½•åˆ†åŒº initrd /initramfs-linux.img boot å°±å¯ä»¥è¿›ç³»ç»Ÿäº†ï¼Œå†æƒ³æƒ³å¼•å¯¼æ€ä¹ˆé…å§ã€‚\næœ¬æ–‡å‚è€ƒ ï¼šhttps://www.bilibili.com/read/cv19777065 æ„Ÿè°¢ monki\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/arch/boot-vhd-ventoy/","title":"æŠŠæœ€æ–°ç‰ˆæœ¬ archlinuxå®‰è£…åˆ°vhd/raw/imgæ–‡ä»¶å¹¶ç‰©ç†æœºå™¨å¯åŠ¨"},{"content":"åšä¸» å·²ç»å…¨éƒ¨åˆ‡æ¢åˆ° lxc æ–¹æ¡ˆã€‚æš‚æ—¶æŠ›å¼ƒNastools 2023-02-17 åä½¿ç”¨çš„æ–¹æ¡ˆä¸ºï¼šå…¨lxc æ¯ä¸ªlxcè¿è¡Œ1-å¤šä¸ªæœåŠ¡ åˆ†å¼€ç®¡ç†\nlxc 10000 alpine è¿è¡Œ cloudereve + rcloneï¼ˆæŒ‚è½½crçš„webdavï¼‰ + smb + sftp lxc 10001 alpine è¿è¡Œ alist æŒ‚ç½‘ç›˜ lxc 10002 alpine è¿è¡Œ aria2+ariaNG å’Œ cloudereve ç›´é€šåŒä¸€ä¸ªç¡¬ç›˜ å¤„ç†ç¦»çº¿ä¸‹è½½ lxc 10003 alpine è¿è¡Œ rclone +crontab å’Œ duplicati åŒæ­¥ ä»¥åŠ åŠ å¯†å¤‡ä»½æ–‡ä»¶ åˆ° äº‘ç›˜ lxc 10010 alpine è¿è¡Œ nginx + dockerç‰ˆonlyoffice å’Œcloudereveé…åˆå¤„ç†åœ¨çº¿æ–‡æ¡£ å…¶ä»– æ›´å¤š æŸ¥çœ‹åŸæ–‡ï¼šhttps://dev.leiyanhui.com/pve/lxc-nas/ ç›®æ ‡å’Œç¯å¢ƒ ç¯å¢ƒ åœ¨ä¸€ä¸ªå¼±é¸¡ç”µè„‘ä¸Šï¼ˆN2600+4G+32Gï¼‰ç”¨çº¯dockeræ­å»ºä¸ªäººåª’ä½“ä¸­å¿ƒ\nå¹¶é…åˆ é˜¿é‡Œäº‘ç›˜ æˆ–è€…æœ¬åœ°ç¡¬ç›˜ å®ç°å¤§å®¹é‡å‚¨å­˜ï¼Œ\nç›®æ ‡ è‡ªåŠ¨æœç´¢ä¸‹è½½è‡ªå·±åœ¨è±†ç“£æˆ–è€…å¾®ä¿¡æ ‡æ³¨çš„å½±ç‰‡ï¼Œå¹¶å­˜å‚¨åˆ°é˜¿é‡Œäº‘ç›˜ï¼Œå¯ä»¥ç”¨embyæˆ–è€…é˜¿é‡Œäº‘ç›˜å®¢æˆ·ç«¯appæ’­æ”¾ã€‚ è¿›é˜¶ç›®æ ‡ï¼šè‡ªåŠ¨æ¸…ç†åˆ é™¤è®¸ä¹…ä¸ºè§‚çœ‹çš„ç”µå½± èŠ‚çœé˜¿é‡Œäº‘ç›˜ç©ºé—´ã€‚æˆ‘åªæœ‰4Tå•Šã€‚ã€‚\nå‰ç½®å‡†å¤‡å·¥ä½œ docker ç¯å¢ƒ ã€openwrtä¸‹dockerçš„å’Œå…¶ä»–æ’ä»¶çš„å®‰è£…å’Œç½‘ç»œå¼‚å¸¸å¤„ç†ã€‘\nè±†ç“£è´¦å·\næˆ‘è¿™é‡Œdocker å°±æ˜¯è·¯ç”±å™¨ç³»ç»Ÿæ˜¯openwrt,å…¶ä»–linux æ“ä½œä¸€æ ·ã€‚\nå‡†å¤‡å‚¨å­˜ æˆ‘è¿™é‡Œæ²¡æœ‰é¢å¤–çš„å¤šä½™ç¡¬ç›˜åšè¿™ä¸ªå·¥ä½œï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨é˜¿é‡Œäº‘ç›˜äº†ã€‚\nå…ˆæŠŠé˜¿é‡Œäº‘ç›˜æŒ‚è½½åˆ°æœ¬åœ°ã€‚å…·ä½“æ–¹æ³•æŸ¥çœ‹ï¼š https://dev.leiyanhui.com//openwrt/rclone/\nå¦‚æœä½ æœ‰å…¶ä»–ç¡¬ç›˜ æœ€å¥½æ ¼å¼å¥½åè‡ªè¡ŒæŒ‚è½½åˆ°å®¿ä¸»æœºã€‚ æˆ‘è¿™é‡Œå•ç‹¬æŒ‚è½½ä¸€ä¸ª é˜¿é‡Œäº‘ç›˜çš„ç›®å½• ç©ºç™½ç›®å½•MediaVodCenter åˆ° /mnt/MediaVodCenter ç¨åä¼šä»äº‘ç›˜é‡Œé¢ ç§»åŠ¨ä¹‹å‰çš„ç¡¬ç›˜è¿‡æ¥ï¼Œä¹Ÿä¼šæµ‹è¯•ä¸‹è½½åŠŸèƒ½ï¼Œä¹‹æ‰€ä»¥å•ç‹¬åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œæ˜¯ä¸ºäº†é¿å…è¯¯æ“ä½œä¸¢å¤±æ–‡ä»¶\nä½¿ç”¨é˜¿é‡Œäº‘ç›˜ å°±è¦å¿å— åˆ·æ–°å»¶è¿Ÿå¸¦æ¥çš„éº»çƒ¦å“ˆã€‚è‚¯å®šæ²¡æœ‰æœ¬åœ°ç£ç›˜æ¥çš„ååº”é€Ÿåº¦å¿«ï¼Œè¿™ä¸ªæ˜¯æ— è®ºå¦‚ä½•ä¹Ÿè§£å†³ä¸èŠçš„ã€‚åªèƒ½å¿å—äº†å“¦\nå®‰è£…é…ç½®Nastools åª’ä½“ä¸­å¿ƒ dockerå®‰è£…Nastools æˆ‘è¿™é‡Œæ˜¯openwrt ç›´æ¥ç”¨rootç”¨æˆ·ï¼Œå¦‚æœä½ ç”¨å…¶ä»–ç”¨æˆ·ç®¡ç†ï¼Œè‡ªè¡ŒæŸ¥çœ‹Nastoolsæ–‡æ¡£ https://github.com/jxxghp/nas-tools Nastools çš„é…ç½®é¡¹ä¼—å¤šï¼Œè€Œä¸”å¯èƒ½ä¼šå‡ºç°ä¾èµ–å˜åŠ¨æ— æ³•æ›´æ–°çš„æƒ…å†µï¼Œæ‰€ä»¥å•ç‹¬åˆ›å»ºä¸€ä¸ªç›®å½•å‚¨å­˜ç³»ç»Ÿé…ç½®\n1 mkdir /mnt/config_MediaVodCenter 1 2 3 4 5 6 7 8 9 10 11 12 docker run -itd \\ --name nas-tools \\ --hostname nas-tools \\ -p 50300:3000 \\ -v /mnt/MediaVodCenter:/MediaVodCenter \\ -v /mnt/config_MediaVodCenter:/config \\ -e PUID=0 \\ -e PGID=0 \\ -e UMASK=000 \\ -e REPO_URL=https://ghproxy.com/https://github.com/jxxghp/nas-tools.git \\ -e NASTOOL_AUTO_UPDATE=true \\ jxxghp/nas-tools http://IP:50300/ å»ç™»å½•ï¼Œè¿™ä¸ªdockerå¯åŠ¨ç•¥å¾®æ…¢ï¼Œç¨å¾®ç­‰å¾… é»˜è®¤ç”¨æˆ·å¯†ç ï¼šadmin/password\nåˆæ­¥é…ç½®Nastools ä¿®æ”¹è´¦æˆ·åå¯†ç ï¼Œé…ç½®ã€‚ç³»ç»Ÿæç¤ºè¿˜è¦é…ç½®TMDB API Key ä¸‹ä¸€æ­¥å»ç”³è¯·\næ³¨å†Œç”³è¯·TMDB ç½‘å€ ï¼š https://www.themoviedb.org/signup ç½‘ç«™è™½ç„¶æ˜¯ä¸­æ–‡çš„ï¼Œä½†æ˜¯åœ¨å¢ƒå¤–ï¼Œå¯èƒ½ä¼šæ‰“ä¸å¼€ï¼ŒæŒ‚ç§‘ç ”è½¯ä»¶æˆ–è€…ä¿®æ”¹hosts\næ³¨å†Œå®Œæˆä»¥åç™»å½•TMDBï¼Œç‚¹å‡»é¦–é¡µå³ä¸Šè§’çš„å¤´åƒâ†’å¸æˆ·è®¾ç½®ã€‚\nç‚¹å‡»å·¦ä¾§åˆ—è¡¨çš„APIï¼Œç„¶åç‚¹å‡»è¯·æ±‚APIç§˜é’¥ä¸‹é¢çš„ click here å†ç‚¹å‡» å¼€å‘è€…ï¼ˆdeveloperï¼‰ åŒæ„åè®®åï¼Œç»§ç»­å¡«å†™\nç®€ä»‹çš„åœ°æ–¹å¡«å†™é€‰æ‹© ä¸ªäºº åç§°â€œå®¶ç”¨â€ åœ°å€ï¼Œå†™ä¸€ä¸ªå†…ç½‘åœ°å€ï¼Œ10.0.0.1 ç®€ä»‹Meet personalized needs, enrich website interfaces and functions\nä¼šé©¬ä¸Šç”Ÿæ°”ç”³è¯·æˆåŠŸï¼ŒAPI å¯†é’¥ (v3 auth) é‡Œé¢çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„TMDB API Key ç»§ç»­é…ç½®åª’ä½“éƒ¨åˆ†è®¾ç½® è¾“å…¥ä¸Šé¢è·å–åˆ°TMDB API Key TMDBåŸŸå é€‰æ‹©ä½ ä¸æŒ‚æ¢¯å­èƒ½æ‰“å¼€çš„ ï¼Œ é»˜è®¤æ–‡ä»¶è½¬ç§»æ–¹å¼ æˆ‘è¿™é‡Œæ˜¯rcloneæŒ‚è½½çš„é˜¿é‡Œäº‘ç›˜ å°±é€‰æ‹© rcloneç§»åŠ¨ï¼Œå¦‚ä½ çš„æ˜¯ç‰©ç†ç¡¬ç›˜æˆ–è€… nas è‡ªè¡Œé€‰æ‹©å…¶ä»–æ–¹æ³•ã€‚\nå‡†å¤‡å’Œé…ç½®è±†ç“£ è±†ç“£id æš‚æ—¶å…ˆåªé…ç½®è±†ç“£id ï¼Œæ³¨å†Œä¸€ä¸ªè±†ç“£è´¦å·ï¼Œç‚¹ä¸ªäººä¸­å¿ƒ ä¸ªäººä¸»é¡µ åœ°å€æ åœ°å€ ç±»ä¼¼ https://www.douban.com/people/88888/?_i=99999 å…¶ä¸­888 å°±æ˜¯æˆ‘ä»¬çš„è±†ç“£id\néƒ½æŠŠcookies éšä¾¿æ‰“å¼€ä¸€ä¸ªè±†ç“£å†…å®¹é¡µ ä¾‹å¦‚https://movie.douban.com/subject/35197639/ æŒ‰F12é”®(chromeç±»æµè§ˆå™¨)ï¼Œå¼¹å‡ºå¦‚å›¾æ‰€ç¤ºçš„å¼€å‘é¡µé¢ã€‚ç‚¹å‡»Network\né¦–å…ˆç‚¹å‡»å·¦ä¸Šè§’ä¸€ä¸ªç°è‰²çš„åœˆåœˆï¼ŒæŠŠä¸‹é¢ä¸œè¥¿çš„æ¸…é™¤ä¸€ä¸‹\nåˆ·æ–°è¿™ä¸ªé¡µé¢ï¼Œä½ å¯ä»¥ç‚¹åˆ·æ–°æŒ‰é’®æˆ–è€…F5é”®\nNetworké¡µé¢å¼€å§‹å¼¹å‡ºä¸€äº›ä¸œè¥¿ï¼Œä¸è¦æ€•ï¼Œå‘ä¸Šåˆ’æ‰¾åˆ° â€œ35197639/â€è¿™ä¸€ä¸ª ç„¶åçœ‹å³ä¾§çš„ cookiesï¼Œæ‰¾åˆ°ä½ çš„dbcl2ï¼Œè¿™æ˜¯æ ¹æ®åˆ†å·ï¼ˆ;ï¼‰åˆ†å‰²çš„ï¼Œä½ æŠŠdbcl2:xxxå¤åˆ¶ä¸‹æ¥ã€‚ï¼ˆä¸è¦æŠŠåˆ†å·å¤åˆ¶è¿›æ¥ï¼‰ä¾‹ï¼šdbcl2=\u0026quot;8888888:AAAAAA\u0026quot;\né…ç½®Nastoolsä¸­çš„è±†ç“£idå’Œcookies æ‰“å¼€nastools ï¼Œå·¦ä¾§ è®¾ç½® è±†ç“£ï¼Œåˆ†åˆ«è¾“å…¥å¯¹åº”çš„id æ•°å­— å’Œä¸Šé¢çš„ dbcl2=\u0026quot;8888888:AAAAAA\u0026quot; å…¶ä»–ä¹Ÿæ ¹æ®éœ€è¦è®¾ç½®ä¸€ä¸‹\nå®‰è£…ä¸‹è½½å·¥å…·qBittorrent æˆ‘è¿™é‡Œç”¨qBittorrent ,å¹¶çœç•¥äº†configç›®å½•çš„æ˜ å°„\n1 2 3 4 5 6 7 8 9 docker run -d \\ --name=bt \\ -e WEBUI_PORT=50808 \\ -p 9821:6881 \\ -p 9821:6881/udp \\ -p 50808:50808 \\ -v /mnt/MediaVodCenter:/downloads \\ --restart unless-stopped \\ linuxserver/qbittorrent é…ç½®qBittorrent è®¿é—®http://10.0.0.1:50808/ webUI è´¦æˆ·ï¼šadmin å¯†ç ï¼šadminadmin\nç‚¹ Tools -\u0026gt; options æ‰“å¼€è®¾ç½®çª—å£ é€‰æ‹© webui è®¾ç½®ç”¨æˆ·å å¯†ç  è¿˜æœ‰ è¯­è¨€ç®€ä½“\né…ç½®Nastoolsçš„ä¸‹è½½å·¥å…· http://10.0.0.1:50300/ è®¾ç½® ä¸‹è½½å™¨ é€‰æ‹© qBittorrent åœ°å€è¾“å…¥ å®¿ä¸»åœ°å€ 10.0.0.1 ç«¯å£ ä¸Šé¢çš„WEBUI_PORT 50808 è¾“å…¥ä¸Šé¢è®¾ç½®çš„ç”¨æˆ·å¯†ç ï¼Œæµ‹è¯•æˆåŠŸ\nå®‰è£…åª’ä½“ä¸­å¿ƒjellyfin 1 2 3 4 5 6 7 8 9 docker run -d \\ --name=jellyfin \\ -p 50096:8096 \\ -p 7359:7359/udp \\ -p 1900:1900/udp \\ -v /mnt/jellyfin_config:/config \\ -v /mnt/MediaVodCenter:/data \\ --restart unless-stopped \\ linuxserver/jellyfin è¿™ä¸ªåœ°æ–¹ éœ€è¦æ³¨æ„ /config ç›®å½•ä¼šåƒç¡¬ç›˜ç©ºé—´ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šé«˜è¾¾å‡ åä¸ªG æ³¨æ„ç»å¸¸æ£€æŸ¥,è¿™ä¸ªæ˜¯æ— æ³•é¿å…çš„\nç¡¬è§£é—®é¢˜ï¼Œç¨åæ™šç‚¹é…ç½®.æˆ‘çš„æ˜¾ç¤ºæ˜¯N2600å¸¦çš„æ ¸æ˜¾GMA3600ï¼Œä¸Šå¤è®¾å¤‡ï¼Œé‚£æ—¶å€™intelå¹¶æœªå¼€æºé©±åŠ¨ï¼Œæ‰€ä»¥ä¹Ÿå°±æ— æ³•ç¡¬è§£ã€‚ç¡¬è§£é—®é¢˜ï¼Œä¹‹åä¼šæŒªåˆ°å¦å¤–ä¸€å°ä¸»æœºä¸Šè¿›è¡Œå¤„ç†ã€‚\né…ç½® jellyfin æ‰“å¼€ http://10.0.0.1:50096/ æŒ‰ç…§æç¤ºè®¾ç½®ï¼Œæ³¨æ„åˆ›å»ºæ–‡ä»¶å¤¹çš„æ—¶å€™ é€‰æ‹©/data\nç„¶å ç‚¹å·¦ä¾§ ä¸‰ä¸ªç‚¹ æ‰“å¼€è®¾ç½® æ§åˆ¶å° é«˜çº§ api ç”Ÿæˆ è®°ä½è¿™ä¸ª api\nå†Nastools é…ç½®jellyfin http://10.0.0.1:50300/ è®¾ç½® åª’ä½“æœåŠ¡å™¨ é€‰æ‹©jellyfin åœ°å€è¾“å…¥ä¸Šé¢ http://10.0.0.1:50096/ apikey è¾“å…¥åˆšåˆšçš„ç”Ÿæˆçš„\næ”¶å·¥ï¼ ç»“å°¾çš„è¯ N2600 æ€§èƒ½å ªå¿§ï¼Œæˆ‘æœ€ç»ˆ è¿˜æ˜¯åˆ‡æ¢åˆ°äº† i7 8ä»£ä¸»æœºä¸Š\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/mediavodcenter/","title":"çº¯dockeræ— ç›˜æ‰“é€ ä¸ªäººåª’ä½“ä¸­å¿ƒ"},{"content":"ä¼˜åŠ¿ï¼šå…å»è‡ªå·±æ­å»ºç¯å¢ƒï¼Œåˆ©ç”¨GitHubçš„å¸¦å®½\næœ¬æ¬¡ä½¿ç”¨ç¯å¤§çš„æº,å¹¶å€Ÿé‰´KFERMercerçš„ci\nhttps://github.com/coolsnowwolf/lede https://github.com/KFERMercer/OpenWrt-CI å¤åˆ¶Fork coolsnowwolfçš„æº Fork Openwrt\nhttps://github.com/coolsnowwolf/lede/fork\nç¼–è¾‘actionæ–‡ä»¶ å¤åˆ¶ https://github.com/KFERMercer/OpenWrt-CI/blob/master/openwrt-ci.yml çš„å†…å®¹ç¼–è¾‘\næ”¾ç½®åˆ°ä½ forkçš„ä»“åº“çš„ .github/workflows/openwrt-ci.yml\nå…¶ä¸­éœ€è¦ä¿®æ”¹çš„ å¯åŠ¨ on: push: branches: - master æ”¹ä¸ºæ‰‹åŠ¨æ‰§è¡Œ\non: workflow_dispatch: è‡ªå®šä¹‰åŒ… æ‰¾åˆ°ä½ éœ€è¦å®‰è£…çš„åŒ…åï¼Œå®˜æ–¹https://openwrt.org/packages/index/start Lean/coolsnowwolf çš„è½¯ä»¶åŒ…å¯ä»¥ä» make defconfig é…ç½®æ–‡ä»¶ .config ä¸­æ‰¾åˆ° æ·»åŠ åŒ…åˆ°openwrt-ci.yml ä¸­ cat \u0026raquo; .config \u0026laquo;EOFåé¢\næ‰‹åŠ¨å¼€å§‹ å…ˆæ›´æ–°ä½ çš„OpenWrtæº-\u0026gt; Fetch upstream -\u0026gt; Fetch Merge\næ‰‹åŠ¨å¼€å§‹ç¼–è¯‘ Action -\u0026gt; OpenWrt-CI -\u0026gt; Run workflow\nå¤§æ¦‚éœ€è¦2-3å°æ—¶ï¼Œç„¶åä¸‹è½½ ï¼Œä¸‹è½½OpenWrt_firmwareå³å¯\nåˆå§‹å†…å®¹ https://github.com/KFERMercer/OpenWrt-CI/blob/master/openwrt-ci.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 # # This is free software, lisence use MIT. # # Copyright (C) 2019 P3TERX \u0026lt;https://p3terx.com\u0026gt; # Copyright (C) 2020 KFERMercer \u0026lt;KFER.Mercer@gmail.com\u0026gt; # # \u0026lt;https://github.com/KFERMercer/OpenWrt-CI\u0026gt; # name: OpenWrt-CI on: push: branches: - master # schedule: # - cron: 0 20 * * * release: types: [published] jobs: build_openwrt: name: Build OpenWrt firmware runs-on: ubuntu-latest if: github.event.repository.owner.id == github.event.sender.id steps: - name: Checkout uses: actions/checkout@v2 with: ref: master - name: Space cleanup env: DEBIAN_FRONTEND: noninteractive run: | docker rmi `docker images -q` sudo rm -rf /usr/share/dotnet /etc/mysql /etc/php /etc/apt/sources.list.d /usr/local/lib/android sudo -E apt-get -y purge azure-cli ghc* zulu* hhvm llvm* firefox google* dotnet* powershell openjdk* adoptopenjdk* mysql* php* mongodb* dotnet* moby* snapd* || true sudo -E apt-get update sudo -E apt-get -y install build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 unzip zlib1g-dev lib32gcc1 libc6-dev-i386 subversion flex uglifyjs gcc-multilib g++-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler antlr3 gperf swig libtinfo5 sudo -E apt-get -y autoremove --purge sudo -E apt-get clean # sudo mkdir -p -m 777 /mnt/openwrt/bin /mnt/openwrt/build_dir/host /mnt/openwrt/build_dir/hostpkg /mnt/openwrt/dl /mnt/openwrt/feeds /mnt/openwrt/staging_dir # ln -s /mnt/openwrt/bin ./bin # mkdir -p ./build_dir # ln -s -f /mnt/openwrt/build_dir/host ./build_dir/host # ln -s -f /mnt/openwrt/build_dir/hostpkg ./build_dir/hostpkg # ln -s /mnt/openwrt/dl ./dl # ln -s /mnt/openwrt/feeds ./feeds # ln -s /mnt/openwrt/staging_dir ./staging_dir df -h - name: Update feeds run: | ./scripts/feeds update -a ./scripts/feeds install -a - name: Generate configuration file run: | rm -f ./.config* touch ./.config # # åœ¨ cat \u0026gt;\u0026gt; .config \u0026lt;\u0026lt;EOF åˆ° EOF ä¹‹é—´ç²˜è´´ä½ çš„ç¼–è¯‘é…ç½®, éœ€æ³¨æ„ç¼©è¿›å…³ç³» # ä¾‹å¦‚: cat \u0026gt;\u0026gt; .config \u0026lt;\u0026lt;EOF CONFIG_TARGET_IMAGES_GZIP=y CONFIG_KERNEL_BUILD_USER=\u0026#34;OpenWrt-CI\u0026#34; CONFIG_KERNEL_BUILD_DOMAIN=\u0026#34;Azure\u0026#34; EOF # # =============================================================== # sed -i \u0026#39;s/^[ \\t]*//g\u0026#39; ./.config make defconfig - name: Make download run: | make download -j8 || make download -j1 V=s rm -rf $(find ./dl/ -size -1024c) df -h - name: Compile firmware run: | make -j$(nproc) || make -j1 V=s echo \u0026#34;=======================\u0026#34; echo \u0026#34;Space usage:\u0026#34; echo \u0026#34;=======================\u0026#34; df -h echo \u0026#34;=======================\u0026#34; du -h ./ --max-depth=1 du -h /mnt/openwrt/ --max-depth=1 || true - name: Prepare artifact run: | mkdir -p ./artifact/firmware mkdir -p ./artifact/package mkdir -p ./artifact/buildinfo rm -rf $(find ./bin/targets/ -type d -name \u0026#34;packages\u0026#34;) cp -rf $(find ./bin/targets/ -type f) ./artifact/firmware/ cp -rf $(find ./bin/packages/ -type f -name \u0026#34;*.ipk\u0026#34;) ./artifact/package/ cp -rf $(find ./bin/targets/ -type f -name \u0026#34;*.buildinfo\u0026#34; -o -name \u0026#34;*.manifest\u0026#34;) ./artifact/buildinfo/ - name: Deliver buildinfo uses: actions/upload-artifact@v2 with: name: OpenWrt_buildinfo path: ./artifact/buildinfo/ - name: Deliver package uses: actions/upload-artifact@v2 with: name: OpenWrt_package path: ./artifact/package/ - name: Deliver firmware uses: actions/upload-artifact@v2 with: name: OpenWrt_firmware path: ./bin/targets/ - name: Upload release asset if: github.event == \u0026#39;release\u0026#39; uses: svenstaro/upload-release-action@v2 with: repo_token: ${{ secrets.YOURTOKEN }} file: ./artifact/firmware/* tag: ${{ github.ref }} file_glob: true ä¸€ä¸ªä¾‹å­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 # # This is free software, lisence use MIT. # # Copyright (C) 2019 P3TERX \u0026lt;https://p3terx.com\u0026gt; # Copyright (C) 2020 KFERMercer \u0026lt;KFER.Mercer@gmail.com\u0026gt; # # \u0026lt;https://github.com/KFERMercer/OpenWrt-CI\u0026gt; # name: OpenWrt-CI on: workflow_dispatch: #push: # branches: # - master # schedule: # - cron: 0 20 * * * release: types: [published] jobs: build_openwrt: name: Build OpenWrt firmware runs-on: ubuntu-latest if: github.event.repository.owner.id == github.event.sender.id steps: - name: Checkout uses: actions/checkout@v2 with: ref: master - name: Space cleanup env: DEBIAN_FRONTEND: noninteractive run: | docker rmi `docker images -q` sudo rm -rf /usr/share/dotnet /etc/mysql /etc/php /etc/apt/sources.list.d /usr/local/lib/android sudo -E apt-get -y purge azure-cli ghc* zulu* hhvm llvm* firefox google* dotnet* powershell openjdk* adoptopenjdk* mysql* php* mongodb* dotnet* moby* snapd* || true sudo -E apt-get update sudo -E apt-get -y install build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 unzip zlib1g-dev lib32gcc1 libc6-dev-i386 subversion flex uglifyjs gcc-multilib g++-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler antlr3 gperf swig libtinfo5 sudo -E apt-get -y autoremove --purge sudo -E apt-get clean # sudo mkdir -p -m 777 /mnt/openwrt/bin /mnt/openwrt/build_dir/host /mnt/openwrt/build_dir/hostpkg /mnt/openwrt/dl /mnt/openwrt/feeds /mnt/openwrt/staging_dir # ln -s /mnt/openwrt/bin ./bin # mkdir -p ./build_dir # ln -s -f /mnt/openwrt/build_dir/host ./build_dir/host # ln -s -f /mnt/openwrt/build_dir/hostpkg ./build_dir/hostpkg # ln -s /mnt/openwrt/dl ./dl # ln -s /mnt/openwrt/feeds ./feeds # ln -s /mnt/openwrt/staging_dir ./staging_dir df -h - name: Update feeds run: | echo \u0026#34;src-git helloworld https://github.com/fw876/helloworld.git\u0026#34; \u0026gt;\u0026gt; \u0026#34;feeds.conf.default\u0026#34; ./scripts/feeds update -a ./scripts/feeds install -a - name: Generate configuration file run: | rm -f ./.config* touch ./.config # # åœ¨ cat \u0026gt;\u0026gt; .config \u0026lt;\u0026lt;EOF åˆ° EOF ä¹‹é—´ç²˜è´´ä½ çš„ç¼–è¯‘é…ç½®, éœ€æ³¨æ„ç¼©è¿›å…³ç³» # ä¾‹å¦‚: cat \u0026gt;\u0026gt; .config \u0026lt;\u0026lt;EOF CONFIG_LUCI_LANG_en=y CONFIG_LUCI_LANG_zh-cn=y CONFIG_PACKAGE_luci-app-baidupcs-web=y CONFIG_PACKAGE_luci-app-cifs-mount=y CONFIG_PACKAGE_luci-app-wireguard=y CONFIG_PACKAGE_luci-app-https-dns-proxy=y CONFIG_PACKAGE_luci-app-netdata=y CONFIG_PACKAGE_luci-app-p910nd=y CONFIG_PACKAGE_luci-app-ssr-plus=y CONFIG_PACKAGE_luci-app-ssr-plus_INCLUDE_Hysteria=y CONFIG_PACKAGE_luci-app-ssr-plus_INCLUDE_IPT2Socks=y CONFIG_PACKAGE_luci-app-ssr-plus_INCLUDE_Trojan=y CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNSFORWARDER=y CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNSPROXY=y CONFIG_PACKAGE_luci-app-uugamebooster=y CONFIG_PACKAGE_luci-app-syncdial=y # CONFIG_PACKAGE_luci-app-unblockmusic is not set # CONFIG_PACKAGE_luci-app-ttyd is not set # CONFIG_PACKAGE_luci-app-xlnetacc is not set CONFIG_PACKAGE_luci-theme-argon=y CONFIG_PACKAGE_luci-theme-bootstrap=y CONFIG_PACKAGE_luci-theme-material=y CONFIG_PACKAGE_luci-theme-netgear=y CONFIG_PACKAGE_ddns-scripts_cloudflare.com-v4=y CONFIG_PACKAGE_ddns-scripts_no-ip_com=y CONFIG_PACKAGE_ddns-scripts_route53-v1=y CONFIG_PACKAGE_bind-dig=y CONFIG_PACKAGE_nano=y CONFIG_PACKAGE_qrencode=y CONFIG_PACKAGE_open-vm-tools=y CONFIG_PACKAGE_whois=y CONFIG_PACKAGE_nmap-ssl=y CONFIG_PACKAGE_ipv6helper=y EOF # # =============================================================== # sed -i \u0026#39;s/^[ \\t]*//g\u0026#39; ./.config make defconfig - name: Make download run: | make download -j8 || make download -j1 V=s rm -rf $(find ./dl/ -size -1024c) df -h - name: Compile firmware run: | make -j$(nproc) || make -j1 V=s echo \u0026#34;=======================\u0026#34; echo \u0026#34;Space usage:\u0026#34; echo \u0026#34;=======================\u0026#34; df -h echo \u0026#34;=======================\u0026#34; du -h ./ --max-depth=1 du -h /mnt/openwrt/ --max-depth=1 || true - name: Prepare artifact run: | mkdir -p ./artifact/firmware mkdir -p ./artifact/package mkdir -p ./artifact/buildinfo rm -rf $(find ./bin/targets/ -type d -name \u0026#34;packages\u0026#34;) cp -rf $(find ./bin/targets/ -type f) ./artifact/firmware/ cp -rf $(find ./bin/packages/ -type f -name \u0026#34;*.ipk\u0026#34;) ./artifact/package/ cp -rf $(find ./bin/targets/ -type f -name \u0026#34;*.buildinfo\u0026#34; -o -name \u0026#34;*.manifest\u0026#34;) ./artifact/buildinfo/ - name: Deliver buildinfo uses: actions/upload-artifact@v2 with: name: OpenWrt_buildinfo path: ./artifact/buildinfo/ - name: Deliver package uses: actions/upload-artifact@v2 with: name: OpenWrt_package path: ./artifact/package/ - name: Deliver firmware uses: actions/upload-artifact@v2 with: name: OpenWrt_firmware path: ./bin/targets/ - name: Upload release asset if: github.event == \u0026#39;release\u0026#39; uses: svenstaro/upload-release-action@v2 with: repo_token: ${{ secrets.YOURTOKEN }} file: ./artifact/firmware/* tag: ${{ github.ref }} file_glob: true æœ¬æ–‡å‚è€ƒï¼šhttps://github.com/P3TERX/Actions-OpenWrt\n","date":"2022-11-26T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/github-to-build/","title":"åˆ©ç”¨githubçš„actions ç¼–è¯‘openwrt"},{"content":"å› ä¸ºopenwrtçš„ç½‘ç»œé—®é¢˜ï¼Œåˆ›å»ºäº†ä¸€ä¸ªhostç½‘ç»œçš„dockerï¼Œè€Œåå·²ç»è§£å†³ï¼Œè¯¦æƒ…æŸ¥çœ‹\nå…¶ä¸­ä¸€ä¸ªdocker æ˜¯ç»™æœ‹å‹ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦æ”¹åŠ¨ä¸€ä¸‹ç½‘ç»œï¼Œå¹¶ä¸”é¡ºå¸¦ é™åˆ¶ä¸€ä¸‹ cpu å†…å­˜ å’Œ ç£ç›˜ç©ºé—´\nç”¨exportå¯¼å‡ºï¼Œé¿å…ä½“ç§¯å¤ªå¤§\ndocker stop alpine-mengzhong docker export -o alpine-mengzhong.tar alpine-mengzhong cat alpine-mengzhong.tar | docker import - my/alpine-mengzhong:v1 åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç½‘ç»œå•ç‹¬ç»™æœ‹å‹ä½¿ç”¨\ndocker network create --subnet=10.0.7.1/24 myfriend # åˆ é™¤å‘½ä»¤ docker network rm friend å¯åŠ¨å®¹å™¨ï¼Œå…¥å£ ä¾æ—§æ˜¯ sh /autoboot.sh\ndocker run -itd --name alpine-mengzhong2 --network=myfriend --ip 10.0.7.2 --privileged=true --restart=always my/alpine-mengzhong:v1 sh /autoboot.sh ä¿®æ”¹é˜²ç«å¢™è§„åˆ™\nnano /etc/config/firewall é‡å¯é˜²ç«å¢™\n/etc/init.d/firewall restart æ‰‹æœº4G é“¾æ¥æµ‹è¯•ï¼Œæ²¡é—®é¢˜\næ§åˆ¶å° è¿›å»çœ‹ä¸€ä¸‹ç½‘å¡ ä¹Ÿæ²¡é—®é¢˜\nå¿˜è®°é™åˆ¶cpuå’Œå†…å­˜è¿˜æœ‰ç¡¬ç›˜\n1 2 docker stop alpine-mengzhong2 docker rm alpine-mengzhong2 å› ä¸ºåˆ†åŒºæ˜¯ext4 æ— æ³•é™åˆ¶ç£ç›˜å®¹é‡ åªæœ‰xfsæ‰å¯ä»¥å“ˆï¼Œåªèƒ½ç»™ä»–é™åˆ¶ä¸€ä¸‹å†…å­˜å’Œcpu\ndocker run -itd --name alpine-mengzhong2 -m 256m --cpus=1 --cpu-shares=500 --network=myfriend --ip 10.0.7.2 --privileged=true --restart=always my/alpine-mengzhong:v1 sh /autoboot.sh ","date":"2022-11-25T22:27:20+08:00","permalink":"https://dev.leiyanhui.com/docker/edit-export-import/","title":"docker ä¿®æ”¹ç½‘ç»œé…ç½® -å¯¼å…¥å¯¼å‡ºæ³•"},{"content":"è¿™ä¸ªå¥½åƒä¹Ÿæ˜¯openwrtçš„é—®é¢˜ã€‚ã€‚\nä¸´æ—¶æ–¹æ³•ï¼Œç”¨hostç½‘ç»œè§£å†³ ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªæ”¯æŒsshdçš„alpine\n1 docker run -i -t -d --name alpine-sshd --network host --privileged=true --restart=always alpine:sshd-autoboot.sh2222 sh /autoboot.sh å½“ç„¶ä¸èƒ½å’Œå®¿ä¸»æœºçš„ç«¯å£å†²çªã€‚ã€‚ã€‚ è¿™ä¸ªé—®é¢˜ä¸ç®—å½»åº•è§£å†³ ,ç”¨hostçš„æ–¹å¼ å¦‚æœå¤šä¸ªå®¹å™¨ä½¿ç”¨åŒæ ·çš„é»˜è®¤ç«¯å£ å°± ggäº†\nå½»åº•è§£å†³ å¦‚æœè¦å½»åº•è§£å†³ï¼Œè¿˜æ˜¯è¦ä¿®æ”¹é˜²ç«å¢™è®¾ç½®\næ‰“å¼€ openwrtçš„ç½‘ç»œè®¾ç½®ï¼ŒLuci\u0026gt;ç½‘ç»œ\u0026gt;é˜²ç«å¢™\u0026gt;Luci\u0026gt;ç½‘ç»œ\u0026gt;é˜²ç«å¢™\u0026gt;è½¬å‘ï¼šæ¥å— ï¼ˆForwardï¼šacceptï¼‰http://**/cgi-bin/luci/admin/network/firewall\nç„¶å shellç™»å½•åˆ°openwrt æ‰§è¡Œå‘½ä»¤\niptables -t nat -A POSTROUTING -s 172.17.0.1/16 ! -o docker0 -j MASQUERADE æ³¨æ„172.17.0.1è¦ä¿®æ”¹æˆçš„ä½ è‡ªå·±çš„dockerçš„æ¡¥æ¥åœ°å€æ®µ\næŸ¥çœ‹æ–¹å¼\n1 2 docker network ls # çœ‹ä¸€ä¸‹ bridge å¯¹çš„é‚£ä¸€ä¸²id docker network inspect 1914ac9dc9c9 | grep Subnet # 1914ac9dc9c9 æ˜¯ä¸Šé¢å¯¹åº”çš„é‚£ä¸€ä¸²id æœ€åéœ€è¦é‡å¯ä¸€ä¸‹docker\n/etc/init.d/dockerd restart è¿›é˜¶ æŠŠdockerä½œä¸ºå†…ç½‘çš„ä¸€å°æœºå™¨ä½¿ç”¨ å› ä¸ºæ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ è¿‡dockerï¼Œç®€å•çœ‹äº†ä¸€ä¸‹æ‰‹å†Œå°±ç”¨äº†å¤šå¹´ï¼Œä¸€ç›´ä¸çŸ¥é“dockerçš„è™šæ‹Ÿç½‘ç»œæ˜¯æ€ä¹ˆç©çš„ï¼Œåœ¨ä¸€æ¬¡ä½¿ç”¨è·¯ç”±å™¨çš„å›½äº§åƒåœ¾å›ºä»¶çˆ±å¿«çš„æ—¶å€™å‘ç°äº†ä»–é»˜è®¤çš„docekrç½‘ç»œæ¨¡å¼ï¼Œç„¶åæ‰å»ç¿»çœ‹æ‰‹å†Œ\nå¯ä»¥å®ç°ï¼Œè‡ªå®šä¹‰dockerçš„ipç«¯ï¼Œ å¹¶å®ç° ç½‘å†…æœºå™¨äº’è”ï¼Œå¹¶å¯ä»¥åœ¨è·¯ç”±ä¸Šç›´æ¥è½¬å‘å¯¹åº”çš„ç«¯å£\ndocker network create --subnet=10.0.100.1/24 mynet # åˆ é™¤å‘½ä»¤ docker network rm mynet docker run -i -t -d --name alpine-188 --network=mynet --ip 10.0.100.188 --privileged=true --restart=always alpine:sshd-autoboot.sh2222 sh /autoboot.sh ","date":"2022-11-25T22:27:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/docker-cant-network/","title":"openwrt çš„dockeræ— æ³•è”ç½‘çš„é—®é¢˜"},{"content":"æœ€è¿‘å·²ç»å…¨éƒ¨æ”¹ä¸ºalist alistæ”¯æŒçš„ç½‘ç›˜æ›´ä¸€äº›ï¼Œè€Œä¸”é»˜è®¤æ”¯æŒwebdavã€‚ç›´æ¥è£…åˆ°è·¯ç”±å™¨ä¸Šäº†ã€‚\nç„¶åè·¯ç”±å™¨å®‰è£…äº†luci-app-rcloneï¼Œè¿è¡Œrclone config --config /etc/rclone/rclone.conf å¤„ç†é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ aliståˆ° http://10.1.1.1:5244/dav é…ç½®å¥½å¸å·å¯†ç \n1 2 3 mkdir /alist rclone mount alist: /alist --allow-other --allow-non-empty --vfs-cache-mode writes --config /etc/rclone/rclone.conf åé¢æ˜¯åŸæ–‡ è¦æƒ³æŒ‚è½½é˜¿é‡Œäº‘ç›˜ï¼Œéœ€è¦å…ˆæŠŠé˜¿é‡Œäº‘ç›˜æŒ‚è½½åˆ°webdav\né˜¿é‡Œäº‘ç›˜çš„å¤„ç† å…ˆæŒ‚è½½é˜¿é‡Œäº‘ç›˜åˆ°webdav openwrt æ’ä»¶æ–¹æ³• è™½ç„¶å®é™…å¾ˆç¨³å®šï¼Œä½†æ˜¯ä¸å»ºè®®ï¼Œèƒ½dockerçš„ä¸è¦åšæ’ä»¶\næ’ä»¶æ–¹å¼ å‚è€ƒ https://dev.leiyanhui.com/openwrt/openwrt-plus/\ndockeræ–¹æ³• docker run -d --name=aliyundrive-webdav --restart=unless-stopped -p 50082:8080 \\ -e REFRESH_TOKEN='48e136dc87ce4d44bf1af9ef8ff3987d' \\ -e WEBDAV_AUTH_USER=77777 \\ -e WEBDAV_AUTH_PASSWORD=88888888 \\ messense/aliyundrive-webdav dockerçš„ç½‘ç»œé—®é¢˜å¤„ç†ï¼Œè¯·æŸ¥çœ‹è¿™é‡Œ https://dev.leiyanhui.com/openwrt/docker-cant-network\nrcloneå®‰è£…å’Œä½¿ç”¨ æ’ä»¶æˆ–è€…ç›´æ¥å®‰è£…æ–¹å¼ æ’ä»¶å®‰è£…æ–¹å¼ å‚è€ƒ https://dev.leiyanhui.com/openwrt/openwrt-plus/\né…ç½® è¿è¡Œrcone config æŒ‰ç…§æç¤ºå…ˆåˆ›å»ºä¸€ä¸ªæŒ‚è½½é…ç½®ï¼Œé€‰æ‹©webdavï¼Œç„¶å è¾“å…¥webdavçš„ç”¨æˆ·åå¯†ç ï¼Œä½¿ç”¨ Nextcloud WebDAV æ¨¡å¼ï¼Œ\næœ€åæ”¾åˆ°openwrtçš„è®¡åˆ’ä»»åŠ¡é‡Œé¢ï¼Œå†™åˆ°å¯åŠ¨å‘½ä»¤é‡Œé¢ ï¼Œæœ‰æ—¶å€™ æ— æ•ˆ\n/mnt/aliyunpan æ˜¯è¦æŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•ï¼Œæå‰mkdir /mnt/aliyunpan\n1 */1 * * * * rclone mount aliyunpan:/ /mnt/aliyunpan --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime dockeræ–¹å¼ã€‚ è¯´å®è¯ æœ‰ç‚¹å¤åˆ¶ï¼Œå› ä¸ºè¦æ“ä½œå®¿ä¸»æœºï¼Œè¿˜è¦é…ç½®ã€‚ä½†æ˜¯ä¸æ˜¯ä¸å¯ä»¥å®ç°ã€‚å®˜ç½‘çš„è§£å†³æ–¹æ³• æ˜¯å®¿ä¸»æœºé…ç½®configæ–‡ä»¶åæ˜ å°„è¿›å» (é—®å·è„¸ï¼Œï¼Œå®¿ä¸»æœºä¸å®‰è£…rcloneæ€ä¹ˆå¼„ä»–é…ç½®æ–‡ä»¶å˜›ã€‚ã€‚ã€‚) å¦å¤–è¿˜æœ‰æƒé™é—®é¢˜ éœ€è¦å¤„ç† è¦ç”¨ç”¨æˆ·ä¿¡æ¯ è¿˜æœ‰fuseçš„å¤„ç†ï¼Œ\nå¦‚æœä½ è¦å¼„çš„è¯ï¼Œä¸åœ¨å®¿ä¸»æœºå®‰è£…rclone å°±éœ€è¦dockerè¿è¡Œå¤šæ¬¡åé‡æ–°æ‰“åŒ…é•œåƒã€‚ æˆ‘è¿™é‡Œå°±ä¸æŠ˜è…¾rclone dockeråŒ–äº†ã€‚ shellå¦‚ä¸‹ï¼Œå®˜ç½‘è¯´æ˜ https://rclone.org/install/\n1 2 3 4 5 6 7 8 9 10 11 mkdir -p ~/data/mount docker run --rm \\ --volume ~/.config/rclone:/config/rclone \\ --volume ~/data:/data:shared \\ --user $(id -u):$(id -g) \\ --volume /etc/passwd:/etc/passwd:ro --volume /etc/group:/etc/group:ro \\ --device /dev/fuse --cap-add SYS_ADMIN --security-opt apparmor:unconfined \\ rclone/rclone \\ mount dropbox:Photos /data/mount \u0026amp; ls ~/data/mount kill %1 æŒ‚è½½å…¶ä»–ç½‘ç›˜ å¦‚æœæ˜¯ google æˆ–è€… OneDriveå›½å¤–ç‰ˆï¼Œéœ€è¦å…¨å±€ç§‘å­¦ä¸Šç½‘ã€‚ å…¶ä»–éƒ½æ²¡å•¥é—®é¢˜ï¼Œä¸ç”¨å¤šè¯´ã€‚\n","date":"2022-11-25T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/rclone/","title":"openwrt /linuxä¸‹ ä½¿ç”¨rcloneæŒ‚è½½ ç½‘ç»œç£ç›˜åˆ°æœ¬åœ°ï¼šé˜¿é‡Œäº‘ç›˜ä¸ºä¾‹"},{"content":"æ’ä»¶å°½é‡dockeråŒ–ï¼Œ1æ˜¯æ›´æ–°æ–¹ä¾¿ 2 æ˜¯å‡ºé—®é¢˜ ä¸ä¼šå½±å“ ä¸»è¦åŠŸèƒ½ã€‚\ndocker å®‰è£… opkg install docker dockerd luci-app-dockerman luci-i18n-dockerman-zh-cn docker å†…å®¹å™¨æ— æ³•è”ç½‘çš„bugå¤„ç† è¿™ä¸ªåº”è¯¥æ˜¯openwrtçš„é»˜è®¤è®¾ç½®é—®é¢˜ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯bug,ç‚¹è¿™é‡ŒæŸ¥çœ‹\ndockeré‡Œé¢è·‘ä¸€ä¸ªæ”¯æŒsshdçš„Linuxç³»ç»Ÿçš„æ–¹æ³• å› ä¸ºdocker ä¸€èˆ¬ä¸å»ºè®®å¤šä¸ªæœåŠ¡åœ¨åŒä¸€ä¸ªå®¹å™¨é‡Œé¢ï¼Œæ‰€ä»¥é»˜è®¤å¹¶æ²¡æœ‰æä¾›ç±»ä¼¼çš„æ–¹æ³•ã€‚ ä½†æ˜¯ä¸å»ºè®®ï¼Œä¸æ˜¯è¯´ä¸å¯ä»¥ã€‚ ç‚¹è¿™é‡ŒæŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥ç”¨æˆ‘æ‰“åŒ…å¥½\ndockeré‡Œé¢è¿è¡Œä¸€ä¸ªæ¡Œé¢ç‰ˆLinuxçš„æ–¹æ³• åŒæ · ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼Œç”šè‡³å¯ä»¥è°ƒç”¨æ˜¾å¡åŠ é€Ÿã€‚ç‚¹è¿™é‡ŒæŸ¥çœ‹\nç½‘ä¸Šæ•™ç¨‹æ²¡æœ‰å‘Šè¯‰ä½ çš„å‡ ä¸ªå‘ é™äºå¤šæ•°openwrtçš„æ–°ç©å®¶éƒ½æ˜¯linuxå°ç™½ï¼Œéš¾å…ä¼šé‡åˆ°å¾ˆå¤šå‘\nopenwrtçš„dockeré»˜è®¤æ— æ³•è®¿é—®å¤–ç½‘çš„å¤„ç† éƒ¨åˆ†å®¹å™¨å†…çš„æ—¶é—´é”™è¯¯ï¼šå¯åŠ¨çš„æ—¶å€™åŠ ç¯å¢ƒå˜é‡ -e TZ=Asia/Shanghai å®¹å™¨è‡ªå®šä¹‰ç½‘æ®µ æœ¬æ–‡æ–‡æœ« DDNS jeessy/ddns-go:latest æ”¯æŒ é˜¿é‡Œ è…¾è®¯ ç™¾åº¦ åä¸º cf ç­‰ å‡ ä¸ªå›½å†…å¸¸ç”¨çš„ï¼Œä½†æ˜¯ä¸æ”¯æŒ 3322 qmcgaw/ddns-updater æ”¯æŒå¾ˆå¤šå›½å†…å›½å¤–çš„ï¼Œä½†æ˜¯è²Œä¼¼ä¹Ÿä¸æ”¯æŒ3322\nä½†æ˜¯ 3322 å¯ä»¥ç›´æ¥ lynx -mime_header -auth=ç”¨æˆ·å:å¯†ç  \u0026ldquo;http://members.3322.net/dyndns/update?system=dyndns\u0026hostname=åŸŸå\u0026rdquo; è¿™æ ·\né˜¿é‡Œäº‘ç›˜webdav messense/aliyundrive-webdav å› ä¸º æ’ä»¶çš„è¿™ä¸ª è¿˜ä¸é”™ï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰dockeråŒ–\n1 2 3 4 5 6 docker run -d --name=aliyundrive-webdav --restart=unless-stopped -p 50082:8080 \\ -v /etc/aliyundrive-webdav/:/etc/aliyundrive-webdav/ \\ -e REFRESH_TOKEN=\u0026#39;\u0026lt;your refresh token\u0026gt;\u0026#39; \\ -e WEBDAV_AUTH_USER=admin \\ -e WEBDAV_AUTH_PASSWORD=admin \\ messense/aliyundrive-webdav ç²¾ç®€ä¸€ä¸‹\n1 2 3 4 5 docker run -d --name=aliyundrive-webdav --restart=unless-stopped -p 50082:8080 \\ -e REFRESH_TOKEN=\u0026#39;tttttttttttttt\u0026#39; \\ -e WEBDAV_AUTH_USER=uuuuuuuuuu \\ -e WEBDAV_AUTH_PASSWORD=ppppppppppppppp \\ messense/aliyundrive-webdav frps å†…ç½‘ç©¿é€æœåŠ¡ç«¯ snowdreamtech/frpc è¿™ä¸ªæš‚æ—¶ç”¨æ’ä»¶ï¼Œæ²¡æœ‰dockeråŒ–ï¼Œæ‡’å¾—å¼„ kms mikolatero/vlmcsd opkg remove luci-app-vlmcsd rm -rf /etc/config/vlmcsd opkg remove vlmcsd docker run -d -p 1688:1688 --restart=always --name=\u0026quot;kms-vlmcsd\u0026quot; -e TZ=Asia/Shanghai mikolatero/vlmcsd æ¿€æ´»æ–¹æ³•ï¼š https://hub.docker.com/r/mikolatero/vlmcsd/\nv2ray mzz2017/v2raya docker run -d --restart=always --privileged \\ --network=host \\ --name v2raya \\ -e TZ=Asia/Shanghai \\ -v /etc/resolv.conf:/etc/resolv.conf \\ mzz2017/v2raya æŒ‚è½½ /etc/resolv.conf æ˜¯ä¸ºäº†å¼€é€æ˜ä»£ç†ï¼Œæˆ‘æµ‹è¯•å‘ç° v2ray é‡Œé¢ ç»å¸¸ä¼šå¯¼è‡´ å…¨å±€æ–­ç½‘ã€‚ã€‚ã€‚æœ‰ç‚¹å‘ æ‰€ä»¥è¿˜æ˜¯docker æ¥è·‘,å¹¶ä¸”è¿˜æ˜¯ä¸ç”¨hostæ¨¡å¼äº† ï¼Œéhostæ¨¡å¼ ä¸å¯ä»¥ä½¿ç”¨é€æ˜æ¨¡å¼çš„å…¨å±€ä»£ç†ï¼Œä½†æ˜¯åŒæ ·ä¸ä¼šå½±å“å±€åŸŸç½‘å†…å…¶ä»–ä¸éœ€è¦ç§‘å­¦å­¦ä¹ çš„ç”¨æˆ·ã€‚\n1 2 3 4 5 6 docker run -d --restart=unless-stopped \\ -p 2017:2017 \\ -p 20170-20173:20170-20173 \\ --name v2raya \\ -e TZ=Asia/Shanghai \\ mzz2017/v2raya æ–‡ä»¶ç®¡ç† filebrowser ä¹Ÿæ˜¯ä¸€ä¸ªç½‘ç›˜å·¥å…·\ndocker run -d \\ --name filebrowser \\ -v /CUSTOM_PATH:/srv \\ -v /PATH_OF_DATABASE/filebrowser.db:/database.db \\ --user $(id -u):$(id -g) \\ -p 8080:80 \\ -e TZ=Asia/Shanghai \\ --restart=unless-stopped \\ filebrowser/filebrowser è®©ä»–å¯ä»¥ç›´æ¥è®¿é—® openwrtçš„æ ¹ç›®å½• ç®€åŒ–ä¸€ä¸‹\ndocker run -d \\ --name filebrowser \\ -v /:/srv \\ --user $(id -u):$(id -g) \\ -p 50088:80 \\ -e TZ=Asia/Shanghai \\ --restart=unless-stopped \\ filebrowser/filebrowser å¦å¤–è¿è¡Œä¸€ä¸ªä½œä¸ºæ­£ç» ç½‘ç›˜ä½¿ç”¨ docker run -d \\ --name filebrowser-netdisk \\ -v /mnt:/srv \\ --user $(id -u):$(id -g) \\ -p 50089:80 \\ -e TZ=Asia/Shanghai \\ --restart=unless-stopped \\ filebrowser/filebrowser ä¸´æ—¶ç”¨æ˜¯å¯ä»¥çš„ï¼Œæ­£ç»ç”¨ï¼Œè¿˜æ˜¯ç”¨nextcloud owncloud ä¹‹ç±»çš„\nå…¨dockeræ­å»ºåª’ä½“ä¸­å¿ƒ æ¯”è¾ƒé•¿ï¼Œç‚¹å‡»æœ¬æ–‡æŸ¥çœ‹ https://dev.leiyanhui.com/docker/mediavodcenter/\ndockeræ­å»º rustdesk ç§æœ‰ä¸­è½¬æœåŠ¡å™¨ ä»¥å‰æœ‰è®°å½• https://dev.leiyanhui.com/docker/rustdesk-server/\n","date":"2022-11-25T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/docker-plus/","title":"openwrt å¸¸ç”¨æ’ä»¶ çš„dockerå¤„ç†"},{"content":"å‡†å¤‡å®‰è£… opkg update è½¯ä»¶åŒ…åç§°é‡Œé¢å­—å¸¦luci éƒ½æ˜¯å¯ä»¥å†openwrtç½‘é¡µç«¯ç®¡ç†çš„ï¼Œå®‰è£…å éƒ½è¦é‡å¯ä¸€æ¬¡openwrtå ç½‘é¡µç«¯æ‰å¯ä»¥æ˜¾ç¤ºå‡ºæ¥ã€‚\nåå­—é‡Œé¢å¸¦ luci-i18n éƒ½æ˜¯ç½‘é¡µç«¯è¯­è¨€åŒ…\nä¸‹é¢å¸¸ç”¨çš„å‘½ä»¤ wget æ˜¯ä¸‹è½½ rm -rf *.ipk æ˜¯åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ ipkæ–‡ä»¶ opkg å‰æ–‡è§£é‡Šè¿‡\nè½¯ä»¶å®‰è£…çš„åŸåˆ™å’Œæ•´ä¸ªç½‘ç»œçš„éƒ¨ç½² å…³äºè·¯ç”±å™¨çš„è½¯ä»¶å’Œæ’ä»¶çš„ä¸€ä¸ªåŸåˆ™ã€‚\nå¦‚æœä½ è·¯ç”±å™¨ç£ç›˜å·¥å…·ä¸æ˜¯ç‰¹ç´§å¼ ï¼Œå°½é‡ç”¨dockerè·‘ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚è¿™æ ·æŸä¸€ä¸ªæ’ä»¶æŒ‚äº†ï¼Œä¹Ÿåªä¼šå½±å“å…¶ä¸­ä¸€ä¸ªæœåŠ¡ã€‚èƒ½ç”¨dockerè·‘çš„ï¼Œå°±ä¸è¦è£…å•ç‹¬çš„æ’ä»¶ã€‚è¿™ä¹Ÿæ˜¯ æˆ‘ä¸€ç›´ä¸æ¨è ä½¿ç”¨ç¬¬ä¸‰æ–¹å›ºä»¶çš„ä¸€ä¸ªåŸå› ã€‚ åŒæ ·ï¼Œèƒ½ç”¨è·¯ç”±è§£å†³çš„ï¼Œå°½é‡ä¸è£…åˆ°ä¸»è·¯ç”±ä¸Šã€‚ all in one æ–¹æ¡ˆï¼Œå› ä¸ºç»å¸¸æŠ˜è…¾ç”šè‡³é‡å¯ï¼Œå°½é‡ä¸è¦æŠŠä¸»è·¯ç”±çš„åŠŸèƒ½å¼„è¿›æ¥ã€‚ x86çš„ä¸»è·¯ç”±ï¼Œè™½ç„¶è¯´ä¸éœ€è¦å¤ªé«˜æ€§èƒ½ï¼Œä½†æ˜¯è¿˜æ˜¯å°½é‡æä¸€ç‚¹ç‚¹ã€‚å“ªæ€•cpuä¸å¥½å‡çº§ï¼Œå†…å­˜å°½å¯èƒ½é«˜ä¸€ç‚¹ã€‚é‚£ä¹ˆåšramdisk éƒ½æ¯”å°çš„äº†ã€‚æˆ‘ä»¬è½¯è·¯ç”±ç”¨çš„éƒ½æ˜¯å¤è‘£çº§çš„å¹³å°ï¼Œå†…å­˜åˆä¸å€¼é’±ã€‚ ä¸»è·¯ç”±å™¨ä¸Š å°½é‡ä¸æŠ˜è…¾è™šæ‹Ÿæœºï¼Œèƒ½ç”¨dockerçš„ä¸è¦ç”¨è™šæ‹Ÿæœºã€‚æ‰€ä»¥æ˜¯å¦æ”¯æŒè™šæ‹ŸåŒ–çœŸçš„ä¸é‡è¦ï¼Œæœ‰é‚£ä¸ªé’±ï¼Œä¸å¦‚åŠ ç‚¹å†…å­˜å’Œssd æ¢ä¸€ä¸ªå¥½ç‚¹çš„ç”µæºã€‚çœä¸‹é’±ï¼Œä»¥åè¹²ä¸‡å…†æœºå™¨å¤šå¥½ã€‚é™¤éä½ æœºå™¨æ€§èƒ½çœŸçš„å¯ä»¥ï¼Œè€Œä¸”è¿˜çœŸçš„éœ€è¦è·‘ä¸€ä¸ªwinã€‚ã€‚å¦å¤–dockeré‡Œé¢å¯ä»¥å¥—kvmçš„ æ€§èƒ½ä¹Ÿæ²¡å•¥æŸè€—ï¼Œè‡ªå·±æ…¢æ…¢ç ”ç©¶ åé¢è¿™äº›è½¯ä»¶ï¼Œéƒ½æ˜¯æˆ‘å¤šå¹´ä½¿ç”¨å¯ä»¥ç¨³å®šè¿è¡Œ ä¸ä¼šå½±å“ä¸»è·¯ç”±å™¨ï¼Œä¹Ÿä¸å‡ºç°ä¹±ä¸ƒå…«ç³Ÿå¹ºè›¾å­çš„è½¯ä»¶ï¼Œæ‰€ä»¥æˆ‘æš‚æ—¶ç›´æ¥å®‰è£…ï¼Œå…ˆè·‘èµ·æ¥ï¼Œåç»­æ…¢æ…¢æŒªåˆ°docker\ndockerå®¹å™¨ opkg install docker dockerd luci-app-dockerman luci-i18n-dockerman-zh-cn frps å†…ç½‘ç©¿é€æœåŠ¡ç«¯ ä½ è¦è£…å®¢æˆ·ç«¯ å°±æ˜¯ frpcäº†ï¼Œåœ¨openwrt çš„softwareé‡Œé¢ ç½‘é¡µç«¯æœç´¢ frpc å®‰è£…å¯¹åº”åç§°çš„ä¸‰ä¸ªåŒ… å°±okäº†\nopkg install frps luci-app-frps luci-i18n-frps-zh-cn é˜¿é‡Œäº‘ç›˜webdav æˆ‘è¿™é‡Œwgetå‘½ä»¤åé¢å¤šäº†https://ghproxy.com/ è¿™ä¸ªåœ°å€ï¼Œæ˜¯ä¸ºäº†ç»™githubåŠ é€Ÿçš„ï¼Œç›®å‰æœ€æ–°ç‰ˆæ˜¯1.10.3-1,å¦‚æœä½ çœ‹åˆ°è¿™ä¸ªæ–‡ç« å¾ˆä¹…äº†ï¼Œé‚£ä¹ˆå°±å» https://github.com/messense/aliyundrive-webdav/ ä½œè€…ä¸»é¡µçœ‹çœ‹å“¦ï¼Œreleasesé‡Œé¢ æ‰¾æœ€æ–°ç‰ˆ ç„¶å show all å°±å¯ä»¥çœ‹åˆ° ipkçš„æ–‡ä»¶äº†ï¼Œå³é”®å¤åˆ¶é“¾æ¥å°±å¥½\nwget https://ghproxy.com/https://github.com/messense/aliyundrive-webdav/releases/download/v1.10.3/aliyundrive-webdav_1.10.3-1_x86_64.ipk wget https://ghproxy.com/https://github.com/messense/aliyundrive-webdav/releases/download/v1.10.3/luci-app-aliyundrive-webdav_1.10.3_all.ipk wget https://ghproxy.com/https://github.com/messense/aliyundrive-webdav/releases/download/v1.10.3/luci-i18n-aliyundrive-webdav-zh-cn_1.10.3-1_all.ipk opkg install aliyundrive-webdav_1.10.3-1_x86_64.ipk opkg install luci-app-aliyundrive-webdav_1.10.3_all.ipk opkg install luci-i18n-aliyundrive-webdav-zh-cn_1.10.3-1_all.ipk rm -rf *.ipk #æ¸…ç† kms é‚£ä¸ªå•¥å•¥å•¥ä½ æ‡‚å°±å¥½ wget https://op.supes.top/packages/x86_64/vlmcsd_svn1113-19_x86_64.ipk wget https://op.supes.top/packages/x86_64/luci-app-vlmcsd_git-23.326.49742-f588991_all.ipk opkg install vlmcsd_svn1113-19_x86_64.ipk opkg install luci-app-vlmcsd_git-23.326.49742-f588991_all.ipk rm -rf *.ipk #æ¸…ç† v2raya é‚£ä¸ªå•¥å•¥å•¥ä½ æ‡‚å°±å¥½ opkg install v2raya wget https://op.supes.top/packages/x86_64/luci-app-v2raya_git-23.326.49742-f588991_all.ipk opkg install luci-app-v2raya_git-23.326.49742-f588991_all.ipk rm -rf *.ipk #æ¸…ç† ddns åŠ¨æ€dns opkg install luci-app-ddns opkg install luci-i18n-ddns-zh-cn doh dns over https è¿™ä¸ªå®‰è£…é…ç½®å®Œæˆåï¼Œéœ€è¦å†æ¬¡é‡å¯ä¸€æ¬¡ æ‰å¯ä»¥ç”Ÿæ•ˆ\nopkg install https-dns-proxy luci-app-https-dns-proxy luci-i18n-https-dns-proxy-zh-cn ping whoami.akamai.net # æµ‹è¯•doh rclone opkg install rclone wget https://op.supes.top/packages/x86_64/luci-app-rclone_git-23.298.65872-3ec93ac_all.ipk opkg install luci-app-rclone_git-23.298.65872-3ec93ac_all.ipk #ä¾èµ– rclone rclone-config rclone-webui-react rclone-ng. luci-app-rclone rclone é…ç½® æµ‹è¯•äº†ä¸€ä¸‹ rclone-webui-react rclone-ng è«åå…¶å¦™çš„ä¸€å †é”™è¯¯ï¼Œæ‡’å¾—å¤„ç†ï¼Œè¿˜æ˜¯ç›´æ¥å‘½ä»¤è¡Œæ¥æ\nrclone config å¦‚æœè¦æŒ‚è½½aliäº‘ç›˜çš„è¯ åœ¨ aliyundrive-webdav è¦å‹¾é€‰ ç¦ç”¨é‡å®šå‘ ä¹Ÿå°±æ˜¯ \u0026ndash;no-redirec å‚æ•°ï¼Œ åé¢ä¹Ÿæ˜¯ä»¥é˜¿é‡Œäº‘ç›˜ä¸ºä¾‹å­ è·¯å¾„çš„å†™æ³• ä¸º rcloneé…ç½®åç§°:/è¿œç¨‹è·¯å¾„ /æœ¬åœ°è·¯å¾„\nmkdir /mnt/aliyunpan rclone mount aliyunpan:/ /mnt/aliyunpan --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime æµ‹è¯•æ²¡é—®é¢˜é—®é¢˜åï¼ŒæŠŠè¿™ä¸ªå‘½ä»¤ æ”¾åˆ° è®¡åˆ’ä»»åŠ¡ cron é‡Œé¢ æˆ–è€… åé¢åŠ  \u0026amp;å†™åˆ° openwrtçš„å¼€æœºå¯åŠ¨\n","date":"2022-11-25T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/openwrt-plus/","title":"openwrt å¸¸ç”¨æ’ä»¶å®‰è£…"},{"content":"ä»Šå¤©ç¬¬ä¸€æ¬¡å¼„x86çš„openwrtï¼Œé‡åˆ°åˆ†åŒºæ‰©å®¹çš„ä¸€ä¸ªå‘ã€‚ç½‘ä¸Šå¤ªå¤šå¤ªå¤šçš„èµ„æ–™ éƒ½æ˜¯å‘ã€‚\nåŸå› æ˜¯åŸç‰ˆçš„openwrt æœ‰ä¸€ä¸ªæŒ‚è½½çš„è¦†ç›–çš„bugï¼Œå¤šæ•°å›ºä»¶å¹¶æœªè§£å†³ã€‚æˆ‘ä¸€å¼€å§‹ç”¨squashfsçš„å›ºä»¶ï¼Œéƒ½æ²¡æœ‰æå®šï¼Œæœ€åæ¢åˆ°ext4 è§£å†³ã€‚å‰åæŠ˜è…¾2ä¸ªå¤šå°æ—¶ã€‚ å…·ä½“å¯ä»¥å‚è€ƒï¼šhttps://github.com/openwrt/openwrt/issues/7352\nç„¶åä¸‹åˆåœ¨ç¾¤é‡Œï¼Œå‘ç°æœ‰äººæ‰‹æŠŠæ‰‹æ•™åˆ«äººå¼„ï¼Œæœ€åè¿˜æ˜¯å‡ºç°å’Œæˆ‘ä¸€æ ·çš„é—®é¢˜ã€‚\ndf -h æŸ¥çœ‹å®¹é‡æ­£å¸¸ï¼Œä½†æ˜¯ç½‘é¡µç«¯ softwareæŸ¥çœ‹å®¹é‡ å¹¶æ²¡æœ‰å¢åŠ ã€‚è£…è½¯ä»¶ä¹Ÿä¼šæç¤ºå®¹é‡ä¸è¶³\næˆ‘çš„è§£å†³åŠæ³• å°±æ˜¯ç”¨ext4æ¨¡å¼å®‰è£…ï¼Œæˆ‘ç”¨çš„å®˜ç½‘çš„ext4å›ºä»¶ã€‚å› ä¸ºæˆ‘è®¾å¤‡æ˜¯x86 å¹¶ä¸”æ²¡æœ‰å¾ˆç‰¹æ®Šçš„ç¡¬ä»¶ï¼Œå®˜ç½‘å›ºä»¶éƒ½æ˜¯å¯ä»¥é©±åŠ¨çš„ï¼ˆN2600æ˜¾å¡é™¤å¤–ï¼Œéefiæ¨¡å¼å¯åŠ¨é»‘å±ï¼‰\nå¦‚æœä½ ä¹Ÿå’Œæˆ‘ä¸€æ · æ˜¯x86çš„è·¯ç”±ï¼Œé‚£ä¹ˆå¼ºçƒˆå»ºè®®ä½ ç”¨æœ€ç²¾ç®€çš„å®˜ç½‘å›ºä»¶,åŸå› \nç¬¬ä¸‰æ–¹å›ºä»¶ï¼Œä¸å®‰å…¨ï¼Œè™½ç„¶è¯´éƒ½å·ç§°æ²¡æœ‰åé—¨ï¼Œä½†æ˜¯ä½ æœ‰æ—¶é—´å’Œç²¾åŠ› æˆ–è€…æœ‰èƒ½åŠ›å»æŸ¥æ‰¾åé—¨å˜›ï¼Ÿ é‰´äºopenwrtè¿™ä¸ªåœˆå­çš„ç‰¹æ®Šæ€§ï¼Œä¸å…¶ç›¸ä¿¡ç¬¬ä¸‰æ–¹å›ºä»¶ä½œè€…æ˜¯ç”¨çˆ±å‘ç”µï¼Œæˆ‘æ›´å¤šç›¸ä¿¡ä»–æ˜¯ä¸€ä¸ªåŠåŠå­èœé¸Ÿä¸€æ—¶çš„çƒ­å¿± ä½†openwrtåœˆå†…ä¹Ÿç¡®å®æœ‰ä¸€äº› å®Œå…¨å¼€æºç”šè‡³ç¼–è¯‘è¿‡ç¨‹éƒ½å¼€æºçš„ç¬¬ä¸‰æ–¹å›ºä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»ç”„åˆ«ï¼Œæ›´æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å’Œç»å† å»æŠ˜è…¾è¯•ç”¨ openwrt æ˜¯ä¸€ä¸ªå®Œæ•´çš„linuxç³»ç»Ÿï¼Œå®˜ç½‘å›ºä»¶åªè¦èƒ½å¼€æœºï¼Œèƒ½è¯†åˆ«ä½ çš„æœ‰çº¿ç½‘å¡ï¼Œæˆ–è€…usbå£ï¼Œå“ªæ€•åªèƒ½è¯†åˆ«æ˜¾ç¤ºå±ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„éƒ½å¯ä»¥è§£å†³ openwrt æœ¬èº«æ˜¯ä¸€ä¸ªå¾ˆå¼ºå£® ç¨³å®šé«˜æ€§èƒ½çš„ è·¯ç”±å™¨ç³»ç»Ÿï¼Œæ‰€æœ‰çš„é—®é¢˜ éƒ½å‡ºåœ¨ç¬¬ä¸‰æ–¹å›ºä»¶ä½œè€…å’Œ ç¬¬ä¸‰æ–¹æ’ä»¶ä¸Šï¼ï¼ï¼çœ‹çœ‹é‚£äº›ç¬¬ä¸‰æ–¹å›ºä»¶ä½œè€…çš„å£°æ˜ ç¬¬ä¸‰æ–¹ä½œè€…çš„æ°´å¹³å±‚æ¬¡ä¸é½ï¼Œç”šè‡³è®ºå›ä¸Šä¸‹è½½è¿‡ä¸‡çš„å›ºä»¶ å“ªæ€•ä»–æœ€ç²¾ç®€çš„ç‰ˆæœ¬bugå¤šåˆ°éƒ½æ— æ³•å®Œæˆæœ€åŸºæœ¬çš„è·¯ç”±åŠŸèƒ½ï¼ å½“ç„¶ï¼Œå¦‚æœä½ ç½‘å¡ä¸è¯†åˆ«ï¼Œå¹¶ä¸”è¿˜æ˜¯linuxå°ç™½ï¼Œåˆä¸æƒ³å­¦ä¹ ï¼Œé‚£ä¹ˆå°±å†’é™©è¯•ç”¨ç¬¬ä¸‰æ–¹ï¼Œæˆ–è€…ä»˜è´¹æ‰¾äººç¼–è¯‘å§ã€‚èƒ½ç”¨é’±å’Œå®‰å…¨è§£å†³çš„ é—®é¢˜ï¼Œéƒ½ä¸æ˜¯é—®é¢˜ å“ˆå“ˆã€‚ å¦‚æœæœ‰æ—¶é—´åˆèƒ½åŠ›å»ç¼–è¯‘è‡ªå®šä¹‰å›ºä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ç« å’Œè¿™ä¸ªè§‚ç‚¹ä¹Ÿä¸é€‚åˆä½ ï¼Œè‡ªå·±å¿½ç•¥å°±å¥½äº†ã€‚ ä»Šå¤©ç¾¤é‡Œè¿˜æœ‰äººé—® å®˜ç½‘åœ°å€ã€‚ã€‚ã€‚ www.openwrt.org\nä¸‹è½½å®˜ç½‘ç¨³å®šç‰ˆå›ºä»¶ ä¸‹è½½åœ°å€ï¼š https://archive.openwrt.org/releases/ é€‰æ‹©ç‰ˆæœ¬ å†é€‰æ‹© cpuå¹³å° å°±å¯ä»¥äº†ã€‚æˆ‘è¿™é‡Œæ˜¯x86 64ä½çš„ cpuï¼Œæ‰€ä»¥ ä¾æ¬¡ç‚¹å‡» 22.03.2 -\u0026gt; targets -\u0026gt; x86 -\u0026gt; 64 ï¼Œç„¶åé€‰æ‹© generic-ext4-combined.img.gz è¿™ä¸ªext4åˆ†åŒºçš„\nå¦‚æœä½ æœºå™¨åªæ”¯æŒefiå¯åŠ¨ä¸æ”¯æŒä¼ ç»Ÿboiså¯åŠ¨ï¼Œé‚£å°±é€‰generic-ext4-combined-efi.img.gzï¼Œå¦‚æœåŒæ—¶æ”¯æŒï¼Œé‚£ä¹ˆè¿˜æ˜¯å»ºè®®æ— è„‘é€‰è¿™ä¸ªã€‚å¦‚æœä½ æƒ…å†µç‰¹æ®Šéè¦ç”¨efi é‚£å°±é€‰æ‹© generic-ext4-combined-efi.img.gz è¿™ä¸ª\nå¾ˆå¤šç¬¬ä¸‰æ–¹å›ºä»¶æ˜¯ squashfs-combined çš„ï¼Œå¦‚æœåˆ¶ä½œè€…æ²¡æœ‰å¤„ç†overlayçš„bugï¼Œé‚£ä¹ˆè‚¯å®šä¼šé‡åˆ°æŒ‚è½½é—®é¢˜ï¼Œç½‘ä¸Šæœ‰èµ„æ–™è¯´å¯ä»¥é€šè¿‡åˆ é™¤/etc ç›®å½•çš„æ–¹æ³•æ¥è§£å†³ï¼Œä½†æ˜¯æˆ‘è¯•è¿‡ä¹Ÿä¸è¡Œã€‚\nè¿˜æœ‰ç¾¤å‹è¯´çœ‹ä¸æ‡‚è‹±æ–‡çš„å®˜ç½‘ã€‚ã€‚é‚£ä¹ˆä½ å°±ç›´æ¥ç‚¹æˆ‘ä¸‹é¢åœ°å€ä¸‹è½½å¥½äº†\næˆ‘æœ€ç»ˆé€‰ä¸­çš„å›ºä»¶æ˜¯æˆªè‡³ç›®å‰æœ€æ–°çš„ç¨³å®šç‰ˆï¼šhttps://archive.openwrt.org/releases/22.03.2/targets/x86/64/openwrt-22.03.2-x86-64-generic-ext4-combined.img.gz\nä¸‹è½½å è§£å‹ï¼Œä¸ä¼šè§£å‹æˆ–è€…ä½ çš„è§£å‹å·¥å…·å‡ºé”™ï¼Œé‚£ä¹ˆå°±ç›´æ¥ç”¨ winrar è§£å‹ä»–ã€‚ è§£å‹åæ˜¯ä¸€ä¸ªimgæ–‡ä»¶\nåˆ·å…¥ç¡¬ç›˜ å¦‚æœä½ åŸæ¥æ˜¯squashfs é‚£ä¹ˆæ˜¯æ— æ³•ä»opçš„ç½‘é¡µåå°å‡çº§åˆ·å…¥ext4çš„å›ºä»¶çš„ï¼Œéœ€è¦é‡æ–°ç¡¬åˆ·ã€‚\nä¸€èˆ¬å»ºè®® æ˜¯ å§ä¸Šé¢çš„openwrt-22.03.2-x86-64-generic-ext4-combined.img.gz è§£å‹åï¼Œä»winpeä¸‹ï¼Œæˆ–è€…linux liveä¸‹ æˆ–è€…å¹²è„†æŠŠ ç¡¬ç›˜æŒ‚åˆ°å¦å¤–ä¸€ä¸ªç”µè„‘ï¼Œç”¨balenaEtcher æˆ–DDå‘½ä»¤ç­‰ å†™ç›˜å·¥å…·å†™å…¥åˆ°å¯¹åº”çš„ç£ç›˜\nè¿™ä¸ªç»å¸¸æŠ˜è…¾ç³»ç»Ÿçš„ï¼Œéƒ½ä¼šï¼Œå°±ä¸ç”¨ç»†è¯´äº†ã€‚ ä¸ä¼šåˆ·çš„ï¼Œå°±è‡ªå·±æœä¸€ä¸‹balenaEtcher çš„æ•™ç¨‹ï¼ŒåŸºæœ¬å°±æ˜¯ é€‰æ‹©ç£ç›˜æ–‡ä»¶*.img é€‰æ‹©ç£ç›˜ï¼Œå†™å…¥ ç­‰å¾…å†™å…¥ ç­‰å¾…æ ¡éªŒ ï¼Œå°±å®Œäº‹äº†ã€‚\nä»€ä¹ˆéƒ½ä¸è¦åŠ¨ ç›´æ¥å»å¼€æœº ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ï¼Œç”šè‡³æ˜¯éƒ½ä¸€ä¸ªæ–‡ç« æŠ„å‡ºæ¥çš„ï¼Œè¯´è®©ä½  åœ¨diskgenä¸‹è°ƒæ•´åˆ†åŒºï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆä¸é è°±ï¼Œä¸”ä¸è¯´ diskgenå¯¹linuxçš„åˆ†åŒºæ”¯æŒä¸å¥½ï¼Œä½ å¯èƒ½å‹æ ¹æ“ä½œä¸äº†ï¼Œå†è¯´ï¼Œdiskgenå¯èƒ½ä¼šç ´åUUIDæˆ–è€…åˆ†åŒºè¡¨å…¼å®¹æ€§ï¼Œä¼šå¯¼è‡´ fstabå’Œgurbå‡ºé”™ã€‚å¯¼è‡´ä½ çš„openwrt å‹æ ¹å¯åŠ¨ä¸èµ·æ¥\nlinuxä¸‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½ å°½é‡å°‘ç”¨winä¸‹çš„è½¯ä»¶å»é¼“æ£ã€‚ç¬¬ä¸‰æ–¹çš„è¿™äº›å•†ä¸šåŒ–è½¯ä»¶ ï¼ŒçœŸçš„ä¸é è°±ã€‚\næ‰€ä»¥ å¦‚æœä½ è°ƒæ•´ä¸äº† æˆ– è°ƒæ•´åå¯åŠ¨ä¸èµ·æ¥ é‚£ä¹ˆæ˜¯æ­£å¸¸çš„ã€‚ ä¸è¦ç”¨diskgenè°ƒæ•´åˆ†åŒºï¼ï¼ï¼ ä¸è¦ç”¨diskgenè°ƒæ•´åˆ†åŒºï¼ï¼ï¼ä¸è¦ç”¨diskgenè°ƒæ•´åˆ†åŒºï¼ï¼ï¼\nå¯åŠ¨openwrt ç”µè„‘æ¥å…¥openwrtï¼Œå¯ä»¥ç½‘çº¿ç›´æ¥æ’ä¸Šï¼Œä¹Ÿå¯ä»¥æ¥å…¥ä¸‹å±apè®¾å¤‡çš„wifiã€‚è‡ªåŠ¨è·å–ipï¼Œè·å–åˆ° 192.168.1.XXçš„å°±å¯¹äº†ã€‚ å®˜ç½‘ç‰ˆæœ¬é»˜è®¤ç½‘é¡µåœ°å€æ˜¯ï¼š http://192.168.1.1 ç”¨æˆ·å root å¯†ç  ç©ºçš„\nè¿›å…¥åï¼Œå…ˆæ‹¨å· è”ç½‘ï¼Œå®˜ç½‘ç‰ˆæœ¬å…¨è‹±æ–‡ç•Œé¢ ï¼Œçœ‹ä¸æ‡‚ è‡ªå·±æ‰‹æœºç¿»è¯‘\nç‚¹å‡» NetWork \u0026gt; Interfaces\nç¼–è¾‘ edit wanå£ï¼Œæ¥å…¥æ–¹å¼ é»˜è®¤æ˜¯dhcp åˆ‡æ¢åˆ° pppoe ä¼šæç¤ºä¸€æ¬¡ç¡®è®¤åˆ‡æ¢ï¼Œç„¶åè¾“å…¥ å®½å¸¦ç”¨æˆ·å¯†ç ï¼Œä¿å­˜ åº”ç”¨ä¿å­˜(aplay save)\næˆ–è€…å¹²è„†ç›´æ¥æ¥åˆ° ä½ ç°åœ¨çš„è·¯ç”±ä¸‹dhcpè‡ªåŠ¨è·å–ipï¼Œç„¶ååœ¨ç°åœ¨çš„è·¯ç”±å™¨ çš„dhcpåˆ—è¡¨é‡Œé¢æ‰¾åˆ°ä»–çš„ipç„¶åç”¨å¯¹åº”çš„ip æ‰“å¼€ç½‘é¡µ ä»¥åŠç™»å½•shell æ­£å¸¸å°±å¯ä»¥æ‹¨å·æˆåŠŸäº†ã€‚\nshellç™»å½•openwrt å¦‚æœç”¨putty æˆ–è€… å…¶ä»–å·¥å…·æ¯”å¦‚MobaXterm fineshell ç­‰ç­‰ï¼Œç”šè‡³ win10ä»¥ä¸Šç”µè„‘çš„cmdéƒ½å¯ä»¥ã€‚è¿™é‡Œä»¥ç®€å•çš„cmdå‘½ä»¤å¥½ä¸ºä¾‹,win10ã€win11 ä¸‹ win+R å¿«æ·é”®ï¼Œè¿è¡Œ cmd åœ¨ cmd çª—å£è¾“å…¥ æ‰§è¡Œ ssh root@192.168.1.1 ç¬¬ä¸€æ¬¡ç™»å½• ä¼šå¤„ç†keyçš„é—®é¢˜ï¼Œè¾“å…¥yes ç¡®è®¤ï¼Œ å› ä¸ºç°åœ¨å¯†ç æ˜¯ç©ºçš„ä¸ç”¨è¾“å…¥å¯†ç  å°±å¯ä»¥äº†ç™»å½•äº†ã€‚\nå¦‚æœæœ‰æç¤ºknown_hostsçš„é”™è¯¯ï¼Œæ‰“å¼€ C:\\Users\\ä½ çš„ç”¨æˆ·å\\.ssh è¿™ä¸ªéšè—æ–‡ä»¶å¤¹ï¼Œåˆ é™¤ known_hosts æ–‡ä»¶ï¼Œæˆ–è€…è®°äº‹æœ¬æ‰“å¼€ç¼–è¾‘ä¸€ä¸‹åˆ é™¤å¯¹åº”çš„è¡Œã€‚\nåé¢å¤šæ•°æ“ä½œéƒ½æ˜¯åŸºäºshellä¸‹çš„openwrt ã€‚è™½ç„¶å¾ˆå¤šæ“ä½œæ˜¯å¯ä»¥åœ¨ç½‘é¡µç«¯å®Œæˆçš„ï¼Œåªæ˜¯ç‚¹æ¥ç‚¹å»éº»çƒ¦\nå‡†å¤‡å®‰è£…è½¯ä»¶ ä¿®æ”¹å›½å†…æºï¼ˆæ­¤æ­¥éª¤å¯ä»¥çœç•¥ï¼‰ ä»¥ä¿®æ”¹æ¸…åæºä¸ºä¾‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤sedæ­£åˆ™æ›¿æ¢downloads.openwrt.orgä¸ºæ¸…åæºçš„åœ°å€ï¼Œå¦‚æœä½ ç”¨å…¶ä»–æº æ‰¾ä¸€ä¸‹å®˜ç½‘å¸®åŠ©ï¼Œä¿®æ”¹ä¸‹é¢çš„å‘½ä»¤å°±å¥½\nsed -i 's_downloads.openwrt.org_mirrors.tuna.tsinghua.edu.cn/openwrt_' /etc/opkg/distfeeds.conf æˆ–è€…ä½ ç”¨vim /etc/opkg/distfeeds.conf æ‰‹åŠ¨ç¼–è¾‘ä¹Ÿè¡Œã€‚ æ‰§è¡Œå®Œæˆåæ›´æ–°ä¸€æ¬¡æœ¬åœ°listï¼Œè®°å¾—openwrtæ¯æ¬¡é‡å¯åï¼Œå¦‚æœè¦å®‰è£…è½¯ä»¶ï¼Œéƒ½éœ€è¦åœ¨ç½‘é¡µç«¯æ›´æ–°ä¸€æ¬¡list æˆ–è€… shellæ‰§è¡Œä¸‹é¢å‘½ä»¤ã€‚è¿™ä¸ªæ˜¯openwrtçš„æœºåˆ¶ï¼Œä»–æŠŠæºçš„æ•°æ®æ”¾å†…å­˜å»äº†ã€‚é‡å¯å°±å°±æ²¡æœ‰äº†ã€‚\nopkg update å®‰è£…å¸¸ç”¨çš„ç£ç›˜å·¥å…· opçš„å®˜ç½‘ç‰ˆæœ¬ æåº¦ç²¾ç®€ï¼Œç²¾ç®€åˆ°åªæœ‰æ ¸å¿ƒçš„åŸºæœ¬åŠŸèƒ½ï¼Œæ‰€ä»¥å¤šæ•°å·¥å…·éœ€è¦è‡ªå·±è£…ã€‚ç”¨è¿‡opwnwrtçš„éƒ½çŸ¥é“ ï¼Œçº¦å°‘çš„åŠŸèƒ½å’Œæ’ä»¶ï¼Œæ‰è¶Šç¨³å®šã€‚å¾ˆå¤šå›½å†…ç¬¬ä¸‰æ–¹å›ºä»¶ï¼Œç²¾ç®€ç‰ˆï¼Œè¿˜è¦æ”¶è´¹ã€‚ã€‚ã€‚çœŸçš„ æ˜¯å‘å°ç™½ã€‚ã€‚ã€‚\nopkg install block-mount fdisk cfdisk lsblk è§£é‡Šä¸‹opkg æ˜¯openwrtçš„åŒ…ç®¡ç†å·¥å…·çš„å®‰è£…,åŒå…¶ä»–linuxå‘è¡Œç‰ˆçš„ apk apt yum pacman ç­‰å‘½ä»¤ä¸€æ ·é“ç† ï¼Œä½ å¯ä»¥ç†è§£æˆ Windowsçš„ exe msi setupç­‰å¯ä»¥ç›´æ¥åŒå‡»å®‰è£…çš„å®‰è£…åŒ…\nå®‰è£…ï¼šopkg install åœ¨çº¿è½¯ä»¶åŒ…åç§°æˆ–è€…æœ¬åœ°è·¯å¾„ å¸è½½:å…ˆæŸ¥çœ‹opkg list_installed ç„¶åå¸è½½opkg remove è½¯ä»¶åŒ…åï¼ˆä¸Šä¸€æ­¥æ‰¾åˆ°çš„åç§°ï¼‰\nblock-mount æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨openwrtç½‘é¡µç«¯ æ“ä½œæŒ‚è½½ç‚¹çš„å·¥å…·ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ çš„openwrtèœå• ç³»ç»Ÿä¸‹ æ²¡æœ‰æŒ‚è½½ç‚¹è¿™ä¸ªæŒ‰é’®çš„åŸå›  å°±æ˜¯ç¼ºå°‘è¿™ä¸ªåŒ… fdisk ç£ç›˜åˆ†åŒºå·¥å…·ç®¡ç† åŒWindowsä¸‹çš„fdisk ä¸€æ ·çš„ cfdisk å‘½ä»¤è¡Œå¯è§†åŒ–çš„ç£ç›˜åˆ†åŒºå·¥å…·ï¼Œä½ å¯ä»¥ç†è§£ä¸º è¿™å°±æ˜¯ä¸€ä¸ªç®€åŒ–çš„linuxç‰ˆæœ¬ diskgenï¼Œæˆ–è€…fdiskçš„æ˜“ç”¨æ€§å·¥å…· lsblk ç£ç›˜åˆ†åŒºå’ŒæŒ‚è½½ç‚¹çš„ä¸€ä¸ªæŸ¥çœ‹å·¥å…· ä¸Šé¢çš„ cfdisk lsblk ç”šè‡³block-mount éƒ½ä¸æ˜¯å¿…é¡»è½¯ä»¶ï¼Œä½†æ˜¯ä¸ºäº†ç®€å•ä½¿ç”¨ï¼Œè¿˜æ˜¯å»ºè®®ä½ å‚è€ƒæˆ‘æ•™ç¨‹ éƒ½è£…ä¸Šï¼Œè¿™äº›è½¯ä»¶ä¹Ÿéƒ½å¾ˆå°\nblock-mount å®‰è£…å®Œæˆå éœ€è¦é‡å¯ä¸€ä¸‹ openwrt ï¼Œæ‰å¯ä»¥åœ¨ç½‘é¡µç«¯çš„ ç³»ç»Ÿèœå• æ‰¾åˆ° mount/æŒ‚è½½ç‚¹ è¿™ä¸ªæŒ‰é’®\nå®‰è£…ç½‘é¡µä¸­æ–‡æ±‰åŒ–åŒ…å’Œä¸»é¢˜ï¼ˆæ­¤æ­¥éª¤å¯ä»¥çœç•¥ï¼‰ opkg install luci-i18n-base-zh-cn luci-theme-material è§£é‡Š\nluci-i18n-base-zh-cn æ˜¯ç½‘é¡µç«¯çš„ä¸­æ–‡è¯­è¨€åŒ… luci-theme-material æ˜¯ä¸€ä¸ªå·¦å³åˆ†æ ï¼Œå¹¶ä¸”å…¼å®¹æ‰‹æœºç­‰è®¾å¤‡çš„openwrtç½‘é¡µç•Œé¢ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥ä¸è£…ï¼Œéšä¾¿ä½ ã€‚ ä¸­æ–‡è¯­è¨€åŒ…ï¼Œè™½ç„¶å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œä½†æ˜¯éƒ¨åˆ†è½¯ä»¶ ä¼šæ˜¾ç¤ºä¸­è‹±æ–‡æ··æ‚çš„æƒ…å†µï¼Œæ‰€ä»¥æœ€å¥½ è¿˜æ˜¯åœ¨ openwrtç½‘é¡µç«¯çš„ system(ç³»ç»Ÿ) -\u0026gt; system(ç³»ç»Ÿ) -\u0026gt; lanuage and style(è¯­è¨€å’Œä¸»é¢˜) é€‰æ‹©ä¸€ä¸‹ ç®€ä½“ä¸­æ–‡\nä¸»é¢˜ å¯ä»¥é€‰æ‹©å‰é¢å®‰è£…çš„ materialï¼Œä¹Ÿå¯ç”¨é»˜è®¤çš„\nå¼€å§‹ä¹‹å‰ linuxçš„ç£ç›˜ç®¡ç†çš„å…¥é—¨æ‰«ç›²å°çŸ¥è¯† window æˆ‘ä»¬éƒ½çŸ¥é“ æœ‰Cç›˜Dç›˜ä»€ä¹ˆçš„ï¼Œä½†æ˜¯linux ä¸å­˜åœ¨è¿™ä¸ªï¼ŒLinuxä¸‹ ä¸€åˆ‡çš†ä¸ºæ–‡ä»¶ï¼ŒåŒ…æ‹¬ç¡¬ä»¶è®¾å¤‡çš„ï¼šå†…å­˜ ç¡¬ç›˜ usb ç”šè‡³æ˜¾å¡ ç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯æ–‡ä»¶ï¼Œå¯¹åº”çš„ éƒ½æ˜¯ Linuxä¸‹ /devä¸‹çš„æ–‡ä»¶ã€‚ æˆ‘ä»¬æ‰€æœ‰çš„ç¡¬ä»¶çš„æ“ä½œï¼Œéƒ½æ˜¯å¯¹ /devä¸‹çš„æ–‡ä»¶çš„æ“ä½œã€‚\nå› ä¸ºæ²¡æœ‰C D ç›˜ç¬¦çš„æ¦‚å¿µï¼Œlinuxä¸‹å®Œæ•´çš„è·¯å¾„ éƒ½æ˜¯ä»¥/xxx å¼€å¤´çš„ï¼Œè€ŒéWindowsä¸‹ C:/ D:/ è¿™æ ·å¼€å¤´çš„\næˆ‘ä»¬éƒ½çŸ¥é“ Windowså¯ä»¥ä¿®æ”¹ç›˜ç¬¦ï¼Œæ¯”å¦‚ æˆ‘å¯ä»¥æŠŠDç›˜ä»windowsç£ç›˜ç®¡ç†é‡Œé¢ åˆ†åˆ«Eç»™ä»–ï¼Œä»–å°±åŒæ—¶å¯ä»¥ç”¨Då’ŒE ä¸¤ä¸ªç›˜ç¬¦äº†ï¼Œåˆ æ‰D å°±å˜æˆEã€‚ linuxä¸‹å°±æ˜¯ç”¨æŒ‚è½½å’Œè§£é™¤æŒ‚è½½çš„æ–¹å¼æ¥è§£å†³ä¸åŒåˆ†åŒºçš„è·¯å¾„å˜åŒ–ã€‚ã€‚\nå¦‚æœæ˜¯ä¸´æ—¶çš„æŒ‚è½½ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ mount /dev/ã€ç£ç›˜åç§°ã€‘ã€åˆ†åŒºç¼–å·ã€‘ /ã€æŒ‚è½½åœ°å€ã€‘ å‘½ä»¤å°±å¯ä»¥äº†ã€‚å¦‚æœæ˜¯å¼€æœºå¯åŠ¨æŒ‚è½½ï¼Œå°±éœ€è¦ä¿®æ”¹/etc ç›®å½•çš„ä¸‹çš„ fstabæ–‡ä»¶\n/etcè¿™ä¸ªç›®å½•ï¼Œä½ å¯ä»¥ç†è§£æˆ Windows çš„æ³¨å†Œè¡¨ ç»„ç­–ç•¥ã€‚ å‡ ä¹æ‰€æœ‰çš„è½¯ä»¶å’Œç³»ç»Ÿçš„é…ç½®é¡¹ éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ã€‚\nä½†æ˜¯å› ä¸ºç›´æ¥ç¼–è¾‘ /etc/fstab è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œéœ€è¦å¤„ç†uuidå¯èƒ½ä¸å¤ªç›´è§‚ï¼Œè€Œä¸”å¯èƒ½è¿˜å­˜åœ¨å…¶ä»–åˆ†åŒºç”šè‡³Uç›˜ sdå¡ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨openwrtä¸‹å€Ÿç”¨ ä¸Šé¢è¯´çš„block-mount è¿™ä¸ªè½¯ä»¶åŒ…ï¼Œå¯ä»¥å¯è§†åŒ–çš„åœ¨openwrtç½‘é¡µç«¯æ¥æ“ä½œã€‚åç»­ç®¡ç†uç›˜sdå¡ æˆ–nasä¹Ÿæ–¹ä¾¿\nå¤„ç†åˆ†åŒºå’Œç£ç›˜ cmdå†æ¬¡ç™»å½•åˆ°openwrtçš„shellä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ fdisk -l æŸ¥çœ‹ç£ç›˜\nroot@OpenWrt:~# fdisk -l Disk /dev/sda: 29.5 GiB, 31675383808 bytes, 61865984 sectors Disk model: BIWIN SSD Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: gpt Disk identifier: C120D9F5-D6F9-D15B-05A7-0D348F8A4B00 Device Start End Sectors Size Type /dev/sda1 512 33279 32768 16M Linux filesystem /dev/sda2 33280 246271 212992 104M Linux filesystem /dev/sda128 34 511 478 239K BIOS boot Partition table entries are not in disk order. æˆ‘è¿™é‡Œ å°±ä¸€ä¸ªç£ç›˜ ç£ç›˜åç§°æ˜¯ sdaDisk /dev/sda: 29.5 GiBï¼Œæœ‰ä¸‰ä¸ªåˆ†åŒº sda1 sda2 sda128\nsda1 æ˜¯ä»–çš„åŸºæœ¬å¯åŠ¨æ–‡ä»¶ sda2 å°±æ˜¯openwrtçš„ç³»ç»Ÿåˆ†åŒºï¼Œå¦‚æœæ˜¯overlayçš„openwrtå›ºä»¶æƒ…å†µè¿˜è¦å¤æ‚ä¸€äº›ï¼Œå¦‚æœä½ è¦ç”¨overlay,ä¸å¦¨å»çœ‹ä¸€ä¸‹overlayç›¸å…³çš„æ–‡ç« ã€‚æˆ‘è¿™é‡Œæ˜¯ext4çš„å›ºä»¶ï¼Œæ‰€ä»¥ç®€å•å¾ˆå¤šã€‚ å¦‚æœä½ æ˜¯efiçš„é•œåƒï¼Œå¯èƒ½è¿˜å¤šå‡ºæ¥ä¸€ä¸ªefiåˆ†åŒºã€‚ å¦‚æœä½ è¦æœ‰å¤šä¸ªç£ç›˜ï¼Œæ³¨æ„çœ‹ æ¯ä¸€ä¸ªç£ç›˜çš„åå­— è¿˜æœ‰ ç£ç›˜çš„ç¼–å·ã€‚å¦‚æœæ˜¯nvme ç£ç›˜çš„æ¢ï¼Œå¤šæ•°æ˜¯/dev/nvmeXXX mmcç£ç›˜çš„è¯/dev/mmcXXX è™šæ‹Ÿæœºçš„è¯æ ¹æ®è™šæ‹Ÿå¹³å°ä¸ä¸€æ ·å¯èƒ½æ˜¯/dev/vdXXXX /dev/vmXXX /dev/virXXX /dev/qemuXXX uç›˜æˆ–è€…sdå¡çš„è¯ï¼Œé‚£ä¹ˆå¤šæ•°å°±usb æˆ–è€… sdå¼€å¤´çš„\næˆ‘ä»¬ç°åœ¨éœ€è¦å¢åŠ å®¹é‡çš„ç£ç›˜ä¸Šæ‰©å»ºç©ºé—´ï¼Œæˆ‘è¿™é‡Œ ä»¥æˆ‘çš„/dev/sda è¿™ä¸ªç£ç›˜ä¸ºä¾‹å­ï¼Œshellå‘½ä»¤å†æ¬¡æ‰§è¡Œcfdisk /dev/sdaï¼ˆ ç©ºæ ¼åé¢ æŒ‡çš„è¦æ“ä½œçš„ç£ç›˜ ï¼‰\nç”¨é”®ç›˜æ–¹å‘é”®æ“ä½œï¼Œä¸Šä¸‹é”®ç›˜ï¼Œé€‰æ‹©ä¸­ç»¿è‰²çš„éƒ¨åˆ† free space ï¼ˆç©ºé—²ç©ºé—´ï¼‰ å·¦å³é”® é€‰æ‹© Newï¼ˆæ–°å»ºï¼‰å›è½¦ï¼Œè¾“å…¥æ–°åˆ†åŒºçš„å®¹é‡ã€‚ ä½ å¯ä»¥å¼„ä¸€ä¸ª1-2Gçš„ç»™ç³»ç»Ÿç”¨ï¼Œå‰©ä¸‹ä¸€ç‚¹åˆ†åŒºç»™dockerç”¨ï¼ˆæŒ‚è½½åˆ°/optï¼‰æˆ–è€…å¹²è„†ç®€å•ç®€å•çš„ å…¨éƒ¨ç©ºé—´ ç»™åˆ°ç³»ç»Ÿ\nç„¶å ä¼šæ–°å»ºä¸€ä¸ªåˆ†åŒº /dev/sdaXXX æˆ‘ è¿™é‡Œæ˜¯/dev/sda3, ç„¶åå·¦å³é”® é€‰æ‹© ä¿å­˜ï¼ˆwriteï¼‰è¾“å…¥ yesç¡®è®¤ å·¦å³é”®é€‰æ‹©é€€å‡ºï¼ˆquitï¼‰\nè¿™æ ·æˆ‘ä»¬å°±æ–°å»ºäº†ä¸€ä¸ªåˆ†åŒº\næ ¼å¼åŒ–è¿™ä¸ªæ–°åˆ†åŒº Windowsä¸‹æ ¼å¼åŒ–å‘½ä»¤ æˆ‘ä»¬éƒ½çŸ¥é“ æ˜¯formatï¼ŒLinuxä¸‹ç”¨ mkfs.XXX, Linuxå¸¸ç”¨çš„åˆ†åŒºå¾ˆå¤šç§ï¼Œè¿™é‡Œä¸å±•å¼€è¯´ï¼Œä½†æ˜¯è¿™é‡Œè‚¯å®šé€‚åˆç”¨NTFS exfat fatä¹‹ç±»ï¼Œä¸æ˜¯è¯´ä¸èƒ½ç”¨ï¼Œè€Œæ˜¯è¯´ç¨³å®šæ€§å’Œé€Ÿåº¦åœ¨linuxä¸‹è¡¨ç°ä¸å¥½ï¼Œ æ‰€ä»¥è¿˜æ˜¯ç”¨linuxçš„å¸¸ç”¨åˆ†åŒºæ ¼å¼ï¼Œæˆ‘è¿™é‡Œç”¨ä¼ ç»Ÿçš„ext4 å…¼å®¹æ€§å’Œç¨³å®šæœ€å¥½\nmkfs.ext4 /dev/sda3 ä¸è¦å…³é—­shellï¼Œå›åˆ°openwrtç½‘é¡µç«¯å¤„ç†æŒ‚è½½ ç‚¹ ç³»ç»Ÿ\u0026gt; æŒ‚è½½ç‚¹ ç”Ÿæˆé…ç½® è‡ªåŠ¨ç”Ÿæˆé…ç½®\nåœ¨æŒ‚è½½ç‚¹é‚£ä¸ªä½ç½®ï¼Œå¯ä»¥çœ‹åˆ° å¤šå‡ºæ¥çš„ä¸€ä¸ªåˆ†åŒº/dev/sda3 ä»–æƒ³è‡ªåŠ¨æŒ‚è½½åˆ°/mnt/sda3ä¸Šï¼Œæˆ‘ä»¬ç¼–è¾‘ä¸€ä¸‹è¿™æ¡\nUUID ä¿æŒæ˜¯è¿™ä¸ªåˆ†åŒºçš„æ²¡é”™ æˆ‘è¿™é‡Œæ˜¯xx-xx-xx /dev/sda3 29.38G\næŒ‚è½½ç‚¹é€‰æ‹© / ä½œä¸ºæ ¹ç›®å½•ä½¿ç”¨\nç„¶åçœ‹ä¸€ä¸‹è¿™è¡Œåœ°æ–¹æœ‰ä¸€ä¸ªæç¤º æ ¹ç›®å½•å‡†å¤‡ï¼Œç¡®ä¿ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¤åˆ¶æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œåé¢å‡ è¡Œå‘½ä»¤ï¼Œå…¶ä¸­ä¸€è¡Œ mount /dev/sda1 /tmp/extroot\nè¿™ä¸ªåœ°æ–¹ ä»–çš„å®ä¾‹æ˜¯å¤„ç†çš„/dev/sda1 ç¬¬ä¸€åˆ†åŒºï¼Œéœ€è¦æ”¹ä¸ºä½ åˆšåˆšæ–°å»ºçš„åˆ†åŒº æˆ‘è¿™æ˜¯/dev/sda3ï¼Œæœ€ç»ˆå‘½ä»¤å’Œè§£é‡Š\n1 2 3 4 5 6 7 mkdir -p /tmp/introot #åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ mkdir -p /tmp/extroot #åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ mount --bind / /tmp/introot # ç”¨ä¸´æ—¶å±è”½çš„æ–¹æ³• æŒ‚è½½/ åˆ°introotè¿™ä¸ªç›®å½• æ–¹ä¾¿æˆ‘ä»¬åé¢å¤åˆ¶ mount /dev/sda3 /tmp/extroot # è¿™è¡Œéœ€è¦ç¼–è¾‘ä¸€ä¸‹ æŠŠæˆ‘ä»¬çš„æ–°å»ºçš„åˆ†åŒº ä¸´æ—¶æŒ‚è½½åˆ°extroot tar -C /tmp/introot -cvf - . | tar -C /tmp/extroot -xf - # ç”¨tarçš„æ–¹å¼ï¼ŒæŠŠåŸæ¥æ ¹åˆ†åŒºçš„ æ–‡ä»¶ ä¿ç•™æƒé™åŒæ­¥å¤åˆ¶åˆ°extrootï¼ˆ/dev/sda3 å°±æ˜¯æ–°åˆ†åŒºï¼‰ å¹¶æ‰“å°å‡ºè¯¦ç»†ä¿¡æ¯å’Œè¿›åº¦ umount /tmp/introot # å–æ¶ˆæŒ‚è½½ umount /tmp/extroot # å–æ¶ˆæŒ‚è½½ å…ˆåœ¨ç½‘é¡µçš„ ä¿å­˜æŒ‚è½½ç‚¹çš„é…ç½®ï¼Œç„¶ååˆ é™¤ å’Œsda2 ä¹‹å‰çš„é‚£ä¸ª100Må·¦å³çš„åˆ†åŒºçš„æŒ‚è½½ã€‚ ç„¶ååº”ç”¨ä¿å­˜ã€‚ å†æŠŠä¸Šé¢çš„å‘½ä»¤é€è¡Œ æˆ–è€…å…¨éƒ¨å¤åˆ¶åˆ° openwrtçš„shell é‡Œé¢ æ‰§è¡Œ\næ³¨æ„é¡ºåºåˆ«æé”™äº†ã€‚\né‡å¯æ£€æŸ¥ é‡å¯è·¯ç”±å™¨ï¼Œå¯åŠ¨å®Œæˆåæ£€æŸ¥ shellè¿è¡Œdf -h\nroot@OpenWrt:~# df -h Filesystem Size Used Available Use% Mounted on /dev/root 102.3M 20.5M 79.7M 20% /rom tmpfs 1.9G 572.0K 1.9G 0% /tmp /dev/sda3 28.8G 348.8M 26.9G 1% / /dev/sda1 16.0M 5.7M 10.2M 36% /boot /dev/sda1 16.0M 5.7M 10.2M 36% /boot tmpfs 512.0K 0 512.0K 0% /dev /dev/sda3 28.8G 348.8M 26.9G 1% /opt/docker shellè¿è¡Œlsblk\nroot@OpenWrt:~# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 29.5G 0 disk â”œâ”€sda1 8:1 0 16M 0 part /boot â”‚ /boot â”œâ”€sda2 8:2 0 104M 0 part /rom â”œâ”€sda3 8:3 0 29.4G 0 part /opt/docker â”‚ / â””â”€sda128 259:0 0 239K 0 part ç½‘é¡µç«¯ä¾æ¬¡ç‚¹å¼€ ç³»ç»Ÿ Software æŸ¥çœ‹ Free space 30G å·¦å³\nè¿™å°±æ­£å¸¸äº†\nåç»­- å®‰è£…å¸¸ç”¨æ’ä»¶ èƒ½ç”¨dockerè·‘çš„ï¼Œå°½é‡ç”¨dockerï¼Œèƒ½æ”¾åˆ°æ—è·¯è·¯ç”±çš„å°½é‡ä¸è¦æ”¾ä¸»è·¯ç”±\nå®‰è£…æ–¹æ³•å’Œæ¸…å• https://dev.leiyanhui.com/openwrt/openwrt-plus/\næœ€åå†™åœ¨ç»“å°¾çš„è¯ openwrtè¿™ä¸ªå›½å†…åœˆå­æœ‰ä¸€ç‚¹ç•¸å½¢ï¼Œåšå›ºä»¶çš„ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¤§ç¥ï¼Œæ›´å¤šæ˜¯ä¸€äº›linuxä¸€çŸ¥åŠè§£çš„å°ç™½çš„åšï¼Œå¯èƒ½æ¯”å®Œå…¨ä¸æ‡‚linuxçš„ä½ å¥½ä¸åˆ°å“ªé‡Œå»ã€‚ç”šè‡³è¿˜æœ‰æ”¶è´¹çš„ç¬¬ä¸‰æ–¹å®šåˆ¶å›ºä»¶ï¼Œç”šè‡³è¿˜æœ‰x86çš„ç²¾ç®€å›ºä»¶æ”¶è´¹ã€‚ã€‚æœ‰ç‚¹åŒªå¤·æ‰€æ€ã€‚\nopenwrtç¾¤é‡Œï¼Œè¿˜ä¸€äº›äººè‡ªå·±å¯ä»¥ç¼–è¯‘å›ºä»¶ æ²¾æ²¾è‡ªå–œè‡ªè¯©ä¸ºå¤§ç¥ ç”šè‡³æ”¶è´¹ã€‚ã€‚\nå…¶å® openwrt æ˜¯ä¸€ä¸ªå®Œæ•´çš„linuxç³»ç»Ÿï¼Œåªæ˜¯å®˜ç½‘æ²¡æœ‰å‡ºisoå®‰è£…é•œåƒï¼Œè€Œä¸”imgæ ¼å¼çš„ç£ç›˜é•œåƒã€‚ å¤§éƒ¨åˆ†å†…å®¹ä½ ç”šè‡³å¯ä»¥ç›´æ¥æŒ‚è½½imgæ–‡ä»¶ç¼–è¾‘åå†™å…¥ç£ç›˜ã€‚ã€‚ã€‚\næœ€åï¼Œopenwrtæœ¬èº«å¾ˆå¼ºå£®å¾ˆç¨³å®šï¼Œ ä¸ç¨³å®šçš„æ˜¯ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚\næ‰€ä»¥èƒ½ä¸ç”¨ç¬¬ä¸‰æ–¹å›ºä»¶ å°±ä¸è¦ç”¨ï¼Œèƒ½ç”¨ç²¾ç®€ç‰ˆ å°±ä¸è¦ç”¨ä»€ä¹ˆé«˜å¤§å…¨ï¼Œèƒ½ä¿®æ”¹imgæ–‡ä»¶æå®šçš„äº‹æƒ…ï¼Œå°±ä¸è¦è‡ªå·±ç¼–è¯‘å›ºä»¶ã€‚æŠ˜è…¾ã€‚\nå¦‚æœæ˜¯x86_64 å°½é‡ç”¨ext4çš„æ–¹æ³•å®‰è£…ï¼Œç³»ç»Ÿå¦‚æœæŸåæœ‰èµ„æ–™éœ€è¦å¯¼å‡ºæˆ–è€…æ–‡ä»¶è¯¯åˆ é™¤ éƒ½å¥½å¤„ç†ã€‚overlay ç³»ç»Ÿæ¢å¤åˆå§‹åŒ–ç®€å•ä¸€äº›ã€‚ä½†æ˜¯æ‰©å®¹è¿™ä¸ªåœ°æ–¹éœ€è¦è‡ªå·±ç¼–è¯‘å›ºä»¶ï¼Œæˆ–è€…ç”¨ç¬¬ä¸‰æ–¹å·²ç»å¤„ç†å¥½çš„å›ºä»¶æ¥å¼„ã€‚ å®Œæ•´ç¼–è¯‘ä¸€æ¬¡å›ºä»¶ï¼Œçœ‹ç½‘ç»œå’Œæœºå™¨æ€§èƒ½ å·®ä¸å¤šéœ€è¦2-4å°æ—¶æ—¶é—´ï¼Œå¾—ä¸å¿å¤±ã€‚ã€‚\n","date":"2022-11-24T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/disk-part-bug/","title":"openwrtåˆ†åŒºæ‰©å®¹çš„é—®é¢˜---å¤šæ•°openwrtå›ºä»¶çš„ä¸€ä¸ªå·¨å‘ ä¿å§†æ•™ç¨‹/ é¡ºå¸¦ linuxå’Œopenwrt æ‰«ç›² /å¸¸ç”¨æ‰©å±•æ’ä»¶å®‰è£…"},{"content":"åˆ›å»ºä¸€ä¸ªå®¹å™¨ åœ¨çˆ±å¿«ä¸­æ·»åŠ ä¸€ä¸ª å®¹å™¨ \u0026lsquo;alpine-docker-cli-1\u0026rsquo; ä½¿ç”¨é•œåƒ alpine:latest é«˜çº§è®¾ç½®æŒ‚è½½ç›®å½• /var/run/docker.sock åˆ°å®¹å™¨çš„/var/run/docker.sock\né…ç½®å®¹å™¨ æ‰“å¼€å®¹å™¨æ§åˆ¶å°\nä¿®æ”¹æºæ›´æ–°å®‰è£…ssh å¯†é’¥ å¯åŠ¨æ–‡ä»¶ç­‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 echo \u0026#34;https://mirrors.tuna.tsinghua.edu.cn/alpine/latest-stable/main\u0026#34; \u0026gt; /etc/apk/repositories \u0026amp;\u0026amp; \\ echo \u0026#34;https://mirrors.tuna.tsinghua.edu.cn/alpine/latest-stable/community\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories \u0026amp;\u0026amp; \\ apk update \u0026amp;\u0026amp; \\ apk add --no-cache openssh tzdata \u0026amp;\u0026amp; \\ cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \u0026amp;\u0026amp; \\ sed -i \u0026#34;s/#PermitRootLogin.*/PermitRootLogin yes/g\u0026#34; /etc/ssh/sshd_config \u0026amp;\u0026amp; \\ ssh-keygen -t dsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_dsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t rsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_rsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ecdsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ecdsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ed25519 -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ed25519_key \u0026amp;\u0026amp; \\ echo \u0026#34;root:admin\u0026#34; | chpasswd \u0026amp;\u0026amp; \\ echo \u0026#34;/usr/sbin/sshd -D\u0026#34; \u0026gt; /autoboot.sh \u0026amp;\u0026amp; \\ echo \u0026#34;tail -f /dev/null\u0026#34; \u0026gt; /autoboot.sh ä¸Šé¢çš„å‘½ä»¤ æ˜¯è®©æˆ‘ä»¬èƒ½åˆ›å»ºä¸€ä¸ªæ”¯æŒsshçš„dockerï¼Œä½†æ˜¯è¿˜ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„\nè¿›é˜¶ï¼Œç”¨dockeré‡Œé¢çš„cli æ“ä½œå®¿ä¸»çš„docker ä¹Ÿå°±æ˜¯ æ·»åŠ ä¸€è¡Œapk add \u0026ndash;no-cache docker-cli\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 echo \u0026#34;https://mirrors.tuna.tsinghua.edu.cn/alpine/latest-stable/main\u0026#34; \u0026gt; /etc/apk/repositories \u0026amp;\u0026amp; \\ echo \u0026#34;https://mirrors.tuna.tsinghua.edu.cn/alpine/latest-stable/community\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories \u0026amp;\u0026amp; \\ apk update \u0026amp;\u0026amp; \\ apk add --no-cache docker-cli \u0026amp;\u0026amp; \\ apk add --no-cache openssh tzdata \u0026amp;\u0026amp; \\ cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \u0026amp;\u0026amp; \\ sed -i \u0026#34;s/#PermitRootLogin.*/PermitRootLogin yes/g\u0026#34; /etc/ssh/sshd_config \u0026amp;\u0026amp; \\ ssh-keygen -t dsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_dsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t rsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_rsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ecdsa -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ecdsa_key \u0026amp;\u0026amp; \\ ssh-keygen -t ed25519 -P \u0026#34;\u0026#34; -f /etc/ssh/ssh_host_ed25519_key \u0026amp;\u0026amp; \\ echo \u0026#34;root:admin\u0026#34; | chpasswd \u0026amp;\u0026amp; \\ echo \u0026#34;/usr/sbin/sshd -D\u0026#34; \u0026gt; /autoboot.sh \u0026amp;\u0026amp; \\ echo \u0026#34;tail -f /dev/null\u0026#34; \u0026gt;\u0026gt; /autoboot.sh æˆ‘æ‰“åŒ…äº†ä¸€ä¸ªåŸºç¡€çš„dockeré•œåƒ åªå®‰è£…äº† openssh tzdata æ—¶åŒº nano é»˜è®¤ç”¨æˆ·å root å¯†ç  root sshç«¯å£2222 tar.gzæ ¼å¼çš„ï¼Œä½ å¯ä»¥è‡ªå·±å¯¼å…¥åˆ°é•œåƒ ä½¿ç”¨å‘½ä»¤å‚è€ƒ\n1 cat alpine-sshd2222.tar.gz | docker import - alpine:sshd-autoboot.sh2222 1 docker run -i -t -d --name alpine-mengzhong --network host --privileged=true --restart=always alpine:sshd-autoboot.sh2222 sh /autoboot.sh ä¸‹è½½åœ°å€ï¼š https://github.com/joyanhui/file.leiyanhui.com/raw/main/pve-unraid-kvm/alpine-sshd2222.tar.gz\nä»¥åå¯èƒ½ä¹Ÿä¼šæ‰“åŒ…ä¸€ä¸ªdebiançš„é•œåƒï¼Œä¸è¿‡ä½“ç§¯å°±æ¯”è¾ƒå¤§ï¼Œå¯èƒ½ä¼šæ”¾åˆ°äº‘ç›˜\næœ¬æ–‡å‚è€ƒ https://cloud.tencent.com/developer/article/1683604\n","date":"2022-11-22T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/alpine-sshd/","title":"dockerçš„alpineä¸­ä½¿ç”¨sshçš„docker"},{"content":"çˆ±å¿«æ¯”è¾ƒç¨³å®šï¼Œåˆ†æµåŠŸèƒ½æ–¹ä¾¿ä¸€äº›ï¼Œå®‰è£…ä¹Ÿè§£å†³ï¼Œæ‰€ä»¥æˆ‘ä¸»è·¯ç”±n2600æ˜¯ç”¨çš„çˆ±å¿«ã€‚\nä½†æ˜¯çˆ±å¿«çš„æ‰©å±•æ€§ ç›¸å¯¹æ¯”è¾ƒå·®ï¼Œæœ€æ–°ç‰ˆè™½ç„¶æ”¯æŒdockeräº†ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰shellï¼Œåªèƒ½ä»ç½‘é¡µç®€å•é…ç½®ï¼Œå¾ˆå¤šå‚æ•°åŠ ä¸ä¸Šï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚ æˆ‘å…ˆæ˜¯å°è¯•ä½¿ç”¨ /var/run/docker.sock çš„æ–¹æ³•æ“ä½œçˆ±å¿«çš„docker å‘ç°æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œè€Œç°åœ¨è·¯ç”±åœ¨ä½¿ç”¨ä¸­ï¼Œä¸çŸ¥é“å…·ä½“è·¯å¾„æ˜¯å“ªé‡Œ\nå®åœ¨æ˜¯æ‡’å¾—ç»§ç»­æŠ˜è…¾ï¼Œæ‰¾åˆ°ä¸€ä¸ªå°±è·¯ç”±å™¨ï¼Œé…ç½®å¥½ä»¥åï¼Œå…ˆä¸´æ—¶ä¸Šç½‘\nè¿˜æ˜¯åˆ· openwrt\n","date":"2022-11-22T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/ikuai-docker-shell/","title":"çˆ±å¿«æ²¡æœ‰å®Œæ•´çš„shellæ— æ³•æ­£å¸¸ä½¿ç”¨dockerçš„è§£å†³æ–¹æ³•  dockeråµŒå¥—"},{"content":" ä¹‹æ‰€ä»¥æœ‰è¿™ä¸ªå¥‡è‘©çš„éœ€æ±‚ æ˜¯å› ä¸ºä¸€ä¸ªè½¯è·¯ç”± å®‰è£…çš„æ˜¯çˆ±å¿«ç³»ç»Ÿï¼Œè€Œè€ƒè™‘åˆ°ä¸æŠ˜è…¾çš„åŸåˆ™ï¼Œæ²¡æœ‰å»æ›´æ¢ç³»ç»Ÿã€‚ ä½†æ˜¯çˆ±å¿«çš„docker å› ä¸ºæ²¡æœ‰å®Œæ•´çš„shellæƒé™ä½¿ç”¨èµ·æ¥å¾ˆå¥‡è‘©.\nå…ˆåœ¨çˆ±å¿«dockerè¿è¡Œä¸€ä¸ªalpine ä¿®æ”¹å¯†ç  passwd ç„¶å ä¿®æ”¹æº\netc/apk/repositorie ---- https://mirrors.ustc.edu.cn/alpine/latest-stable/main https://mirrors.ustc.edu.cn/alpine/latest-stable/community apk update å®‰è£…é…ç½®sshd apk add --no-cache openssh tzdata cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime sed -i \u0026quot;s/#PermitRootLogin.*/PermitRootLogin yes/g\u0026quot; /etc/ssh/sshd_config ssh-keygen -t dsa -P \u0026quot;\u0026quot; -f /etc/ssh/ssh_host_dsa_key ssh-keygen -t rsa -P \u0026quot;\u0026quot; -f /etc/ssh/ssh_host_rsa_key ssh-keygen -t ecdsa -P \u0026quot;\u0026quot; -f /etc/ssh/ssh_host_ecdsa_key ssh-keygen -t ed25519 -P \u0026quot;\u0026quot; -f /etc/ssh/ssh_host_ed25519_key æ‰‹åŠ¨å¯åŠ¨sshd /usr/sbin/sshd -D å®‰è£…docker apk add docker é…ç½®è‡ªåŠ¨å¯åŠ¨ è¯•äº† openrc å’Œ busybox éƒ½æ²¡å¼„å¥½ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å› ä¸ºçˆ±å¿« æ²¡æœ‰å®‰è£…çš„shell ä¹Ÿå°±æ— æ³•è‡ªå·±å®šä¹‰sh ã€‚ã€‚ã€‚æ‰€ä»¥ã€‚ã€‚ã€‚ç›´æ¥æ¢ä¸€ä¸ªdockerå§\nç„¶åæµ‹è¯•äº†ä¸€åœˆã€‚ã€‚ç›´æ¥ç”¨openwrtçš„dockerç®—äº†ã€‚ã€‚ã€‚ openwrtorg/rootfs:x86_64-openwrt-22.03\ndockerç‰ˆæœ¬openwrtç®€å•ä½¿ç”¨ æˆ‘ä¸»è¦æ˜¯å¥—dockerç”¨ï¼Œsshç™»å½•åˆ°docker opwnwrt\nå›½å†…æº cp /etc/opkg/distfeeds.conf /etc/opkg/distfeeds.conf-bak vi /etc/opkg/distfeeds.conf #æŠŠé‡Œé¢çš„/etc/opkg/distfeeds.conf-bakæ›¿æ¢ä¸ºmirrors.aliyun.com/openwrt opkg update\nå®‰è£…docker opkg install docker opkg install dockerd /etc/init.d/dockerd start ln -s /etc/init.d/dockerd /etc/rc.d/S100docker æµ‹è¯•ä¸€ä¸ªdocker docker run -d \u0026ndash;restart=always \u0026ndash;privileged -p 2017:2017 -p 20170-20173:20170-20173 \u0026ndash;name v2raya mzz2017/v2raya\n","date":"2022-11-22T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/docker-run-on-docker/","title":"åœ¨dockerä¸­è¿è¡Œä¸€ä¸ªå®Œæ•´çš„dockerå¹¶å†å¥—å¨ƒdocker"},{"content":"alpine ä¸å•é€‚åˆä½œä¸ºdockerçš„åŸºç¡€åŒ…ï¼Œä¹ŸæŒºé€‚åˆåœ¨éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œä½œä¸ºdockerçš„å®¿ä¸»ç³»ç»Ÿã€åŸå› æ— å®ƒï¼Œä½“ç§¯å°ç»´æŠ¤ç®€å•ã€‚\nå½“ç„¶ alpineæœ€å¤§çš„é—®é¢˜ ä¾æ—§æ˜¯ multçš„å…¼å®¹æ€§ï¼Œæ‰€ä»¥è¯´ alpine åªé€‚åˆéƒ¨åˆ†åœºæ™¯ä¸‹ã€‚\næˆ‘è¿™é‡Œ ç”¨kvmè¿è¡Œäº†ä¸€ä¸ªå•ç‹¬çš„è™šæ‹Ÿæœºåªç”¨æ¥åœ¨ä¸æ±¡æŸ“å®¿ä¸»æœºçš„æƒ…å†µä¸‹æŠ˜è…¾dockerï¼Œæ‰€ä»¥å®¿ä¸»æœºå¾ˆé€‚åˆç”¨alpine\nå®‰è£…docker ssh åˆ°alpine\n1 2 apk add nano nano /etc/apk/repositories æŠŠ community çš„é‚£è¡Œæ³¨é‡Šå»æ‰\n1 2 3 apk add docker rc-update add docker boot service docker start v2ray nano /mnt/hdd/kvm-bak/alpine-docker/start_nogpu.sh\nç¼–è¾‘ -netdev è¿™è¡Œï¼Œæ·»åŠ éœ€è¦ç«¯å£ 2017(webç®¡ç†ç•Œé¢) 20170ï¼ˆsockesï¼‰ 20171ï¼ˆhttpä¸åˆ†æµï¼‰ 20172ï¼ˆåˆ†æµï¼‰ 20173ï¼ˆå¤‡ç”¨ï¼‰\n1 hostfwd=tcp::2017-:2017,hostfwd=tcp::20170-:20170,hostfwd=tcp::20171-:20171,hostfwd=tcp::20172-:20172,hostfwd=tcp::20173-:20173 1 2 3 docker run -d --restart=always --privileged \\ --name v2raya -p 2017:2017 -p 20170-20173:20170-20173 \\ mzz2017/v2raya é…ç½®è®¿é—® ï¼š http://10.0.0.8:2017 æ‰“å¼€ é€æ˜ä»£ç† ipè½¬å‘ ç«¯å£åˆ†äº«\né˜¿é‡Œäº‘ç›˜ webdav ç”¨ messense/aliyundriver-webdav è¿™ä¸ªé•œåƒå§ 10k starï¼Œæ•™ç¨‹å¾ˆå¤šï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯è·å–refreshToken å°±å¥½äº†\n1 2 3 4 5 docker run -d --name=aliyunpan --restart=always -p 8080:8080 \\ -e REFRESH_TOKEN=\u0026#39;your refresh token\u0026#39; \\ -e WEBDAV_AUTH_USER=admin \\ -e WEBDAV_AUTH_PASSWORD=admin \\ messense/aliyundrive-webdav nginx ä¸»è¦ç”¨äºå¤„ç†httpsä»£ç† 1 2 3 4 5 6 7 8 9 docker run -d -p 8081:80 \\ -p 8443:443 \\ --name nginxweb \\ --link answer-server:answerserver \\ -v /usr/local/docker/nginx/html:/usr/share/nginx/html \\ -v /usr/local/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \\ -v /usr/local/docker/nginx/conf/conf.d:/etc/nginx/conf.d \\ -v /usr/local/docker/nginx/logs:/var/log/nginx \\ nginx mysql redis ç•¥ï¼Œå¯ä»¥ docker ç›´æ¥æ³¡ä¸€ä¸ªå®å¡”\n","date":"2022-11-20T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/alpine/docker-s/","title":"alpine è¿è¡Œå‡ ä¸ªå¸¸ç”¨çš„docker"},{"content":"rustdesk æœ‰å‡ ä¸ªå‘ï¼Œä¸»è¦æ˜¯æ–‡æ¡£æ•·è¡ã€‚ã€‚ã€‚\næœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œè¿ç§»åˆ°ï¼šhttps://dev.leiyanhui.com/openwrt/rustdesk\nå®˜ç½‘å®ä¾‹ï¼š\nsudo docker image pull rustdesk/rustdesk-server sudo docker run --name hbbs -p 21115:21115 -p 21116:21116 -p 21116:21116/udp -p 21118:21118 -v `pwd`:/root -td --net=host rustdesk/rustdesk-server hbbs -r \u0026lt;relay-server-ip[:port]\u0026gt; sudo docker run --name hbbr -p 21117:21117 -p 21119:21119 -v `pwd`:/root -td --net=host rustdesk/rustdesk-server hbbr æˆ‘è¿™é‡Œæ˜¯linuxç³»ç»Ÿç›´æ¥ç”¨hotsæ¨¡å¼ç¨å¾®æ”¹åŠ¨ä¸€ä¸‹\n1 2 3 mkdir -p /root/docker/rustdesk cd /root/docker/rustdesk nano docker-compose.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 version: \u0026#39;3\u0026#39; networks: rustdesk-net: external: false services: hbbs: container_name: hbbs ports: - 21115:21115 - 21116:21116 - 21116:21116/udp - 21118:21118 image: rustdesk/rustdesk-server:latest command: hbbs -r localhost:21117 -k _ # localhostæ”¹æˆ å…¬ç½‘åœ°å€ volumes: - ./hbbs:/root networks: - rustdesk-net depends_on: - hbbr restart: unless-stopped hbbr: container_name: hbbr ports: - 21117:21117 - 21119:21119 image: rustdesk/rustdesk-server:latest command: hbbr -k _ volumes: - ./hbbr:/root networks: - rustdesk-net restart: unless-stopped å¤§æ¦‚è¯´ä¸€ä¸‹ localhost:21117 å¯ä»¥ç”¨ip æˆ–è€…åŸŸå ï¼Œæˆ–è€…ç›´æ¥å±€åŸŸç½‘çš„åœ°å€ éƒ½æ˜¯å¯ä»¥çš„ -k _ è¿™ä¸ªå‚æ•°æ˜¯ç¦æ­¢æ²¡æœ‰keyçš„ç”¨æˆ·é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½œä¸ºç§æœ‰çš„ä¸­è½¬æœåŠ¡å™¨ç”¨ã€‚ ä½†æˆ‘æµ‹è¯•å‘ç°ï¼Œè¿™ä¸ªå‚æ•°æ²¡å•¥ä¹±ç”¨ï¼Œä¸åŠ keyä¹Ÿå¯ä»¥è¿æ¥ä¸Š volumes è¿™æ®µä¹Ÿä¸æ˜¯å¿…é¡»çš„\nå¯åŠ¨/æ›´æ–° 1 docker-compose up -d key æ–‡ä»¶åœ¨ /root/data/docker_data/rustdesk/hbbs/id_ed25519 è¿™ä¸ªé‡Œé¢\næ›´æ–°key æˆ–docker æ›´æ–°keyï¼š 1 2 3 rm -rf /root/data/docker_data/rustdesk/hbbs/id_ed25519 docker restart hbbs docker restart hbbr 1 2 3 4 docker stop hbbs docker stop hbbr docker rm hbbs docker rm hbbr https://rustdesk.com/docs/zh-cn/self-host/install/#key\nå®¢æˆ·ç«¯è®¾ç½® idä¸­çº§æœåŠ¡å™¨ï¼Œåªè¾“å…¥idæœåŠ¡å™¨å°±å¥½äº†å‰©ä¸‹çš„å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨é€‚é…\nopenwrt dockerè¿è¡Œ rustdesk 1 2 3 4 docker run --name hbbs -p 21115:21115 -p 21116:21116 -p 21116:21116/udp -p 21118:21118 \\ -v /root/rustdesk:/root -td --net=host rustdesk/rustdesk-server hbbs -r yanhuijia.3322.org:21117 docker run --name hbbr -p 21117:21117 -p 21119:21119 -v `pwd`:/root -td --net=host rustdesk/rustdesk-server hbbr æŸ¥çœ‹key cat /root/rustdesk/id_ed25519.pub\n","date":"2022-11-20T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/rustdesk-server/","title":"docker è¿è¡Œ ä¸€ä¸ª rustdeskä¸­è½¬æœåŠ¡å™¨"},{"content":" Linuxä¸‹å¯ä»¥ç”¨davfs2 æŒ‚è½½webdavï¼Œä½†æ˜¯ rclone è¿˜æ”¯æŒåˆ«çš„ç½‘ç›˜åè®®ï¼Œå¹¶ä¸”è·¨å¹³å°ï¼Œæ‰€ä»¥æˆ‘é€‰ç”¨rclone\nå®‰è£…rclone 1 2 mkdir /mnt/aliyunpan sudo pacman -S rclone é…ç½® sudo rclone config è®°å¾—ç”¨sudo å› ä¸º æˆ‘ä»¬æœ€åéœ€è¦åšè‡ªåŠ¨æŒ‚è½½ è¿™é‡Œç”¨ Nextcloud WebDAV çš„æ¨¡å¼æŒ‚è½½ é˜¿é‡Œäº‘ç›˜çš„webdav åç§°ä¸ºaliyunpan\næŒ‚è½½ 1 sudo rclone mount aliyunpan:/ /mnt/aliyunpan --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime æµ‹è¯•å®Œæˆå æŠŠä¸Šé¢ä»£ç  å†™åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨è„šæœ¬é‡Œé¢\n1 2 sleep 180 sudo rclone mount aliyunpan:/ /mnt/aliyunpan --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --no-update-modtime \u0026amp; ","date":"2022-11-20T19:14:20+08:00","permalink":"https://dev.leiyanhui.com/webdav/rclone/","title":"rclone æŒ‚è½½webdav"},{"content":" æœ€è¿‘ä¸€ç›´è¢«å®‰åˆ© waylandï¼Œåœ¨kvmä¸‹æ ¸æ˜¾ç›´é€šçš„archä¸­å°è¯•ä¸€ä¸‹ï¼Œåˆšå¥½è¦åšä¸€ä¸ªæ ¸æ˜¾ç›´é€šçš„kvm-arch\nå®‰è£…åŸºç¡€åŒ… 1 2 3 sudo pacman -S \\ sway alacritty waybar wofi \\ xorg-xwayland xorg-xlsclients qt5-wayland glfw-wayland sway æ˜¯ waylandä¸‹çš„i3\nalacritty æ˜¯ç®€å•ç»ˆç«¯\nwaybar æ˜¯ä¸€ä¸ªç®€å•å¥½ç”¨çš„è‡ªå®šä¹‰çŠ¶æ€æ \nWofi ä¸€ä¸ªçº¯ GTKï¼ˆä¹Ÿå°±æ˜¯ Waylandï¼‰çš„å¯å®šåˆ¶åº”ç”¨ç¨‹åºå¯åŠ¨å™¨ã€‚\nqt5-wayland å’Œ glfw-wayland åˆ†åˆ«ä¸º QT5 å’Œ GLFW æä¾› Wayland å…¼å®¹ API\nè¾“å…¥æ³•å’Œå­—ä½“ sudo pacman -S ttf-dejavu wqy-zenhei sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin é…ç½®æ–‡ä»¶ Sway åº”è¯¥æ˜¯å®Œå…¨å…¼å®¹i3çš„é…ç½®æ–‡ä»¶çš„ï¼Œä¸è¿‡è¿™é‡Œè¿˜æ˜¯ ä»å¤´é…ç½®ä¸€ä¸ª\n1 2 3 4 cd ~/.config mkdir sway cd sway cp /etc/sway/config . è¿™é‡Œä¸éœ€è¦ .xinitrc äº†\næ˜¾å¡é©±åŠ¨ æˆ‘è¿™é‡Œç›´é€šçš„æ ¸æ˜¾\n1 sudo pacman -S linux-firmware xf86-video-intel seatdçš„å¤„ç† sudo pacman -S seatd sudo systemctl enable seatd sudo systemctl start seatd sudo usermod -aG seat ä½ çš„ç”¨æˆ·å ##å¯åŠ¨å‘½ä»¤\n1 sway å…¶ä»–å¯åŠ¨é—®é¢˜ æç¤º PRIME import not supported æ˜¾å¡ä¸æ”¯æŒï¼Œå¤šæ˜¯è™šæ‹Ÿæœºé‡Œé¢è¿è¡Œçš„æ—¶å€™å¯¼è‡´çš„ã€‚ å¦‚æœæ˜¯kvm æ¢ virtio gpu å°±ok äº†\næç¤º failed to create dri2 screen/dri failed to create screen ","date":"2022-11-19T20:52:20+08:00","permalink":"https://dev.leiyanhui.com/arch/i3-wayland/","title":"archlinux ä¸‹ i3w åŸºäº waylandçš„å®ç°"},{"content":"éšç€ systemctl çš„å‡ºç°ï¼Œå¤è€çš„å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ rc.local ä» archlinux ä¸Šæ¶ˆå¤±äº†ã€‚ ä»¥åå†ä½¿ç”¨å°±éœ€è¦ç”¨systemctl\nè¿™é‡Œå°è¯•è‡ªå·±å¼„ä¸€ä¸ªmy-local æ³¨å†Œåˆ°systemctl\nåˆ›å»ºsystemctl service 1 2 3 4 5 6 7 8 9 10 11 12 13 14 #/usr/lib/systemd/system/my-local.service [Unit] Description=\u0026#34;è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬\u0026#34; [Service] Type=forking ExecStart=/etc/my-local.sh start #åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°å¼€æœºæ‰§è¡Œè„šæœ¬çš„ä½ç½® TimeoutSec=0 StandardInput=tty RemainAfterExit=yes SysVStartPriority=99 [Install] WantedBy=multi-user.target ç¼–å†™å¯åŠ¨è„šæœ¬ /etc/my-local.sh 1 2 3 4 #!/bin/sh sh /home/xxx/mount.sh exit 0 é…ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ 1 2 sudo chmod u+x /etc/my-local.sh sudo systemctl enable my-local.service è¿œç¨‹ç™»é™†è‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬ ç›´æ¥ç¼–è¾‘ ç”¨æˆ·çš„ .bashrc ä¾‹å¦‚\n# # ~/.bashrc # # If not running interactively, don't do anything [[ $- != *i* ]] \u0026amp;\u0026amp; return alias ls='ls --color=auto' PS1='[\\u@\\h \\W]\\$ ' neofetch cat /home/yanhui/readme.md fish ","date":"2022-11-18T20:10:20+08:00","permalink":"https://dev.leiyanhui.com/arch/autostar/","title":"archlinuxå¼€æœºè‡ªåŠ¨å¯åŠ¨è‡ªå®šä¹‰è„šæœ¬"},{"content":"æœ¬æ–‡åœæ›´æ–°ï¼Œæ–°ç‰ˆæŸ¥çœ‹ ï¼šhttps://dev.leiyanhui.com/arch/xrdp-all/\næœ¬æ–‡åŸºäºkvmä¸‹çš„arch æ ¸æ˜¾ç›´é€š æˆ–è€… lxcå®¹å™¨\nåŸºæœ¬å®‰è£…å‚è€ƒ https://dev.leiyanhui.com/arch/base-install/\nå¦‚æœæ˜¯å®¹å™¨çš„archï¼Œå¦‚æœpacman ä¸èƒ½ç”¨ï¼Œè®°å¾— å…ˆ pcaman-key --init \u0026amp;\u0026amp; pacman-key --populate archlinux å¦å¤– æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ é˜²æ­¢éƒ¨åˆ†æ›´æ–°çš„é—®é¢˜sudo pacman -Syyu\næ ¸æ˜¾é©±åŠ¨ 1 sudo pacman -S xf86-video-intel å…¶ä»–æ˜¾å¡è‡ªå·±çœ‹ä¸€ä¸‹é©±åŠ¨åŒ…ï¼Œå¦‚æœæ˜¯kvmä¸‹çš„ç›´æ¥ç”¨ virtio-gpu å¯ä»¥å®ç°3DåŠ é€Ÿçš„ï¼Œå¯èƒ½ä¸éœ€è¦è¿™ä¸ª\nå…ˆå®‰è£…i3w ç®€å•é…ç½® 1 2 3 4 5 6 7 sudo pacman -S xorg-server #xorg sudo pacman -S xorg-xinit # ç™»å½•å™¨ sudo pacman -S ttf-dejavu wqy-microhei # wqy-zenhei #å­—ä½“ sudo pacman -S fish #æˆ‘å–œæ¬¢çš„shell sudo pacman -S flameshot #æˆ‘å–œæ¬¢çš„æˆªå›¾å·¥å…· sudo pacman -S i3-gaps i3status # i3 sudo pacman -S feh picom dmenu # å£çº¸å’ŒåŠé€æ˜ å¯åŠ¨å™¨ è¾“å…¥æ³• sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin #è¾“å…¥æ³• 1) fcitx åœ¨i3 è¦ åœ¨ç»ˆç«¯ sudo æ‰§è¡Œä¸€æ¬¡ fcitx-configtool\nå¤åˆ¶xinit æˆ‘æ²¡ç”¨sdmï¼Œç›´æ¥ç”¨startx æˆ– xrdp æ‰€ä»¥è¿™é‡Œé…ç½®xinit\n1 2 3 4 5 6 7 8 9 10 cp /etc/X11/xinit/xinitrc ~/.xinitrc #å¤åˆ¶ä¸€ä¸ªè¿‡æ¥ nano ~/.xinitrc #æ³¨é‡Šæ‰æœ€åçš„å‡ è¡Œ-æ·»åŠ ä¸€è¡Œ export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\\@im=fcitx fcitx \u0026amp; #è¾“å…¥æ³• flameshot \u0026amp; #æˆªå›¾å·¥å…· #nm-applet \u0026amp; #wifiç³»ç»Ÿæ‰˜ç›˜ exec i3 è¿˜è¦æ¥ç‚¹å¸¸ç”¨å·¥å…· 1 2 3 4 5 6 sudo pacman -S firefox unzip wget # è¿œç¨‹åˆ°winçš„å·¥å…· sudo pacman -S remmina sudo pacman -S libvncserver sudo pacman -S spice-gtk sudo pacman -S freerdp å¼„ä¸€ä¸‹å£çº¸ 1 2 3 4 5 6 cd wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/dwm-wallpaper.zip unzip dwm-wallpaper.zip mv file.leiyanhui.com-dwm-wallpaper bg rm -rf dwm-wallpaper.zip rm -rf bg/README.md i3wé…ç½®æ–‡ä»¶ i3wçš„é…ç½®è¿‡ç¨‹ æ˜¯ä¸ªå¤§å·¥ç¨‹ï¼Œå‚è€ƒæˆ‘çš„ https://github.com/joyanhui/i3w\nå‡†å¤‡xrdp å®‰è£…yay https://dev.leiyanhui.com/c/archlinux-install-yay/ yay çš„ä½¿ç”¨ï¼Œéœ€è¦å¯èƒ½éœ€è¦ patch autoconf automake pkg-config akerootã€binutilsç­‰åŒ… å»ºè®®ç›´æ¥å®‰è£… base-devel pacman -S base-devel æŒ‚ä¸ªv2ä»£ç† nano proxy.sh #ç„¶å sh proxy.shä¸€ä¸‹ å†…å®¹\nexport http_proxy=\u0026quot;10.0.0.1:20172\u0026quot; export https_proxy=\u0026quot;10.0.0.1:20172\u0026quot; å®‰è£…xrdp 1 2 3 4 5 6 7 #yay -S xorgxrdp pacman -S base-devel yay -S xrdp yay -S xorgxrdp-glamor sudo pacman -S pulseaudio yay -S pulseaudio-module-xrdp # æœ‰å¯èƒ½éœ€è¦ sudo pacman -S sbc sudo pacman -S xorg-xrdb Xwrapper 1 2 3 sudo nano /etc/X11/Xwrapper.config ------ allowed_users=anybody 1 2 sudo systemctl enable xrdp sudo systemctl start xrdp å…¶ä»–å¯é€‰ dmenu æ¢ä¸€ä¸‹dmenuä¸ºæ”¯æŒå˜æš—ã€ä¿®æ”¹é€æ˜åº¦ã€ä¸‹åˆ’çº¿ï¼ˆå¯é€‰ï¼‰\n1 2 sudo pacman -Rns dmenu yay -S dmenu2 å…¶ä»–å¯é€‰ ç»ˆç«¯å·¥å…· sudo pacman -S alacritty alacrittyçš„é…ç½®æ–‡ä»¶ä¸ºï¼š~/.config/alacritty/alacritty.yml\nä¸€äº›é›¶ç¢çš„è½¯ä»¶åŒ… i3lock # é”å± nm-applet # wifiä¿¡å· ç½‘ç»œçŠ¶æ€ ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ ","date":"2022-11-18T04:40:20+08:00","permalink":"https://dev.leiyanhui.com/arch/xinitc-xrdp/","title":"archlinux ä¸‹å®‰è£…xrdpå’Œxinitrc  i3wå…±å­˜"},{"content":"openwrt é˜²ç«å¢™ è‡ªå®šä¹‰è§„åˆ™\n192.168.100.1 æ˜¯å…‰çŒ«åœ°å€\n1 2 3 4 5 6 7 MODEMIP=192.168.100.1 MODEM_NET=`echo $MODEMIP | cut -d \u0026#34;.\u0026#34; -f 1-3` ROUTER_WAN_PORT_IP=192.168.100.2 WAN_PORT=eth0.2 ifconfig $WAN_PORT $ROUTER_WAN_PORT_IP netmask 255.255.255.0 broadcast $MODEM_NET.255 iptables -A forwarding_rule -d $MODEMIP -j ACCEPT iptables -t nat -A postrouting_rule -d $MODEMIP -o $WAN_PORT -j MASQUERADE ","date":"2022-11-16T14:20:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/forwardlightcat/","title":"openwrtè½¬å‘å…‰çŒ«"},{"content":"å…ˆå®‰è£…arch æ‰‹åŠ¨å®‰è£…çš„ https://dev.leiyanhui.com/arch/base-install/\nç„¶åå®‰è£…å›¾å½¢ç•Œé¢ æˆ‘ä¹‹å‰ä¸€ç›´ç”¨dwmç¯å¢ƒï¼Œä½†æ˜¯dwmæ¡Œé¢æœ‰ä¸€ä¸ªå°é—®é¢˜å°±æ˜¯ æ¯æ¬¡ä¿®æ”¹é…ç½® éƒ½éœ€è¦é‡æ–°é‡æ–°ç¼–è¯‘ï¼Œå¹¶ä¸”é‡å¯ä¸€æ¬¡x ç•¥å¾®éº»çƒ¦ï¼Œè¿™æ¬¡æˆ‘å¼€å§‹æ›´æ¢ä½¿ç”¨i3w\næ˜¾å¡é©±åŠ¨ å…ˆå®‰è£…linux-firmware,æå®šåŸºæœ¬çš„é©±åŠ¨\npacman -S linux-firmware å½“ç„¶æ˜¯æ˜¾å¡é©±åŠ¨ lspci | grep VGA $ sudo pacman -S é©±åŠ¨åŒ…\né€šç”¨----------------------------------xf86-video-vesa intel----------------------------------xf86-video-intel Geforce7Â±-------------------------xf86-video-nouveau Geforce6/7-------------------------xf86-video-304xx virtualbox éœ€è¦å¦å¤–å¤„ç† ä¿®æ”¹æ˜¾å­˜åˆ°256Mï¼ˆå¥½åƒæœ€å¤§å°±æ˜¯256Mï¼‰ VBoxManage modifyvm \u0026quot;archlinux\u0026quot; --vram 256 å®‰è£…virtualboxé©±åŠ¨ å¯åŠ¨è™šæ‹Ÿæœºï¼Œvboxä¸­ èœå•ç‚¹è®¾å¤‡ï¼Œå®‰è£…å¢å¼ºåŠŸèƒ½ æˆ–è€…æ‰‹åŠ¨æŒ‚è½½VBoxGuestAdditions.iso åˆ°è™šæ‹Ÿæœºï¼Œarchä¸­æŒ‚è½½è™šæ‹Ÿå…‰é©±\nsudo mount /dev/cdrom /mnt /mnt/VBoxLinuxADXXX.run #tab è‡ªåŠ¨è¡¥å…¨ kvmä¸‹çš„å¤„ç† kvmæ¨¡å¼è·‘çš„arch å¯ä»¥ç”¨ virio-gpu çš„æ˜¾å¡ï¼Œå†…æ ¸æ”¯æŒ3Dï¼Œä¸éœ€è¦å¦å¤–é©±åŠ¨ã€‚å®¿ä¸»è¦é©±åŠ¨ã€‚\nå®‰è£…xorg sudo pacman -S xorg-server å®‰è£…ç‚¹å­—ä½“ sudo pacman -S ttf-dejavu wqy-microhei å®‰è£…sddm æˆ–è€…ç”¨startxï¼Œæˆ‘é€‰startx sudo pacman -S xorg-xinit å®‰è£…æ¡Œé¢ç¯å¢ƒï¼Œæˆ‘ç”¨i3wmï¼Œå¹¶ä¸”é€‰gapsåˆ†æ”¯ sudo pacman -S i3-gaps å®‰è£…ç»ˆç«¯ sudo pacman -S alacritty #ä¹Ÿå¯ä»¥ç”¨ mate-terminal æˆ–è€…st é»˜è®¤æ˜¯ i3-sensible-terminal èœå•å·¥å…· sudo pacman -S dmenu çŠ¶æ€æ  sudo pacman -S i3status è¾“å…¥æ³• sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin fcitx-cloudpinyin #ä¸æ€•æŠ˜è…¾ ç”¨ fcitx-rime æåº¦æµç•…ï¼Œä½†æ˜¯ä¸æ”¯æŒ fcitx-cloudpinyin æµè§ˆå™¨ï¼Œæˆ‘ç”¨ç«ç‹ï¼Œedgeè¦aurå“ˆ sudo pacman -S firefox æˆªå›¾ ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ sudo pacman -S flameshot nm-connection-editor network-manager-applet é…ç½®wifi sudo nmcli device wifi connect wifiåç§° password wifiå¯†ç  è“ç‰™ç›¸å…³ sudo pacmsn -S usbutils bluez bluez-utils sudo systemctl enable bluetooth sudo systemctl start bluetooth bluetoothctl qqå’Œå¾®ä¿¡ sudo pacman -S base-devel sudo pacman -S dunst libnotify # é€šçŸ¥æ¶ˆæ¯ yay -S electronic-wechat-uos-bin icalingua++ yayçš„å®‰è£…å‚è€ƒï¼šhttps://dev.leiyanhui.com/c/archlinux-install-yay/\n2024-03-7 å·²ç»æœ‰åŸç”Ÿç‰ˆå¾®ä¿¡ï¼Œè™½ç„¶ç›®å‰ä¹‹æ”¯æŒuoså’Œéº’éºŸç­‰ç³»ç»Ÿï¼Œå®é™…ä¸Šå…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨ã€‚\n2022å¹´12æœˆ07æ—¥ è…¾è®¯å·²ç»å‘å¸ƒæ–°ç‰ˆlinux qq æ–‡ä»¶ç®¡ç†å™¨ sudo pacman -S thunar æ–‡æœ¬ç¼–è¾‘å™¨ sudo pacman -S xde # gedit é…ç½®startx cp /etc/X11/xinit/xinitrc ~/.xinitrc #å¤åˆ¶ä¸€ä¸ªè¿‡æ¥ nano ~/.xinitrc #æ³¨é‡Šæ‰æœ€åçš„å‡ è¡Œ-æ·»åŠ å‡ è¡Œ export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\\@im=fcitx fcitx \u0026amp; flameshot \u0026amp; #æˆªå›¾å·¥å…· nm-applet \u0026amp; #wifiç³»ç»Ÿæ‰˜ç›˜ exec i3 è¾“å…¥æ³•çš„é…ç½®æœ€å¥½åŠ åˆ° ~/.pam_environment ibusçš„è¯å‚è€ƒ [https://dev.leiyanhui.com/arch/base-install/]](https://dev.leiyanhui.com/arch/base-install/])\nå¯åŠ¨i3 startx å£çº¸ sudo pacman -S feh mkdir ~/wallpaper \u0026amp;\u0026amp; cd ~/wallpaper sudo pacman -S unzip wget # è§£å‹å’Œä¸‹è½½å·¥å…· ## ä»æˆ‘è‡ªå·±çš„ä»“åº“ä¸‹è½½ä¸€ç‚¹å£çº¸ wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/dwm-wallpaper.zip unzip dwm-wallpaper.zip mv file.leiyanhui.com-dwm-wallpaper/*.jpg . rm -rf dwm-wallpaper.zip file.leiyanhui.com-dwm-wallpaper åŠé€æ˜ sudo pacman -S picom é…ç½®i3 + feh nano ~/.config/i3/config æ‰¾åˆ°å¯¹åº”çš„è¡Œç¼–è¾‘ï¼Œæˆ–è€…æ·»åŠ \n#å£çº¸ exec_always --no-startup-id feh --randomize --bg-fill ~/wallpaper #åŠé€æ˜ exec_always --no-startup-id picom # start a terminal ç»ˆç«¯ #bindsym $mod+Return exec i3-sensible-terminal bindsym $mod+Return exec alacritty i3wçš„é…ç½® è¿™é‡Œä¸å±•å¼€äº†ï¼Œè‡ªå·±çœ‹wiki $mod+shift+r é‡è½½i3 $mod+d å…è®¸ dmenu $mod+å›è½¦ æ‰“å¼€ç»ˆç«¯\nè®¾ç½®åˆ†è¾¨ç‡\nxrandr --output Virtual-1 --mode 1920x1080 å‘½i3wä»¤å’Œé…ç½®æ–‡ä»¶æ•´ç† https://github.com/joyanhui/i3w\né…é¢remmina 1 2 3 4 sudo pacman -S remmina sudo pacman -S libvncserver sudo pacman -S spice-gtk sudo pacman -S freerdp æ”¯æŒ spice vnc sftp ssh rdp\nå…¶ä»–åç»­ å®‰è£…rustdesk https://dev.leiyanhui.com/arch/rustdesk/\n","date":"2022-11-15T15:23:20+08:00","permalink":"https://dev.leiyanhui.com/arch/startx/","title":"archlinux å›¾å½¢ç•Œé¢i3å®‰è£… åˆ° æ­£å¸¸å¯ä»¥ç”¨çš„å·¥ä½œæœºï¼ŒåŒ…æ‹¬è¾“å…¥æ³• æµè§ˆå™¨ å¾®ä¿¡ qqç­‰"},{"content":"picom é…ç½®æ–‡ä»¶ mkdir ~/.config/picom/ cp /etc/xdg/picom.conf ~/.config/picom/picom.conf nano ~/.config/picom/picom.conf éæ´»åŠ¨çª—å£é€æ˜åº¦ åœ¨ Transparency / Opacity è¿™æ®µçš„åé¢ inactive-opacity\nalacritty é…ç½®æ–‡ä»¶ 1 2 mkdir ~/.config/alacritty cp /usr/share/doc/alacritty/example/alacritty.yml ~/.config/alacritty/alacritty.yml å­—ä½“å¤§å° ç›´æ¥ç”¨ ctrl å’Œ - + å¯ä»¥è°ƒæ•´\næˆ–è€… ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ size è¿™ä¸ª\næ›´æ¢å­—ä½“ ä¿®æ”¹ family æ¨èç”¨ monospace\nèƒŒæ™¯é€æ˜ æ—§ç‰ˆæœ¬ background_opacity: 0.7 æ–°ç‰ˆ\nwindow: opacity: 0.7 xorgä¸‹æ— æ³•ä½¿ç”¨fcixè¾“å…¥æ³•çš„é—®é¢˜ ç½‘ä¸Šèµ„æ–™å¤šwaylandä¸‹çš„ï¼Œæˆ‘æ²¡æ‰¾åˆ°é—®é¢˜ï¼ŒåŒæ—¶å‘ç° i3-sensible-terminal ä¹Ÿå­˜åœ¨é—®é¢˜ã€‚æš‚æ—¶ ç”¨ terminator\nterminator sudo pacman -S terminator ç®€å•é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 mkdir ~/.config/terminator/ nano ~/.config/terminator/config [profiles] [[default]] background_color = \u0026#34;#002b36\u0026#34; background_darkness = 0.7 background_image = None background_type = transparent foreground_color = \u0026#34;#e0f0f1\u0026#34; show_titlebar = False use_system_font = yes çŠ¶æ€æ æ›¿æ¢ä¸ºpolybar sudo pacman -S polybar æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ polybar\nåˆ›å»ºpolybarçš„ sh nano ~/.config/polybar/launch.sh ---------- #!/bin/bash # Terminate already running bar instances killall -q polybar # Wait until the processes have been shut down while pgrep -u $UID -x polybar \u0026gt;/dev/null; do sleep 1; done # Launch Polybar, using default config location ~/.config/polybar/config polybar example] ----------- sudo chmod +x ~/.config/polybar/launch.sh ç¼–è¾‘i3é…ç½®æ–‡ä»¶æ”¹ä¸º polybar nano ~/.config/i3/config æ·»åŠ ä¸€è¡Œ\nexec_always --no-startup-id $HOME/.config/polybar/launch.sh é…ç½®æ–‡ä»¶ mkdir ~/.config/polybar cp //etc/polybar/config.ini ~/.config/polybar/ nano ~/.config/polybar/config.ini\nå¦å¤–å¼€ä¸€ä¸ªç»ˆç«¯ ip link show æŸ¥çœ‹ç½‘å¡ï¼Œæˆ‘è¿™é‡Œæ˜¯pveç¯å¢ƒåªæœ‰æœ‰çº¿ç½‘å¡\nå…¶ä»– é»˜è®¤ä¸­æ–‡åŒ–ï¼Œé˜²æ­¢éƒ¨åˆ†è½¯ä»¶æ‰“å¼€æ˜¯è‹±æ–‡ç‰ˆ 1 2 3 4 5 6 7 ## ~/.xprofile export LANG=\u0026#34;zh_CN.UTF-8\u0026#34; export LC_ALL=\u0026#34;zh_CN.UTF-8\u0026#34; #export GDK_SCALE=2 #export GDK_DPI_SCALE=0.5 #export QT_AUTO_SCREEN_SCALE_FACTOR= i3wä¸»é¢˜ pacman -S arc-icon-theme adwaita-icon-theme lxappearance # ç„¶åè¿è¡Œ lxappearance å¯ä»¥ç®€å•é…ç½® # adwaita-icon-theme è¿™ä¸ªåŒ…æˆ‘ä¸å¤ªå–œæ¬¢ emojiå­—ä½“ æˆ‘é€‰æ‹©appleçš„ yay -S ttf-apple-emoji\n","date":"2022-11-15T15:23:20+08:00","permalink":"https://dev.leiyanhui.com/arch/i3w-picom-alacritty/","title":"i3wä¸‹picomåŠé€æ˜ ä»¥åŠalacritty çš„ç®€å•é…ç½®"},{"content":"thunar æ˜¯ä¸€ä¸ªè½»é‡ï¼Œç®€å•æ˜“ç”¨çš„æ–‡ä»¶ç®¡ç†å™¨ã€‚ ç®€å•æ˜“ç”¨ä¸ä»£è¡¨ä¸å¼ºå¤§ã€‚\nä¸‹é¢ä»¥archä¸ºä¾‹\nå®‰è£… pacman -S thunar usbè‡ªåŠ¨æŒ‚è½½ ä»¥åŠ smb ç­‰æŒ‚è½½ pacman -S gvfs pacman -S gvfs-smb sshfs é‡æ–°æ‰“å¼€ thunar å°±å¯ä»¥å•¦ smb://, ftp://, ssh://, sftp://, davs:// æ¯”å¦‚\næŒ‚è½½ alistçš„webdav davs://åœ°å€:50443/dav/ æŒ‚è½½è·¯ç”±å™¨ sftp://10.0.0.8/ sshï¼š// = sftp:// æŒ‚ç¾¤æ™– smb://10.0.0.8/sharemnt/ å¦‚æœè‡ªåŠ¨æŒ‚åœ¨ æ‰‹æœºæˆ–è€…å…¶ä»–éœ€è¦ gvfs-mtp è¿™ä¸ªåŒ… ä¹Ÿå¯èƒ½éœ€è¦gvfs-backends gvfs-fuse è¿™ä¸¤ä¸ªåŒ…ã€‚\nå…¶å®rcloneç»Ÿä¸€ç®¡ç†å¯èƒ½æ›´æ–¹ä¾¿ä¸€äº›\né…ç½®å³é”® æ‰“å¼€shell ç‚¹ edit -\u0026gt; custom actions ç¼–è¾‘ exo-open --working-directory %f --launch TerminalEmulator æˆ‘æ˜¯ç”¨çš„ terminatorï¼Œè¿™é‡Œåˆ æ‰è¾“å…¥ terminatorå°±å¥½å•¦ã€‚ å…¶ä»–çš„ç»ˆç«¯è‡ªå·±çœ‹çœ‹urxvt:urxvt -e bash\nå³é”®é…ç½® codeserver ç•¥è¿‡ï¼Œç”¨ç«ç‹httpåˆ°coderserver å°±å¥½\næ–‡ä»¶å…³è”ä»€ä¹ˆçš„ã€‚ã€‚ æˆ‘æš‚æ—¶æ²¡éœ€æ±‚\u0026hellip;\n","date":"2022-11-15T15:23:20+08:00","permalink":"https://dev.leiyanhui.com/arch/thunar-config/","title":"linuxæœ€å¥½ç”¨çš„thunar æ–‡ä»¶ç®¡ç†å™¨çš„ç®€å•ä½¿ç”¨ å’Œé…ç½®"},{"content":"å¦‚æœæ˜¯å°ç£ç›˜å®‰è£…ï¼Œé»˜è®¤æ˜¯å…³é—­é¢„ç•™ç©ºé—´ï¼Œå¹¶ä¸”compcatçš„\né‡Šæ”¾é¢„ç•™ç©ºé—´ dism /Online /Set-ReservedStorageState /State:Disabled NTFSçš„compactå‘½ä»¤ compact /compactOS:always ç¬¬ä¸‰æ–¹å·¥å…· dism++ 10.x å¼€ä¸“å®¶æ¨¡å¼ ï¼Œå¯ä»¥compact lzx\n","date":"2022-11-15T00:00:00Z","permalink":"https://dev.leiyanhui.com/win/compat/","title":"win10 win11çš„ç£ç›˜å‹ç¼©"},{"content":"åŸºæœ¬æƒ…å†µ ç¡¬ç›˜å ç”¨ åœ¨ 3-5Gä¹‹é—´ï¼Œå¼€å¯compactçš„è¯ å¯ä»¥3Gå¤šä¸€äº›ã€‚\nå¼€æœºå†…å­˜å ç”¨ 560M\n.net æ‰“å°æœº smb ç­‰ éƒ½å¯ä»¥å•ç‹¬æ‰“å¼€å®‰è£…\næ²¡æœ‰ åº”ç”¨å¸‚åœºï¼Œä¿ç•™äº†æˆªå›¾ cmd powershell è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯ ç”»å›¾å·¥å…· è®°äº‹æœ¬ å†™å­—æ¿ ç­‰\nå¤šæ•°æ¸¸æˆæ²¡é—®é¢˜\næ‰“å°æœºå¯ç”¨ï¼Œæ‰“å°æœºå…±äº«ä¸ç¡®å®š\nä½œè€…ç›¸å…³ ä½œè€…æ¨ç‰¹ï¼šhttps://twitter.com/NTDEV_\nè§†é¢‘ä»‹ç»ï¼š\nhttps://www.youtube.com/watch?v=4cF3UW5W980\nä¸‹è½½åœ°å€\nx64 - https://www.mediafire.com/file/jxyc8n25s1asati/tiny10_21H2_x64_2209.iso/file\nx86 - https://www.mediafire.com/file/9ed820whh14lfcb/tiny10_21H2_x86_2209.iso/file\n","date":"2022-11-15T00:00:00Z","permalink":"https://dev.leiyanhui.com/win/tiny10/","title":"å›½å¤–å¤§ç¥NTDEV çš„win10ç²¾ç®€ç‰ˆï¼Œç¡¬ç›˜å ç”¨3-5Gï¼Œå¼€æœº500Mçš„å†…å­˜å ç”¨"},{"content":"å¾ˆä¸å–œæ¬¢ç”¨swapåˆ†åŒºï¼Œä¸å¤Ÿçµæ´»ï¼Œfileæ–¹å¼æ€§èƒ½ç•¥å·®ï¼Œä½†å·®è· åœ¨ä½¿ç”¨ä¸­æ„Ÿè§‰ä¸åˆ°ã€‚ æ‰€ä»¥æˆ‘ä¹ æƒ¯æ€§ç”¨ æ–‡ä»¶swap\n1 2 3 4 5 6 7 8 9 10 sudo dd if=/dev/zero of=/swapfile bs=1M count=1024 status=progress #å¿…é¡»è®¾ç½®ï¼Œä¸ç„¶æ˜¯ä¸€ä¸ªä¸¥é‡å®‰å…¨æ¼æ´ sudo chmod 600 /swapfile # æ ¼å¼åŒ–å’Œå¯ç”¨ sudo mkswap /swapfile sudo swapon /swapfile # è‡ªåŠ¨æŒ‚è½½ï¼Œæ·»åŠ ä¸€è¡Œ sudo nano /etc/fstab ------- /swapfile none swap defaults 0 0 ","date":"2022-11-01T22:07:20+08:00","permalink":"https://dev.leiyanhui.com/arch/swapfile/","title":"Linuxè®¾ç½®swapfile archlinux"},{"content":"å®‰è£… alsa sudo pacman -S alsa-utils\nå¦å¤–å¯èƒ½éœ€è¦æŠŠå½“å‰ç”¨æˆ·åŠ åˆ°audio ç”¨æˆ·ç»„ sudo gpasswd -a leiyanhui audio æŸ¥çœ‹ç»„æƒ…å†µ id leiyanhui ï¼Œç„¶åé‡æ–°ç™»å½•ä¸€æ¬¡sshã€‚å¦åˆ™è¿œç¨‹ç™»å½•çš„ç”¨æˆ·æ˜¯æ²¡æœ‰æƒé™æ’­æ”¾å£°éŸ³çš„\nå°è¯•è§£å†³ å…ˆæå®šALSA å·¥å…· sudo pacman -S alsa-utils è¿è¡Œ alsamixer æŠŠMMçš„æŒ‰mé”®å–æ¶ˆé™éŸ³\næµ‹è¯•å£°éŸ³ speaker-test -c 2 æµ‹è¯•æ²¡é—®é¢˜ ä¿å­˜ alsactl store\nå¦‚æœaplay -læ‰¾ä¸åˆ°å£°å¡ï¼Œé‚£å…ˆçœ‹çœ‹æœ‰æ²¡æœ‰åœ¨kvmçš„æŠŠå£°å¡idç»‘å®šåˆ° vfio\nä½ ä¹Ÿå¯ä»¥ aplay test.wav æ‰¾ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶æ’­æ”¾æµ‹è¯•\næŸ¥çœ‹å£°å¡ sudo aplay -l\n**** List of PLAYBACK Hardware Devices **** card 0: PCH [HDA Intel PCH], device 0: ALC887-VD Analog [ALC887-VD Analog] Subdevices: 1/1 Subdevice #0: subdevice #0 card 0: PCH [HDA Intel PCH], device 1: ALC887-VD Digital [ALC887-VD Digital] Subdevices: 1/1 Subdevice #0: subdevice #0 card 0: PCH [HDA Intel PCH], device 3: HDMI 0 [HDMI] Subdevices: 1/1 Subdevice #0: subdevice #0 å…ˆè§£é™¤é™éŸ³ sudo alsamixer ç”¨å·¦å³é”®æ‰¾åˆ° MMçš„ æ‰€æœ‰è®¾å¤‡ ç‚¹ä¸€ä¸‹M ç„¶åä¸Šä¸‹ è°ƒä¸€ä¸‹éŸ³é‡ã€‚\næˆ‘è¿™é‡Œæ˜¯ç”¨æ¿è½½å£°å¡ï¼Œè€ŒéHDMI æ‰€ä»¥ï¼Œåœ¨æ¿è½½ä¸Šç›´æ¥æ’å…¥è€³æœº å³å¯\næµ‹è¯•å£°éŸ³ speaker-test -c 2\nå¦‚æœæœ‰å¼€kvm æˆ–è€… æ£€æŸ¥ä¸€ä¸‹ /etc/modprobe.d/ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œæœ‰æ²¡æœ‰æ‹‰é»‘å£°å¡é©±åŠ¨ï¼Œ æ¯”å¦‚ blacklist.conf blacklist snd_hda_intel è¦å»æ‰ï¼Œç„¶å é‡æ–°ç”Ÿæˆinitramfs sudo mkinitcpio -P\næœ¬æ–‡å‚è€ƒï¼šhttps://wiki.archlinux.org/title/Advanced_Linux_Sound_Architecture_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\n","date":"2022-11-01T18:50:20+08:00","permalink":"https://dev.leiyanhui.com/arch/arch-sound/","title":"archLinux å‘½ä»¤è¡Œä¸‹alsaå£°å¡çš„é…ç½®çš„å’Œä½¿ç”¨"},{"content":"alpineçš„ä¼˜åŠ¿ä¸ç”¨å¤šè¯´ï¼Œ è½»é‡å°å·§ï¼Œè¿˜æœ‰diskless\nkvm ä¹Ÿæ˜¯linux æœ€å¥½çš„è™šæ‹Ÿæœºè½¯ä»¶äº†ï¼Œæ€§èƒ½åº”è¯¥ä¹Ÿæ˜¯æœ€å¥½çš„ã€‚\næœ€ç»ˆç›®æ ‡ æ˜¯æ­å»ºä¸€ä¸ªè½»é‡çš„linux é‡Œé¢åªè·‘dockerå’Œkvm\nå¯ä»¥ç›´æ¥ä½¿ç”¨QEMUæ¥è¿è¡Œè™šæ‹Ÿæœºï¼Œä½†æ˜¯ç®¡ç†å‘½ä»¤è¾ƒä¸ºå¤æ‚ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬éƒ½ä¼šå®‰è£…libvirtæ¥å¸®åŠ©ç®¡ç†ã€‚\nalpineå®‰è£… ç•¥ å®‰è£…å®Œæˆ å¤§æ¦‚éœ€è¦40Må·¦å³ç¡¬ç›˜ç©ºé—´\nå‡†å¤‡å®‰è£… å¤„ç†æº nano /etc/apk/repositories å»æ‰communityçš„é‚£è¡Œçš„æ³¨é‡Š\nå®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶åŒ… kvm éœ€è¦çš„ kvm è¿˜æ˜¯æœ€å¥½ç”¨qemuæ¥ç®¡ç†ï¼Œè¿˜æœ‰libvirt ä¸ºäº†æ–¹ä¾¿æœ€å¥½å†å®‰è£…ä¸€ä¸ª virt-install\napk add libvirt-daemon qemu-img qemu-system-x86_64 qemu-modules apk add virt-install rc-update add libvirtd rc-service libvirtd start virsh list å¦‚æœdiskless è¿˜éœ€è¦\nlbu ci ç°åœ¨å¤§æ¦‚éœ€è¦327M ç¡¬ç›˜\nå†å®‰è£…docker apk add docker ç°åœ¨ 546.6M\nè¿œç¨‹kvmæ‰€éœ€è¦çš„ apk add dbus polkit virt-manager terminus-font rc-update add dbus ","date":"2022-10-31T14:31:20+08:00","permalink":"https://dev.leiyanhui.com/alpine/install-kvm-docker-sys/","title":"Alpine Linuxè¿è¡ŒKVMè™šæ‹ŸåŒ– å’Œ docker"},{"content":" è¿™é‡Œå‡å®šä½ å·²ç»å®‰è£…å¥½äº†pveï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„linuxå’ŒmacosåŸºæœ¬åŸºç¡€ï¼Œæœ¬æ–‡åŸºäºæœ€æ–°ç‰ˆpve7.2-11 å…¶æ¬¡ï¼ŒpveæŠ˜è…¾ä¸€ä¸ªæµç•…å¥½ç”¨çš„é»‘è‹¹æœæ˜¯ä¸€ä¸ªéå¸¸æ¼«é•¿çš„è¿‡ç¨‹ï¼Œå¾ˆå¤šå‚æ•°å’Œé…ç½®ï¼Œåˆ«äººçš„æ•™ç¨‹éƒ½æ˜¯ä»…ä¾›ä½ å‚è€ƒï¼Œå°¤å…¶æ˜¯ç¡¬ä»¶ç›´é€šï¼Œè¿˜æ˜¯å¾ˆå¤æ‚ï¼Œä½ è¦æœ‰æ—¶é—´ç ”ç©¶æŠ˜è…¾ æˆ‘çš„pve æ˜¯ ç”¨ventoyå¯åŠ¨çš„ç¡¬ç›˜vhdæ–‡ä»¶æ”¾åœ¨exfatåˆ†åŒº æ‰€ä»¥åé¢ä¸€éƒ¨åˆ†å†…å®¹å¯èƒ½å’Œventoyæœ‰å…³ï¼Œå¦‚æœä½ æ˜¯ç›´æ¥å®‰è£…åœ¨ç¡¬ç›˜ä¸Šçš„ å¯ä»¥è·³è¿‡è¿™éƒ¨åˆ†å†…å®¹\næˆ‘çš„ç¡¬ç›˜åªæœ‰ä¸¤å— - ç¬¬ä¸€å—ç¡¬ç›˜ nvme ssd 512G - ç¡¬ç›˜å®‰è£…äº†ventoy - ä¸‰ä¸ªåˆ†åŒº\n- ç¬¬ä¸€åˆ†åŒº æ˜¯æ”¾ventoyçš„å¯åŠ¨æ–‡ä»¶ä¹Ÿå¯ä»¥ä½œä¸ºç¬¬äºŒefiåˆ†åŒº åˆ†åŒºå¤§å°800Må·¦å³fat32æ ¼å¼ - ç¬¬äºŒåˆ†åŒºæ˜¯ventoyefi 32m fat16æ ¼å¼ ï¼Œ - ç¬¬ä¸‰åˆ†åŒºæˆ‘ä¸»è¦æ•°æ®åˆ†åŒºä¹Ÿæ˜¯ventoyçš„ä¿ç•™åˆ†åŒºå®é™…å¤§å°465Gï¼Œpveç³»ç»Ÿçš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶ä¹Ÿæ”¾åœ¨è¿™é‡Œ - ç¬¬äºŒç¡¬ç›˜ 1T å¤è‘£ç›˜ å­˜æ”¾ä¸€äº›å¤‡ä»½æ–‡ä»¶\nå‡†å¤‡æ–‡ä»¶ macosçš„æ¢å¤é•œåƒVentura-recovery.img OSX-KVM å·²ç»æ”¯æŒåœ¨linuxä¸‹ç›´æ¥è·å–Venturaçš„æ¢å¤é•œåƒäº† opencoreé•œåƒï¼ŒåŸºäºkvmä¼˜åŒ–è¿‡çš„OpenCore OpenCore-v19.iso https://github.com/thenickdude/KVM-Opencore/releases/ å¯é€‰ï¼šé›†æˆvirtioçš„winpeï¼Œæ–¹ä¾¿æ”¹é”™ocpencoreåè¿›peä¿®å¤ï¼Œ https://blog.csdn.net/flydream3618/article/details/47357895 å¯é€‰ï¼šwin10å®‰è£…ç›˜iso ä»¥åŠWindowsçš„virtio-win.iso é©±åŠ¨ https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/ å¯é€‰ï¼šæ˜¾å¡ç›´é€šéœ€è¦çš„vboisæ–‡ä»¶ æˆ‘çš„æ˜¯uhd630 ä½ å¦‚æœæ˜¯åŒæ¬¾æ ¸æ˜¾å¯ä»¥ç›´æ¥ç”¨ https://github.com/joyanhui/file.leiyanhui.com/tree/main/pve-unraid-kvm vbios_gvt_uefi.rom éƒ½æ”¾åˆ° æœºæ¢°ç›˜çš„ isoç›®å½•é‡Œé¢\npveçš„å‡†å¤‡å·¥ä½œ pve åˆ é™¤ local-lvmï¼ˆéå¿…é¡»ï¼Œä½†æ˜¯ä½ æ˜¯æ–°æ‰‹çš„è¯ï¼Œå»ºè®®åˆ æ‰ï¼‰ lvremove pve/data lvextend -l +100%FREE -r pve/root åœ¨æ•°æ®ä¸­å¿ƒ-å­˜å‚¨ä¸­åˆ é™¤local-lvmåˆ†åŒºï¼Œå¹¶ç¼–è¾‘localï¼Œåœ¨å†…å®¹ä¸€é¡¹ä¸­å‹¾é€‰æ‰€æœ‰å¯é€‰é¡¹\næ›´æ–°å›½å†…æºç  mkdir /root/bakfile cp /etc/apt/sources.list //root/bakfile/sources.list nano /etc/apt/sources.list ## deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free ## deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free ## deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free ## deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free cp /etc/apt/sources.list.d/pve-enterprise.list /root/bakfile/pve-enterprise.list nano /etc/apt/sources.list.d/pve-enterprise.list https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian bullseye pve-no-subscription cp /usr/share/perl5/PVE/APLInfo.pm /root/bakfile/APLInfo.pm sed -i 's|http://download.proxmox.com|https://mirrors.tuna.tsinghua.edu.cn/proxmox|g' /usr/share/perl5/PVE/APLInfo.pm systemctl restart pvedaemon.service apt-get update \u0026amp;\u0026amp; apt upgrade å¤„ç†ä¸€ä¸‹kveçš„ä¸€ç‚¹å°é—®é¢˜ è¿™æ­¥éª¤éå¿…é¡»çš„ï¼Œå¦‚æœä½ çš„macosè™šæ‹Ÿæœºä¸€ç›´æ— é™é‡å¯ï¼Œå°±è¦åœ¨kveæ‰§è¡Œ\necho \u0026quot;options kvm ignore_msrs=Y\u0026quot; \u0026gt;\u0026gt; /etc/modprobe.d/kvm.conf \u0026amp;\u0026amp; update-initramfs -k all -u æç¤ºNo /etc/kernel/proxmox-boot-uuids found, skipping ESP sync. æ²¡å…³ç³»çš„ï¼Œæ·»åŠ æ­¤è¡Œå pveä¸»æœºæ§åˆ¶å°ä¼šæç¤º ä¸€ä¸ª ç±»ä¼¼kvm [1219]: ignored çš„ä¿¡æ¯ï¼Œä½ å¦‚æœæ„Ÿè§‰çƒ¦èº ä½ å¯ä»¥ ä¿®æ”¹æˆoptions kvm ignore_msrs=Y report_ignored_msrs=N å¿½ç•¥è¿™ä¸ªæç¤º\né‡å¯pve å‡†å¤‡ä¸»è¦æ–‡ä»¶ opencoreå’Œmacosçš„æ¢å¤é•œåƒ ä¸‹è½½ kvm-opencoreï¼Œç›®å‰æœ€æ–°ç‰ˆæ˜¯v19 1 2 3 cd /var/lib/vz/template/iso/ wget https://ghproxy.com/https://github.com/thenickdude/KVM-Opencore/releases/download/v19/OpenCore-v19.iso.gz gzip -d OpenCore-v19.iso.gz æˆ–è€…è‡ªå®šä¸‹è½½åä¸Šä¼ åˆ°pveçš„isoé‡Œé¢\næ³¨æ„è¿™ä¸ªè™½ç„¶åç¼€æ˜¯isoï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯rawæ ¼å¼çš„imgæ–‡ä»¶ï¼Œåé¢ä¼˜åŒ–macosçš„æ—¶å€™æˆ‘ä»¬è¿˜è¦å¯¹ä»–è¿›è¡Œä¸€äº›å¤„ç†ã€‚\nè·å– macos 13 ventura æ¢å¤é•œåƒ ä½¿ç”¨å®¹å™¨æ­å»ºä¸€ä¸ªç¼–è¯‘ç¯å¢ƒ è™½ç„¶pveä¹Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„debianç³»ç»Ÿï¼Œä½†æ˜¯æœ¬ç€å„è´Ÿå…¶è´£çš„ç®€å•ç®¡ç†åŸåˆ™ï¼Œå°½é‡é¿å…å¯¹pveæœ¬èº«è¿›è¡Œå¤ªå¤šçš„ä¿®æ”¹ã€‚æ‰€ä»¥å»ºè®®ä»å®¹å™¨é‡Œé¢æã€‚ä½ åªè¦æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ“ä½œ å¿…å®šå¯ä»¥ã€‚\nè·å–ä¸€ä¸ªctå®¹å™¨çš„ubuntué•œåƒ ä¿®æ”¹æºä» pveåå°ï¼š local\u0026gt;CTæ¨¡æ¿ï¼Œè·å–ä¸€ä¸ªUbuntu18çš„é•œåƒ\næˆ–è€…ç›´æ¥ä¸‹è½½åä¸Šä¼ åˆ°pve\ncd /var/lib/vz/template/cache/ wget https://mirrors.tuna.tsinghua.edu.cn/proxmox/images/system/ubuntu-18.04-standard_18.04.1-1_amd64.tar.gz åˆ›å»ºä¸€ä¸ªubuntu18çš„CTå®¹å™¨ å®¹å™¨åç§° ubuntu18 å¯†ç  è®°ä½ è¿™ä¸ªå¯†ç æ˜¯å®¹å™¨çš„rootå¯†ç  æ¨¡æ¿é€‰ubuntu18è¿™ä¸ª ç£ç›˜å¤§å°16G cpu ç»™å‡ ä¸ª æ— æ‰€è°“ç»™4ä¸ª å†…å­˜swapéƒ½ç»™1024 ç½‘ç»œdhcp å…¶ä»–ä¸ç”¨è®¾ç½® æ§åˆ¶å° ç”¨root å’Œä¸Šé¢çš„å¯†ç ç™»å½• æ›´æ–°ä¸€ä¸‹è¿™ä¸ªCTå®¹å™¨ mv /etc/apt/sources.list /etc/apt/sources.list-bak nano /etc/apt/sources.list æ¢å›½å†…æº,æ¸…åæº åº”è¯¥æ˜¯å·²ç»åœæ­¢äº†å¯¹ubuntu18 çš„æ”¯æŒï¼Œå»ºè®®è°ƒç”¨ ä¸­ç§‘å¤§çš„æºï¼Œé˜¿é‡Œçš„ä¹Ÿå¯ä»¥ç”¨ï¼Œä½†æ˜¯é˜¿é‡Œäº‘çš„æºä»ä»Šå¹´3æœˆå¼€å§‹æŠ½é£ï¼Œç»å¸¸é™é€Ÿéå¸¸æ…¢\n#ä¸­ç§‘å¤§æº deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse æ›´æ–°ç³»ç»Ÿ\napt update apt upgrade å®‰è£…å·¥å…·åŒ… sudo apt install qemu-utils make git å…‹éš† https://github.com/thenickdude/OSX-KVM.git cd ~ #æˆ‘è¿™é‡Œç”¨äº†ghproxyçš„ä»£ç†åŠ é€Ÿï¼Œä½ ä¹Ÿå¯ä»¥æŒ‚æ¢¯å­ æˆ–è€…æ‰¾åˆ«çš„ä»£ç†åŠ é€Ÿ git clone https://ghproxy.com/https://github.com/thenickdude/OSX-KVM.git ç¼–è¯‘è·å–æ¢å¤é•œåƒ cd ~/OSX-KVM/scripts/ventura make Ventura-recovery.dmg # å®é™…ä¸‹è½½åœ°å€ï¼šhttp://oscdn.apple.com/content/downloads/29/26/071-09012/dt7dmh4ttm1v5ze5989bid4gkovavkykjz/RecoveryImage/BaseSystem.dmg æ ¹æ®æç¤ºï¼Œä»–æœ€åä¸€éƒ¨ æœ‰æ‰§è¡Œ qemu-img convert BaseSystem.dmg -O raw Ventura-recovery.dmg é‚£ä¹ˆè¿™ä¸ªæœ€ç»ˆçš„dmgå…¶å®å·²ç»æ˜¯rawæ–‡ä»¶äº†\næ‹‰åˆ°pveé‡Œé¢ pve æ‰§è¡Œ\npct pull 101 /root/OSX-KVM/scripts/ventura/Ventura-recovery.dmg /var/lib/vz/template/iso/Ventura-recovery.img è¿™æ ·æˆ‘ä»¬å°±æ‹¿åˆ°äº†Ventura-recovery.img\nubuntu18çš„ å®¹å™¨å¯ä»¥å…³æ‰ï¼Œä¹Ÿå¯ä»¥åˆ é™¤äº†\nåˆ›å»ºè™šæ‹Ÿæœº ä¸»è¦å‚æ•°\næ“ä½œç³»ç»Ÿ ï¼š other isoæ–‡ä»¶ï¼šå°±æ˜¯é‚£ä¸ª OpenCore-vXX.iso ä¸‹ä¸€æ­¥ æ˜¾å¡ï¼šVmwareå…¼å®¹ Qemuä»£ç†ï¼šå‹¾é€‰ æœºå™¨ï¼šq35 BIOSï¼šUEFI UEFIä¸‹é¢ï¼šé¢„æ³¨å†Œå¯†é’¥ å»æ‰,efiå‚¨å­˜åˆ°local æ€»çº¿ï¼šVirtIO ç¼“å­˜ï¼šWrite Backï¼ˆä¸å®‰å…¨ï¼‰æ ¼å¼qcow2 å®¹é‡ 28G+,å»ºè®®32G+ CPUæ ¸å¿ƒ: æ˜¯2çš„æ¬¡å¹‚ 2 4 8 16 æˆ‘12æ ¸å¿ƒçš„,åªèƒ½ç»™8 ï¼Œä¸å¯ä»¥12 10 18 è¿™æ ·çš„æ ¸å¿ƒæ•°ï¼Œç±»å‹ï¼špenryn Numaå¯ç”¨ å†…å­˜ 4Gä»¥ä¸Šï¼Œæˆ‘è¿™é‡Œ 8192 ç½‘ç»œæ¨¡å‹ï¼švirtIO åˆ›å»ºäº†è™šæ‹Ÿä¸»æœº 102ï¼ˆmacosï¼‰ï¼Œ102 ï¼Œä½ çš„å¯èƒ½æ˜¯åˆ«çš„\nåœ¨ç¡¬ä»¶é‡Œé¢ï¼Œæ·»åŠ ä»¥æ¶æcdromåˆ°Ventura-recovery.img\nå¼€æœºä¹‹å‰æ‰‹åŠ¨ç¼–è¾‘è™šæ‹Ÿæœºé…ç½® æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ /etc/pve/qemu-server/è™šæ‹Ÿæœºç¼–å·.conf\nå‰é¢æŒ‚è½½çš„opencoreXX.iso ä»¥åŠ Ventura-recovery.img æ”¹ä¸ºç¡¬ç›˜æ¨¡å¼\næ·»åŠ kvmçš„args ç¡¬ä»¶æ¬ºéª—\nnano /etc/pve/qemu-server/102.conf ä¿®æ”¹ä¸¤ä¸ªcdrom æ‰¾åˆ°å‰é¢opencoreXX.iso ä»¥åŠ Ventura-recovery.img ä¸¤è¡Œï¼Œä¸¤ä¸ª media=cdromåˆ æ‰æ”¹ä¸º cache=unsafe\nä¿®æ”¹argså‚æ•° åœ¨ç¬¬äºŒè¡Œæ·»åŠ \nargs: -device isa-applesmc,osk=\u0026quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026quot; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -cpu host,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc å¦‚æœä½ æ˜¯amdçš„cpu å†™æ³•ä¸åŒ\nargs: -device isa-applesmc,osk=\u0026quot;è¿™é‡Œå¾—è‡ªå·±æ‰¾~\u0026quot; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -cpu Penryn,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc,+pcid,+ssse3,+sse4.2,+popcnt,+avx,+avx2,+aes,+fma,+fma4,+bmi1,+bmi2,+xsave,+xsaveopt,check osk æ˜¯ç™½è‹¹æœçš„ä¸€ä¸ªç±»ä¼¼è®¾å¤‡ç¼–å·çš„ä»£ç ï¼ŒåŒå‹å·çš„macoséƒ½æœ‰ç›¸åŒè¿™ä¸ªä»£ç ï¼Œä½ å¯ä»¥ç½‘ä¸Šæœç´¢ä¸€ä¸‹å…¶ä»–çš„ä»£ç \nå‚è€ƒæˆ‘çš„ ç‚¹è¿™é‡ŒæŸ¥çœ‹\nå®‰è£…åŸºæœ¬çš„macos åªæ‰€ä»¥è¯´æ˜¯åŸºæœ¬çš„macosï¼Œæ˜¯å› ä¸ºmacoséå¸¸ä¾èµ–æ˜¾å¡ï¼Œè¿™é‡Œæš‚æ—¶åªæåˆ°ä¸€ä¸ªå¯ä»¥å¯åŠ¨çš„macos13 åŠ¨ç”»éƒ¨åˆ†ä¼šæ¯”è¾ƒå¡ï¼Œä¹Ÿä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿã€‚\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ¬¡ å¯åŠ¨é€‰ macos baseï¼Œç„¶åæ ¼å¼ç¡¬ç›˜ å·æ ‡è¾“å…¥è‡ªå®šä¹‰ä¸€ä¸ªï¼Œæ¯”å¦‚æˆ‘å°±è¾“å…¥çš„kvmï¼Œåé¢ä¼šé‡å¯å¤šæ¬¡ï¼Œæœ‰ macos installerçš„æ—¶å€™ é€‰macos installï¼Œæœ‰å‰é¢è¾“å…¥çš„å·æ ‡kvmçš„æ—¶å€™é€‰æ‹©kvm å…¶ä»–å®‰è£…è¿‡ç¨‹å’Œç™½è‹¹æœä¸€æ ·ï¼Œå¹¶ä¸å¤æ‚ï¼Œè¿›macæ¡Œé¢åï¼Œè‡ªå·±ä¿®æ”¹æˆä¸­æ–‡ å¼€æœºè‡ªåŠ¨å€’è®¡æ—¶è¿›macosçš„ä¼˜åŒ– çœ‹åé¢ç« èŠ‚ æ ¸æ˜¾ç›´é€šå’Œè“ç‰™ç›´é€šæ¥åŠ› ç­‰ è¯·çœ‹ åé¢çš„è¿›é˜¶æ•™ç¨‹\nmacosçš„ç®€å•ä¼˜åŒ– å®‰è£…å®Œæˆåï¼Œåœ¨pveé‡Œé¢åˆ é™¤ æŒ‚è½½çš„ Ventura-recovery.img\nä¸­æ–‡åŒ–å’Œæ—¶åŒº OSX-KVMæ‹‰å›æ¥çš„é•œåƒæ˜¯è‹±æ–‡ç‰ˆçš„ï¼Œ\nç‚¹å·¦ä¸Šè§’è‹¹æœï¼Œsystem settingï¼Œæœç´¢ langï¼Œæ·»åŠ ä¸­æ–‡ åˆ é™¤è‹±æ–‡ã€‚æç¤ºé‡å¯ï¼Œé‡å¯ä¸€ä¸‹\né‡å¯åï¼Œå³ä¸Šè§’é”®ç›˜ä½ç½® è®¾ç½®è¾“å…¥æ³•ï¼Œé€šç”¨è®¾ç½® æ—¶é—´æ—¥æœŸ æ—¶åŒº è¾“å…¥ä¸Šæµ·ï¼Œå›è½¦ã€‚ æç¤ºé‡å¯çš„æ—¶å€™ï¼Œå»ºè®®ä¸é‡å¯ç›´æ¥å…³æœº\nå¯é€‰æ“ä½œï¼šæ‰“å¼€macosçš„è¿œç¨‹æ¡Œé¢ æ–¹ä¾¿ä¸ä½¿ç”¨ç½‘é¡µæ§åˆ¶ä»– ç³»ç»Ÿåå¥½è®¾ç½®ï¼Œæœç´¢ å…±äº«ï¼Œæ‰“å¼€å…±äº«è®¾ç½®ï¼Œ æ‰“å¼€è¿œç¨‹ç®¡ç†ï¼ˆvnc+ardï¼‰ å’Œè¿œç¨‹ç™»é™†ï¼ˆsshï¼‰\nå¯é€‰ï¼šç‚¹å‡» è¿œç¨‹ç®¡ç† åé¢é‚£ä¸ªå¹å· ï¼Œå†ç‚¹ ç”µè„‘è®¾ç½® è®¾ç½®ä¸€ä¸ªvnc å¯†ç \nç‚¹ç½‘ç»œ ä»¥å¤ªç½‘ æŸ¥çœ‹ä¸€ä¸‹ipï¼Œç„¶åç”¨vncå®¢æˆ·ç«¯è¿œç¨‹ï¼Œåé¢çš„æ“ä½œç”¨vncå®¢æˆ·ç«¯æ¥æ“ä½œï¼Œä¼šæ¯”pve çš„vncç½‘é¡µæ§åˆ¶å°å¥½ç”¨ä¸€äº›ã€‚\nopencoreçš„ç®€å•ä¼˜åŒ– å‡†å¤‡å·¥ä½œ1ï¼šæŠŠopencore åˆ°ç¡¬ç›˜ æ–¹ä¾¿åç»­ä¿®æ”¹ ä¸ºäº†æ–¹ä¾¿ï¼Œå¼ºçƒˆå»ºè®®ä½  å§opencoreå¤åˆ¶åˆ°ä¸€ä¸ªç‹¬ç«‹çš„è™šæ‹Ÿç¡¬ç›˜ã€‚è€Œä¸æ˜¯å’Œå…¶ä»–äººçš„æ•™ç¨‹ä¸€æ ·ddåˆ°macosæ‰€åœ¨çš„ç¡¬ç›˜\nå…³æœºï¼Œåˆ é™¤å‰é¢æŒ‚è½½çš„Ventura-recovery.img æ¢å¤é•œåƒï¼Œæˆ‘ä»¬å·²ç»ç”¨ä¸åˆ°ä»–äº† pveæ·»åŠ ä¸€ä¸ªç¡¬ç›˜ å¤§å°0.5 å°±å¥½æˆ‘è¿™é‡Œç”¨0.5 ç”¨æ¥åšefiåˆ†åŒºã€‚ å»ºè®® ideæŒ‚è½½ï¼Œæ ¼å¼rawï¼ˆæ–‡ä»¶ä¸å¤§ï¼Œå…¼å®¹æ€§æ¯”qcow2å¥½ä¹Ÿæ–¹ä¾¿å…¶ä»–è½¯ä»¶ä¿®æ”¹ç¼–è¾‘ï¼‰ã€‚\nmacos å¼€å§‹ä¼šæç¤º ä¸èƒ½è¯†åˆ«æŒ‰ç…§æç¤ºåˆå§‹åŒ–ï¼Œé€‰æ‹©è¿™ä¸ª500Må·¦å³çš„ç¡¬ç›˜ ç‚¹æŠ¹æ‰ å·æ ‡ OPENCOREï¼Œæ ¼å¼fatï¼Œåˆ†åŒºæ ¼å¼ä¸»å¼•å¯¼è®°å½•ã€‚\næ ¼å¼å®Œæˆåï¼Œå†æ–¹è¾¾é‡Œé¢æ¨å‡º è¿™ä¸ªOPENCOREå·ï¼Œä¸ç„¶æ²¡æ³•è¿›è¡Œä¸‹ä¸€æ­¥ æ‰“å¼€macosçš„ç»ˆç«¯ diskutil listæŸ¥çœ‹æ‰€æœ‰ç¡¬ç›˜ï¼Œå¯ä»¥çœ‹åˆ° 500å¤šMè¿™ä¸ªç¡¬ç›˜æ˜¯å¯¹åº”çš„ç¡¬ç›˜ç¼–å·æ˜¯disk1 åˆ†åŒºæ˜¯ disk1s1 å¦å¤–æœ‰ä¸€ä¸ª 150Må·¦å³çš„ æ˜¯æˆ‘ä»¬å‰é¢çš„opencoreçš„isoã€‚ å¯¹åº” disk0s1ã€‚æˆ‘ä»¬ç”¨ddå‘½ä»¤æŠŠoencore å¼„åˆ°è¿™ä¸ª500Mçš„è™šæ‹Ÿç£ç›˜ä¸Š\nsudo dd if=/dev/disk0s1 of=/dev/disk1s1 DDä¼šåŒæ—¶æŠŠå·æ ‡OPENCORE æ”¹æˆdisk0s1çš„å·æ ‡EFIè¿™ä¸ªä¸å½±å“ã€‚å…³æœºï¼Œåœ¨pveä¸­åˆ é™¤å‰é¢çš„opencoer.iso ï¼Œé€‰é¡¹é‡Œé¢ å¯åŠ¨å¯åŠ¨é¡ºåº åªé€‰ä¸­è¿™ä¸ª 500Mçš„ raw ï¼Œå†æ¬¡å¼€æœº å°±okäº†\nå¦‚æœè¦ç¼–è¾‘efiï¼Œåœ¨ç£ç›˜å·¥å…·é‡Œé¢ç›´æ¥è£…è½½ è¿™ä¸ªç¡¬ç›˜å³å¯ã€‚\nå‡†å¤‡å·¥ä½œ2ï¼šå®‰è£…ä½¿ç”¨opencore configurator ç”¨macosè‡ªå¸¦çš„safari æ‰“å¼€æœ¬ç«™ï¼Œç„¶ååœ¨æœ¬ç«™æœç´¢æœ¬é¡µé¢æ ‡é¢˜æ‰“å¼€ä¸‹é¢çš„åœ°å€ä¸‹è½½ opencore configuratorï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨ä½ å–œæ¬¢çš„å…¶ä»–å·¥å…· æ¯”å¦‚ ProperTreeä¹Ÿä¸é”™\nhttps://mackie100projects.altervista.org/download-opencore-configurator/\nsafariä¸‹è½½åä¼šè‡ªåŠ¨è§£å‹ã€‚åŒå‡»è¿è¡Œï¼Œç„¶åæ‰“å¼€ ï¼Œæç¤ºå®‰å…¨æ€§é—®é¢˜ï¼Œæ–°ç‰ˆmacos åœ¨è®¾ç½®çš„éšç§ä¸å®‰å…¨æ€§ åœ°æ–¹ï¼Œæ»šåŠ¨åˆ°ä¸‹é¢ æ‰¾åˆ° å¯¹åº”åç§°çš„ ä»è¦æ‰“å¼€ï¼Œè¾“å…¥å¯†ç æ‰“å¼€ã€‚\nå¦‚æœä½ å‰é¢å’Œæˆ‘ä¸€æ ·çš„æ“ä½œï¼Œopencoreçš„é‚£ä¸ªè™šæ‹Ÿç£ç›˜ï¼Œä¼šè‡ªåŠ¨æŒ‚è½½åˆ° /Volumos/OPENCORE ,å¦åˆ™è¯·ç‚¹å‡»å·¥å…· æŒ‚è½½efi\næ–‡ä»¶æ‰“å¼€ æ‰¾åˆ° efiç›®å½• oc ä¸‹çš„ config.plist, å°±å¯ä»¥è¿›è¡Œä¸€äº›é…ç½®ç¼–è¾‘å·¥ä½œäº†\nopencoreå¼€æœºæ‰“å°ä¿¡æ¯ å¼€æœºä¸å†æ˜¾ç¤ºç™½è‹¹æœè¿›åº¦æ¡ï¼Œè€Œä¸”è·‘ä»£ç æ˜¾ç¤ºæ“ä½œï¼Œæ–¹ä¾¿åç»­å¤„ç† opencore configuratorä¾æ¬¡æ‰¾åˆ°\nNVRAM ï¼Œé‡Œé¢ä¸€èˆ¬æœ‰ä¸‰ä¸ªï¼Œæ‰¾åˆ°ä¸€ä¸ªå¸¦ bootargeçš„ï¼Œåœ¨ä»–åŸæ¥çš„é€‰é¡¹åé¢ è¾“å…¥ ç©ºæ ¼-v ,æ–°ç‰ˆ ç›´æ¥å³é”® é€‰æ‹© -v å°±å¯ä»¥äº†\nopencoreå¼€æœºå€’è®¡æ—¶å¯åŠ¨ opencore configuratorä¾æ¬¡æ‰¾åˆ°\nMISC-\u0026gt;Security-\u0026gt;AllowSetDefault å‹¾é€‰ Misc-\u0026gt;Boot-\u0026gt;Timeout å€’è®¡æ—¶ æ—¶é—´ è¾“å…¥ 5 æ–‡ä»¶ ä¿å­˜\né‡å¯ä»¥åï¼Œé€‰æ‹© å·æ ‡ æŒ‰ ctrl+å›è½¦ ä»¥åå¯åŠ¨å°±ä¼šè‡ªåŠ¨é€‰æ‹©è¿™ä¸ªäº†ã€‚\næ³¨æ„ å€’è®¡æ—¶ ä¸ä¼šæ˜¾ç¤ºæ—¶é—´çš„ï¼Œåˆ°æ—¶é—´ å°±ä¼šè‡ªåŠ¨å¯åŠ¨äº†\nä¿®æ”¹å‰çš„æ–‡ä»¶å¤‡ä»½ https://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-unraid-kvm/config-1.plist\nä¿®æ”¹åçš„ https://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-unraid-kvm/config.2.plist\nå¤‡ä»½ å‡†å¤‡åšç¡¬ä»¶ç›´é€š æŸ¥çœ‹ ï¼šhttps://dev.leiyanhui.com/pve/mac-bak/\nè¿›é˜¶ æ¿è½½å£°å¡ æ¿è½½wifiç›´é€š usbè®¾å¤‡ç›´é€š æœ€æ–°ç‰ˆpve7.2-11 ç›´æ¥æ·»åŠ pciè®¾å¤‡ å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦é¢å¤–å¤„ç†\nusb3.0è®¾å¤‡ å¦‚æœä½¿ç”¨ç«¯å£æ¨¡å¼ç›´é€šçš„è¯ï¼Œéœ€è¦åœ¨åŒä¸€ä¸ªç«¯å£ä¸Šåˆ†åˆ«æ’å…¥usb3 å’Œusb1-2çš„è®¾å¤‡ï¼Œåˆ†åˆ«æ·»åŠ ä¸¤æ¬¡ï¼Œå¦‚æœåŸºäºä¾›åº”å•†è®¾å¤‡çš„ç›´é€šï¼Œå¥½åƒä¸å¯çƒ­æ‹”æ’ã€‚\næ˜¾å¡ç›´é€šï¼Œå¹¶å†HDMIå£è¾“å‡ºæ˜¾ç¤º æ˜¾å¡ç›´é€šå…ˆå®Œæˆwin10ä¸‹çš„ç›´é€š åœ¨macosè¿™ä¸ªä¸»æœºä¸Šï¼Œæ·»åŠ ä¸€ä¸ª16Gå·¦å³çš„ç¡¬ç›˜ï¼ŒæŒ‚è½½ä¸€ä¸ªwin10å®‰è£…ç›˜ï¼Œè®¾ç½®å¥½å¼•å¯¼é¡ºåºå®‰è£…ä¸€ä¸ªwin10è¿›å»ï¼Œ\nç„¶åæŸ¥çœ‹æ–‡ç«  https://dev.leiyanhui.com/pve/win-gpu/ å…ˆæå®šwin10ä¸‹å¯ä»¥ç‚¹äº®å±å¹•\nå…¶ä»–å¤„ç†ä¸­\nåªæœ‰ä¸€ä¸ªusbæ§åˆ¶å™¨çš„æƒ…å†µä¸‹çš„pcieè“ç‰™ç›´é€š ç®€å•çš„æ–¹æ¡ˆ å°±æ˜¯æŠŠå”¯ä¸€çš„ä¸€ä¸ªusbæ§åˆ¶å™¨ç»™åˆ°è™šæ‹Ÿæœºï¼Œåœ¨ç¡¬ä»¶é‡Œé¢ æ·»åŠ pice ç›´æ¥é€‰ä¸­è¿™ä¸ªusbï¼Œå°±æŠŠæ‰€æœ‰usbå£ç›´é€šè¿›å»äº†ã€‚ã€‚ã€‚é‚£å°±å¯¼è‡´ ä½ é¼ æ ‡é”®ç›˜ Uç›˜ éƒ½æ— æ³•åœ¨pveä¸‹å®¿ä¸»æœºä½¿ç”¨ã€‚ ã€‚å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆ å°±æ˜¯å¢åŠ ç¡¬ä»¶ å¦å¤–ä»·æ ¼pcieusbæ§åˆ¶å™¨ ï¼Œå…¶ä»–æ–¹æ¡ˆ å¯èƒ½ä¼šå¤æ‚å¾ˆå¤š æˆ‘é€‰æ‹©ç›´æ¥ ç›´é€šè¿›å» æŸ¥çœ‹usbæ§åˆ¶å™¨\nlspci -nn | grep USB 00:14.0 USB controller [0c03]: Intel Corporation 100 Series/C230 Series Chipset Family USB 3.0 xHCI Controller [8086:a12f] (rev 31) æœ¬æ–‡å‚è€ƒæ–‡ç«  https://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/\n","date":"2022-10-29T08:29:20+08:00","permalink":"https://dev.leiyanhui.com/pve/install-macos-ventura/","title":"åœ¨pveä¸Šç›´æ¥å®‰è£…macos13 Ventura åˆæ­¥ä¼˜åŒ–å¹¶ç›´é€šæ˜¾å¡ è“ç‰™ wifi å£°å¡ç»™macos"},{"content":"ä¸¤ä¸ªæ’ä»¶ Unassigned Devices å’Œ Unassigned Devices Plus\n","date":"2022-10-29T05:57:20+08:00","permalink":"https://dev.leiyanhui.com/unraid/mount_hdd_usb/","title":"unraid è‡ªåŠ¨æŒ‚è½½usbæˆ–è€…å…¶ä»–ç¡¬ç›˜ï¼Œexfat hddç­‰"},{"content":"åŸºæœ¬å®‰è£… ç”¨Macinabox æ’ä»¶å°±å¯ä»¥ï¼Œéœ€è¦æå‰å®‰è£… user scriptæ’ä»¶ï¼Œç„¶å ç­‰å®¹å™¨æ‰§è¡Œå®Œæˆåï¼Œå†å» æ’ä»¶\u0026gt;user script æ‰§è¡Œä¸€æ¬¡ 1_macinabox_helper\nå°±è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿæœºäº†ã€‚\nå¸¸è§é—®é¢˜ ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®å æ— æ³•å¯åŠ¨ å› ä¸ºunraidçš„å›¾å½¢æ¨¡å¼ç¼–è¾‘macosçš„kvmé…ç½®æ–‡ä»¶ï¼Œæ˜¯ä¼šä¸¢å¤±ä¸€äº›é…ç½®çš„ã€‚æ‰€ä»¥ æ‰€æœ‰ä¿®æ”¹ï¼Œéƒ½è¦åˆ‡æ¢åˆ°xmlè§†å›¾æ‰‹åŠ¨ç¼–è¾‘ã€‚\næˆ‘è¿™é‡Œæœ‰ä¸€ä¸ªé»˜è®¤çš„xmlçš„é…ç½® ç‚¹è¿™é‡ŒæŸ¥çœ‹\næ— é™é‡å¯ï¼Œå¼€æœºäº”å›½ä»£ç é”™è¯¯ å¤šæ˜¯ macinabox åˆ›å»ºçš„opencoreå¤ªæ—§äº†ï¼Œmacosæœ‰æ›´æ–°ã€‚ä¸‹è½½æœ€æ–°çš„æ›¿æ¢æ‰å°±å¥½ã€‚\nhttps://github.com/thenickdude/KVM-Opencore/releases æ³¨æ„ï¼š ä¸‹è½½å›æ¥çš„æ–‡ä»¶æ˜¯isoåç¼€ï¼Œä½†æ˜¯å…¶å®æ˜¯rawæ ¼å¼çš„imgæ–‡ä»¶ï¼Œè‡ªå·±é‡å‘½åä¸€ä¸‹\nmacos13.0 çš„é—®é¢˜ ä½ å¯ä»¥ åˆ›å»ºä¸€ä¸ªdocker è·‘ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œç„¶åç›´æ¥è·å– macos13çš„æ¢å¤é•œåƒï¼Œå¹¶ä½¿ç”¨æœ€æ–°çš„ kvm-opencore å¼•å¯¼\næœ€åï¼Œç»è¿‡æˆ‘æµ‹è¯•ï¼Œpveä¸‹å®‰è£…å¥½çš„macos å…¶å®å¯ä»¥ç›´æ¥copyåˆ°unraidä¹‹ç±»å¯åŠ¨çš„\n","date":"2022-10-29T05:14:20+08:00","permalink":"https://dev.leiyanhui.com/unraid/macos-install/","title":"unraid å®‰è£…macosçš„æ³¨æ„äº‹é¡¹"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 docker run -d --name=\u0026#39;macinabox\u0026#39; --net=\u0026#39;bridge\u0026#39; --privileged=true -e TZ=\u0026#34;America/Los_Angeles\u0026#34; -e HOST_OS=\u0026#34;Unraid\u0026#34; -e HOST_HOSTNAME=\u0026#34;Tower\u0026#34; -e HOST_CONTAINERNAME=\u0026#34;macinabox\u0026#34; -e \u0026#39;flavour\u0026#39;=\u0026#39;Monterey\u0026#39; -e \u0026#39;vminstall\u0026#39;=\u0026#39;Auto install\u0026#39; -e \u0026#39;vdisksize\u0026#39;=\u0026#39;100G\u0026#39; -e \u0026#39;vdisktype\u0026#39;=\u0026#39;raw\u0026#39; -e \u0026#39;opencore\u0026#39;=\u0026#39;stock\u0026#39; -e \u0026#39;replaceopencore\u0026#39;=\u0026#39;no\u0026#39; -e \u0026#39;overridenic\u0026#39;=\u0026#39;no\u0026#39; -e \u0026#39;VMIMAGES\u0026#39;=\u0026#39;/mnt/user/domains/\u0026#39; -e \u0026#39;ISOIMAGES\u0026#39;=\u0026#39;/mnt/user/isos/\u0026#39; -e \u0026#39;injectfixxml\u0026#39;=\u0026#39;yes\u0026#39; -l net.unraid.docker.managed=dockerman -l net.unraid.docker.icon=\u0026#39;https://raw.githubusercontent.com/SpaceinvaderOne/Docker-Templates-Unraid/master/spaceinvaderone/docker_icons/Macinabox.png\u0026#39; -v \u0026#39;/mnt/user/domains/\u0026#39;:\u0026#39;/domains\u0026#39;:\u0026#39;rw\u0026#39; -v \u0026#39;/mnt/user/isos/\u0026#39;:\u0026#39;/isos\u0026#39;:\u0026#39;rw\u0026#39; -v \u0026#39;/mnt/user/appdata/macinabox\u0026#39;:\u0026#39;/config\u0026#39;:\u0026#39;rw\u0026#39; -v \u0026#39;/mnt/user/system/custom_ovmf/\u0026#39;:\u0026#39;/customovmf/\u0026#39;:\u0026#39;rw\u0026#39; -v \u0026#39;/boot/config/plugins/user.scripts/scripts\u0026#39;:\u0026#39;/userscripts\u0026#39;:\u0026#39;rw\u0026#39; \u0026#39;spaceinvaderone/macinabox\u0026#39; åœ¨è¿è¡Œä¹‹å‰ï¼Œæœ€å¥½å…ˆå®‰è£… user script ä»¥åŠ vm_custom_icons è¿™ä¸¤ä¸ªæ’ä»¶\nåˆ›å»ºçš„è™šæ‹Ÿæœº xml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 \u0026lt;?xml version=\u0026#39;1.0\u0026#39; encoding=\u0026#39;UTF-8\u0026#39;?\u0026gt; \u0026lt;domain type=\u0026#39;kvm\u0026#39; xmlns:qemu=\u0026#39;http://libvirt.org/schemas/domain/qemu/1.0\u0026#39;\u0026gt; \u0026lt;name\u0026gt;Macinabox Monterey\u0026lt;/name\u0026gt; \u0026lt;uuid\u0026gt;2ee88299-ee14-49ea-8510-608ab36bb911\u0026lt;/uuid\u0026gt; \u0026lt;description\u0026gt;MacOS Monterey\u0026lt;/description\u0026gt; \u0026lt;metadata\u0026gt; \u0026lt;vmtemplate xmlns=\u0026#34;unraid\u0026#34; name=\u0026#34;Windows 10\u0026#34; icon=\u0026#34;Monterey.png\u0026#34; os=\u0026#34;osx\u0026#34;/\u0026gt; \u0026lt;/metadata\u0026gt; \u0026lt;memory unit=\u0026#39;KiB\u0026#39;\u0026gt;4194304\u0026lt;/memory\u0026gt; \u0026lt;currentMemory unit=\u0026#39;KiB\u0026#39;\u0026gt;4194304\u0026lt;/currentMemory\u0026gt; \u0026lt;memoryBacking\u0026gt; \u0026lt;nosharepages/\u0026gt; \u0026lt;/memoryBacking\u0026gt; \u0026lt;vcpu placement=\u0026#39;static\u0026#39;\u0026gt;2\u0026lt;/vcpu\u0026gt; \u0026lt;cputune\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;0\u0026#39; cpuset=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;1\u0026#39; cpuset=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/cputune\u0026gt; \u0026lt;os\u0026gt; \u0026lt;type arch=\u0026#39;x86_64\u0026#39; machine=\u0026#39;pc-q35-4.2\u0026#39;\u0026gt;hvm\u0026lt;/type\u0026gt; \u0026lt;loader readonly=\u0026#39;yes\u0026#39; type=\u0026#39;pflash\u0026#39;\u0026gt;/mnt/user/system/custom_ovmf/Macinabox_CODE-pure-efi.fd\u0026lt;/loader\u0026gt; \u0026lt;nvram\u0026gt;/mnt/user/system/custom_ovmf/Macinabox_VARS-pure-efi.fd\u0026lt;/nvram\u0026gt; \u0026lt;/os\u0026gt; \u0026lt;features\u0026gt; \u0026lt;acpi/\u0026gt; \u0026lt;apic/\u0026gt; \u0026lt;/features\u0026gt; \u0026lt;cpu mode=\u0026#39;host-passthrough\u0026#39; check=\u0026#39;none\u0026#39; migratable=\u0026#39;on\u0026#39;\u0026gt; \u0026lt;topology sockets=\u0026#39;1\u0026#39; dies=\u0026#39;1\u0026#39; cores=\u0026#39;2\u0026#39; threads=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/cpu\u0026gt; \u0026lt;clock offset=\u0026#39;utc\u0026#39;\u0026gt; \u0026lt;timer name=\u0026#39;rtc\u0026#39; tickpolicy=\u0026#39;catchup\u0026#39;/\u0026gt; \u0026lt;timer name=\u0026#39;pit\u0026#39; tickpolicy=\u0026#39;delay\u0026#39;/\u0026gt; \u0026lt;timer name=\u0026#39;hpet\u0026#39; present=\u0026#39;no\u0026#39;/\u0026gt; \u0026lt;/clock\u0026gt; \u0026lt;on_poweroff\u0026gt;destroy\u0026lt;/on_poweroff\u0026gt; \u0026lt;on_reboot\u0026gt;restart\u0026lt;/on_reboot\u0026gt; \u0026lt;on_crash\u0026gt;restart\u0026lt;/on_crash\u0026gt; \u0026lt;devices\u0026gt; \u0026lt;emulator\u0026gt;/usr/local/sbin/qemu\u0026lt;/emulator\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;raw\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/Macinabox Monterey/Monterey-opencore.img\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hdc\u0026#39; bus=\u0026#39;sata\u0026#39;/\u0026gt; \u0026lt;boot order=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;drive\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; target=\u0026#39;0\u0026#39; unit=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;raw\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/isos/Monterey-install.img\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hdd\u0026#39; bus=\u0026#39;sata\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;drive\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; target=\u0026#39;0\u0026#39; unit=\u0026#39;3\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;raw\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/Macinabox Monterey/macos_disk.img\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hde\u0026#39; bus=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x03\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-ehci1\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x7\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci1\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x0\u0026#39; multifunction=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci2\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci3\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;4\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;sata\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x1f\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;pcie-root\u0026#39;/\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;1\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;1\u0026#39; port=\u0026#39;0x10\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x0\u0026#39; multifunction=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;2\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;2\u0026#39; port=\u0026#39;0x11\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;3\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;3\u0026#39; port=\u0026#39;0x12\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;4\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;4\u0026#39; port=\u0026#39;0x13\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x3\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;virtio-serial\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x02\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;interface type=\u0026#39;bridge\u0026#39;\u0026gt; \u0026lt;mac address=\u0026#39;52:54:00:56:c1:7b\u0026#39;/\u0026gt; \u0026lt;source bridge=\u0026#39;br0\u0026#39;/\u0026gt; \u0026lt;model type=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x01\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/interface\u0026gt; \u0026lt;serial type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;isa-serial\u0026#39; port=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;isa-serial\u0026#39;/\u0026gt; \u0026lt;/target\u0026gt; \u0026lt;/serial\u0026gt; \u0026lt;console type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;serial\u0026#39; port=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;/console\u0026gt; \u0026lt;channel type=\u0026#39;unix\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;virtio\u0026#39; name=\u0026#39;org.qemu.guest_agent.0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;virtio-serial\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/channel\u0026gt; \u0026lt;input type=\u0026#39;tablet\u0026#39; bus=\u0026#39;usb\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;usb\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/input\u0026gt; \u0026lt;input type=\u0026#39;mouse\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;input type=\u0026#39;keyboard\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;graphics type=\u0026#39;vnc\u0026#39; port=\u0026#39;-1\u0026#39; autoport=\u0026#39;yes\u0026#39; websocket=\u0026#39;-1\u0026#39; listen=\u0026#39;0.0.0.0\u0026#39; keymap=\u0026#39;en-us\u0026#39;\u0026gt; \u0026lt;listen type=\u0026#39;address\u0026#39; address=\u0026#39;0.0.0.0\u0026#39;/\u0026gt; \u0026lt;/graphics\u0026gt; \u0026lt;audio id=\u0026#39;1\u0026#39; type=\u0026#39;none\u0026#39;/\u0026gt; \u0026lt;video\u0026gt; \u0026lt;model type=\u0026#39;qxl\u0026#39; ram=\u0026#39;65536\u0026#39; vram=\u0026#39;65536\u0026#39; vgamem=\u0026#39;16384\u0026#39; heads=\u0026#39;1\u0026#39; primary=\u0026#39;yes\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x01\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/video\u0026gt; \u0026lt;memballoon model=\u0026#39;none\u0026#39;/\u0026gt; \u0026lt;/devices\u0026gt; \u0026lt;qemu:commandline\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-usb\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-device\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;usb-kbd,bus=usb-bus.0\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-device\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;isa-applesmc,osk=ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-smbios\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;type=2\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-cpu\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;Penryn,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc,+pcid,+ssse3,+sse4.2,+popcnt,+avx,+avx2,+aes,+fma,+fma4,+bmi1,+bmi2,+xsave,+xsaveopt,+rdrand,check\u0026#39;/\u0026gt; \u0026lt;/qemu:commandline\u0026gt; \u0026lt;/domain\u0026gt; ä¿®æ”¹ å†…å­˜ oc è¿˜æœ‰ç³»ç»Ÿè·¯å¾„ å¹¶å åŠ ä¸€ä¸ªwin 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 \u0026lt;?xml version=\u0026#39;1.0\u0026#39; encoding=\u0026#39;UTF-8\u0026#39;?\u0026gt; \u0026lt;domain type=\u0026#39;kvm\u0026#39; xmlns:qemu=\u0026#39;http://libvirt.org/schemas/domain/qemu/1.0\u0026#39;\u0026gt; \u0026lt;name\u0026gt;macos\u0026lt;/name\u0026gt; \u0026lt;uuid\u0026gt;2ee88299-ee14-49ea-8510-608ab36bb912\u0026lt;/uuid\u0026gt; \u0026lt;description\u0026gt;MacOS Monterey\u0026lt;/description\u0026gt; \u0026lt;metadata\u0026gt; \u0026lt;vmtemplate xmlns=\u0026#34;unraid\u0026#34; name=\u0026#34;Windows 10\u0026#34; icon=\u0026#34;Monterey.png\u0026#34; os=\u0026#34;osx\u0026#34;/\u0026gt; \u0026lt;/metadata\u0026gt; \u0026lt;memory unit=\u0026#39;KiB\u0026#39;\u0026gt;8388608\u0026lt;/memory\u0026gt; \u0026lt;currentMemory unit=\u0026#39;KiB\u0026#39;\u0026gt;8388608\u0026lt;/currentMemory\u0026gt; \u0026lt;memoryBacking\u0026gt; \u0026lt;nosharepages/\u0026gt; \u0026lt;/memoryBacking\u0026gt; \u0026lt;vcpu placement=\u0026#39;static\u0026#39;\u0026gt;2\u0026lt;/vcpu\u0026gt; \u0026lt;cputune\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;0\u0026#39; cpuset=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;1\u0026#39; cpuset=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/cputune\u0026gt; \u0026lt;os\u0026gt; \u0026lt;type arch=\u0026#39;x86_64\u0026#39; machine=\u0026#39;pc-q35-4.2\u0026#39;\u0026gt;hvm\u0026lt;/type\u0026gt; \u0026lt;loader readonly=\u0026#39;yes\u0026#39; type=\u0026#39;pflash\u0026#39;\u0026gt;/mnt/user/system/custom_ovmf/Macinabox_CODE-pure-efi.fd\u0026lt;/loader\u0026gt; \u0026lt;nvram\u0026gt;/mnt/user/system/custom_ovmf/Macinabox_VARS-pure-efi.fd\u0026lt;/nvram\u0026gt; \u0026lt;/os\u0026gt; \u0026lt;features\u0026gt; \u0026lt;acpi/\u0026gt; \u0026lt;apic/\u0026gt; \u0026lt;/features\u0026gt; \u0026lt;cpu mode=\u0026#39;host-passthrough\u0026#39; check=\u0026#39;none\u0026#39; migratable=\u0026#39;on\u0026#39;\u0026gt; \u0026lt;topology sockets=\u0026#39;1\u0026#39; dies=\u0026#39;1\u0026#39; cores=\u0026#39;2\u0026#39; threads=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/cpu\u0026gt; \u0026lt;clock offset=\u0026#39;utc\u0026#39;\u0026gt; \u0026lt;timer name=\u0026#39;rtc\u0026#39; tickpolicy=\u0026#39;catchup\u0026#39;/\u0026gt; \u0026lt;timer name=\u0026#39;pit\u0026#39; tickpolicy=\u0026#39;delay\u0026#39;/\u0026gt; \u0026lt;timer name=\u0026#39;hpet\u0026#39; present=\u0026#39;no\u0026#39;/\u0026gt; \u0026lt;/clock\u0026gt; \u0026lt;on_poweroff\u0026gt;destroy\u0026lt;/on_poweroff\u0026gt; \u0026lt;on_reboot\u0026gt;restart\u0026lt;/on_reboot\u0026gt; \u0026lt;on_crash\u0026gt;restart\u0026lt;/on_crash\u0026gt; \u0026lt;devices\u0026gt; \u0026lt;emulator\u0026gt;/usr/local/sbin/qemu\u0026lt;/emulator\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;qcow2\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/mac/opencore.qcow2\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hdc\u0026#39; bus=\u0026#39;sata\u0026#39;/\u0026gt; \u0026lt;boot order=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;drive\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; target=\u0026#39;0\u0026#39; unit=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;qcow2\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/mac/macos.qcow2\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hdd\u0026#39; bus=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x03\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;qcow2\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/mac/win.qcow2\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hde\u0026#39; bus=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x04\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-ehci1\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x7\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci1\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x0\u0026#39; multifunction=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci2\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci3\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;4\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;sata\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x1f\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;pcie-root\u0026#39;/\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;1\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;1\u0026#39; port=\u0026#39;0x10\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x0\u0026#39; multifunction=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;2\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;2\u0026#39; port=\u0026#39;0x11\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;3\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;3\u0026#39; port=\u0026#39;0x12\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;4\u0026#39; model=\u0026#39;pcie-root-port\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;pcie-root-port\u0026#39;/\u0026gt; \u0026lt;target chassis=\u0026#39;4\u0026#39; port=\u0026#39;0x13\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x3\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;virtio-serial\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x02\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;interface type=\u0026#39;bridge\u0026#39;\u0026gt; \u0026lt;mac address=\u0026#39;52:54:00:56:c1:7b\u0026#39;/\u0026gt; \u0026lt;source bridge=\u0026#39;br0\u0026#39;/\u0026gt; \u0026lt;model type=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x01\u0026#39; slot=\u0026#39;0x00\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/interface\u0026gt; \u0026lt;serial type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;isa-serial\u0026#39; port=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;isa-serial\u0026#39;/\u0026gt; \u0026lt;/target\u0026gt; \u0026lt;/serial\u0026gt; \u0026lt;console type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;serial\u0026#39; port=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;/console\u0026gt; \u0026lt;channel type=\u0026#39;unix\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;virtio\u0026#39; name=\u0026#39;org.qemu.guest_agent.0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;virtio-serial\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/channel\u0026gt; \u0026lt;input type=\u0026#39;tablet\u0026#39; bus=\u0026#39;usb\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;usb\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/input\u0026gt; \u0026lt;input type=\u0026#39;mouse\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;input type=\u0026#39;keyboard\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;graphics type=\u0026#39;vnc\u0026#39; port=\u0026#39;-1\u0026#39; autoport=\u0026#39;yes\u0026#39; websocket=\u0026#39;-1\u0026#39; listen=\u0026#39;0.0.0.0\u0026#39; keymap=\u0026#39;en-us\u0026#39;\u0026gt; \u0026lt;listen type=\u0026#39;address\u0026#39; address=\u0026#39;0.0.0.0\u0026#39;/\u0026gt; \u0026lt;/graphics\u0026gt; \u0026lt;audio id=\u0026#39;1\u0026#39; type=\u0026#39;none\u0026#39;/\u0026gt; \u0026lt;video\u0026gt; \u0026lt;model type=\u0026#39;qxl\u0026#39; ram=\u0026#39;65536\u0026#39; vram=\u0026#39;65536\u0026#39; vgamem=\u0026#39;16384\u0026#39; heads=\u0026#39;1\u0026#39; primary=\u0026#39;yes\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x01\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/video\u0026gt; \u0026lt;memballoon model=\u0026#39;none\u0026#39;/\u0026gt; \u0026lt;/devices\u0026gt; \u0026lt;qemu:commandline\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-usb\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-device\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;usb-kbd,bus=usb-bus.0\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-device\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;isa-applesmc,osk=ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-smbios\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;type=2\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;-cpu\u0026#39;/\u0026gt; \u0026lt;qemu:arg value=\u0026#39;Penryn,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc,+pcid,+ssse3,+sse4.2,+popcnt,+avx,+avx2,+aes,+fma,+fma4,+bmi1,+bmi2,+xsave,+xsaveopt,+rdrand,check\u0026#39;/\u0026gt; \u0026lt;/qemu:commandline\u0026gt; \u0026lt;/domain\u0026gt; ","date":"2022-10-29T05:14:20+08:00","permalink":"https://dev.leiyanhui.com/unraid/macinabox/","title":"unraidä¸Šmacinaboxæ’ä»¶è‡ªåŠ¨åˆ›å»ºdockerå‘½ä»¤"},{"content":"ç½‘ä¸Šæ•™ç¨‹å¤šæ•°æ˜¯åŸºäºclashçš„ï¼Œé¢‡ä¸ºç¹ç å¹¶ä¸”è¿˜éœ€è¦å¦å¤–ä¸€ä¸ª yacdé…åˆä½¿ç”¨\nç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ›´ç®€å•ä¸€äº›\nv2rayAæ˜¯V2Rayçš„ä¸€ä¸ªWebå®¢æˆ·ç«¯ï¼Œå‰ç«¯ä½¿ç”¨Vue.jsæ„å»ºï¼Œåç«¯ä½¿ç”¨Golangæ„å»ºã€‚\nclashä¹ŸåŸºäºgoçš„ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ä¸€äº›ã€‚\nä½†æ˜¯ æˆ‘åªæ˜¯éœ€è¦github è¿˜æœ‰google å¶å°”çœ‹çœ‹è§†é¢‘ã€‚ã€‚ã€‚v2açœŸçš„ è¶³å¤Ÿè¶³å¤Ÿç”¨äº†è€Œä¸”ç®€å•é›†æˆåº¦é«˜\nä¸»è¦æ˜¯è§£å†³unraid å•†åº—æ‰“ä¸å¼€çš„é—®é¢˜ï¼Œå…ˆè¿è¡Œä¸€ä¸ªdocker\n1 2 3 4 5 6 7 docker run -d --restart=always --privileged \\ --network=host \\ --name v2raya \\ -v /etc/resolv.conf:/etc/resolv.conf \\ -v /mnt/user/appdata/v2raya:/etc/v2raya \\ -v /mnt/user/appdata/v2raya/modules:/lib/modules \\ mzz2017/v2raya å¯ä»¥ç®€åŒ–ä¸€ä¸‹\n1 2 3 4 5 docker run -d --restart=always --privileged \\ --network=host \\ --name v2raya \\ -v /etc/resolv.conf:/etc/resolv.conf \\ mzz2017/v2raya http://ä½ çš„ip:2017 æ‰“å¼€é…ç½®é¡µé¢ï¼Œ\nwinå’Œmacosä¸‹çš„dockerå¥½åƒä¸æ”¯æŒ hostæ¨¡å¼ï¼Œè‡ªå·±åšç«¯å£æ˜ å°„å“¦ã€‚ æˆ‘æ˜¯linuxã€‚ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜\nä¾æ¬¡ï¼š\nå¯¼å…¥è®¢é˜… ç‚¹è®¾ç½® é‡Œé¢ æ›´æ–°ä¸€ä¸‹ GFWList é€æ˜ä»£ç† GFWList\nå·¦ä¸Šè§’ å¯åŠ¨\nä½ ä¹Ÿå¯ä»¥å¼€å¯ç«¯å£è½¬å‘ è¿™æ ·å±€åŸŸç½‘å†…å…¶ä»–æœºå™¨ éƒ½å¯ä»¥ä½¿ç”¨ä»–åšä»£ç†äº†ã€‚\nè¿˜æœ‰è®¢é˜…æ˜¯å¯ä»¥è‡ªåŠ¨æ›´æ–°çš„ï¼Œè®¾ç½®é‡Œé¢éƒ½æœ‰\nunraid è¿˜éœ€è¦åœ¨é¢æ¿é‡Œé¢ æ·»åŠ ä¸€ä¸‹è¿™ä¸ªå®¹å™¨çš„è‡ªåŠ¨å¯åŠ¨\nå†å¤„ç†ä¸€ä¸‹ä¸€ä¸‹å•†åº—çš„å•ç‹¬ä»£ç†\n1 2 3 4 5 6 7 cd /boot/config/plugins/community.applications/ tee proxy.cfg \u0026lt;\u0026lt;-\u0026#39;EOF\u0026#39; port=20172 tunnel=1 proxy=http://10.0.0.8 EOF ä½ å¯èƒ½è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹ /boot/config/go ä»¥ä¾¿å¼€æœºå°±èƒ½èµ°ä»£ç†\nhttp_proxy=http://10.0.0.8:20172 https_proxy=http://10.0.0.8:20172 /usr/local/sbin/emhttp \u0026amp; echo \u0026quot;export http_proxy=\u0026quot;http://10.0.0.8:20172\u0026quot;\u0026quot; \u0026gt;\u0026gt; /root/.bash_profile echo \u0026quot;export https_proxy=\u0026quot;http://10.0.0.8:20172\u0026quot;\u0026quot; \u0026gt;\u0026gt; /root/.bash_profile å¯ä»¥å†å¢åŠ å‡ è¡Œï¼Œæ›´æ–°githubçš„hostsï¼Œä»¥å sh /github.sh å°±å¯å¯ä»¥æ›´æ–°äº†\necho \u0026quot;cd /etc \u0026amp;\u0026amp; cp hosts hosts-bak \u0026amp;\u0026amp; rm -rf hosts\u0026quot; \u0026gt; /github.sh echo \u0026quot;wget -c https://gitlab.com/ineo6/hosts/-/raw/master/next-hosts\u0026quot; \u0026gt;\u0026gt; /github.sh echo \u0026quot;mv next-hosts hosts\u0026quot;\u0026gt;\u0026gt;/root/github.sh ç«ç‹çš„è¯è®¾ç½® http å’Œ https http://10.0.0.8 20172 SOCKS http://10.0.0.8 20170\né»˜è®¤ç«¯å£ï¼š\n2017: v2rayAåç«¯ç«¯å£\n20170: SOCKSåè®®\n20171: HTTPåè®®\n20172: å¸¦åˆ†æµè§„åˆ™çš„HTTPåè®®\nå…¶ä»–ç«¯å£ï¼š\n32345: tproxyï¼Œé€æ˜ä»£ç†æ‰€éœ€\n32346: æ’ä»¶åè®®ç«¯å£ï¼Œå¦‚trojanã€ssrå’Œpingtunnel\n20171 å’Œ 20172 è¿™ä¸ªä¸¤ä¸ªç«¯å£ è‡ªå·±é€‰æ‹©äº†ï¼Œå¦‚æœä½ è¦éšç§å‘å…¨éƒ¨èµ°ä»£ç† é‚£å°±20171 å¦‚æœè¦é€Ÿåº¦ åªgfwçš„ç½‘ç«™èµ°ä»£ç†ï¼Œé‚£å°±20172\n","date":"2022-10-29T04:37:20+08:00","permalink":"https://dev.leiyanhui.com/linux/docker-proxy/","title":"unraid dockeræœ€ç®€å•çš„æ­å»ºä»£ç†æ–¹æ³•"},{"content":"å…ˆè¯´é€‚åˆæˆ‘è‡ªå·±çš„all in oneæ–¹æ¡ˆ é¦–å…ˆï¼Œä¸å»ºè®®ä¸»è·¯ç”± æŒ‚è¿™é‡Œã€‚ä¸»è·¯ç”±è¿˜æ˜¯ç‹¬ç«‹å‡ºæ¥ï¼Œä¸ç„¶åŠ¨åˆ™å…¨å®¶ å…¨å…¬å¸ä¸èƒ½ä¸Šç½‘ï¼Œè¢«å–·æ­»\næ‰€ä»¥ æˆ‘è·¯ç”±å™¨ è¿˜æ˜¯ç‹¬ç«‹çš„ï¼Œ åˆ·çš„ openwrtï¼Œä½†æ˜¯å› ä¸ºflashå®¹é‡çš„åŸå› ï¼Œæ— æ³•åœ¨ è·¯ç”±ä¸Šç›´æ¥æŒ‚ä»£ç†ã€‚ ä»£ç†è¿˜æ˜¯æ”¾åˆ°äº†all in one ä¸»æœºçš„dockeré‡Œé¢é«˜\nåŠŸèƒ½çš„éœ€æ±‚ä¸Š\néœ€è¦ nasï¼Œåšç›‘æ§çš„å‚¨å­˜ï¼Œsmbåè®®\nå¤–ç½‘å’Œå±€åŸŸç½‘çš„æ–‡ä»¶å…±äº«ï¼Œæˆ‘æ‰ç”¨webdavã€‚æˆ‘è‡ªå·±æœ‰ç”¨golangå†™äº†ä¸€ä¸ªç®€å•çš„è·¨å¹³å°çš„webdavgo åœ¨è¿™é‡Œ\nå¤–ç½‘è®¿é—®çš„é—®é¢˜ï¼Œå› ä¸ºæˆ‘æœ‰å…¬ç½‘ipæ‰€ä»¥ï¼Œï¼Œè¿™ä¸ªä¸æ˜¯é—®é¢˜ã€‚ã€‚ã€‚ä½ å¦‚æœæ²¡æœ‰ éšä¾¿æ‰¾ä¸€ä¸ªç©¿é€æ–¹æ¡ˆå°±å¥½äº†ã€‚\nå‡ ç§ä¸»æµçš„ç³»ç»Ÿå¯¹æ¯” é»‘ç¾¤æ™– ä¼˜ç‚¹ï¼šç®€å•æ˜“ç”¨ ç¼ºç‚¹ï¼š æ¯•ç«Ÿæ˜¯ç ´è§£ã€‚ã€‚ã€‚ä¸æ¨è å†…æ ¸è€ æ·±åº¦å®šåˆ¶çš„linux ä¸é€‚åˆæŠ˜è…¾ æŒ‘ç½‘å¡ ä¸è¿‡å¯ä»¥æ‰“è¡¥ä¸ ç‰¹æ®Šç¡¬ä»¶ç›´é€š ç›¸å¯¹å›°éš¾å¾ˆå¤š esxi ä¼˜ç‚¹ï¼šç®€å•æ˜“ç”¨ï¼Œæ®è¯´å¤šæ•° ç¼ºç‚¹ å¹¶élinux docker åªèƒ½è™šæ‹Ÿæœºè·‘ æŒ‘ç½‘å¡ï¼ŒæŒ‘ç¡¬ä»¶ å¾ˆå¤šä¸ªäººç”µè„‘ç½‘å¡æ— æ³•ç”¨ï¼Œé¢å¤–æ·»åŠ é©±åŠ¨æ—¶é—´æˆæœ¬å¾ˆé«˜ å•†ä¸šåŒ–è½¯ä»¶ï¼Œä¸ªäººå…è´¹ unraid ä¼˜ç‚¹ï¼šä¸å ç”¨ç¡¬ç›˜ï¼ŒUç›˜ä½¿ç”¨ï¼Œç³»ç»Ÿå¤‡ä»½ä»€ä¹ˆçš„éƒ½å¾ˆæ–¹ä¾¿ ç¼ºç‚¹ï¼š å¿…é¡»ä¾èµ–æ¢¯å­ æ”¹hostsæ–¹æ¡ˆä¸ç¨³å®š æ”¶è´¹ï¼Œå¹¶ä¸ä¾¿å®œ è€Œä¸”ç»‘å®šUç›˜çš„ ä¸€å¹´åªå¯ä»¥æ¢ä¸€æ¬¡ ç ´è§£ç‰ˆ æœ‰åé—¨å¯èƒ½ï¼Œæœ‰ä¸€äº›æœ‰æŒ–çŸ¿ä»£ç  ç‰¹æ®Šæƒ…å†µçš„ä¸‹åœ¨çš„ç›´é€š å…¼å®¹æ€§å¾ˆå·® webç•Œé¢æœ‰æ—¶å€™æŠ½é£ å¾ˆå¡ ååº”è¿Ÿé’ æŒ‘Uç›˜ï¼Œéƒ¨åˆ†Uç›˜æ²¡æœ‰å”¯ä¸€uuidçš„ï¼Œæ²¡æ³•ç”¨ è™½ç„¶ä¸æ€ä¹ˆå½±å“Uç›˜å¯¿å‘½ï¼Œä½†æ˜¯å¾ˆå¤šäººè¿˜æ˜¯åè¿‡Uç›˜ pve ä¼˜ç‚¹ åŸºäºdebian11 å¯ä»¥ç©æ€§å¼ºï¼Œä¹Ÿå¯ä»¥ åœ¨debianä¸Šé™„åŠ å®‰è£…ï¼Œå¹¶éæ·±åº¦å®šåˆ¶çš„debian åŸºæœ¬ä¸æŒ‘ç¡¬ä»¶ ç¼ºç‚¹ æ¯”ä¸Šè¿°æ‰€æœ‰ç³»ç»Ÿéƒ½è¦å¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦æœ‰ä¸€ç‚¹linuxåŸºç¡€æ‰å¯ä»¥ç©çš„å¼€å¿ƒ docker éœ€è¦å¦å¤–å®‰è£…ï¼Œæˆ–è€…lxcé‡Œé¢è·‘ï¼Œä¹Ÿä¸ç®—ç¼ºç‚¹ ä¸»è¦çœ‹ä½ dockerç”¨å¤šå°‘ è‡ªå·±å®‰è£…linux + kvm ä¼˜ç‚¹ çµæ´»å¯æ§ ç¼ºç‚¹ å‚è€ƒpve éœ€è¦ä½ linuxæŠ€æœ¯å’Œkvmäº†è§£ç¨‹åº¦é«˜ä¸€äº› æˆ‘çš„é€‰æ‹©ï¼š ç›®å‰ ventoy ç¡¬ç›˜å®‰è£…ï¼Œpve å®‰è£…åˆ°vhdå¯åŠ¨\nä¼˜ç‚¹ å¯ä»¥å’Œunraidä¸€æ ·æ–¹ä¾¿å¤‡ä»½ çµæ´» ç¼ºç‚¹ é™¤äº†pveæœ¬èº«çš„ç¼ºç‚¹æ²¡æ³•åˆ«çš„ æœªæ¥ æœ‰æ—¶é—´ ä¼šå•ç‹¬å¼„ä¸€ä¸ª arch æˆ–è€… ubuntu ç‹¬ç«‹å®‰è£…kvm\n","date":"2022-10-28T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/new/all-in-one-select/","title":"all in one å¯ä»¥æ»¡è¶³å¤šæ•°äººçš„æ–¹æ¡ˆå’Œé€‰æ‹© ä¸ªäººçœ‹æ³•"},{"content":" ä¹‹å‰åœ¨kvmä¸‹æŠ˜è…¾ æ˜¾å¡ä¸€ç›´ é»‘å±ï¼Œæ‰¾äººå¸®å¿™å¤„ç† ä¹Ÿæ²¡æå®šã€‚æ‰€ä»¥ å¹²è„†ç›´æ¥æ¢åˆ°unraid\nä¸‹é¢å†…å®¹åŸºäº unraid6.11.1 6.9ä»¥åçš„ç‰ˆæœ¬åŸºæœ¬ä¸€æ ·\nå› ä¸ºæˆ‘æ²¡æå®šq35çš„æ ¸æ˜¾ç›´é€šï¼Œè€Œé»‘è‹¹æœæœ€å¥½è¿˜æ˜¯q35ï¼Œæ‰€ä»¥æœ¬æ–‡ä»…é™Windowsçš„efiæ¨¡å¼çš„ç›´é€šã€‚\nmacosçš„ç›´é€š å»ºè®®è¿˜æ˜¯ç”¨pve è¯·æŸ¥çœ‹kveå®‰è£…macos13å’Œè®¾å¤‡ç›´é€š\npve å¹¶éå¾ˆå¤šåŠåŠå­å¤§ç¥è¯´çš„ debiançš„æ·±åº¦å®šåˆ¶ã€‚pveå…¶å®åªæ˜¯å‡ ä¸ªé™„åŠ åŒ…è€Œå·²ã€‚ åŒæ—¶pve å› åŸºäºdebian11 ï¼Œè€Œdebian11 æ˜¯æ”¯æŒ ventoyçš„è™šæ‹Ÿç£ç›˜å¯åŠ¨çš„ã€‚ä½ å®Œå…¨å¯ä»¥ æŠŠpveå®‰è£…åˆ° ä¸€ä¸ª16-20Gå¤§å°çš„vhdæ–‡ä»¶é‡Œé¢ã€‚ç„¶åç”¨ç‰©ç†æœºå¯åŠ¨ã€‚å¦‚æœä½ è¦ç”¨è™šæ‹Ÿæœºæˆ–è€…smbä¹‹ç±»çš„ è½¯è¿æ¥å¤„ç†å°±å¥½ ä½ ç”šè‡³å¯ä»¥æ— ç—›æ›´æ¢åˆ°pveï¼Œåªéœ€è¦ä¸€ä¸ª FAT32/exFAT/NTFS/UDF/XFS/Ext2(3)(4) åˆ†åŒºï¼Œèƒ½æ”¾ä¸‹pveçš„vhdæ–‡ä»¶å°±å¥½ï¼Œç„¶åUç›˜å¯åŠ¨ventoyå°±å¥½ï¼ˆä¸æŒ‘Uç›˜ sdå¡ä¹Ÿå¯ä»¥ï¼Œä¸ä¼šæœ‰ä»»ä½•æŸå®³Uç›˜çš„å¯èƒ½ï¼‰ ä½ å¦‚æœæ•°æ®å¤‡ä»½å¥½äº†ï¼Œå¯ä»¥ç›´æ¥ç¡¬ç›˜å®‰è£… ventoy ï¼Œæ¯”å¦‚500Gç¡¬ç›˜ï¼Œä½ å¯ä»¥åªç»™ventoy å‡ å å‡ ç™¾Mï¼Œç„¶åå‰©ä¸‹ä¿ç•™å®¹é‡æ ¼å¼åŒ–åˆ°exfat å…¨å¹³å°éƒ½å¯ä»¥è®¿é—®ä½ æ•°æ®ã€‚ pveæ²¡æœ‰è‡ªå¸¦dockerçš„é—®é¢˜ï¼Œå…¶å®å¾ˆå®¹æ˜“è§£å†³ï¼Œç›´æ¥ apt install docker æˆ–è€… lxcè¿è¡Œä¸€ä¸ªubuntuï¼Œç„¶åé‡Œé¢å†è·‘docker å°±å¥½äº†ï¼Œæ€§èƒ½ä¹Ÿæ²¡å•¥æŸè€— unraid å¯¹æ¢¯å­ä¾èµ–ï¼ŒæŒ‘Uç›˜\n1ã€ç¯å¢ƒå‡†å¤‡ unraid æŒ‚æ¢¯å­ï¼Œæ–¹ä¾¿ä½¿ç”¨å¸‚åœº ï¼ˆä¹Ÿå¯ä»¥å¤„ç†ï¼Œåé¢å¯ä»¥å…¨éƒ¨åŸºäºæ‰‹åŠ¨å¤„ç†ï¼‰ unraid é‡Œé¢å®‰è£…ä¸€ä¸ªwindows10 ï¼ˆä¹Ÿå¯ä»¥ç”¨linuxliveç›˜æ›¿ä»£ï¼Œæˆ‘å›¾æ–¹ä¾¿è¿˜æ˜¯åˆ©ç”¨äº†ç°æœ‰çš„winï¼Œï¼‰ efiæ¨¡å¼çš„win10 ä¹Ÿå°±æ˜¯ ovmf i44fx-7.1, Hyper-V: Yes è¿™ä¸ªwin10 é‡Œé¢ è¦è£…å¥½ win10é‡Œé¢éœ€è¦å®‰è£…virtioçš„é©±åŠ¨ ï¼Œå¹¶ä¸”æ¥å£é™¤äº†è™šæ‹Ÿcdromä¹‹å¤–éƒ½æ˜¯ virtio æœ€å¥½å¼€å¯è¿œç¨‹æ¡Œé¢ å…³é—­ä¼‘çœ ï¼Œé˜²æ­¢åé¢å±å¹•æ²¡è¾“å‡ºçš„æ—¶å€™ è°ƒè¯•æ£€æŸ¥ 2ã€è·å–æ˜¾å¡çš„vbois å› ä¸ºé»‘macoså¿…é¡»è¦efiå¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‹¿åˆ°vboisæ–‡ä»¶ æ²¡æœ‰vboisçš„è¯å°±æ˜¯é»‘å±çŠ¶æ€ï¼Œæ—§ç‰ˆæœ¬ç½‘ä¸Šæœ‰æ•™ç¨‹å¯ä»¥ä¸ç”¨vboisï¼Œæ–°ç‰ˆæ²¡ç ”ç©¶ã€‚\nè¿™ä¸ªç½‘ç«™æœ‰éƒ¨åˆ†æ˜¾å¡vboisä¸‹è½½ https://www.techpowerup.com/vgabios/\nä½†æ˜¯è¿™ä¸ªç½‘ç«™åªæœ‰éƒ¨åˆ†ç‹¬æ˜¾çš„vbois æ²¡æœ‰æ ¸æ˜¾çš„ã€‚æ ¸æ˜¾çš„è¯éœ€è¦ä½ è‡ªå·±æ¥æå–ä¿®æ”¹ã€‚æ€è·¯ï¼šåšä¸€ä¸ªlinuxç‰©ç†æœºç³»ç»Ÿ æˆ–è€… livecdï¼Œç„¶ågit è‡ªå·±ç¼–è¯‘ï¼Œè¿‡ç¨‹å¤æ‚\nvboisçš„æå–ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘è¿™é‡Œç›´æ¥ç”¨åˆ«äººå·²ç»å·²ç»æå–å¥½çš„\nç»è¿‡æˆ‘æµ‹è¯• æ˜¯æ²¡é—®é¢˜çš„ï¼Œæ²¡æœ‰ç§¯åˆ†æˆ–è€…è´¦å·çš„è¯ï¼Œä»æˆ‘è¿™é‡Œä¸‹è½½ https://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-unraid-kvm/vbios_gvt_uefi.rom\nåŸå§‹åœ°å€ï¼š https://download.csdn.net/download/engineerlzk/82233022\næ”¾åˆ° \\TOWER\\isos\n3ã€åœ¨win10ä¸‹æä¸€ä¸‹éƒ¨åˆ†ç¡¬ä»¶çš„ç›´é€š unraid è®¾ç½® è™šæ‹Ÿæœº\nPCIe ACS è¦†ç›–:é€‰æ‹© ç¦ç”¨\nVFIO å…è®¸ä¸å®‰å…¨çš„ä¸­æ–­:é€‰æ‹© æ˜¯\nå·¥å…·-ç³»ç»Ÿè®¾å¤‡ é€‰æ‹©éœ€è¦å±è”½çš„ç¡¬ä»¶ ç„¶åç‚¹å‡» å¼•å¯¼æ—¶å¯¹VFIOé€‰æ‹©ç»‘å®š\næˆ‘è¿™é‡Œå±è”½æ‰äº†\n[8086:3e9b] 00:02.0 VGA compatible controller: Intel Corporation CoffeeLake-H GT2 [UHD Graphics 630] [14e4:4353] 02:00.0 Network controller: Broadcom Inc. and subsidiaries BCM43224 802.11a/b/g/n (rev 01) [8086:a170] 00:1f.3 Audio device: Intel Corporation 100 Series/C230 Series Chipset Family HD Audio Controller (rev 31) é”®ç›˜é¼ æ ‡ Uç›˜ç­‰usbè®¾å¤‡åªè¦unraidæ²¡å ç”¨ï¼Œåœ¨è™šæ‹Ÿæœºç®¡ç†é‡Œé¢ æ˜¯å¯ä»¥ç›´æ¥æ·»åŠ ä¸Šçš„ã€‚è™šæ‹Ÿå¦‚æœå·²ç»å¼€æœºäº†ï¼Œå¯ä»¥ç”¨Libvirt Hotplug USB, è¿™ä¸ªæ’ä»¶å¯ä»¥åŠ¨æ€æ’å…¥usbåˆ°è™šæ‹Ÿæœºï¼Œ\nhttps://github.com/dlandon/libvirt.hotplug.usb/raw/master/libvirt.hotplug.usb.plg å¦‚æœä½ æ²¡æœ‰æ¢¯å­ å¯ä»¥çœ‹è¿™ä¸ªæ–‡ç«  å¦å¤–å°±æ˜¯è“ç‰™çš„ç›´é€š\n[8086:a12f] 00:14.0 USB controller: Intel Corporation 100 Series/C230 Series Chipset Family USB 3.0 xHCI Controller (rev 31) Bus 001 Device 001 Port 1-0\tID 1d6b:0002 Linux Foundation 2.0 root hub --- --- Bus 001 Device 004 Port 1-6\tID 0a5c:4500 Broadcom Corp. BCM2046B1 USB 2.0 Hub (part of BCM2046 Bluetooth) --- Bus 001 Device 008 Port 1-6.3\tID 05ac:821f Apple, Inc. Built-in Bluetooth 2.0+EDR HCI --- å£°å¡çš„ éœ€è¦æ•´ç»„å±è”½çš„å“¦ï¼Œæ²¡åŠæ³•ï¼Œä»–ä¹Ÿä¼šè‡ªåŠ¨å¸®ä½ å…¨å‹¾é€‰ä¸Š\nå†åœ¨unraidé‡Œé¢ ç‚¹å‡»ä¸»ç•Œé¢ å¼•å¯¼è®¾å¤‡ flah ä¸‹é¢çš„ Syslinux é…ç½®: åœ¨unraid os åé¢æ·»åŠ ä¸€è¡Œ video=efifb:off\né‡å¯ unraid\nwin10 è™šæ‹Ÿæœºå…³æœºï¼Œæ·»åŠ  æ˜¾å¡ï¼Œæˆ–è€…ä¿®æ”¹vncçš„æ˜¾å¡æˆuhd630 ï¼ŒromæŒ‡å®šåˆ° /mnt/disk1/isos/vbios_gvt_uefi.rom\nå†æ·»åŠ  é”®ç›˜å’Œé¼ æ ‡ï¼Œè¦æ’ä¸Šå“¦ã€‚ä»¥åŠå£°å¡å’Œè“ç‰™\nIntel 100 Series/C230 Series Chipset Family HD Audio Controller (00:1f.3) Apple Built-in Bluetooth 2.0+EDR HCI (05ac:821f) Pixart Imaging Optical Mouse (093a:2510) DAREU EK871 BT keyboard (260d:0013) å‚è€ƒæ–‡ç«  ï¼š\nhttps://post.smzdm.com/p/aooz38zn/ http://10.0.0.8/Settings/VMSettings https://post.smzdm.com/p/alx8k9ze/ https://wiki.archlinux.org/title/PCI_passthrough_via_OVMF_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) 4ã€è°ƒè¯•win10 è™šæ‹Ÿæœºçš„ç›´é€šï¼Œ é¦–å…ˆä½ è¦ç¡®å®šä½ é»‘è‹¹æœæ˜¯æ”¯æŒä½ çš„è¦ç›´é€šçš„ç¡¬ä»¶çš„\næ˜¾å¡æ˜¯uhb630 æ ¸æ˜¾ å£°å¡ ALC887 + HDMIï¼Œæˆ‘è¿™é‡Œä¸æ‰“ç®—ç”¨HDMI wifiå’Œè“ç‰™ BCM943224 pcie bt2 åšé€š 43224AG ï¼ˆè¿™æ˜¯æˆ‘ä»¥å‰çš„ä¸€å¼ å›ºå®šå¡äº†ï¼‰ win10å…³æœº\nq35çš„ç›´é€šé—®é¢˜ æœªå®Œå¾…ç»­==============\nå‚è€ƒï¼šhttps://post.smzdm.com/p/aqxovxl2/\nmacosè™šæ‹Ÿæœºåˆ é™¤çš„æ—¶å€™ï¼Œå¦‚æœä¸€ç›´åˆ é™¤å¤±è´¥ï¼Œæ‰“å¼€è™šæ‹Ÿæœºé…ç½® åˆ‡æ¢åˆ°xmlè§†å›¾ï¼Œåˆ æ‰ nvram è¿™è¡Œ å°±å¯ä»¥åˆ é™¤äº†\næ¸…ç†æ¸…å•\n1 2 3 4 5 6 7 8 /mnt/user/system/custom_ovmf/Macinabox_VARS-pure-efi.fd /mnt/user/domains/Macinabox Monterey/ /mnt/user/system/custom_ovmf/Macinabox* /mnt/user/system/custom_ovmf/readme.txt # å®‰è£…é•œåƒ /mnt/user/isos/Monterey-install.img ","date":"2022-10-28T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/unraid/window-kvm-gpu-usb-audio/","title":"unraid å®‰è£…win æ ¸æ˜¾å’Œusb å£°å¡ç›´é€š"},{"content":" æœ¬æ–‡å‡å®šï¼Œä½ å·²ç»è£…äº†ä¸€ä¸ªç³»ç»Ÿï¼Œæœºå‹æ˜¯ q35 efiå¯åŠ¨ã€‚\nç›®æ ‡ï¼Œå†q35 æœºå‹ä¸Š ç”¨efi å¯åŠ¨win ä»¥åŠ opencore efi å¯åŠ¨çš„macos å¯ä»¥ç‚¹äº®HDMI\nmacoså®‰è£…è¯·æŸ¥çœ‹åœ¨pveä¸Šç›´æ¥å®‰è£…macos13 Ventura åˆæ­¥ä¼˜åŒ–\næœ¬æ–‡åŸºäº efi grub pve7.2.11 æ›´å¤šç¯å¢ƒå‚æ•°æŸ¥çœ‹ æœ¬æ–‡æœ«å°¾\né¦–å…ˆæå®šç›¸å¯¹æ¯”è¾ƒç®€å•çš„win10çš„æ˜¾å¡ç›´é€šï¼Œä»¥ä¾¿åç»­è°ƒè¯•macos\næ˜¾å¡ç›´é€š vboisæ–‡ä»¶ å› ä¸ºæ˜¯efiå¯åŠ¨ï¼Œæ‰€ä»¥å¿…é¡»æå–æ˜¾å¡çš„vboisï¼Œå¦‚æœä½ æ˜¯ç‹¬ç«‹æ˜¾å¡å¯ä»¥å»è¿™é‡Œä¸‹è½½ https://www.techpowerup.com/vgabios/\nå¦‚æœæ˜¯æ ¸æ˜¾ï¼Œå¯ä»¥ç½‘ä¸Šæœä¸€ä¸‹ä½ çš„æ ¸æ˜¾å‹å·ï¼Œçœ‹èƒ½ä¸èƒ½æ‰¾åˆ°å¯ç”¨çš„vbiosï¼Œå¦‚æœ ä¾æ—§æ²¡æœ‰ï¼Œå°±éœ€è¦è‡ªå·±æå–ç¼–è¯‘ï¼Œå…·ä½“ç½‘ä¸Šæœä¸€ä¸‹æ•™ç¨‹æˆ‘è¿™é‡Œå°±ä¸é‡å¤\næˆ‘çš„æ˜¯uhd630 ï¼Œ ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€ä»½ åœ¨unraidä¸‹æµ‹è¯•æ²¡é—®é¢˜çš„ã€‚https://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-unraid-kvm/vbios_gvt_uefi.rom\nä¸‹è½½åˆ°pveé‡Œé¢ å¤‡ç”¨\ncd /usr/share/kvm/ wget https://file.leiyanhui.com/pve-unraid-kvm/vbios_gvt_uefi.rom å¼€å¯pveçš„æ˜¾å¡ç›´é€š grubçš„å¤„ç† å¼€å¯IOMMUæ”¯æŒ cp /etc/default/grub /etc/default/grub-bak nano /etc/default/grub ä¿®æ”¹GRUB_CMDLINE_LINUX_DEFAULTè¿™è¡Œä¸º\nGRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet intel_iommu=on\u0026quot; å¦‚æœæ˜¯amdçš„cpu å‰é¢intel_iommu=onæ”¹ä¸º amd_iommu=on\nå¦‚æœå¤šæ˜¾å¡ï¼Œå¯èƒ½è¿˜éœ€è¦å†è¿™é‡Œåšä¸€ä¸‹å±è”½å¤„ç† å°±æ˜¯ ç¾¡æ…•çš„ =on åé¢æ·»åŠ ç©ºæ ¼ video=efifb:off\nGRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet intel_iommu=on video=efifb:off\u0026quot; è§£é‡Šï¼š\niommuå¼€å¯ç›´é€šåˆ†ç»„ efifb:off ç¦ç”¨efiå¯åŠ¨çš„æ˜¾ç¤ºè®¾å¤‡ vesafb:off ç¦ç”¨legacyå¯åŠ¨çš„æ˜¾ç¤ºè®¾å¤‡ modprobeçš„å¤„ç† VT-DåŠŸèƒ½çš„å†…æ ¸æ¨¡å— cp /etc/modules /etc/modules-bak nano /etc/modules æ·»åŠ \nvfio vfio_iommu_type1 vfio_pc vfio_virqfd æ£€æŸ¥é»‘åå• å› ä¸ºpveå¯åŠ¨æ—¶ä¼šå°è¯•åŠ è½½æ˜¾å¡é©±åŠ¨ï¼Œä¸ºäº†é¿å…pveå ç”¨æ˜¾å¡ï¼Œéœ€è¦é˜»æ­¢pveçš„æ˜¾å¡é©±åŠ¨åŠ è½½ã€‚åªæœ‰æ˜¾å¡ç›´é€šæ‰éœ€è¦è¿™ä¸ª æ¨¡å—ï¼ˆé©±åŠ¨ï¼‰é»‘åå•ï¼Œå³è®©GPUè®¾å¤‡åœ¨ä¸‹æ¬¡ç³»ç»Ÿå¯åŠ¨ä¹‹åä¸ä½¿ç”¨è¿™äº›é©±åŠ¨ï¼ŒæŠŠè®¾å¤‡è…¾å‡ºæ¥ç»™vfioé©±åŠ¨ç”¨ï¼š /etc/modprobe.d/pve-blacklist.conf çœ‹çœ‹æœ‰æ²¡æœ‰ä¸‹é¢çš„å†…å®¹ï¼Œå¦‚æœä½ åé¢è¦ç”¨é’©å­å‡½æ•°ï¼Œå°±éœ€è¦åˆ é™¤ä¸‹é¢çš„å†…å®¹ï¼Œä¸ç”¨çš„è¯ï¼Œæœ€å¥½æ˜¯æ·»åŠ è¿›å»\ncp /etc/modprobe.d/pve-blacklist.conf /etc/modprobe.d/pve-blacklist.conf-bak nano /etc/modprobe.d/pve-blacklist.conf å†…å®¹\nblacklist i915 blacklist snd_hda_intel blacklist snd_hda_codec_hdmi å…¶ä»–æ˜¾å¡\n# block AMD driver blacklist radeon blacklist amdgpu # block NVIDIA driver blacklist nouveau blacklist nvidia blacklist nvidiafb å¤„ç†ä¸€ä¸ªkvmçš„é…ç½®é¡¹ï¼Œå¯ä»¥é¿å…ä¸€äº›ç‰¹æ®Šé—®é¢˜ å¦‚æœæ˜¯Nå¡è¿˜éœ€è¦åŠ å…¥ä¸‹é¢çš„é…ç½®åˆ°kvm.confï¼ˆæ®è€å¤–è¯´æ˜¯é¿å…ä¸€äº›è«åå…¶å¦™çš„é”™è¯¯ï¼‰,\nå¦‚æœä½ è¦è·‘macosçš„è¯ æœ€å¥½ä¹Ÿæ·»åŠ ä¸€ä¸‹,æ®è¯´ä¹Ÿå¯ä»¥é¿å…macosæ— é™é‡å¯\necho \u0026quot;options kvm ignore_msrs=Y\u0026quot; \u0026gt; /etc/modprobe.d/kvm.conf ä¹Ÿæœ‰å›½å¤–æ•™ç¨‹æ˜¯\necho \u0026quot;options kvm ignore_msrs=1\u0026quot; \u0026gt; /etc/modprobe.d/kvm.conf ä¸æ¸…æ¥šé‚£ä¸ªæ˜¯æœ€åˆé€‚çš„ï¼Œæˆ‘ç”¨ç¬¬ä¸€ä¸ªï¼Œåªæ·»åŠ è¿™è¡Œçš„è¯ï¼Œä¼šå´ä¼šå¯¼è‡´pveçš„æ¯é¸¡æ§åˆ¶å°åˆ·å±kvm [2205]: vcpu0 ignored RDMSR: 0x1b8ç±»ä¼¼çš„ä»£ç ï¼Œä½ å¦‚æœè§‰å¾—çƒ¦èºã€‚ ä½ å¯ä»¥ ä¿®æ”¹æˆ options kvm ignore_msrs=Y report_ignored_msrs=N\né‡å¯ç”Ÿæ•ˆï¼Œæˆ–è€… echo 0 \u0026gt; /sys/module/kvm/parameters/report_ignored_msrs å¼ºåˆ¶ç”Ÿæ•ˆ\nå…è®¸ä¸å®‰å…¨çš„ä¸­æ–­ echo \u0026quot;options vfio_iommu_type1 allow_unsafe_interrupts=1\u0026quot; \u0026gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf æ·»åŠ æ˜¾å¡åˆ°ç›´é€šè®¾å¤‡ä¸­ å†™å…¥vfio æŸ¥çœ‹pciè®¾å¤‡ lspci -nn | grep æ˜¾å¡åç§° ä¾‹å¦‚\nlspci -nn | grep UHD 00:02.0 VGA compatible controller [0300]: Intel Corporation CoffeeLake-H GT2 [UHD Graphics 630] [8086:3e9b] è®°ä½å‰é¢å’Œæœ€åçš„åœ°å€ 00:02 å’Œ 8086:3e9b\nç”±äºæˆ‘ä»¬éœ€è¦è®©è®¾å¤‡ç›´é€šè™šæ‹Ÿæœº, é‚£å°±ä¸èƒ½è®©å®¿ä¸»æœºçš„é©±åŠ¨å»æ¥ç®¡è¿™äº›ç¡¬ä»¶, æˆ‘ä»¬éœ€è¦ä¸€ä¸ª dummy é©±åŠ¨æ¨¡å—å»æ¥ç®¡è¿™äº›è¦è¢«ç›´é€šçš„ç¡¬ä»¶. æ‰¾åˆ°ä½ æƒ³è¦ç›´é€šçš„è®¾å¤‡çš„ ID, å¹¶ä¸”æ³¨æ„æ¯ä¸ªè®¾å¤‡æ‰€åœ¨ç»„çš„å…¶ä»–è®¾å¤‡(ç¼–è¾‘æ–‡ä»¶ /etc/modprobe.d/vfio.conf.\necho \u0026quot;options vfio-pci ids=8086:3e9b\u0026quot; \u0026gt; /etc/modprobe.d/vfio.conf psï¼šæ‰§è¡Œæ­¤æ“ä½œåå¯èƒ½æ— æ³•è¾“å‡ºåˆ°å¤–æ¥æ˜¾ç¤ºå™¨ï¼Œè‹¥å‡ºç°æ­¤æƒ…å†µï¼Œè¯·æ’¤å›è¯¥æ­¥éª¤\nå¦å¤–æœ‰ä¸€ä¸ª å‚æ•° disable_vga=1 ä¹Ÿå¯èƒ½ä¼šå½±å“\necho \u0026quot;options vfio-pci ids=8086:3e9b disable_vga=1\u0026quot; \u0026gt; /etc/modprobe.d/vfio.conf ä½†æ˜¯ä¸ºäº†é¿å… initrd å¼•å…¥çš„å†…æ ¸æ¨¡å—ä¸­ vfio ä½äºç‰©ç†é©±åŠ¨çš„åé¢, è¿™é‡Œæœ‰ä¸¤å¥—æ–¹æ¡ˆï¼š æ ¹æ® lspci \u0026ndash;nnk çš„å†…å®¹, æ‰¾åˆ°æ¯ä¸ªè®¾å¤‡å¯¹åº”çš„é©±åŠ¨, ä¿®æ”¹ ï¼ˆarchï¼‰ /etc/blacklist.conf æˆ–è€…ï¼ˆpveï¼‰/etc/modprobe.d/pve-blacklist.conf æˆ‘ä»¬å‰é¢å·²ç»å¤„ç†è¿‡\nå¦å¤–æœ‰ä¸€ä¸ªusbæ§åˆ¶å™¨ å¯èƒ½åé¢ä¹Ÿè¦ç”¨åˆ°\nlspci -nn | grep USB 00:14.0 USB controller [0c03]: Intel Corporation 100 Series/C230 Series Chipset Family USB 3.0 xHCI Controller [8086:a12f] (rev 31) æˆ‘ä¸»æ¿åªæœ‰ä¸€ä¸ªusbæ§åˆ¶å™¨ï¼Œç›´é€šå…¶ä»–usbè®¾å¤‡æ²¡é—®é¢˜ï¼Œpcieæ¿è½½è“ç‰™çš„è¯ï¼Œæ˜¯ä¸è¡Œçš„\né‡å¯ é‡å¯ä¹‹å‰ éœ€è¦æ›´æ–°ä¸€ä¸‹ grubå’Œ update-initramfs -u\nupdate-grub update-initramfs -u æ‰§è¡Œç»“æœ\nupdate-grub Generating grub configuration file ... Found linux image: /boot/vmlinuz-5.15.64-1-pve Found initrd image: /boot/initrd.img-5.15.64-1-pve Found linux image: /boot/vmlinuz-5.15.30-2-pve Found initrd image: /boot/initrd.img-5.15.30-2-pve Found memtest86+ image: /boot/memtest86+.bin Found memtest86+ multiboot image: /boot/memtest86+_multiboot.bin Adding boot menu entry for UEFI Firmware Settings ... done update-initramfs -u update-initramfs: Generating /boot/initrd.img-5.15.64-1-pve Running hook script 'zz-proxmox-boot'.. Re-executing '/etc/kernel/postinst.d/zz-proxmox-boot' in new private mount namespace.. No /etc/kernel/proxmox-boot-uuids found, skipping ESP sync. å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ˜¯ ventoyå¼•å¯¼çš„pve è¿˜éœ€è¦æ‰§è¡Œä¸€ä¸‹ï¼Œä¸ç„¶å°±å¯åŠ¨ä¸èµ·æ¥äº†\ncd /root/vtoyboot-1.0.24/ sh vtoyboot.sh æ‰§è¡Œç»“æœ\n********************************************** vtoyboot 1.0.24 longpanda admin@ventoy.net https://www.ventoy.net ********************************************** Current system use initramfstool as initramfs tool updating the initramfs, please wait ... update-initramfs: Generating /boot/initrd.img-5.15.64-1-pve Running hook script 'zz-proxmox-boot'.. Re-executing '/etc/kernel/postinst.d/zz-proxmox-boot' in new private mount namespace.. No /etc/kernel/proxmox-boot-uuids found, skipping ESP sync. grub mkconfig ... PROBE_PATH=/usr/sbin/grub-probe MKCONFIG_PATH=/usr/sbin/grub-mkconfig /usr/sbin/grub-mkconfig -o /boot/grub/grub.cfg Generating grub configuration file ... Found linux image: /boot/vmlinuz-5.15.64-1-pve Found initrd image: /boot/initrd.img-5.15.64-1-pve Found linux image: /boot/vmlinuz-5.15.30-2-pve Found initrd image: /boot/initrd.img-5.15.30-2-pve Found memtest86+ image: /boot/memtest86+.bin Found memtest86+ multiboot image: /boot/memtest86+_multiboot.bin Adding boot menu entry for UEFI Firmware Settings ... done This is ventoy enviroment replace shim efi ... shimx64.efi no need 0 vtoyboot process successfully finished. é‡å¯ä¹‹å‰ï¼Œæ£€æŸ¥ä¸€ä¸‹æ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„ç»“æœ\ncat /etc/default/grub\ncat /etc/modules\ncat /etc/modprobe.d/pve-blacklist.conf\ncat /etc/modprobe.d/kvm.conf\ncat /etc/modprobe.d/iommu_unsafe_interrupts.conf\ncat /etc/modprobe.d/vfio.conf\næˆ‘çš„æ£€æŸ¥ æ‰§è¡Œç»“æœ cat /etc/default/grub # If you change this file, run 'update-grub' afterwards to update # /boot/grub/grub.cfg. # For full documentation of the options in this file, see: # info -f grub -n 'Simple configuration' GRUB_DEFAULT=0 GRUB_TIMEOUT=5 GRUB_DISTRIBUTOR=`lsb_release -i -s 2\u0026gt; /dev/null || echo Debian` GRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet intel_iommu=on\u0026quot; GRUB_CMDLINE_LINUX=\u0026quot;\u0026quot; # Uncomment to enable BadRAM filtering, modify to suit your needs # This works with Linux (no patch required) and with any kernel that obtains # the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...) #GRUB_BADRAM=\u0026quot;0x01234567,0xfefefefe,0x89abcdef,0xefefefef\u0026quot; # Uncomment to disable graphical terminal (grub-pc only) #GRUB_TERMINAL=console # The resolution used on graphical terminal # note that you can use only modes which your graphic card supports via VBE # you can see them in real GRUB with the command `vbeinfo' #GRUB_GFXMODE=640x480 # Uncomment if you don't want GRUB to pass \u0026quot;root=UUID=xxx\u0026quot; parameter to Linux #GRUB_DISABLE_LINUX_UUID=true # Uncomment to disable generation of recovery mode menu entries #GRUB_DISABLE_RECOVERY=\u0026quot;true\u0026quot; # Uncomment to get a beep at grub start #GRUB_INIT_TUNE=\u0026quot;480 440 1\u0026quot; ----------------------------------- cat /etc/modules # /etc/modules: kernel modules to load at boot time. # # This file contains the names of kernel modules that should be loaded # at boot time, one per line. Lines beginning with \u0026quot;#\u0026quot; are ignored. vfio vfio_iommu_type1 vfio_pc vfio_virqfd ----------------------------------- cat /etc/modprobe.d/pve-blacklist.conf # This file contains a list of modules which are not supported by Proxmox VE # nidiafb see bugreport https://bugzilla.proxmox.com/show_bug.cgi?id=701 blacklist nvidiafb blacklist i915 blacklist snd_hda_intel blacklist snd_hda_codec_hdmi ----------------------------------- cat /etc/modprobe.d/kvm.conf options kvm ignore_msrs=Y ----------------------------------- cat /etc/modprobe.d/iommu_unsafe_interrupts.conf options vfio_iommu_type1 allow_unsafe_interrupts=1 ----------------------------------- cat /etc/modprobe.d/vfio.conf cat: /etc/modprobe.d/vfio.conf: No such file or directory æ£€æŸ¥æ²¡é—®é¢˜å é‡å¯ reboot\næŸ¥çœ‹æ¨¡å—æ˜¯å¦æœ‰é—®é¢˜ lsmod | grep vfio ç»“æœ\nvfio_virqfd 16384 0 vfio_iommu_type1 40960 0 vfio 45056 1 vfio_iommu_type1 è™šæ‹Ÿæœºæ·»åŠ æ˜¾å¡ å†è¿™é‡Œå¯ä»¥ç›´æ¥åœ¨è™šæ‹Ÿæœºé‡Œé¢æ·»åŠ ç¡¬ä»¶ é€‰æ‹©è¿™ä¸ªæ˜¾å¡äº†ã€‚ä½†æ˜¯å¦‚æœæ˜¯efiå¯åŠ¨çš„ è™šæ‹Ÿæœºèƒ½æ‰¾åˆ°è®¾å¤‡ï¼Œä½†æ˜¯æ˜¾å¡è¾“å‡ºé»‘å±çš„ã€‚ å¯ä»¥å…ˆè¿›å»win ç”¨vncæˆ–è€… è¿œç¨‹æ¡Œé¢ è£…å¥½ç›´é€šè¿›å»çš„æ˜¾å¡çš„é©±åŠ¨ã€‚ æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ‰‹åŠ¨å¤„ç†ä¸€ä¸‹è™šæ‹Ÿé…ç½®æ–‡ä»¶ã€‚æˆ‘è¦æ“ä½œçš„è™šæ‹Ÿæœº æ˜¯macos+winçš„è¿™åŒç³»ç»Ÿä¸»æœº 102ã€‚\ncp /etc/pve/qemu-server/102.conf /etc/pve/qemu-server/102.conf-bak nano /etc/pve/qemu-server/102.conf åœ¨æ˜¾å¡é‚£æ¡hostpciçš„æœ€ååŠ ä¸Š,romfile=vbios_gvt_uefi.rom ,å¦‚æœå…¶ä»–æ˜¾å¡ å‰é¢çš„åœ°å€å¯èƒ½ä¸å¤ªä¸€æ ·\nhostpci0: 0000:00:02.0,pcie=1,romfile=vbios_gvt_uefi.rom å¦‚æœä¸Šé¢çš„æ–¹æ³•ä¸è¡Œï¼Œé‚£å°±åˆ æ‰hostpci0é‚£è¡Œï¼Œåœ¨æ–‡ä»¶æœ€ä¸Šé¢åŠ ä¸Šè¿™è¡Œï¼Œå¹¶ä¸”æŠŠ æ˜¾ç¤º è®¾ç½®æˆ æ— ï¼Œä¸åŠ romfileæœ‰å¯èƒ½ä¹Ÿèƒ½ç”¨ï¼Œå¯ä»¥å…ˆè¯•è¯•\nargs: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-gms=1,romfile=vbios_gvt_uefi.rom è¿˜æœ‰ä¸€ç§å†™æ³• æ˜¯\nargs: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-opregion=on,romfile=vbios_gvt_uefi.rom ç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œåè€…å†™æ³•å¯ä»¥å†q35 efiæ¨¡å¼ä¸‹ é¡ºåˆ©ç‚¹äº®ï¼Œå¦å¤– è™šæ‹Ÿæ˜¾å¡ å¯ä»¥ä¿ç•™ï¼Œä½†æ˜¯win10ç›´é€šçš„é¼ æ ‡ä¸æ˜¾ç¤ºæŒ‡é’ˆ\nå¦‚æœä½ å’Œæˆ‘ä¸€æ · è¦è£…é»‘è‹¹æœï¼Œå¯èƒ½å·²ç»æœ‰argsè¿™è¡Œï¼Œé‚£å°±å¤§æ¦‚æ”¹æˆ ä¸‹é¢è¿™æ ·\nargs: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-opregion=on,romfile=vbios_gvt_uefi.rom -device isa-applesmc,osk=\u0026quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026quot; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -global\u0026gt; å¦å¤–ä½ å¯èƒ½éœ€è¦æŠŠæ˜¾ç¤º è®¾ç½®æˆ æ—  å¤šè¯•è¯•\nå¦‚æœå¯åŠ¨çš„æ—¶å€™ï¼Œæç¤º failed to open /dev/vfio/1: No such file or directory é‚£æ˜¯å› ä¸º æˆ‘ä»¬ç”¨argsçš„æ—¶å€™ ç³»ç»Ÿæ²¡æœ‰è‡ªåŠ¨å°†è®¾å¤‡é‡æ–°ç»‘å®šåˆ°vfio-pciæ¨¡å—ï¼Œ\nå°±éœ€è¦æˆ‘ä»¬\n1ã€åˆ é™¤æˆ–æ³¨é‡Š/etc/modprobe.dä¸­ç»‘å®šæ˜¾å¡idåˆ°vfio-pciçš„æ“ä½œï¼Œå¦‚#options vfio-pci ids=8086:3184,8086:3198\nrm -rf /etc/modprobe.d/vfio.conf 2ã€ç¼–è¾‘/etc/default/grub æ·»åŠ vfio-pci.ids=8086:3184 8086:3198åˆ° GRUB_CMDLINE_LINUX= \u0026ldquo;\u0026quot;ï¼ˆæ·»åŠ åˆ°å¼•å·å†…ï¼Œidå°±æ˜¯æ˜¾å¡idï¼Œæœ‰æ—¶éœ€è¦å°†å£°å¡idä¸€å¹¶åŠ å…¥ï¼‰\nGRUB_CMDLINE_LINUX= \u0026quot;vfio-pci.ids=8086:3e9b\u0026quot; 3ã€æ›´æ–°é‡å¯\nupdate-grub 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 agent: 1 args: -device vfio-pci,host=00:02.0,addr=0x02,x-igd-opregion=on,romfile=vbios_gvt_uefi.rom -device isa-applesmc,osk=\u0026#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#34; \u0026gt; bios: ovmf boot: order=virtio0 cores: 8 cpu: Penryn efidisk0: local:102/vm-102-disk-0.qcow2,efitype=4m,size=528K machine: q35 memory: 8192 meta: creation-qemu=7.0.0,ctime=1667039767 net0: virtio=EA:46:2B:E6:EF:5F,bridge=vmbr0,firewall=1 numa: 1 ostype: other sata1: none,media=cdrom scsihw: virtio-scsi-pci smbios1: uuid=cbc57782-404a-4a2c-8500-78d072f75125 sockets: 1 vga: vmware virtio0: local:102/vm-102-disk-2.raw,size=512M virtio1: local:102/vm-102-disk-1.qcow2,size=32G virtio3: local:102/vm-102-disk-3.qcow2,cache=unsafe,size=16G vmgenid: f216093f-9c67-4801-934e-0a6c31fbb4fe å…¶ä»–è®¾å¤‡çš„ç›´é€š å£°å¡å’ŒUSBçš„ç›´é€š pve7.2 ç›®å‰å·²ç»å¯ä»¥ç›´æ¥ç›´é€šè¿›å»ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–æ“ä½œ HDMI å£°éŸ³çš„ç›´é€šï¼Œå‚è€ƒä¸Šé¢æ˜¾å¡ çš„ è“ç‰™çš„ç›´é€šï¼Œå¦‚æœæ˜¯å¤–ç½®çš„usbè“ç‰™ç®€å•ï¼Œå¦‚æœæ˜¯ç±»ä¼¼ç¬”è®°æœ¬ æˆ–è€… é»‘è‹¹æœçš„wifiä¸Šçš„çš„è“ç‰™ï¼Œå¯èƒ½ä¸ä¸€å®šå¯ä»¥é©±åŠ¨ï¼Œå¯ä»¥å°è¯•å§æ•´ä¸ªusbæ§åˆ¶å™¨ç›´é€šè¿›å»å…ˆè¯•è¯•ï¼Œå¦‚æœå¯ä»¥å†æƒ³åŠæ³•å°è¯• é€šè¿‡pcei usbæ‰©å±•å¡ æˆ–è€…å…¶ä»–æ–¹æ³•è§£å†³\nå‚è€ƒï¼š https://zhuanlan.zhihu.com/p/577161166 https://zyyme.com/pve-igpu-passthrough.html https://www.right.com.cn/forum/thread-4055200-1-1.html ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æ˜¾å¡vboisæå–æ•™ç¨‹ï¼šhttps://www.jianshu.com/p/3ec6891ac5c8 ä¸€ä¸ªæ¯”è¾ƒæ˜“æ‡‚çš„kvmæ•™ç¨‹ https://zhuanlan.zhihu.com/p/60389508\n","date":"2022-10-28T17:14:20+08:00","permalink":"https://dev.leiyanhui.com/pve/win-gpu/","title":"åœ¨pveä¸Š efi q35 ç›´é€šæ˜¾å¡æ˜¾ç¤ºï¼Œä»¥åŠå£°å¡å’Œè“ç‰™ wifiç­‰çš„ç›´é€š   win/macos"},{"content":"å‰é¢å·²ç» åˆæ­¥å®‰è£…äº†macos åœ¨102ä¸Šï¼Œç°åœ¨å‡†å¤‡åšç¡¬ä»¶ç›´é€šï¼Œå…³æœºå¤‡ä»½ä¸€ä¸‹ã€‚ã€‚\nå¤‡ä»½è™šæ‹Ÿæœº mount /dev/sda1 /mnt cp -r /var/lib/vz/images/102 /mnt/pve-maco-base å¤‡ä»½è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶ cp /etc/pve/qemu-server/102.conf /mnt/pve-maco-base/102.conf å¤‡ä»½æ”¹åŠ¨è¿‡çš„ä¸€ä¸ªé…ç½®é¡¹ cp /etc/modprobe.d/kvm.conf /mnt/pve-maco-base/kvm.conf è®°å½•ç¯å¢ƒä¿¡æ¯ #å†…æ ¸ cat /proc/version \u0026gt; /mnt/pve-maco-base/pveinfo.txt #ç‰ˆæœ¬ cat /etc/debian_version \u0026gt;\u0026gt; /mnt/pve-maco-base/pveinfo.txt # pveç‰ˆæœ¬ pveversion -v \u0026gt;\u0026gt; /mnt/pve-maco-base/pveinfo.txt æˆ‘çš„æœ€ç»ˆç¯å¢ƒä¿¡æ¯ Linux version 5.15.64-1-pve (build@proxmox) (gcc (Debian 10.2.1-6) 10.2.1 20210110, GNU ld (GNU Binutils for Debian) 2.35.2) #1 SMP PVE 5.15.64-1 (Thu, 13 Oct 2022 10:30:34 +0200) debian 11.5 proxmox-ve: 7.2-1 (running kernel: 5.15.64-1-pve) pve-manager: 7.2-11 (running version: 7.2-11/b76d3178) pve-kernel-5.15: 7.2-13 pve-kernel-helper: 7.2-13 pve-kernel-5.15.64-1-pve: 5.15.64-1 pve-kernel-5.15.30-2-pve: 5.15.30-3 ceph-fuse: 15.2.16-pve1 corosync: 3.1.5-pve2 criu: 3.15-1+pve-1 glusterfs-client: 9.2-1 ifupdown2: 3.1.0-1+pmx3 ksm-control-daemon: 1.4-1 libjs-extjs: 7.0.0-1 libknet1: 1.24-pve1 libproxmox-acme-perl: 1.4.2 libproxmox-backup-qemu0: 1.3.1-1 libpve-access-control: 7.2-4 libpve-apiclient-perl: 3.2-1 libpve-common-perl: 7.2-3 libpve-guest-common-perl: 4.1-4 libpve-http-server-perl: 4.1-4 libpve-storage-perl: 7.2-10 libspice-server1: 0.14.3-2.1 lvm2: 2.03.11-2.1 lxc-pve: 5.0.0-3 lxcfs: 4.0.12-pve1 novnc-pve: 1.3.0-3 proxmox-backup-client: 2.2.7-1 proxmox-backup-file-restore: 2.2.7-1 proxmox-mini-journalreader: 1.3-1 proxmox-widget-toolkit: 3.5.1 pve-cluster: 7.2-2 pve-container: 4.2-3 pve-docs: 7.2-2 pve-edk2-firmware: 3.20220526-1 pve-firewall: 4.2-6 pve-firmware: 3.5-6 pve-ha-manager: 3.4.0 pve-i18n: 2.7-2 pve-qemu-kvm: 7.0.0-4 pve-xtermjs: 4.16.0-1 qemu-server: 7.2-4 smartmontools: 7.2-pve3 spiceterm: 3.2-2 swtpm: 0.7.1~bpo11+1 vncterm: 1.7-1 zfsutils-linux: 2.1.6-pve1 ","date":"2022-10-28T15:29:20+08:00","permalink":"https://dev.leiyanhui.com/pve/mac-bak/","title":"pveå®‰è£…çš„macosç®€å•å¤‡ä»½"},{"content":"ç¡¬ç›˜å®‰è£…äº†ventoyï¼Œventoy ä½¿ç”¨äº†ä¸¤ä¸ªåˆ†åŒºï¼Œä¸€ä¸ªæ˜¯ventoyåˆ†åŒº å¤§å°å‡ ç™¾M-å‡ G ä¸€ä¸ªæ˜¯ ventoyefiåˆ†åŒº32Mï¼Œåé¢çš„åˆ†åŒºæ˜¯ä¿ç•™åˆ†åŒºã€‚\nå…ˆç”¨ventoy å¯åŠ¨ç¡¬ç›˜ä¿ç•™åˆ†åŒºçš„ä¸€ä¸ª win11.vhd æˆ–è€…å…¶ä»–ç³»ç»Ÿéƒ½å¯ã€‚\nå®‰è£… virtualbox åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºdebian11ï¼ŒæŒ‚pve7.2.iso ä¸åˆ›å»ºç¡¬ç›˜\nç³»ç»Ÿè®¾ç½®é‡Œé¢ æ‰“å¼€ efiï¼Œåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¡¬ç›˜ å›ºå®šå¤§å°çš„ã€‚virtualboxç°åœ¨å‡çº§åˆ°6.1-7 æŒ‰é’®ä½ç½®å‘ç”Ÿäº†å˜åŒ–æ³¨æ„ä¸€ä¸€ç‚¹ã€‚ ç½‘ç»œé€‰æ‹©æ¡¥æ¥\nè¿™é‡Œæ³¨æ„ä¸‰ä¸ªç‚¹:\nå¿…é¡»æ‰“å¼€efi è¿™æ˜¯ ventoy å¯åŠ¨çš„è¦æ±‚ è™šæ‹Ÿç¡¬ç›˜éœ€è¦å›ºå®šå¤§å° è™šæ‹Ÿç¡¬ç›˜å°ºå¯¸ä¸èƒ½å¤ªå°ï¼Œå› ä¸ºpveé™¤äº†è‡ªå·±å ç”¨çš„3-4Gç©ºé—´ä¹‹å¤–ï¼Œè¿˜æœ‰nodeéœ€è¦ä¿ç•™ä¸€äº›ç©ºé—´ã€‚æˆ‘ç²—ç•¥æµ‹è¯• 12Gä¸å¯ä»¥ï¼Œ20Gå¯ä»¥ã€‚æ‡’å¾—ç»§ç»­æµ‹è¯•ï¼Œç›´æ¥ç”¨20Gçš„vhdå›ºå®šå¤§å°å®‰è£… è¦åœ¨virtualboxè¿™ä¸ªè™šæ‹Ÿæœºè®¾ç½®é‡Œé¢æ‰“å¼€è™šæ‹ŸåŒ–åµŒå¥—çš„ï¼Œä¸ç„¶è£…ä¸ä¸Š å®‰è£…å®Œæˆåï¼Œè™šæ‹ŸæœºæŒ‚è½½ plugin_vtoyboot çš„iso https://github.com/ventoy/vtoyboot/releases\nåœ¨pveé‡Œé¢ mountä¸Šï¼Œç„¶åcp é‡Œé¢çš„tar.gz åˆ° ~ tarè§£å‹ ï¼Œcd è¿›å» sh vtoyboot.sh\nåœ¨è¿™ä¹‹å‰ï¼Œæœ€å¥½æŠŠpveçš„ debianæºå’Œpveæºæ¢åˆ°å›½å†…ï¼Œç„¶åæ›´æ–°ä¸€ä¸‹pveç³»ç»Ÿï¼Œ\nåæ­£å…³æœºä¹‹å‰ï¼Œè¦ sh vtoyboot.shä¸€ä¸‹ï¼Œä»¥åç³»ç»Ÿå‡çº§åä¹Ÿæ‰§è¡Œä¸€æ¬¡ã€‚\nå…³æœºåï¼Œå¤åˆ¶vhdæ–‡ä»¶å‡ºæ¥ï¼Œåç¼€ä¿®æ”¹ vhd.vtoy\nç„¶å ç”¨ventoy è‡ªå¸¦çš„å·¥å…·ï¼Œåˆ›å»ºä¸€ä¸ª linkåˆ° ventoyåˆ†åŒºï¼Œå€’è®¡æ—¶å¯åŠ¨ç­‰ï¼Œæœ€é‡è¦çš„ æ˜¯ï¼Œè¦æ‰“å¼€ VTOY_LINUX_REMOUNT å‚è€ƒ\nç”¨ç”¨ventoyå¯åŠ¨åï¼Œç”¨rootç™»å½•ï¼Œç„¶åä¿®æ”¹ç½‘ç»œé…ç½® ä¸»è¦æ˜¯ä¿®æ”¹ip è¿˜æœ‰æ›´æ¢ç½‘å¡ï¼Œå› ä¸ºåœ¨è™šæ‹Ÿæœºé‡Œé¢å®‰è£…çš„è™šæ‹Ÿç½‘å¡ï¼Œåœ¨ç‰©ç†æœºæ²¡æœ‰è¿™ä¸ªç½‘å¡ï¼Œ\næ³¨æ„ pve æ˜¯ç”¨vmbr0 è¿™ä¸ªç½‘å¡æ¥è½¬å‘å®é™…ç½‘å¡çš„æ•°æ®çš„ï¼Œä¸è¦æŠŠvirtualboxçš„è™šæ‹Ÿç½‘å¡å’Œvmbr0ææ··æ¦‚å¿µ\n1 2 3 4 5 6 7 8 æŸ¥çœ‹ç½‘å¡è®¾å¤‡ï¼Œæœ‰çº¿ç½‘å¡ä¸€èˆ¬æ˜¯enXxx ip link show # ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ŒæŠŠç½‘å¡æ”¹æˆæ–°çš„åå­— æˆ‘çš„å°±æ˜¯ enp0s3ä¿®æ”¹ä¸º enp1s0 nano /etc/network/interfaces # é‡å¯ç½‘ç»œåº”ç”¨æ”¹åŠ¨ systemctl restart networking è¿™æ˜¯æˆ‘ä¿®æ”¹å‰çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 cat /etc/network/interfaces-bak auto lo iface lo inet loopback iface enp0s3 inet manual auto vmbr0 iface vmbr0 inet static address 10.0.0.128/24 gateway 10.0.0.1 bridge-ports enp0s3 bridge-stp off bridge-fd 0 ä¿®æ”¹åçš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 cat /etc/network/interfaces auto lo iface lo inet loopback iface enp1s0 inet manual auto vmbr0 iface vmbr0 inet static address 10.0.0.99/24 gateway 10.0.0.1 bridge-ports enp1s0 bridge-stp off bridge-fd 0 å¦å¤– /etc/issue å’Œ /etc/hosts å¯ä»¥é¡ºå¸¦ä¿®æ”¹ä¸€ä¸‹ï¼Œä¸ä¿®æ”¹ä¹Ÿä¸å½±å“\nç½‘ç»œæ­£å¸¸å å¤„ç†è‡ªåŠ¨æŒ‚è½½\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 blkid ---- /dev/nvme0n1p1: LABEL_FATBOOT=\u0026#34;EFI2\u0026#34; LABEL=\u0026#34;EFI2\u0026#34; UUID=\u0026#34;729A-FE81\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; TYPE=\u0026#34;vfat\u0026#34; PARTUUID=\u0026#34;7adb76ae-01\u0026#34; /dev/nvme0n1p2: SEC_TYPE=\u0026#34;msdos\u0026#34; LABEL_FATBOOT=\u0026#34;VTOYEFI\u0026#34; LABEL=\u0026#34;VTOYEFI\u0026#34; UUID=\u0026#34;ADC2-5F11\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; TYPE=\u0026#34;vfat\u0026#34; PARTUUID=\u0026#34;7adb76ae-02\u0026#34; /dev/nvme0n1p3: LABEL=\u0026#34;Exfat\u0026#34; UUID=\u0026#34;7F17-3D02\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; TYPE=\u0026#34;exfat\u0026#34; PARTUUID=\u0026#34;7adb76ae-03\u0026#34; /dev/sda1: LABEL=\u0026#34;HHD\u0026#34; UUID=\u0026#34;9D09-82A9\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; TYPE=\u0026#34;exfat\u0026#34; PARTUUID=\u0026#34;b1fb145f-01\u0026#34; /dev/mapper/ventoy2: UUID=\u0026#34;FF54-9C3A\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; TYPE=\u0026#34;vfat\u0026#34; /dev/mapper/ventoy3: UUID=\u0026#34;AGKBNe-Bw8e-Rg2H-YLtd-XCjp-x8SO-Yo52AW\u0026#34; TYPE=\u0026#34;LVM2_member\u0026#34; /dev/mapper/pve-swap: UUID=\u0026#34;b50aa774-310e-43af-87d2-4ef40e033910\u0026#34; TYPE=\u0026#34;swap\u0026#34; /dev/mapper/pve-root: UUID=\u0026#34;1637dd63-6dc3-4957-934a-2ff8c41f8f10\u0026#34; BLOCK_SIZE=\u0026#34;4096\u0026#34; TYPE=\u0026#34;ext4\u0026#34; /dev/mapper/ventoy: PTUUID=\u0026#34;00a161a2-67c0-4d79-815a-c7d23b5d727c\u0026#34; PTTYPE=\u0026#34;gpt\u0026#34; nano /etc/fstab ---- # \u0026lt;file system\u0026gt; \u0026lt;mount point\u0026gt; \u0026lt;type\u0026gt; \u0026lt;options\u0026gt; \u0026lt;dump\u0026gt; \u0026lt;pass\u0026gt; /dev/pve/root / ext4 errors=remount-ro 0 1 UUID=FF54-9C3A /boot/efi vfat defaults 0 1 /dev/pve/swap none swap sw 0 0 proc /proc proc defaults 0 0 UUID=729A-FE81 /mnt/efi2 vfat defaults 0 2 UUID=7F17-3D02 /mnt/exfat exfat defaults 0 2 UUID=9D09-82A9 /mnt/hdd exfat defaults 0 2 ","date":"2022-10-25T00:00:00Z","permalink":"https://dev.leiyanhui.com/linux/pve-vdisk/","title":"pveå®‰è£…åˆ°ç¡¬ç›˜çš„ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç„¶åç‰©ç†æœºå¯åŠ¨çš„å‡ ä¸ªæ³¨æ„ç‚¹"},{"content":"ä¸»åŠ›æœºç³»ç»Ÿå’Œç£ç›˜åˆ†é… åŒç¡¬ç›˜ï¼Œæœºæ¢°ç›˜ 1T 2.5å¯¸è€ç›˜ï¼Œå›ºæ€ç›˜ 512G æºä¾ \nåˆ†åŒº ç¬¬ä¸€åˆ†åŒº 5Gå·¦å³ï¼Œfat32æ ¼å¼ï¼Œå­˜æ”¾ç‰¹æ®Šefi å’Œ winpe ä»¥linux liveç›˜é•œåƒï¼Œä»¥åŠ ventoy çš„è™šæ‹Ÿç£ç›˜linkæ–‡ä»¶\nç¬¬äºŒåˆ†åŒº 32M fat16æ ¼å¼ å­˜æ”¾ ventoyçš„efi å¹¶åœ¨boisè®¾ç½®ä¸ºè¿™ä¸ªåˆ†åŒºå¼•å¯¼\nç¬¬ä¸‰åˆ†åŒº exfat å­˜æ”¾ ç³»ç»Ÿè™šæ‹Ÿç£ç›˜ å’Œ è™šæ‹Ÿæœºçš„ç¡¬ç›˜ æ–‡ä»¶\nventoy æ‰“å¼€ VTOY_LINUX_REMOUNT =1 å…è®¸ä½¿ç”¨å®éªŒæ€§çš„ æŒ‚è½½é•œåƒæ‰€åœ¨åˆ†åŒº\nVTOY_MENU_TIMEOUT =5 ç§’\nexfatåˆ†åŒº ä¸¤ä¸ªå…³é”®æ€§ç›®å½•\nosç›®å½• æ”¾ pveçš„ vhd.vtoy win11 çš„vhd\nkvmç›®å½• æ”¾ è™šæ‹Ÿæœºçš„ç¡¬ç›˜é•œåƒ è½¯è¿æ¥åˆ° pveå†…\nåæœŸå¦‚æœæœ‰æ—¶é—´ï¼Œè€ƒè™‘ æŠŠpve æ¢æˆ arch æˆ–è€… aplineä¹‹ç±»çš„ç³»ç»Ÿ æ‰‹åŠ¨ç®¡ç†kvm\n","date":"2022-10-25T00:00:00Z","permalink":"https://dev.leiyanhui.com/os/disk-os/","title":"ä¸»åŠ›æœºç³»ç»Ÿå’Œç£ç›˜åˆ†é…"},{"content":"æ¥è¿‘æ°¸ä¹…å…è´¹çš„vps-woiden woiden.id å’Œ hax.co.idéƒ½æ˜¯åŒä¸€å®¶ï¼Œä¸åŒçš„æ˜¯ hax.co.id æä¾›çš„æ˜¯å…è´¹çš„IPv6 VPSï¼Œè€Œ woiden.id åˆ™æä¾›å…è´¹çš„ NAT VPSï¼ˆè‡ªå¸¦ä¸€ä¸ª IPv6ï¼‰ã€‚NAT VPSå‡ ä¹ä¸å…¶ä»–VPç›¸ä¼¼ï¼Œä½†ä½¿ç”¨NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰æ–¹æ³•ï¼Œå¯ä»¥å°†å•ä¸ªIPv4å…±äº«ç»™å¤šä¸ªVPï¼Œç„¶åä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…ä¸åŒçš„ç«¯å£ã€‚\nwoiden å¯ä»¥å•ç‹¬ç”³è¯·å…±äº«çš„ipv4 ä¼šç»™10ä¸ªç«¯å£\nå¦‚æœè¦ä½œç«™çš„è¯å¯ä»¥å¥—cf è½¬æ¢80 å’Œ 443ç«¯å£\nVPSçš„é…ç½®æ˜¯1æ ¸ï¼Œ750Må†…å­˜ï¼Œ4G SSDï¼Œä¸é™åˆ¶æµé‡ã€‚\nç”³è¯·å æœ‰æ•ˆæœŸ7å¤©ï¼Œ7å¤©å†…ç™»å½•ä¸€æ¬¡å®˜ç½‘ å¯ä»¥é¡ºå»¶7å¤©\nå¯ä»¥åœ¨ github actions è®¾ç½®è‡ªåŠ¨ç™»å½•éªŒè¯\næ”¯æŒIPv6+ä¸å’‹ç¨³å®šçš„IPv4ã€‚\nç”³è¯·æ–¹æ³•ï¼šé¦–å…ˆå¾—æœ‰telegram æ·»åŠ  @HaxTG_botï¼Œè·å–IDåï¼Œ è¿™ä¸ªid å°±æ˜¯ä½ ä»¥åç™»å½•çš„id å¯ä»¥å•ç‹¬è®¾ç½®å¯†ç  ï¼Œåˆ°ç½‘ç«™è¾“å…¥åï¼Œå¡«å†™TGè¿”å›çš„ä¸²ç ä»¥ç»‘å®šè´¦å·ï¼ˆTGä¼šåé¦ˆç½‘ç«™ä¸Šçš„æ“ä½œæˆåŠŸä¿¡æ¯ï¼‰ã€‚\næ³¨å†ŒæˆåŠŸåå³å¯åˆ›å»ºä¸€ä¸ªVPSäº†ã€‚å…·ä½“çœ‹ç«™ç‚¹å’ŒTGçš„åé¦ˆå°±è¡Œã€‚\nç”³è¯·åœ°å€ï¼š woiden.id\né¡µé¢ä¸Šæœ‰å¾ˆå¤šå¹¿å‘Šï¼Œæ³¨æ„åˆ«ç‚¹é”™äº†\nç”³è¯·å’Œå¼€é€šè¿‡ç¨‹å¾ˆç®€å•ï¼Œä½†æ˜¯æˆ‘è¿™è¾¹é‡åˆ° å¼€é€šçš„æ—¶å€™ è¿‡ä¸€ä¼šæç¤º please report via telegram\n","date":"2022-10-23T00:00:00Z","permalink":"https://dev.leiyanhui.com/linux/free-vps-woiden/","title":"æ¥è¿‘æ°¸ä¹…å…è´¹çš„vps-woiden"},{"content":"hugoå¼€å¯ç®€å•æœç´¢åŠŸèƒ½ æ— è®ºæ¨¡æ¿æ˜¯å¦æ”¯æŒæœç´¢éƒ½å¯ä»¥å¼€å¯\nç¬¬ä¸€æ­¥ï¼š Config.toml å¯èƒ½æ˜¯/config/_default/Config.toml æ·»åŠ æˆ–è€…ä¿®æ”¹\n[outputs] home = [\u0026quot;HTML\u0026quot;, \u0026quot;RSS\u0026quot;, \u0026quot;JSON\u0026quot;] ç¬¬äºŒæ­¥ï¼šåˆ›å»º layouts/_default/index.json æ³¨ï¼šlayouts/ ç›®å½•é‡Œä¿å­˜çš„æ˜¯ Hugo çš„æ¨¡æ¿æ–‡ä»¶ã€‚layouts/ æ˜¯ç«™ç‚¹çº§åˆ«çš„æ¨¡æ¿ï¼Œ themes//layouts/ æ˜¯ä¸»é¢˜çº§åˆ«çš„æ¨¡æ¿ï¼Œç«™ç‚¹çº§åˆ«æ¨¡æ¿çš„è®¾ç½®ä¼˜å…ˆäºä¸»é¢˜çº§åˆ«çš„æ¨¡æ¿ã€‚\n1 2 3 4 5 {{- $.Scratch.Add \u0026#34;index\u0026#34; slice -}} {{- range .Site.RegularPages -}} {{- $.Scratch.Add \u0026#34;index\u0026#34; (dict \u0026#34;title\u0026#34; .Title \u0026#34;tags\u0026#34; .Params.tags \u0026#34;categories\u0026#34; .Params.categories \u0026#34;contents\u0026#34; .Plain \u0026#34;permalink\u0026#34; .Permalink) -}} {{- end -}} {{- $.Scratch.Get \u0026#34;index\u0026#34; | jsonify -}} å®Œæˆå å¯ä»¥åœ¨ç«™ç‚¹æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª /index.json çš„ç´¢å¼•\nç¬¬ä¸‰æ­¥ï¼š åˆ›å»ºæœç´¢é¡µé¢ åˆ›å»º content/search.md 1 2 3 4 5 6 --- title: \u0026#34;Search Results\u0026#34; sitemap: priority : 0.1 layout: \u0026#34;search\u0026#34; --- ç¬¬å››æ­¥éª¤ï¼Œæ·»åŠ é™æ€æ¨¡æ¿ layouts/_default/search.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 \u0026lt;section\u0026gt; \u0026lt;div\u0026gt; \u0026lt;form action=\u0026#34;{{ \u0026#34;search\u0026#34; | absURL }}\u0026#34;\u0026gt; \u0026lt;input id=\u0026#34;search-query\u0026#34; name=\u0026#34;s\u0026#34;/\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;div id=\u0026#34;search-results\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;Matching pages\u0026lt;/h3\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;script id=\u0026#34;search-result-template\u0026#34; type=\u0026#34;text/x-js-template\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;summary-${key}\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;\u0026lt;a href=\u0026#34;${link}\u0026#34;\u0026gt;${title}\u0026lt;/a\u0026gt;\u0026lt;/h4\u0026gt; \u0026lt;p\u0026gt;${snippet}\u0026lt;/p\u0026gt; ${ isset tags }\u0026lt;p\u0026gt;Tags: ${tags}\u0026lt;/p\u0026gt;${ end } ${ isset categories }\u0026lt;p\u0026gt;Categories: ${categories}\u0026lt;/p\u0026gt;${ end } \u0026lt;/div\u0026gt; \u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://code.jquery.com/jquery-3.3.1.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;{{ \u0026#34;js/search.js\u0026#34; | absURL }}\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; ç¬¬äº”æ­¥ æ·»åŠ  åˆ›å»º static/js/search.js è¿™æ˜¯å…·ä½“å®ç°æœç´¢åŠŸèƒ½çš„ JS å‡½æ•°ï¼Œsearch.html ä¸­è¢«å¼•ç”¨ï¼Œç…§æŠ„å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 summaryInclude=60; var fuseOptions = { shouldSort: true, includeMatches: true, threshold: 0.0, tokenize:true, location: 0, distance: 100, maxPatternLength: 32, minMatchCharLength: 1, keys: [ {name:\u0026#34;title\u0026#34;,weight:0.8}, {name:\u0026#34;contents\u0026#34;,weight:0.5}, {name:\u0026#34;tags\u0026#34;,weight:0.3}, {name:\u0026#34;categories\u0026#34;,weight:0.3} ] }; var searchQuery = param(\u0026#34;s\u0026#34;); if(searchQuery){ $(\u0026#34;#search-query\u0026#34;).val(searchQuery); executeSearch(searchQuery); }else { $(\u0026#39;#search-results\u0026#39;).append(\u0026#34;\u0026lt;p\u0026gt;Please enter a word or phrase above\u0026lt;/p\u0026gt;\u0026#34;); } function executeSearch(searchQuery){ $.getJSON( \u0026#34;/index.json\u0026#34;, function( data ) { var pages = data; var fuse = new Fuse(pages, fuseOptions); var result = fuse.search(searchQuery); console.log({\u0026#34;matches\u0026#34;:result}); if(result.length \u0026gt; 0){ populateResults(result); }else{ $(\u0026#39;#search-results\u0026#39;).append(\u0026#34;\u0026lt;p\u0026gt;No matches found\u0026lt;/p\u0026gt;\u0026#34;); } }); } function populateResults(result){ $.each(result,function(key,value){ var contents= value.item.contents; var snippet = \u0026#34;\u0026#34;; var snippetHighlights=[]; var tags =[]; if( fuseOptions.tokenize ){ snippetHighlights.push(searchQuery); }else{ $.each(value.matches,function(matchKey,mvalue){ if(mvalue.key == \u0026#34;tags\u0026#34; || mvalue.key == \u0026#34;categories\u0026#34; ){ snippetHighlights.push(mvalue.value); }else if(mvalue.key == \u0026#34;contents\u0026#34;){ start = mvalue.indices[0][0]-summaryInclude\u0026gt;0?mvalue.indices[0][0]-summaryInclude:0; end = mvalue.indices[0][1]+summaryInclude\u0026lt;contents.length?mvalue.indices[0][1]+summaryInclude:contents.length; snippet += contents.substring(start,end); snippetHighlights.push(mvalue.value.substring(mvalue.indices[0][0],mvalue.indices[0][1]-mvalue.indices[0][0]+1)); } }); } if(snippet.length\u0026lt;1){ snippet += contents.substring(0,summaryInclude*2); } //pull template from hugo templarte definition var templateDefinition = $(\u0026#39;#search-result-template\u0026#39;).html(); //replace values var output = render(templateDefinition,{key:key,title:value.item.title,link:value.item.permalink,tags:value.item.tags,categories:value.item.categories,snippet:snippet}); $(\u0026#39;#search-results\u0026#39;).append(output); $.each(snippetHighlights,function(snipkey,snipvalue){ $(\u0026#34;#summary-\u0026#34;+key).mark(snipvalue); }); }); } function param(name) { return decodeURIComponent((location.search.split(name + \u0026#39;=\u0026#39;)[1] || \u0026#39;\u0026#39;).split(\u0026#39;\u0026amp;\u0026#39;)[0]).replace(/\\+/g, \u0026#39; \u0026#39;); } function render(templateString, data) { var conditionalMatches,conditionalPattern,copy; conditionalPattern = /\\$\\{\\s*isset ([a-zA-Z]*) \\s*\\}(.*)\\$\\{\\s*end\\s*}/g; //since loop below depends on re.lastInxdex, we use a copy to capture any manipulations whilst inside the loop copy = templateString; while ((conditionalMatches = conditionalPattern.exec(templateString)) !== null) { if(data[conditionalMatches[1]]){ //valid key, remove conditionals, leave contents. copy = copy.replace(conditionalMatches[0],conditionalMatches[2]); }else{ //not valid, remove entire section copy = copy.replace(conditionalMatches[0],\u0026#39;\u0026#39;); } } templateString = copy; //now any conditionals removed we can do simple substitution var key, find, re; for (key in data) { find = \u0026#39;\\\\$\\\\{\\\\s*\u0026#39; + key + \u0026#39;\\\\s*\\\\}\u0026#39;; re = new RegExp(find, \u0026#39;g\u0026#39;); templateString = templateString.replace(re, data[key]); } return templateString; } æœ€å æ‰“å¼€ http://ä½ çš„ç½‘ç«™/search å°±æœ‰ä¸€ä¸ªåŸºæœ¬çš„ç«™å†…æœç´¢äº†\néƒ¨åˆ†æ¨¡æ¿è‡ªå¸¦äº†æœç´¢åŠŸèƒ½\nä½ å¯ä»¥æŸ¥çœ‹æ¨¡æ¿é‡Œé¢çš„ /exampleSite/content/search.md\nç„¶åè¦†ç›–ä¸Šé¢çš„/content/search.mdå†…å®¹\n","date":"2022-10-23T07:15:20+08:00","permalink":"https://dev.leiyanhui.com/mdbook/hugo-set-search/","title":"hugoå¼€å¯ç®€å•çš„æœç´¢"},{"content":"2022æ˜¯å¦åº”è¯¥å½»åº•æŠ›å¼ƒgiteeäº† gitee æ€ä¹ˆè¿™ä¹ˆæ¶å¿ƒ å±è”½å¤–é“¾äº‹ä»¶ ä¹‹å‰gitee çªç„¶æ— å¾å…†å±è”½å¤–é“¾äº‹ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºæ”¿ç­–æˆ–è€…æˆæœ¬å› ç´ ã€‚å¯ä»¥ç†è§£ã€‚ã€‚ã€‚\nè¿˜æœ‰2019å¹´çš„dnsäº‹ä»¶ è™½ç„¶æ˜¯é˜¿é‡Œå•æ–¹é¢å±è”½çš„ï¼Œä½†æ˜¯ä½ å’Œdnså‚å•†å°±æ²¡æœ‰æœ‰æ•ˆçš„æ²Ÿé€šæ¸ é“å—\nmdæ–‡ä»¶é“¾æ¥å¼ºåŠ å‰ç¼€ ç°åœ¨ mdæ–‡ä»¶ åœ¨çº¿é¢„è§ˆ é“¾æ¥åœ°å€ å¼ºåˆ¶åŠ å‰ç¼€ä¹Ÿæ˜¯æœäº†\nhttps://gitee.com/link?target=XXXXXX\ngiteeçš„ç½‘é¡µé€Ÿåº¦ä¹Ÿå¼€å§‹å˜æ…¢ ä¸çŸ¥ä¸ºä»€ä¹ˆåŠ è½½äº†é‚£ä¹ˆä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè¶Šæ¥è¶Šå¡\ngitee page å¥½åƒæ˜¯ç©å…· å…¶å®æ²¡ææ˜ç™½ ä»–è¿™ä¸ªå¥½åƒæ˜¯éœ€è¦æ‰‹åŠ¨åˆ·æ–°åŒæ­¥çš„ã€‚ã€‚ã€‚ å’Œ github pages å‹æ ¹ä¸¤ä¸ªæ¦‚å¿µ\nå¹¶ä¸”ä¹Ÿä¸ä¸å¯ä»¥ç»‘å®šç‹¬ç«‹åŸŸåï¼Œå“ªæ€•å·²ç»å¤‡æ¡ˆçš„\næˆ‘çš„é€‰æ‹© å…¶å®é˜¿é‡Œcodeupå’Œè…¾è®¯çš„codeing ä¹Ÿä¸é”™\næˆ‘çš„é€‰æ‹©ï¼Œç§æœ‰åº“ codeupï¼Œå¼€æºåº“githubï¼ˆgiteeåªåšé•œåƒï¼‰ ç§æœ‰åº“=\u0026gt; pages é˜¿é‡Œäº‘oss å¼€æºåº“=\u0026gt; pages github=\u0026gt;å›½å†…cdnï¼ˆå¢ƒå¤–å›æºï¼‰\nå…¶ä»–é€‰æ‹© cdsnå®¶çš„ https://gitcode.net/\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/gitee-drop/","title":"2022æ˜¯å¦åº”è¯¥å½»åº•æŠ›å¼ƒgiteeäº†"},{"content":"archlinux å®‰è£…å®å¡”è®°å½• å®‰è£…arch ä¸‹è½½ archlinux-2022.10.01-x86_64.iso æŒ‚åˆ°ä¸»æœº å¯åŠ¨å archinstall è‡ªåŠ¨å®‰è£…\narchå®‰è£…ä¸€äº›åŸºæœ¬åŒ… 1 2 3 4 5 6 7 8 9 10 11 12 pacman -S openssh systemctl enable sshd systemctl start sshd sudo pacman -S wget unzip sudo pacman -S make sudo pacman -S core/gcc sudo pacman -S cmake sudo pacman -S pkg-config #phpéœ€è¦ä¸€äº›ä¾èµ– sudo pacman -S libsodium sqlite oniguruma libwebp libvpx openssl sudo pacman -Syu gtk4 sudo pacman -S autoconf å¯èƒ½éœ€è¦ åˆ›å»º /etc/bt.local\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/archlinux-install-bt/","title":"archlinux å®‰è£…å®å¡”è®°å½•"},{"content":"codingè‡ªåŠ¨æ¨é€çš„åˆ°github æŒç»­é›†æˆï¼Œåˆ›å»ºæ„å»ºè®¡åˆ’ï¼Œç„¶åæ·»åŠ  pipeline { agent any stages { stage('æ£€å‡º') { steps { checkout([ $class: 'GitSCM', branches: [[name: env.GIT_BUILD_REF]], userRemoteConfigs: [[url: env.GIT_REPO_URL, credentialsId: env.CREDENTIALS_ID]] ]) } } stage('æ¨é€éƒ¨ç½²') { steps { echo 'æ­£åœ¨æ¨é€æ–‡ä»¶...' sh 'git fetch https://joyanhui:ä½ çš„tokenä»¤ç‰Œ@github.com/joyanhui/dev.leiyanhui.com-src.git' sh 'git push -f https://joyanhui:ä½ çš„tokenä»¤ç‰Œ@github.com/joyanhui/dev.leiyanhui.com-src.git HEAD:main' echo 'å·²å®Œæˆæ–‡ä»¶æ¨é€.' } } } } codingçš„ç¼–è¾‘åœ°å€æ˜¯ç±»ä¼¼ è¿™æ ·çš„æ ¼å¼\nhttps://xxx.coding.net/p/xxxxx.com/d/xxxxx/git/tree/main/src/SUMMARY.md?tab=file\nbook.toml ä¿®æ”¹ç¼–è¾‘åœ°å€\nhttps://xxx.coding.net/p/xxxx/d/xxxx/git/tree/main/{path}?tab=file\nç„¶åæ‰“å¼€å è¿˜éœ€è¦å†æ¬¡ ç‚¹ä¸€ä¸‹ç¼–è¾‘\næœ€å\ncodingçš„ æŒç»­é›†æˆæ‰§è¡Œæ—¶é—´ å·²ç»æ˜¯ç¬¬ä¸‰æ¬¡ è¿˜æ˜¯ç¬¬å››æ¬¡ è¢«ä¼˜åŒ–åˆ°äº† 300åˆ†é’Ÿæ¯æœˆ\u0026hellip;\ncodingçš„åœ¨çº¿mdç¼–è¾‘å™¨ä¸æ€ä¹ˆå¥½ç”¨ï¼Œé¡µé¢å¤æ‚ åŠ è½½é¡¹ç›®å¤šï¼Œé¡µé¢åŠ è½½é€Ÿåº¦ç”šè‡³ä¸å¦‚åªä¿®æ”¹hostsçš„ githubå¿«ã€‚ã€‚ã€‚\nè¿˜ç»å¸¸ å¼¹å‡ºã€‚ã€‚ã€‚ã€‚ ä¿å­˜å¤±è´¥ï¼šä¸å­˜åœ¨ æœ€æ–°ç‰ˆæœ¬ è¯·è‡ªè¡Œä¿å­˜\nå¦‚æœæ˜¯åšæ— ä¸»æœº åšå®¢çš„è¯ï¼Œä¸å»ºè®®ç”¨codingåšä¸ºå›½å†…é•œåƒã€‚ã€‚ã€‚åƒåœ¾ä¸­çš„æˆ˜æ–—æœº\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/coding-to-github/","title":"codingè‡ªåŠ¨æ¨é€çš„åˆ°github"},{"content":"dockerè¿è¡Œçš„clashè‡ªåŠ¨æ›´æ–°è®¢é˜… æˆ‘ä»¬ç”¨ä¸¤ä¸ªå®¹å™¨ å®ç°äº† åŸºäºdockerçš„å¯è§†åŒ–clash\n1 2 docker run --restart=always -p 7880:80 -d --name clash-web haishanh/yacd docker run -d --name=clash -v \u0026#34;/www/wwwroot/clash.config.yaml:/root/.config/clash/config.yaml\u0026#34; -p \u0026#34;7890:7890\u0026#34; -p \u0026#34;7891:7891\u0026#34; -p \u0026#34;9090:9090\u0026#34; --restart=unless-stopped dreamacro/clash-premium clash.config.yaml è¿™ä¸ªæ–‡ä»¶ æ˜¯æˆ‘ä»¬ä» æŸäº›è®¢é˜…å¹³å°æ‹¿åˆ°çš„ã€‚ä½†æ˜¯é‡Œé¢çš„ä¸€äº›é…ç½®é¡¹ç›® ï¼Œæ¯”å¦‚ æ²¡æœ‰æ‰“å¼€ å±€åŸŸç½‘è®¿é—®ï¼Œè¿˜æœ‰9090 ç«¯å£ åªå…è®¸æœ¬æœºé“¾æ¥ç­‰ å°±æ˜¯ä¸‹é¢ä¸¤ä¸ª\n1 2 allow-lan: true external-controller: \u0026#39;0.0.0.0:9090\u0026#39; å…ˆæ‰¾ä¸€ä¸ªåœ¨çº¿è®¢é˜…è½¬åŒ–å·¥å…· ç™¾åº¦æœæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ https://ppc.linshenkx.cn/ ä¹Ÿå¯ä»¥è‡ªå·±æ­å»º https://github.com/qier222/proxy-provider-converter\nè‡ªå·±æ­å»ºè½¬åŒ–æœåŠ¡ æˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨ tindy2013/subconverter æŸ¥çœ‹å®˜ç½‘æ–‡æ¡£ https://github.com/tindy2013/subconverter/blob/master/README-cn.md\n1 docker run -d --restart=always -p 25500:25500 tindy2013/subconverter:latest http://ä½ çš„ip:25500/sub?target=clash\u0026amp;url=è®¢é˜…åœ°å€URLEncode\nå¯ä»¥ç›´æ¥æ‹¿åˆ°ä¸€ä¸ªå¯ç”¨çš„ä¿®æ”¹å¥½çš„.yaml\nå‰©ä¸‹çš„å°±ç®€å•äº†\nåœ¨å®¹å™¨å¤–éƒ¨æ·»åŠ ä¸€ä¸ªå®šæ—¶ä»»åŠ¡shell\n1 2 3 4 cd /www/wwwroot/ curl -o new.clash.yaml \u0026#39;http://10.0.0.9:25500/sub?target=clash\u0026amp;url=https%3A%2F%2Fxn--xxxxx.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%xxx\u0026#39; rm -rf clash.config.yaml mv new.clash.yaml clash.config.yaml ","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/docker-clash-autoupdate/","title":"dockerè¿è¡Œçš„clashè‡ªåŠ¨æ›´æ–°è®¢é˜…"},{"content":"mdbook è§£å†³æœç´¢å¼•æ“æ”¶å½•çš„é—®é¢˜ æ‰‹åŠ¨æäº¤ 1 2 3 4 https://ziyuan.baidu.com/linksubmit/url/ http://google.com/ping?sitemap=ä½ éœ€è¦æäº¤çš„ç½‘é¡µåœ°å€ã€æˆ–æ˜¯URLåˆ—è¡¨é¡µåœ°å€ ","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/mdbook-sitemap/","title":"mdbook è§£å†³æœç´¢å¼•æ“æ”¶å½•çš„é—®é¢˜"},{"content":"æˆ–è®¸çœŸçš„åˆ°äº†æ”¾å¼ƒcentos7çš„æ—¶é—´äº†ã€‚ ä»Šå¤©æŠ˜è…¾mdBook Rustï¼Œç„¶åå‘ç°ç«Ÿç„¶ä¸æ”¯æŒcentos7 åŸå› æ˜¯GLIBCå¤ªè€äº† ä½†æ˜¯GLIBC å’Œç³»ç»Ÿæ ¸å¿ƒç›¸å…³ï¼Œå‡çº§çš„è¯ è¿˜æ˜¯éå¸¸éº»çƒ¦\nåªå¥½å°è¯•å‡çº§åˆ°Centos Stream 8\nå…¶å®å¾ˆæƒ³ç”¨archlinuxï¼Œä½†\nå®‰è£…epel-relaseã€yum-utilså’Œrpmconf 1 2 yum install yum-utils epel-release -y yum install rpmconf -y å®‰è£…å‰æ£€æŸ¥ 1 2 3 rpmconf -a package-cleanup --leaves package-cleanup --orphans å®‰è£…dnf å¹¶æ‰§è¡Œæ›´æ–° 1 2 3 4 5 yum install dnf -y dnf remove yum yum-metadata-parser -y \u0026amp;\u0026amp; rm -rf /etc/yum dnf upgrade -y dnf upgrade https://mirrors.bfsu.edu.cn/centos-vault/8.0.1905/BaseOS/x86_64/os/Packages/centos-release-8.0-0.1905.0.9.el8.x86_64.rpm -y dnf upgrade https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y åˆ é™¤æ— ç”¨æ–‡ä»¶ã€CentOS 7çš„å†…æ ¸ã€æ›´æ¢Vaultæºå’Œç§»é™¤æ— æ³•å‡çº§çš„åŒ…å¹¶å®‰è£…CentOS 8çš„å†…æ ¸ 1 2 3 4 5 6 7 8 9 10 11 dnf clean all rpm -e `rpm -q kernel` rpm -e --nodeps sysvinit-tools minorver=8.0.1905 sudo sed -e \u0026#34;s|^mirrorlist=|#mirrorlist=|g\u0026#34; \\ -e \u0026#34;s|^#baseurl=http://mirror.centos.org/\\$contentdir/\\$releasever|baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos-vault/$minorver|g\u0026#34; \\ -i.bak \\ /etc/yum.repos.d/CentOS-*.repo dnf remove python36-rpmconf -y dnf --releasever=8 --allowerasing --setopt=deltarpm=false distro-sync -y dnf groupupdate \u0026#34;Core\u0026#34; \u0026#34;Minimal Install\u0026#34; -y å‡çº§åˆ°Centos Stream 8 1 2 3 4 5 6 dnf install \\ http://mirror.centos.org/centos/8-stream/BaseOS/x86_64/os/Packages/centos-stream-repos-8-4.el8.noarch.rpm \\ http://mirror.centos.org/centos/8-stream/BaseOS/x86_64/os/Packages/centos-stream-release-8.6-1.el8.noarch.rpm \\ http://mirror.centos.org/centos/8-stream/BaseOS/x86_64/os/Packages/centos-gpg-keys-8-4.el8.noarch.rpm \\ -y dnf distro-sync --allowerasing -y æœ€åæ¸…ç†dnf ç„¶åæ›´æ–° 1 2 dnf clean packages reboot è¿›å…¥ç³»ç»Ÿå å†æ›´æ–°ä¸€æ¬¡ 1 dnf update åé¢è¿˜éœ€è¦å¤§é‡å·¥ä½œè¦å¤„ç†ï¼Œå¦‚æœä¸æ˜¯éå¸¸å¿…è¦ï¼Œå»ºè®®ç›´æ¥é‡è£…\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/centos7-is-die/","title":"æˆ–è®¸çœŸçš„åˆ°äº†æ”¾å¼ƒcentos7çš„æ—¶é—´äº†"},{"content":"å‡ ç§å¸¸ç”¨çš„ é™æ€ç½‘ç«™ç”Ÿäº§å·¥å…·çš„é€‰æ‹© åŸºæœ¬è¦æ±‚ï¼š\næ”¯æŒè‡ªåŠ¨éƒ¨ç½²ï¼Œæœ¬åœ°ä¸è¦åšç¯å¢ƒ å¯ä»¥ç®€å•æ”¯æŒä¸­æ–‡æœç´¢ ç”Ÿæˆé€Ÿåº¦å¿«ä¸€ç‚¹ æ¨¡æ¿å¯é€‰å¤šä¸€äº› è¿›é˜¶è¦æ±‚ï¼š\nä¸è¦ node.js çš„ï¼Œå› ä¸ºæˆ‘ä¸ç”¨è¿™ä¸œè¥¿ï¼Œç„¶åæœ¬åœ°è¿˜è¦è£…ä¸€å †åŒ… gitbook æœ¬åœ°ç‰ˆæœ¬ åŸºäº nodehjs ï¼Œåœ¨çº¿ç‰ˆ éœ€è¦æ¢¯å­ï¼Œå¦å¤–æœ‰ä¸€ä¸ªåœ¨çº¿è°ƒç”¨çš„js è¿˜éœ€è¦äºŒæ¬¡å¤„ç†\nmdbook ç›®å‰åœ¨ç”¨çš„ï¼Œä¸­æ–‡æœç´¢ éš¾åº¦å¤§\næ¨¡æ¿æ¯”è¾ƒå°‘\nvuepress è¿™ç©æ„ å·ç§°ç”Ÿæˆé€Ÿåº¦å¾ˆå¿«ï¼Œï¼Œ\nä½†æ˜¯å®é™…æµ‹è¯•å‘ç° ä¸€èˆ¬è€Œå·²\npeach çœ‹èµ·æ¥ä¸é”™ ä½†æ˜¯é…ç½®ç¹ç\ngohugo+git book theme çœ‹ä¸»é¢˜æŒºå¤šçš„ï¼Œè€Œä¸”ä¹Ÿæ˜¯äºŒè¿›åˆ¶ ç¼–è¯‘\nåœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhuguçš„ä¸ªäººåšå®¢\nå‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/bigwhite20xx/article/details/107011017\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/md-pages-select/","title":"å‡ ç§å¸¸ç”¨çš„ é™æ€ç½‘ç«™ç”Ÿäº§å·¥å…·çš„é€‰æ‹©"},{"content":"æœ¬æ–‡è¿ç§»åˆ° æ–°åœ°å€\nä½¿ç”¨hugo æ­å»ºä¸€ä¸ªå¤šè¯­è¨€æ–‡æ¡£ç«™ è¯·å…ˆæŸ¥çœ‹æ–‡æ¡£ åœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhugoçš„ä¸ªäººåšå®¢\nhugo new site doc cd doc ls æ‰¾ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ https://dev.leiyanhui.com/\né€‰ä¸­äº† è¿™ä¸ª https://github.com/thegeeklab/hugo-geekdoc\nmkdir -p themes/hugo-geekdoc/ curl -L https://github.com/thegeeklab/hugo-geekdoc/releases/latest/download/hugo-geekdoc.tar.gz | tar -xz -C themes/hugo-geekdoc/ \u0026ndash;strip-components=1\nrm -rf config.toml\nåˆ›å»ºæ–‡ä»¶ nano config.toml æŒ‰ç…§å®˜æ–¹æç¤º https://geekdocs.de/usage/getting-started/ è¾“å…¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 baseURL = \u0026#34;http://localhost\u0026#34; title = \u0026#34;Geekdocs\u0026#34; theme = \u0026#34;hugo-geekdoc\u0026#34; pluralizeListTitles = false # Geekdoc required configuration pygmentsUseClasses = true pygmentsCodeFences = true disablePathToLower = true # Required if you want to render robots.txt template enableRobotsTXT = true # Needed for mermaid shortcodes [markup] [markup.goldmark.renderer] # Needed for mermaid shortcode unsafe = true [markup.tableOfContents] startLevel = 1 endLevel = 9 [taxonomies] tag = \u0026#34;tags\u0026#34; æœ¬åœ°å…ˆæµ‹è¯• hugo server å¯ä»¥è¿è¡Œäº†ï¼Œå‰©ä¸‹çš„ä¸ç®¡ç›´æ¥æ¨é€åˆ°githubä¸Š æ–°å»ºä¸€ä¸ªå…¬å¼€åº“ https://github.com/joyanhui/doc-hugo ç¨åè®¾ç½®ä¸ºç§æœ‰ git init git add -A git commit -m \u0026ldquo;first commit\u0026rdquo; git branch -M main git remote add origin https://github.com/joyanhui/doc-hugo.git git push -u origin main\nåœ¨çº¿ç¼–è¾‘ config.toml æŠŠé‡Œé¢çš„åŸŸå ä¿®æ”¹æˆ\nhttp://joyanhui.github.io/doc-hugo/ åœ¨github è®¾ç½®çš„ pagesæ‰“å¼€ï¼Œå®šä½åˆ°gh-pagesåˆ†æ”¯ä¸ç”¨ç»‘å®šåŸŸå\næ–°å»ºä¸€ä¸ªmdæ–‡ä»¶ content/test.md å†…å®¹\n1 2 3 4 5 6 7 8 9 --- title: \u0026#39;æµ‹è¯•md\u0026#39; date: 2022-10-22 tag: - test - hugo --- # æµ‹è¯•md æµ‹è¯•ä¸€ä¸‹ ç­‰å¾…actionsæ‰§è¡Œå®Œæˆåç›´æ¥æ‰“å¼€åŸŸåæµ‹è¯• https://joyanhui.github.io/doc-hugo/test/ å·²ç»å¯ä»¥çœ‹åˆ° åœ¨githubä¸Šåˆ›å»ºæ–‡ä»¶ .github/workflows/gh-pages.yml å†…å®¹å‚è€ƒåœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhugoçš„ä¸ªäººåšå®¢\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/hugo-doc/","title":"ä½¿ç”¨hugo æ­å»ºä¸€ä¸ªå¤šè¯­è¨€æ–‡æ¡£ç«™"},{"content":"åŸŸåsslå’Œcaaè®°å½•ç­‰çŸ¥è¯†è®°å½•æ•´ç† åŸŸåCAAè®°å½• ç®€å•çš„è¯´ CAAè®°å½• å°±æ˜¯åªå…è®¸åŸŸåä»æŒ‡å®šçš„ è¯ä¹¦ç­¾å‘æœºæ„ç”³è¯·è¯ä¹¦.\nä½œç”¨ å¯¹æ—¥å¸¸æ“ä½œæ¥è¯´ å…¶å®å°±æ˜¯å› ä¸º ç­¾å‘æœºæ„å¯èƒ½ä¼šæ£€æŸ¥caaè®°å½•.\nç†è®ºä¸Šä»2017å¹´ä¹‹åï¼Œæ‰€æœ‰è¯ä¹¦ç­¾å‘æœºæ„éƒ½æ˜¯è¦å¼ºåˆ¶æ£€æŸ¥caaè®°å½•çš„ï¼Œä½†æ˜¯å®é™…\u0026hellip;.\nä»å®‰å…¨è§’åº¦æ¥è¯´ï¼Œå°±ä½ å¯ä»¥é™åˆ¶ï¼Œåªæœ‰æŒ‡å®šçš„ è¯ä¹¦æœºæ„å¯ä»¥ç»™ä½  åŸŸåé¢å‘è¯ä¹¦\nCAAè®°å½•ä½œç”¨åŸŸ @ ä½œç”¨åˆ°å…¨å±€\nsubdomain.leiyanhui.com å°±åªä½œç”¨åˆ°subdomain.leiyanhui.com è¿™ä¸ªåŸŸå å’Œè¿™ä¸ªåŸŸåçš„ä¸‹çº§åŸŸ\nä½†æ˜¯éƒ¨åˆ†ç­¾å‘æœºæ„ä¼šå®¡æ ¸å­åŸŸåçš„caaè®°å½•,å°±éœ€è¦æ‰‹åŠ¨æ·»åŠ äº†\nå¸¸ç”¨è®°å½• 1 2 3 4 5 6 0 issue \u0026#34;trust-provider.com\u0026#34; 0 issue \u0026#34;letsencrypt.org\u0026#34; example.com. CAA 0 issue \u0026#34;quovadisglobal.com\u0026#34; example.com. CAA 0 issuewild \u0026#34;quovadisglobal.com\u0026#34; example.com. CAA 0 iodef \u0026#34;mailto:cert-admin@example.com\u0026#34; é€šçŸ¥é‚®ç®±\n1 0 iodef \u0026#34;mailto:joyanhui@qq.com\u0026#34; å¸¸ç”¨å…è´¹sslè¯ä¹¦ letsencrypt å¯ä»¥ç®€å•ç”¨è„šæœ¬ç»­ç­¾ï¼Œæ”¯æŒæ³›åŸŸåï¼ˆæœ‰æ•ˆæœŸä¸‰ä¸ªæœˆï¼‰ ï¼Œå¯¹è€è®¾å¤‡ æ—§æµè§ˆå™¨ å…¼å®¹æ€§å·®ä¸€äº›\nç»­ç­¾æ˜¯éœ€è¦é‡æ–°éƒ¨ç½²çš„å“¦.\nå›½å†…å¾ˆå¤šåœ°æ–¹éƒ½å¯ä»¥åœ¨çº¿ç”³è¯·,å®å¡”ä¹Ÿå†…ç½®äº†ç”³è¯·å’Œè‡ªåŠ¨ç»­ç­¾,ä»¥åŠè‡ªåŠ¨éƒ¨ç½²çš„è„šæœ¬\né€‚åˆè‡ªæœ‰æœåŠ¡å™¨ç¯å¢ƒï¼Œé€‚åˆæ³›åŸŸåç¯å¢ƒã€‚githubçš„pages æ˜¯ä½¿ç”¨ä»–å®¶çš„\nDigiCert é˜¿é‡Œäº‘å¯ä»¥ç”³è¯· ä¸€ä¸ªè´¦å·åªå¯ä»¥ç”³è¯·20ä¸ªï¼Œå•ä¸€åŸŸåï¼Œæœ‰æ•ˆæœŸä¸€å¹´ï¼Œå¯¹è€è®¾å¤‡ æ—§æµè§ˆå™¨ å…¼å®¹æ€§å‡ ä¹æ˜¯æœ€å¥½çš„ã€‚ DigiCert è™½ç„¶å¾ˆé«˜å¤§ä¸Š,ä½†æ˜¯å…è´¹ç‰ˆç°åœ¨å¥½åƒæ²¡æœ‰ç”¨å›½å†…cdnäº†.\nç”³è¯·ç½‘ç«™ï¼šé˜¿é‡Œäº‘ã€åä¸ºäº‘\nTrustAsia TrustAsia æ®è¯´æ˜¯DigiCertçš„ä»£ç†å•†,å…è´¹ç‰ˆè²Œä¼¼ä¹Ÿæ˜¯æ²¡æœ‰å›½å†…cdnçš„\nè‡ª2022å¹´03æœˆ03æ—¥22:00:00èµ·ï¼ŒTrustAsia æ ¹è¯ä¹¦ç­¾å‘ç”± Digicert æ ¹è¯ä¹¦å˜æ›´ä¸º Sectigo æ ¹è¯ä¹¦ã€‚\næœ‰æ•ˆæœŸ1å¹´ï¼Œwww.xxx.com ä¼šé€ xxx.com ï¼Œæ— æ³•ç»­ç­¾ï¼Œé‡æ–°ç”³è¯·ã€‚å¯¹è€è®¾å¤‡ æ—§æµè§ˆå™¨ å…¼å®¹æ€§å‡ ä¹æ˜¯æœ€å¥½çš„ã€‚ éƒ¨åˆ†ç½‘ç«™æ”¯æŒ 3ä¸ªæœˆçš„é€šé…ç¬¦ åŸŸåç”³è¯·\né€‚åˆcdnç”¨ è‡ªå·±è®°å¾—æ¯å¹´é‡æ–°ç”³è¯·å°±å¥½ã€‚ è…¾è®¯äº‘ ä¸€ä¸ªè´¦å· å¯ä»¥ç”³è¯·20ä¸ª. ç”³è¯·ç½‘ç«™ï¼šè…¾è®¯äº‘ï¼Œåˆæ‹äº‘ï¼Œä¸ƒç‰›äº‘ https://freessl.cn/\ncloudflare æœ‰æ•ˆæœŸ15å¹´, åªé€‚åˆcfä»£ç†çš„ç«™ç‚¹,ä¸æ€ä¹ˆé€‚åˆå›½å†…ä½¿ç”¨\nSectigo letsencrypt ä¸€æ · 3ä¸ªæœˆï¼Œå…¶ä»–ä¸æ˜ æ²¡ç”¨è¿‡\nåŒä¸€ä¸ªåŸŸåå…è®¸å¤šä¸ªcaaé¢å‘æœºæ„ é‡å¤æ·»åŠ å¤šæ¡è®°å½•å°±å¯ä»¥äº†. ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºç”¨ä»€ä¹ˆç‰¹æ®Šç¬¦å·åˆ†å‰²çš„ã€‚å®é™…ä¸æ˜¯\nå…¶ä»–ä¸€äº›åˆ«åçš„é—®é¢˜ å­åŸŸåcaa éƒ¨åˆ†å‚å•†ä¸‹å‘ssl ä¼šåŒæ—¶æ£€æŸ¥ æ ¹åŸŸåå’Œå­åŸŸåçš„caaè®°å½•, éœ€è¦æ·»åŠ \ncname å’Œ caaå†²çªçš„é—®é¢˜ å…ˆæš‚åœcnameè®°å½•,ç„¶åpingä¸€ä¸‹ip è·å¾—ipå æ·»åŠ Aè®°å½•å…ˆ\nç„¶åæ·»åŠ å¯¹åº”è®°å½•çš„caa,ç„¶åç”³è¯·,è¯ä¹¦ä¸‹å‘å,åˆ é™¤Aè®°å½• æ¢å¤ cname\nç›¸å…³èµ„æº é€šå¸¸åœ¨nginx å®å¡”ä¹‹ç±» ç¯å¢ƒä¸‹,æˆ‘ä»¬ç”¨çš„éƒ½æ˜¯ pem crtæ ¼å¼,å¦‚æœéƒ¨ç½²åˆ° iis tomcat éœ€è¦ PFX/PKCS jks æ ¼å¼\nåœ¨çº¿æ ¼å¼è½¬åŒ– https://www.sslaaa.com/tools/crt_to_jks\nå¼ºçƒˆå»ºè®®è‡ªå·±è½¬åŒ–ã€‚ã€‚ã€‚\nè‡ªåŠ¨å¸®ä½ ç”Ÿæˆè®°å½•å€¼å†…å®¹ https://sslmate.com/caa/\nåœ¨çº¿æŸ¥è¯¢CAAè®°å½•å€¼ https://www.myssl.cn/tools/caa.html\nå¸¸ç”¨caaè®°å½• 1 2 3 4 5 6 SecureSite\t0 issue \u0026#34;digicert.com\u0026#34;\t0 issuewild \u0026#34;digicert.com\u0026#34; GeoTrust\t0 issue \u0026#34;digicert.com\u0026#34;\t0 issuewild \u0026#34;digicert.com\u0026#34; TrustAsia\t0 issue \u0026#34;trust-provider.com\u0026#34;\t0 issuewild \u0026#34;trust-provider.com\u0026#34; GlobalSign\t0 issue \u0026#34;globalsign.com\u0026#34;\t0 issuewild \u0026#34;globalsign.com\u0026#34; WoTrus\t0 issue \u0026#34;wotrus.com\u0026#34;\t0 issuewild \u0026#34; wotrus.com\u0026#34; DNSPodï¼ˆå›½å¯†æ ‡å‡†ï¼ˆSM2ï¼‰ï¼‰\t0 issue \u0026#34;wotrus.com\u0026#34;\t0 issuewild \u0026#34; wotrus.com\u0026#34; æ¨è dnspods å°æ³½çš„ https://r2wind.cn/articles/20221006.html https://r2wind.cn/articles/20220808.html\nsslè¯¦ç»†æŸ¥è¯¢\nhttps://www.racent.com/ssl-check?domain=www.leiyanhui.com\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/domian-ssl-caa/","title":"åŸŸåsslå’Œcaaè®°å½•ç­‰çŸ¥è¯†è®°å½•æ•´ç†"},{"content":"åœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhugoçš„ä¸ªäººåšå®¢ ç›´æ¥åœ¨githubä¸Šæ­å»ºä¸€ä¸ªåšå®¢\nç¬¬ä¸€æ¬¡è¿˜æ˜¯éœ€è¦ æœ¬åœ°è£…ä¸€æ¬¡ hugoï¼Œæˆ‘ç”¨çš„archlinux\nyay -S hugo hugo new site myblog ls myblog æ‰¾ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜\nç½‘ç«™ï¼šhttps://themes.gohugo.io/ æˆ–è€…github æœç´¢ hugo theme æœ‰äº› theme-demo æ–‡ä»¶å¤¹ä¸­ä¼šæœ‰ demo æˆ– example ç›®å½•ï¼Œæ–‡ä»¶ç»“æ„ä¸æ–°å»ºçš„ Hugo é¡¹ç›®çš„æ–‡ä»¶ç»“æ„å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ ·è®¾ç½®æ˜¯ä¸ºäº†ç”¨æˆ·çš„é…ç½®å¯ä»¥è¦†ç›–æ‰ä¸»é¢˜çš„é…ç½®ã€‚\næˆ‘é€‰ä¸­äº†ä¸€ä¸ªä¸»é¢˜ï¼Œä¸‹è½½åˆ° themesæ–‡ä»¶å¤¹é‡Œé¢\ncd myblog git clone https://github.com/chipzoller/hugo-clarity.git themes/hugo-clarity cp -rf themes/hugo-clarity/exampleSite/* . #\\cp -rf themes/hugo-clarity/exampleSite/* . æŠŠ myblog é‡Œé¢çš„æ–‡ä»¶ ä¸Šä¼ åˆ°\næ–°å»ºä¸€ä¸ª å…¬å¼€åº“ hugo\nåœ¨ githubä¸Šæ–°å»ºæ–‡ä»¶ å¦‚æœå¤åˆ¶å‡ºé”™ æŸ¥çœ‹å®˜æ–¹æ‰‹å†Œ\n.github/workflows/gh-pages.yml å¯ä»¥ä»æˆ‘è¿™é‡Œå¤åˆ¶ https://github.com/joyanhui/file.leiyanhui.com/blob/main/github-actions/hugo/public-to-gh-pages.yml\nç­‰å¾…ä¸€ä¼š github æ‰§è¡Œå®Œæˆå ä¼š è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª gh-pages åˆ†æ”¯ é‡Œé¢æ˜¯é™æ€ æ–‡ä»¶ï¼Œå¼€å¯pagesæœåŠ¡å°±å¥½äº†\næ‰“å¼€ https://joyanhui.github.io/hugo/ æŸ¥çœ‹\nå¦‚æœæƒ³è¦ä»ä¸€ä¸ªç§æœ‰åº“è‡ªåŠ¨æ¨é€åˆ°ä¸€ä¸ªå…±æœ‰åº“ï¼Œå…ˆå‚è€ƒ ä¹‹å‰çš„æ–‡ç« é…ç½® ssh key å’Œå˜é‡ï¼Œåœ¨ä¿®æ”¹\nå¦‚æœä½ å¤åˆ¶å‡ºé”™ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„ä¸€ä¸ªå¤‡ä»½\nhttps://github.com/joyanhui/file.leiyanhui.com/blob/main/github-actions/hugo/Private-to-public.yml\n","date":"2022-10-22T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/hugo-install-nolocal/","title":"åœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhugoçš„ä¸ªäººåšå®¢"},{"content":"è¾“å…¥æ³•çš„é€‰æ‹© è¾“å…¥æ³•çš„é€‰æ‹© å…ˆè¯´ç»“è®º rimeä¸ºä¸»ï¼Œç‹¬ç«‹å¸å·çš„ç™¾åº¦è¾“å…¥æ³• è¾…åŠ©\næœ¬æ–‡æœ€åä¸€æ¬¡æ›´æ–°2022å¹´11æœˆ29æ—¥ã€‚ win linux å·²ç» å…¨éƒ¨åˆ‡æ¢åˆ° rimeã€‚å®‰å“æœ‰å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ç ”ç©¶è¿‡æ€ä¹ˆç”¨ï¼Œæˆ‘å®‰å“æ˜¯å¤‡ç”¨ç”µè¯æœºã€‚ã€‚ ios æš‚æ—¶è¿˜æ˜¯ç”¨çš„ç™¾åº¦è¾“å…¥æ³•ã€‚ ç¾åŒºæœ‰iRime (æ²¡å¼€æºå›½åŒºä¸‹æ¶äº†)1.99åˆ€ï¼Œå¯ä»¥ç”¨ã€‚ linuxä¸‹å¶å°”ä¹Ÿç”¨fcitx-googlepinyin æ¯”è¾ƒè½»é‡\nä¼˜ç‚¹:\næµç•… éå¸¸éå¸¸æµç•…ï¼Œå“ªæ€•momo7wè¿™ç§Nå¹´å‰éƒ½ç™¾å…ƒå¹³æ¿ä¸Šéƒ½å¯ä»¥æµç•…è¾“å…¥ æ— éšç§é—®é¢˜ å­—åº“å¯ä»¥è‡ªå·±git æˆ–è€… åšæœäº‘ å¤‡ä»½ é™¤äº†iosä¹‹å¤–æ‰€æœ‰å¹³å°å¯ç”¨ çš®è‚¤å¯ä»¥è‡ªå®šä¹‰ å¯ä»¥è‡ªè¡Œé…ç½® æ‰©å±•æ€§å¾ˆå¼º å¼€æº å¿«å¹³å° æ ‡å‡†è¯åº“æ ¼å¼ ç¼ºç‚¹ï¼š\næ–°äººåˆæ¬¡ä¸Šæ‰‹éš¾åº¦å¤§ éœ€è¦è®¾ç½®çš„åœ°æ–¹å¤š éƒ¨åˆ†é…ç½®éœ€è¦è‡ªè¡Œä¿®æ”¹é…ç½®æ–‡ä»¶ æ²¡æœ‰äº‘è¾“å…¥ï¼Œä¹Ÿå°±æ˜¯æ–°é²œçƒ­è¯è¯åº“æ˜¯æ²¡æœ‰çš„ linuxä¸æ”¯æŒfcitx-cloudpinyin å®˜ç½‘åœ°å€ï¼šhttps://rime.im ä¸‹è½½é“¾æ¥ï¼šhttps://rime.im/download/ winä¸‹å«åš å°ç‹¼æ¯« linuxä¸‹å¯é€‰ fcitx-rime(ç¬¬ä¸‰æ–¹) æˆ–è€… ibus-rime ===========ä»¥ä¸‹æ˜¯æ—§æ–‡ç« ================\nå†è¯´åŸå›  win mac ios å®‰å“ éƒ¨åˆ†Linuxæ¡Œé¢ç‰ˆå¯ä»¥ç”¨ è¯åº“è¿‡å¾—å» iosä¸‹åŸºæœ¬å®Œç¾ è¯­éŸ³è¯†åˆ«å‡†ç¡®ç‡è¿‡å¾—å»\nä¸é€‰æ‹©å…¶ä»–çš„åŸå›  Â· QQæ‹¼éŸ³ ä¸æ”¯æŒéLinux å’Œmac ä¸è€ƒè™‘ Â· æœç‹—æ‹¼éŸ³ä¸”ä¸è¯´å¹¿å‘Šã€ç™¾åº¦æ‹¼éŸ³å¯ä»¥è¯´æ²¡æœ‰ã€‘ï¼Œiosä¸‹é¢‘ç¹æ¶ˆå¤±çš„é—®é¢˜é¢‘ç¹å‡ºç° Â· è®¯é£ macå’Œlinuxæ”¯æŒä¸å¥½ Â· æœç‹— å¦å¤–åœ¨å¤šæ•°linuxå‘è¡Œç‰ˆä¸Šé¢æ²¡æœ‰è¯åº“åŒæ­¥\n#å†è¯´ç¼ºç‚¹\nÂ· æå½¦å®å®¶çš„ è¿™è´§\u0026hellip; éšç§é—®é¢˜ ç‹¬ç«‹è´¦å·ç™»é™†å§ Â· è®¾ç½®åŒæ­¥ å¥½åƒæœ‰é€»è¾‘é—®é¢˜ï¼Œæ¯”å¦‚å€™é€‰è¯9ä¸ªï¼Œå°±ä¸è¡Œ Â· æœ‰æ—¶å€™æŒ‰é”™é”®è«åå…¶å¦™æ’å…¥emjoè¡¨æƒ…ï¼Œåœ¨ä¸€äº›åœ¨çº¿ç¼–è¾‘å™¨å°±æˆäº†ä¸Šä¼ å›¾ç‰‡ Â· æ²¡æœ‰é”™é”®è¯†åˆ«çº æ­£ï¼Œæ¯”å¦‚ jiuzheng æˆ‘å¦‚æœæŒ‰æˆkiuzheng ä¸ä¼šè‡ªåŠ¨çº æ­£\n","date":"2022-10-22T06:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/inputexe/","title":"è¾“å…¥æ³•çš„é€‰æ‹©ï¼Œwin linux macos å®‰å“ ios "},{"content":"LinuxæŒ‚ä»£ç† Linux ä¸´æ—¶æŒ‚ä»£ç† ä¹‹å‰å†™è¿‡\n1 2 export http_proxy=\u0026#34;ä»£ç†ip:ä»£ç†ç«¯å£\u0026#34; export https_proxy=\u0026#34;ä»£ç†ip:ä»£ç†ç«¯å£\u0026#34; å¯ä»¥åœ¨ ä¸€ä¸ªwindows æˆ–docker ä¸Šè·‘ä¸€ä¸ªå…è®¸lançš„clash å°±å¥½äº†\n1 2 export http_proxy=\u0026#34;10.0.0.200:7890\u0026#34; export https_proxy=\u0026#34;10.0.0.200:7890\u0026#34; å¦å¤–ä¸€ä¸ªä»£ç†\n1 2 export http_proxy=\u0026#34;10.0.0.9:7890\u0026#34; export https_proxy=\u0026#34;10.0.0.9:7890\u0026#34; ä¸´æ—¶å–æ¶ˆä»£ç† 1 2 unset http_proxy unset https_proxy å…¨å±€ä»£ç† 1 2 3 4 5 6 7 8 9 10 11 12 nano /etc/profile export http_proxy=\u0026#34;http://10.0.0.200:7890/\u0026#34; export https_proxy=\u0026#34;http://10.0.0.200:7890/\u0026#34; export ftp_proxy=\u0026#34;http://10.0.0.200:7890/\u0026#34; export no_proxy=\u0026#34;localhost,127.0.0.1,10.0.0.1/255.255.255.0,*.leiyanhui.com, ::1\u0026#34; source /etc/profile ","date":"2022-10-18T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/linux-proxy/","title":"Linux ä¸´æ—¶æŒ‚ä»£ç†"},{"content":"nginxåä»£cf gitbookçš„502å’Œ403é”™è¯¯ éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ä»£ç†éƒ¨åˆ†çš„é…ç½®æ–‡ä»¶,æ·»åŠ å†…å®¹\n1 2 proxy_ssl_name www.leiyanhui.com; proxy_ssl_server_name on; ","date":"2022-10-18T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/nginx-proxy_pass-502/","title":"nginxåä»£cf gitbookçš„502å’Œ403é”™è¯¯"},{"content":"pve kvm ç­‰usb è®¾å¤‡ç›´é€š éœ€è¦æ³¨æ„æ˜¯ï¼Œpvmç›´é€šusbåˆ°è™šæ‹Ÿæœº å¸¸ç”¨çš„ä¸¤ç§æ–¹å¼\né’ˆå¯¹è®¾å¤‡ æ— è®ºè®¾å¤‡æ’åˆ°é‚£ä¸ªç«¯å£éƒ½å¯ä»¥è½¬åˆ°è™šæ‹Ÿæœºï¼Œä½†æ˜¯éœ€è¦é‡å¯ä¸€æ¬¡è™šæ‹Ÿæœºæ‰å¯ä»¥ã€‚ é’ˆå¯¹usbå£ æŒ‡å®šçš„usbå£åˆ†ç»™è™šæ‹Ÿæœº è¦å…ˆæ’åˆ°usbå£ å†æ·»åŠ  é’ˆå¯¹usb3å£ï¼Œå¦‚æœæƒ³usb2å’Œusb3 éƒ½å¯ä»¥ç”¨ éœ€è¦åˆ†åˆ«æ’å…¥ä¸¤ç§è®¾å¤‡ï¼Œé€ä¸ªæ·»åŠ ã€‚å¦åˆ™ä¸è®¤è¯†ã€‚ ","date":"2022-10-18T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/kvm-usb/","title":"pve kvm ç­‰usb è®¾å¤‡ç›´é€š"},{"content":"kvmã€pveã€unraid å‹ç¼©ç£ç›˜ pveè™šæ‹Ÿçš„ç£ç›˜ åœ¨\n/var/lib/vz/images/102#\n1 2 3 4 5 6 cd /var/lib/vz/images/102 ls -lh total 7.8G -rw-r----- 1 root root 33G Oct 9 11:12 vm-102-disk-0.qcow2 #è½¬åŒ– å°±æ˜¯å‹ç¼©ï¼Œä½†æ˜¯å¹¶ä¸ä¼šå‹ç¼©å¤ªå¤šï¼Œå› ä¸ºè™šæ‹Ÿæœºå†…çš„æ“ä½œç³»ç»Ÿåˆ é™¤çš„æ–‡ä»¶åªæ˜¯æ ‡è¯†åˆ é™¤å¹¶æ²¡æœ‰å†™0 qemu-img convert -c -O qcow2 vm-102-disk-0.qcow2 vm-102-disk-0-compact.qcow2 è™šæ‹Ÿæœºæœºå†…éƒ¨å‹ç¼©è™šæ‹Ÿç£ç›˜ ä¸‹é¢æ“ä½œåœ¨è™šæ‹Ÿæœºè¿›è¡Œ\nlinuxè™šæ‹Ÿä¸»æœº ç¦ç”¨swapå¹¶æ¸…é›¶ ä»¥archlinuxä¸ºä¾‹\n1 swapon -s partition 1010172 0 100 ä¸´æ—¶ç¦ç”¨ swap æ–‡ä»¶å¹¶æ¸…é›¶ï¼š\n1 2 3 4 swapoff /some/swap/file dd if=/dev/zero of=/some/swap/file bs=1M count=1024 sync mkswap /some/swap/file æˆ‘è¿™ä¸ªæ˜æ˜¾æ˜¯åˆ†åŒºï¼Œæ‰€ä»¥\nä¸´æ—¶ç¦ç”¨ swap åˆ†åŒºå¹¶æ¸…é›¶ï¼š\n1 2 3 4 swapoff /dev/zram0 dd if=/dev/zero of=/dev/zram0 sync mkswap /dev/zram0 æç¤º No space left on device å°±æ˜¯okäº†\næ¸…ç†ç¼“å­˜æ–‡ä»¶ arch çš„ä¸»è¦æ˜¯ pacmanæœ‰ä¸€ç‚¹\n1 pacman -Scc fdisk -l æŸ¥çœ‹ä¸€ä¸‹åˆ†åŒº df -h æŸ¥çœ‹æŒ‚è½½æƒ…å†µ ç„¶åç”¨ç©ºç™½æ–‡ä»¶é€ä¸ªå¡«å……,æˆ‘è¿™é‡Œ å…¶å®å°±ä¸€ä¸ªåˆ†åŒº\nsync å‘½ä»¤ä¿è¯æ–‡ä»¶å†…å®¹çœŸæ­£å†™åˆ°ç£ç›˜ä¸Šè€Œä¸æ˜¯è¢«ç¼“å­˜ã€‚\n1 2 3 4 dd if=/dev/zero of=/bigfile sync rm /bigfile sync å¦å¤–ä¸€ä¸ªcentos7çš„ä¸»æœº\n1 2 3 4 5 6 7 8 9 swapon -s # /www/swap /dev/dm-1 swapoff /www/swap dd if=/dev/zero of=/www/swap bs=1M count=1024 swapoff /dev/dm-1 dd if=/dev/zero of=/dev/dm-1 sync dd if=/dev/zero of=/bigfile rm /bigfile sync å…³æœº\nwindowsè™šæ‹Ÿä¸»æœº 1ã€dism++ åˆ é™¤å¤šä½™çš„appxæ–‡ä»¶ï¼Œæ¸…ç† 2ã€å…³é—­è™šæ‹Ÿå†…å­˜ é‡å¯ 3ã€ç£ç›˜æ•´ç†ï¼Œç£ç›˜ç®¡ç†å‹ç¼©åˆ†åŒº 4ã€å…³æœº\næœ€åæ‰§è¡Œå‰é¢çš„ è½¬åŒ–å‘½ä»¤ å°±okäº†\n1 2 3 4 5 6 qemu-img convert -c -O qcow2 vm-102-disk-0.qcow2 vm-102-disk-0-compact.qcow2 cp vm-102-disk-0-compact.qcow2 /mnt/hdd/kvm-bak/archlinux-vm-102-disk-0.qcow2 mv vm-102-disk-0.qcow2 vm-102-disk-0.qcow2-bak mv vm-102-disk-0-compact.qcow2 vm-102-disk-0.qcow2 ä¸€ä¸ªå®‰è£…äº† xrdp æœç‹—è¾“å…¥æ³• å¾®è½¯å…¨éƒ¨å­—ä½“ ç«ç‹ edge å’Œ kdeå®Œæ•´æ¡Œé¢ ä»¥åŠä¸€äº›åŸºæœ¬å·¥å…·çš„ç£ç›˜ å¤§å° åªæœ‰3.2G\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/kvm-pve-unraid-compact-vdisk/","title":"kvmã€pveã€unraid å‹ç¼©ç£ç›˜"},{"content":"maccms ä¿®æ”¹é‡‡é›†æ ‡é¢˜æ ï¼Œè®©æµè§ˆå™¨æ ‡ç­¾å¯ä»¥æ˜¾ç¤ºé‡‡é›†è¿›åº¦ /application/admin/controller/Collect.php\npublic function vod($param)\nå‡½æ•° æœ€åä¸€æ®µ 280è¡Œ\n1 model(\u0026#39;Collect\u0026#39;)-\u0026gt;vod_data($param,$res ); åœ¨è¿™è¡Œä»£ç ä¹‹å‰æ·»åŠ \n1 mac_echo(\u0026#39;\u0026lt;title\u0026gt;\u0026#39;.$param[\u0026#39;page\u0026#39;].\u0026#39;/\u0026#39;.$res[\u0026#39;page\u0026#39;][\u0026#39;pagecount\u0026#39;].\u0026#39;\u0026lt;/title\u0026gt;\u0026#39;); å·²ç»åé¦ˆç»™ä½œè€…ï¼Œä½œè€…åœ¨æ–°ç‰ˆå·²ç»é‡‡çº³\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/c/70/","title":"maccms ä¿®æ”¹é‡‡é›†æ ‡é¢˜æ ï¼Œè®©æµè§ˆå™¨æ ‡ç­¾å¯ä»¥æ˜¾ç¤ºé‡‡é›†è¿›åº¦"},{"content":"pve unraid ç­‰kvmæ‰‹åŠ¨å®‰è£…é»‘è‹¹æœ æœ¬æ–‡è¿ç§»åˆ° pve unraid ç­‰kvmæ‰‹åŠ¨å®‰è£…é»‘è‹¹æœ\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/pve-kvm-macos/","title":"pve unraid ç­‰kvmæ‰‹åŠ¨å®‰è£…é»‘è‹¹æœ"},{"content":"pveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜ å¹¶è¿›è¡ŒåŸºæœ¬æ“ä½œ è¯·æŸ¥çœ‹æ–°ç‰ˆï¼šåœ¨pveä¸Šç›´æ¥å®‰è£…macos13Ventura åˆæ­¥ä¼˜åŒ–å¹¶ç›´é€šæ˜¾å¡ è“ç‰™ wifi å£°å¡ç»™macos\nå‰é¢ å·²ç»å®Œæˆçš„ åœ¨pveçš„kvmå¹³å°ä¸Šæ‰‹åŠ¨å®‰è£…macos12 å¹¶å®Œæˆäº†åŸºæœ¬è®¾ç½®ï¼Œ\nå› ä¸ºåé¢éœ€è¦macosèƒ½è‡ªåŠ¨å¯åŠ¨ ä¸éœ€æ¯æ¬¡é€‰å¯åŠ¨ç›˜ï¼Œå¹¶è¿˜éœ€è¦ç»™å®ƒæ·»åŠ ä¸€ä¸‹é©±åŠ¨ï¼Œä»¥ä¾¿èƒ½ä½¿ç”¨æˆ‘ä»¬çš„æ˜¾å¡å’Œè“ç‰™wifiç­‰ã€‚æ‰€ä»¥å¿…é¡»è¦æŠŠopencoreè¿ç§»åˆ°è™šæ‹Ÿç£ç›˜ä¸Šï¼Œæ–¹ä¾¿ä¿®æ”¹ã€‚è€Œä¸æ˜¯isoæ–‡ä»¶\nåˆ†ç¦» Monterey-recovery.img é¦–å…ˆä» pveä¸­ åˆ†ç¦»å‰é¢æŒ‚è½½çš„ Monterey-recovery.img è¿™ä¸ªæ˜¯ç³»ç»Ÿæ¢å¤é•œåƒï¼Œç°åœ¨å·²ç»ç”¨ä¸åˆ°äº†\nç„¶å å¯åŠ¨macos\nç”¨pveçš„vncæˆ–è€… ç”¨ç¬¬ä¸‰æ–¹å·¥å…·è¿æ¥å·²ç»æ‰“å¼€å±å¹•å…±äº«çš„macosï¼Œæ‰“å¼€mcaosçš„ç»ˆç«¯\ndd opencoreåˆ°è™šæ‹Ÿç¡¬ç›˜ æŸ¥çœ‹åˆ†åŒºæƒ…å†µ\n1 diskutil list disk1 æ˜¯macosä¸»ç›˜ï¼Œdisk2 æ˜¯opencore çš„isoæ¨¡æ‹Ÿçš„ç¡¬ç›˜ disk1 æ˜¯macosçš„å¼•å¯¼\nç”¨DDå‘½ä»¤å§opencore åˆ†åŒºæ‹·è´åˆ° disk1\n1 sudo dd if=/dev/disk2s1 of=/dev/disk0s1 ç„¶åå…³æœº pve é‡Œé¢åˆ é™¤ opencoreçš„isoï¼Œå¯åŠ¨æµ‹è¯•\nå¦‚æœè·³è½¬åˆ°äº† efiå‘½ä»¤è¡Œï¼Œæ£€æŸ¥ä¸€ä¸‹ pveé‡Œé¢è™šæ‹Ÿæœºè®¾ç½® é€‰æ‹© å¼•å¯¼é¡ºåº é€‰ä¸­ VirtIO å¯¹åº”è™šæ‹Ÿç£ç›˜\nopencore è‡ªåŠ¨é€‰æ‹© è™šæ‹Ÿç¡¬ç›˜å¯åŠ¨ éœ€è¦ç”¨ç¬¬ä¸‰æ–¹å·¥å…· æˆ‘è¿™é‡Œé€‰æ‹© https://github.com/ic005k/OCAuxiliaryTools/releases\nä»macosé‡Œé¢ ç”¨safariä¸‹è½½\n1 https://ghproxy.com/https://github.com/ic005k/OCAuxiliaryTools/releases/download/20220235/OCAT_Mac.dmg dmgä¸‹è½½å æŠŠ OCAuxiliaryTools æ‹–åˆ°è®¿è¾¾çš„åº”ç”¨ç¨‹åºé‡Œé¢ åé¢ä¼šç»å¸¸ç”¨çš„\næ‰“å¼€ OCAuxiliaryToolsï¼Œç¼–è¾‘ æŒ‚è½½ espåˆ†åŒºï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶\nOCAuxiliaryTools ä¼šæŠ¥é”™ï¼Œè¿˜æ˜¯ç”¨ ProperTree\nProperTreeä¸‹è½½ å¯ä»¥ç›´æ¥ç”¨æˆ‘çš„ https://github.com/joyanhui/file.leiyanhui.com/blob/main/pve-unraid-kvm/ProperTree.app.zip ï¼Œæˆ–è‡ªå·±ç¼–è¾‘ https://github.com/corpnewt/ProperTree\nç›´æ¥zipä¸‹è½½å›æ¥\nå®‰è£…Python3.10 macOS https://www.python.org/downloads/release/python-3100/\nè¿™ä¸ªä¸‹è½½é€Ÿåº¦ä¹Ÿå¾ˆæ‹‰èƒ¯,å»ºè®®æŒ‚ä¸€ä¸‹ä»£ç† macosçš„ä»£ç†è®¾ç½® åœ¨ ç³»ç»Ÿåå¥½è®¾ç½® ç½‘ç»œ é«˜çº§ ä»£ç†\nç¼–è¯‘ProperTree æ‰“å¼€è®¿è¾¾ æ‰¾åˆ°ä¸‹è½½çš„ ProperTree/Scripts/buildapp-select.comm è¿è¡Œ ä¿¡ä»» ä»æ—§æ‰“å¼€\næç¤ºé€‰æ‹©Python ç‰ˆæœ¬ é€‰æ‹© 3.10 ï¼Œè‡ªåŠ¨ç¼–è¯‘åˆ°ä¸Šçº§ç›®å½•ã€‚ æ‹–åŠ¨åˆ° è®¿è¾¾çš„åº”ç”¨ç¨‹åº\næ‰“å¼€ opencoreé…ç½®æ–‡ä»¶ æ”¹ä¸ºè‡ªåŠ¨è·³è¿‡ ç›´æ¥ç”¨OCAuxiliaryTools æŒ‚è½½efi æˆ–è€…ç”¨ ç»ˆç«¯æŒ‚è½½ Misc-\u0026gt;Boot-\u0026gt;showpicker æ”¹ä¸º false\nå°±æ˜¯å…³é—­ é€‰ ç”±opencore è‡ªåŠ¨åˆ¤æ–­\næˆ–è€… æ”¹ä¸º å€’è®¡æ—¶\nopencore å€’è®¡æ—¶å¯åŠ¨ å‰é¢çš„ showpicker ä¸ä¿®æ”¹ï¼Œä¿æŒæ˜¯ true Misc-\u0026gt;Boot-\u0026gt;Timeout æ”¹ä¸º3-5ç§’çš„æ•°å­—ï¼Œ\nMISC-\u0026gt;Security-\u0026gt;AllowSetDefault æ”¹ä¸ºture\nèœå•æ  file ä¿å­˜\nåœ¨pve é‡å¯macos å¼•å¯¼ç•Œé¢çš„æ—¶å€™ é€‰ä¸­ å¯åŠ¨ç¡¬ç›˜ï¼Œç„¶åæŒ‰ä¸‹ctrl+å›è½¦ å°±ä¼šè®°ä½ï¼Œä»¥åä¼šå€’è®¡æ—¶åè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªç¡¬ç›˜\næ³¨æ„ opencore æ˜¯ä¸æ˜¾ç¤ºå€’è®¡æ—¶æ—¶é—´çš„ï¼Œå…·ä½“æ€ä¹ˆæ˜¾ç¤º\nå¦å¤– macosé‡Œé¢çš„å¼•å¯¼ç£ç›˜çš„è®¾ç½® å®¹æ˜“å¯¼è‡´æ··ä¹±ä¹Ÿä¸å»ºè®®ä½¿ç”¨\nå‚è€ƒèµ„æ–™ å’Œ è¿›é˜¶ pveã€kvmæ‰‹åŠ¨å®‰è£…macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šæ˜¾å¡ç›´é€šåˆ°macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šè“ç‰™å’Œwifiç›´é€šåˆ°macos\npve usbè®¾å¤‡å’Œç«¯å£ç›´é€š\n1 2 3 4 5 6 7 æµç¨‹å›¾ https://www.processon.com/view/link/61b325221e08534ef3f1658d https://www.mfpud.com/topics/8076/ githubä¸Šçš„OSX-KVMï¼Œå‡ ä¹å¯ä»¥åœ¨ä»»ä½•çš„linuxç³»ç»Ÿä¸‹è™šæ‹ŸåŒ–å®‰è£…é»‘è‹¹æœ:https://github.com/kholia/OSX-KVM pveï¼šhttps://pve.proxmox.com/wiki/Downloads ä¸€ä¸ªè‹±æ–‡å‚è€ƒæ•™ç¨‹ï¼šhttps://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/ ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ï¼šhttps://www.bilibili.com/video/BV1uq4y1g7ui è¿™ä¸ªè§†é¢‘æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼šhttps://www.bilibili.com/video/BV1ML411E7eH/ ","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/macos/kvm-macos-opencore-to-disk/","title":"pveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜ å¹¶è¿›è¡ŒåŸºæœ¬æ“ä½œ"},{"content":"win11 ä¸‹ è®¾ç½®è‡ªå®šä¹‰åˆ†è¾¨ç‡ æ–¹ä¾¿è¿œç¨‹é€‚é…çš„æ–¹æ³• intelæ ¸æ˜¾ windowsè¿œç¨‹æ¡Œé¢ å¯ä»¥é€šè¿‡ç¼–è¾‘ rdpæ–‡ä»¶çš„æ–¹æ³• éšæ„è®¾ç½®åˆ†è¾¨ç‡ å¹¶ä¸”ä¹Ÿæ”¯æŒç¼©æ”¾ï¼Œä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯åœ¨å¦‚ä¸‹ä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ WindowsHello æŸäº›3DåŠ é€Ÿç¨‹åºï¼Œï¼Œå› ä¸ºWindows è¿œç¨‹æ¡Œé¢ æŸäº›åŠŸèƒ½ä¸æ”¯æŒ æ‰€ä»¥éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹è¿œç¨‹æ¡Œé¢è½¯ä»¶ æ¯”å¦‚ todesk å‘æ—¥è‘µç­‰ã€‚ä½†æ˜¯å…¨å±çš„è¯ å’Œ æ§åˆ¶æœºä¹‹é—´äº¤äº’ä¸æ–¹ä¾¿ï¼Œä¸å…¨å“çš„è¯ åˆ†è¾¨ç‡ å¤ªä½ ç”¨èµ·æ¥åˆ«æ‰­ã€‚ https://www.intel.cn/content/www/cn/zh/download-center/home.html æœç´¢æ˜¾å¡å‹å· 6ä»£ä»¥ä¸Š ç›´æ¥ ä¸‹è½½ https://www.intel.cn/content/www/cn/zh/download/19344/intel-graphics-windows-dch-drivers.html?wapkw=%E8%8B%B1%E7%89%B9%E5%B0%94%20uhd%20630%20%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8 å®‰è£…å®Œæˆåé‡å¯ç”µè„‘ï¼Œå¼€å§‹èœå• æ‰¾åˆ° intelæ˜¾å¡æ§åˆ¶ä¸­å¿ƒï¼Œæ‰¾åˆ°å·¦ä¾§ æ˜¾ç¤ºå±çš„å›¾æ ‡ï¼Œç„¶å å³ä¾§ç‚¹å‡»æ·»åŠ åˆ†è¾¨ç‡ ç”¨æˆªå›¾å·¥å…·å…ˆåœ¨ todeskè¿œç¨‹çª—å£ æŸ¥çœ‹ä¸€ä¸‹çª—å£å¤§å° å¤§æ¦‚æ˜¯ 1920x1015 æ·»åŠ åˆ†è¾¨ç‡\nå®šæ—¶æ¨¡å¼ cvt å®½åº¦1920 é«˜åº¦1000 åˆ·æ–°ç‡60 å„è¡Œæ‰«ç  æ‰“å¼€ æ¬ æ‰«æå¤‡ä»½ç‡0 è¯•è¿‡ 1920x1015 ä¸è¡Œï¼Œæš‚æ—¶å°±ç”¨1920x1000äº† å…¶ä»–åˆ†è¾¨ç‡ è‡ªå·± å¤šæµ‹è¯•ä¸€ä¸‹ï¼Œ æ–¹æ³• å°±æ˜¯ å®½é«˜å…ˆç”¨ å°±è¿‘çš„ç›®æ ‡åˆ†è¾¨ç‡ï¼Œè°ƒè¯•å åœ¨ ä»é™„è¿‘çš„æ•°ç»„ å‡‘æ•´æ•° åå‘ç° ç›´æ¥ä»todeskè°ƒä½åˆ†è¾¨ç‡ æ›´ç®€å• å¹³æ—¶è¿˜æ˜¯ç”¨ rdpåè®® æ‰€ä»¥ï¼Œåˆ é™¤æ­¤æ–‡\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/c/62/","title":"win11 ä¸‹ è®¾ç½®è‡ªå®šä¹‰åˆ†è¾¨ç‡ æ–¹ä¾¿è¿œç¨‹é€‚é…çš„æ–¹æ³• intelæ ¸æ˜¾"},{"content":"émacosç³»ç»Ÿ æµè§ˆå™¨çš„é€‰æ‹© é™¤äº†safari å“ªä¸ªæµè§ˆå™¨æ˜¯æˆ‘ä»¬çš„ä¸»æµè§ˆå™¨ï¼Ÿ æœ€ç®€å•çš„ è«è¿‡äº åœ¨winä¸‹ ç”¨edge/chrome åœ¨mac iosä¸‹ ç”¨safari+edge/chrome ä½†æ˜¯ä¹¦ç­¾ å†æ—¶è®°å½•(è·¨å±æµè§ˆ)å’Œç”¨æˆ·å¯†ç çš„åŒæ­¥ ä¸€ç›´æ˜¯ä¸€ä¸ªéº»çƒ¦ã€‚ safari åœ¨ios å’Œ macä¸‹çš„æ·±åº¦åŒæ­¥ï¼Œç¡®å®çˆ±ä¸é‡Šæ‰‹ã€‚ä½†æ˜¯ winå’Œlinuxä¸‹ æ— æ³•ä½¿ç”¨ã€‚ ä½†æ˜¯ icloudæœ€è¿‘çš„æ›´æ–°æ”¯æŒäº†å¯†ç çš„ åŒæ­¥ï¼ˆéœ€è¦hello id å¯ä»¥ç®¡ç†ï¼Œä½†æ˜¯å¯ä»¥å•å‘åŒæ­¥ï¼‰ ä¹¦ç­¾åŒæ­¥å´ä¸æ”¯æŒ edgeï¼Œ å…¶å® ä¹¦ç­¾çš„é—®é¢˜ å¥½è§£å†³ï¼Œæ— éå°±æ˜¯æ‰‹åŠ¨å¯¼å…¥å¯¼å‡ºï¼Œä½†æ˜¯å¯†ç çš„é—®é¢˜ ç¼ºå¾ˆéº»çƒ¦ã€‚ iCloud å¯†ç  â€¢ åœ¨â€œiCloud å¯†ç â€ App ä¸­æŸ¥çœ‹å’Œç®¡ç† Windows PC ä¸Šçš„å¯†ç ã€‚ â€¢ åœ¨ Chrome æˆ– Edge ä¸­ä½¿ç”¨ iCloud å¯†ç æ‰©å±•ä¿å­˜å¯†ç å¹¶åœ¨è®¾å¤‡å’Œ PC ä¹‹é—´åŒæ­¥ã€‚ iCloud é‚®ä»¶ã€é€šè®¯å½•ã€æ—¥å†å’Œä¹¦ç­¾ â€¢ ä½¿é‚®ä»¶ã€é€šè®¯å½•å’Œæ—¥å†åœ¨æ‚¨çš„æ‰€æœ‰è®¾å¤‡ï¼ˆåŒ…æ‹¬ PCï¼‰ä¹‹é—´ä¿æŒæœ€æ–°ã€‚ â€¢ ä¸å…¶ä»– iCloud ç”¨æˆ·å…±äº«æ—¥å†ã€‚ â€¢ Internet Explorerã€Firefox å’Œ Google Chrome ä¹¦ç­¾è‡ªåŠ¨åœ¨ Safari æµè§ˆå™¨ä¸­ä¿æŒæœ€æ–°ã€‚\nedge ä¼˜ç‚¹ ç³»ç»Ÿè‡ªå¸¦ å…ç¿»å¢™ æ²¡å›½äº§é‚£äº›æµè§ˆå™¨çš„å¹¿å‘Š å’Œéšç§é—®é¢˜ å¯ä»¥ ä»macä¸‹åŒæ­¥å¯†ç åˆ°è¿™è¾¹ ç¼ºç‚¹ æ— æ³•å’Œsafari ä¹¦ç­¾åŒæ­¥ å¶å°”ä¼šå‡ºç°æ— æ³•ç™»å½• æŒ‚å…¨å±€ä»£ç†ä¹Ÿä¸è¡Œ é‡å¯ éƒ½æ— æ•ˆ \u0026gt; ç»è¿‡æµ‹è¯•ï¼Œå¯ä»¥è§£å†³ https://dev.leiyanhui.com/c/60 chrome æ²¡å›½äº§é‚£äº›æµè§ˆå™¨çš„å¹¿å‘Š å’Œéšç§é—®é¢˜ å…¶ä»–ä¸ç”¨è¯´äº† ç¼ºç‚¹ å”¯ä¸€ä¸€ä¸ª ä¹Ÿæ˜¯æœ€è‡´å‘½çš„ï¼ éœ€è¦æŒ‚æ¢¯å­åŒæ­¥ æˆ‘çš„æœ€ç»ˆé€‰æ‹© firefox å› ä¸ºå®Œå…¨å¼€æºï¼Œå¤šæ•°linuxç³»ç»Ÿä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“ å°±å¯ä»¥ä½¿ç”¨\nä¸éœ€è¦æ›´æ–°ç³»ç»Ÿåˆ°æœ€æ–°ç‰ˆ å°±å¯ä»¥ç™»å½•åŒæ­¥ï¼ˆedgeæœ‰è¿™ä¸ªé—®é¢˜ï¼‰\nlinux ä¸‹å¾ˆå®¹æ˜“æ‰“å¼€ç¡¬ä»¶åŠ é€Ÿ\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/c/59/","title":"émacosç³»ç»Ÿ æµè§ˆå™¨çš„é€‰æ‹© é™¤äº†safari å“ªä¸ªæµè§ˆå™¨æ˜¯æˆ‘ä»¬çš„ä¸»æµè§ˆå™¨"},{"content":"è“ç‰™å’Œwifi ç›´é€š å‚è€ƒèµ„æ–™ å’Œ è¿›é˜¶ pveã€kvmæ‰‹åŠ¨å®‰è£…macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šæ˜¾å¡ç›´é€šåˆ°macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šè“ç‰™å’Œwifiç›´é€šåˆ°macos\npve usbè®¾å¤‡å’Œç«¯å£ç›´é€š\n1 2 3 4 5 6 7 æµç¨‹å›¾ https://www.processon.com/view/link/61b325221e08534ef3f1658d https://www.mfpud.com/topics/8076/ githubä¸Šçš„OSX-KVMï¼Œå‡ ä¹å¯ä»¥åœ¨ä»»ä½•çš„linuxç³»ç»Ÿä¸‹è™šæ‹ŸåŒ–å®‰è£…é»‘è‹¹æœ:https://github.com/kholia/OSX-KVM pveï¼šhttps://pve.proxmox.com/wiki/Downloads ä¸€ä¸ªè‹±æ–‡å‚è€ƒæ•™ç¨‹ï¼šhttps://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/ ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ï¼šhttps://www.bilibili.com/video/BV1uq4y1g7ui è¿™ä¸ªè§†é¢‘æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼šhttps://www.bilibili.com/video/BV1ML411E7eH/ ","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/macos/kvm-macos-wifi-bluetooth/","title":"è“ç‰™å’Œwifi ç›´é€š"},{"content":"æ— æœåŠ¡å™¨0è´¹ç”¨éƒ¨ç½²mdbook æ­å»ºä¸ªäººåšå®¢ mdbookç®€å•æ˜“ç”¨ï¼Œä½†æ˜¯æ¨¡æ¿å’Œæ‰©å±•è¾ƒå°‘ï¼Œå·²ç»é€æ­¥å‡çº§åˆ°hugoä¸Š\næ€è·¯ åˆ©ç”¨ githubçš„Actionsï¼Œå®ç°è‡ªåŠ¨ç¼–è¯‘ ä½¿ç”¨githubçš„pagesï¼Œéƒ¨ç½²é™æ€ç½‘ç«™ ä½¿ç”¨åŸŸådnsçš„è§£æ\nä¼˜ç‚¹ ä¸éœ€è¦å¦å¤–å¼„æœåŠ¡å™¨ï¼Œå‡ ä¹å¯ä»¥è¯´æ˜¯å®Œå…¨å…ç»´æŠ¤ ï¼Œè¿™æ¡å°±è¦†ç›–äº†æ‰€æœ‰ç¼ºç‚¹äº†\nç¼ºç‚¹ å‡ ä¹æ²¡æœ‰ Actions æ‰§è¡Œé€Ÿåº¦ æœ‰ç‚¹æ…¢ ä¸€å¼€å§‹å¼„é”™äº†è„šæœ¬å·®ä¸å¤šéœ€è¦8åˆ†é’Ÿæ‰èƒ½æ›´æ–° åç»­é‡æ–°å¤„ç†äº†ä¸€ä¸‹ æŠŠActionsé€Ÿåº¦å‹ç¼©åˆ°8-10ç§’å·¦å³ï¼Œå¦å¤–ï¼Œï¼Œgithub pagesçš„è‡ªåŠ¨æ›´æ–°å¤§æ¦‚éœ€è¦45-48ç§’ï¼Œé€Ÿåº¦å·²ç»å¾ˆå¯è§‚äº†\nå›½å†…è®¿é—®é€Ÿåº¦æ…¢ å¯ä»¥dnsåˆ†åŒºåŸŸè§£æ å›½å†…å¤‡æ¡ˆåå¥—cdnæ¥è§£å†³\nå›½å†…ç¼–è¾‘é€Ÿåº¦ä¹Ÿæœ‰ç‚¹æ…¢ è§£å†³æ–¹æ³• æœ¬åœ°ç¼–è¾‘æŒ‚ä»£ç†æ¨é€ ä½¿ç”¨giteeç›®å‰å…è´¹çš„é•œåƒåŒæ­¥åŠŸèƒ½ï¼Œè‡ªåŠ¨æ¨é€åˆ°github ï¼Œgiteeé»˜è®¤å¤§æ¦‚30åˆ†é’Ÿå·¦å³åŒæ­¥æäº¤ä¸€æ¬¡ ä¹Ÿå¯ä»¥ ç”¨å…¶ä»–çš„æ”¯æŒdeopsçš„gitè‡ªåŠ¨æäº¤ç»™github å½“ç„¶ï¼Œç›´æ¥æŒ‚æ¢¯å­ç®€å•åˆé è°±\nå¼€å§‹æ æ‰“å¼€ github åˆ›å»ºä¸€ä¸ªåº“\nå†…å®¹éƒ¨åˆ† è‡³å°‘éœ€è¦ä¸€ä¸ªæ–‡ä»¶ /src/SUMMARY.md å†…å®¹è¦ç¬¦åˆmdbookçš„æ ‡å‡†ã€‚\n1 2 3 # Table of contents - [é¦–é¡µ](README.md) å¦å¤– ç®€å•å¼„ä¸€ä¸ªé¦–é¡µæ–‡ä»¶ /src/README.md å†…å®¹éšæ„\nå†åˆ›å»ºè‡ªåŠ¨åŒ–æ–‡ä»¶ githubé»˜è®¤ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ¥æ‰§è¡Œ .github/workflows/mdbook.yml å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 name: mdbook on: push: branches: - main jobs: mdbook_build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 with: fetch-depth: 0 - name: å®‰è£… mdbook run: | mkdir mdbook curl -sSL https://github.com/rust-lang/mdBook/releases/download/v0.4.14/mdbook-v0.4.14-x86_64-unknown-linux-gnu.tar.gz | tar -xz --directory=./mdbook echo `pwd`/mdbook \u0026gt;\u0026gt; $GITHUB_PATH - name: ç¼–è¯‘ mdbook run: | mdbook build - name: æ–‡ä»¶å¤„ç† run: | git worktree add gh-pages #mkdir gh-pages cd gh-pages echo \u0026#34;åˆ é™¤ ref ä»¥é¿å…ä¿ç•™å†å²è®°å½•\u0026#34; rm -rf * mv ../book/* . echo \u0026#34;å¤„ç†ç‹¬ç«‹åŸŸåçš„ç»‘å®š CNAMEæ–‡ä»¶\u0026#34; echo \u0026#34;dev.leiyanhui.com\u0026#34; \u0026gt;\u0026gt; CNAME - name: éƒ¨ç½² run: | git config user.name \u0026#34;joyanhui\u0026#34; git config user.email \u0026#34;joyanhui@qq.com\u0026#34; git init #git checkout -b main git add -A git commit -m \u0026#34;è‡ªåŠ¨ç”Ÿæˆ $GITHUB_SHA to gh-pages\u0026#34; echo \u0026#34;æ¨é€ \u0026#34; git push origin gh-pages -f -q ç„¶åæ‰“å¼€ https://github.com/ä½ çš„ç”¨æˆ·/ä»“åº“å/actions\næŸ¥çœ‹ è¿™ä¸ªciè¿è¡Œæƒ…å†µ\nå‰é¢éœ€è¦ç¼–è¯‘ä¸€äº›ä¸œè¥¿ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆæ…¢ è€å¿ƒç­‰å¾…\nä¸Šé¢ ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ branch: gh-pages é‡Œé¢æ˜¯htmlæ–‡ä»¶\nç„¶å pages å®šä½åˆ°è¿™ä¸ªåˆ†æ”¯ å°±å¯ä»¥äº†\nè¿›é˜¶ ä½¿ç”¨ç§æœ‰åº“ä¿æŠ¤æºç  githubçš„ç§æœ‰åº“å¼€é€špages æ˜¯æ”¶è´¹çš„\nç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç§æœ‰åº“å…è´¹pagesæ–¹æ³•\nå›½å†…è®¿é—®å’Œç®¡ç†åŠ é€Ÿ ç‚¹å‡»è‡ªåŠ¨éƒ¨ç½²åœ¨githubä¸Šçš„ mdbook æˆ–è€… hexoç­‰ å›½å†…è®¿é—®åŠ é€Ÿçš„æ–¹æ³•\nå…¶ä»–é—®é¢˜ ä¸€äº›é”™è¯¯ 1 Error: The deploy step encountered an error: The process \u0026#39;/usr/bin/git\u0026#39; failed with exit code 128 å¦‚æœç»‘å®šç‹¬ç«‹åŸŸåçš„è¯ è¿˜éœ€è¦ åœ¨/book/ é‡Œé¢åˆ›å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œå†…å®¹ å°±æ˜¯åŸŸåï¼Œä¸ç„¶æ¯æ¬¡ä¼šè‡ªåŠ¨åˆ é™¤\nåœ¨å‰é¢çš„ mv ../book/* . ä¹‹å‰æ·»åŠ ä¸€è¡Œ\n1 echo \u0026#34;dev.leiyanhui.com\u0026#34; \u0026gt;\u0026gt; ../book/CNAME å‚è€ƒï¼šhttps://github.com/rust-lang/mdBook/wiki/Automated-Deployment:-GitHub-Actions\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/auto-github/","title":"æ— æœåŠ¡å™¨0è´¹ç”¨éƒ¨ç½²mdbook æ­å»ºä¸ªäººåšå®¢ "},{"content":"è‡ªåŠ¨éƒ¨ç½²åœ¨githubä¸Šçš„ mdbook æˆ–è€… hexoç­‰ å›½å†…è®¿é—®åŠ é€Ÿçš„æ–¹æ³• å›½å†…è®¿é—®åŠ é€Ÿ å¦‚æœæ˜¯å¤‡æ¡ˆçš„åŸŸå ç”¨å›½å†…cdn åŠ é€Ÿå°±å¥½äº†ï¼Œæ²¡å¤‡æ¡ˆã€‚ã€‚ã€‚é‚£å°±é¦™æ¸¯ä¸»æœºåä»£ï¼Œå¥—cf\ndnspod å¢ƒå†…cnameæŒ‡å‘åˆ°cdn å¢ƒå¤–ç›´æ¥åˆ° xxx.github.io\nè¿™ä¸ªä¸ç”¨å…·ä½“è¯´\nå›½å†…mdæºæ–‡ä»¶åœ¨çº¿ç®¡ç†åŠ é€Ÿæ–¹æ³• github æŒ‚æ¢¯å­å½“ç„¶å¯ä»¥ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€çš„ç¯å¢ƒéƒ½æœ‰æ¢¯å­çš„ï¼Œæ‰€ä»¥ åˆ©ç”¨å›½å†…é•œåƒ\ngitee ç›®å‰é•œåƒæ˜¯å…è´¹çš„ï¼Œä½†æ˜¯ gitee çœŸçš„å¾ˆæ‡’ï¼Œåªæ˜¯ä»–èµ·æ­¥æ¯”è¾ƒæ—© ç§æœ‰åº“çš„è¯çœŸçš„æ— æ‰€è°“ä»–å®¶çš„\nåœ¨çº¿ç¼–è¾‘ mdæ–‡ä»¶ å‹æ ¹æ²¡æœ‰ä»£ç é«˜äº®ï¼ŒçœŸä¸çŸ¥é“giteeå’‹æƒ³çš„ï¼\nmdæ–‡ä»¶é‡Œé¢çš„å¤–è” ä¼šè¢«gitee å¥—å‰ç¼€åœ°å€ è¿™ä¸ªå€’æ˜¯ä¼˜åŒ–çš„åœç§¯æçš„ï¼\nå¦å¤– gitee è‡ªåŠ¨æ¨é€åˆ° githubçš„é€Ÿåº¦å¾ˆæ…¢ï¼Œä¸€ä¸ªå°çš„ä¿®æ”¹ æœ‰æ—¶å€™å¾ˆå¿«2-3åˆ†é’Ÿï¼Œæœ‰æ—¶å€™å¯èƒ½è¦10åˆ†é’Ÿ\ngitee ä¹‹å‰çš„ä¸é€šçŸ¥ ç›´æ¥å–æ¶ˆpageså¤–è”äº‹ä»¶ å°±æ›´åˆ«æäº†ï¼Œå½“ç„¶ Giteeç¦å›¾åºŠä¸åº”å½“æ˜¯â€œå·®è¯„â€å®ƒçš„ç†ç”±ï¼Œä½†æ˜¯ä½ ä¸‰å¤©ä¸¤å¤´æ•…éšœï¼Œè¿ä¸ªæ¢å¤è¿›åº¦ä¹Ÿæ²¡æœ‰ï¼Œç¤¾åŒºåé¦ˆä½ è®©å»qqç¾¤ï¼Œqqç¾¤ç®¡ç†å‘˜è£…æ­»ï¼Œè¿ä¸ªå…¬å‘Šä¹Ÿæ²¡æœ‰\nè¿˜æœ‰ åŠ¨åˆ™ æ”¿ç­–é™åˆ¶è¿è§„æ–‡ä»¶ã€‚ã€‚ã€‚\nä¸‹è½½ä¸€ä¸ªå°æ–‡ä»¶ï¼Œä½ çªç„¶æ²¡é€šçŸ¥ ä¸æé†’ï¼Œçªç„¶æœ‰ä¸€å¤©å°±ç»™ä¸€ä¸ªhtmlç™»å½•é¡µ\nåŠŸèƒ½è¯¥æ¥è¯¥å»ï¼ŒåŸæœ‰çš„åŠŸèƒ½ çªç„¶å°±æ— é€šçŸ¥ç›´æ¥å‰²æ‰\ngitcode è™½ç„¶ å¾ˆå¤šäºº çƒ¦csdnï¼Œä½†æ˜¯gitcode çœŸçš„è¿˜ä¸é”™ï¼Œç•Œé¢æ¸…çˆ½ï¼Œç›®å‰ä¹Ÿæ”¯æŒé•œåƒåŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘é…ç½®å¾ˆä¹…ä¸€ç›´æ˜¯æˆæƒé”™è¯¯ã€‚\næ— è®ºç”¨ssh è¿˜æ˜¯ httpä»¤ç‰Œï¼Œéšä¹‹æ”¾å¼ƒ\ncoding å¯ä»¥ç”¨ devopè‡ªåŠ¨æ¨é€ï¼Œä½†æ˜¯ã€‚ã€‚è‡ªä»è¢«è…¾è®¯æ”¶è´­åã€‚ã€‚ã€‚ã€‚\nå¦å¤– coding ä» github ç›´æ¥cloneçš„è¯ æœ‰æ¦‚ç‡å¤±è´¥ï¼Œç½‘ç»œä¸ç¨³å®š\næ‰§è¡Œæ—¶é—´ï¼Œä¹Ÿä»ä»¥å‰çš„ æ¯ä¸ªæœˆ 3000åˆ†é’Ÿï¼Œé€æ­¥ è¢«è…¾è®¯ä¼˜åŒ–åˆ° 1000åˆ†é’Ÿï¼Œç°åœ¨åˆå˜æˆ300åˆ†é’Ÿäº†ã€‚ã€‚ã€‚\nä¸è¿‡300åˆ†é’Ÿ å‹‰å¼ºä¹Ÿå¤Ÿç”¨ã€‚ã€‚ ä½†æ˜¯codingçš„åœ¨çº¿ç¼–è¾‘ä¹Ÿæœ‰è¯¸å¤šé—®é¢˜ï¼Œä¸githubå¤©å·®åœ°åˆ«ï¼Œå ªç§°åƒåœ¾\nå¦‚æœä½ è§‰å¾—è¿˜å¥½ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡ç« é…ç½® codingè‡ªåŠ¨åŒæ­¥åˆ°github\ncodeup é˜¿é‡Œæ”¶è´­åï¼Œçœ‹çš„è¿·ç³Šã€‚ã€‚ã€‚ ä¸ä¼šç”¨ä»–çš„è‡ªåŠ¨åŒæ­¥ã€‚ã€‚ã€‚\n","date":"2022-10-09T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/github-cdn-and-mirror/","title":"è‡ªåŠ¨éƒ¨ç½²åœ¨githubä¸Šçš„ mdbook æˆ–è€… hexo hugo ç­‰ å›½å†…è®¿é—®åŠ é€Ÿçš„æ–¹æ³•"},{"content":"pve unraid ç­‰kvmæ‰‹åŠ¨å®‰è£…é»‘è‹¹æœ å¦‚æœä½ pve å¯ä»¥ç›´æ¥æŸ¥çœ‹æœ€æ–°ç‰ˆç¨‹ ç›´æ¥å®‰è£…macos13çš„æ•™ unraidå¸‚åœºæœ‰æ’ä»¶å¯ä»¥ç›´æ¥ç”¨dockerå®‰è£…é»‘è‹¹æœï¼Œä½†æ˜¯å› ä¸ºæ”¶è´¹ ä»¥åŠ ç¥çƒ¦çš„ç½‘ç»œé—®é¢˜ï¼Œæˆ‘æ¢åˆ°äº†pveï¼ŒåŒæ ·éƒ½æ˜¯åŸºäºkvmçš„ä½¿ç”¨æ–¹æ³• å¤§åŒå°å¼‚\né¦–å…ˆçŸ¥é“ kvmå®‰è£…é»‘è‹¹æœéœ€è¦çš„ä¸¤ä¸ªä¸œè¥¿ 1ã€opencore å¼•å¯¼ç›˜ 2ã€macos å®‰è£…ç›˜ å…¶æ¬¡ï¼Œè¦çŸ¥é“ ä¸€ä¸ªå…³é”®çš„æ˜¾å¡é—®é¢˜ï¼Œç¡®å®šä½ æ˜¾å¡æ”¯æŒmacos ï¼Œå¦å¤–pve æœ€å¥½æ˜¯uefiå¯åŠ¨çš„ï¼Œä¸ç„¶åé¢æ˜¾å¡ç›´é€šä¼šé—®é¢˜ã€‚\næˆ‘è¿™é‡Œ æ˜¯ qnctçš„CPUæ˜¯é­”æ”¹U æ ¸æ˜¾æ˜¯u630\nåŸºæœ¬æµç¨‹ è·å–æœ€æ–°opencore \u0026gt; ç”¨lxcå®¹å™¨è·å–macosæ¢å¤é•œåƒ -\u0026gt; åˆ›å»ºè™šæ‹Ÿæœº -\u0026gt; å®‰è£…macos -\u0026gt; ä¼˜åŒ– opencoreç¡¬ç›˜åŒ– æ˜¾å¡ç›´é€šç­‰\nå…ˆè§£å†³ åŸºæœ¬çš„ opencore æ”¾åˆ°pveç›®å½•çš„isoç›®å½•ï¼Œunraidçš„è¯æ”¾åˆ° æ”¾åˆ°isosç›®å½•å°±å¥½\n1 2 3 cd /var/lib/vz/template/iso/ wget https://ghproxy.com/https://github.com/thenickdude/KVM-Opencore/releases/download/v19/OpenCore-v19.iso.gz gzip -d OpenCore-v19.iso.gz è¿™ä¸ªisoæ–‡ä»¶å…¶å®æ˜¯ä¸€ä¸ªç¡¬ç›˜é•œåƒï¼Œåªæ˜¯åç¼€å æ˜¯isoã€‚ä¸è¿‡ä¸ºäº†æ–¹ä¾¿ï¼ŒåæœŸæˆ‘ä»¬æœ€å¥½è¿˜æ˜¯æŠŠä»–æŒªåˆ°å•ç‹¬çš„ä¸€ä¸ªç£ç›˜é•œåƒæ–‡ä»¶é‡Œé¢\nç„¶åè·å–macoså®‰è£…é•œåƒ æœ‰å‡ ä¸ªæ–¹æ³•ï¼Œ 1 æ˜¯ç”¨GitHubçš„OSX-KVM https://github.com/thenickdude/OSX-KVM.git 2 æ˜¯ç”¨ Install\\ macOS\\ Ventura\\ beta.app è‡ªå·±åš ï¼Œ 3 æ˜¯ä»å°å…µ è¿œæ™¯ sysin ç­‰ç›´æ¥æ‹– æ¨è sysin çš„ï¼Œå…è´¹æ›´æ–°å¿« 4 ç›´æ¥ä¸‹è½½è‹¹æœçš„dmgæ–‡ä»¶\nä½¿ç”¨ OSX-KVM è·å–å®‰è£…é•œåƒ å…ˆæä¸€ä¸‹lxc ï¼Œç”¨lxcæ˜¯ä¸ºäº†é¿å…å½±å“pveå®¿ä¸»ç³»ç»Ÿ\n1ã€ä¸‹è½½å®¹å™¨æ¨¡æ¿ pve local CTæ¨¡æ¿ æ¨¡æ¿ æœç´¢ ubuntu æ‰¾åˆ° ubuntu18.04 ä¸‹è½½ æ‰‹åŠ¨ä¸‹è½½åœ°å€ï¼šhttp://download.proxmox.com/images/system/ubuntu-18.04-standard_18.04.1-1_amd64.tar.gz æˆ–è€… ä¿®æ”¹ CT Templates (LXC å®¹å™¨) æº# å°† /usr/share/perl5/PVE/APLInfo.pm æ–‡ä»¶ä¸­é»˜è®¤çš„æºåœ°å€ http://download.proxmox.com/images æ›¿æ¢ä¸º https://mirrors.tuna.tsinghua.edu.cn/proxmox/images å³å¯ã€‚ ä¹Ÿå¯ä»¥\n1 2 cp /usr/share/perl5/PVE/APLInfo.pm /usr/share/perl5/PVE/APLInfo.pm_back sed -i \u0026#39;s|http://download.proxmox.com|https://mirrors.tuna.tsinghua.edu.cn/proxmox|g\u0026#39; /usr/share/perl5/PVE/APLInfo.pm é‡å¯\n1 systemctl restart pvedaemon.service ç„¶åé‡æ–°ä¸‹è½½å³å¯\n2ã€åˆ›å»ºä¸€ä¸ªlxc\nå®¹å™¨åç§° ubuntu18 å¯†ç  è®°ä½ è¿™ä¸ªå¯†ç æ˜¯å®¹å™¨çš„rootå¯†ç \næ¨¡æ¿é€‰ubuntu18è¿™ä¸ª\nç£ç›˜å¤§å°16G\ncpu ç»™å‡ ä¸ª æ— æ‰€è°“ç»™4ä¸ª\nå†…å­˜swapéƒ½ç»™1024\nç½‘ç»œdhcp å°±å’Œæˆ‘ å¯åŠ¨è¿™ä¸ªå®¹å™¨\næ§åˆ¶å° ç”¨root å’Œä¸Šé¢çš„å¯†ç ç™»å½•\n3ã€å¤„ç†è¿™ä¸ªubuntuç³»ç»Ÿ\næ›´æ¢å›½å†…æº\n1 2 3 4 5 6 7 8 9 10 11 12 13 # nano /etc/apt/sources.list deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse #apt update #apt upgrade æ¸…åæº,å¥½åƒå·²ç»åœæ­¢ 18.04çš„æ”¯æŒ æš‚æ—¶ç”¨é˜¿é‡Œçš„å§ å®‰è£… éœ€è¦çš„è½¯ä»¶\n1 sudo apt install qemu-utils make git 4ã€å…‹éš† å¦‚æœå…‹éš†ä¸äº†ï¼Œè‡ªå·±æƒ³åŠæ³•æŒ‚ä¸€ä¸‹ä»£ç† linuxæŒ‚ä»£ç†æ–¹æ³•\n1 2 cd ~ git clone https://github.com/thenickdude/OSX-KVM.git 5ã€è·å–æ¢å¤é•œåƒ\nmonterey macos 12\n1 2 3 4 5 unset http_proxy #å–æ¶ˆä»£ç† unset https_proxy #å–æ¶ˆä»£ç† cd ~/OSX-KVM/scripts/monterey make Monterey-recovery.img # å®é™…ä¸‹è½½åœ°å€æ˜¯ http://oscdn.apple.com/content/downloads/36/25/012-40515/f7fz3ubbup5g6lr4yj1x36xydr0fuwomkl/RecoveryImage/BaseSystem.dmg 6ã€æ‹–åŠ¨img åˆ°pve ç™»å½•pve ssh\n1 2 pct pull 105 /root/OSX-KVM/scripts/monterey/Monterey-recovery.img /var/lib/vz/template/iso/Monterey-recovery.img # å…³æ‰ubuntu 105 æ˜¯ubuntuå®¹å™¨ç¼–å·\nå®˜ç½‘ä¸‹è½½åœ°å€ Monterey http://oscdn.apple.com/content/downloads/36/25/012-40515/f7fz3ubbup5g6lr4yj1x36xydr0fuwomkl/RecoveryImage/BaseSystem.dmg Ventura Beta 10 https://swcdn.apple.com/content/downloads/02/20/012-83064-A_ITH2OUJKVC/dxpszsfokj0cxhpk0vndqs18fjiejer3sf/InstallAssistant.pkg\néVenturaçš„ç‰ˆæœ¬ï¼Œç½‘ä¸Šéƒ½å¯ä»¥æ‰¾åˆ°å®˜ç½‘çš„dmgé“¾æ¥ è‡ªå·±è½¬æ¢æˆimgå³å¯\n1 2 3 qemu-img convert BaseSystem.dmg -O raw BaseSystem.img #ç§»åŠ¨åˆ°isoé‡Œé¢å¤‡ç”¨ mv BaseSystem.img /var/lib/vz/template/iso/Monterey-install.img åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœº ä»¥kvmè¯´æ˜ æ“ä½œç³»ç»Ÿ ï¼š other isoæ–‡ä»¶ï¼šå°±æ˜¯é‚£ä¸ª OpenCore-v18.iso\næ˜¾å¡ï¼šVmwareå…¼å®¹ Qemuä»£ç†ï¼šå‹¾é€‰ BIOSï¼šUEFI UEFIä¸‹é¢ï¼šé¢„æ³¨å†Œå¯†é’¥ å»æ‰ æœºå™¨ï¼šq35\næ€»çº¿ï¼šVirtIO ç¼“å­˜ï¼šWrite Backï¼ˆä¸å®‰å…¨ï¼‰ 100G\nCPUæ ¸å¿ƒ: æ˜¯2çš„æ¬¡å¹‚ 2 4 8 16 æˆ‘12æ ¸å¿ƒçš„,åªèƒ½ç»™8 ç±»å‹ï¼špenryn Numaå¯ç”¨\nç½‘ç»œæ¨¡å‹ï¼švirtIO\nåˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿæœº103\næ·»åŠ ä¸€ä¸ªcdrom åˆ° Monterey-install.img\nä¿®æ”¹é…ç½®æ–‡ä»¶ è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹pve æ®è¯´æ˜¯é˜²æ­¢é‡å¤å¼•å¯¼çš„\n1 echo \u0026#34;options kvm ignore_msrs=Y\u0026#34; \u0026gt;\u0026gt; /etc/modprobe.d/kvm.conf \u0026amp;\u0026amp; update-initramfs -k all -u 1 nano /etc/pve/qemu-server/103.conf åœ¨ç¬¬äºŒè¡Œæ·»åŠ \n1 2 3 4 5 6 7 8 9 10 11 12 intel: args: -device isa-applesmc,osk=\u0026#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#34; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -cpu host,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc # æˆ‘çš„ å‚è€ƒ https://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/ args: -device isa-applesmc,osk=\u0026#34;THE-OSK-YOU-EXTRACTED-GOES-HERE\u0026#34; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off args: -device isa-applesmc,osk=\u0026#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#34; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off -cpu host,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc AMD: args: -device isa-applesmc,osk=\u0026#34;è¿™é‡Œå¾—è‡ªå·±æ‰¾~\u0026#34; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -cpu Penryn,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc,+pcid,+ssse3,+sse4.2,+popcnt,+avx,+avx2,+aes,+fma,+fma4,+bmi1,+bmi2,+xsave,+xsaveopt,check æˆ‘çš„é…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 agent: 1 args: -device isa-applesmc,osk=\u0026#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#34; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -global nec-usb-xhci.msi=off -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off -cpu host,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc bios: ovmf boot: order=ide2;ide0 cores: 8 cpu: Penryn efidisk0: local:103/vm-103-disk-0.qcow2,efitype=4m,size=528K ide0: local:iso/Monterey-recovery.img,cache=unsafe,size=3144712K ide2: local:iso/OpenCore-v18.iso,cache=unsafe,size=150M machine: q35 memory: 8196 meta: creation-qemu=6.2.0,ctime=1665305756 name: macos net0: virtio=C6:73:64:FE:9A:61,bridge=vmbr0,firewall=1 numa: 1 ostype: l26 scsihw: virtio-scsi-pci smbios1: uuid=12a3b6e3-0fd3-41b0-942d-0a9591ca7f86 sockets: 1 vga: vmware virtio1: local:103/vm-103-disk-1.qcow2,cache=unsafe,size=100G vmgenid: d20a41e9-6bc5-4995-b785-f70a905fa727 ç„¶åä¸‹é¢çš„cdrom ä¸¤ä¸ª media=cdrom åˆ æ‰æ”¹ä¸º cache=unsafe\nå®‰è£… å…ˆæ ¼å¼ç£ç›˜ï¼Œç„¶åå®‰è£…ï¼Œé‡å¯è¿‡ç¨‹ä¸­ä¸€ç›´é€‰æ‹© macos installï¼ŒæŒ‡å¯¼æ²¡æœ‰ macos installä¹‹åï¼Œé€‰ä¹‹å‰åˆ†åŒºçš„æ—¶å€™ è®¾ç½®çš„ç›˜ç¬¦\nè¿›å»ç³»ç»Ÿè®¾ç½® ä¸­æ–‡ï¼Œä¿®æ”¹æ—¶åŒºå’Œæ—¶é—´\næ›´æ”¹ç”µè„‘çš„åç§°æˆ–æœ¬åœ°ä¸»æœºå\næ›´æ–°ä¸€ä¸‹ç³»ç»Ÿï¼Œä¸»è¦æ˜¯ Safariæ›´æ–°åˆ°16ï¼Œ å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹è¿œç¨‹å·¥å…·ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©todesk ï¼Œæ‰“å¼€ å…±äº« è¿œç¨‹ç®¡ç†ï¼Œæ·»åŠ ç®¡ç†å‘˜è´¦æˆ·ï¼Œç»™å…¨éƒ¨æƒé™ï¼Œç„¶åå† ç”µè„‘è®¾ç½®é‡Œé¢ å¼€å¯vnc è¾“å…¥ä¸€ä¸ªå¯†ç ã€‚ ç”¨å¦å¤–ä¸€ä¸ªç”µè„‘æµ‹è¯•vncæ˜¯å¦å¯ä»¥è¿æ¥ï¼Œå¦‚æœå¯ä»¥ å…³æœºã€‚å°±å¥½äº†\nè¿›é˜¶ å…ˆå¤‡ä»½ä¸€ä¸‹ è™šæ‹Ÿç£ç›˜ vm-103-disk-1.qcow2 å¯ä»¥å‹ç¼©ä¸€ä¸‹ kvmç£ç›˜ç®¡ç† cd /var/lib/vz/images/103#\nåé¢éœ€è¦æŠŠopencoreå¼„åˆ°è™šæ‹Ÿç£ç›˜ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥ç¼–è¾‘å¤„ç†ï¼ˆåŠ é©±åŠ¨ä¹‹ç±»çš„ï¼‰ï¼Œä»¥åŠæ˜¾å¡ç›´é€š wifiè“ç‰™ç›´é€š\nå¸¸è§é—®é¢˜ ç™½è‹¹æœlogo: æ ¸å¿ƒæ•° æˆ–è€…å‰é¢argså‚æ•°æœ‰é—®é¢˜ lxcé•œåƒä¸‹è½½å¤±è´¥:æŒ‚ä»£ç†æˆ–è€…å‚è€ƒå‰é¢ä¿®æ”¹lxcçš„æº github cloneå¤±è´¥:æŒ‚ä»£ç† å‚è€ƒèµ„æ–™ å’Œ è¿›é˜¶ pveã€kvmæ‰‹åŠ¨å®‰è£…macos\nè¯·æŸ¥çœ‹æ–°ç‰ˆï¼šåœ¨pveä¸Šç›´æ¥å®‰è£…macos13Ventura åˆæ­¥ä¼˜åŒ–å¹¶ç›´é€šæ˜¾å¡ è“ç‰™ wifi å£°å¡ç»™macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šæ˜¾å¡ç›´é€šåˆ°macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šè“ç‰™å’Œwifiç›´é€šåˆ°macos\npve usbè®¾å¤‡å’Œç«¯å£ç›´é€š\n1 2 3 4 5 6 7 æµç¨‹å›¾ https://www.processon.com/view/link/61b325221e08534ef3f1658d https://www.mfpud.com/topics/8076/ githubä¸Šçš„OSX-KVMï¼Œå‡ ä¹å¯ä»¥åœ¨ä»»ä½•çš„linuxç³»ç»Ÿä¸‹è™šæ‹ŸåŒ–å®‰è£…é»‘è‹¹æœ:https://github.com/kholia/OSX-KVM pveï¼šhttps://pve.proxmox.com/wiki/Downloads ä¸€ä¸ªè‹±æ–‡å‚è€ƒæ•™ç¨‹ï¼šhttps://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/ ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ï¼šhttps://www.bilibili.com/video/BV1uq4y1g7ui è¿™ä¸ªè§†é¢‘æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼šhttps://www.bilibili.com/video/BV1ML411E7eH/ ","date":"2022-10-08T00:00:00Z","permalink":"https://dev.leiyanhui.com/macos/kvm-macos-install/","title":"pve unraid ç­‰kvmæ‰‹åŠ¨å®‰è£…é»‘è‹¹æœ"},{"content":"vhdè½¬æ¢ç»™pve å¹¶æŒ‚è½½ç»™è™šæ‹Ÿæœº find / -name vm-100-disk*\nçŸ¥é“äº†è·¯å¾„ /var/lib/vz/images/100/\n1 2 #å¼€å§‹è½¬æ¢ hddæ˜¯æœºæ¢°ç›˜ï¼Œéœ€è¦ä¸€ç‚¹æ—¶é—´ qemu-img convert -p -f vpc -O qcow2 /mnt/hdd/system-vhd-bak/SOFT.vhd /var/lib/vz/images/soft.qcow2 å¯¼å…¥ç¡¬ç›˜\næˆ‘è¿™é‡Œå¯¼å…¥ç»™ 100è¿™ä¸ªè™šæ‹Ÿæœº\n1 2 3 #qm importdisk 300 /root/test.img local-lvm --format raw qm importdisk 100 /var/lib/vz/images/soft.qcow2 local --format qcow2 ä¸Šé¢çš„å‘½ä»¤ ä¼šæŠŠ soft.qcow2 å¯¼å…¥åˆ° /var/lib/vz/images/100/vm-100-disk-3.qcow2 ä¸æ˜¯æˆ‘æƒ³è¦çš„ç»“æœ\nåœ¨pveé¢æ¿ä¸­ æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿç£ç›˜ï¼Œå®¹é‡é»˜è®¤ VirtIO Block ä¹Ÿæ˜¯åœ¨ /var/lib/vz/images/100/vm-100-disk-3.qcow2\nç„¶åç‚¹åˆ†ç¦»,åˆ é™¤è¿™ä¸ªè™šæ‹Ÿç£ç›˜ï¼Œç„¶ååšè½¯è¿æ¥\n1 2 rm /var/lib/vz/images/100/vm-100-disk-3.qcow2 ln -s /var/lib/vz/images/soft.qcow2 /var/lib/vz/images/100/vm-100-disk-3.qcow2 ç„¶ååŒå‡» æœªä½¿ç”¨çš„ç£ç›˜ vm-100-disk-3.qcow2 æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿç£ç›˜ ï¼Œè™šæ‹Ÿæœºä¸­å°±å¯ä»¥çœ‹åˆ°äº†\nä¾æ¬¡å¤„ç†\n1 2 3 4 5 6 qemu-img convert -p -f vpc -O qcow2 /mnt/hdd/system-vhd-bak/Win-Setup.vhd /mnt/hdd/system-vhd-bak/Win-Setup.qcow2 rm /var/lib/vz/images/100/vm-100-disk-4.qcow2 ln -s /mnt/hdd/system-vhd-bak/Win-Setup.qcow2 /var/lib/vz/images/100/vm-100-disk-4.qcow2 ç»™ soft.qcow2 æ‰©å®¹ä¸€ä¸‹\nå…ˆåˆ†ç¦» æœ€å¥½ç›´æ¥å…³æœº qm stop 100 #å…³æœº å¼€æœºçŠ¶æ€å¼„ æœ‰æ¦‚ç‡æ— æ³•åˆ†ç¦»æˆ–è€…æŸè€—é•œåƒ qemu-img resize /var/lib/vz/images/soft.qcow2 +10G\n","date":"2022-10-08T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/vhd-pve/","title":"vhdè½¬æ¢ç»™pve å¹¶æŒ‚è½½ç»™è™šæ‹Ÿæœº"},{"content":"ç”¨vuepresså’Œå®å¡”åˆ›å»ºå¸¦æœç´¢åŠŸèƒ½çš„é™æ€æ–‡æ¡£ç«™ å·²ç»å…¨éƒ¨æ¢åˆ°åŸºäºgithubçš„ hugo\nvuepress å®˜ç½‘çš„æ–‡æ¡£å¾ˆå…¨äº†ä¸åœ¨è¯´æ˜\næˆ‘è¿™é‡Œç”¨ vuepress-theme-hopeä¸»é¢˜æ¥æ\n1 2 3 4 mkdir fish_doc cd fish_doc pnpm create vuepress-theme-hope@next docs æ²¡æœ‰ pnpmçš„è¯å…ˆå®‰è£… pnpm\nå¯ä»¥é€‰æ‹©ä¸­æ–‡ï¼Œç„¶åæœ‰ä¸€ä¸ªåšå®¢ä¸»é¢˜ ä¸€ä¸ª docsä¸»é¢˜ï¼Œé€‰æ‹©åè€… æœ€åä¸€éƒ¨ æç¤º æ˜¯å¦æŸ¥çœ‹ é€‰ yes æ‰“å¼€ http://10.0.0.9:8080/\nåŸºæœ¬æœç´¢åŠŸèƒ½ /docs/src/.vuepress/config.ts import { searchPlugin } from \u0026lsquo;@vuepress/plugin-search\u0026rsquo;\nsearchPlugin({ \u0026lsquo;/\u0026rsquo;: { placeholder: \u0026lsquo;æœç´¢\u0026rsquo;, isSearchable: (page) =\u0026gt; page.path !== \u0026lsquo;/\u0026rsquo;, }, }),\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import { defineUserConfig } from \u0026#34;vuepress\u0026#34;; import theme from \u0026#34;./theme.js\u0026#34;; import { searchPlugin } from \u0026#39;@vuepress/plugin-search\u0026#39; export default defineUserConfig({ base: \u0026#34;/\u0026#34;, title: \u0026#34;xxx\u0026#34;, description: \u0026#34;just so so ..\u0026#34;, port:\u0026#34;8902\u0026#34;, theme, plugins: [ searchPlugin({ \u0026#39;/\u0026#39;: { placeholder: \u0026#39;æœç´¢\u0026#39;, isSearchable: (page) =\u0026gt; page.path !== \u0026#39;/\u0026#39;, }, }), ], shouldPrefetch: false, }); ","date":"2022-10-07T00:00:00Z","permalink":"https://dev.leiyanhui.com/new/vuepress-doc/","title":"ç”¨vuepresså’Œå®å¡”åˆ›å»ºå¸¦æœç´¢åŠŸèƒ½çš„é™æ€æ–‡æ¡£ç«™"},{"content":"github ç§æœ‰åº“ åˆ›å»ºpagesçš„ æœ€ç®€å•çš„ä¿å§†çº§æ•™ç¨‹ æœ¬ç«™ ä½¿ç”¨çš„mdbook ï¼Œå…¶ä»– hexo æˆ–è€…gitbook éƒ½ä¸€æ · ä¸€æ ·\n2022-10-22 æœ€ç»ˆæ”¾å¼ƒç®€å•æ˜“ç”¨çš„mdbook æ¢åˆ° golangå¼€å‘çš„ hugoä¸Šï¼Œ\nå…³äº hugoç§æœ‰åº“å­˜ éƒ¨ç½²è„šæœ¬ è¯·æŸ¥çœ‹ åœ¨githubä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªåŸºäºhugoçš„ä¸ªäººåšå®¢\né¦–å…ˆç¬¬ä¸€æ­¥ æ˜¯ åˆ›å»ºä¸€ä¸ª ç§æœ‰åº“ï¼Œç”¨æ¥å­˜æ”¾mdæ–‡ä»¶ dev.leiyanhui.com-src åˆ†æ”¯ä¹Ÿåªéœ€è¦ä¸€ä¸ªmain\nå†åˆ›å»ºä¸€ä¸ªå…¬å¼€åº“ dev.leiyanhui.com-page ç”¨æ¥å­˜æ”¾ ç”Ÿæˆåçš„html\nè¿™ä¸¤ä¸ªåº“ å¯ä»¥åœ¨ä¸åŒçš„å¸å·ä¸‹ï¼Œåé¢ä½ è‡ªå·±æ›¿æ¢è¿™ä¸¤ä¸ªåº“åç§°ï¼Œè¿˜æœ‰é‚®ç®±å’Œç”¨æˆ·å\nåŸç† åœ¨ dev.leiyanhui.com-page æ‰“å¼€github page æœåŠ¡\nåœ¨ dev.leiyanhui.com-src ç”¨ github actions è‡ªåŠ¨ç”Ÿæˆhtmlå¹¶æ¨é€åˆ° dev.leiyanhui.com-src\né¦–å…ˆä½ å¯èƒ½éœ€è¦å…ˆæå®šè‡ªåŠ¨ç”Ÿäº§ å…ˆæå®š mdåˆ°htmlçš„é™æ€ç”Ÿæˆï¼Œæ— è®ºæ˜¯mdbook è¿˜æ˜¯ hexoï¼Œæ–‡ç« æœ«å°¾ æœ‰æä¾› mdbookçš„ è‡ªåŠ¨è„šæœ¬ mdbook-å…¬å¼€åº“è‡ªå·±éƒ¨ç½²åˆ°è‡ªå·±.yml æ”¾åˆ° dev.leiyanhui.com-src/.github/workflows/ æ–‡ä»¶åç¼€ä¸ºyml æ–‡ä»¶åæ— æ‰€è°“\næœ¬æ–‡é»˜è®¤ ä½ å·²ç»ä¼šå¼„è¿™ä¸ªï¼Œå¦‚æœä¸æ˜ç™½æŸ¥çœ‹è¿™ä¸ªæ–‡ç« \nç„¶åå‡†å¤‡è‡ªåŠ¨æ¨é€ç›¸å…³çš„ ç»è¿‡æˆ‘æµ‹è¯•https æ¨é€ ç›®å‰æ˜¯å­˜åœ¨é—®é¢˜çš„ï¼Œè¿˜æ˜¯å»ºè®® ä½¿ç”¨sshæ¨é€\nåœ¨æœ¬æœº å…ˆå¼„ä¸€å¥—å¯†é’¥ ssh-keygen -t rsa -C \u0026quot;joyanhui@qq.com\u0026quot; cd ~/.ssh cat id_rsa #è¿™æ˜¯ç§é’¥ è®°å¥½ cat id_rsa.pub #è¿™æ˜¯å…¬é’¥ è®°å¥½ winç¯å¢ƒä¸‹è‡ªå·±æå®š\nå†å…¬å¼€åº“ æ·»åŠ å…¬é’¥ æ‰“å¼€ å…¬å¼€åº“ dev.leiyanhui.com-page setting Deploy keys\né“¾æ¥ï¼š https://github.com/joyanhui/dev.leiyanhui.com-page/settings/keys\næ·»åŠ ä¸€ä¸ª Add new ï¼ŒæŠŠå‰é¢ å…¬é’¥ id_rsa.pub çš„å†…å®¹ç²˜è´´è¿›æ¥ åç§°éšæ„\nåœ¨ç§æœ‰åº“ æ·»åŠ ä¸€ä¸ªç¯å¢ƒå˜é‡ å­˜ ç§é’¥ æ‰“å¼€ ç§æœ‰åº“ dev.leiyanhui.com-page setting secrets actions\né“¾æ¥ï¼š https://github.com/joyanhui/dev.leiyanhui.com-src/settings/secrets/actions\næ·»åŠ ä¸€ä¸ª New repository secret å¤§æ¦‚æ„æ€ å°±æ˜¯ åŠ å¯†å˜é‡\nåç§°éšæ„ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨ åç§° FOR_PAGE_SSHKEY å†…å®¹å¡«å†™ ç§é’¥id_rsaçš„å†…å®¹\nä¿®æ”¹ç§æœ‰åº“çš„è‡ªåŠ¨éƒ¨ç½²actions workflowsæ–‡ä»¶ ç¼–è¾‘ ç§æœ‰åº“ mdbook-å…±æœ‰åº“è‡ªå·±éƒ¨ç½²åˆ°è‡ªå·±.yml æ–‡ä»¶ åœ¨ env:æ·»åŠ  ä¸€ä¸ªç¯å¢ƒå˜é‡\nFOR_PAGE_SSHKEY: ${{ secrets.FOR_PAGE_SSHKEY }} åœ¨ git commit åé¢æ·»åŠ å‡ è¡Œå‘½ä»¤ è‡ªåŠ¨éƒ¨ç½²ç§é’¥\nmkdir -p ~/.ssh/ echo \u0026quot;$FOR_PAGE_SSHKEY\u0026quot; \u0026gt; ~/.ssh/id_rsa chmod 600 ~/.ssh/id_rsa ssh-keyscan github.com \u0026gt;\u0026gt; ~/.ssh/known_hosts åœ¨ git push origin å‰é¢æ·»åŠ ä¸€ä¸ªè¿œç¨‹git\ngit remote rm origin git remote add origin git@github.com:joyanhui/dev.leiyanhui.com-page.git è¿™å°±å¯ä»¥äº†\nåœ¨åˆé€‚çš„ä½ç½® è¿˜è¦ æ·»åŠ ä¸€ä¸ª åˆ é™¤ rm -rf .github ä¸ç„¶ å…¬å¼€åº“ ä¹Ÿè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªymläº†ï¼Œç„¶åè‚¯å®šä¼šå¤±è´¥\nå®Œæ•´çš„é…ç½®æ–‡ä»¶ å‚è€ƒæ–‡æœ« mdbook-ç§æœ‰åº“è‡ªåŠ¨éƒ¨ç½²åˆ°å…¬å¼€åº“pages.yml\nè¿›é˜¶ æå‡å›½å†…ç½‘è®¿é—® ç½‘ç«™è®¿é—®\næˆ‘ç”¨çš„dnspods å¢ƒå¤–è§£æåˆ° xxx.github.com å¢ƒå†…è§£æåˆ° å›½å†…cdn cdnå†æŒ‡å‘xxx.github.com srcæ–‡ä»¶åœ¨çº¿ç¼–è¾‘å’Œä¸Šä¼  gitcode ä¹Ÿæœ‰ DevOps å¯ä»¥ç”¨ gitee è‡ªåŠ¨æ¨é€åˆ° github giteeé»˜è®¤æä¾› åŒæ­¥åŠŸèƒ½ï¼Œç›®å‰è¿˜æ˜¯å…è´¹çš„ï¼Œä½†æ˜¯giteeçš„mdç¼–è¾‘å™¨æœ‰ç‚¹éš¾ç”¨ï¼ coding è‡ªåŠ¨æ¨é€åˆ° github coding æœ‰é›†æˆæœåŠ¡Jenkins å¹¶ä¸”æœ‰é¦™æ¸¯å’Œç¾å›½æœåŠ¡å™¨è®©ä½ è¿è¡Œé›†æˆæœåŠ¡ä»£ç ï¼Œæ¯ä¸ªæä¾›å…è´¹300åˆ†é’Ÿçš„æ‰§è¡Œæ—¶é—´ï¼Œå‡ºå‘ä½ ä¸€å¤©24å°æ—¶éƒ½åœ¨å†™éƒ½åœ¨æäº¤ ä¸ç„¶å…¶å®ä¹Ÿå¤Ÿç”¨ã€‚ hugoçš„è‡ªåŠ¨éƒ¨ç½² æŸ¥çœ‹è¿™é‡Œ\næˆ‘åœ¨ç”¨çš„ github/workflows actions è„šæœ¬ dev.leiyanhui.com-src/.github/workflows/mdbook-å…¬å¼€åº“è‡ªå·±éƒ¨ç½²åˆ°è‡ªå·±.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 name: mdbook on: push: branches: - main jobs: mdbook_build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 with: fetch-depth: 0 - name: å®‰è£… mdbook run: | mkdir mdbook curl -sSL https://github.com/rust-lang/mdBook/releases/download/v0.4.14/mdbook-v0.4.14-x86_64-unknown-linux-gnu.tar.gz | tar -xz --directory=./mdbook echo `pwd`/mdbook \u0026gt;\u0026gt; $GITHUB_PATH - name: ç¼–è¯‘ mdbook run: | echo \u0026#34;ç¼–è¯‘\u0026#34; mdbook build echo \u0026#34;åˆ†æ”¯åˆ° gh-pages\u0026#34; git worktree add gh-pages #mkdir gh-pages cd gh-pages echo \u0026#34;åˆ é™¤ ref ä»¥é¿å…ä¿ç•™å†å²è®°å½•\u0026#34; git update-ref -d refs/heads/gh-pages rm -rf * mv ../book/* . echo \u0026#34;å¤„ç†ç‹¬ç«‹åŸŸåçš„ç»‘å®š CNAMEæ–‡ä»¶\u0026#34; echo \u0026#34;dev.leiyanhui.com\u0026#34; \u0026gt;\u0026gt; CNAME echo \u0026#34;æ¨é€åˆ°åˆ†æ”¯\u0026#34; git config user.name \u0026#34;joyanhui\u0026#34; git config user.email \u0026#34;joyanhui@qq.com\u0026#34; git init #git checkout -b main git add -A git commit -m \u0026#34;è‡ªåŠ¨ç”Ÿæˆ $GITHUB_SHA to gh-pages\u0026#34; echo \u0026#34;æ¨é€ \u0026#34; git push origin gh-pages -f -q dev.leiyanhui.com-src/.github/workflows/mdbook-ç§æœ‰åº“è‡ªåŠ¨éƒ¨ç½²åˆ°å…¬å¼€åº“pages.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 name: mdbook on: push: branches: - main jobs: mdbook_build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 with: fetch-depth: 0 - name: å®‰è£… mdbook run: | mkdir mdbook curl -sSL https://github.com/rust-lang/mdBook/releases/download/v0.4.14/mdbook-v0.4.14-x86_64-unknown-linux-gnu.tar.gz | tar -xz --directory=./mdbook echo `pwd`/mdbook \u0026gt;\u0026gt; $GITHUB_PATH - name: ç¼–è¯‘ mdbook env: FOR_PAGE_SSHKEY: ${{ secrets.FOR_PAGE_SSHKEY }} run: | echo \u0026#34;ç¼–è¯‘\u0026#34; mdbook build echo \u0026#34;åˆ†æ”¯åˆ° gh-pages\u0026#34; git worktree add gh-pages #mkdir gh-pages cd gh-pages echo \u0026#34;åˆ é™¤ ref ä»¥é¿å…ä¿ç•™å†å²è®°å½•\u0026#34; git update-ref -d refs/heads/gh-pages rm -rf * mv ../book/* . echo \u0026#34;å¤„ç†ç‹¬ç«‹åŸŸåçš„ç»‘å®š CNAMEæ–‡ä»¶\u0026#34; echo \u0026#34;dev.leiyanhui.com\u0026#34; \u0026gt;\u0026gt; CNAME echo \u0026#34;æ¨é€åˆ°åˆ†æ”¯\u0026#34; git config user.name \u0026#34;joyanhui\u0026#34; git config user.email \u0026#34;joyanhui@qq.com\u0026#34; git init #git checkout -b main git add -A git commit -m \u0026#34;è‡ªåŠ¨ç”Ÿæˆ $GITHUB_SHA to gh-pages\u0026#34; echo \u0026#34;è¿œç¨‹\u0026#34; mkdir -p ~/.ssh/ echo \u0026#34;$FOR_PAGE_SSHKEY\u0026#34; \u0026gt; ~/.ssh/id_rsa chmod 600 ~/.ssh/id_rsa ssh-keyscan github.com \u0026gt;\u0026gt; ~/.ssh/known_hosts git remote rm origin git remote add origin git@github.com:joyanhui/dev.leiyanhui.com-page.git #æ¨é€ git push origin gh-pages:main -f -q ","date":"2022-09-12T00:00:00Z","permalink":"https://dev.leiyanhui.com/mdbook/siyou/","title":"github ç§æœ‰åº“ åˆ›å»ºpagesçš„ æœ€ç®€å•çš„ä¿å§†çº§æ•™ç¨‹"},{"content":"deepin å®‰è£… vscode server æœåŠ¡å™¨ç‰ˆ Code Server å¹¶é…ç½®sslåŠ å¯† ä»¥åŠnginxåä»£ https://github.com/coder/code-server/releases\nåŠ é€Ÿ ä¸‹è½½ https://gh.api.99988866.xyz/https://github.com/coder/code-server/releases/download/v4.5.0/code-server_4.5.0_amd64.deb\nåŒå‡»å®‰è£… æˆ–è€…dkpgå®‰è£… ç„¶åå¯åŠ¨ systemctl \u0026ndash;user start code-server systemctl \u0026ndash;user enable code-server vi ~/.config/code-server/config.yaml ä¿®æ”¹å¯†ç  systemctl \u0026ndash;user restart code-server å†…å®¹ï¼š\nlocation / { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; proxy_redirect off; proxy_set_header Host http://code.leiyanhui.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026quot;Upgrade\u0026quot;; proxy_connect_timeout 60; proxy_send_timeout 90; proxy_read_timeout 90; proxy_buffer_size 4k; proxy_buffers 4 32k; proxy_busy_buffers_size 64k; proxy_temp_file_write_size 64k; a dd_header X-Cache $upstream_cache_status; add_header Cache-Control no-cache; } ç„¶åè¯•ç€ç”¨httpæˆ¿å±‹ æ²¡é—®é¢˜äº† äº† å†æ­£å¸¸é…ç½® ssl å°±å¯ä»¥äº† é…ç½® å¼€æœºè‡ªåŠ¨å¯åŠ¨ https://dev.leiyanhui.com/c/73\n","date":"2022-09-10T00:00:00Z","permalink":"https://dev.leiyanhui.com/c/72/","title":"deepin å®‰è£… vscode server æœåŠ¡å™¨ç‰ˆ Code Server å¹¶é…ç½®sslåŠ å¯† ä»¥åŠnginxåä»£"},{"content":"æœ¬æ–‡åœæ­¢æ›´æ–°ï¼Œ æ–°åœ°å€ï¼šhttps://dev.leiyanhui.com/docker/docker-linux-desktop/\ndockerè¿è¡Œæ¡Œé¢linuxç³»ç»Ÿï¼Œunraid ä¸€å¼€å§‹ æ˜¯æ‰“ç®—è‡ªå·±å¼„çš„ï¼Œåæ¥å‘ç°è¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚ã€‚ã€‚\näºæ˜¯çœ‹åˆ°è¿™ä¸ª linuxserver/webtop - Docker Image | Docker Hub\ndockeråŸåˆ™ä¸Šä¸€ä¸ªå®¹å™¨åªå…è®¸ä¸€ä¸ªæœåŠ¡ã€‚æ‰€ä»¥è¿è¡Œä¸€ä¸ªå®Œæ•´æ¡Œé¢ç³»ç»Ÿï¼Œç†è®ºä¸Šç¬¦åˆåŸåˆ™ï¼Œä½†æ˜¯å®é™…ä¸Šå¯è¡Œï¼Œè€Œä¸”éå¸¸æ–¹ä¾¿å’Œèˆ’æœã€‚\n1 https://hub.docker.com/r/linuxserver/webtop æ”¯æŒx64 å’Œarm åŒ…å« alpine fedora arch ubuntuï¼Œæ¡Œé¢ç³»ç»Ÿæœ‰ xfce i3 kde mate openbox icewm 2022-10-1 æŸ¥çœ‹ 6å¤©ä¹‹å‰åˆšåˆšæ›´æ–°\nè¿œç¨‹è‡ªå¸¦çš„web-vncï¼ˆWeb Desktop GUIï¼‰ xrdp\nå…ˆè¯•è¯• arch-kde\n1 docker pull linuxserver/webtop:arch-kde æˆ‘çš„å®¿ä¸»æœº æ˜¯unraid ï¼Œæå‰å»ºç«‹æ–‡ä»¶å¤¹\n1 mkdir -p /mnt/disk1/appdata/webtop/config_data docker run -d\n--name=arch\n--security-opt seccomp=unconfined #optional\n-e PUID=1000\n-e PGID=1000\n-e TZ=Europe/London\n-e SUBFOLDER=/ #optional\n-e KEYBOARD=en-us-qwerty #optional\n-p 10100:3000\n-p 10101:3389\n-p 10102:22\n-v /mnt/disk1/appdata/webtop/config_data:/config\n-v /mnt/disk1/appdata/webtop/docker.sock:/var/run/docker.sock #optional\n--device /dev/dri:/dev/dri #optional\n--restart unless-stopped\nlinuxserver/webtop:arch-kde\n1 2 3 è‡ªå¸¦çš„ç”¨æˆ·åæ˜¯ abc å¯†ç ä¹Ÿæ˜¯abc å¯ä»¥è¿›å»æ¡Œé¢ä¿®æ”¹å¯†ç ï¼Œæˆ–è€… åœ¨å®¿ä¸»æœº docker exec -it arch passwd abc\n1 å…¶ä»–é€‰é¡¹ #è‡ªåŠ¨å¯åŠ¨å›¾å½¢ç•Œé¢ -e GUIAUTOSTART=true #è‡ªåŠ¨å¯åŠ¨ç™»å½•å¯†ç  -e PASSWORD=yourpassword #ç¦æ­¢ æµè§ˆå™¨ç•Œé¢è‡ªåŠ¨ç™»å½• -e AUTO_LOGIN=false\nè¿™ä¸ªæ˜¯ä¸ºäº†éƒ¨åˆ†uiçš„å…¼å®¹æ€§ å¿…é¡»åŠ ä¸Š --security-opt seccomp=unconfined\nç¡¬ä»¶åŠ é€Ÿ åªæœ‰é‡Œé¢çš„ubuntué•œåƒæ”¯æŒ --device=/dev/dri:/dev/dri\n1 é‰´äºç¡¬ä»¶åŠ é€Ÿåªæœ‰ubuntuæ”¯æŒ å’Œarchçš„ç†Ÿæ‚‰åº¦ï¼Œæœ€å æˆ‘å†³å®šä¹Ÿå°è¯•ä¸€ä¸‹ubuntu kde docker pull linuxserver/webtop:ubuntu-kde mkdir -p /mnt/disk1/appdata/webtop-ubuntu-kde/config_data\ndocker run -d\n--name=ubuntu\n--security-opt seccomp=unconfined #optional\n-e PUID=1000\n-e PGID=1000\n-e TZ=Europe/London\n-e SUBFOLDER=/ #optional\n-e KEYBOARD=en-us-qwerty #optional\n-p 10100:3000\n-p 10101:3389\n-p 10102:22\n-v /mnt/disk1/appdata/webtop-ubuntu-kde/config_data:/config\n-v /mnt/disk1/appdata/webtop-ubuntu-kde/docker.sock:/var/run/docker.sock #optional\n--device /dev/dri:/dev/dri #optional\n-e FILE__PASSWORD=/mnt/disk1/appdata/webtop-ubuntu-kde/mysecretpassword\n-e AUTO_LOGIN=false\n--restart unless-stopped\nlinuxserver/webtop:ubuntu-kde\n1 è¿›å»å æ¢æºï¼Œæ›´æ–°ç³»ç»Ÿï¼Œå®‰è£…ä¸­æ–‡å­—ä½“ ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/docker-linux-desktop/","title":" dockerè¿è¡Œæ¡Œé¢linuxç³»ç»Ÿï¼Œunraid"},{"content":"golang jsonå­—ç¬¦ä¸²å’Œmapè½¬åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // json è½¬åŒ–ä¸ºmap func JsonToMap(str string) map[string]interface{} { var tempMap map[string]interface{} err := json.Unmarshal([]byte(str), \u0026amp;tempMap) if err != nil { fmt.Println(err) } return tempMap } // json arr è½¬åŒ–ä¸ºmap func JsonArrToMap(str string) []map[string]interface{} { tempMap := make([]map[string]interface{}, 0) err := json.Unmarshal([]byte(str), \u0026amp;tempMap) if err != nil { fmt.Println(err) } return tempMap } ä½¿ç”¨ä¸¾ä¾‹\n1 2 3 4 5 6 json_row := redis_get(redis_key) // get_user_token := JsonArrToMap(json_row) if user_token == get_user_token[0][\u0026#34;user_token\u0026#34;] { //fmt.Println(\u0026#34;redis è·å–åˆ°\u0026#34;) return true } ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/golang-json-map/","title":" golang jsonå­—ç¬¦ä¸²å’Œmapè½¬åŒ–"},{"content":"hello-world æŠ›å¼ƒtypechoè½¬æ¢åˆ°wordpress wordpress -\u0026gt; typecho -\u0026gt; hexo -\u0026gt; typecho -\u0026gt; wordpress -\u0026gt; php makedown -\u0026gt; vuepress\nå…³äºtypecho typecho ä¸å¯å¦è®¤ æ˜¯ä¸€ä¸ªéå¸¸è½»é‡ ç®€å• ä¸”ä¼˜ç§€çš„å¼€æºè½¯ä»¶ ä½†æ˜¯ ç”¨æˆ·åŸºæ•°å¤ªå°‘ï¼Œé‡åˆ°ä¸€äº›å°é—®é¢˜çš„æ—¶å€™ï¼Œå¾€å¾€æ²¡æœ‰ç›¸å…³èµ„æ–™æ”¯æŒï¼Œéœ€è¦è‡ªå·±æ‰¾åŸå› ã€‚\nå…³äºtypechoæ¯”wordpress ä¼˜ç§€çš„åœ°æ–¹ Â· åŸç”Ÿæ”¯æŒsqlite æ›´é€‚åˆæ›´ç®€å•çš„ç¯å¢ƒ Â· ä½“ç§¯æ›´å° é€‚åˆè¿ç§» Â· ç›®å½•åå¯ä»¥ä»»æ„é‡å‘½å ä¹‹éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯ Â· åå°é€Ÿåº¦æ›´å¿« Â· æ•´ä½“å ç”¨èµ„æºæ›´ä½\ntypecho æœ‰å®ƒè‡ªå·±çš„é€‚åº”åœºæ™¯\næœ¬ç«™å†æ¬¡è¿å›wordpressçš„åŸå›  ä¸ªäººåšå®¢é¡µç»å†äº† wordpress -\u0026gt; typecho -\u0026gt; hexo -\u0026gt; typecho ä¸ªäººåšå®¢å…¶å®æ— éçœ‹é‡çš„æ˜¯ å‰å°ç•Œé¢è‡ªç”± æ’°å†™æ–¹ä¾¿ã€‚ é™¤éè¿è¡Œç¯å¢ƒå¾ˆæ¶åŠ£ï¼Œå¦åˆ™è¿˜æ˜¯è€è€å®å®ç”¨wordpressçš„å¥½ #æœ¬äººç»´æŠ¤çš„typecho1.2åˆ†æ”¯ å°†åœæ­¢ç»´æŠ¤\ntypecho æ–°ç‰ˆå¯¹sqliteçš„æ”¯æŒæœ‰ä¸€äº›bugï¼Œæ¨¡æ¿ä¹Ÿç»å¸¸å‡ºç°è«åå…¶å¦™æ— æ³•æ‰“å¼€çš„æƒ…å†µï¼Œæ’æŸ¥èµ·æ¥éå¸¸éº»çƒ¦æ— è¶£ï¼Œå°bugå¤ªå¤šã€‚\næ¢åˆ°wordpressäº†ï¼Œä½†æ˜¯wordpress æœ‰åŸŸåç»‘å®šçš„é—®é¢˜\nåœ¨é80ç«¯å£ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œå†å¥—cdn ä¼šå¯¼è‡´å¤šæ¬¡é‡å®šå‘ å¯¼è‡´åå°æ— æ³•ç™»å½•\nè™½ç„¶ä¿®æ”¹æºç å¯ä»¥è§£å†³ã€‚æœ€ç»ˆè¿˜æ˜¯å¼ƒç”¨äº†ã€‚wordpress ä»£ç åºå¤§ è¿˜æ˜¯ä¸å¤ªé€‚åˆæˆ‘ã€‚\nç›®å‰æ¢åˆ° è‡ªå·±å¼€å‘çš„ makedownè½¬html \u0026mdash; 2022å¹´9æœˆ20æ—¥\næ•°æ®å¯¼å‡ºåä½¿ç”¨äº† https://github.com/palaniraja/blog2md æ¥è½¬æ¢\n2022-10-7\né‡å¤è½®å­å¤ªç´¯ æš‚æ—¶ä½¿ç”¨ hugo äº†\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/hello-world/","title":" hello-world"},{"content":"åœ¨dockerè·‘macos å¯èƒ½å— åœ¨dockerè·‘macos å¯èƒ½å— åŸç† docker ä¸­è¿è¡Œkvm è€Œå opencore å macos ç”±äºæ˜¯åŠè™šæ‹ŸåŒ– åº”è¯¥è¿˜è¿‡å¾—å»\nå°è¯•ä¸€ä¸‹\n1 http://github.com/sickcodes/Docker-OSX docker pull sickcodes/docker-osx:latest\ndocker run -it\n--name=macos\n--device /dev/kvm\n--device /dev/snd\n-p 50922:10022\n-v /tmp/.X11-unix:/tmp/.X11-unix\n-e \u0026ldquo;DISPLAY=${DISPLAY:-:0.0}\u0026rdquo;\nsickcodes/docker-osx:latest\nturn on SSH after you\u0026rsquo;ve installed OS X in the \u0026ldquo;Sharing\u0026rdquo; settings. ssh user@localhost -p 50922\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/docker-exec-macos/","title":" åœ¨dockerè·‘macos å¯èƒ½å—"},{"content":"alpine/linux ä¸‹å¿«é€Ÿæ­å»ºå¯ä»¥éšæ„æ•´ä½“è¿ç§»çš„å®å¡”é¢æ¿ è¿™é‡Œä»¥alpineä¸ºä¾‹ï¼Œå®‰è£…åå ç”¨50Må·¦å³ç¡¬ç›˜çš„ä¸€ä¸ªå®Œæ•´linuxç³»ç»Ÿ\nä¸‹è½½iso å®‰è£… https://dl-cdn.alpinelinux.org/alpine/v3.16/releases/x86_64/alpine-virt-3.16.2-x86_64.iso\nå®‰è£…è¿‡ç¨‹ä½¿ç”¨å›½å†…neusofté•œåƒ,ç”¨çš„è™šæ‹Ÿæœºé•œåƒè”ç½‘å®‰è£…ï¼Œå®‰è£…åå°±æ˜¯æœ€æ–°ç‰ˆ\né‡å¯åç™»å½•ï¼švi /etc/apk/repositories å»æ‰ç¨³å®šç‰ˆçš„communityæ³¨é‡Š\n1 2 3 apk add docker #å®‰è£…docker rc-update add docker boot #å¼€æœºè‡ªåŠ¨å¯åŠ¨ service docker start #å¯åŠ¨ é‡å¯ä¸€ä¸‹ï¼Œå¯åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°dhcpçš„ipï¼Œå¯åŠ¨å ip a ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œè·¯ç”±å™¨é‡Œé¢dhcpç»‘å®šä¸€ä¸‹ipã€‚\nsshç™»å½• ä¿®æ”¹dockeræº æ–‡ä»¶ä¸å­˜åœ¨ ä¼šè‡ªåŠ¨æ–°å»º\n1 vi /etc/docker/daemon.json { \u0026ldquo;registry-mirrors\u0026rdquo;: [ \u0026ldquo;https://hub-mirror.c.163.com\u0026rdquo;, \u0026ldquo;https://ustc-edu-cn.mirror.aliyuncs.com\u0026rdquo;, \u0026ldquo;https://docker.mirrors.ustc.edu.cn\u0026rdquo; ] }\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 service docker restart # ç„¶åè™šæ‹Ÿæœºå…³æœºï¼Œæ•´æœºå¤‡ä»½ ``` **å®¹å™¨çš„é€‰æ‹©**ï¼Œ å®å¡”æ”¯æŒ æ˜¯ Centos7.x \u0026gt; Debian10 \u0026gt; Ubuntu 20.04 \u0026gt; Centos8 stream \u0026gt; Ubuntu 18.04 \u0026gt; å…¶å®ƒç³»ç»Ÿ è¿™å‡ ä¸ªç³»ç»Ÿçš„æœ€åæ”¯æŒæ—¶é—´ centos7ï¼ˆ2024-6-30ï¼‰debian10 ï¼ˆ2019å¹´7æœˆå‘å¸ƒä¹Ÿå·®ä¸å¤š2024-7ï¼‰ubuntu20.04(2025-4) Ubuntu 22.04.1 LTS å®‰å…¨æ›´æ–°è‡³2027å¹´4æœˆ debian11ï¼ˆ2026 å¹´ 12 æœˆï¼‰å°½é‡é€‰æ‹©å‰ä¸‰ä¸ªç³»ç»Ÿï¼Œ1æ˜¯å› ä¸ºåœ¨debianç³»ä¸‹å¤šæ•°ç»„ä»¶æ˜¯ç¼–è¯‘å®‰è£…çš„ 2æ˜¯å®å¡”æœ€è¿‘å°bugéå¸¸å¤šï¼Œcentosä¸‹ä¼šå¥½ä¸€äº› å®‰è£…docker centos å’Œ å®å¡” ``` docker pull centos:7 docker images # å¯åŠ¨å®¹å™¨ # ç›®å½•ä¸æ˜ å°„å‡ºæ¥ï¼Œå› ä¸ºè¿™é‡Œéœ€è¦åšä¸€ä¸ªå…¨éƒ¨éƒ½åœ¨dockerçš„å¯è¿ç§»çš„ # å…ˆæŠŠç«¯å£è€ƒè™‘å¥½ï¼Œåç»­ä¿®æ”¹éº»çƒ¦ å®å¡”é¢æ¿çš„ä¸¤ä¸ª 80 å’Œ 443 mysql MongoDB Redis PgSQL # 1122:22 ç®—æ˜¯å¤‡ç”¨çš„ï¼Œå¦å¤–éœ€è¦é¢„ç•™å‡ ä¸ªgolangç”¨çš„ç«¯å£ æ•°å­—80å¼€å¤´çš„ docker run -i -t -d --name baota -p 8888:8888 -p 180:80 -p 1122:22 -p 1443:443 -p 13306:3306 -p 888:888 -p 16379:6379 -p 27017:27017 -p 27018:27018 -p 27019:27019 -p 28017:28017 -p 5432:5432 -p 8180-8199:8180-8199 --privileged=true --restart=always centos:7 /bin/bash #å¼€å§‹å®‰è£…å®å¡” docker exec -it baota /bin/bash #å®‰è£…è„šæœ¬ yum install -y wget \u0026amp;\u0026amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh \u0026amp;\u0026amp; sh install.sh ed8484bec ``` ç™»å½•å®å¡”é¢æ¿ ä¿®æ”¹é¢æ¿å…¥å£åœ°å€ å®‰è£… nginx mysql5.7 php7.4 redis7 php aliossæ‰“å¼€å¸¸ç”¨æ‰©å±•ï¼Œå› ä¸ºç‰ˆæœ¬çš„åŸå› ï¼Œå‡ä¸ºç¼–è¯‘å®‰è£…ï¼Œé€Ÿåº¦éå¸¸æ…¢ï¼Œè€å¿ƒç­‰å¾…ï¼Œé€‰centos7çš„è¯å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ é…ç½®å¥½dnspod çš„key æ–¹ä¾¿ç»­ç­¾åŸŸåè¯ä¹¦ å®å¡” 7.9.4 çš„alioss æœ‰é…ç½®é”™è¯¯ï¼Œç»è¿‡æµ‹è¯•åˆæ˜¯ä¸€ä¸ªå°bugï¼Œå¯¼è‡´å®ƒæ— è®ºä»€ä¹ˆç³»ç»Ÿæ— æ³•é…ç½®ã€‚ vi /www/server/panel/data/aliossAS.conf ``` {\u0026#34;access_key\u0026#34;: \u0026#34;XXXXX\u0026#34;, \u0026#34;secret_key\u0026#34;: \u0026#34;XXXX\u0026#34;, \u0026#34;bucket_name\u0026#34;: \u0026#34;XXXX\u0026#34;, \u0026#34;bucket_domain\u0026#34;: \u0026#34;XXXX.oss-cn-qingdao.aliyuncs.com\u0026#34;, \u0026#34;backup_path\u0026#34;: \u0026#34;/bt_backup/\u0026#34;} ``` å¯ä»¥æ­£å¸¸ç”¨äº† ä¸‹è½½æˆ‘çš„å¼€æºé¡¹ç›®webdavgo æŠŠ/wwwç›®å½•æ˜ å°„å‡ºæ¥åˆ°webdav ``` #https://dev.leiyanhui.com/c/webdavgo/ cd /www wget -c https://gitee.com/joyanhui/webdavgo/releases/download/1.1.1/webdav chmod -x ./webdav #wget -c https://gitee.com/joyanhui/webdavgo/releases/download/1.1/webdavgo.json ``` ç¼–è¾‘é…ç½®æ–‡ä»¶ å…³é—­æ–‡ä»¶æœåŠ¡ï¼Œwebdavå®šä½åˆ° /www vim webdavgo.json ``` { \u0026#34;server_port\u0026#34;:8189, \u0026#34;webdav_user_name\u0026#34;:\u0026#34;admin\u0026#34;, \u0026#34;webdav_user_psw\u0026#34;:\u0026#34;12345\u0026#34;, \u0026#34;webdav_file_path\u0026#34;:\u0026#34;/www\u0026#34;, \u0026#34;list_server_path\u0026#34;:\u0026#34;\u0026#34;, \u0026#34;list_file_path\u0026#34;:\u0026#34;\u0026#34; } ``` å®å¡”æ–°å»ºä¸€ä¸ªgoé¡¹ç›® ç«™ç‚¹ ç«¯å£è¾“å…¥ä¸Šé¢çš„ç«¯å£åï¼Œå¯æ‰§è¡Œæ–‡ä»¶ /www/webdav å‰©ä¸‹çš„ä¸åœ¨è¯´æ˜ è¿™æ · /www å¯ä»¥åœ¨å¤–ç½‘é€šè¿‡webdavè®¿é—® æµ‹è¯•å®Œæˆåï¼Œä¿®æ”¹server\\_portç«¯å£ä¸ºæ²¡æœ‰æ˜ å°„è¿‡çš„ç«¯å£ï¼Œnginxå¼€å¯ssl åŒæ—¶åœ¨è‡ªå·±çš„åŸŸåæ§åˆ¶é¢æ¿é‡Œé¢ æ·»åŠ å‡ ä¸ªæŒ‡å‘æœ¬åœ°çš„å­åŸŸåï¼Œå…å¾—æµ‹è¯•é¡¹ç›®è€ä¿®æ”¹hostsæ–‡ä»¶ 1.host.leiyanhui.com åˆ°10.0.0.1 10.host.leiyanhui.com åˆ°10.0.0.10 \\*.10.host.leiyanhui.com åˆ°10.0.0.10 127.host.leiyanhui.com åˆ° 127.0.0.1 \\*.127.host.leiyanhui.com åˆ°127.0.0.1 é…ç½®dockeré‡Œé¢çš„å®å¡”è‡ªåŠ¨å¯åŠ¨ åœ¨å®¹å™¨å†…æ–°å»ºæ–‡ä»¶ vi /www/wwwroot/bt.sh ``` ## å®å¡” åœ¨å®¹å™¨å†…è‡ªåŠ¨å¯åŠ¨ /etc/init.d/bt start /etc/init.d/redis start /etc/init.d/php-fpm-74 start /etc/init.d/mongodb start /etc/init.d/pgsql start /etc/init.d/mysqld start /etc/init.d/memcached start /etc/init.d/nginx start crond seelp 5 /etc/init.d/mysqld stop /etc/init.d/mysqld start /etc/init.d/redis stop /etc/init.d/redis start crond ``` æ¨å‡ºå®¹å™¨ï¼Œåœ¨å®¿ä¸»ç³»ç»Ÿä¸­æ·»åŠ å¼€æœºå¯åŠ¨é¡¹ï¼Œè¿™é‡Œä»¥aplineä¸ºä¾‹å­ ``` cd /etc/local.d vi bt.start # æ·»åŠ å†…å®¹ docker exec -it baota sh /www/wwwroot/bt.sh chmod +x bt.start rc-update add local ``` å¤‡ä»½å®¹å™¨ åˆ°tar ``` docker export baota\u0026gt; baota.tar gzip baota.tar #ç®€åŒ–ä¸€ä¸‹ äº‹å®è¯æ˜æ²¡å•¥ç”¨ å…¶å®è¿˜æ˜¯tarå® docker export -o baota.tar.gz baota ``` è¿™ä¸ªå‹ç¼©åŒ…è¿ç§»åˆ°å…¶ä»–ä¸»æœºä¸Š æˆ– é˜¿é‡ŒdockeræœåŠ¡ ``` # å¯¼å…¥åˆ° é•œåƒ baota:v1 docker import baota.tar.gz baota:v1 ``` dockeré‡å¯å è¦æ‰§è¡Œä¸€æ¬¡ ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/docker-baota/","title":"alpine/linux ä¸‹å¿«é€Ÿæ­å»ºå¯ä»¥éšæ„æ•´ä½“è¿ç§»çš„å®å¡”é¢æ¿"},{"content":"alpineæ­å»ºsmbå…±äº« åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œäº†ä¸€ä¸ª alpine ç„¶åè¿è¡Œäº†dockerå®å¡” é‡åˆ°ä¸€ä¸ªé—®é¢˜ å°±æ˜¯ ä½¿ç”¨sftpæŒ‚è½½æ–‡ä»¶åˆ°æœ¬åœ°ç¡¬ç›˜çš„æ—¶å€™ï¼Œç»å¸¸å‡ºç°ä¸€äº›è«åå…¶å¦™çš„æƒé™é—®é¢˜SFTPDrive.exe\nè¿™ä¸ªè½¯ä»¶ åœ¨winä¸‹ä¹Ÿä¸æ˜¯å¾ˆç¨³å®šï¼Œç»å¸¸è«åå…¶å¦™å¡æ­» æ‰€ä»¥ å¹²è„†è¿˜æ˜¯ åœ¨è™šæ‹Ÿæœºçš„ alpineä¸‹ å…±äº« wwwrootç›®å½•å‡ºæ¥ æ›´çœäº‹ä¸€äº›\nå‚è€ƒ https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server\nå·®ä¸å¤šè¦ç”¨æ‰300Mç¡¬ç›˜ å¦å¤– ä¹Ÿå¯ä»¥åœ¨å®å¡”é‡Œé¢å®‰è£…ftpæ¥è§£å†³\næˆ–è€…ä½¿ç”¨ rclone\næˆ‘åæ¥å•ç‹¬åšäº†ä¸€ä¸ªåŸºäº golangçš„ webdav å¯ä»¥ä»è¿™é‡Œä¸‹è½½ https://github.com/joyanhui/webdavgo\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/alpine-smb/","title":"alpineæ­å»ºsmbå…±äº«"},{"content":"archlinux å®‰è£…æœç‹— ç™¾åº¦ è¾“å…¥æ³• 1ã€å…ˆå®‰è£… yay archå®‰è£…yayæœ€ç®€å•çš„åŠæ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\nå¯é€‰æ“ä½œ archå®‰è£…xrdpï¼Œæ–¹ä¾¿winå’Œipadè¿œç¨‹æ§åˆ¶ - å°ç±»éšæ‰‹è®° (leiyanhui.com)\nå¯é€‰æ“ä½œ Linuxçš„shellå‘½ä»¤è¡Œç­‰ä¸´æ—¶æŒ‚ä»£ç† - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n2ã€å®‰è£…ä¸­æ–‡å­—ä½“ archlinuxå®‰è£…ä¸­æ–‡å­—ä½“ï¼Œå¾®è½¯å­—ä½“å’Œæœç‹—æ‹¼éŸ³ ç™¾åº¦è¾“å…¥æ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n3ã€å®‰è£…ä¸­æ–‡è¾“å…¥æ³•\næˆ‘è¿™é‡Œç”¨æœç‹—ï¼Œå› ä¸º ç™¾åº¦å‡ºç°è¿‡ é¢‘ç¹å´©æºƒçš„æƒ…å†µã€‚ ä¸¤ä¸ªéƒ½ä¸æ”¯æŒè¯åº“åŒæ­¥ã€‚\n1 2 3 4 5 6 7 #å…ˆå®‰è£… fcitx è¾“å…¥æ³•ç®¡ç†å™¨ sudo pacman -S fcitx # è¿˜éœ€è¦ä¸€ç‚¹åˆ«çš„ç»„ä»¶ ä¹Ÿå¿«ä¸ç”¨ # configtoolä¹Ÿä¸æ˜¯å¿…é¡»çš„ï¼Œæ˜¯ä¸€ä¸ªå›¾å½¢ç•Œé¢çš„é…ç½®ç¨‹åºï¼Œä¸å®‰è£…åˆ°è¯ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ sudo pacman -S fcitx-configtool #éå¿…éœ€çš„ å…¶ä»–ç½‘ä¸Šæ•™ç¨‹è®©å®‰è£…çš„ï¼Œå…¶å®å¯ä»¥ä¸ç”¨ # sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt5 å®‰è£…æœç‹— æˆ–è€… ç™¾åº¦\n1 2 3 4 5 6 yay -S fcitx-sogoupinyin yay -S fcitx-baidupinyin #ä¸æ¨èï¼Œå¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œä¼šå¡æ­»ï¼Œç”šè‡³ä¼šè¿å¸¦å…¶ä»–è¾“å…¥æ³•æ— æ³•ä½¿ç”¨ #å¸è½½ yay -Rsn fcitx-baidupinyin #è°·æ­Œè¾“å…¥æ³• sudo pacman -S fcitx-googlepinyin #è¿™ä¸ªè½»é‡ä¾èµ–å°‘ï¼Œä½†æ˜¯æ²¡è¯åº“ï¼Œæ˜¯å®‰å“è¿ç§»çš„ å› ä¸ºæˆ‘ç”¨çš„kdeæ¡Œé¢ï¼Œä¸»æµæ¡Œé¢ä¼šè‡ªåŠ¨å¯åŠ¨fcitx ï¼Œä½†æ˜¯ä¸€ä¸ªç¨‹åºä¹‹é—´çš„é€šè®¯é—®é¢˜å¯èƒ½éœ€è¦è®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ éå¿…é¡»çš„æ“ä½œï¼Œä¸æ·»åŠ çš„è¯ éƒ¨åˆ†è½¯ä»¶ ä¸æ”¯æŒä¸­æ–‡è¾“å…¥\n1 2 3 4 5 nano ~/.pam_environment #æ·»åŠ  GTK_IM_MODULE DEFAULT=fcitx QT_IM_MODULE DEFAULT=fcitx XMODIFIERS DEFAULT=\\@im=fcitx æ³¨é”€ç™»å½•çš„kde æ¡Œé¢ï¼Œé‡æ–°ç™»å½•ä¼šè‡ªåŠ¨æ‰“å¼€fcitxåœ¨ç³»ç»Ÿæ‰˜ç›˜ä½ç½®ï¼Œå³é”®å°é”®ç›˜ ç‚¹configé…ç½®\næˆ–è€… å¼€å§‹èœå• settingé‡Œé¢ æœ‰ fcitx configçš„é…ç½®ç¨‹åº\næ·»åŠ è¾“å…¥æ³•ï¼Œæœç´¢ sogou baidu å³å¯æ·»åŠ \nctrl+ç©ºæ ¼ å³å¯è°ƒå‡ºè¾“å…¥æ³•ï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œé‚£å°±æ˜¯å‰é¢æ²¡é…ç½®å¥½\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/","title":"archlinux å®‰è£…æœç‹— ç™¾åº¦ è¾“å…¥æ³•"},{"content":"archlinuxå®‰è£…edgeæµè§ˆå™¨ å’Œ chrome 1ã€å…ˆå®‰è£… yay archå®‰è£…yayæœ€ç®€å•çš„åŠæ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\nå¯é€‰æ“ä½œ archå®‰è£…xrdpï¼Œæ–¹ä¾¿winå’Œipadè¿œç¨‹æ§åˆ¶ - å°ç±»éšæ‰‹è®° (leiyanhui.com)\nå¯é€‰æ“ä½œ Linuxçš„shellå‘½ä»¤è¡Œç­‰ä¸´æ—¶æŒ‚ä»£ç† - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n2ã€å®‰è£…ä¸­æ–‡å­—ä½“ archlinuxå®‰è£…ä¸­æ–‡å­—ä½“ï¼Œå¾®è½¯å­—ä½“å’Œæœç‹—æ‹¼éŸ³ ç™¾åº¦è¾“å…¥æ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n3ã€å®‰è£…ä¸­æ–‡è¾“å…¥æ³• archlinux å®‰è£…æœç‹— ç™¾åº¦ è¾“å…¥æ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n4ã€æŒ‚ä»£ç†é˜²æ­¢å¡ ä¹Ÿå¯ä»¥ä¸ç”¨ Linuxçš„shellå‘½ä»¤è¡Œç­‰ä¸´æ—¶æŒ‚ä»£ç† - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n5ã€å®‰è£…edgeæµè§ˆå™¨\nedgeæµè§ˆå™¨ æ˜¯ auræºçš„ï¼Œ éœ€è¦å…ˆå®‰è£…ç¬¬ä¸€æ­¥çš„ yayï¼Œå¦å¤–è¿˜éœ€è¦å®‰è£…ä¸­æ–‡å­—ä½“ï¼Œä¸ç„¶ä¸­æ–‡ç½‘é¡µæ‰“å¼€ä¹±ç \n1 2 3 4 5 yay -S microsoft-edge-stable-bin #:: Remove make dependencies after install? [y/N] y #==\u0026gt; [N]one [A]ll [Ab]ort [I]nstalled [No]tInstalled or (1 2 3, 1-3, ^4) # N yay éƒ¨åˆ†æ–‡ä»¶ä»å¢ƒå¤–ä¸‹è½½ï¼Œå¯èƒ½ä¼šä¸­æ–­ï¼Œctrl+c å–æ¶ˆé‡æ–°æ¥å°±å¥½äº†ã€‚æˆ–è€…æŒ‚æ¢¯å­\nå…¶ä»–æµè§ˆå™¨ å¼€æºçš„ åœ¨pacman éå®Œå…¨å¼€æºçš„ ç”¨yay\n1 2 yay -S google-chrome sudo pacman -S firefox ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/archlinux-install-edge/","title":"archlinuxå®‰è£…edgeæµè§ˆå™¨ å’Œ chrome"},{"content":"archlinuxå®‰è£…ä¸­æ–‡å­—ä½“ï¼Œå¾®è½¯å­—ä½“å’Œæœç‹—æ‹¼éŸ³ ç™¾åº¦è¾“å…¥æ³• 1ã€å…ˆå®‰è£… yay archå®‰è£…yayæœ€ç®€å•çš„åŠæ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\nå¯é€‰æ“ä½œ archå®‰è£…xrdpï¼Œæ–¹ä¾¿winå’Œipadè¿œç¨‹æ§åˆ¶ - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n2ã€å®‰è£…ä¸­æ–‡å­—ä½“\néšä¾¿å®‰è£…ä¸€ä¸ªå°±å¯ä»¥æ˜¾ç¤ºä¸­æ–‡äº†\n1 2 3 4 pacman -S wqy-zenhei # remove # pacman -Rs wqy-zenhei wine ä¹±ç çš„è¯ ä¹Ÿéœ€è¦å®‰è£…å‡ ä¸ªä¸­æ–‡å­—ä½“ï¼Œå…·ä½“å¿˜è®°ï¼Œå›å¤´è®°å½•\n3ã€å®‰è£…windowså­—ä½“\nä»å¦å¤–ä¸€ä¸ªç”µè„‘çš„ Cç›˜ windows fontç›®å½•å¤åˆ¶å‡ºæ¥å­—ä½“ï¼Œç„¶åæ‰“åŒ… ä¸‹è½½åˆ°arch æˆ–è€…ä¸‹è½½æˆ‘åœ¨githubä¸Šçš„ï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 su - #åˆ‡æ¢åˆ°root mkdir /usr/share/fonts/WindowsFonts cd /usr/share/fonts/WindowsFonts #è¿™ä¸¤ä¸ªè¿˜æ˜¯è£…ä¸€ä¸‹ï¼Œå¸¸ç”¨ pacman -S wget unzip wget -c http://10.0.0.200/windows-fonts.zip unzip windows-fonts.zip rm windows-fonts.zip chmod 644 /usr/share/fonts/WindowsFonts/* #åˆ·æ–°å­—ä½“ç¼“å­˜ fc-cache -f æˆ‘åœ¨githubä¸Šçš„ ä¸€ä»½windowså­—ä½“åŒ… åŸºäºwin11çš„\ngit clone -b windows_font https://github.com/joyanhui/file.leiyanhui.com.git # wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip # wget -c https://ghproxy.com/https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip 4ã€kde è®¾ç½®ä¸­æ–‡ï¼Œåœ¨å¼€å§‹èœå• æœç´¢ lang æ·»åŠ ä¸­æ–‡å³å¯ï¼ˆä¸å»ºè®® è¿˜æ˜¯è‹±æ–‡èˆ’æœã€‚ä¸­æ–‡ç•Œé¢å¾ˆä¸‘ï¼Œè€Œä¸”ä¼šå‡ºç° éƒ¨åˆ†ç•Œé¢ä¸­è‹±æ··çš„æƒ…å†µï¼‰\n5ã€å®‰è£…ç™¾åº¦ æœç‹— ç­‰ä¸­æ–‡ è¾“å…¥æ³• archlinux å®‰è£…æœç‹— ç™¾åº¦ è¾“å…¥æ³• - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/archlinux-cn-font-input/","title":"archlinuxå®‰è£…ä¸­æ–‡å­—ä½“ï¼Œå¾®è½¯å­—ä½“å’Œæœç‹—æ‹¼éŸ³ ç™¾åº¦è¾“å…¥æ³•"},{"content":"archlinxä¸‹å¼€å¯xrdpæ²¡æœ‰å£°éŸ³çš„é—®é¢˜ æˆ‘çš„æ˜¯unraidä¸‹ç”¨kvmè¿è¡Œçš„archlinux\né¦–é€‰éœ€è¦å®‰è£… pulseaudio ä¸ pulseaudio-module-xrdp æ¨¡å—ã€‚\n1 2 3 4 5 6 yay -S xrdp sudo pacman -S xorgxrdp #å°† allowed_users=anybody æ·»åŠ åˆ° /etc/X11/Xwrapper.config ä»¥å…è®¸ä»»ä½•äººå¯åŠ¨ X æœåŠ¡å™¨ã€‚ sudo nano /etc/X11/Xwrapper.config sudo pacman -S pulseaudio yay -S pulseaudio-module-xrdp é‡å¯xrdp\n1 sudo systemctl restart xrdp å¦‚æœæ²¡æœ‰å£°éŸ³æˆ–è€…å£°éŸ³è®¾å¤‡\n1 2 #å°è¯•æ³¨é‡Šæ‰ /etc/pam.d/system-auth ä¸­å¯¹ systemd-home çš„æ‰€æœ‰å¼•ç”¨ã€‚ sudo nano /etc/pam.d/system-auth æˆ‘çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 [yanhui@archlinux ~]$ cat /etc/pam.d/system-auth #%PAM-1.0 auth required pam_faillock.so preauth # Optionally use requisite above if you do not want to prompt for the password # on locked accounts. -auth [success=2 default=ignore] #pam_systemd_home.so auth [success=1 default=bad] pam_unix.so try_first_pass nullok auth [default=die] pam_faillock.so authfail auth optional pam_permit.so auth required pam_env.so auth required pam_faillock.so authsucc # If you drop the above call to pam_faillock.so the lock will be done also # on non-consecutive authentication failures. -account [success=1 default=ignore] #pam_systemd_home.so account required pam_unix.so account optional pam_permit.so account required pam_time.so -password [success=1 default=ignore] #pam_systemd_home.so password required pam_unix.so try_first_pass nullok shadow sha512 password optional pam_permit.so -session optional #pam_systemd_home.so session required pam_limits.so session required pam_unix.so session optional pam_permit.so sudo systemctl restart xrdp é‡å¯xrdpå å¦‚æœä¸è¡Œï¼Œå¦‚æœæ‰‹åŠ¨è¿è¡Œ pulseaudio åæœ‰å£°éŸ³ è¿˜ä¸€ä¸ªæ–¹æ³•\nå°±æ˜¯åœ¨ ~/.xinitrc æ·»åŠ \n1 2 nano ~/.xinitrc pulseaudio \u0026amp; ä¸¤ä¸ªæ–¹æ³• äºŒé€‰ä¸€ æˆ–è€…éƒ½è¯•è¯•\nå®˜æ–¹wifiè¯´æ˜\n1 2 3 4 5 6 7 æ²¡æœ‰å£°éŸ³ è¿™å¯èƒ½æ˜¯ loginctl é—®é¢˜çš„å¾å…†ï¼Œå› æ­¤è¯·å°è¯•ä»¥ ä»¥ä¸Šå†…å®¹ä¿®å¤ã€‚ç³»ç»Ÿjournalå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š Failed to load module \u0026#34;module-x11-publish\u0026#34; (argument: \u0026#34;display=:10.0 xauthority=\u0026#34;): initialization failed. è¿™æ˜¯ systemd ä¸æ­£ç¡®åœ°å¯åŠ¨ PulseAudio çš„ç»“æœã€‚ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ä¸ºæ‚¨è‡ªå·±çš„ç”¨æˆ·æˆ–æ‰€æœ‰ç”¨æˆ· ç¦ç”¨ user unit æ–‡ä»¶ pulseaudio.service å’Œ pulseaudio.socketï¼Œç„¶åå¯åŠ¨ PulseAudioéœ€è¦æ—¶é€šè¿‡åœ¨ /etc/pulse/client.conf ä¸­å°† autospawn è®¾ç½®ä¸º yesã€‚ å¦‚æœä»ç„¶æ²¡æœ‰å£°éŸ³ï¼Œè¯·å°è¯•ä½¿ç”¨ ~/.xinitrc ä¸­çš„ pulseaudio \u0026amp; æ‰‹åŠ¨å¯åŠ¨ PulseAudioã€‚ æˆ‘çš„~/.xinitrc\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 [yanhui@archlinux system]$ cat ~/.xinitrc #!/bin/sh userresources=$HOME/.Xresources usermodmap=$HOME/.Xmodmap sysresources=/etc/X11/xinit/.Xresources sysmodmap=/etc/X11/xinit/.Xmodmap # merge in defaults and keymaps if [ -f $sysresources ]; then xrdb -merge $sysresources fi if [ -f $sysmodmap ]; then xmodmap $sysmodmap fi if [ -f \u0026#34;$userresources\u0026#34; ]; then xrdb -merge \u0026#34;$userresources\u0026#34; fi if [ -f \u0026#34;$usermodmap\u0026#34; ]; then xmodmap \u0026#34;$usermodmap\u0026#34; fi # start some nice programs if [ -d /etc/X11/xinit/xinitrc.d ] ; then for f in /etc/X11/xinit/xinitrc.d/?*.sh ; do [ -x \u0026#34;$f\u0026#34; ] \u0026amp;\u0026amp; . \u0026#34;$f\u0026#34; done unset f fi #twm \u0026amp; #xclock -geometry 50x50-1+1 \u0026amp; #xterm -geometry 80x50+494+51 \u0026amp; #xterm -geometry 80x20+494-0 \u0026amp; #exec xterm -geometry 80x66+0+0 -name login pulseaudio \u0026amp; export DESKTOP_SESSION=plasma /usr/lib/plasma-dbus-run-session-if-needed startplasma-x11 ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/archlinux-xrdp-audio/","title":"archlinxä¸‹å¼€å¯xrdpæ²¡æœ‰å£°éŸ³çš„é—®é¢˜"},{"content":"archå®‰è£…yayæœ€ç®€å•çš„åŠæ³• ç½‘ä¸Šçš„å¤šä¸é è°±ï¼Œç›®å‰2022/9/30 æœ€æ–°çš„å®‰è£…æ–¹æ³•ï¼š\næ–°è£…çš„arch\nä½¿ç”¨æ–¹æ³•ï¼šåœ¨ /etc/pacman.conf æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š\n1 2 3 4 5 6 7 #sudo nano /etc/pacman.conf [archlinuxcn] Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch #å…¶ä»–çš„ å’Œmirrorlistä¸åŒarchlinuxcn åªèƒ½é€‰ä¸€ä¸ª ## Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch ## Server = https://mirrors.aliyun.com/archlinuxcn/$arch ä¹‹åå®‰è£… archlinuxcn-keyring åŒ…å¯¼å…¥ GPG keyã€‚\n1 2 3 4 sudo pacman -Sy #æ›´æ–°ä¸€ä¸‹ sudo pacman -S archlinuxcn-keyring #å¯èƒ½éœ€è¦ sudo pacman-key --init å®‰è£…\n1 sudo pacman -S yay archçš„æº ç»å¸¸å‡ºç°ä¸ç¨³å®šçš„æƒ…å†µï¼Œå¯¼è‡´è½¯ä»¶å®‰è£…å¤±è´¥ã€‚\n1 sudo nano /etc/pacman.d/mirrorlist æŠŠæµ‹è¯•ç¨³å®šçš„æº æŒªåˆ°å‰é¢\né˜¿é‡Œäº‘ æœ€è¿‘æŠ½é£ï¼Œæ…ç”¨\nå¦å¤– ä¸´æ—¶æŒ‚ä¸€ä¸‹ä»£ç† ä¹Ÿå¯ä»¥ https://dev.leiyanhui.com/c/linux-shell-proxy/\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/archlinux-install-yay/","title":"archå®‰è£…yayæœ€ç®€å•çš„åŠæ³•"},{"content":"archè‡ªåŠ¨å®‰è£…è„šæœ¬archintsallæ‰«æé•œåƒç¼“æ…¢çš„è§£å†³æ–¹æ³• #archè‡ªåŠ¨å®‰è£…è„šæœ¬archintsallæ‰«æé•œåƒç¼“æ…¢çš„è§£å†³æ–¹æ³•\nvim /etc/pacman.d/mirrorlist è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ç»å¸¸å˜åŒ–ï¼Œç”šè‡³åŒä¸€ä¸ªé•œåƒåŒä¸€ä¸ªæ—¶é—´æ®µ å†…å®¹éƒ½ä¸ä¸€æ · å¦‚æœé‡Œé¢å­˜åœ¨å¤§é‡çš„é•œåƒåœ°å€ï¼Œé‚£ä¹ˆæ‰¾åˆ°ä¸­å›½ç›¸å…³çš„ ç”¨vimçš„ æŒ‡ä»¤ dG åˆ é™¤å…‰æ ‡åé¢çš„ dgg åˆ é™¤å‰é¢çš„ï¼Œä¿ç•™1-2ä¸ªä¸­å›½çš„é•œåƒå³å¯ å¦‚æœæ²¡æœ‰ä¸­å›½çš„é•œåƒå°± ggdG åˆ é™¤æ‰€æœ‰å†…å®¹ æ·»åŠ ä¸€è¡Œ ä¸€è¡Œå°±å¥½äº†\n1 2 3 4 5 6 7 8 9 10 11 12 Server = http://mirrors.163.com/archlinux/$repo/os/$arch Server = https://mirrors.dgut.edu.cn/archlinux/$repo/os/$arch Server = https://mirrors.nju.edu.cn/archlinux/$repo/os/$arch Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch Server = http://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch Server = http://mirrors.nju.edu.cn/archlinux/$repo/os/$arch Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch Server = https://mirrors.sjtug.sjtu.edu.cn/archlinux/$repo/os/$arch Server = http://mirrors.dgut.edu.cn/archlinux/$repo/os/$arch Server = rsync://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch å…¶ä»–æŒ‰ç…§å‘å¯¼æ“ä½œå³å¯ æœ€ç»ˆå®‰è£…å®Œæˆå¤§æ¦‚æœ‰2Gå¤šä¸€äº› pacman -S nano nano /etc/ssh/sshd_config æ‰¾åˆ° PermitRootLogin å»æ‰æ³¨é‡Šä¿®æ”¹ä¸º yes PermitRootLogin yes é‡å¯sshd systemctl enable sshd.service systemctl restart sshd.service\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/arch-install-mirrorlist/","title":"archè‡ªåŠ¨å®‰è£…è„šæœ¬archintsallæ‰«æé•œåƒç¼“æ…¢çš„è§£å†³æ–¹æ³•"},{"content":"centos7å®‰è£…æœ€æ–°ç‰ˆgit è‡ªå¸¦çš„ç‰ˆæœ¬\n1 2 [root@0ef053b03825 ~]# git --version git version 1.8.3.1 å¤ªæ—§äº†ï¼Œæœ‰æ—¶å€™ä¼šæœ‰ä¸€äº›å°é—®é¢˜\nç›®å‰æœ€æ–°ç‰ˆæ˜¯ edge-git-2.9.5 æˆ–è€… git-scm2.38.0 ï¼ˆ2022-10-04ï¼‰\n1 2 3 https://mirrors.edge.kernel.org/pub/software/scm/git/ æˆ–è€… https://github.com/git/git/releases/tag/v2.38.0 æˆ‘è¿™é‡Œç”¨ mirrors.edge.kernel.orgçš„ï¼’.ï¼™.ï¼•ç‰ˆæœ¬ å› ä¸º2.38æœ‰ä¸€ä¸ªä¾èµ–è¿˜åœ¨æµ‹è¯•ç‰ˆçš„ï½ƒï¼™ï¼™çš„é—®é¢˜å¤„ç†èµ·æ¥éº»çƒ¦\n1 2 #å®‰è£…ç¼–è¯‘å’Œè¿è¡Œæ–°ç‰ˆgitçš„ä¾èµ– yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel asciidoc gcc perl-ExtUtils-MakeMaker 1 2 3 4 5 6 7 8 9 10 yum remove git #å¸è½½è‡ªå¸¦çš„git cd /usr/local/src/ wget -c https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz tar -zxvf git-* cd git-* make prefix=/opt/git all make prefix=/opt/git install echo \u0026#34;export PATH=$PATH:/opt/git/bin\u0026#34; \u0026gt;\u0026gt; /etc/profileã€€#å¦‚æœè¿˜æœ‰å…¶ä»–è‡ªå®šä¹‰ï½ï½ï½”ï½ˆï¼Œæœ€å¥½æ˜¯è‡ªå·±ä¿®æ”¹ä¸€ä¸‹ã€€/etc/profile source /etc/profileã€€æ›´æ–° git \u0026ndash;versionã€€æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/centos7-install-new-git/","title":"centos7å®‰è£…æœ€æ–°ç‰ˆgit"},{"content":"centosä¸‹å®‰è£…goæœ€æ–°ç‰ˆæœ¬ yum install golang çš„ç‰ˆæœ¬ æ˜¯ 1.17ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆæ˜¯ 1.19.1\nä¸‹è½½ https://golang.google.cn/dl/\n1 2 3 4 5 6 wget -c https://golang.google.cn/dl/go1.19.1.linux-amd64.tar.gz tar -zxf go1.19.1.linux-amd64.tar.gz -C /opt/ ls /opt/ mkdir /opt/gopath ç¯å¢ƒå˜é‡\n1 nano /etc/profile åœ¨æœ€åæ·»åŠ \n1 2 3 4 export GO111MODULE=on export GOROOT=/opt/go export GOPATH=/opt/gopath export PATH=$PATH:$GOROOT/bin:$GOPATH/bin æ›´æ–°ç”Ÿæ•ˆ è®¾ç½®ä»£ç†\n1 2 3 4 source /etc/profile go version go version go1.19.1 linux/amd64 [root@0ef053b03825 opt]# go env -w GOPROXY=https://goproxy.cn,direct å…³äºgoçš„ä»£ç†\næ…é€‰æ‹© é˜¿é‡Œçš„ï¼Œå¾ˆå¤š404ä¸è¯´ï¼Œç«å‚çš„sdk é˜¿é‡Œæ˜¯ä¸ä¼šè®©ä½ ä¸‹è½½çš„ã€‚çœŸæ„Ÿè§‰å¥½ç”¨ï¼Œç”¨é€—å·åˆ†å‰²å°±å¥½\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/centos-go/","title":"centosä¸‹å®‰è£…goæœ€æ–°ç‰ˆæœ¬"},{"content":"cnameå’Œmxè®°å½•å†²çªçš„è§£å†³æ–¹æ³• çœ‹äº†å¾ˆå¤šèµ„æ–™ ç›®å‰æœ€é è°±çš„è§£å†³æ–¹æ³• æ¯”å¦‚ leiyanhui.com åŸŸåæ‰˜ç®¡åœ¨ dnspod leiyanhui.com mxè®°å½•åˆ°è…¾è®¯ä¼ä¸šé‚®ç®± leiyanhui.com urlè½¬å‘åˆ° www.leiyanhui.com ä¼šè‡ªåŠ¨Aè®°åˆ°è…¾è®¯çš„urlè½¬å‘æœåŠ¡å™¨ å¦‚æœdnsåœ¨cloudflareé‚£å°±ç®€å•ï¼Œç›´æ¥åšcname å°±å¯ä»¥ï¼Œcloudflareä¼šè‡ªåŠ¨æ‹‰å¹³æˆAè®°å½• å¦å¤–ä¸€ä¸ªè§£å†³æ–¹æ³• å°±æ˜¯ åŸŸå ä½¿ç”¨ user@mail.leiyanhui.com è¿™æ ·çš„æ–¹å¼ ä¹Ÿå¯ä»¥é¿å…å†²çª ç½‘ä¸Šè¯´æ˜¯é‚£äº›ALIAS è®°å½• ç›®å‰ å¤šæ•°dnsä¸æ”¯æŒ ä¸å¤ªé è°±\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/108/","title":"cnameå’Œmxè®°å½•å†²çªçš„è§£å†³æ–¹æ³•"},{"content":"deepinä¸‹ç”¨VirtualBoxå®‰è£…macos Monterey 12 /bigsur 11 VMwareä¸‹å®‰è£…macosåº”è¯¥éƒ½ä¼šäº†ï¼Œå°±æ˜¯ç”¨è§£é™¤é™åˆ¶çš„å·¥å…· è®©VMwareæ”¯æŒmacoså³å¯ã€‚ ä½†æ˜¯Linuxä¸‹VMwareçš„æŒºéš¾ç”¨ï¼Œä¸æ”¯æŒæ— ç¼æ¨¡å¼ è¦ä¹ˆå…¨å± è¦ä¹ˆä¸€å †å·¥å…·åœ¨å“ªé‡Œã€‚ VirtualBoxä¸‹å°±å¥½å¾ˆå¤šï¼Œvboxåœ¨6.1.30ç‰ˆæœ¬çš„æ—¶å€™ è¯´åªæ”¯æŒäº†macos 11 å’Œ12 äºæ˜¯å°è¯•ä¸€ä¸‹ã€‚ https://www.virtualbox.org/wiki/Changelog (bug #20636) å®‰è£…å¥½VirtualBoxä¹‹åï¼Œä¸€å®šè®°å¾—è¦å†ä¸‹è½½ VirtualBox 6.1.34 Oracle VM VirtualBox Extension Pack è¿™ä¸ªä¸‹è½½å ç›´æ¥åŒå‡»deepinä¸‹çš„ vboxä¼šè¯†åˆ«åˆ° ï¼Œå…¶ä»–å‘è¡Œç‰ˆè‡ªå·±çœ‹çœ‹æ€ä¹ˆå¯¼å…¥ æ–°å»ºè™šæ‹Ÿæœº MacOS è·¯å¾„ /media/YanHui/Data/VirtualBox/MacOS ç³»ç»Ÿé€‰æ‹© macos 64 å†…å­˜8G æœ€å°4Gå§ ç¡¬ç›˜ åŠ¨æ€vdi ç»™åˆ°50G è¿™ä¸ªå¥½åƒå¿…é¡»ç”¨å›ºå®šå¤§å°çš„ï¼Œç”¨åŠ¨æ€çš„ä¼šåœ¨å€’è®¡æ—¶15åˆ†å·¦å³çš„æ—¶å€™ è‡ªåŠ¨é‡å¯ CPUç»™2ä¸ªï¼Œè¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯å¿…é¡»2æ ¸ï¼Œä¸ç„¶æ— æ³•è¿›å»å®‰è£…ç•Œé¢ æ˜¾ç¤º æ˜¾å­˜ç»™ 128M USBå¿˜è®°ç”¨ä»€ä¹ˆäº† ç»™2.0å§ ç½‘ç»œé“¾æ¥å…ˆå»æ‰ å…‰ç›˜éšä¾¿é€‰ä¸€ä¸ª macosé•œåƒï¼Œæˆ‘è¿™é‡Œ é€‰æ‹© macOS.Big.Sur.11.6.5.20G527 æˆ‘è¯•è¿‡ https://sysin.org/blog/macOS-Monterey/ è¿™ä¸ªInstall_macOS_Monterey_12.4_21F79.iso éœ€è¦å†å¯åŠ¨çš„æ—¶å€™ è‡ªè¡Œæ‰¾ä¸€ä¸‹ efiï¼Œåç»­ ä¹Ÿéå¸¸å¡ã€‚ä»ä¸€æ™šä¸Šæ²¡ç®¡ ä¹Ÿæ²¡è£…å¥½ï¼Œæ‰€ä»¥æ”¾å¼ƒ ç‚¹è®¾ç½®ï¼Œå¯åŠ¨é¡ºåºå»æ‰è½¯é©± å…³é—­VirtualBox ç»ˆç«¯å‘½ä»¤\n1 VBoxManage modifyvm \u0026#34;MacOS\u0026#34; --cpuidset 00000001 000106e5 00100800 0098e3fd bfebfbff VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal/Devices/efi/0/Config/DmiSystemProduct\u0026#34; \u0026#34;iMac19,1\u0026#34; VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal/Devices/efi/0/Config/DmiSystemVersion\u0026#34; \u0026#34;1.0\u0026#34; VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal/Devices/efi/0/Config/DmiBoardProduct\u0026#34; \u0026#34;Mac-AA95B1DDAB278B95\u0026#34; VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal/Devices/smc/0/Config/DeviceKey\u0026#34; \u0026#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc\u0026#34; VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal/Devices/smc/0/Config/GetKeyFromRealSMC\u0026#34; 1 VBoxManage setextradata \u0026#34;MacOS\u0026#34; \u0026#34;VBoxInternal2/EfiGraphicsResolution\u0026#34; \u0026#34;1440x900\u0026#34; å¼€VirtualBoxï¼Œè¿è¡Œè™šæ‹Ÿæœº,å¯åŠ¨å å¦‚æœæ²¡æœ‰å‡ºç°è‹¹æœå¯åŠ¨ç”»é¢ é‚£ä¹ˆ ä¼šå‡ºç°efi shell çš„å‘½ä»¤è¡Œï¼Œè¾“å…¥ exité€€å‡º ç„¶ååœ¨ ä¸€ä¸ªç±»ä¼¼biosçš„ç•Œé¢ é€‰æ‹© Boot Maintenance Manager â†’ Boot From File ç„¶åé€‰æ‹© ç¬¬ä¸€ä¸ª HFS+è¿™ä¸ª è¿™ä¸ªä¸è¦é€‰é”™äº† ç„¶åå†æ‰¾ åˆ° è¿™å‡ ä¸ªç›®å½• ä¾æ¬¡é€‰\n1 \u0026lt;System\u0026gt;â†’\u0026lt;Library\u0026gt;â†’\u0026lt;CoreServices\u0026gt;â†’boot.efi ç„¶åè€å¿ƒç­‰å¾…å­—ç¬¦æ»šåŠ¨ï¼Œåé¢çš„æ“ä½œ å’Œ æ­£å¸¸å®‰è£…macosä¸€æ · åŒæ ¸ è¶…æ…¢è¶…æ…¢ï¼Œè€å¿ƒç­‰å¾… è¿‡ä¸€ä¼šå°±è¿›æ¥äº† å…ˆç”¨ç£ç›˜å·¥å…·æŠ¹æ‰ voxè¿™ä¸ªç£ç›˜ å‰©ä¸‹è¿‡ç¨‹ä¸ç”¨å†è¯´äº† æˆ‘ä¹‹å‰å†VMwareä¸‹é‡åˆ°çš„ä¸€ä¸ªå¤§å‘ å°±æ˜¯ å¤§æ¦‚å€’è®¡æ—¶15åˆ†é’Ÿçš„æ—¶å€™ å¡æ­» ç”šè‡³äº”å›½ï¼Œæœ€åå‘ç° æ˜¯å› ä¸ºæˆ‘æŠŠè™šæ‹Ÿæœºæ–‡ä»¶æ”¾åˆ°äº†ntfsåˆ†åŒºã€‚ ä¸€å®šè®°å¾—Linuxä¸‹çš„ntfsè¿˜æ˜¯æŒºå‘çš„ å®‰è£…å®Œæˆåè‡ªåŠ¨é‡å¯\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/26/","title":"deepinä¸‹ç”¨VirtualBoxå®‰è£…macos Monterey 12 /bigsur 11"},{"content":"dockerè¿è¡Œå®å¡”çš„å‡ ä¸ªé—®é¢˜ï¼šå¼€å¯ä¸è‡ªå¯åŠ¨ï¼Œè®¡åˆ’ä»»åŠ¡æ— æ³•è¿è¡Œç­‰ å‰è¨€ æˆ‘å®å¡”è¿è¡Œåœ¨ unraid+kvm \u0026gt; alpine+dockeré‡Œé¢ ä¸ºä»€ä¹ˆä¸ç›´æ¥ unraid+docker æ˜¯å› ä¸º æˆ‘å¯¹æ€§èƒ½çš„æŸè€—ä¸æ€ä¹ˆåœ¨æ„ï¼Œç‰©ç†æœºæ€§èƒ½å—·å—·çš„ è™šæ‹Ÿæœºçš„éš”ç¦» è¿˜æœ‰æ•´æœºå¤‡ä»½æ›´åŠ æ–¹ä¾¿ã€‚ ä¸ºä»€ä¹ˆéè¦ç”¨dockerè·‘å®å¡”ï¼Ÿå› ä¸ºdockeré…åˆé˜¿é‡Œäº‘å…è´¹ç§æœ‰åº“ æ•´æœºå¤‡ä»½å’Œè¿ç§»ä¹Ÿæ–¹ä¾¿ã€‚ æˆ‘å¯ä»¥docker stop baotaä¹‹å ç”¨exportå’Œimportå¤‡ä»½æ•´ä¸ªå®¹å™¨åˆ°æ–°é•œåƒï¼Œç„¶åpushåˆ°é˜¿é‡Œäº‘ç§æœ‰åº“ä¸Šã€‚åœ¨å…¶ä»–æœºå™¨ä¸Šç›´æ¥è¿è¡Œã€‚è€Œä¸éœ€è¦é‡å¤ç¯å¢ƒã€‚ alpine ä½œä¸ºä¸€ä¸ªå®‰è£…åä¹‹å ç”¨å‡ åmç¡¬ç›˜çš„Linuxç³»ç»Ÿéå¸¸é€‚åˆä½•ç§è™šæ‹Ÿæœºè¿è¡Œï¼Œè€Œä¸”å®˜ç½‘æœ‰æä¾›é€‚åˆè™šæ‹Ÿæœºçš„iso\ndockerè¿è¡Œå®å¡”çš„å‡ ä¸ªé—®é¢˜ ä¸»è¦æ˜¯ç‰©ç†æœºå¼€æœºå¯åŠ¨åï¼Œå®å¡”ä¸èƒ½è‡ªåŠ¨è¿è¡Œ ã€‚è¿™é‡Œä»¥alpine+docker+centos7+å®å¡” ä¸ºä¾‹ åœ¨/www/wwwrootæ–°å»ºæ–‡ä»¶ bt.sh ç»™è¿è¡Œæƒé™ ä»£ç å¦‚ä¸‹/etc/init.d/bt start /etc/init.d/redis start /etc/init.d/php-fpm-74 start /etc/init.d/mongodb start /etc/init.d/mysqld start /etc/init.d/nginx start crond /etc/init.d/mysqld start #å†å¯åŠ¨ä¸€æ¬¡ï¼Œæœ‰æ—¶å€™ ä¸€æ¬¡å¯åŠ¨ä¸èµ·æ¥ å…¶ä»–ç‰ˆæœ¬ å’Œå®å¡”ç¯å¢ƒå¯ä»¥ls /etc/init.d/ æ‰§è¡Œæƒé™ docker exec -it baota chmod +x /www/wwwroot/bt.sh ç„¶åæŠŠè¿™ä¸ª /www/wwwroot/bt.sh è¿™ä¸ªè„šæœ¬æ·»åŠ åˆ°å®¿ä¸»æœºçš„å¼€æœºå¯åŠ¨å¯åŠ¨é‡Œé¢ï¼ˆWindows ä¹Ÿå¯ä»¥ï¼‰ ä»¥alpine3.6.1ä¸ºä¾‹,åœ¨å®¿ä¸»æœº æ–°å»ºä¸€ä¸ªlocalå¯åŠ¨æœåŠ¡è„šæœ¬ è¿è¡Œåˆšåˆšæ–°å»ºçš„bt.sh å¿…é¡»ä»¥startä½œä¸ºåç¼€ vi /etc/local.d/bt.start docker exec -it baota sh /www/wwwroot/bt.sh æ‰§è¡Œæƒé™ chmod +x /etc/local.d/bt.start æ›´æ–°å’Œæ·»åŠ localå¯åŠ¨é¡¹ rc-update add local é‡å¯æœºå™¨æµ‹è¯•ï¼Œå‘ç°éƒ½å¯ä»¥æ­£å¸¸å¯åŠ¨äº† crond è¿™ä¸ª æ˜¯è§£å†³å®å¡”çš„è®¡åˆ’ä»»åŠ¡ä¸èƒ½è‡ªåŠ¨æ‰§è¡Œçš„\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/docker-baota-cn/","title":"dockerè¿è¡Œå®å¡”çš„å‡ ä¸ªé—®é¢˜ï¼šå¼€å¯ä¸è‡ªå¯åŠ¨ï¼Œè®¡åˆ’ä»»åŠ¡æ— æ³•è¿è¡Œç­‰"},{"content":"golang å¸¸ç”¨æ•°æ®ç±»å‹è½¬åŒ–ï¼Œå­—ç¬¦ä¸²ï¼Œå­—èŠ‚ï¼Œintï¼Œfloatï¼Œmap[string]interface{}ï¼Œjsonï¼ŒsqlæŸ¥è¯¢ç»“æœ å…¶ä»–ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸² å¯ä»¥ä½¿ç”¨strconvåŒ…çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨fmtï¼Œå¦‚æœæ•°æ®æœ¬èº«æ˜¯interfaceçš„è¯å°±åªèƒ½ç”¨fmt\n1 2 3 4 5 6 7 8 9 10 11 **interface stringè½¬åŒ–stringï¼š** fmt.Sprintf(\u0026#34;%s\u0026#34;, v) **intè½¬åŒ–stringï¼š** fmt.Sprintf(\u0026#34;%d\u0026#34;, v) æˆ– string := strconv.Itoa(int) string := strconv.FormatInt(int64,10) **case float64:** var km = 9900.10 strKm := strconv.FormatFloat(km, \u0026#39;f\u0026#39;, 1, 64) æˆ– fmt.Sprintf(\u0026#34;%f\u0026#34;, v) **case byte:** string(v) 32 byteè½¬å­—ç¬¦ä¸² 1 2 3 passwordSHA := sha256.Sum256([]byte(new_password)) password_hash := hex.EncodeToString(passwordSHA[:]) fmt.Println(password_hash) å­—ç¬¦ä¸²è½¬byte byteè½¬å­—ç¬¦ä¸²\n1 2 3 s1 := \u0026#34;hello\u0026#34; b := []byte(s1) C:=string(b) å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå…¶ä»–ç±»å‹\n1 2 int64, err := strconv.ParseInt(string, 10, 64) int, err := strconv.Atoi(string) å­—ç¬¦ä¸²è½¬åŒ–float64 float32\n1 2 3 float,err := strconv.ParseFloat(string,64) float,err := strconv.ParseFloat(string,32) #ParseFloat åªèƒ½è¿”å›float64ï¼ŒæŒ‡å®šäº†32 ä¹Ÿä¼šè¿”å›float64éè¦ç”¨32 éœ€è¦å†æ¬¡è½¬åŒ– float64è½¬åŒ–int\n1 2 3 4 5 var x float64 = 5.7 var y int = int(x) var i float32 = 10.1 var n int32 = int32(i) intè½¬åŒ–float\n1 2 v1 := 99 v2 := float64(v2). intå’Œint64äº’è½¬\n1 2 int64_ := int64(1234) int64è½¬int å…ˆè½¬å­—ç¬¦ä¸² å†è½¬int timeè½¬int\n1 2 3 timestamp := time.Now().Unix() fmt.Println(timestamp) fmt.Sprintf(\u0026#34;%d\u0026#34;, v) map[string]interface{} çš„ä¸€ä¸ªæ•°å­—è½¬åŒ–ä¸ºint éœ€è¦ä¸‰æ­¥\n1 2 3 4 5 user_id_string := fmt.Sprintf(\u0026#34;%f\u0026#34;, json_row_map[0][\u0026#34;user_id\u0026#34;]) user_id_float64, _ := strconv.ParseFloat(user_id_string , 64) user_id_int := int(user_id_float64) å¦‚æœè¦æ‹¼æ¥åˆ°sql è¿˜éœ€è¦å†è½¬åˆ°string user_id_sql_string:=strconv.Itoa(user_id_int) json å’Œ mapäº’è½¬\nmapè½¬åŒ–jsonå­—ç¬¦ä¸²\n1 2 3 4 5 func MapToJson(param map[string]interface{}) string { dataType, _ := json.Marshal(param) dataString := string(dataType) return dataString } json å­—ç¬¦ä¸² è½¬åŒ–ä¸ºmap\nä½¿ç”¨encoding/jsonåº“ï¼Œæ€§èƒ½æ¯”github.com/buger/jsonparser è¦å·®ä¸€äº› jsonparser ä¸çŸ¥æ€ä¹ˆè½¬æ¢\nä¸å¸¦æ•°ç»„æ ¼å¼çš„jsonè½¬map\n1 2 3 4 5 6 7 8 func JsonToMap(str string) map[string]interface{} { var tempMap map[string]interface{} err := json.Unmarshal([]byte(str), \u0026amp;tempMap) if err != nil { fmt.Println(err) } return tempMap } æ•°ç»„æ ¼å¼çš„jsonè½¬map\n1 2 3 4 5 6 7 8 func JsonArrToMap(str string) []map[string]interface{} { tempMap := make([]map[string]interface{}, 0) err := json.Unmarshal([]byte(str), \u0026amp;tempMap) if err != nil { fmt.Println(err) } return tempMap } SqlæŸ¥è¯¢ç»“æœè½¬jsonå­—ç¬¦ä¸²\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 //db_r æ˜¯å…¨å±€å˜é‡ var db_r *sql.DB func sql_to_json(sqlString string) (string, error) { stmt, err := db_r.Prepare(sqlString) if err != nil { return \u0026#34;\u0026#34;, err } defer stmt.Close() rows, err := stmt.Query() if err != nil { return \u0026#34;\u0026#34;, err } defer rows.Close() columns, err := rows.Columns() if err != nil { return \u0026#34;\u0026#34;, err } count := len(columns) tableData := make([]map[string]interface{}, 0) values := make([]interface{}, count) valuePtrs := make([]interface{}, count) for rows.Next() { for i := 0; i \u0026lt; count; i++ { valuePtrs[i] = \u0026amp;values[i] } rows.Scan(valuePtrs...) entry := make(map[string]interface{}) for i, col := range columns { var v interface{} val := values[i] b, ok := val.([]byte) if ok { v = string(b) } else { v = val } entry[col] = v } tableData = append(tableData, entry) } jsonData, err := json.Marshal(tableData) if err != nil { return \u0026#34;\u0026#34;, err } //fmt.Println(string(jsonData)) return string(jsonData), nil } ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/golang-string-byte-int-float-map-json/","title":"golang å¸¸ç”¨æ•°æ®ç±»å‹è½¬åŒ–ï¼Œå­—ç¬¦ä¸²ï¼Œå­—èŠ‚ï¼Œintï¼Œfloatï¼Œmap\\[string]interface{}ï¼Œjsonï¼ŒsqlæŸ¥è¯¢ç»“æœ"},{"content":"hyper-v å¼€å¯è™šæ‹ŸåŒ–åµŒå¥—ï¼Œå¥—å¨ƒpve ä¸ºäº†è™šæ‹ŸåŒ–é»‘è‹¹æœ å› ä¸ºæœ€ç»ˆä¸€äº›åŸå› ï¼Œèˆå¼ƒäº†é»‘macos åšä¸»åŠ›ç³»ç»Ÿï¼ˆè¿œç¨‹å¾ˆå¡https://dev.leiyanhui.com/c/94ï¼‰ åˆ‡æ¢åˆ°winä¸‹ï¼Œæœ‰å› ä¸ºä½¿ç”¨äº†docker éœ€è¦æ‰“å¼€wslå’Œhyper-vï¼Œè€Œè¿™æ—¶å€™ vmwareçš„æ˜¾å¡æ€§èƒ½ä¼šå¤§å¹…åº¦ä¸‹æ»‘ï¼Œæ‰€ä»¥å°è¯• å¥—å¨ƒè™šæ‹Ÿæœºè·‘macos ç»ˆç«¯è¿è¡Œ æŸ¥çœ‹åˆ—è¡¨ Get-VM æŸ¥çœ‹é…ç½® ExposeVirtualizationExtensions é»˜è®¤æ˜¯false Get-VMProcessor -VMName PVE | fl æ‰“å¼€è™šæ‹ŸåŒ–å¥—å¨ƒ Set-VMProcessor -ExposeVirtualizationExtensions $true -VMName PVE æŸ¥çœ‹é…ç½® ExposeVirtualizationExtensions é»˜è®¤æ˜¯åº”è¯¥å˜æˆ true Get-VMProcessor -VMName PVE | fl å®Œæ¯• æ­£å¸¸å®‰è£…pve æœ€åï¼Œè¿ç§»åˆ°unraid ä¸Šäº†\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/99/","title":"hyper-v å¼€å¯è™šæ‹ŸåŒ–åµŒå¥—ï¼Œå¥—å¨ƒpve ä¸ºäº†è™šæ‹ŸåŒ–é»‘è‹¹æœ"},{"content":"hyper-v è™šæ‹Ÿæœºä¸»æœºæ·»åŠ æ˜¾å¡ï¼ˆåˆ†é…ä¸€éƒ¨åˆ†æ˜¾å¡æ€§èƒ½ç»™ä»–ï¼‰ $vm = \u0026ldquo;Win11dev\u0026rdquo; æˆ–è€… $vm = \u0026ldquo;PVE\u0026rdquo; å¼•å·é‡Œé¢æ˜¯è™šæ‹Ÿæœºåç§°\nAdd-VMGpuPartitionAdapter -VMName $vm Set-VMGpuPartitionAdapter -VMName $vm -MinPartitionVRAM 80000000 -MaxPartitionVRAM 100000000 -OptimalPartitionVRAM 100000000 -MinPartitionEncode 80000000 -MaxPartitionEncode 100000000 -OptimalPartitionEncode 100000000 -MinPartitionDecode 80000000 -MaxPartitionDecode 100000000 -OptimalPartitionDecode 100000000 -MinPartitionCompute 80000000 -MaxPartitionCompute 100000000 -OptimalPartitionCompute 100000000 Set-VM -GuestControlledCacheTypes $true -VMName $vm Set-VM -LowMemoryMappedIoSpace 1Gb -VMName $vm Set-VM -HighMemoryMappedIoSpace 32GB -VMName $vm è™šæ‹Ÿæœºå¼€æœºï¼Œ\nä»ä¸»æœºä¸Šå¤åˆ¶C:\\Windows\\System32\\DriverStore\\FileRepositoryç›®å½•åˆ°è™šæ‹ŸæœºC:\\Windows\\System32\\HostDriverStore\\ æ­¤æ—¶è™šæ‹Ÿæœºä¸Šçœ‹åˆ°æ˜¯è¿™æ ·çš„ç›®å½•ç»“æ„ï¼šC:\\Windows\\System32\\HostDriverStore\\FileRepository å¤‡æ³¨ï¼šHostDriverStoreè¿™ä¸ªç›®å½•è¦è‡ªå·±åˆ›å»ºï¼Œ FileRepositoryé‡Œé¢æœ¬è´¨ä¸Šåªè¦æœ‰ä¸»æœºæ˜¾å¡é©±åŠ¨å°±å¯ä»¥äº†ï¼Œè¿™é‡Œå·æ‡’ç›´æ¥å¤åˆ¶æ•´ä¸ªç›®å½•ï¼ˆæ–‡ä»¶æŒºå¤§ï¼‰ï¼Œå¦‚æœåªæƒ³å¤åˆ¶ä¸»æœºæ˜¾å¡é©±åŠ¨ç›®å½•ï¼Œå¯ä»¥é€šè¿‡è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸»æœºçš„æ˜¾å¡é©±åŠ¨ é©±åŠ¨è¯¦ç»†ä¿¡æ¯ æŸ¥çœ‹æ˜¾å¡çš„é©±åŠ¨ç›®å½• æ¯”å¦‚ æˆ‘çš„æ˜¯ C:\\Windows\\System32\\DriverStore\\FileRepository\\iigd_dch.inf_amd64_518f2921ba495409 ä¹Ÿæœ‰900M å¤åˆ¶åˆ°è™šæ‹Ÿæœºçš„\nC:\\Windows\\System32\\HostDriverStore\\FileRepository\\iigd_dch.inf_amd64_518f2921ba495409 æˆ‘è¿™é‡Œæ˜¯æ ¸æ˜¾ï¼Œå¦‚æœæ˜¯å…¶ä»–ç½‘å¡ å¯èƒ½è¿˜éœ€è¦å‡ ä¸ªdll å…·ä½“ æœç´¢å¼•æ“ é‡å¯è™šæ‹Ÿæœºï¼ŒæŸ¥çœ‹è™šæ‹Ÿæœºè®¾å¤‡ç®¡ç†å™¨æ˜¾å¡ï¼Œè¿è¡ŒdxdiagæŸ¥çœ‹æ˜¾å¡ç‰¹æ€§ æˆåŠŸ\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/98/","title":"hyper-v è™šæ‹Ÿæœºä¸»æœºæ·»åŠ æ˜¾å¡ï¼ˆåˆ†é…ä¸€éƒ¨åˆ†æ˜¾å¡æ€§èƒ½ç»™ä»–ï¼‰"},{"content":"iOSå¼€å‘ç”³è¯·ç»„æ’­å¹¿æ’­æƒé™ iOS14ä»¥åï¼Œä½¿ç”¨ç»„æ’­å¹¿æ’­åŠŸèƒ½éœ€è¦ç”³è¯·æƒé™ã€‚ 1ã€ç”³è¯·åœ°å€ï¼š https://developer.apple.com/contact/request/networking-multicastï¼› 1\nã€ç”³è¯·åœ°å€ 2ã€å¡«å†™ç›¸åº”çš„App Informationï¼Œæäº¤äº†ç­‰å¾…å®¡æ ¸ï¼› appleid app è¿™ä¸ªåœ°æ–¹ åº”è¯¥æ˜¯å¡«å†™ appstoreconnecté‡Œé¢çš„appä¿¡æ¯çš„appid app catagoryå¡«å†™ åˆ†ç±»çš„è‹±æ–‡:tools,live 3ã€ç­‰å¾…å‡ å¤©ï¼ˆæœ‰æ—¶å€™ å‡ å°æ—¶ï¼‰ï¼Œå®¡æ ¸é€šè¿‡äº†ä¼šç»™ä½ å‘é‚®ä»¶ï¼šYour request to use Multicast Networking was approved. You can now add the Multicast Networking entitlement with your Provisioning Profile. 4ã€ç™»å½•å¼€å‘è€…è´¦å·ï¼Œèº«ä»½ç®¡ç†Identifiersç•Œé¢ï¼Œç‚¹å¼€å¯¹åº”çš„appçš„è®¾ç½® åœ¨AppIDçš„é…ç½®ç•Œé¢ï¼Œä¼šå¢åŠ å¯¹åº”æƒé™ï¼šAdditional Capabilitiesä¸­ï¼ŒæŠŠMulticast Networkingç»™å‹¾ä¸Šï¼› 5ã€é‡æ–°ç”ŸæˆProfilesé‡Œå¯¹åº”çš„è¯ä¹¦ï¼›å¼€å‘å’Œå‘å¸ƒçš„è¯ä¹¦éƒ½é‡æ–°ç”Ÿæˆã€‚ å¦‚æœæ˜¯uniappå¼€å‘å°±ç›´æ¥æ·»åŠ å¯¹åº”çš„æ’ä»¶å°±å¥½äº†ã€‚å¦‚æœåŸç”Ÿå¼€å‘ ç»§ç»­ä¸‹ä¸€æ­¥ 6ã€åœ¨å·¥ç¨‹é‡Œé…ç½®.entitlementsæ–‡ä»¶ï¼Œå¢åŠ ä¸€é¡¹ã€‚Keyï¼šcom.apple.developer.networking.multicastã€€typeï¼šbooleanã€€Valueï¼šYES 7ã€åœ¨Info.plistæ–‡ä»¶ä¸­ï¼Œæ·»åŠ æœ¬åœ°ç½‘ç»œä½¿ç”¨æƒé™ï¼šPrivacy - Local Network Usage Description æƒé™é—®é¢˜è§£å†³å®Œæ¯•ï¼Œç»„æ’­å¹¿æ’­åŠŸèƒ½å¯ä»¥æ­£å¸¸å¼€å‘ä½¿ç”¨äº†ã€‚\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/31/","title":"iOSå¼€å‘ç”³è¯·ç»„æ’­å¹¿æ’­æƒé™"},{"content":"Linuxçš„shellå‘½ä»¤è¡Œç­‰ä¸´æ—¶æŒ‚ä»£ç† 1 2 export http_proxy=\u0026#34;ä»£ç†ip:ä»£ç†ç«¯å£\u0026#34; export https_proxy=\u0026#34;ä»£ç†ip:ä»£ç†ç«¯å£\u0026#34; å¯ä»¥åœ¨ ä¸€ä¸ªwindows æˆ–docker ä¸Šè·‘ä¸€ä¸ªå…è®¸lançš„clash å°±å¥½äº†\n1 2 export http_proxy=\u0026#34;10.0.0.200:7890\u0026#34; export https_proxy=\u0026#34;10.0.0.200:7890\u0026#34; my docker clase\n1 2 export http_proxy=\u0026#34;10.0.0.9:7890\u0026#34; export https_proxy=\u0026#34;10.0.0.9:7890\u0026#34; ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/linux-shell-proxy/","title":"Linuxçš„shellå‘½ä»¤è¡Œç­‰ä¸´æ—¶æŒ‚ä»£ç†"},{"content":"mysql å†…å­˜è¡¨æ›¿ä»£redisçš„å®Œæ•´æ–¹æ¡ˆè®°å½• å†…å­˜è¡¨æ›¿ä»£redisçš„å®Œæ•´æ–¹æ¡ˆè®°\nrediså¾ˆå¼ºå¾ˆè½»é‡ï¼Œä½†æ˜¯å¯¹äºç»“æ„åŒ–æ•°æ® mysqlå…·æœ‰å¤©ç„¶ä¼˜åŠ¿ã€‚\nè¿™é‡Œåªè®°å½• ä½¿ç”¨mysqlå†…å­˜è¡¨æ›¿ä»£redisçš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œåªé€‚ç”¨äºæŸäº›ç‰¹æ®Šæƒ…å†µ\nä½†æ˜¯ mysql å†…å­˜è¡¨æœ‰å‡ ä¸ªå¤©ç„¶ç¼ºé™· Memoryä¸æ”¯æŒè¡Œé”åªæ”¯æŒè¡¨é”ï¼Œåªæœ‰InnoDBæ”¯æŒè¡Œé”ã€‚è¿™å°±å¯¼è‡´äº†å¤§å¹¶å‘çš„æ—¶å€™ï¼Œå°¤å…¶æ˜¯å¹¶å‘å†™å…¥çš„æ—¶å€™ mysqlçš„Memoryå¼•æ“æ•ˆç‡å¹¶ä¸é«˜\nå¦å¤–Memoryä¸æ”¯æŒæŒä¹…åŒ–å‚¨å­˜ï¼Œåœ¨å®•æœºé‡å¯çš„æƒ…å†µä¸‹ï¼Œè™½ç„¶å¯ä»¥å¯¼å…¥æ–°æ•°æ®ã€‚ä½†æ˜¯å¦‚æœé…ç½®äº†ä¸»ä»åŒæ­¥ä¼šå‡ºç°æ›´å¤šå¤æ‚é—®é¢˜ã€‚\nä¸ºäº†è§„é¿è¿™äº›é—®é¢˜ï¼Œå¯ä»¥åœ¨ä»¥ä¸‹åœºæ™¯å¼ ä½¿ç”¨ã€‚\næœ€åé‡‡å–çš„ç†æƒ³æ–¹å¼ï¼š\n1ã€åˆ†åº“å¤„ç†ï¼Œåº“A æ‰€æœ‰è¡¨ä½¿ç”¨InnoDBï¼Œé…ç½®å¥½ä¸»ä»åŒæ­¥å¹¶ç”¨æˆ·å‚¨å­˜æ‰€æœ‰æ•°æ®ã€‚åº“B åªæœ‰éƒ¨åˆ†è¡¨ä»åº“Aå¤åˆ¶çš„è¡¨ï¼Œä¸”å…¨éƒ¨æ˜¯å†…å­˜è¡¨ï¼Œä¸è¿›è¡Œä¸»ä»åŒæ­¥ã€‚\n2ã€mysqlå¯åŠ¨çš„æ—¶ï¼Œåº“Aéƒ¨åˆ†è¡¨æ•°æ® å®Œæ•´å¤åˆ¶åˆ°åº“Bï¼Œæˆ–è€…åº”ç”¨ç«¯åœ¨æŸ¥è¯¢ä¸åˆ°æ•°æ®çš„æ—¶å€™ï¼Œè‡ªåŠ¨å¤åˆ¶æ•°æ®è¿‡æ¥ã€‚\n3ã€å®šæ—¶åŒæ­¥åº“Bæ•°æ®åˆ°åº“A ä»¥æŒä¹…åŒ–ä¿å­˜\nå…¶ä»–è¦æ³¨æ„çš„ï¼š\n1ã€é¢‘ç¹å†™å…¥çš„æ•°æ®ï¼Œä¾æ—§è¿˜æ˜¯ä½¿ç”¨redisï¼Œè¿™æ˜¯redisçš„å¤©ç„¶ä¼˜åŠ¿\n2ã€å…³é—­åº“Bçš„ æŸ¥è¯¢ç¼“å­˜ï¼ˆæ²¡æœ‰å¤ªå¤§å¿…è¦ä½¿ç”¨ï¼‰\n3ã€å¤§é‡æ•°æ®éç»å¸¸æŸ¥è¯¢çš„æ•°æ®ï¼Œæ”¾åœ¨\nå…ˆçœ‹ä¸€ä¸ªåˆ›å»ºä¸€ä¸ªè¡¨ å’Œå¤åˆ¶ä¸€ä¸ªè¡¨çš„åŸºæœ¬è¯­æ³•\nå¦å¤–ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³• æ˜¯ä½¿ç”¨ ramdisk (tmpfs)ï¼Œç„¶åä½¿ç”¨InnoDB æˆ–è€… MyISAMå³å¯\nç„¶åå®šæ—¶å¤‡ä»½ ramdiskï¼ˆæœ€å¥½å…³åœmysqlåå¤‡ä»½ï¼‰\n1 2 3 4 5 6 7 8 CREATE TABLE `fish_api`.`mem` ( `mem` INT NOT NULL ) ENGINE = MEMORY; CREATE TABLE targetTable LIKE sourceTable; INSERT INTO targetTable SELECT * FROM sourceTable; #å®Œæ•´ä»£ç  #DROP TABLE user_mem; CREATE TABLE user_mem LIKE user ; ALTER TABLE user_mem ENGINE = MEMORY; INSERT INTO user_mem SELECT * FROM user ; å…¶å®éœ€è¦çš„æ˜¯ ä¼˜åŒ–mysql\né¢‘ç¹æŸ¥è¯¢ è¾ƒå°‘å†™å…¥çš„è¡¨çš„æŸ¥è¯¢æ“ä½œ å¼€å¯æŸ¥è¯¢ç¼“å­˜ è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/mysql-cp-memory-innodb/","title":"mysql å†…å­˜è¡¨æ›¿ä»£redisçš„å®Œæ•´æ–¹æ¡ˆè®°å½•"},{"content":"nginx å’Œ php è·¨åŸŸé…ç½® å¦‚æœå¯ä»¥åœ¨phpé‡Œé¢æå®šï¼Œå°½é‡ä¸å¼„nginxçš„ï¼Œä»¥å…å½±å“è¿ç§» nginxé…ç½®\n1 2 3 add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \u0026#39;GET,POST,PUT,DELETE,PATCH,OPTIONS\u0026#39;; add_header Access-Control-Allow-Headers \u0026#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization\u0026#39;; php\n1 2 3 4 5 6 7 8 9 // è®¾ç½®å…è®¸å…¶ä»–åŸŸåè®¿é—® header(\u0026#39;Access-Control-Allow-Origin:*\u0026#39;); //header(\u0026#39;Access-Control-Allow-Origin: \u0026#39;.$_SERVER[\u0026#39;HTTP_ORIGIN\u0026#39;].\u0026#39;\u0026#39;); // è®¾ç½®å…è®¸çš„å“åº”ç±»å‹ header(\u0026#39;Access-Control-Allow-Methods:POST, GET,OPTIONS, PUT, DELETE\u0026#39;); // è®¾ç½®å…è®¸çš„å“åº”å¤´ header(\u0026#39;Access-Control-Allow-Headers:x-requested-with,content-type,Origin, Accept, Authorization\u0026#39;); thinkphp ç›´æ¥æ”¾åˆ° åº”ç”¨çš„index.php å°±å¯ä»¥äº†\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/109/","title":"nginx å’Œ php è·¨åŸŸé…ç½®"},{"content":"nginxä¸‹å•ç‹¬é…ç½®jsæ–‡ä»¶è¿‡æœŸæ—¶é—´ï¼Œè§£å†³maccmsæ¯æ¬¡ä¿®æ”¹æ’­æ”¾å™¨åéƒ½è¦ç”¨æˆ·æ¸…ç†ç¼“å­˜æ‰æœ‰æ•ˆçš„é—®é¢˜ åˆ©ç”¨expires æŒ‡ä»¤ åŸæ¥ä»£ç \nlocation \\~ .\\*.(js|css)?$ { expires 12h; error\\_log /dev/null; access\\_log /dev/null; } æ”¹ä¸º location \\~ ._.(css)?$ { expires 12h; error\\_log /dev/null; access\\_log /dev/null; } location \\~ ._.(js)?$ { expires -1; error\\_log /dev/null; access\\_log /dev/null; } ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/nginx-expires/","title":"nginxä¸‹å•ç‹¬é…ç½®jsæ–‡ä»¶è¿‡æœŸæ—¶é—´ï¼Œè§£å†³maccmsæ¯æ¬¡ä¿®æ”¹æ’­æ”¾å™¨åéƒ½è¦ç”¨æˆ·æ¸…ç†ç¼“å­˜æ‰æœ‰æ•ˆçš„é—®é¢˜"},{"content":"php8çš„æ€§èƒ½ç«Ÿæ¯”php7.4æå‡äº†æ¥è¿‘ä¸€å€ phpç»ˆäºæ”¯æŒjitäº†ï¼Œè€Œ1996å¹´javaå·²ç»æ”¯æŒjit\nphp8.0 é»˜è®¤æƒ…å†µä¸‹ å’Œphp7.4æ€§èƒ½åŸºæœ¬æ¥è¿‘ï¼Œä½†æ˜¯å¼€å¯jitå åœ¨cpuå¯†é›†è®¡ç®—çš„æƒ…å†µä¸‹å¯ä»¥æå‡92%å·¦å³çš„æ€§èƒ½ï¼Œæ¯”php5 æ€§èƒ½æå‡5-7å€\nPHP 8 çš„ JITï¼ˆJust In Timeï¼‰ç¼–è¯‘å™¨å°†ä½œä¸ºæ‰©å±•é›†æˆåˆ° php ä¸­ Opcache æ‰©å±• ç”¨äºè¿è¡Œæ—¶å°†æŸäº›æ“ä½œç ç›´æ¥è½¬æ¢ä¸ºä» cpu æŒ‡ä»¤ï¼Œå¤§æ¦‚æ¥è¯´å°±æ˜¯ä¹‹å‰ç‰ˆæœ¬çš„Opcache å¯ä»¥è·³è¿‡ç¼–è¯‘è§£é‡Šç›´æ¥æœºå™¨ç åˆ°zendï¼Œè€Œjitè·³è¿‡zend ç›´æ¥åˆ°cpuæŒ‡ä»¤ ã€‚PHP çš„ JIT ä½¿ç”¨äº†åä¸º** DynASM (Dynamic Assembler) çš„åº“**ï¼Œè¯¥åº“å°†ä¸€ç§ç‰¹å®šæ ¼å¼çš„ä¸€ç»„ CPU æŒ‡ä»¤æ˜ å°„ä¸ºè®¸å¤šä¸åŒ CPU ç±»å‹çš„æ±‡ç¼–ä»£ç ã€‚ å› æ­¤ï¼Œç¼–è¯‘å™¨åªéœ€è¦ä½¿ç”¨ DynASM å°±å¯ä»¥å°† Opcodes è½¬æ¢ä¸ºç‰¹å®šç»“æ„ä½“çš„æœºå™¨ç ã€‚\nJITç¼–è¯‘åŸç†\n1ã€æ£€æŸ¥opcodesæ˜¯å¦ç¼“å­˜\n2ã€zend compilerç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ç”Ÿæˆopcodes\n3ã€optimizerä¼˜åŒ–å™¨ç”Ÿæˆä¼˜åŒ–åçš„opcodes\n4ã€æŠŠä¼˜åŒ–åçš„opcodesæ”¾å…¥opcodes cacheç¼“å­˜\n5ã€jitç¼–è¯‘å™¨æŠŠoptimized opcodeså†æ¬¡ç¼–è¯‘æˆæ±‡ç¼–æœºå™¨ç machine codes\n6ã€è¿›å…¥zend vmè™šæ‹Ÿå‰å…ˆæ£€æŸ¥æ˜¯å¦å¼€å¯jitå¼•æ“\n7ã€å¦‚æœå·²ç»å¼€å¯äº†jitå¼•æ“åˆ™ç›´æ¥è¯»å–æœºå™¨ç ä¸­çš„jit bufferä»£ç ç‰‡æ®µ\n8ã€é€å…¥x86 cpuæ¶æ„è¿›è¡Œæ‰§è¡Œ\nå…¶ä»–è¦æ˜ç™½çš„\n1ã€Opcacheä¼šåšopcodeå±‚é¢çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚å›¾ä¸­çš„ä¸¤æ¡opcodeåˆå¹¶ä¸ºä¸€æ¡\n2ã€PHP8çš„JITç›®å‰æ˜¯åœ¨Opcacheä¹‹ä¸­æä¾›çš„\n3ã€JITåœ¨Opcacheä¼˜åŒ–ä¹‹åçš„åŸºç¡€ä¸Šï¼Œç»“åˆRuntimeçš„ä¿¡æ¯å†æ¬¡ä¼˜åŒ–ï¼Œç›´æ¥ç”Ÿæˆæœºå™¨ç \n4ã€JITä¸æ˜¯åŸæ¥Opcacheä¼˜åŒ–çš„æ›¿ä»£ï¼Œæ˜¯å¢å¼º\n5ã€ç›®å‰PHP8åªæ”¯æŒx86æ¶æ„çš„CPU armè¿˜è¦ç­‰ç€\nå½“ç„¶å¦‚æœphpåªæ˜¯å¤„ç†ä¸€äº›ioæ“ä½œï¼Œé‚£ä¹ˆä½ ç”¨php5 è¿˜æ˜¯php8 éƒ½å·®ä¸å¤šï¼Œå› ä¸ºæ€§èƒ½ç“¶é¢ˆåœ¨ioä¸Šè€Œä¸æ˜¯cpuä¸Šã€‚å¦‚æœæ˜¯IO å¯†é›†å‹æ“ä½œçš„ åº”ç”¨ï¼Œå¼€å¯jitåè€Œå¯èƒ½ä¼šæœ‰10%å·¦å³çš„æ€§èƒ½æ¶ˆè€— ï¼Œå°¤å…¶æ˜¯Laravelã€‚\nåœ¨å¯†é›†è®¡ç®—çš„æƒ…å†µä¸‹ï¼Œå¯¹æ¯”php7.4 å’Œ æœªå¼€æœºjitçš„php8 æ€§èƒ½æå‡å·®ä¸å¤šæ˜¯92%-120% ï¼Œä¹Ÿå°±æ˜¯1å€å·¦å³ã€‚\nå½“ç„¶ å³ä¾¿æ˜¯å¼€å¯äº† jitï¼Œåœ¨å¯†é›†è®¡ç®—ä¸Šï¼Œphpçš„æ€§èƒ½ä¾æ—§è¢« node.js java C# go C++ åŠæ‰“\nè‡³äºä¸ºä»€ä¹ˆä½¿ç”¨php è¿™ä¸ªå„å–æ‰€éœ€çš„è¯é¢˜æ²¡å•¥å¯è¯´çš„ æ‰€ä»¥è¿˜æ˜¯å°½å¿«å‡çº§åˆ°php8\nåˆšåˆšåœ¨å®å¡”ä¸­æŸ¥çœ‹ï¼Œå·²ç»æ”¯æŒåˆ°8.1.9 æ€§èƒ½å†æå‡4%å·¦å³ æ–°é¡¹ç›®ä¸ç”¨è€ƒè™‘ ç›´æ¥ä¸Šäº†ã€‚\nåœ¨php.ini ä¸­çœ‹åˆ°\nopcache.jit_buffer_size=128m\nopcache.jit=1205\nå®å¡”é»˜è®¤å¸®å¼€å¯äº†ï¼Œopcache.jitè¿™ä¸ªé…ç½®ç”±4ä¸ªç‹¬ç«‹çš„æ•°å­—ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨\næ˜¯å¦ä½¿ç”¨AVXæŒ‡ä»¤ å¯„å­˜å™¨åˆ†é…ç­–ç•¥ JITè§¦å‘ç­–ç•¥ JITä¼˜åŒ–ç­–ç•¥ å…·ä½“æŸ¥çœ‹php8æ‰‹å†Œ\nå€¼å¾—æ³¨æ„çš„æ—¶php8.1.9ä¸‹ éƒ¨åˆ†æ‰©å±•å¯èƒ½å°šæœªæ”¯æŒ\nlibssh2 ã€ä¾èµ–å…³ç³»å¦‚ä¸‹ï¼šPECL/ssh2 â€“\u0026gt; libssh2 â€“\u0026gt; opensslã€‘\nsg11\nå¸¸ç”¨çš„æ‰©å±• swoole redisä¹‹ç±»çš„è‚¯å®šéƒ½æ˜¯æ²¡é—®é¢˜çš„\næœ€ç»ˆä½¿ç”¨ä¸€æ®µæ—¶é—´åï¼Œå‘ç°jitè™½ç„¶æå‡äº†æ€§èƒ½ï¼Œä½†æ˜¯å†ioé¢‘ç¹çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ä»»ä½•æ„Ÿè§‰\nphp8 è™½ç„¶å·²ç»å¾ˆä¸é”™äº†ï¼Œä½†æ˜¯ä¾æ—§æ˜¯åƒæ€§èƒ½ç¦»è°±ï¼Œè€ƒè™‘åˆ°æ¯æ—¥çš„ç”¨æˆ·æš´æ¶¨å’ŒæœåŠ¡å™¨è´¹ç”¨ï¼Œæœ€ç»ˆé€‰æ‹©ç”¨golangé‡å†™ï¼Œå½»åº•æŠ›å¼ƒphp\nä»¥å åŠ ä¸Šæœ¬åšå®¢æœ€è¿‘ä¹Ÿä»wordpress è¿ç§»åˆ°äº† vuepressé™æ€ç”Ÿæˆï¼Œä»¥åç”¨phpçš„åœ°æ–¹ å¯èƒ½å°±åªæ˜¯å‡ ä¸ªå°åŠ¨æ€é¡µå’Œmaccmsçœ‹çœ‹ç”µå½±äº†\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/php8-jit/","title":"php8çš„æ€§èƒ½ç«Ÿæ¯”php7.4æå‡äº†æ¥è¿‘ä¸€å€"},{"content":"phpé€’å½’è·å–ç›®å½•åå’Œå­æ–‡ä»¶å 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //é€’å½’è·å–æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ function get_dirs($dir_path) { $res = array(); $res_lists = array(); foreach(glob(\u0026#34;$dir_path/*\u0026#34;) as $item) { if(is_dir($item)) { $folder = end(explode(\u0026#39;/\u0026#39;, $item)); $res[$folder] =get_dirs($item); continue; } $res[] = basename($item); } return $res ; } echo \u0026#34;\u0026lt;pre\u0026gt;\u0026#34;; print_r ( get_dirs( dirname(__FILE__).\u0026#34;/md-file\u0026#34;) ); echo \u0026#34;\u0026lt;/pre\u0026gt;\u0026#34;; Array ( [0-index] =\u0026gt; Array ( [0] =\u0026gt; Hans.md )\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 [1-tds] =\u0026gt; Array ( ) [77-list1] =\u0026gt; Array ( [1-list2] =\u0026gt; Array ( [1-list3] =\u0026gt; Array ( ) ) ) [88-robotnote] =\u0026gt; Array ( [0] =\u0026gt; Hans.md ) [99-contact] =\u0026gt; Array ( [0] =\u0026gt; Hans.md [1] =\u0026gt; Hant.md [2] =\u0026gt; en.md ) )\n1 åªè¦æ–‡ä»¶å¤¹ //é€’å½’è·å– åªè¦æ–‡ä»¶å¤¹ function get_dirs($dir_path) { $res = array(); $res_lists = array();\n1 2 3 4 5 6 7 8 9 foreach(glob(\u0026#34;$dir_path/*\u0026#34;) as $item) { if(is_dir($item)) { $folder = end(explode(\u0026#39;/\u0026#39;, $item)); $res[$folder] =get_dirs($item); continue; } } return $res ; }\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 Array ( [0-index] =\u0026gt; Array ( ) [1-tds] =\u0026gt; Array ( ) [77-list1] =\u0026gt; Array ( [1-list2] =\u0026gt; Array ( [1-list3] =\u0026gt; Array ( ) ) ) [88-robotnote] =\u0026gt; Array ( ) [99-contact] =\u0026gt; Array ( ) ) ``` ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/php-get_dirs/","title":"phpé€’å½’è·å–ç›®å½•åå’Œå­æ–‡ä»¶å"},{"content":"Syncthingè§£å†³ ä¸¤å°ç”µè„‘å®Œå…¨ä¸€ç›´åˆ°åŒæ­¥ + iPhone + ipad å®Œå…¨åŒæ­¥ ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š æ¸”åœºæœ‰ä¸€å°ç”µè„‘ å°å¼æœºï¼Œæ€§èƒ½æ¯”è¾ƒå¥½ï¼Œä¸€å°å»‰ä»·ç¬”è®°æœ¬å¹³æ—¶å¤šè¿œç¨‹åˆ°è¿™ä¸ªå°å¼æœºå·¥ä½œã€‚ä½†æ˜¯å¶å°”ä¼šå› ä¸ºç½‘ç»œé—®é¢˜è¿æ¥ä¸å¥½ã€‚åŠ ä¸Šè‡ªå·±å–œæ¬¢æŠ˜è…¾ï¼Œè€ƒè™‘æ­å»ºä¸€ä¸ªåŒæ­¥ç›˜ã€‚å®ç°ä¸¤ä¸ªç”µè„‘çš„æ–‡ä»¶å®Œå…¨åŒæ­¥ã€‚ ä¹‹å‰æŠ˜è…¾äº†ä¸€åœˆ æ²¡æœ‰å®ç° å‚è€ƒ https://dev.leiyanhui.com/c/56 ç°åœ¨æ‰¾åˆ°ä¸€ä¸ª åŸºäºp2p è½¯ä»¶ Syncthing å®ç°çš„åŠŸèƒ½ï¼šåªæœ‰ä¸€å°ç”µè„‘å¼€æœºæƒ…å†µä¸‹ï¼Œæ–‡ä»¶å’Œä»£ç  å’Œ iPhone åŒå‘åŒæ­¥ ä¸¤å°ç”µè„‘éƒ½å¼€æœºçš„æƒ…å†µçš„ä¸‹ï¼Œå››è®¾å¤‡åŒæ­¥ å®˜ç½‘åœ°å€ https://syncthing.net/ gitåŠ é€Ÿä¸‹è½½ https://github.com/syncthing/syncthing/releases/download/v1.20.2/syncthing-windows-amd64-v1.20.2.zip å®‰è£…éå¸¸ç®€å•ï¼Œç»¿è‰²è½¯ä»¶ï¼ŒåŒå‡»exeå ä¸€ä¸ªé»‘çª—ï¼Œå¼¹å‡ºä¸€ä¸ªç½‘é¡µ http://127.0.0.1:8384/# ç½‘é¡µç•Œé¢ æœ‰ä¸­æ–‡ æ·»åŠ ä¸€ä¸ªæ–‡ä»¶å¤¹\nD:\\Syncthing\\ æ–‡ä»¶å¤¹id Syncthing æ–‡ä»¶å¤¹æ ‡ç­¾å†™ ä¸»æœº1 æˆ‘è¿™é‡Œå†™ B150M åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Š ä¹Ÿå®‰è£…Syncthing åŒæ · åœ¨Dç›˜æ–°å»ºæ–‡ä»¶å¤¹ Syncthing åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Š çš„ç½‘é¡µç«¯æ·»åŠ  è¿œç¨‹è®¾å¤‡ï¼Œ åœ¨ç¬¬ä¸€å°è®¡ç®—æœºçš„ å½“å‰è®¾å¤‡ äºŒç»´ç å“ªä¸ªåœ°æ–¹å¯ä»¥çœ‹åˆ° åå­— ç±»ä¼¼ 75XXXX-XXXXXX-XXXX-XXXX-HFN5IYV-PDIY5TC-XXXX-XXXX çš„å­—ç¬¦ä¸² æ·»åŠ åˆ° ç¬¬äºŒå°è®¾å¤‡ä¸Šï¼Œç„¶å åœ¨ç¬¬ä¸€å°è®¾å¤‡ä¸Š ç‚¹åŒæ„ æˆ–è€… æ·»åŠ  ä¹‹ç±»æ„ä¹‰çš„ æŒ‰é’® å…·ä½“åç§°å¿˜è®° åœ¨ç¬¬ä¸€å°è®¾å¤‡ ä¸Š ç¼–è¾‘æ–‡ä»¶å¤¹ (B150M) åœ¨ç¬¬äºŒå°è®¾å¤‡ ä¸Š B150M æƒ³è¦å…±äº« \u0026ldquo;B150M\u0026rdquo; (Syncthing) æ–‡ä»¶å¤¹ç»™æ‚¨ã€‚ æ·»åŠ æ–°æ–‡ä»¶å¤¹ï¼Ÿ ç‚¹å‡»æ·»åŠ  ä½ç½®åˆ° D:\\Syncthing\\ ä¸¤å°ç”µè„‘åˆ†å¸ƒå¾€è¿™ä¸ªæ–‡ä»¶å¤¹æ·»åŠ æ–‡ä»¶ æµ‹è¯• éƒ½å¯ä»¥ åŒæ­¥ï¼ˆæ¡æ‰‹èµ°çš„Syncthing æœåŠ¡å™¨ï¼Œæ–‡ä»¶åŒæ­¥ èµ°çš„å±€åŸŸç½‘ å¦‚æœæ˜¯å…¬ç½‘ åº”è¯¥é€Ÿåº¦ä¼šå·®ä¸€äº› ç©¿é€æ–¹æ³• æ™šç‚¹å¤„ç†ï¼‰ æµ‹è¯•æ·»åŠ ä¸€ä¸ª è½¯ é“¾æ¥ mklink /D \u0026ldquo;D:\\Syncthing\\Code_Space\u0026rdquo; D:\\Code_Space ç»è¿‡æµ‹è¯•ä¸å¯ä»¥ æš‚æ—¶æ²¡æœ‰æ‰¾åˆ° è§£å†³æ–¹æ³•ã€‚æ‰€ä»¥åªèƒ½æŠŠæ–‡ä»¶ ç§»åŠ¨è¿‡æ¥ï¼Œç„¶åè½¯è¿æ¥å›åŸæ¥çš„ä½ç½®äº†ã€‚ åŒæ—¶ å¯ä»¥å¼„ä¸€ä¸ª ioså®¢æˆ·ç«¯ ä½œä¸ºéšèº«è®¾å¤‡ ç›´æ¥åœ¨appstoreæœç´¢ Syncthing æ‰¾åˆ° MÃ¶bius Sync https://apps.apple.com/us/app/mobiussync/id1539203216?ign-itscg=30200\u0026amp;ign-itsct=apps_box#?platform=iphone å°±å¯ä»¥äº† iphoneåˆ†åˆ«æ‰«æä¸¤ä¸ªç”µè„‘çš„ è¯†åˆ« äºŒç»´ç  æ·»åŠ ä¸Š ç„¶åä¸¤å°ç”µè„‘ éƒ½åˆ†äº« æ–‡ä»¶ ç»™ iPhoneã€‚å› ä¸ºæ–‡ä»¶å¤¹id éƒ½ä¸€æ · iPhoneä¸ä¼šå¤šå‡ºæ¥ä¸€ä¸ªé¢å¤–çš„æ–‡ä»¶å¤¹ iPhone çš„å®¢æˆ·ç«¯ åªèƒ½åŒæ­¥20M è¶…è¿‡å æ˜¯æ”¶è´¹çš„ 30äººæ°‘å¸ï¼Œ å€¼å¾—\nè¿›é˜¶æ“ä½œ å®ç° 1ã€ å¼€æœºå¯åŠ¨å¯åŠ¨ https://dev.leiyanhui.com/c/58 2ã€ è§£å†³å¤–ç½‘é€Ÿåº¦ å¯ä»¥è‡ªå»ºæ¡æ‰‹æœåŠ¡å™¨ï¼Œä½†æ˜¯å¤ªéº»çƒ¦äº†ã€‚æˆ‘çš„è§£å†³æ–¹æ³• æ˜¯ä»˜è´¹7å¤©çš„ç™¾åº¦ä¼šå‘˜ï¼Œå®Œæˆé¦–æ¬¡åŒæ­¥ã€‚ ç™¾åº¦ä¼šå‘˜åŒæ­¥ç©ºé—´ æ”¯æŒ è½¯è¿æ¥çš„ï¼Œåªæ˜¯ä»·æ ¼ã€‚ã€‚æœ‰ç‚¹ã€‚æ¯ä¸ªæœˆ15å—é’± åœ¨å¥—é¤é‡Œé¢çš„å·¥ä½œå¥—é¤ã€‚è€Œä¸”ä»–è¿™ä¸ªåªæ˜¯å¤‡ä»½å·¥å…· æ— æ³•è¿›è¡Œåˆ é™¤æ“ä½œ\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/57/","title":"Syncthingè§£å†³ ä¸¤å°ç”µè„‘å®Œå…¨ä¸€ç›´åˆ°åŒæ­¥ + iPhone + ipad å®Œå…¨åŒæ­¥"},{"content":"Ubuntu 22.04 LTSï¼šæˆªå›¾ çš„ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥æ‹–æ‹½åˆ° wineçš„å¾®ä¿¡ ç»è¿‡æµ‹è¯• åŒºåŸŸæˆªå›¾å¿«æ·é”® PrSc ã€å¯¹åº”æˆ‘çš„é”®ç›˜æ˜¯ Fn+yã€‘ å…¨å±æˆªå›¾å¿«æ·é”® shift PrSc\nã€å¯¹åº”æˆ‘çš„é”®ç›˜æ˜¯ Fn+shift+yã€‘ å½“å‰çª—å£æˆªå›¾å¿«æ·é”® alt PrScã€å¯¹åº”æˆ‘çš„é”®ç›˜æ˜¯ Fn+shift+yã€‘ æˆªå›¾åçš„æ–‡ä»¶è‡ªåŠ¨ä¿æŒåˆ° ~/Pictures/æˆªå›¾ æˆªå›¾å¯ä»¥ç›´æ¥æ‹–æ‹½åˆ° ä¼˜éº’éºŸçš„wine å¾®ä¿¡ https://dev.leiyanhui.com/c/8\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/9/","title":"Ubuntu 22.04 LTSï¼šæˆªå›¾ çš„ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥æ‹–æ‹½åˆ° wineçš„å¾®ä¿¡"},{"content":"Ubuntu22.04LTSå¸¸ç”¨winè½¯ä»¶çš„wineå…ç»´æŠ¤å’Œä½¿ç”¨è¯´æ˜ QQ å¾®ä¿¡ photoshop è‡ªå·±æŠ˜è…¾wineæœ‰å¤šéº»çƒ¦ï¼Œæ‡‚çš„äººéƒ½çŸ¥é“ã€‚ æˆ‘è¿™é‡Œé€‰æ‹© ä¼˜éº’éºŸ ä½œä¸ºä¸»è¦æº deepinä½œä¸ºæ›¿ä»£ ## ä½¿ç”¨ä¼˜éº’éºŸ é…ç½®å¥½çš„è½¯ä»¶ å…ˆå»\nhttp://archive.ubuntukylin.com/ubuntukylin/pool/main/k/kylin-software-keyring/\nä¸‹è½½æœ€æ–°çš„ 2022-03-31 17:52 sudo dpkg -i kylin-software-keyring_2022.03.30_all.deb\nç„¶åæ‰“å¼€ https://archive.ubuntukylin.com/ubuntukylin/pool/partner/ å…ˆæœç´¢ ukylin-wine æ‰¾åˆ° ukylin-wine_70.6.3.25_amd64.deb sudo dpkg -i ukylin-wine_70.6.3.25_amd64.deb æœç´¢æŸ¥æ‰¾ï¼Œweixin è¿˜æœ‰ä¸€ä¸ª wechat ä¸æ¸…æ¥šå¹²å˜›çš„ï¼Œä½†æ˜¯è¿™ä¸ª weixinæ˜¯ ä¸€ç›´æ›´æ–°ç»´æŠ¤çš„ è¿™ä¸ªå¾®ä¿¡çš„ æ”¶å‘å›¾ç‰‡æ²¡é—®é¢˜ ä¹Ÿæ²¡æœ‰ä¹±ç  æ”¯æŒå‘é€æ–‡ä»¶ï¼Œå¯åŠ¨æ—¶å€™ æ²¡æœ‰wineé‚£ä¸ªè¿›åº¦æ¡ å­˜åœ¨çš„é—®é¢˜æ˜¯ æˆªå›¾ åŠŸèƒ½ä¸èƒ½ä½¿ç”¨ ç³»ç»Ÿæ‰˜ç›˜æ²¡æç¤º å¥½å‹åˆ—è¡¨çš„æœç´¢åŠŸèƒ½ä¸èƒ½ä½¿ç”¨ é€€å‡ºä¸€æ¬¡ï¼Œå†æ¬¡æ‰“å¼€æ— æ³•æ‰“å¼€ å¦å¤–è¿˜æœ‰ wxwork photoshop-cs6 ä¼ä¸šå¾®ä¿¡æµ‹è¯• å‘é€æ–‡ä»¶çš„æ—¶å€™ï¼Œé€‰æ‹©æ¡† æ˜¯åŸç”Ÿçš„wineï¼Œæ‰¾æ–‡ä»¶è´¹åŠ²ç‚¹ å¸è½½æ–¹æ³•``` dpkg -l | grep ukylin #æŸ¥æ‰¾ sudo dpkg -r ukylin-ps6 sudo dpkg \u0026ndash;purge ukylin-ps6\n\\## ä½¿ç”¨deepinx ç”¨è¿™ä¸ªæºï¼Œæ³¨æ„å®‰è£…åè¦æ³¨é”€ä¸€æ¬¡æ‰èƒ½åŠ è½½å‡ºæ¥å›¾æ ‡\nwget -O- https://deepin-wine.i-m.dev/setup.sh | sh `sudo apt-get install com.qq.weixin.deepin` å®‰è£…å…¶ä»–è½¯ä»¶ `````` https://deepin-wine.i-m.dev/\nç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œè¿™ä¸ªå¾®ä¿¡å¯ä»¥å¥½å‹æœç´¢ å¯ä»¥ä¸ç”¨æ‰«æï¼Œç›´æ¥åœ¨æ‰‹æœºç¡®è®¤åç™»å½•ï¼Œä½†æ˜¯å­˜åœ¨å‡ ä¸ªé—®é¢˜ æ–‡ä»¶å‘é€ç»å¸¸ä¼šå¯¼è‡´æ•´ä¸ªå´©æºƒ æˆªå›¾ä¸èƒ½ç”¨ éƒ¨åˆ†æ–‡å­—ä¹±ç  å¥½å‹åç§°å¸¦ç‰¹æ®Šç¬¦å·çš„ä¹±ç ï¼Œå¯åŠ¨æœ‰æ—¶å€™å¾ˆæ…¢ å›¾ç‰‡æ‹–æ‹½åˆ°èŠå¤©çª—å£ ä¼šä½œä¸ºæ–‡ä»¶å‘é€ ### å¸è½½ sudo apt-get remove com.qq.im.deepin sudo apt-get remove com.qq.weixin.deepin sudo apt-get remove com.taobao.aliclient.qianniu.deepin è€ƒè™‘åˆ° ç³»ç»Ÿæ‰˜ç›˜ å·²ç»m åŸæ–‡å‚è€ƒ https://blog.csdn.net/hinmer/article/details/125246865\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/7-2/","title":"Ubuntu22.04LTSå¸¸ç”¨winè½¯ä»¶çš„wineå…ç»´æŠ¤å’Œä½¿ç”¨è¯´æ˜ QQ å¾®ä¿¡ photoshop"},{"content":"ubuntuå®‰è£…Arduino IDE è¯•è¯• ç”¨åŸç”Ÿarduino æ‰“å¼€ https://www.arduino.cn/thread-5838-1-1.html\nä¸‹è½½å›æ¥åè§£å‹åˆ° /MyData/Soft cd /MyData/Soft/arduino-1.8.19 sudo ./install.sh å¸è½½ å°±æ˜¯ sudo ./uninstall.sh ç„¶åå†åˆ é™¤æ–‡ä»¶ å…¶ä»–å’Œwinä¸‹æ“ä½œå’Œä½¿ç”¨å®Œå…¨ä¸€æ ·\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/11/","title":"ubuntuå®‰è£…Arduino IDE"},{"content":"Ubuntuä¸€æ¡å‘½ä»¤æ›´æ¢æº ä»¥20.04LTSä¸ºä¾‹ Ubuntuä¸€æ¡å‘½ä»¤æ›´æ¢æº ä»¥20.04LTSä¸ºä¾‹\nâ€‹â€‹ é»˜è®¤æº çš„é€Ÿåº¦ å°±é‚£æ · , åˆä¸æƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„shæ–‡ä»¶, å…¶å®å¯ä»¥ç›´æ¥æ›¿æ¢é»˜è®¤æ–‡ä»¶ å‘½ä»¤åœ¨æ–‡æœ« æˆ‘ä»¬å…ˆå¤‡ä»½(ä¹Ÿå¯ä»¥è·³è¿‡)\nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\né»˜è®¤å†…å®¹ å¦‚æœæ²¡å¤‡ä»½ å¹¶æä¸¢äº† è®°å¾—æ¢å¤é»˜è®¤å†…å®¹ â€‹ ä¸€è¡Œå‘½ä»¤ æ­£åˆ™æ›¿æ¢ æˆé˜¿é‡Œäº‘\nsudo sed -i 's/archive.ubuntu.com/mirrors.aliyun.com/g' /etc/apt/sources.list ä¸€è¡Œå‘½ä»¤ æ­£åˆ™æ›¿æ¢ æˆ æ¸…åæº sudo sed -i \u0026rsquo;s/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g\u0026rsquo; /etc/apt/sources.list\nå…¶ä»–æº è‡ªå·±æ”¹ä¸€ä¸‹ åœ°å€çš„åŸŸå å°±å¥½äº†\ncat /etc/apt/sources.list ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/7/","title":"Ubuntuä¸€æ¡å‘½ä»¤æ›´æ¢æº ä»¥20.04LTSä¸ºä¾‹"},{"content":"uniappä½¿ç”¨hexé¢œè‰²è‡ªå®šä¹‰åŸç”Ÿæ ‡é¢˜æ å¯¼èˆªæ åŠé€æ˜ hexé¢œè‰²æ”¯æŒåŠé€æ˜ï¼Œæ–‡æœ« å¯¹ç…§è¡¨ é¢œè‰²æ ¼å¼ #FFFFFFBA FFFFFFå¯¹åº”é¢œè‰²ç™½è‰² BAåŠé€æ˜ 73% åœ¨ pages.json \u0026ldquo;globalStyle\u0026rdquo;: { \u0026ldquo;navigationBarTextStyle\u0026rdquo;: \u0026ldquo;black\u0026rdquo;, \u0026ldquo;navigationBarTitleText\u0026rdquo;: \u0026ldquo;uni-app\u0026rdquo;, \u0026ldquo;navigationBarBackgroundColor\u0026rdquo;: \u0026ldquo;#F8F8F8BA\u0026rdquo;, \u0026ldquo;backgroundColor\u0026rdquo;: \u0026ldquo;#F8F8F8\u0026rdquo; } navigationBarBackgroundColor åé¢çš„BA å¯¹ç…§ 73% \u0026ldquo;tabBar\u0026rdquo;: { \u0026ldquo;color\u0026rdquo;: \u0026ldquo;#7A7E83\u0026rdquo;, \u0026ldquo;selectedColor\u0026rdquo;: \u0026ldquo;#007AFF\u0026rdquo;, \u0026ldquo;borderStyle\u0026rdquo;: \u0026ldquo;black\u0026rdquo;, \u0026ldquo;backgroundColor\u0026rdquo;: \u0026ldquo;#F8F8F8BA\u0026rdquo;, \u0026ldquo;list\u0026rdquo;: [ **** ] }, backgroundColor åé—¨çš„BA åŒæ · hexé¢œè‰²å¯¹ç…§è¡¨\n\u0026lsquo;1.00\u0026rsquo;:\u0026lsquo;FF\u0026rsquo;, \u0026lsquo;0.99\u0026rsquo;:\u0026lsquo;FC\u0026rsquo;, \u0026lsquo;0.98\u0026rsquo;:\u0026lsquo;FA\u0026rsquo;, \u0026lsquo;0.97\u0026rsquo;:\u0026lsquo;F7\u0026rsquo;, \u0026lsquo;0.96\u0026rsquo;:\u0026lsquo;F5\u0026rsquo;, \u0026lsquo;0.95\u0026rsquo;:\u0026lsquo;F2\u0026rsquo;, \u0026lsquo;0.94\u0026rsquo;:\u0026lsquo;F0\u0026rsquo;, \u0026lsquo;0.93\u0026rsquo;:\u0026lsquo;ED\u0026rsquo;, \u0026lsquo;0.92\u0026rsquo;:\u0026lsquo;EB\u0026rsquo;, \u0026lsquo;0.91\u0026rsquo;:\u0026lsquo;E8\u0026rsquo;, \u0026lsquo;0.90\u0026rsquo;:\u0026lsquo;E6\u0026rsquo;, \u0026lsquo;0.89\u0026rsquo;:\u0026lsquo;E3\u0026rsquo;, \u0026lsquo;0.88\u0026rsquo;:\u0026lsquo;E0\u0026rsquo;, \u0026lsquo;0.87\u0026rsquo;:\u0026lsquo;DE\u0026rsquo;, \u0026lsquo;0.86\u0026rsquo;:\u0026lsquo;DB\u0026rsquo;, \u0026lsquo;0.85\u0026rsquo;:\u0026lsquo;D9\u0026rsquo;, \u0026lsquo;0.84\u0026rsquo;:\u0026lsquo;D6\u0026rsquo;, \u0026lsquo;0.83\u0026rsquo;:\u0026lsquo;D4\u0026rsquo;, \u0026lsquo;0.82\u0026rsquo;:\u0026lsquo;D1\u0026rsquo;, \u0026lsquo;0.81\u0026rsquo;:\u0026lsquo;CF\u0026rsquo;, \u0026lsquo;0.80\u0026rsquo;:\u0026lsquo;CC\u0026rsquo;, \u0026lsquo;0.79\u0026rsquo;:\u0026lsquo;C9\u0026rsquo;, \u0026lsquo;0.78\u0026rsquo;:\u0026lsquo;C7\u0026rsquo;, \u0026lsquo;0.77\u0026rsquo;:\u0026lsquo;C4\u0026rsquo;, \u0026lsquo;0.76\u0026rsquo;:\u0026lsquo;C2\u0026rsquo;, \u0026lsquo;0.75\u0026rsquo;:\u0026lsquo;BF\u0026rsquo;, \u0026lsquo;0.74\u0026rsquo;:\u0026lsquo;BD\u0026rsquo;, \u0026lsquo;0.73\u0026rsquo;:\u0026lsquo;BA\u0026rsquo;, \u0026lsquo;0.72\u0026rsquo;:\u0026lsquo;B8\u0026rsquo;, \u0026lsquo;0.71\u0026rsquo;:\u0026lsquo;B5\u0026rsquo;, \u0026lsquo;0.70\u0026rsquo;:\u0026lsquo;B3\u0026rsquo;, \u0026lsquo;0.69\u0026rsquo;:\u0026lsquo;B0\u0026rsquo;, \u0026lsquo;0.68\u0026rsquo;:\u0026lsquo;AD\u0026rsquo;, \u0026lsquo;0.67\u0026rsquo;:\u0026lsquo;AB\u0026rsquo;, \u0026lsquo;0.66\u0026rsquo;:\u0026lsquo;A8\u0026rsquo;, \u0026lsquo;0.65\u0026rsquo;:\u0026lsquo;A6\u0026rsquo;, \u0026lsquo;0.64\u0026rsquo;:\u0026lsquo;A3\u0026rsquo;, \u0026lsquo;0.63\u0026rsquo;:\u0026lsquo;A1\u0026rsquo;, \u0026lsquo;0.62\u0026rsquo;:\u0026lsquo;9E\u0026rsquo;, \u0026lsquo;0.61\u0026rsquo;:\u0026lsquo;9C\u0026rsquo;, \u0026lsquo;0.60\u0026rsquo;:\u0026lsquo;99\u0026rsquo;, \u0026lsquo;0.59\u0026rsquo;:\u0026lsquo;96\u0026rsquo;, \u0026lsquo;0.58\u0026rsquo;:\u0026lsquo;94\u0026rsquo;, \u0026lsquo;0.57\u0026rsquo;:\u0026lsquo;91\u0026rsquo;, \u0026lsquo;0.56\u0026rsquo;:\u0026lsquo;8F\u0026rsquo;, \u0026lsquo;0.55\u0026rsquo;:\u0026lsquo;8C\u0026rsquo;, \u0026lsquo;0.54\u0026rsquo;:\u0026lsquo;8A\u0026rsquo;, \u0026lsquo;0.53\u0026rsquo;:\u0026lsquo;87\u0026rsquo;, \u0026lsquo;0.52\u0026rsquo;:\u0026lsquo;85\u0026rsquo;, \u0026lsquo;0.51\u0026rsquo;:\u0026lsquo;82\u0026rsquo;, \u0026lsquo;0.50\u0026rsquo;:\u0026lsquo;80\u0026rsquo;, \u0026lsquo;0.49\u0026rsquo;:\u0026lsquo;7D\u0026rsquo;, \u0026lsquo;0.48\u0026rsquo;:\u0026lsquo;7A\u0026rsquo;, \u0026lsquo;0.47\u0026rsquo;:\u0026lsquo;78\u0026rsquo;, \u0026lsquo;0.46\u0026rsquo;:\u0026lsquo;75\u0026rsquo;, \u0026lsquo;0.45\u0026rsquo;:\u0026lsquo;73\u0026rsquo;, \u0026lsquo;0.44\u0026rsquo;:\u0026lsquo;70\u0026rsquo;, \u0026lsquo;0.43\u0026rsquo;:\u0026lsquo;6E\u0026rsquo;, \u0026lsquo;0.42\u0026rsquo;:\u0026lsquo;6B\u0026rsquo;, \u0026lsquo;0.41\u0026rsquo;:\u0026lsquo;69\u0026rsquo;, \u0026lsquo;0.40\u0026rsquo;:\u0026lsquo;66\u0026rsquo;, \u0026lsquo;0.39\u0026rsquo;:\u0026lsquo;63\u0026rsquo;, \u0026lsquo;0.38\u0026rsquo;:\u0026lsquo;61\u0026rsquo;, \u0026lsquo;0.37\u0026rsquo;:\u0026lsquo;5E\u0026rsquo;, \u0026lsquo;0.36\u0026rsquo;:\u0026lsquo;5C\u0026rsquo;, \u0026lsquo;0.35\u0026rsquo;:\u0026lsquo;59\u0026rsquo;, \u0026lsquo;0.34\u0026rsquo;:\u0026lsquo;57\u0026rsquo;, \u0026lsquo;0.33\u0026rsquo;:\u0026lsquo;54\u0026rsquo;, \u0026lsquo;0.32\u0026rsquo;:\u0026lsquo;52\u0026rsquo;, \u0026lsquo;0.31\u0026rsquo;:\u0026lsquo;4F\u0026rsquo;, \u0026lsquo;0.30\u0026rsquo;:\u0026lsquo;4D\u0026rsquo;, \u0026lsquo;0.29\u0026rsquo;:\u0026lsquo;4A\u0026rsquo;, \u0026lsquo;0.28\u0026rsquo;:\u0026lsquo;47\u0026rsquo;, \u0026lsquo;0.27\u0026rsquo;:\u0026lsquo;45\u0026rsquo;, \u0026lsquo;0.26\u0026rsquo;:\u0026lsquo;42\u0026rsquo;, \u0026lsquo;0.25\u0026rsquo;:\u0026lsquo;40\u0026rsquo;, \u0026lsquo;0.24\u0026rsquo;:\u0026lsquo;3D\u0026rsquo;, \u0026lsquo;0.23\u0026rsquo;:\u0026lsquo;3B\u0026rsquo;, \u0026lsquo;0.22\u0026rsquo;:\u0026lsquo;38\u0026rsquo;, \u0026lsquo;0.21\u0026rsquo;:\u0026lsquo;36\u0026rsquo;, \u0026lsquo;0.20\u0026rsquo;:\u0026lsquo;33\u0026rsquo;, \u0026lsquo;0.19\u0026rsquo;:\u0026lsquo;30\u0026rsquo;, \u0026lsquo;0.18\u0026rsquo;:\u0026lsquo;2E\u0026rsquo;, \u0026lsquo;0.17\u0026rsquo;:\u0026lsquo;2B\u0026rsquo;, \u0026lsquo;0.16\u0026rsquo;:\u0026lsquo;29\u0026rsquo;, \u0026lsquo;0.15\u0026rsquo;:\u0026lsquo;26\u0026rsquo;, \u0026lsquo;0.14\u0026rsquo;:\u0026lsquo;24\u0026rsquo;, \u0026lsquo;0.13\u0026rsquo;:\u0026lsquo;21\u0026rsquo;, \u0026lsquo;0.12\u0026rsquo;:\u0026lsquo;1F\u0026rsquo;, \u0026lsquo;0.11\u0026rsquo;:\u0026lsquo;1C\u0026rsquo;, \u0026lsquo;0.10\u0026rsquo;:\u0026lsquo;1A\u0026rsquo;, \u0026lsquo;0.09\u0026rsquo;:\u0026lsquo;17\u0026rsquo;, \u0026lsquo;0.08\u0026rsquo;:\u0026lsquo;14\u0026rsquo;, \u0026lsquo;0.07\u0026rsquo;:\u0026lsquo;12\u0026rsquo;, \u0026lsquo;0.06\u0026rsquo;:\u0026lsquo;0F\u0026rsquo;, \u0026lsquo;0.05\u0026rsquo;:\u0026lsquo;0D\u0026rsquo;, \u0026lsquo;0.04\u0026rsquo;:\u0026lsquo;0A\u0026rsquo;, \u0026lsquo;0.03\u0026rsquo;:\u0026lsquo;08\u0026rsquo;, \u0026lsquo;0.02\u0026rsquo;:\u0026lsquo;05\u0026rsquo;, \u0026lsquo;0.01\u0026rsquo;:\u0026lsquo;03\u0026rsquo;, \u0026lsquo;0.00\u0026rsquo;:\u0026lsquo;00\u0026rsquo;,\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/uniapp-hex-title-bar/","title":"uniappä½¿ç”¨hexé¢œè‰²è‡ªå®šä¹‰åŸç”Ÿæ ‡é¢˜æ å¯¼èˆªæ åŠé€æ˜"},{"content":"uniappå­—ç¬¦ä¸²æˆªå–bug substr()å’Œsubstring()æ— æ•ˆ\nè¿™ä¹Ÿä¸ç®—æ˜¯bug\n1 2 3 str_substr(str1,lenInt){ return str1.substr(0, lenInt) } é™„åŠ ä¸€ä¸ªç©ºå­—ç¬¦ä¸² å°±å¥½äº†\n1 2 3 4 5 str_substr1(str1, ii) { str1=str1+\u0026#34;\u0026#34; return str1.substr(0, ii) } ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/uniapp-bug-substr-substring/","title":"uniappå­—ç¬¦ä¸²æˆªå–bug"},{"content":"unraid å®‰è£… macos 12 Monterey ä»¥åŠå®ç°æ ¸æ˜¾ winå’Œmacos å…±äº«çš„æ–¹æ³• ç›®çš„ ä¸€ä¸ªèƒ½ç”¨å¾—èµ·çš„macos å¹¶ä¸”å¯ä»¥é€šè¿‡ winè™šæ‹Ÿæœº æœ¬æœºè½¬å‘macosçš„vnc å®ç°ä½å¸¦å®½å¸¦å®½ä¸‹çš„è¿œç¨‹è®¿é—®\nç¯å¢ƒ æˆ‘è¿™é‡ŒåŸºäº unraid 6.9.2 ç‰©ç†æœº æ˜¯ I7 8850H çš„æ ·å­ï¼Œé­”æ”¹cpu qnct æ ¸æ˜¾æ˜¯ UHD630 æ²¡æœ‰ç‹¬æ˜¾ å¤§æ¦‚å°±æ˜¯6h12çº¿ ç¿é¢‘2.8Gå·¦å³ å†…å­˜8x2=16G ç¡¬ç›˜ä¸€å—nvme 512G ä¸€å—å¤è‘£ 2.5æ‘1Tæœºæ¢°ç›˜ ç½‘å¡å’Œè“ç‰™æ˜¯bcm924xxå¿˜è®°äº†å…·ä½“å‹å·äº†ã€‚ #å…¶ä»–å‰ç½®éœ€æ±‚ ##æ¢¯å­æˆ–è€…hosts https://dev.leiyanhui.com/c/133 å°½é‡æ¢¯å­å§ é€Ÿåº¦å¥½ä¸€ç‚¹ ç„¶åå®‰è£…å¥½ unraid çš„æœ€æ–°åº”ç”¨å¸‚åœºå’Œä¸­æ–‡åŒ… ##æå‰é…ç½®dockerçš„å›½å†…é•œåƒ\nåº”ç”¨å¸‚åœºå®‰è£…è¾…åŠ©å·¥å…· ç›´æ¥åœ¨åº”ç”¨å¸‚åœºæœç´¢ Macinabox Macinabox ç®€å•è¯´æ˜\nå°±æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå¸®ä½ è‡ªåŠ¨ä¸‹è½½é»‘è‹¹æœç”¨çš„oc é•œåƒç­‰ï¼Œä»¥åŠè‡ªåŠ¨å¸®ä½ åˆ›å»ºè™šæ‹Ÿæœºã€‚æ˜¯åŸºäºdockeræŒ‚è½½ç‰©ç†æœºç›®å½•çš„æ–¹å¼å®ç°çš„\nå®‰è£…å®Œæˆå ä¼šæç¤ºåˆ›å»ºå®¹å™¨ Operating System Version: Monterey VM Images Location:å’ŒVM Images Location AGAIN !!!: ä¿®æ”¹æˆssdçš„è·¯å¾„ /mnt/disk1/domains/ Isos Share Location: ä¿®æ”¹ä¸ºæœºæ¢°ç¡¬ç›˜ /mnt/disk2/isos/ appdataä¿®æ”¹ä¸º /mnt/disk1/appdata/macinabox custom ovmf location:ä¿®æ”¹ /mnt/disk1/system/custom_ovmf/ ç‚¹åº”ç”¨ ç­‰å¾… æ‹‰å–é•œåƒ: spaceinvaderone/macinabox:lates æœ€åè‡ªåŠ¨åˆ›å»ºäº†å®¹å™¨root@localhost:# /usr/local/emhttp/plugins/dynamix.docker.manager/scripts/docker run -d --name='macinabox' --net='bridge' --privileged=true -e TZ=\u0026quot;Asia/Shanghai\u0026quot; -e HOST_OS=\u0026quot;Unraid\u0026quot; -e 'flavour'='Monterey' -e 'vminstall'='Auto install' -e 'vdisksize'='100G' -e 'vdisktype'='raw' -e 'opencore'='stock' -e 'replaceopencore'='no' -e 'overridenic'='no' -e 'VMIMAGES'='/mnt/disk1/domains/' -e 'ISOIMAGES'='/mnt/disk2/isos/' -e 'injectfixxml'='yes' -v '/mnt/disk1/domains/':'/domains':'rw' -v '/mnt/disk2/isos/':'/isos':'rw' -v '/mnt/disk1/appdata/macinabox':'/config':'rw' -v '/mnt/disk1/system/custom_ovmf/':'/customovmf/':'rw' -v '/boot/config/plugins/user.scripts/scripts':'/userscripts':'rw' 'spaceinvaderone/macinabox' 75e8a2253e687b88fd0ca13cfadbe7928916ecd32e957deb74e0f9f665b041f6 å¯ä»¥çœ‹åˆ° ä¸Šé¢æˆ‘ä»¬é…ç½®çš„è·¯å¾„ éƒ½åœ¨è¿™é‡Œæå®šäº† ##æŸ¥çœ‹ Macinabox ç»“æœ åˆ°å®¹å™¨é‡Œé¢ ç‚¹Macinabox æŸ¥çœ‹æ—¥å¿— å¦‚æœæ²¡æœ‰é—®é¢˜çš„è¯ ä¼šæç¤ºä½ å¯¹åº”çš„é•œåƒæ–‡ä»¶é…ç½®æ–‡ä»¶ éƒ½ç»™ä½ å¼„å¥½äº†ã€‚ä½ç½®ä¹Ÿè¯´æ˜äº†ã€‚ #æè„šæœ¬ user scripts è¿™ä¸ªå·²ç»ä¸æ˜¯å¿…é¡»çš„äº† çœ‹çœ‹ä¸Šé¢æ—¥å¿— A copy of the macinabox helper user script was placed in /mnt/user/appdata/macinabox shellç›´æ¥æ‰§è¡Œ``` sh /mnt/user/appdata/macinabox/macinabox_helper_userscript.sh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 æ£€æŸ¥é…ç½®è™šæ‹ŸæœºMacinabox Monterey ========================= å…ˆæ£€æŸ¥ç£ç›˜ä½ç½® æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä¸‰ä¸ªç£ç›˜ ä¸€ä¸ªopencore ä¸€ä¸ªinstall ä¸€ä¸ªç³»ç»Ÿç£ç›˜ æ²¡æœ‰å…¶ä»–éœ€è¦ä¿®æ”¹çš„é¡¹ç›® ç›´æ¥å¯åŠ¨ é“¾æ¥vnc ========== opencore è‡ªåŠ¨åŠ åˆ°åˆ°å¼•å¯¼ç•Œé¢ é€‰ç¬¬ä¸€ä¸ªç¡¬ç›˜ ï¼Œé¼ æ ‡æš‚æ—¶ä¸èƒ½ç”¨ä¸èƒ½ï¼Œç­‰è‹¹æœè¿›åº¦æ¡ å› ä¸ºæˆ‘æŠŠ Monterey-install.img æ”¾åˆ°äº†hhdçš„åŸå› å§ï¼Œå¯åŠ¨æ¯”æ­£å¸¸çš„VMwareè™šæ‹Ÿæœºçš„è‹¹æœå®‰è£…ç¨‹åºè¿˜è¦æ…¢ åé¢å°±æ˜¯æ­£å¸¸è‹¹æœå®‰è£…æ­¥éª¤ï¼Œå…ˆæ ¼å¼ç¡¬ç›˜å†å®‰è£…ã€‚ æˆ‘ç¬¬ä¸€æ¬¡é€‰æ‹©é”™äº†ç¡¬ç›˜ï¼ŒæŠŠocç»™æ ¼å¼æ‰äº†ã€‚éœ€è¦å½»åº•åˆ é™¤é‡æ–°å¼„ã€‚åˆ é™¤æ–¹æ³• çœ‹æ–‡æœ« ç­‰å¾…å®‰è£…å®Œæˆ ====== é‡å¯å é€‰æ‹©å¯åŠ¨çš„æ—¶å€™ï¼Œè¦æ³¨æ„ é€‰æ‹©ä½ç½® ç®€å•é…ç½®ä¸€ä¸‹ ï¼Œæ€§èƒ½è‚¯å®šæ˜¯æ‹‰è·¨çš„ï¼Œä¸»è¦æ˜¯æ˜¾å¡ æ˜¾å¡ç›´é€š wifiå¡ è“ç‰™å¡ ç›´é€š ================= è¿™äº›æ“ä½œé™¤äº†unraidçš„æ“ä½œï¼Œä¸»è¦è¿˜æ˜¯é»‘è‹¹æœçš„é©±åŠ¨é—®é¢˜ã€‚æ…¢æ…¢æŠ˜è…¾ä¸­.. æœªå®Œå¾…ç»­ ==== å½»åº•åˆ é™¤æ–¹æ³• ------ virsh destroy \u0026ldquo;Macinabox Monterey\u0026rdquo; virsh undefine \u0026ldquo;Macinabox Monterey\u0026rdquo; \u0026ndash;nvram docker stop macinabox docker rm macinabox rm -rf /mnt/disk2/isos/Monterey-install.img rm -rf /mnt/user/appdata/macinabox rm -rf /mnt/user/system/custom_ovmf rm -rf /mnt/user/domains/Macinabox*\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-install-macos-12-monterey/","title":"unraid å®‰è£… macos 12 Monterey ä»¥åŠå®ç°æ ¸æ˜¾ winå’Œmacos å…±äº«çš„æ–¹æ³•"},{"content":"unraidå®‰è£…Intel GVT g å®ç°ä¸€ä¸ªæ ¸æ˜¾ç»™å¤šä¸ªè™šæ‹Ÿæœºä½¿ç”¨ï¼Œç›®çš„ è®©è™šæ‹Ÿæœºå¯ä»¥è°ƒç”¨æ˜¾å¡å®ç°è¿œç¨‹åŠ é€Ÿ è§†é¢‘ç‚¹æ’­ è™šæ‹Ÿç¾¤æ™–è§†é¢‘è½¬ç ç­‰ç­‰ unraidå…æ¢¯å­è§£å†³å¤šæ•°æ’ä»¶é—®é¢˜ - å°ç±»éšæ‰‹è®° (leiyanhui.com) æ’ä»¶å¸‚åœºç›´æ¥æœç´¢ Intel GVT-G æœ‰å¯èƒ½éœ€è¦ æç¤ºç­‰å¾…çš„æ—¶å€™ ä¸€å®šè¦è€å¿ƒç­‰å¾… æœ€åæç¤º plugin: intel-gvt-g.plg installed æ‰ç®—å®Œæˆ é‡å¯ unraid æ‰“å¼€è®¾ç½® /Settings/intel-gvt-g-main å¯ä»¥çœ‹åˆ°``` Following modes are available: i915-GVTg_V5_4 i915-GVTg_V5_8\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-intel-gvt-g/","title":"unraidå®‰è£…Intel GVT g å®ç°ä¸€ä¸ªæ ¸æ˜¾ç»™å¤šä¸ªè™šæ‹Ÿæœºä½¿ç”¨ï¼Œç›®çš„ è®©è™šæ‹Ÿæœºå¯ä»¥è°ƒç”¨æ˜¾å¡å®ç°è¿œç¨‹åŠ é€Ÿ è§†é¢‘ç‚¹æ’­ è™šæ‹Ÿç¾¤æ™–è§†é¢‘è½¬ç ç­‰ç­‰"},{"content":"unraidå®‰è£…æ’ä»¶æˆ–å‡çº§ä¹‹ç±»çš„ï¼Œé‡åˆ°GitHubè¢«å¢™ æœ€ç®€å•çš„è§£å†³æ–¹æ³• å…æ¢¯å­ å…æœºåœº è¯•ç€ç”¨clash å¼„åŠå¤© è™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯æ²¡æ˜ç™½æ€ä¹ˆè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œå…¶ä»–ç³»ç»Ÿ éƒ½å¯ä»¥ å°±unraidçš„æ’ä»¶å¸‚åœº ä¸€ç›´æç¤º é¦–å…ˆå…ˆå»æ‰¾åœ¨çº¿hosts æº æ‰¾åˆ°æºhostså å…ˆåŒç½‘ç»œçš„ç”µè„‘ä¿®æ”¹ hostè¯•è¯•ï¼Œä¹Ÿå¯ä»¥ç”¨SwitchHosts åœ¨æœ¬åœ°è¯• çœ‹çœ‹å¯å¦æ‰“å¼€ https://raw.githubusercontent.com/Squidly271/community.applications/master/plugins/community.applications.plg å¦‚æœå¯ä»¥æ‰“å¼€åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ã€‚ ç„¶åå»ä¿®æ”¹unraidçš„hosts ï¼Œä¿®æ”¹å®Œ ä¸ç”¨é‡å¯ï¼Œä¹Ÿä¸ç”¨æ›´æ–°ç¼“å­˜ï¼Œæ³¨æ„ï¼šé‡å¯å°±æ— æ•ˆäº†ã€‚ å¦‚æœè¦ä¸€ç›´æœ‰æ•ˆ å°±åŠ åˆ°å¼€æœºå‘½ä»¤é‡Œé¢ï¼Œä¸è¿‡æ²¡å¿…è¦ï¼Œåˆä¸æ˜¯å¤©å¤©æŠ˜è…¾æ’ä»¶ä»€ä¹ˆçš„``` cd /etc mv hosts hosts-bak wget https://gitlab.com/ineo6/hosts/-/raw/master/next-hosts mv next-hosts hosts cat hosts\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-github/","title":"unraidå®‰è£…æ’ä»¶æˆ–å‡çº§ä¹‹ç±»çš„ï¼Œé‡åˆ°GitHubè¢«å¢™ æœ€ç®€å•çš„è§£å†³æ–¹æ³• å…æ¢¯å­ å…æœºåœº"},{"content":"unraidéƒ¨ç½²clashå’Œå¯è§†åŒ–ç•Œé¢ å»ºè®®ç”¨ v2rayA æ›´ç®€å• https://dev.leiyanhui.com/linux/docker-proxy/\nå…ˆå®‰è£…å¯è§†åŒ–ç•Œé¢\n1 2 3 4 5 docker pull haishanh/yacd docker run -p 1234:80 -d haishanh/yacd #1234ç«¯å£æ˜¯ä½ è®¿é—®clashå¯è§†åŒ–ç•Œé¢çš„ç«¯å£ æ”¹ä¸€ä¸‹ docker run --name clashx -p 1234:80 --restart=always -d haishanh/yacd æ‰“å¼€ http://unraidip:1234 å¯ä»¥è®¿é—®äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥æ“ä½œ æœ‰æç¤ºè¦æ·»åŠ ä¸€ä¸ª9090çš„æœåŠ¡ï¼Œå…ˆä¸ç®¡ï¼Œæˆ‘ä»¬ç»§ç»­\nå»æ‹¿åˆ° config.yaml è¿™ä¸ªæ–‡ä»¶è‡ªå·±æƒ³åŠæ³•ã€‚è‡ªå·±æƒ³åŠæ³•è§£å†³èŠ‚ç‚¹é—®é¢˜ã€‚å¦‚æœæ˜¯æœºåœºæœ‰æ”¯æŒwindows clash xçš„ï¼Œè®¢é˜…åˆ°windowså æœ¬åœ°ä¼šæœ‰è¿™ä¸ªæ–‡ä»¶ ã€‚è¿™ç©æ„æ”¶è´¹çš„ï¼Œä¸å¯èƒ½ç™½å«–çš„ã€‚å¦‚æœä½ æ²¡æœ‰åœ°æ–¹ä¹°ï¼Œå¯ä»¥æ‰¾æˆ‘æ‹¿é‚€è¯·é“¾æ¥ï¼Œä¼šé€ä½ æˆ‘ä¸€ç‚¹æµé‡ã€‚\næŠŠæ–‡ä»¶æ”¾åˆ° /mnt/disk1/appdata/clash/config.yaml\n1 2 C:\\Users\\ä½ çš„ç”¨æˆ·å\\.config\\clash\\profiles æ³¨æ„ æ˜¯åœ¨ profiles ç›®å½• ç»§ç»­å®‰è£…docker\n1 2 docker pull dreamacro/clash docker run --name clash -d -v /mnt/disk1/appdata/clash/config.yaml:/root/.config/clash/config.yaml --privileged -p 7890:7890 -p 9090:9090 dreamacro/clash ç„¶åå‘ç° yacd ä¸€ç›´è¿ä¸ä¸Š è¿™è¾¹ï¼Œæœ€åæ”¹ä¸ºhostæ¨¡å¼ å°±å¯ä»¥äº†ã€‚\nunriadå¯ç”¨httpä»£ç† ä¿®æ”¹Uç›˜configç›®å½•ä¸‹çš„goæ–‡ä»¶ï¼Œå¢åŠ å¦‚ä¸‹ä»£ç ï¼Œæ³¨æ„ åŠ ç²—éƒ¨åˆ†ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„IPå’Œç«¯å£\nhttp_proxy=http://192.168.1.2:7890 https_proxy=http://192.168.1.2:7890 /usr/local/sbin/emhttp \u0026amp;\necho \u0026ldquo;export http_proxy=\u0026rdquo;http://192.168.1.2:7890\u0026quot;\u0026quot; \u0026raquo; /root/.bash_profile\necho \u0026ldquo;export https_proxy=\u0026rdquo;http://192.168.1.2:7890\u0026quot;\u0026quot; \u0026raquo; /root/.bash_profile\nä¿®æ”¹Uç›˜/config/plugins/community.applicationsç›®å½•ä¸‹çš„proxy.cfgæ–‡ä»¶ï¼ˆæ²¡æœ‰çš„è¯è‡ªå·±æ‰‹åŠ¨åˆ›å»ºï¼‰\nåŒæ ·æ³¨æ„åŠ ç²—éƒ¨åˆ†ä¿®æ”¹æˆè‡ªå·±çš„\nport=7890\ntunnel=2\nproxy=http://192.168.1.2\nproxy=socks5://192.168.1.2\nä¸‹é¢ç»™ä¸€ä¸ªconfig.yaml çš„èŒƒæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 mixed-port: 7890 #å¿…é¡» allow-lan: true #å¿…é¡»çš„ bind-address: \u0026#39;*\u0026#39; #å¿…é¡» mode: rule #å¿…é¡» log-level: silent #å¿…é¡» external-controller: \u0026#39;:9090\u0026#39; #å¿…é¡» dns: enable: true ipv6: false default-nameserver: [223.5.5.5, 119.29.29.29] enhanced-mode: redir-host fake-ip-range: 198.18.0.1/16 use-hosts: true nameserver: [\u0026#39;https://doh.pub/dns-query\u0026#39;, \u0026#39;https://dns.alidns.com/dns-query\u0026#39;] fallback: [\u0026#39;https://doh.dns.sb/dns-query\u0026#39;, \u0026#39;https://dns.cloudflare.com/dns-query\u0026#39;, \u0026#39;https://dns.twnic.tw/dns-query\u0026#39;, \u0026#39;tls://8.8.4.4:853\u0026#39;] fallback-filter: { geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] } proxies: - æ›´å¤šå†…å®¹ å‚è€ƒå ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-clash/","title":"unraidéƒ¨ç½²clashå’Œå¯è§†åŒ–ç•Œé¢"},{"content":"unraidç¦»çº¿å®‰è£…å®˜ç½‘ä¸­æ–‡è¯­è¨€åŒ…ï¼Œå…æ¢¯å­çš„æ–¹æ³• unraidç¦»çº¿å®‰è£…å®˜ç½‘ä¸­æ–‡è¯­è¨€åŒ…ï¼Œå…æ¢¯å­çš„æ–¹æ³•\n6.9.2ä¸ºä¾‹å­ æ‰“å¼€ https://github.com/unraid/lang-zh_CN zipä¸‹è½½ å¦‚æœ githubéƒ½æ‰“ä¸å¼€ é‚£å°±æ‰¾ä¸€ä¸ªgitåŠ é€Ÿç½‘ç«™ ä¾‹å¦‚ https://ghproxy.com/https://github.com/unraid/lang-zh_CN/archive/refs/heads/master.zip ä¸‹è½½å›æ¥çš„zipä¸è¦è§£å‹ åœ¨unraid çš„é¡µé¢ä¸­ç‚¹ tools ç„¶åæ‰¾åˆ° http://xxxxxx/Tools/Language é‡ç‚¹æ¥äº†ï¼Œå³ä¾§ æœ‰ä¸€ä¸ª user å’Œ develop åˆ‡æ¢æŒ‰é’®ï¼Œç‚¹ user åˆ‡æ¢åˆ°developæ¨¡å¼ Select language: é€‰æ‹©ä¸­æ–‡ Select language file: ç‚¹ Browse é€‰æ‹©åˆšåˆšçš„zipåŒ… uploadä¸Šä¼  åˆ·æ–°ä¸€ä¸‹ é¡µé¢ ç„¶åæ‰“å¼€ /Settings/DisplaySettings é€‰æ‹©ä¸­æ–‡å°±å¯ä»¥äº† ä¹Ÿå¯ä»¥åœ¨ å±å¹•å³ä¸Šè§’ æœ‰ä¸€ä¸ª ä¸¤ä¸ªå‰ªå¤´ç»„æˆçš„æ–¹æ¡†ä½ç½® åˆ‡æ¢è¯­è¨€ è¿™ä¸ªæ–¹æ³• ä¿®æ”¹çš„ä¸­æ–‡è¯­è¨€ï¼Œé‡å¯åä¼šå¤±æ•ˆã€‚ å¦‚æœ è¦ä¸€ç›´æœ‰æ•ˆï¼Œè¿˜æ˜¯éœ€è¦è§£å†³ GitHubæ±¡æŸ“é—®é¢˜ï¼Œåå®‰è£…æœ€æ–°ç‰ˆæœ¬ apps å¸‚åœºï¼Œç„¶ååœ¨å¸‚åœºé‡Œé¢ç›´æ¥å®‰è£… å…æ¢¯å­ç›´æ¥æå®šçš„æ–¹æ³• unraidå…æ¢¯å­è§£å†³å¤šæ•°æ’ä»¶é—®é¢˜ - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-cn/","title":"unraidç¦»çº¿å®‰è£…å®˜ç½‘ä¸­æ–‡è¯­è¨€åŒ…ï¼Œå…æ¢¯å­çš„æ–¹æ³•"},{"content":"unraidå…æ¢¯å­è§£å†³å¤šæ•°æ’ä»¶é—®é¢˜ unraidå¤§é‡ä¾èµ–githubï¼Œdocker è·‘clashçš„æ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œéœ€è¦æ”¹ä¸‰å¤„åœ°æ–¹ã€‚\nä½†æ˜¯ å¤§éƒ¨åˆ†æœºåœºçš„é…ç½®æ–‡ä»¶ éƒ½æ˜¯åŸºäºwinçš„ éœ€è¦æ‰‹åŠ¨è½¬æ¢ï¼Œæˆ–è€…å†™è„šæœ¬è‡ªåŠ¨è½¬æ¢ï¼ŒçœŸçš„å¾ˆéº»çƒ¦ã€‚\né‚£æ˜¯æ”¹hostsäº†ï¼Œnext hosts æ˜¯ä¸€ä¸ªç¨³å®šå¤šå¹´çš„hostç»´æŠ¤äº†\n1 2 3 4 5 6 7 #!/bin/bash #æ›´æ–°hosts cd /etc cp hosts hosts-bak rm -rf hosts wget -c https://gitlab.com/ineo6/hosts/-/raw/master/next-hosts mv next-hosts hosts è¿™ä¸ªè„šæœ¬ æ‰§è¡Œåï¼Œå»ºè®®è®¿é—®unraidçš„ç”µè„‘ä¹Ÿå¼„ä¸€ä¸‹ï¼Œæˆ–è€…æŒ‚æ¢¯å­\nä»¥åæ¯æ¬¡è¦è£…æ’ä»¶ä¹‹å‰ æ‰§è¡Œä¸€æ¬¡ æˆ–è€…ï¼Œå¹²è„†è£…ä¸€ä¸ª user scriptæ’ä»¶ æ·»åŠ åˆ°è„šæœ¬é‡Œé¢\nç„¶åcustomï¼Œè®¾å®š5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡\n1 */5 * * * * ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-auto-hosts/","title":"unraidå…æ¢¯å­è§£å†³å¤šæ•°æ’ä»¶é—®é¢˜"},{"content":"unraidä¸‹kvmè™šæ‹Ÿæœºåˆ›å»ºå’Œçƒ­æ‹”æ’ä¸€ä¸ªè™šæ‹Ÿç¡¬ç›˜ åˆ›å»º\n1 2 3 cd /mnt/disk1/domains qemu-img create -f qcow2 win_soft.qcow2 40G virsh é™„åŠ åˆ°è™šæ‹Ÿæœº\n1 virsh attach-disk Win2022 /mnt/disk1/domains/win_soft.qcow2 vdb --cache writeback --subdriver qcow2 --config --live windows2022 æ˜¯è™šæ‹Ÿæœºåç§° vdb æ˜¯æŒ‚è½½åºå·\nè¿˜å¯ä»¥ä¸å…³æœºç›´æ¥æ”¹å®¹é‡\nåˆ é™¤ ï¼Œæ·»åŠ å®¹é‡ï¼Œé™„åŠ ç¡¬ç›˜\n1 2 3 virsh detach-disk Win2022 vdb--persistent qemu-img resize /mnt/disk1/domains/win_soft.qcow2 +1G virsh attach-disk Win2022 /mnt/disk1/domains/win_soft.qcow2 vdb --cache writeback --subdriver qcow2 --config --live ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraid-kvm-add-disk/","title":"unraidä¸‹kvmè™šæ‹Ÿæœºåˆ›å»ºå’Œçƒ­æ‹”æ’ä¸€ä¸ªè™šæ‹Ÿç¡¬ç›˜"},{"content":"unraidè™šæ‹Ÿæœºè¿è¡ŒWindows 2022çš„é…ç½®æ–‡ä»¶ unraidç ´è§£ç‰ˆå®‰è£…Windows10 ltc 2021çš„æ—¶å€™é‡åˆ°èŠ±å±é—®é¢˜ æ²¡æ—¶é—´ç ”ç©¶è§£å†³æ–¹æ³• å°è¯•äº†windows server 2022 æ²¡é—®é¢˜ è®°å½•ä¸€ä¸‹é…ç½®æ–‡ä»¶ å…ˆè´´xml åè´´æˆªå›¾\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 \u0026lt;?xml version=\u0026#39;1.0\u0026#39; encoding=\u0026#39;UTF-8\u0026#39;?\u0026gt; \u0026lt;domain type=\u0026#39;kvm\u0026#39;\u0026gt; \u0026lt;name\u0026gt;Win2022\u0026lt;/name\u0026gt; \u0026lt;uuid\u0026gt;1ac2ae0c-a1df-1110-5b63-14d758344a6b\u0026lt;/uuid\u0026gt; \u0026lt;metadata\u0026gt; \u0026lt;vmtemplate xmlns=\u0026#34;unraid\u0026#34; name=\u0026#34;Windows 10\u0026#34; icon=\u0026#34;windows.png\u0026#34; os=\u0026#34;windows10\u0026#34;/\u0026gt; \u0026lt;/metadata\u0026gt; \u0026lt;memory unit=\u0026#39;KiB\u0026#39;\u0026gt;8388608\u0026lt;/memory\u0026gt; \u0026lt;currentMemory unit=\u0026#39;KiB\u0026#39;\u0026gt;8388608\u0026lt;/currentMemory\u0026gt; \u0026lt;memoryBacking\u0026gt; \u0026lt;nosharepages/\u0026gt; \u0026lt;/memoryBacking\u0026gt; \u0026lt;vcpu placement=\u0026#39;static\u0026#39;\u0026gt;12\u0026lt;/vcpu\u0026gt; \u0026lt;cputune\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;0\u0026#39; cpuset=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;1\u0026#39; cpuset=\u0026#39;6\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;2\u0026#39; cpuset=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;3\u0026#39; cpuset=\u0026#39;7\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;4\u0026#39; cpuset=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;5\u0026#39; cpuset=\u0026#39;8\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;6\u0026#39; cpuset=\u0026#39;3\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;7\u0026#39; cpuset=\u0026#39;9\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;8\u0026#39; cpuset=\u0026#39;4\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;9\u0026#39; cpuset=\u0026#39;10\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;10\u0026#39; cpuset=\u0026#39;5\u0026#39;/\u0026gt; \u0026lt;vcpupin vcpu=\u0026#39;11\u0026#39; cpuset=\u0026#39;11\u0026#39;/\u0026gt; \u0026lt;/cputune\u0026gt; \u0026lt;os\u0026gt; \u0026lt;type arch=\u0026#39;x86_64\u0026#39; machine=\u0026#39;pc-i440fx-5.1\u0026#39;\u0026gt;hvm\u0026lt;/type\u0026gt; \u0026lt;/os\u0026gt; \u0026lt;features\u0026gt; \u0026lt;acpi/\u0026gt; \u0026lt;apic/\u0026gt; \u0026lt;hyperv\u0026gt; \u0026lt;relaxed state=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;vapic state=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;spinlocks state=\u0026#39;on\u0026#39; retries=\u0026#39;8191\u0026#39;/\u0026gt; \u0026lt;vendor_id state=\u0026#39;on\u0026#39; value=\u0026#39;none\u0026#39;/\u0026gt; \u0026lt;/hyperv\u0026gt; \u0026lt;/features\u0026gt; \u0026lt;cpu mode=\u0026#39;host-passthrough\u0026#39; check=\u0026#39;none\u0026#39; migratable=\u0026#39;on\u0026#39;\u0026gt; \u0026lt;topology sockets=\u0026#39;1\u0026#39; dies=\u0026#39;1\u0026#39; cores=\u0026#39;6\u0026#39; threads=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;cache mode=\u0026#39;passthrough\u0026#39;/\u0026gt; \u0026lt;/cpu\u0026gt; \u0026lt;clock offset=\u0026#39;localtime\u0026#39;\u0026gt; \u0026lt;timer name=\u0026#39;hypervclock\u0026#39; present=\u0026#39;yes\u0026#39;/\u0026gt; \u0026lt;timer name=\u0026#39;hpet\u0026#39; present=\u0026#39;no\u0026#39;/\u0026gt; \u0026lt;/clock\u0026gt; \u0026lt;on_poweroff\u0026gt;destroy\u0026lt;/on_poweroff\u0026gt; \u0026lt;on_reboot\u0026gt;restart\u0026lt;/on_reboot\u0026gt; \u0026lt;on_crash\u0026gt;restart\u0026lt;/on_crash\u0026gt; \u0026lt;devices\u0026gt; \u0026lt;emulator\u0026gt;/usr/local/sbin/qemu\u0026lt;/emulator\u0026gt; \u0026lt;disk type=\u0026#39;file\u0026#39; device=\u0026#39;disk\u0026#39;\u0026gt; \u0026lt;driver name=\u0026#39;qemu\u0026#39; type=\u0026#39;raw\u0026#39; cache=\u0026#39;writeback\u0026#39;/\u0026gt; \u0026lt;source file=\u0026#39;/mnt/user/domains/Win2022/vdisk1.img\u0026#39;/\u0026gt; \u0026lt;target dev=\u0026#39;hdc\u0026#39; bus=\u0026#39;virtio\u0026#39;/\u0026gt; \u0026lt;boot order=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x05\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/disk\u0026gt; \u0026lt;controller type=\u0026#39;pci\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;pci-root\u0026#39;/\u0026gt; \u0026lt;controller type=\u0026#39;ide\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x01\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;virtio-serial\u0026#39; index=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x04\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-ehci1\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x7\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci1\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x0\u0026#39; multifunction=\u0026#39;on\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci2\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;2\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x1\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;controller type=\u0026#39;usb\u0026#39; index=\u0026#39;0\u0026#39; model=\u0026#39;ich9-uhci3\u0026#39;\u0026gt; \u0026lt;master startport=\u0026#39;4\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x07\u0026#39; function=\u0026#39;0x2\u0026#39;/\u0026gt; \u0026lt;/controller\u0026gt; \u0026lt;interface type=\u0026#39;bridge\u0026#39;\u0026gt; \u0026lt;mac address=\u0026#39;52:54:00:cc:4c:19\u0026#39;/\u0026gt; \u0026lt;source bridge=\u0026#39;br0\u0026#39;/\u0026gt; \u0026lt;model type=\u0026#39;virtio-net\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x03\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/interface\u0026gt; \u0026lt;serial type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;isa-serial\u0026#39; port=\u0026#39;0\u0026#39;\u0026gt; \u0026lt;model name=\u0026#39;isa-serial\u0026#39;/\u0026gt; \u0026lt;/target\u0026gt; \u0026lt;/serial\u0026gt; \u0026lt;console type=\u0026#39;pty\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;serial\u0026#39; port=\u0026#39;0\u0026#39;/\u0026gt; \u0026lt;/console\u0026gt; \u0026lt;channel type=\u0026#39;unix\u0026#39;\u0026gt; \u0026lt;target type=\u0026#39;virtio\u0026#39; name=\u0026#39;org.qemu.guest_agent.0\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;virtio-serial\u0026#39; controller=\u0026#39;0\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/channel\u0026gt; \u0026lt;input type=\u0026#39;tablet\u0026#39; bus=\u0026#39;usb\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;usb\u0026#39; bus=\u0026#39;0\u0026#39; port=\u0026#39;1\u0026#39;/\u0026gt; \u0026lt;/input\u0026gt; \u0026lt;input type=\u0026#39;mouse\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;input type=\u0026#39;keyboard\u0026#39; bus=\u0026#39;ps2\u0026#39;/\u0026gt; \u0026lt;graphics type=\u0026#39;vnc\u0026#39; port=\u0026#39;-1\u0026#39; autoport=\u0026#39;yes\u0026#39; websocket=\u0026#39;-1\u0026#39; listen=\u0026#39;0.0.0.0\u0026#39; keymap=\u0026#39;en-us\u0026#39;\u0026gt; \u0026lt;listen type=\u0026#39;address\u0026#39; address=\u0026#39;0.0.0.0\u0026#39;/\u0026gt; \u0026lt;/graphics\u0026gt; \u0026lt;video\u0026gt; \u0026lt;model type=\u0026#39;qxl\u0026#39; ram=\u0026#39;65536\u0026#39; vram=\u0026#39;65536\u0026#39; vgamem=\u0026#39;16384\u0026#39; heads=\u0026#39;1\u0026#39; primary=\u0026#39;yes\u0026#39;/\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x02\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/video\u0026gt; \u0026lt;memballoon model=\u0026#39;virtio\u0026#39;\u0026gt; \u0026lt;address type=\u0026#39;pci\u0026#39; domain=\u0026#39;0x0000\u0026#39; bus=\u0026#39;0x00\u0026#39; slot=\u0026#39;0x06\u0026#39; function=\u0026#39;0x0\u0026#39;/\u0026gt; \u0026lt;/memballoon\u0026gt; \u0026lt;/devices\u0026gt; \u0026lt;/domain\u0026gt; ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/unraidwindows-2022/","title":"unraidè™šæ‹Ÿæœºè¿è¡ŒWindows 2022çš„é…ç½®æ–‡ä»¶"},{"content":"virtualbox è¿ç§»åˆ°kvm è€ƒè™‘åˆ°ç¡¬ä»¶ç›´é€šçš„é—®é¢˜\nç‰©ç†æœº æ¢åˆ° unraidï¼ŒåŸæ¥åœ¨virtualboxè¿è¡Œçš„dockerç›´æ¥æŒ‚åˆ°äº†unraid\nå‰©ä¸‹winè™šæ‹Ÿæœºçš„è½¯ä»¶ç£ç›˜ï¼ˆvhd vhdxï¼‰ è¿˜æ˜¯éœ€è¦è¿ç§»qcow2\nç¬¬ä¸€ç§æ–¹æ¡ˆ æœ€ç®€å•ï¼Œåˆ›å»ºä¸€ä¸ª qcow2 æŠŠvhdxæ–‡ä»¶ç›´æ¥é€šè¿‡nas å¤åˆ¶qcow2åˆ†åŒºå³å¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‚è½½vhdåå¤åˆ¶æ–‡ä»¶\nç¬¬äºŒç§æ–¹æ¡ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 #blkdebug blklogwrites blkverify bochs cloop compress copy-before-write copy-on-read dmg file ftp ftps host_cdrom host_device http https luks nbd null-aio null-co nvme parallels preallocate qcow qcow2 qed quorum raw replication ssh throttle vdi vhdx vmdk vpc vvfat ã€qed # vpc å°±æ˜¯ vhd cd /mnt/disk1/domains cp /mnt/disks/HHD/system-vhd-bak/Win-Soft-Data/SOFT.vhd ./ cp /mnt/disks/HHD/system-vhd-bak/Win-Soft-Data/IDEs.vhdx ./ qemu-img convert -p -f vpc -O qcow2 SOFT.vhd soft.qcow2 qemu-img convert -p -f vhdx -O qcow2 IDEs.vhdx ide.qcow2 æœ‰é”™è¯¯ï¼Œå…ˆ qemu-img check -r all \u0026#39;IDEs.vhdx\u0026#39; å†è½¬æ¢ å°±okäº† ç„¶åæŒ‚è½½åˆ°è™šæ‹Ÿæœº unraidä¸‹kvmè™šæ‹Ÿæœºåˆ›å»ºå’Œçƒ­æ‹”æ’ä¸€ä¸ªè™šæ‹Ÿç¡¬ç›˜ - å°ç±»éšæ‰‹è®° (leiyanhui.com)\n1 2 3 4 5 6 7 8 9 10 11 virsh detach-disk Win2022 vdb --persistent virsh attach-disk Win2022 /mnt/disk1/domains/soft.qcow2 vdb --cache writeback --subdriver qcow2 --config --live virsh attach-disk Win2022 /mnt/disk1/domains/ide.qcow2 vdc --cache writeback --subdriver qcow2 --config --live error: Failed to attach disk error: internal error: unable to execute QEMU command \u0026#39;device_add\u0026#39;: Duplicate device ID \u0026#39;virtio-disk2\u0026#39; æ£€æŸ¥å‘ç° æ˜¯ vdc è¢«å ç”¨äº†ï¼Œä¸çŸ¥é“ æ”¹æˆ vdd å°±å¯ä»¥äº† ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/virtualbox-kvm/","title":"virtualbox è¿ç§»åˆ°kvm"},{"content":"VirtualBoxçš„ä¼˜åŠ¿å’Œä¸ºä»€ä¹ˆé€‰æ‹©VirtualBox 1ã€VirtualBox å…è´¹å¼€æº 2ã€cpu å†…å­˜ å’Œ ç¡¬ç›˜ æ€§èƒ½å¹¶ä¸æ¯”vmwareå·® 3ã€æ”¯æŒvdi vhd vmdkåˆ†åŒºæ ¼å¼ï¼Œè‡ªå¸¦å‘½ä»¤è¡Œç‰ˆæœ¬ä¸‡èƒ½è½¬åŒ–å·¥å…· 4ã€è½»å·§ 5ã€æ”¯æŒmacos å¯ä»¥æ”¯æŒåˆ°13ç‰ˆæœ¬[2022-08-29] 6ã€æ”¯æŒusb 7ã€VirtualBox åšçš„vhdæˆ–è€…vdi å¯ä»¥åœ¨ç‰©ç†æœºç›´æ¥å¯åŠ¨ 8ã€VirtualBox åœ¨å¤šæ•°æƒ…å†µä¸‹ è¿è¡Œlinux æˆ–è€…win åœ¨ä¸éœ€è¦3dçš„æƒ…å†µä¸‹ï¼Œä¸ç®¡ç›´æ¥è¿è¡Œè¿˜æ˜¯docker å¹¶ä¸æ¯”vmwareæ€§èƒ½å·®ï¼ŒVirtualBox +linux+docker çš„æ€§èƒ½ï¼Œä¹Ÿåªæ˜¯ç•¥é€Šäº wsl+docker Windows vhdçš„è¯ç”¨BOOTICE.exeä¹‹ç±»çš„çš„å·¥å…·ç›´æ¥é™„åŠ åˆ°bcdå³å¯ ä¹Ÿå¯ä»¥ç”¨ventoy å¯åŠ¨ linuxçš„è¯ å¯ä»¥ç”¨ventoy å¯åŠ¨ è¯¦æƒ…å‚è€ƒventoyå®˜ç½‘\næ¯”vmware æˆ–è€… hyper-vå·®çš„åœ°æ–¹ 1ã€æ•™ç¨‹è¾ƒå°‘ å¦‚æœæ˜¯ç©ç‰¹æ®Šç³»ç»Ÿæ–°æ‰‹ä¸Šæ‰‹éš¾åº¦è¾ƒå¤§ï¼Œæ¯”å¦‚ æœ€æ–°ç‰ˆé»‘ç¾¤æ™–çš„æ•™ç¨‹ å°±å‡ ä¹æ²¡æœ‰ï¼Œè™½ç„¶ä¸éš¾ï¼Œä½†æ˜¯æ–°æ‰‹å¯èƒ½æ‡µé€¼ 2ã€3dæ€§èƒ½æ¯”vmwareæ‹‰èƒ¯ï¼Œå½“ç„¶æ¯”hyper-væ›´æ‹‰è·¨ 3ã€ä¸æ”¯æŒç¡¬ä»¶ç›´é€šï¼Œvmwareä¹Ÿä¸æ”¯æŒï¼Œexsi pve unraidä¹‹ç±»çš„æ”¯æŒ hyper-vä¹Ÿå¯ä»¥æ”¯æŒ\nä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹© hyper-vï¼Ÿ hyper-vä¸æ”¯æŒusbè¿™æ˜¯å¾ˆå¤šäºº æ„Ÿè§‰æœ€è›‹ç–¼çš„ï¼Œå¯ä»¥ç”¨ USB Over Network è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä»–æƒ…å†µä¸‹ hyper-v æ€§èƒ½æœ€ä¼˜ï¼Œè€Œä¸”æ”¯æŒvgpu ä½†æ˜¯ hyper-v å®‰è£…é»‘è‹¹æœ éå¸¸éº»çƒ¦ï¼šå¤§è‡´æµç¨‹æ˜¯ å¼€å¯vgpu æˆ–è€…ç¡¬ä»¶ç›´é€šåï¼Œä»¥åŠåµŒå¥—è™šæ‹ŸåŒ–å åœ¨hv å®‰è£…pve æˆ–è€…unraid å†è¡Œå®‰è£…é»‘è‹¹æœã€‚unraid appå¸‚åœºå¸¦ä¸€ä¸ªè‡ªåŠ¨å®‰è£…å·¥å…·ä¸è¿‡åªæ”¯æŒåŒæ ¸cpu\nä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©hyper-v æœ‰æ­£ç‰ˆWindowsã€å¯¹æ€§èƒ½è¦æ±‚é«˜ï¼Œå®Œå…¨ä¸ç©è™šæ‹Ÿmacosã€ä¸å–œæ¬¢åœ¨è™šæ‹Ÿæœºè·‘docker ä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©vmware å®Œå…¨ä¸ç©vhd å¯ä»¥æ¥å—vmware player æˆ– ç›—ç‰ˆsn å¯¹VirtualBoxä¸æ„Ÿå†’ï¼Œå¯¹3dè¦æ±‚ç•¥é«˜ä¸€äº› ä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©VirtualBox ä¸ä¼šåœ¨è™šæ‹Ÿæœºé‡Œé¢æ‰“æ¸¸æˆï¼Œå¯¹3Dæ€§èƒ½è¦æ±‚ä¸å¤ªé«˜ï¼Œæœ‰èƒ½åŠ›æå®šä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ æˆ‘é€‰æ‹© VirtualBox + vmware æ˜¯å› ä¸ºæˆ‘éœ€è¦ä½¿ç”¨vmwareè·‘é»‘è‹¹æœï¼Œå¦å¤–ä¸€äº›å•†ç”¨æœåŠ¡å™¨æ€§è´¨çš„å†…å®¹ä¸¢åˆ°VirtualBox è¿è¡Œï¼Œå’Œhyper-v ä»¥åŠç‰©ç†æœº ä¹‹é—´æ¥å›è¿ç§»æ–¹ä¾¿ã€‚\n2022å¹´10-07 å·²ç»å…¨éƒ¨è¿ç§»åˆ° æ¢kvmäº†\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/virtualbox-superiority/","title":"VirtualBoxçš„ä¼˜åŠ¿å’Œä¸ºä»€ä¹ˆé€‰æ‹©VirtualBox"},{"content":"windows server 2022 å¼€æœºè‡ªåŠ¨ç™»å½• å› æˆ‘çš„windows server 2022 è¿è¡Œåœ¨kvmä¸Šï¼Œä¸å­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥é…ç½®ä¸€ä¸‹ï¼Œå¼€æœºè‡ªåŠ¨ç™»å½• ç¬¬ä¸€æ˜¯ å¼€æœº ctrl+alt+del çš„é—®é¢˜ æ³¨å†Œè¡¨ win+r regedit\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\PasswordLess\\Device]\nDevicePasswordLessBuildVersion æ”¹ä¸º1 æˆ–è€…ä¿å­˜ä¸ºreg åŒå‡»å¯¼å…¥\n1 2 3 Windows Registry Editor Version 5.00 [HKEY\\_LOCAL\\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\PasswordLess\\Device] \u0026#34;DevicePasswordLessBuildVersion\u0026#34;=dword:00000000 ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/win2022-autologin/","title":"windows server 2022 å¼€æœºè‡ªåŠ¨ç™»å½•"},{"content":"Windowsè®¿é—®btrfsæ–‡ä»¶ç³»ç»Ÿ ç¾¤æ™–ç£ç›˜ä½¿ç”¨btrfsæ–‡ä»¶æ ¼å¼ Windowsä¸‹ä¸å®¹æ˜“è®¿é—® ç®€å•æ–¹æ³• å°±æ˜¯å®‰è£…ä¸€ä¸ªé©±åŠ¨ https://github.com/maharmstone/btrfs\nè§£å‹å å³é”® btrfs.inf å®‰è£… å¦‚æœç³»ç»Ÿå¼€äº† å®‰å…¨å¯åŠ¨ é©±åŠ¨ä¼šæ— æ³•åŠ è½½ éœ€è¦æ”¹ä¸€ä¸‹æ³¨å†Œè¡¨\nHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\CI\\Policy\næ–°å»ºä¸€ä¸ª DWORD value called UpgradedSystem and set to 1\nç„¶åé‡å¯ å¦å¤–ä¸€ä¸ªè½¯ä»¶ UFS Explorerï¼Œä½†æ˜¯ç½‘ä¸Šç ´è§£ç‰ˆ åŸºæœ¬éƒ½æ˜¯å‡çš„ æœ‰æ–‡ä»¶å¤§å°é™åˆ¶ã€‚\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/btrfs-win/","title":"Windowsè®¿é—®btrfsæ–‡ä»¶ç³»ç»Ÿ"},{"content":"windowsé€šè¿‡sftpæŒ‚è½½linuxåˆ†åŒºçš„æ–¹æ³• æ–¹æ³•å¾ˆå¤š rclone sshfs-win éƒ½å¯ä»¥ï¼Œä½†æ˜¯å›¾å½¢ç•Œé¢å¹¶ä¸”é…ç½®ç®€å•çš„ è¿˜æ˜¯ sFTPDrive\nå…è´¹ç‰ˆæœ¬ ä¸æ”¯æŒå‘½ä»¤è¡Œï¼Œåªæ”¯æŒæ‰‹åŠ¨ç»‘å®šï¼Œé‡å¯ä¹Ÿéœ€è¦æ‰‹åŠ¨å¯åŠ¨ä¸€æ¬¡ï¼Œä½†æ˜¯å…¶å®ä¹Ÿè¶³å¤Ÿäº†ã€‚\nhttps://www.nsoftware.com/sftp/drive/download.aspx\nä¹Ÿå¯ä»¥ä½¿ç”¨rclone\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/windows-sftp-linux/","title":"windowsé€šè¿‡sftpæŒ‚è½½linuxåˆ†åŒºçš„æ–¹æ³•"},{"content":"å®å¡”é¢æ¿è‡ªèº«yä»¥åŠphpmyadminå¼€å¯sslï¼Œå¹¶è‡ªåŠ¨ç»­ç­¾çš„æ–¹æ³•ã€‚ å®ç°æ–¹æ³•ï¼šæŠŠå®å¡”é¢æ¿è‡ªèº«çš„sslè¯ä¹¦æ–‡ä»¶è½¯è¿æ¥åˆ°ç½‘ç«™çš„sslè¯ä¹¦æ–‡ä»¶ è€Œç½‘ç«™è‡ªå·±çš„sslæ˜¯å¯ä»¥é€šè¿‡å®å¡”è‡ªå¸¦çš„è®¡åˆ’ä»»åŠ¡ç»­ç­¾çš„ã€‚ é¦–å…ˆçŸ¥é“ä¸¤è¾¹æ–‡ä»¶çš„è·¯å¾„ é¢æ¿å’Œphpmyadminé»˜è®¤ä½¿ç”¨çš„æ–‡ä»¶ä» /www/server/panel/vhost/nginx/phpmyadmin.conf å¯ä»¥çœ‹åˆ° è·¯å¾„åˆ†åˆ«æ˜¯ /www/server/panel/ssl/certificate.pem; /www/server/panel/ssl/privateKey.pem; ç½‘ç«™çš„sslè¯ä¹¦æ–‡ä»¶æ˜¯ /www/server/panel/vhost/cert/forssl.jia.leiyanhui.com/fullchain.pem; /www/server/panel/vhost/cert/forssl.jia.leiyanhui.com/privkey.pem; å‡†å¤‡è½¯è¿æ¥ ln -s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ ç„¶ååœ¨é¢æ¿å’Œphpmyadminä½ç½®åˆ†åˆ«æ‰“å¼€ssl å°±å¯ä»¥äº†ã€‚ å› ä¸ºæˆ‘è¿™é‡Œäº†äºŒçº§åŸŸå jia.leiyanhui.com å’Œä¸‰çº§åŸŸå *.jia.leiyanhui.com ä¸‰çº§åŸŸåçš„è¯ä¹¦ä¸å¯ä»¥ä½¿ç”¨ *.leiyanhui.comçš„è¯ä¹¦ï¼Œæ‰€ä»¥å•ç‹¬ç”³è¯·\n1 2 3 4 rm -rf /www/server/panel/ssl/certificate.pem rm -rf /www/server/panel/ssl/privateKey.pem ln -s /www/server/panel/vhost/cert/forssl.jia.leiyanhui.com/fullchain.pem /www/server/panel/ssl/certificate.pem ln -s /www/server/panel/vhost/cert/forssl.jia.leiyanhui.com/privkey.pem /www/server/panel/ssl/privateKey.pem éœ€è¦æ›´æ–°ä¸€ä¸‹æœ¬åœ°æµè§ˆå™¨ç¼“å­˜\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/106/","title":"å®å¡”é¢æ¿è‡ªèº«yä»¥åŠphpmyadminå¼€å¯sslï¼Œå¹¶è‡ªåŠ¨ç»­ç­¾çš„æ–¹æ³•ã€‚"},{"content":"å®å¡”ä¸­è¿è¡Œå¤šä¸ªmysqlçš„æ–¹æ³• docker å†è·‘ä¸€ä¸ªmysql æ˜¯æœ€ç®€å•çš„äº†å“ˆ\n1 2 3 4 5 6 7 8 9 docker pull mysql:latest docker run -itd --name mysql -p 3307:3306 -e MYSQL\\_ROOT\\_PASSWORD=123456 mysql å¦‚æœè¿˜è¦è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è¯ ç”¨-v mkdir /www/wwwroot/leiyanhui.com/docker-mysql-cnf docker run -itd --name mysql -v /www/wwwroot/leiyanhui.com/docker-mysql-cnf:/etc/mysql/conf.d -p 3307:3306 -e MYSQL\\_ROOT\\_PASSWORD=123456 mysql ç„¶ååœ¨å®å¡”é¢æ¿ æ·»åŠ è¿œç¨‹æœåŠ¡å™¨ ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/baota-2mysql/","title":"å®å¡”ä¸­è¿è¡Œå¤šä¸ªmysqlçš„æ–¹æ³•"},{"content":"å®å¡”è‡ªåŠ¨å¤‡ä»½sslåŸŸåè¯ä¹¦æ–‡ä»¶åˆ°oss è·¯å¾„ /www/server/panel/vhost/ssl å¯ä»¥æ·»åŠ åˆ°ç›®å½•é‡Œé¢ ä¹Ÿå¯ä»¥ç›´æ¥ cpåˆ°wwwroot ç„¶å ln -s å›å»\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/baota-ssl-to-oss/","title":"å®å¡”è‡ªåŠ¨å¤‡ä»½sslåŸŸåè¯ä¹¦æ–‡ä»¶åˆ°oss"},{"content":" æœ¬æ–‡å®é™…å†™äº 2017å¹´ï¼Œåˆ°ç°åœ¨2023å¹´åˆéœ€æ±‚å·²ç»å‘ç”Ÿå¾ˆå¤šå˜åŒ–ã€‚\nhttps://dev.leiyanhui.com/all-in-one/my-netdisk\næ­å»ºç§æœ‰ç½‘ç›˜çš„ä¸€äº›éœ€æ±‚å’Œæƒ³æ³• æ—¥å¸¸ä½¿ç”¨ç¯å¢ƒ\nwin8 win11 + ubuntu linux desktop+ iosè®¾å¤‡ vbox è™šæ‹Ÿæœºå·²ç»åœ¨è·‘ubuntu+å®å¡” å¤šè¿œç¨‹ç¯å¢ƒä½¿ç”¨ï¼Œç¬”è®°æœ¬æ€§èƒ½æ‹‰èƒ¯ éœ€æ±‚ï¼š\nè‡ªåŠ¨å¤‡ä»½ æ¡Œé¢ç¯å¢ƒä¸‹ æŸäº›æ–‡ä»¶ [åªè¦èƒ½æŒ‚è½½ sysncä¹‹ç±»çš„è½¯ä»¶å¯ä»¥ç®€å•æå®š] æ ‡å‡†ç›®å½•å‚¨å­˜ ios åªè¦æ±‚èƒ½è®¿é—® ESæ–‡ä»¶æµè§ˆå™¨ æ”¯æŒ smb ftp sftp webdav ç­‰å¤šç¯å¢ƒ ä¸æ˜¯é—®é¢˜ æ–‡ä»¶å®é™…ä¿å­˜åœ¨ windows NTFSåˆ†åŒº ï¼Œæ–¹ä¾¿ç®¡ç†ç»´æŠ¤ å¯ä»¥è‡ªåŠ¨åŒæ­¥åˆ° å…¬ç”¨äº‘ é˜¿é‡Œäº‘ç›˜ ç™¾åº¦äº‘ å¯ä»¥åŠ å¯†å‚¨å­˜ è§†é¢‘æ–‡ä»¶å¯ç»•è¿‡å…¬ç”¨äº‘çš„ ai åŸå› ä½ æ‡‚çš„å“ˆ æ”¯æŒåœ¨çº¿è§†é¢‘éŸ³ä¹æ’­æ”¾ æ–‡æœ¬æ–‡ä»¶ç¼–è¾‘ï¼Œmdæ–‡ä»¶ç¼–è¾‘ å°½å¯èƒ½çš„æ›¿ä»£ç¾¤æ™– æŠ›å¼ƒçš„æ–¹æ¡ˆï¼š\nç¾¤æ™–ï¼šç¡®å®å¥½ç”¨ï¼Œä½†æ˜¯ æ— æ³•ä½¿ç”¨ç‰©ç†æœºçš„æ–‡ä»¶ç³»ç»Ÿä½œä¸ºæ•°æ®ç›®å½•ï¼Œå¦å¤–é»‘ç¾¤æ™–ä¹Ÿå­˜åœ¨ä¸ç¨³å®šçš„æƒ…å†µ seafile nextcloud ç­‰ç§æœ‰ç›˜ç³»ç»Ÿï¼Œè¿‡äºç¹çï¼Œä¸”å…è´¹ç‰ˆé™åˆ¶è¾ƒå¤š unraid ï¼š ä¹Ÿä¸é”™ï¼Œä½†æ˜¯å¤šæ•°åŠŸèƒ½è¿˜æ˜¯éœ€è¦è‡ªè¡Œè§£å†³ï¼Œåœ¨ä¸åµŒå¥—è™šæ‹Ÿæœºdockerçš„æƒ…å†µä¸‹ï¼ŒåŒæ ·æ²¡å¤ªå¤§æ„ä¹‰ æœ€ç»ˆæ–¹æ¡ˆ\nç”¨æ¥è¿è¡Œå®å¡”çš„è™šæ‹Ÿæœºï¼Œé€šè¿‡ftpæˆ–è€…smbæŒ‚è½½ç‰©ç†æœºç›®å½•åˆ°è™šæ‹Ÿæœºå†… åŸºäºphp+æ–‡ä»¶ç³»ç»Ÿçš„ ç§æœ‰äº‘æ–¹æ¡ˆ å¯é“äº‘ nextcloud phpEasyVCS ç­‰ è™šæ‹Ÿæœº linuxä¸­æŒ‚è½½æœ¬åœ°ç¡¬ç›˜ å¹¶æ˜ å°„åˆ° è™šæ‹Ÿæœºçš„æŒ‡å®šç›®å½• é˜¿é‡Œäº‘ webdavå®¹å™¨+ç™¾åº¦äº‘ ä¸¤ç§æ–¹å¼ å¯é“äº‘ç›¸å…³åŠŸèƒ½\nkodboxæ”¯æŒ sqlite æ”¯æŒ mysql ä¹Ÿæœ‰ä¸€ä¸ªç‰ˆæœ¬[KodExplorer]å¯ä»¥æ— æ•°æ®åº“è¿è¡Œï¼Œä½†æ˜¯ä¸æ”¯æŒwebdav[å¯ä»¥ç”¨phpEasyVCS è§£å†³] kodboxçš„redis ä¸æ”¯æŒå¯†ç è¿æ¥ [å°äº‹æƒ…] è‡ªå·±ç”¨è®¿é—®é‡ä¸å¤§ï¼Œä¹Ÿå¯ä»¥ç”¨æ–‡ä»¶ç¼“å­˜ æˆ–è€…Memcached å…è´¹ç‰ˆæœ¬ é™¤äº†ç”¨æˆ·æ•°é™åˆ¶ä¹‹å¤–ï¼Œå®šæ—¶å¤‡ä»½ä¸æ”¯æŒæ–‡ä»¶å¤‡ä»½[å¯ä»¥ç”¨linux shell è§£å†³] æ”¯æŒåœ¨çº¿ç¼–è¾‘md æ–‡æœ¬ æ²¡æ‰¾åˆ° æ–‡ä»¶åŠ å¯†å‚¨å­˜æ–¹æ³•ï¼Œ è§†é¢‘æ–‡ä»¶å¯ä»¥ç”¨è‡ªå®šä¹‰åç¼€åç»•è¿‡å…¬ç”¨äº‘ æœºå¯†æ–‡ä»¶ è‡ªè¡Œç”¨zipåŠ å¯†ç®—äº† ç»è¿‡ç®€å•æµ‹è¯• KodExplorer å¯ä»¥ä¿æŒåŸç›®å½•ç»“æ„ä¿æŒæ–‡ä»¶ KodBoxæ‹†åˆ†æ—¥æœŸä¿å­˜ã€‚ ä¹Ÿå°±æ˜¯ KodBox åè€Œé›†åˆäº†seafileçš„ç¼ºç‚¹ï¼Œè¿˜è‡ªå¸¦äº†owncloud å’Œnexcloudçš„phpä½æ•ˆç¼ºç‚¹ ã€‚ä¸ç¬¦åˆæˆ‘éœ€æ±‚ï¼ŒKodExplorer ä¸é”™ï¼Œä½†æ˜¯ä¸æ”¯æŒ osså’Œç™¾åº¦äº‘äº‘æŒ‚è½½ï¼Œä¹Ÿä¸æ”¯æŒwebdev ä¸è¿‡è¿™äº›éƒ½å¯ä»¥è§£å†³ã€‚KodExplorer æ›´åƒæ˜¯ä¸€ä¸ªåŠ å¼ºç‰ˆçš„åœ¨çº¿æ–‡ä»¶ç®¡ç†å™¨ã€‚KodExplorerå®Œå…¨å¼€æºï¼Œç‰ˆæƒå¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªä¿®æ”¹æç¤ºã€‚ ä¸­é—´çš„\nåœ¨çº¿æ–‡ä»¶å…³è” ç®€å•ç¼–è¾‘ éŸ³å½±è§†é¢‘æ’­æ”¾ KodExplorer webdav ä½¿ç”¨php æˆ–è€…apache/nginxåŠŸèƒ½æå®š æ‰‹æœºiosè®¿é—®ï¼Œesæ–‡ä»¶ç®¡ç†å™¨ ç”¨sftp æˆ–webdav Windowsç³»ç»Ÿè®¿é—®ï¼ŒsftpæŒ‚è½½ æˆ–è€… webdavæŒ‚è½½ å…¬ç”¨äº‘å¤‡ä»½åŠŸèƒ½ï¼šé˜¿é‡Œäº‘ç›˜ç›®å‰å¯ä»¥ç”¨webdavæš‚æ—¶å…ˆç”¨ï¼Œç™¾åº¦äº‘ç›˜ä¹Ÿå°½é‡æå®šé˜²æ­¢é˜¿é‡Œäº‘ç›˜å¤±æ•ˆï¼Œåšæœäº‘è™½æ”¯æŒwebdavä½†æ˜¯å…è´¹ç‰ˆé™åˆ¶å¤ªå¤šï¼Œæ”¶è´¹ç‰ˆé€Ÿåº¦ä¸€èˆ¬èˆ¬ï¼Œé˜¿é‡Œoss å‚¨å­˜å…¶ä»–ä¸€äº›æ–‡ä»¶ è¿œç¨‹ä¸‹è½½åŠŸèƒ½ï¼šè¿œç¨‹æ¡Œé¢ç›´æ¥è¿…é›·ï¼ŒåæœŸå•ç‹¬æ­å»ºä¸€ä¸ªAria å…¬æœ‰äº‘å¤‡ä»½åŠŸèƒ½1ï¼šå®å¡”è‡ªå¸¦çš„å¤‡ä»½åˆ°ossåŠŸèƒ½ å…¬æœ‰äº‘å¤‡ä»½åŠŸèƒ½2ï¼šrcloneæŒ‚è½½ æœ€ç»ˆçš„é€‰æ‹© è‡ªå·±ç”¨golangå†™äº†ä¸€ä¸ª webdavï¼Œéƒ¨åˆ†ç¯å¢ƒç”¨nginxåšwebdav\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/privatecloud/","title":"æ­å»ºç§æœ‰ç½‘ç›˜çš„ä¸€äº›éœ€æ±‚å’Œæƒ³æ³•"},{"content":"å¤§é‡å°æ–‡ä»¶åœ¨smbä¸­ä¼ è¾“çš„ä¸€ä¸ªä¸å…·æœ‰å¹¿æ³›é€‚ç”¨æ€§çš„è§£å†³æ–¹æ³• å¤§é‡å°æ–‡ä»¶åœ¨smbä¸­ä¼ è¾“çš„ä¸€ä¸ªä¸å…·æœ‰å¹¿æ³›é€‚ç”¨æ€§çš„è§£å†³æ–¹æ³•\nç¯å¢ƒï¼šunraidè‡ªå¸¦çš„smbå…±äº« + Windows server 2022 å¸¸ç”¨è½¯ä»¶ æˆ‘æ”¾åˆ°äº† \\10.0.0.8\\SharpYanhui æ˜ å°„åˆ°Zç›˜ï¼Œä½†æ˜¯å‘ç°è¯¸å¤šé—®é¢˜ã€‚ é¦–å…ˆ è½¯ä»¶æ‰“å¼€çš„ æ—¶å€™ ä¼šé¢‘ç¹æç¤º å®‰å…¨é—®é¢˜ï¼Œå†æ¬¡ å°±æ˜¯éƒ¨åˆ†è½¯ä»¶å®‰è£…ä¸åˆ° è¿‡æ¥ï¼Œæœ‰æƒé™é—®é¢˜ã€‚æ¯”å¦‚ è…¾è®¯ tim å¦å¤–å°±æ˜¯ ä¸€äº›å°æ–‡ä»¶çš„å†™å…¥ ä¼šéå¸¸æ…¢ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜æƒ³åˆ°ä¸€ä¸ªç®€å•çš„æ–¹æ³•ã€‚ åœ¨ \\10.0.0.8\\SharpYanhui åˆ›å»ºä¸€ä¸ªvhd æ–‡ä»¶ï¼Œç„¶åæŒ‚è½½åˆ° winç‰©ç†æœº æå®šã€‚ æ–‡ä»¶å¤åˆ¶åˆ° æŒ‚è½½è·¯å¾„ å°±å¯ä»¥äº† ç¼ºç‚¹ï¼šä¸é€‚åˆå…¶ä»–æ“ä½œç³»ç»Ÿï¼ŒåŒä¸€æ—¶é—´ åªèƒ½æœ‰ä¸€ä¸ªæœºå™¨æŒ‚è½½è¿™ä¸ªvhdæ–‡ä»¶ã€‚ æ‰€ä»¥ åªé€‚åˆ å°‘æ•°åœºæ™¯\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/smb-sharp-vhd/","title":"å¤§é‡å°æ–‡ä»¶åœ¨smbä¸­ä¼ è¾“çš„ä¸€ä¸ªä¸å…·æœ‰å¹¿æ³›é€‚ç”¨æ€§çš„è§£å†³æ–¹æ³•"},{"content":"å¯¼å‡ºå‡ ä¸ªè‡ªå·±å¸¸ç”¨çš„è™šæ‹Ÿæœºé•œåƒ 1ã€win7 64 ä¿„ç½—æ–¯ç²¾ç®€ç‰ˆ æ²¡æœ‰ä¼˜åŒ–ï¼Œç›´æ¥ä¸Šä¼ \n2ã€win10 64 20h2 ä¼ä¸š å®˜ç½‘ç‰ˆ\næ­£å¸¸å®‰è£…ï¼Œç„¶å\nå…³é—­ä¼‘çœ powercfg -h off.å’Œè™šæ‹Ÿå†…å­˜ ç³»ç»Ÿè¿˜åŸï¼ˆå¦‚æœéœ€è¦è‡ªè¡Œæ‰“å¼€ï¼‰ï¼Œ\nå¹¶å®‰è£… vboxçš„é©±åŠ¨ ç”¨wepeå·¥å…·ç®±çš„isoæ–‡ä»¶å¯åŠ¨ï¼Œæ‰“å¼€dism ç©ºé—´å›æ”¶å…¨é€‰ å…³é—­è‡ªåŠ¨å®‰è£…æ¨èåº”ç”¨ è¿›å»win10 ä¸‹è½½ä¸€ä¸ªdism++ ç”¨dism åˆ é™¤å·²ç»å®‰è£…çš„appx å’Œé¢„å®‰è£…çš„dism++ ä¿ç•™åº”ç”¨å•†åº—ç›¸å…³ï¼Œéšæ‰‹å¯æ¢å¤ åˆ é™¤ä¸€äº›æ— ç”¨çš„ å¯é€‰åŠŸèƒ½ æ­£å¸¸å¯ä»¥å‹ç¼©çš„4Gå·¦å³ Windows hello face ä¸­æ–‡è¡¥å……å­—ä½“ã€Šè¿˜æ˜¯ä¿ç•™å§ã€‹ Chinese prc hand xx æ‰‹å†™è¾“å…¥ wmp æ’­æ”¾å™¨ å†æ¬¡å¯åŠ¨çš„winpe åˆ é™¤ä¼‘çœ æ–‡ä»¶å’Œäº¤æ¢æ–‡ä»¶ å®é™…å ç”¨ç©ºé—´ 5.39G å…³æœºï¼Œç§»é™¤winpeç¢Ÿç‰‡ å¯¼å‡º ä¸Šä¼ ç™¾åº¦äº‘ å’Œ é˜¿é‡Œäº‘ 3ã€xp æœ¬æ¥æ‰“ç®—ç”¨deepinxp sp3çš„ ç»“æœæ‰¾ä¸åˆ°äº† äºæ˜¯å…ˆç”¨å®˜ç½‘æ¯ç›˜\ned2k://|file|zh-hans\\_windows\\_xp\\_professional\\_with\\_service\\_pack\\_3\\_x86\\_cd\\_vl\\_x14-74070.iso|630237184|EC51916C9D9B8B931195EE0D6EE9B40E|/ å¼„äº†ä¸€ä¸ª åªè£…é©±åŠ¨ æ²¡ä¼˜åŒ– ç„¶ååˆæ‰¾åˆ° deepinxp sp3 é‡æ–°åšäº†ä¸€ä¸ª \u0026gt; DeepinXPsp3 æ˜¯deepxpçš„æœ€åä¸€ä¸ªç‰ˆæœ¬ï¼Œåæ¥ä»–å°±è½¬å‹æ´—ç™½äº†ï¼Œç°åœ¨çš„deepin linux ä¹Ÿæ˜¯ä»–ä»¬åšçš„ã€‚è¿™ä¸ªç‰ˆæœ¬æ—¥å¸¸ä½¿ç”¨æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå¶å°”æç¤ºæ‰¾ä¸åˆ°dllä»€ä¹ˆçš„ ï¼Œéœ€è¦æŒ‚ä¸€ä¸‹winxpsp3çš„åŸç›˜ (å¤šæ•°å¯ä»¥æŒ‚ä»–è‡ªå·±)è§£å†³ï¼Œiisè¢«ç²¾ç®€æ‰äº†ï¼Œç½‘ä¸Šæœ‰æ¢å¤åŒ…ã€‚å› ä¸ºæˆ‘ä¸ç”¨iis6 æ‰€ä»¥ä¹Ÿä¸æ‰“ç®—æ‰¾äº†ã€‚è¦ç”¨è‡ªå·±æ‰¾ä¸€ä¸‹å§\nä¸‹è½½åœ°å€ï¼šé“¾æ¥: https://pan.baidu.com/s/1-S-gBDFfiZSc4pLyDygfKw æå–ç : havg\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/6/","title":"å¯¼å‡ºå‡ ä¸ªè‡ªå·±å¸¸ç”¨çš„è™šæ‹Ÿæœºé•œåƒ"},{"content":"å¾ˆå¼€å¿ƒmaccmsä½œè€…é‡‡å–äº†æˆ‘çš„å»ºè®®ï¼Œåœ¨é‡‡é›†é¡µé¢å¢åŠ äº†è¿›åº¦æç¤º maccmsæ˜¯ä¸€ä¸ªä¼˜ç§€çš„ç”µå½±ç½‘ç«™ç®¡ç†ç¨‹åº ä¸€ç›´ä»¥æ¥å¾ˆå—ç°äº§æ¬¢è¿å“ˆï¼Œä½†æ˜¯å®ƒä¹Ÿç¡®å®å¾ˆä¼˜ç§€ã€‚ æˆ‘æ˜¯é€šè¿‡maccmså¼€å§‹æ·±å…¥äº†è§£åˆ°thinkphpã€‚æ›´æ˜¯åŸºäºmaccmsäºŒå¼€è¿‡å‡ ä¸ªå°é¡¹ç›®ã€‚ è‡³ä»Šä¹Ÿè‡ªè¡Œç»´æŠ¤äº†ä¸€ä¸ªç›—ç‰ˆç”µå½±ç½‘ç«™ ä¾›è‡ªå·±å’Œå¥½å‹è§‚çœ‹\nè¿™ä¸ªå°å»ºè®® æ²¡æƒ³åˆ°ä¼šè·å¾—ä½œè€…çš„è®¤å¯ issuesï¼š https://github.com/magicblack/maccms10/issues/934 updateï¼š https://github.com/magicblack/maccms10/releases/tag/v2022.1000.3032\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/maccms-my-issues/","title":"å¾ˆå¼€å¿ƒmaccmsä½œè€…é‡‡å–äº†æˆ‘çš„å»ºè®®ï¼Œåœ¨é‡‡é›†é¡µé¢å¢åŠ äº†è¿›åº¦æç¤º"},{"content":"è§£å†³ vscode é“¾æ¥sshå æ¯æ¬¡éƒ½è¾“å…¥å¯†ç çš„é—®é¢˜ ç®€å•çš„è¯´ å°±æ˜¯ ç”¨ssh-keygen åˆ›å»º ç§é’¥å’Œå…¬é’¥ï¼Œå…¬é’¥å†…å®¹ æ·»åŠ åˆ° /root/.ssh/authorized_keys\nç„¶åé…ç½®ssh ä½¿ç”¨è¿™ä¸ªç§é’¥ æ‰“å¼€cmd è¾“å…¥\nssh-keygen -t rsa -C \u0026ldquo;ä½ çš„@qq.com(ä½ çš„é‚®ç®±)\u0026rdquo; -C åé¢æ˜¯å¤‡æ³¨\nä¸€ç›´å›è½¦ ç”Ÿäº§äº†ä¸€ä¸ª\nC:\\Users\\ä½ çš„/.ssh/id_rsa.pub åˆ°è¦ç™»å½•çš„ç”¨æˆ·çš„ æ ¹ç›®å½• åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ .ssh ç›®å½•å¦‚æœæ˜¯rootç”¨æˆ· ä¸€èˆ¬æ˜¯ /rootå…¶ä»–ç”¨æˆ· åº”è¯¥æ˜¯/home/ä½ çš„ çš„ .sshç›®å½• å¹¶é‡å‘½åä¸º authorized_keys å¦‚æœå·²ç»æœ‰è¿™ä¸ªæ–‡ä»¶ åœ¨ä¸‹é¢æ·»åŠ ä¸€è¡Œ å†…å®¹å°±æ˜¯ id_rsa.pub çš„å†…å®¹ ç±»ä¼¼ ssh-rsa XXXX åœ¨ä¿®æ”¹æƒé™ é‡å¯ä¸€ä¸‹ sshd chmod 600 authorized_keys sshd restart ç„¶ååœ¨vscodeä¸­é”®å…¥ctrl+shift+p æœç´¢sshconfig ä¹Ÿå°±æ˜¯ åœ¨userä¸‹é¢å¢åŠ ä¸€è¡Œ IdentityFile \u0026ldquo;\u0026ldquo;C:\\Users\\ä½ çš„.ssh\\id_rsa\u0026rdquo;\u0026rdquo;\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/51/","title":"è§£å†³ vscode é“¾æ¥sshå æ¯æ¬¡éƒ½è¾“å…¥å¯†ç çš„é—®é¢˜"},{"content":"ä¸¤å°ç”µè„‘å®Œå…¨åŒæ­¥çš„å¯èƒ½æ€§å’Œæ–¹æ³•ï¼ŒCodeup å’Œ oneDrive å¤©ç¿¼ç½‘ç›˜ icloudæ•™è‚² è‡ªå»ºnextcloud å‡ ä¸ªå°è¯• ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š æ¸”åœºæœ‰ä¸€å°ç”µè„‘ å°å¼æœºï¼Œæ€§èƒ½æ¯”è¾ƒå¥½ï¼Œä¸€å°å»‰ä»·ç¬”è®°æœ¬å¹³æ—¶å¤šè¿œç¨‹åˆ°è¿™ä¸ªå°å¼æœºå·¥ä½œã€‚ä½†æ˜¯å¶å°”ä¼šå› ä¸ºç½‘ç»œé—®é¢˜è¿æ¥ä¸å¥½ã€‚åŠ ä¸Šè‡ªå·±å–œæ¬¢æŠ˜è…¾ï¼Œè€ƒè™‘æ­å»ºä¸€ä¸ªåŒæ­¥ç›˜ã€‚å®ç°ä¸¤ä¸ªç”µè„‘çš„æ–‡ä»¶å®Œå…¨åŒæ­¥ã€‚\nå…ˆè€ƒè™‘äº†ä¸€ä¸‹ Codeup ï¼Œ ç›®å‰æ˜¯å•åº“å®¹é‡5G LFSå®¹é‡ä¸é™ï¼Œæˆ‘å…¶å®è¦åŒæ­¥çš„æ–‡ä»¶ åªæœ‰å‡ ä¸ªGå·¦å³ï¼Œä½†æ˜¯è½¯ä»¶å·®ä¸å¤š10G+ ã€‚ ä¸æ˜¯è¯´ä¸å¯ä»¥ï¼Œä½†æ˜¯å®ç°èµ·æ¥æœ‰ä¸€äº›éº»çƒ¦ã€‚ ä¼˜ç‚¹æ˜¯é€Ÿåº¦å¾ˆå¿«ï¼Œè€Œä¸”Linuxä¸‹å®Œç¾è®¿é—®ï¼Œç¼ºç‚¹1 å•ä¸ªåº“çš„å®¹é‡åªæœ‰5G å¦å¤–æ¯æ¬¡ç”¨å®Œç”µè„‘éœ€è¦æ‰‹åŠ¨æäº¤ å…‹éš† æ¨é€ä»€ä¹ˆçš„ã€‚ ##å†æ¬¡ è€ƒè™‘ oneDrive åŒæµ æœ‰1Tç©ºé—´ï¼Œè¶³å¤Ÿç”¨äº†ã€‚ç¼ºç‚¹æ˜¯ åˆ†äº«åŠŸèƒ½ ä»…é™åŒæµå¤§å­¦ç»„ç»‡å†…åˆ†äº«ï¼Œä¸å¯å¤–éƒ¨åˆ†äº«ã€‚ä¼˜ç‚¹å®¹é‡è¶³å¤Ÿï¼Œé€Ÿåº¦å°šå¯ã€‚è¿˜æœ‰ä¸€ä¸ªå°ç¼ºç‚¹æ˜¯ åŒæµå¤§å­¦çš„ç®¡ç†å‘˜ ä¹Ÿå¯çœ‹åˆ°æ–‡ä»¶ã€‚æ‰€ä»¥æ•æ„Ÿä¿¡æ¯ æœ€å¥½è¿˜æ˜¯åŠ å¯†ä¸€ä¸‹ã€‚ æˆ‘çš„ä¸»è´¦å· å› ä¸ºæ²¡æœ‰ä½¿ç”¨onedrive å¯¼è‡´ å¼€æœºä¸€ç›´æç¤º æ— æ³•ç™»å½• æ‰“å¼€ https://onedrive.live.com/ åˆè¢«å¢™äº†ã€‚ã€‚ã€‚æŒ‚ä¸Šæ¢¯å­ ç»§ç»­ ä¸ªäººä¸»è´¦å· è¢«å†»ç»“äº† éœ€è¦ 24å°æ—¶è§£é™¤ï¼Œè§£é™¤å†»ç»“åï¼Œå¯ä»¥ç”¨äº†ã€‚ ä½†æ˜¯æ·»åŠ è´¦å·çš„æ—¶å€™ ä¸€ç›´æ²¡æœ‰ååº”ï¼Œä¸çŸ¥é“åŸå› ã€‚çŒœæµ‹æ˜¯éœ€è¦æ›´æ–°Windows æ›´æ–°win11 åˆ°æœ€æ–°ç‰ˆï¼Œé‡å¯ç”µè„‘ å°è¯•æ·»åŠ è´¦å·ï¼ŒæˆåŠŸï¼Œä¿®æ”¹è·¯å¾„ åˆ° ã€D:\\OneDrive - åŒæµå¤§å­¦ã€‘ å»æ‰ æ¡Œé¢ æ–‡æ¡£ å›¾ç‰‡ çš„è‡ªåŠ¨åŒæ­¥ï¼Œä¸ç„¶ å¤šç”µè„‘çš„æ—¶å€™ ä¼šå¶å°”æ··ä¹± æˆ‘æ²¡æœ‰å–œæ¬¢åœ¨æ¡Œé¢å’Œæ–‡æ¡£é‡Œé¢ è®¿ä¸œè¥¿ï¼Œæ‰€ä»¥ä¸ç”¨åŒæ­¥ä»–ä»¬ã€‚ PSï¼šä¸ªäººè´¦å·ï¼Œå¯ä»¥é€šè¿‡é‚€è¯·çš„æ–¹å¼ æ‹¿åˆ°15Gç©ºé—´ï¼Œå¦‚æœæ–‡ä»¶ä¸æ˜¯ç‰¹åˆ«å¤šçš„è¯ ä¹Ÿæ²Ÿé€šäº†ã€‚ä¸è¿‡ä¸ªäººçš„odæœåŠ¡å™¨åœ¨æ–°åŠ å¡ï¼Œé€Ÿåº¦ç•¥æ…¢ã€‚\nåœ¨åŸå§‹ä¸»æœºä¸Š å¼€å§‹åˆ›å»º è½¯é“¾æ¥åˆ° OneDrive åœ¨ OneDrive åˆ›å»ºæ–‡ä»¶å¤¹ D:\\OneDrive - åŒæµå¤§å­¦\\D_disk ç»Ÿä¸€ç®¡ç† ç®¡ç†å‘˜æƒé™ è¿è¡Œcmd ï¼ˆå› ä¸ºæ–‡ä»¶åä¸­æœ‰ç©ºæ ¼ï¼Œæ‰€ä»¥ç›®æ ‡è·¯å¾„ç”¨åŒå¼•å·ï¼‰ mklink /D \u0026ldquo;D:\\OneDrive - åŒæµå¤§å­¦\\D_disk\\Code_Space\u0026rdquo; D:\\Code_Space mklink /D \u0026ldquo;D:\\OneDrive - åŒæµå¤§å­¦\\D_disk\\Soft\u0026rdquo; D:\\Soft Code_Space è¿™ä¸ªç›®å½• å› ä¸ºåªæœ‰1100å¤šä¸ªæ–‡ä»¶ï¼Œå¾ˆå¿«å°±åŒæ­¥ä¸Šå»äº†ã€‚ Soft é‡Œé¢ 97,903 ä¸ªæ–‡ä»¶ï¼Œ15,346 ä¸ªæ–‡ä»¶å¤¹ 10G å·¦å³ï¼Œç»“æœä¸€ç›´æç¤º æŸ¥æ‰¾æ›´æ”¹ï¼Œè€å¿ƒç­‰äº†ä¸€æ™šä¸Šæ²¡æœ‰åŒæ­¥æˆåŠŸã€‚äºæ˜¯å°è¯•å°‘é‡å¤šæ¬¡æ‰‹åŠ¨å¤åˆ¶åˆ° OneDriveç›®å½•ï¼Œç„¶åå†è½¯è¿æ¥å›åŸç›®å½• ç»è¿‡æµ‹è¯• ä¸Šä¼ é€Ÿåº¦å¯ä»¥è·‘æ»¡ 1.5M ä¸‹è½½é€Ÿåº¦åªæœ‰200Kï¼Œå¥½åƒæ˜¯ç´¢å¼•åœ¨å¢ƒå¤–æœåŠ¡å™¨ä¸Šå¯¼è‡´çš„ æš‚æ—¶æ— è§£ æ”¾å¼ƒ\nå°è¯• å¤©ç¿¼ç½‘ç›˜ å…è´¹ç‰ˆæœ¬ æœ‰30G D:\\TianYi mklink /D \u0026ldquo;D:\\TianYi\\D_disk\\Code_Space\u0026rdquo; D:\\Code_Space ç»è¿‡æµ‹è¯• åŒæ­¥ä¸Šä¼ é€Ÿåº¦ å°æ–‡ä»¶å¾ˆæ…¢ï¼Œå®¢æˆ·ç«¯ éœ€è¦1-2ç§’æ—¶é—´ è¯»å– ç„¶åå†ç”¨å‡ ç§’çš„æ—¶é—´ ä¸Šä¼ ï¼Œå¦å¤–ä¸‹è½½é€Ÿåº¦ä¹Ÿä¸€èˆ¬æƒ…å†µï¼Œè¦èŠ±è´¹2-3ç§’çš„æ—¶é—´ æ˜¾ç¤º æ­£åœ¨è·å–ä¸‹è½½ä¿¡æ¯ã€‚æœ€ä¸ºè‡´å‘½çš„æ˜¯ï¼Œå¥¹çš„ä¸å¯ä»¥é€‰æ‹©æ€§åŒæ­¥ï¼Œæ˜¯éœ€è¦æ•´ä¸ªç›®å½• å®Œå…¨åŒæ­¥ä¸‹æ¥ æ‰å¯ä»¥å¼€å§‹ä½¿ç”¨ã€‚ å›½äº§åƒåœ¾ å“ˆå“ˆ\næ›´æ¢ icloudæ•™è‚² äº‘è´µç‰ˆ è¯•è¯• https://support.apple.com/zh-cn/HT204283 å¥½å§ æ•™è‚²ç‰ˆ ä¸å¯ä»¥ç™»å½• icloud å…è´¹ç‰ˆåªæœ‰ 5G ä¸é è°±\nè‡ªå»º nextcloud æµ‹è¯• æ€§èƒ½å¾ˆä¸€èˆ¬ è€Œä¸”ä¸å¯ä»¥é€‰æ‹©æ€§åŒæ­¥\n360äº‘ç›˜ æµ‹è¯• å®é™…ä¸Šæ˜¯å¤‡ä»½åŠŸèƒ½ï¼Œåªèƒ½æ·»åŠ å’Œä¿®æ”¹çš„æ—¶å€™è‡ªåŠ¨ä¸Šä¼ åˆ°360 å¹¶éåŒæ­¥åŠŸèƒ½\næœ€å è¿˜æ˜¯ é€‰æ‹© oneDrive ä¸–çºªäº’è”ï¼ˆåŒæµï¼‰ æŠ˜è…¾åˆ°ç°åœ¨ ç›®å‰æš‚æ—¶ åªæœ‰ oneDrive å¯ç”¨ã€‚è€ƒè™‘åˆ°é€Ÿåº¦ç¡®å®ä¸ç†æƒ³ è€Œä¸”ä¸€æ¬¡æ€§åŒæ­¥å¤šä¸ªæ–‡ä»¶çš„æ—¶å€™ å¡ä¸€æ™šä¸Šä¸åŠ¨ åªèƒ½æ…¢æ…¢åŒæ­¥ã€‚\nå…¶ä»–å‡ ä¸ªå°é—®é¢˜ å¶å°”ä¼šå‡ºç° æ­£åœ¨æŸ¥æ‰¾æ›´æ”¹ è¿™ä¸ªå¦‚æœæ˜¯æ–‡ä»¶å¤ªå¤šå¯¼è‡´çš„ï¼ŒåŸºæœ¬æ— è§£ã€‚å¦‚æœä¸æ˜¯ å¯ä»¥é‡ç½®ä¸€ä¸‹ å…³é—­ onedrive ç„¶åcmd è¿è¡Œ %localappdata%\\Microsoft\\OneDrive\\onedrive.exe /reset %localappdata%\\Microsoft\\OneDrive\\onedrive.exe\nä¸Šä¼ é€Ÿåº¦é—®é¢˜ æœ‰ä¸€ä¸ªä¿®æ”¹çº¿ç¨‹çš„æ–¹æ³• å¯ä»¥è§£å†³ï¼Œæˆ‘è¿™è¾¹æ˜¯æ…¢é€Ÿ10M =\u0026gt; 1.1M ä¸éœ€è¦å¤„ç†\nä¸‹è½½é€Ÿåº¦é—®é¢˜ å®é™…æµ‹è¯• å‘ç°æ˜¯ å¯¨æœ¬wifié€Ÿç‡ å¤ªä½å¯¼è‡´çš„ï¼Œä¸–çºªäº’è” å®é™…æœ‰1M ä»¥ä¸Šã€‚ æ›´æ¢usbç½‘å¡å ä¸´æ—¶è§£å†³ æœ€å å°è¯• Syncthing å®Œç¾å®ç° https://dev.leiyanhui.com/c/57\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/56/","title":"ä¸¤å°ç”µè„‘å®Œå…¨åŒæ­¥çš„å¯èƒ½æ€§å’Œæ–¹æ³•ï¼ŒCodeup å’Œ oneDrive å¤©ç¿¼ç½‘ç›˜ icloudæ•™è‚² è‡ªå»ºnextcloud å‡ ä¸ªå°è¯•"},{"content":"æ‰¹å¤„ç† å¤„ç†wifiæ‰çº¿é—®é¢˜ win10-win11 ä¸‹æ— çº¿ç½‘å¡ å¶å°”æ‰çº¿é—®é¢˜ æ‰¹å¤„ç†æ–‡ä»¶\n@echo off %1\nmshta vbscript:CreateObject(\u0026ldquo;Shell.Application\u0026rdquo;).ShellExecute(\u0026ldquo;cmd.exe\u0026rdquo;,\u0026quot;/c %~s0 ::\u0026quot;,\u0026quot;\u0026quot;,\u0026ldquo;runas\u0026rdquo;,1)(window.close)\u0026amp;\u0026amp;exit :Begin ping www.baidu.com if errorlevel 1 goto Reboot if errorlevel 0 goto Continue :Continue goto Begin: :Reboot netsh interface set interface WLAN disabled netsh interface set interface WLAN enable echo %date:~0,4%%date:~5,2%%date:~8,2%%time:~0,2%%time:~3,2%%time:~6,2% æ–­ç½‘å·²é‡å¯,ç­‰å¾…å»¶æ—¶8ç§’\u0026hellip;\u0026raquo;log.txt\n:è®¾ç½®å»¶æ—¶ç­‰å¾…\nping -n 8 127.0.0.1 \u0026gt;nul\ngoto Begin\næ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼ˆtaskschd.mscï¼‰ åˆ›å»ºåŸºæœ¬è®¡åˆ’ä»»åŠ¡ è§¦å‘å™¨ é€‰ è®¡ç®—æœºå¯åŠ¨æ—¶ æœ€åé€‰æ‹© ä¸ç®¡ç”¨æˆ·æ˜¯å¦ç™»å½• ä½¿ç”¨æœ€é«˜æƒé™ åœ¨æ¡ä»¶é‡Œé¢ å…³é—­ åªæœ‰ä½¿ç”¨äº¤æµç”µ è¿™ä¸ª è®¾ç½®é‡Œé¢ å…³æ‰ä¸‰å¤©ä»€ä¹ˆçš„\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/49/","title":"æ‰¹å¤„ç† å¤„ç†wifiæ‰çº¿é—®é¢˜ win10-win11 ä¸‹æ— çº¿ç½‘å¡ å¶å°”æ‰çº¿é—®é¢˜"},{"content":"æ‰¹å¤„ç†ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œä»¥ä½¿ç”¨golangç»¿è‰²ç‰ˆæœ¬ :: ç”¨æˆ·å˜é‡ :: GOPATH C:\\Users\\Yanhui\\go G:\\Go_lang\\C_go_path\\go :: Path æ·»åŠ  C:\\Users\\Yanhui\\go\\bin G:\\Go_lang\\C_go_path\\go\\bin :: ç³»ç»Ÿå˜é‡ :: Path æ·»åŠ  :: C:\\Program Files\\Go\\bin G:\\Go_lang\\go_bin\\bin :: C:\\Program Files\\Git\\cmd G:\\Go_lang\\Git\\cmd @ echo off %1 %2 ver|find \u0026ldquo;5.\u0026quot;\u0026gt;nul\u0026amp;\u0026amp;goto :Admin mshta vbscript:createobject(\u0026ldquo;shell.application\u0026rdquo;).shellexecute(\u0026rdquo;%~s0\u0026quot;,\u0026ldquo;goto :Admin\u0026rdquo;,\u0026quot;\u0026quot;,\u0026ldquo;runas\u0026rdquo;,1)(window.close)\u0026amp;goto :eof :Admin set mypath=%~dp0 echo %mypath% :: åœ¨ä½ çš„batå¼€å¤´åŠ ä¸Šä¸Šé¢çš„å‘½ä»¤å³å¯ :: ä¸‹é¢æ˜¯ä½ éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ setx GOPATH \u0026ldquo;%mypath%C_go_path\\go\u0026rdquo; :: C:\\Windows;C:\\Windows\\System32 setx PATH %PATH%;\u0026quot;%mypath%Git\\cmd\u0026quot;;\u0026quot;%mypath%go_bin\\bin\u0026quot; /m ECHO æŒ‰ä»»æ„é”®ç»§ç»­\u0026hellip; PAUSE \u0026gt;nul\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/syetem-path-golang/","title":"æ‰¹å¤„ç†ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œä»¥ä½¿ç”¨golangç»¿è‰²ç‰ˆæœ¬"},{"content":"å®¹å™¨ è‡ªåŠ¨å¤‡ä»½è‡ªå·±æ•´ä¸ªå®¹å™¨ ä½¿ç”¨sshpass æˆ–è€… keyç™»å½•å®¿ä¸»æœºï¼Œç„¶åæ‰§è¡Œdockerå¤‡ä»½å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 sshpass -p å¯†ç  ssh root@10.0.0.8 -tt \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 \u0026lt;\u0026lt; remotessh #è¿œç¨‹ç™»å½• echo å‡†å¤‡å¯¼å‡ºdocker... backupdir=\u0026#34;/mnt/disks/HHD/docker-bak/\u0026#34; echo å¯¼å‡ºåˆ° ${backupdir} datename=$(date +%Y%m%d-%H%M%S) command -v pigz \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 \u0026amp;\u0026amp; { echo \u0026#34;pigz å‘½ä»¤å­˜åœ¨ ç”¨tgzè¾“å‡º \u0026#34; docker export baota | pigz -p 12 \u0026gt; ${backupdir}baota${datename}.tgz } || { echo \u0026#34;pigz å‘½ä»¤ä¸å­˜åœ¨ï¼Œç”¨tar gz\u0026#34; docker export baota | gzip\u0026gt;${backupdir}baota${datename}.tar.gz } echo ç»“æŸ exit remotessh ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/docker-backup-from-docker/","title":"å®¹å™¨è‡ªåŠ¨å¤‡ä»½è‡ªå·±æ•´ä¸ªå®¹å™¨"},{"content":"å°‘é‡æ•°æ®å¤§å¹¶å‘çš„mysqlä¼˜åŒ– é™¤å»ç”¨ramdisk redis å†…å­˜è¡¨ç­‰æ–¹æ³•ï¼Œæ¯”è¾ƒé è°±çš„æ–¹æ¡ˆ è¿˜æ˜¯ ä»”ç»†ä¼˜åŒ–mysql\næ‰‹åŠ¨ç¼“å­˜mysql æŸ¥è¯¢ query_cache_typeæœ‰3ä¸ªå€¼ 0ä»£è¡¨å…³é—­æŸ¥è¯¢ç¼“å­˜OFFï¼Œ1ä»£è¡¨å¼€å¯ONï¼Œ2ï¼ˆDEMANDï¼‰ä»£è¡¨å½“sqlè¯­å¥ä¸­æœ‰SQL_CACHEå…³é”®è¯æ—¶æ‰ç¼“å­˜ å»ºè®®ç”¨ 2\nselect SQL_CACHE user_name from users where user_id = \u0026lsquo;100\u0026rsquo;;\nquery_cache_size = 64M ï¼Œä¸å®œè®¾ç½®è¿‡å¤§ï¼Œå¦åˆ™åœ¨æ•°æ®æ›´æ–°çš„æ—¶å€™ï¼Œä¼šæœ‰è¾ƒå¤§çš„æ€§èƒ½å¼€æ”¯ç”¨äºæ ‡æ³¨å¤±æ•ˆã€‚ æ¯ä¸ªè¡¨ åˆ›å»ºä¸€ä¸ª InnoDB FILEï¼š innodb_file_per_table=1 ï¼Œä¸ºäº†é˜²æ­¢ ibdata1 è¿‡å¤§å¤±æ§ ibdata1 æƒ³è¦ç˜¦èº«ï¼Œæœ€å¥½çš„åŠæ³•ï¼Œè¿˜æ˜¯é‡å»ºè¡¨ï¼Œå³ä¸ºï¼Œå¤åˆ¶è¡¨\u0026gt;åˆ é™¤åŸè¡¨\u0026gt;æ–°è¡¨æ”¹å innodb_buffer_pool_size æœ€å¥½å’Œç›®æ ‡æ•°æ®åº“å†…å®¹å·®ä¸å¤šå¤§ï¼Œè¿™æ · å°±å¯ä»¥å®Œå…¨ä»å†…å­˜ä¸­è¯»å–æ•°æ®\nå¦å¤–innodb_buffer_pool_size åœ¨mysqlå¯åŠ¨çš„æ—¶å€™ï¼Œé‡Œé¢æ²¡æœ‰æ•°æ®çš„ï¼Œéœ€è¦æŸ¥è¯¢ä¸€ä¸‹å¸¸ç”¨è®°å½•ä»¥ä¾¿é¢„çƒ­ï¼Œåœ¨æ•´åº“å¤‡ä»½ä¹‹å‰ï¼Œæœ€å¥½ä¹Ÿé¢„çƒ­ä¸€ä¸‹ï¼Œä»¥å…å ç”¨å¤ªå¤šæ—¶é—´ã€‚å¦‚æœæ•°æ®è¾ƒå°‘ï¼Œè¿™æ­¥éª¤ä¹Ÿå¯ä»¥å¿½ç•¥ã€‚ ä¿®æ”¹ç¡¬ç›˜å†™å…¥é¢‘ç‡ï¼šinnodb_flush_log_at_trx_commitï¼Œé»˜è®¤1ä»£è¡¨å®æ—¶å†™å…¥ï¼Œ0 æ˜¯1ç§’ä¸€æ¬¡ 2ä¹Ÿæ˜¯1ç§’ä¸€æ¬¡ã€‚\nä¿®æ”¹0 å°±å¥½ã€‚å½“ç„¶éæ­£å¸¸å…³é—­çš„æƒ…å†µä¸‹æœ‰æ¦‚ç‡ä¼šä¸¢å¤±1ç§’çš„æ•°æ® æ‰“å¼€æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè®°å½•æŸ¥è¯¢è¶…è¿‡1ç§’çš„æ•°æ®ã€ç”Ÿäº§æœåŠ¡å™¨ï¼Œæ³¨æ„ç¡¬ç›˜ã€‘\nlong_query_time=1\nlog-slow-queries=/var/log/mysql/log-slow-queries.log å…³é—­æœåŠ¡å™¨ç«¯ SWAP æ‰€æœ‰æŸ¥è¯¢ æœ€åè¿˜æ˜¯è¦ LIMIT ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/mysql-config/","title":"å°‘é‡æ•°æ®å¤§å¹¶å‘çš„mysqlä¼˜åŒ–"},{"content":"ä½¿ç”¨golangå¿«é€Ÿå¼€å‘ä¸€ä¸ªwebdavç½‘ç›˜å’Œwebç›®å½•æ–‡ä»¶æµè§ˆ æ˜¨å¤©çªç„¶æƒ³æŠŠdockerçš„æŸå‡ ä¸ªç›®å½•æ˜ å°„å‡ºæ¥ï¼Œç„¶ååˆä¸æƒ³ä½¿ç”¨-v æˆ–è€…sftpçš„æ–¹å¼ã€‚\näºæ˜¯æƒ³åˆ°ä½¿ç”¨webdavï¼Œphpä¸‹webdavå·¥å…·ä¸€å¤§æŠŠï¼Œä½†dockeré‡Œé¢æ˜æ˜¾å¯èƒ½æ²¡æœ‰phpç¯å¢ƒã€‚æ‰€ä»¥æƒ³åˆ°ç”¨golangè‡ªå·±å†™ä¸€ä¸ªã€‚å› ä¸ºgolangæ²¡æœ‰é‚£ä¹ˆå¤šä¾èµ–è¦å¤„ç†å“ˆã€‚\né¡ºå¸¦ä¸€èµ·åšäº† é™æ€æ–‡ä»¶æµè§ˆï¼Œæ–¹ä¾¿å…±äº«ä¸€äº›æ–‡ä»¶ã€‚ä»¥åŠå¯†ç è®¤è¯ é…ç½®æ–‡ä»¶ ç­‰ç­‰\næˆå“å‘å¸ƒåˆ°äº†\ngiteeï¼šhttps://gitee.com/joyanhui/webdavgo/\ngithubï¼šhttps://github.com/joyanhui/webdavgo/\nåˆå§‹ç‰ˆæœ¬ä»£ç å¦‚ä¸‹ æœ€æ–°ç‰ˆè¯·å»gitee æŸ¥çœ‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;golang.org/x/net/webdav\u0026#34; ) var webDavConfig map[string]interface{} var fs_webdav = \u0026amp;webdav.Handler{} var webdav_port_string string func init() { ConfigData, err := os.ReadFile(\u0026#34;config.json\u0026#34;) // è¯»å–æ–‡ä»¶ var settingCfg string if err == nil { settingCfg = string(ConfigData) } else { //æ— é…ç½®æ–‡ä»¶çš„æƒ…å†µ settingCfg = \u0026#34;{\\\u0026#34;wevdav_user_name\\\u0026#34;:\\\u0026#34;\\\u0026#34;,\\\u0026#34;wevdav_user_psw\\\u0026#34;:\\\u0026#34;\\\u0026#34;,\\\u0026#34;webdav_server_port\\\u0026#34;:18123,\\\u0026#34;wevdav_file_path\\\u0026#34;:\\\u0026#34;.\\\u0026#34;,\\\u0026#34;list_server_path\\\u0026#34;:\\\u0026#34;/list/\\\u0026#34;,\\\u0026#34;list_file_path\\\u0026#34;:\\\u0026#34;.\\\u0026#34;}\u0026#34; fmt.Println(\u0026#34;æ— é…ç½®æ–‡ä»¶ä½¿ç”¨é»˜è®¤\u0026#34;) fmt.Println(\u0026#34;settingCfg\u0026#34;, settingCfg) } json.Unmarshal([]byte(settingCfg), \u0026amp;webDavConfig) //è½¬åŒ–åˆ°map } func main() { port_float64, _ := strconv.ParseFloat(fmt.Sprintf(\u0026#34;%f\u0026#34;, webDavConfig[\u0026#34;webdav_server_port\u0026#34;]), 64) //ä»interfaceè½¬åŒ–åˆ°float64 å†åˆ°int å†åˆ°port_str webdav_port_string = fmt.Sprintf(\u0026#34;%d\u0026#34;, int(port_float64)) http.HandleFunc(\u0026#34;/\u0026#34;, web_dav) //å¯åŠ¨webdav fmt.Println(\u0026#34;webdav url: http://localhost:\u0026#34; + webdav_port_string + \u0026#34;/ file pach:\u0026#34; + fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;wevdav_file_path\u0026#34;])) if webDavConfig[\u0026#34;wevdav_user_name\u0026#34;] != \u0026#34;\u0026#34; { fmt.Println(\u0026#34;wevdav_user_name=\u0026#34;, webDavConfig[\u0026#34;wevdav_user_name\u0026#34;], \u0026#34;, wevdav_user_psw=\u0026#34;, webDavConfig[\u0026#34;wevdav_user_psw\u0026#34;]) } //http.HandleFunc(\u0026#34;/list2/\u0026#34;, http_list1) list_server_path := fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;list_server_path\u0026#34;]) list_file_path := fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;list_file_path\u0026#34;]) if list_server_path != \u0026#34;\u0026#34; { http.Handle(list_server_path, http.StripPrefix(list_server_path, http.FileServer(http.Dir(list_file_path)))) fmt.Println(\u0026#34;weblist url: http://localhost:\u0026#34; + webdav_port_string + list_server_path + \u0026#34; file pach:\u0026#34; + list_file_path) } http.ListenAndServe(\u0026#34;:\u0026#34;+webdav_port_string, nil) } /* webdav */ func web_dav(w http.ResponseWriter, req *http.Request) { if webDavConfig[\u0026#34;wevdav_user_name\u0026#34;] != \u0026#34;\u0026#34; { // è·å–ç”¨æˆ·å/å¯†ç  wevdav_user_name, wevdav_user_psw, ok := req.BasicAuth() if !ok { w.Header().Set(\u0026#34;WWW-Authenticate\u0026#34;, `Basic realm=\u0026#34;Restricted\u0026#34;`) w.WriteHeader(http.StatusUnauthorized) return } // éªŒè¯ç”¨æˆ·å/å¯†ç  if wevdav_user_name != fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;wevdav_user_name\u0026#34;]) || wevdav_user_psw != fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;wevdav_user_psw\u0026#34;]) { http.Error(w, \u0026#34;WebDAV: need authorized!\u0026#34;, http.StatusUnauthorized) return } } fs_webdav = \u0026amp;webdav.Handler{ FileSystem: webdav.Dir(fmt.Sprintf(\u0026#34;%s\u0026#34;, webDavConfig[\u0026#34;wevdav_file_path\u0026#34;])), //è·¯å¾„ LockSystem: webdav.NewMemLS(), } fs_webdav.ServeHTTP(w, req) } ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/webdavgo/","title":"ä½¿ç”¨golangå¿«é€Ÿå¼€å‘ä¸€ä¸ªwebdavç½‘ç›˜å’Œwebç›®å½•æ–‡ä»¶æµè§ˆ"},{"content":"ç§æœ‰csså’ŒjsåŒ…æ‹¬å°‘é‡å›¾ç‰‡åº”è¯¥å¦‚ä½•æ‰˜ç®¡åˆ°cdnï¼Œå…è´¹æ›¿ä»£jsdelivrçš„æ–¹æ¡ˆ 2021å¹´ä¹‹å‰ï¼Œè¿™ä¸ªä¸ç”¨æƒ³ï¼Œè‚¯å®šæ˜¯æ— è„‘ jsdelivr+github ç°åœ¨ï¼Œå¾ˆå¤šäººé€‰æ‹©äº† é˜¿é‡Œäº‘æˆ–è€…è…¾è®¯çš„å¯¹è±¡å‚¨å­˜+cdn ä¸æ˜¯è¯´ä¸è¡Œå§ã€‚åªæ˜¯è¿˜æ˜¯æœ‰ä¸€ç‚¹å°è´¹ç”¨äº§ç”Ÿã€‚ å¢ƒå¤–çš„è¯ï¼Œè‚¯å®šç›´æ¥ GitHub+cf å°±å¥½äº†ã€‚ å¢ƒå†… unicloud é€‰æ‹©é˜¿é‡Œäº‘çš„ çº¯å…è´¹çš„ï¼ŒåŸºæœ¬ä¸Šå¯¹ä¸­å°é¡¹ç›®æ²¡å•¥é™åˆ¶ æ‰“å¼€é™æ€ç½‘é¡µæ‰˜ç®¡ï¼Œå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåã€‚é»˜è®¤å°±ä½¿ç”¨é˜¿é‡Œçš„cdn å‰ç«¯ç½‘é¡µéƒ¨ç½²é™åˆ¶ä¸ºæœ€å¤§å­˜å‚¨ç©ºé—´ç”¨é‡2GB å•æ–‡ä»¶æœ€å¤§é™åˆ¶ä¸º50MB ç¦æ­¢åšå›¾åºŠçš„ï¼Œå¶å°”æœ‰å‡ ä¸ªå°å›¾ç‰‡æ²¡äº‹ æœ€ç»ˆå®ç°æ–¹æ¡ˆ ä¸ºé¿å…æ»¥ç”¨ï¼Œå†…å®¹åˆ é™¤\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/12/","title":"ç§æœ‰csså’ŒjsåŒ…æ‹¬å°‘é‡å›¾ç‰‡åº”è¯¥å¦‚ä½•æ‰˜ç®¡åˆ°cdnï¼Œå…è´¹æ›¿ä»£jsdelivrçš„æ–¹æ¡ˆ"},{"content":"ä¿®æ”¹å®å¡”æµè§ˆå™¨æ ‡ç­¾é»˜è®¤å›¾æ ‡ å› ä¸ºç»å¸¸æ“ä½œä¸¤ä¸ªå®å¡”é¢æ¿ï¼Œä¸ºäº†æ–¹ä¾¿åŒºåˆ† ä¿®æ”¹ä¸€ä¸‹ æµè§ˆçš„ /www/server/panel/BTPanel/static/favicon.ico ps è°ƒè°ƒè‰² éšä¾¿å¼„å¼„\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/112/","title":"ä¿®æ”¹å®å¡”æµè§ˆå™¨æ ‡ç­¾é»˜è®¤å›¾æ ‡"},{"content":"ä¸€ä¸ªå…è´¹çš„phpç©ºé—´ ï¼Œé€Ÿåº¦ä¸é”™ï¼Œä½†æ˜¯éœ€è¦æ¯ä¸ªæœˆç»­è´¹ä¸€æ¬¡ #ä¸€ä¸ªå…è´¹çš„phpç©ºé—´ ï¼Œé€Ÿåº¦ä¸é”™ï¼Œä½†æ˜¯éœ€è¦æ¯ä¸ªæœˆç»­è´¹ä¸€æ¬¡\nhttps://www.yun316.net/\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/1123/","title":"ä¸€ä¸ªå…è´¹çš„phpç©ºé—´ ï¼Œé€Ÿåº¦ä¸é”™ï¼Œä½†æ˜¯éœ€è¦æ¯ä¸ªæœˆç»­è´¹ä¸€æ¬¡"},{"content":"ä¸€é”®å¤‡ä»½å‡ ä¸ªé‡è¦æ–‡ä»¶åˆ°sshdfsçš„Ubuntu 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 @echo on\u0026amp;cls\u0026amp;mode con cols=50 lines=30 \u0026amp;color 0a title=å¤åˆ¶ xcopy I:\\other_need_back_to_oss U:\\BTdata\\wwwroot\\other_need_back_to_oss /y /e xcopy I:\\ssh_rsa U:\\BTdata\\wwwroot\\ssh_rsa /y /e xcopy \u0026#34;I:\\å¤‡ä»½é‡è¦æ–‡ä»¶åˆ°ubuntuå†åˆ°oss.bat\u0026#34; \u0026#34;U:\\BTdata\\wwwroot\\å¤‡ä»½é‡è¦æ–‡ä»¶åˆ°ubuntuå†åˆ°oss.bat\u0026#34; /y /e echo \u0026#34;ä¿®æ”¹æƒé™\u0026#34; pause ssh bt \u0026#34;chmod -R 777 /BTdata/wwwroot/;chown -R www:www chmod -R 777 /BTdata/wwwroot/ \u0026#34; pause ","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/89/","title":"ä¸€é”®å¤‡ä»½å‡ ä¸ªé‡è¦æ–‡ä»¶åˆ°sshdfsçš„Ubuntu"},{"content":"éšç§æ”¿ç­– æˆ‘ä»¬æ˜¯è° æ¨èçš„æ–‡æœ¬ï¼š æˆ‘ä»¬çš„ç«™ç‚¹åœ°å€æ˜¯ï¼šhttps://wp.leiyanhui.comã€‚\nè¯„è®º æ¨èçš„æ–‡æœ¬ï¼š å½“è®¿å®¢ç•™ä¸‹è¯„è®ºæ—¶ï¼Œæˆ‘ä»¬ä¼šæ”¶é›†è¯„è®ºè¡¨å•æ‰€æ˜¾ç¤ºçš„æ•°æ®ï¼Œå’Œè®¿å®¢çš„IPåœ°å€åŠæµè§ˆå™¨çš„user agentå­—ç¬¦ä¸²æ¥å¸®åŠ©æ£€æŸ¥åƒåœ¾è¯„è®ºã€‚\nç”±æ‚¨çš„ç”µå­é‚®ç®±åœ°å€æ‰€ç”Ÿæˆçš„åŒ¿ååŒ–å­—ç¬¦ä¸²ï¼ˆåˆç§°ä¸ºå“ˆå¸Œï¼‰å¯èƒ½ä¼šè¢«æä¾›ç»™GravataræœåŠ¡ç¡®è®¤æ‚¨æ˜¯å¦æœ‰ä½¿ç”¨è¯¥æœåŠ¡ã€‚GravataræœåŠ¡çš„éšç§æ”¿ç­–åœ¨æ­¤ï¼šhttps://automattic.com/privacy/ã€‚åœ¨æ‚¨çš„è¯„è®ºè·æ‰¹å‡†åï¼Œæ‚¨çš„èµ„æ–™å›¾ç‰‡å°†åœ¨æ‚¨çš„è¯„è®ºæ—å…¬å¼€å±•ç¤ºã€‚\nåª’ä½“ æ¨èçš„æ–‡æœ¬ï¼š å¦‚æœæ‚¨å‘æ­¤ç½‘ç«™ä¸Šä¼ å›¾ç‰‡ï¼Œæ‚¨åº”å½“é¿å…ä¸Šä¼ é‚£äº›æœ‰åµŒå…¥åœ°ç†ä½ç½®ä¿¡æ¯ï¼ˆEXIF GPSï¼‰çš„å›¾ç‰‡ã€‚æ­¤ç½‘ç«™çš„è®¿å®¢å°†å¯ä»¥ä¸‹è½½å¹¶æå–æ­¤ç½‘ç«™çš„å›¾ç‰‡ä¸­çš„ä½ç½®ä¿¡æ¯ã€‚\nCookies æ¨èçš„æ–‡æœ¬ï¼š å¦‚æœæ‚¨åœ¨æˆ‘ä»¬çš„ç«™ç‚¹ä¸Šç•™ä¸‹è¯„è®ºï¼Œæ‚¨å¯ä»¥é€‰æ‹©ç”¨cookiesä¿å­˜æ‚¨çš„åå­—ã€ç”µå­é‚®ç®±åœ°å€å’Œç½‘ç«™åœ°å€ã€‚è¿™æ˜¯é€šè¿‡è®©æ‚¨å¯ä»¥ä¸ç”¨åœ¨è¯„è®ºæ—¶å†æ¬¡å¡«å†™ç›¸å…³å†…å®¹è€Œå‘æ‚¨æä¾›æ–¹ä¾¿ã€‚è¿™äº›cookiesä¼šä¿ç•™ä¸€å¹´ã€‚\nå¦‚æœæ‚¨è®¿é—®æˆ‘ä»¬çš„ç™»å½•é¡µï¼Œæˆ‘ä»¬ä¼šè®¾ç½®ä¸€ä¸ªä¸´æ—¶çš„cookieæ¥ç¡®è®¤æ‚¨çš„æµè§ˆå™¨æ˜¯å¦æ¥å—cookiesã€‚æ­¤cookieä¸åŒ…å«ä¸ªäººæ•°æ®ï¼Œä¸”ä¼šåœ¨æ‚¨å…³é—­æµè§ˆå™¨æ—¶è¢«ä¸¢å¼ƒã€‚\nå½“æ‚¨ç™»å½•æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šè®¾ç½®å¤šä¸ªcookiesæ¥ä¿å­˜æ‚¨çš„ç™»å½•ä¿¡æ¯åŠå±å¹•æ˜¾ç¤ºé€‰é¡¹ã€‚ç™»å½•cookiesä¼šä¿ç•™ä¸¤å¤©ï¼Œè€Œå±å¹•æ˜¾ç¤ºé€‰é¡¹cookiesä¼šä¿ç•™ä¸€å¹´ã€‚å¦‚æœæ‚¨é€‰æ‹©äº†â€œè®°ä½æˆ‘â€ï¼Œæ‚¨çš„ç™»å½•çŠ¶æ€åˆ™ä¼šä¿ç•™ä¸¤å‘¨ã€‚å¦‚æœæ‚¨æ³¨é”€ç™»é™†äº†æ‚¨çš„è´¦æˆ·ï¼Œç”¨äºç™»å½•çš„cookieså°†ä¼šè¢«ç§»é™¤ã€‚\nå¦‚æœæ‚¨ç¼–è¾‘æˆ–å‘å¸ƒæ–‡ç« ï¼Œæˆ‘ä»¬ä¼šåœ¨æ‚¨çš„æµè§ˆå™¨ä¸­ä¿å­˜ä¸€ä¸ªé¢å¤–çš„cookieã€‚è¿™ä¸ªcookieä¸åŒ…å«ä¸ªäººæ•°æ®è€Œåªè®°å½•äº†æ‚¨åˆšæ‰ç¼–è¾‘çš„æ–‡ç« çš„IDã€‚è¿™ä¸ªcookieä¼šä¿ç•™ä¸€å¤©ã€‚\næ¥è‡ªå…¶ä»–ç½‘ç«™çš„åµŒå…¥å†…å®¹ æ¨èçš„æ–‡æœ¬ï¼š æ­¤ç«™ç‚¹ä¸Šçš„æ–‡ç« å¯èƒ½ä¼šåŒ…å«åµŒå…¥çš„å†…å®¹ï¼ˆå¦‚è§†é¢‘ã€å›¾ç‰‡ã€æ–‡ç« ç­‰ï¼‰ã€‚æ¥è‡ªå…¶ä»–ç«™ç‚¹çš„åµŒå…¥å†…å®¹çš„è¡Œä¸ºå’Œæ‚¨ç›´æ¥è®¿é—®è¿™äº›å…¶ä»–ç«™ç‚¹æ²¡æœ‰åŒºåˆ«ã€‚\nè¿™äº›ç«™ç‚¹å¯èƒ½ä¼šæ”¶é›†å…³äºæ‚¨çš„æ•°æ®ã€ä½¿ç”¨cookiesã€åµŒå…¥é¢å¤–çš„ç¬¬ä¸‰æ–¹è·Ÿè¸ªç¨‹åºåŠç›‘è§†æ‚¨ä¸è¿™äº›åµŒå…¥å†…å®¹çš„äº¤äº’ï¼ŒåŒ…æ‹¬åœ¨æ‚¨æœ‰è¿™äº›ç«™ç‚¹çš„è´¦æˆ·å¹¶ç™»å½•äº†è¿™äº›ç«™ç‚¹æ—¶ï¼Œè·Ÿè¸ªæ‚¨ä¸åµŒå…¥å†…å®¹çš„äº¤äº’ã€‚\næˆ‘ä»¬ä¸è°å…±äº«æ‚¨çš„ä¿¡æ¯ æ¨èçš„æ–‡æœ¬ï¼š è‹¥æ‚¨è¯·æ±‚é‡ç½®å¯†ç ï¼Œæ‚¨çš„IPåœ°å€å°†åŒ…å«äºå¯†ç é‡ç½®é‚®ä»¶ä¸­ã€‚\næˆ‘ä»¬ä¿ç•™å¤šä¹…æ‚¨çš„ä¿¡æ¯ æ¨èçš„æ–‡æœ¬ï¼š å¦‚æœæ‚¨ç•™ä¸‹è¯„è®ºï¼Œè¯„è®ºå’Œå…¶å…ƒæ•°æ®å°†è¢«æ— é™æœŸä¿å­˜ã€‚æˆ‘ä»¬è¿™æ ·åšä»¥ä¾¿èƒ½è¯†åˆ«å¹¶è‡ªåŠ¨æ‰¹å‡†ä»»ä½•åç»­è¯„è®ºï¼Œè€Œä¸ç”¨å°†è¿™äº›åç»­è¯„è®ºåŠ å…¥å¾…å®¡é˜Ÿåˆ—ã€‚\nå¯¹äºæœ¬ç½‘ç«™çš„æ³¨å†Œç”¨æˆ·ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¿å­˜ç”¨æˆ·åœ¨ä¸ªäººèµ„æ–™ä¸­æä¾›çš„ä¸ªäººä¿¡æ¯ã€‚æ‰€æœ‰ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŸ¥çœ‹ã€ç¼–è¾‘æˆ–åˆ é™¤ä»–ä»¬çš„ä¸ªäººä¿¡æ¯ï¼ˆé™¤äº†ä¸èƒ½å˜æ›´ç”¨æˆ·åå¤–ï¼‰ã€ç«™ç‚¹ç®¡ç†å‘˜ä¹Ÿå¯ä»¥æŸ¥çœ‹åŠç¼–è¾‘é‚£äº›ä¿¡æ¯ã€‚\næ‚¨å¯¹æ‚¨çš„ä¿¡æ¯æœ‰ä»€ä¹ˆæƒåˆ© æ¨èçš„æ–‡æœ¬ï¼š å¦‚æœæ‚¨æœ‰æ­¤ç«™ç‚¹çš„è´¦æˆ·ï¼Œæˆ–æ›¾ç»ç•™ä¸‹è¯„è®ºï¼Œæ‚¨å¯ä»¥è¯·æ±‚æˆ‘ä»¬æä¾›æˆ‘ä»¬æ‰€æ‹¥æœ‰çš„æ‚¨çš„ä¸ªäººæ•°æ®çš„å¯¼å‡ºæ–‡ä»¶ï¼Œè¿™ä¹ŸåŒ…æ‹¬äº†æ‰€æœ‰æ‚¨æä¾›ç»™æˆ‘ä»¬çš„æ•°æ®ã€‚æ‚¨ä¹Ÿå¯ä»¥è¦æ±‚æˆ‘ä»¬æŠ¹é™¤æ‰€æœ‰å…³äºæ‚¨çš„ä¸ªäººæ•°æ®ã€‚è¿™ä¸åŒ…æ‹¬æˆ‘ä»¬å› ç®¡ç†ã€æ³•è§„æˆ–å®‰å…¨éœ€è¦è€Œå¿…é¡»ä¿ç•™çš„æ•°æ®ã€‚\nWhere your data is sent æ¨èçš„æ–‡æœ¬ï¼š è®¿å®¢è¯„è®ºå¯èƒ½ä¼šè¢«è‡ªåŠ¨åƒåœ¾è¯„è®ºç›‘æµ‹æœåŠ¡æ£€æŸ¥ã€‚\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/privacy-policy/","title":"éšç§æ”¿ç­–"},{"content":"ç”¨æˆ·å’Œapiæ“ä½œçš„é™åˆ¶ ç”¨æˆ·èº«ä»½ IP è®¾å¤‡åºå· ç”¨æˆ·id ç”¨æˆ·æ‰‹æœºè®¾å¤‡cid å¯ä¼ªé€  ä¸ç”¨äºè¯†åˆ«ç”¨æˆ·\nç¡¬ä»¶è®¾å¤‡ æ ¹æ®ipé™åˆ¶ å•ip å•ä½åˆ†é’Ÿåªå¯ä»¥æŸ¥è¯¢ Næ¬¡æ•°æ®åº“ å•i å•ä½æ—¶é—´å†… åªå¯ä»¥æŸ¥è¯¢Næ¬¡ redis \u0026lt;\u0026gt; åŒ…æ‹¬ä¸Šä¼ æ•°æ®\næ ¹æ®macé™åˆ¶ å³ä¾¿æ˜¯æœ‰æ•ˆçš„mac å•ä½æ—¶é—´å†…åªå¯ä»¥æ“ä½œNæ¬¡redis\nç”¨æˆ·app æ ¹æ®IP å•ip å•ä½æ—¶é—´å†… åªå¯ä»¥æŸ¥è¯¢Næ¬¡æ•°æ®åº“æ£€æŸ¥ç”¨æˆ·å¯†ç  å•ip å•ä½æ—¶é—´å†… åªå¯ä»¥æŸ¥è¯¢Næ¬¡redisæ£€æŸ¥ç”¨æˆ·å¯†ç \næ ¹æ®ç”¨æˆ·id å•ç”¨æˆ· å•ä½æ—¶é—´å†…åªå¯ä»¥æŸ¥Næ¬¡redis å•ç”¨æˆ· å•ä½æ—¶é—´å†…åªå¯ä»¥æŸ¥Næ¬¡redis\næ ¹æ®è®¾å¤‡å’ŒappåŒºåˆ† è®¾å¤‡ä¸ŠæŠ¥æ—¥å¿— è·å–è¿”å›å€¼ æŸ¥è¯¢redis æ ¹æ®ip é™åˆ¶ 1åˆ†é’Ÿå†…400æ¬¡ limit.dev.redis.ip.xxx.m. æ ¹æ®mac é™åˆ¶ 1åˆ†é’Ÿå†…40æ¬¡ limit.dev.redis.mac.xxx.m. æŸ¥è¯¢æ•°æ®åº“ æ ¹æ®ipé™åˆ¶ 1åˆ†é’Ÿå†…60æ¬¡ limit.dev.mysql.ip.xxx.m. æ ¹æ®mac é™åˆ¶ 1åˆ†é’Ÿå†…1æ¬¡ limit.dev.mysql.mac.xxx.m.\nAPP = \u0026gt; ç™»å½• å’Œ ç”¨id tokenæ£€æŸ¥ç™»å½• æŸ¥è¯¢redis æ ¹æ®ip é™åˆ¶ 1åˆ†é’Ÿå†…120æ¬¡ limit.app.login.redis.ip.xxx.m. æŸ¥è¯¢æ•°æ®åº“ æ ¹æ®ipé™åˆ¶ 1åˆ†é’Ÿå†…100æ¬¡ limit.app.login.mysql.ip.xxx.m.\nAPP =\u0026gt; è·å–æ‰‹æœºéªŒè¯ç  æ‰‹æœºå·è¦å…ˆå­˜åœ¨\næŸ¥è¯¢æ•°æ®åº“ æ ¹æ®ip é™åˆ¶ 1åˆ†é’Ÿå†…120æ¬¡ limit.app.sms.mysql.ip.xxx.m. å‘é€SMS\n1åˆ†é’Ÿå†…1æ¬¡ limit.app.sms.phone.xxx.m. 1å¤©3æ¬¡ limit.app.sms.phone.xxx.day.\nApp =\u0026gt; è·å–è®¾å¤‡æ—¥å¿— æ ¹æ®IP æŸ¥è¯¢ç”¨æˆ·æ—¥å¿— 1åˆ†é’Ÿé™åˆ¶600æ¬¡ limit.app.getlog.redis.ip.xxx.m. 1å°æ—¶é™åˆ¶3600æ¬¡ limit.app.getlog.redis.ip.xxx.hour. æ ¹æ®ç”¨æˆ·id 1åˆ†é’Ÿé™åˆ¶600æ¬¡ limit.app.getlog.redis.userid.xxx.m.\nApp =\u0026gt; å¸¸è§„æ“ä½œ æ ¹æ®IP æŸ¥è¯¢æ“ä½œredis\n1åˆ†é’Ÿ600æ¬¡ limit.other.redis.ip.xxx.m. 1å°æ—¶3600æ¬¡ limit.other.redis.ip.xxx.hour. æŸ¥è¯¢æ“ä½œæ•°æ®åº“ 1åˆ†é’Ÿ600æ¬¡ limit.other.mysql.ip.xxx.m. 1å°æ—¶3600æ¬¡ limit.other.mysql.ip.xxx.m.\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/114/","title":"ç”¨æˆ·å’Œapiæ“ä½œçš„é™åˆ¶"},{"content":"è¿œç¨‹æ“ä½œcomå£ï¼Œç„¶åè¿›è¡Œå•ç‰‡æœºå¼€å‘æ–¹æ³• ç½‘ç»œæƒ…å†µï¼š Aç”µè„‘ ç¬”è®°æœ¬ç”µè„‘ï¼Œæ²¡æœ‰å¼€å‘ç¯å¢ƒ usbè½¬æ¥comå£ åˆ°å•ç‰‡æœº win11ç³»ç»Ÿ Bç”µè„‘ 24å°æ—¶å¼€æœºä½åŠŸè€—å°å¼æœº win8.1\nè·¯ç”±å™¨ï¼š OpenWrt k2p æœ‰å…¬ç½‘ip ç»è¿‡æµ‹è¯•æ˜¯ä¸éœ€è¦ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œåªéœ€è¦ åœ¨è¿œç¨‹æ¡Œé¢ æœ¬åœ°èµ„æº å‹¾é€‰ä¸Š ç«¯å£ å³å¯ã€‚\nä½†æ˜¯åœ¨Bç”µè„‘çš„è®¾å¤‡ç®¡ç†å™¨ é‡Œé¢çœ‹ä¸åˆ° ç”¨ç¬¬ä¸‰æ–¹ä¸²å£å·¥å…·å¯ä»¥çœ‹åˆ° åœ¨ vmware ä¹Ÿå¯ä»¥çœ‹åˆ°[å³comå£å¯ä»¥ç›´æ¥åœ¨vmwareçš„ardé‡Œé¢æ“ä½œ] è¿˜ä¸€ä¸ªæ–¹æ³• æ˜¯ç”¨ usb over network å¯ä»¥æŠŠusbè½¬comçš„è®¾å¤‡ å…±äº«å‡ºå»\næ¬¡æ–¹æ³•åº”è¯¥ä¹Ÿé€‚ç”¨ä¸ xrdp\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/create-tcp-ip-serial-port/","title":"è¿œç¨‹æ“ä½œcomå£ï¼Œç„¶åè¿›è¡Œå•ç‰‡æœºå¼€å‘æ–¹æ³•"},{"content":"å†è®® VirtualBox ä¸ VMware å¯¹æ¯”ï¼ŒVirtualBox æ²¡æœ‰ä½ æƒ³çš„é‚£ä¹ˆä¸å ª ä»¥æˆªæ­¢åˆ°2022.9.22æœ€æ–°çš„VirtualBox 6.1.38 å’Œ VMware VMware Workstation Pro16.2.4 å¯¹æ¯”\né¦–å…ˆ å¦‚æœæ˜¯linuxä¸»æœº ï¼Œé¦–é€‰ kvm æ²¡æœ‰ä¹‹ä¸€ kvmä¸‹ä¸€åˆ‡éƒ½æ˜¯æ¸£\nä»·æ ¼ï¼šVirtualBox é¦–é€‰ï¼Œ VirtualBox å…è´¹å¼€æºï¼ŒVMware playerå…è´¹ä½†æ˜¯ä»…é™éå•†ä¸šç”¨é€”ï¼ŒVMware WorkStation ä¸ä¾¿å®œï¼ˆæ¥è¿‘2kï¼‰ã€‚è¿™ç‚¹æ˜¯å¾ˆå¤§çš„å½±å“å†³ç­–çš„å› ç´ ã€‚å½“ç„¶ä½ ç”¨ç›—ç‰ˆVMwareæˆ–è€…VMware playerï¼Œæˆ–è€…éå•†ä¸š ä¹Ÿæ²¡å•¥ã€‚ è½»é‡ï¼šVirtualBoxæ˜¯é¦–é€‰ï¼ŒVirtualBoxå®‰è£…åä¹Ÿå°±æˆ˜å½¹çº¢260Mç¡¬ç›˜ VMware 1Gèµ·æ­¥ å¤šç³»ç»Ÿæ”¯æŒï¼šLinux macos Windowséƒ½æ”¯æŒ å¦å¤–VirtualBoxæ”¯æŒæ— å›¾å½¢ç•Œé¢çš„Linuxä½¿ç”¨ï¼Œä¹Ÿæœ‰ä¸€ä¸ªåŸºäºphpçš„webç®¡ç†å·¥å…·phpvirtualboxï¼ŒVMwareä¸æ¸…æ¥šæ˜¯å¦æœ‰ã€‚macosä¸‹vmware fusion playerä¹Ÿæ˜¯å…è´¹çš„ï¼Œä½†ä¹Ÿä»…é™éå•†ä¸šã€‚ è™šæ‹Ÿæœºæ–‡ä»¶ç®¡ç†ï¼šVirtualBox å°±ä¸‰ä¸ªæ–‡ä»¶ vdi(è™šæ‹Ÿç£ç›˜) vbox(é…ç½®æ–‡ä»¶) prevï¼ˆvboxçš„å¤‡ä»½ï¼‰ï¼ŒVMwareä¸€å † è™šæ‹Ÿæœºç£ç›˜ç®¡ç†ï¼šVirtualBox çš„æ³¨å†Œæœºåˆ¶éº»çƒ¦ï¼Œè‡ªè¡Œå¤åˆ¶è™šæ‹Ÿç£ç›˜åï¼Œä¼šuuidå†²çªéœ€è¦å»ä¿®æ”¹ä¸€æ¬¡ã€‚VMwareä¸å­˜åœ¨è¿™é—®é¢˜ã€‚å¥½åƒåªæœ‰VirtualBox å­˜åœ¨è™šæ‹Ÿæœºä»‹è´¨æ³¨å†Œè¿™ä¸ªæœºåˆ¶ï¼Œè€Œä¸”è¿˜ä¼šæ£€æµ‹uuidå†²çª è™šæ‹Ÿæœºç£ç›˜æ ¼å¼æ”¯æŒï¼šVirtualBox æ”¯æŒ vdi vhd vmdkï¼Œå¹¶è‡ªå¸¦è¿™ä¸‰ä¸ªä¹‹å¤–çš„æ•°ç§å¸¸è§ç£ç›˜æ ¼å¼çš„è½¬æ¢ã€‚VirtualBox åªæ”¯æŒ vdiç£ç›˜çš„æ•´ç†å‹ç¼©ï¼Œvhdè¿˜æ˜¯ç”¨Windowsæ¥ã€‚VMwareåªæ”¯æŒ vmdkä½†æ˜¯ä¹Ÿå…¶ä»–ç£ç›˜æ ¼å¼åˆ°vmdkçš„è½¬æ¢ã€‚VirtualBox å¯¹vhdçš„å®Œç¾æ”¯æŒï¼Œåœ¨Windowsä¸‹ç®¡ç†æ›´æ–¹ä¾¿ å…±äº«ç›®å½•ï¼šéƒ½æ”¯æŒ 2Dæ€§èƒ½ï¼šWindowsä¸‹VirtualBox æ¯”kvmå’ŒVMwareçš„2Dæ€§èƒ½æ›´å¼ºã€‚æœ‰ç‰©ç†æœºçš„50% 3Dæ€§èƒ½ï¼ŒVMwareæ€§èƒ½ä¸é”™ï¼ŒVirtualBox å‡‘åˆã€‚ä½†æ˜¯VirtualBox çš„æ˜¾å¡å†…å­˜ä¸æ˜¯ç½‘ä¸Šå…¶ä»–åšæ–‡è¯´çš„åªå¯ä»¥128M å‘½ä»¤è¡Œæ¨¡å¼ å¯ä»¥éšæ„æ”¹ ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆä¸å ªã€‚ä½†æ˜¯VMwareçš„3Dæ€§èƒ½å¯ä»¥æ¥è¿‘ç‰©ç†æœº60%å·¦å³ cpuã€å†…å­˜å’Œç¡¬ç›˜æ€§èƒ½ï¼š éƒ½ä¸€æ ·ï¼Œæ‰€æœ‰çš„è™šæ‹Ÿæœºç³»ç»ŸåŸºæœ¬ä¸Šéƒ½å·®ä¸å¤šçš„æ€§èƒ½ã€‚ é»‘è‹¹æœï¼šVMwareéœ€è¦unlockåå®‰è£…ï¼ŒVirtualBox éœ€è¦å‘½ä»¤è¡Œä¿®æ”¹åæ‰å¯ä»¥è£…æœ€æ–°çš„ maos11-13ã€‚VirtualBox çš„macosä¸æ”¯æŒä¸¤ä¸ªæ ¸å¿ƒä»¥ä¸Šçš„macos ä¼šå‡ºç°ä¸€äº›æ–‡ä»¶ã€‚VMwareçš„ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚å®‰è£…åçš„macos éƒ½æ˜¯ åŠæ–¤å…«ä¸¤ï¼Œåº”æ€¥ç”¨æ²¡å•¥é—®é¢˜ï¼ŒåšåƒåŠ›çš„å·¥ä½œéƒ½ä¸ç°å®ã€‚å°¤å…¶3Dæ€§èƒ½éƒ½åƒåœ¾ã€‚ usb3 çš„æ”¯æŒï¼Œéƒ½æ”¯æŒã€‚VirtualBox æœ‰ä¸€ä¸ªæ‰©å±•åŒ…ï¼Œå¤§æ¦‚å‡ åmï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹åœ¨VirtualBox çš„æ‰©å±•åŒ…å’Œä¸»ç‰ˆæœ¬ä¸€èµ·æ›´æ–°ã€‚å¹¶ä¸å­˜åœ¨ä»€ä¹ˆ éº»çƒ¦çš„ã€‚å®‰è£…æŒ‚è½½ä¹Ÿç®€å• tpmæ”¯æŒï¼šéƒ½æ”¯æŒï¼ŒVirtualBox æ”¯æŒtpmç›´é€šï¼ŒVMwareæ”¯æŒæ¨¡æ‹Ÿçš„ï¼Œæ˜¯å¦å¯ä»¥ç›´é€šä¸çŸ¥ã€‚åªæ˜¯å®‰è£…win11çš„è¯ï¼Œè¿™ä¸ªæ²¡å·®ï¼Œéƒ½å¯ä»¥ç»•è¿‡ ç¡¬ç›˜ç›´é€šï¼šéƒ½æ”¯æŒï¼ŒVirtualBox éœ€è¦åšä¸€ä¸ªvmdkæ–‡ä»¶æ˜ å°„ç‰©ç†ç›˜ è™šæ‹ŸåŒ–åµŒå¥—ï¼šVirtualBox æ”¯æŒï¼ŒVMwareåº”è¯¥æ˜¯ä¸æ”¯æŒçš„ï¼Œæœªæµ‹è¯•è¿‡ã€‚è¿™å°±å¯¼è‡´äº†è™šæ‹Ÿçš„Windowsä¸‹ åŸºäºhyper-vçš„wsl dockerä¼šæœ‰é—®é¢˜å§ã€‚ åŠè™šæ‹ŸåŒ–ï¼šVirtualBox æ”¯æŒï¼ŒVMwareåº”è¯¥æ˜¯ä¸æ”¯æŒçš„ï¼Œæœªæµ‹è¯•è¿‡ã€‚å¦å¤– kvm hyper-v xenéƒ½æ”¯æŒåŠè™šæ‹ŸåŒ–ï¼Œæ€§èƒ½æŸè€—æ›´å°‘ è½¯è™šæ‹Ÿï¼šVirtualBox æ”¯æŒï¼ŒVMwareåº”è¯¥æ˜¯ä¸æ”¯æŒçš„ï¼Œæœªæµ‹è¯•è¿‡ã€‚VirtualBox å¯ä»¥è¿è¡Œarmçš„å®‰å“ã€‚VMwareå¥½åƒæ˜¯ä¸å¯ä»¥çš„ã€‚ç½‘ä¸Šå¤§é‡çš„å®‰å“æ¨¡æ‹Ÿå™¨éƒ½æ˜¯å†…ç½®VirtualBox æœ€æ–°ç‰ˆé»‘ç¾¤æ™–æ”¯æŒï¼šéƒ½æ”¯æŒï¼Œéƒ½ä¸€æ ·å¼„ã€‚ä¸å­˜åœ¨æ–°ç‰ˆåœ¨VirtualBox è£…ä¸ä¸Šçš„é—®é¢˜ï¼Œè‡ªå·±å¼„å¼•å¯¼å°±å¥½äº†ã€‚ åŠ¨æ€ç£ç›˜ï¼šéƒ½æ”¯æŒ ç½‘ç»œæ”¯æŒï¼šéƒ½æ”¯æŒ æ¡¥æ¥ nat ï¼Œæ²¡å·®åˆ«ã€‚ å‘½ä»¤è¡Œå¯åŠ¨ï¼Œæ³¨å†Œä¸ºServerï¼šéƒ½æ”¯æŒ åŠ¨æ€å†…å­˜ç®¡ç†ï¼šå°±æ˜¯å¯ä»¥é‡Šæ”¾æ²¡å ç”¨çš„å†…å­˜ï¼Œhyper-vçš„å¾ˆç§€ï¼ŒVMwareæ”¯æŒ ,VirtualBox ä¹Ÿ æŠ€æœ¯æ–‡ç« å’Œç¬¬ä¸‰æ–¹æ”¯æŒå¹¿æ³›æ€§ï¼šå›½å†…VMwareçš„æ–‡ç« æ›´å¤šï¼ŒæŸä¸€äº›ç‰¹æ®Šç³»ç»Ÿçš„å®‰è£…VMwareçš„æ•™ç¨‹æ›´å¤šã€‚å›½å†…ä¼ä¸šé€‰æ‹©VMwareçš„ä¹Ÿæ›´å¤šã€‚åŸ¹è®­å’Œæ•™ç¨‹ä¹Ÿå¤šä»¥VMwareä¸ºä¸»ã€‚VirtualBox é€šå¸¸è¢«è¯´æˆä¸€ç§é—®é¢˜å¤šæ€§èƒ½å·®åŠŸèƒ½å°‘çš„ å…¶ä»–è™šæ‹Ÿæœºç³»ç»Ÿç¼ºç‚¹\nkvmï¼Œä»…é€‚ç”¨äºLinuxï¼Œæ¨¡æ‹Ÿçš„Windows 3D 2Déƒ½æ‹‰è·¨ï¼Œä½†æ˜¯å¯ä»¥ç”¨æ˜¾å¡ç›´é€šå’Œvgpuæ¥æå‡ã€‚éå¸¸é€‚åˆLinuxè€æ‰‹ä½¿ç”¨ã€‚Linuxçš„ä¸äºŒé€‰æ‹©ã€‚ä¹Ÿæ˜¯unraid pveç­‰ç³»ç»Ÿçš„é»˜è®¤è™šæ‹Ÿæœºç³»ç»Ÿï¼Œç¾¤æ™–ä¹Ÿæ˜¯ hyper-vï¼Œæ¥è¿‘å…è´¹ï¼Œæ”¯æŒ vgpu æ”¯æŒæ˜¾å¡ç›´é€šï¼Œvgpuã€‚å¯æƒœusbæ”¯æŒä¸ä½³ã€‚å¦‚æœä¸æ˜¯å¤§ååé‡usbè®¾å¤‡å¯ä»¥ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œæˆ–è€… rdpç­‰è§£å†³ã€‚ ecxi å’ŒåŸºäºkvmçš„unraid pve ç¾¤æ™–ç­‰ ä¸åœ¨å¯¹æ¯”ä¹‹åˆ— å¯ä»¥çœ‹åˆ°VirtualBox å¯¹VMwareç›¸æ¯”ç¼ºç‚¹æœ‰ï¼š\n3Dæ€§èƒ½VirtualBox ä»…æ”¯æŒåˆ°DirectX9ä»¥åŠOpenGL3.0ï¼ŒDirectX 11 å’Œ OpenGL 4.1 3D åŠ é€Ÿå›¾å½¢æ”¯æŒ è™šæ‹Ÿæœ€æ–°é»‘è‹¹æœï¼Œä¸æ”¯æŒ2ä¸ªä»¥ä¸Šæ ¸å¿ƒï¼Œä¸è¿‡VMwareçš„macosæ€§èƒ½ä¹Ÿå¾ˆæ‹‰è·¨ï¼ŒåŠæ–¤å…«ä¸¤ã€‚ VirtualBox å¯¹æ¯”kvmå’Œhyper-vçš„ç¼ºç‚¹ï¼š\nä¸æ”¯æŒæ˜¾å¡ç›´é€šå’Œvgpu æ€ä¹ˆé€‰\nmacosä¸‹è¿è¡Œwinå’Œmacosï¼Œä¸ç”¨æƒ³ è‚¯å®šé¦–é€‰æ˜¯pdè™šæ‹Ÿæœºã€‚å¦‚æœä¸ç©æ¸¸æˆ è‡ªç„¶ä¹Ÿå¯ä»¥ VirtualBox æˆ–è€…vmware fusion Linuxä¸‹ æ€§èƒ½è€ƒè™‘é¦–é€‰kvmï¼Œå¦‚æœä¸ä¹ æƒ¯ï¼Œå°±é€‰VirtualBox æˆ–è€…vmware ã€‚æ—  å›¾å½¢ç•Œé¢çš„Linuxä¸éœ€è¦å¤ªå¤š3dæ€§èƒ½çš„è¯ï¼Œé¦–é€‰VirtualBox win/Linux éœ€è¦è™šæ‹ŸåŒ–macosï¼Œé¦–é€‰VMwareï¼ŒVMware playerå…¶å®å°±å¤Ÿäº†ã€‚ éœ€è¦3Dæ€§èƒ½ï¼Œæ˜¾å¡ç›´é€šï¼Œé‚£å°± kvm hyper-vï¼Œexci unraid pveç­‰ ä¸éœ€è¦ç›´é€šï¼Œéœ€è¦vgpué‚£å°± hyper-v kvm åªæ˜¯éœ€è¦åŸºæœ¬çš„3Dæ€§èƒ½ï¼Œé‚£å°±VMware æ¬¡é€‰VirtualBox macosä¸‹è¿è¡Œwinï¼Œé¦–é€‰Parallels Desktop Linux serverä¸‹ é¦–é€‰kvm å’ŒVirtualBox winä¸‹å’ŒLinux æ··åˆå•†ä¸šç”¨é€”ï¼Œæƒ³çœé’±ï¼Œé‚£å°±é¦–é€‰VirtualBox äº†ã€‚å°¤å…¶æ˜¯è¿è¡Œ ä¸éœ€è¦3Dæ€§èƒ½çš„æœåŠ¡çš„æ—¶å€™ï¼Œå›¾å½¢åŒ–ç•Œé¢ï¼Œå¤šæ ¼å¼è™šæ‹Ÿç£ç›˜æ”¯æŒã€‚ä¸ç”¨usb è¿˜è®¸éœ€è¦ æ­£ç‰ˆwindow ä¸éœ€è¦usbï¼Œæˆ–è€…åªæ˜¯ç®€å•uç›˜ rs232ä¹‹ç±»çš„ï¼Œä¸”ä¸éœ€è¦VMwareçš„æƒ…å†µä¸‹ï¼ˆVMwareå’Œhyperå…±å­˜çš„æƒ…å†µä¸‹ï¼ŒVMwareæ€§èƒ½è¶…çº§æ‹‰è·¨ï¼‰ï¼Œé¦–é€‰hyper-v æˆ‘çš„é€‰æ‹©ï¼šå®¿ä¸»ç³»ç»Ÿä¹Ÿç”¨æ¥å·¥ä½œï¼Œå› ä¸»è¦ä½¿ç”¨çš„è½¯ä»¶ä¸æ”¯æŒLinux winpeåæ€§èƒ½æ‹‰è·¨ï¼Œæ‰€ä»¥å®¿ä¸»æœºæ˜¯Windowsã€‚å¶å°”ç”¨macoså¤„ç†iosç­¾åç­‰é—®é¢˜ã€‚æœ‰ä¸€ä¸ªLinux server å¼€å‘ç¯å¢ƒä½†æ˜¯ä¸€ç›´å¼€æœºçš„ï¼Œæ–¹ä¾¿å’Œä¸»linux server åŒæ­¥ä»¥åŠå¼€å‘ç‰ˆè°ƒè¯•ã€‚å¶å°”æ›¿ä»£ä¸»åŠ›serverä½¿ç”¨ï¼Œè¿™ä¸ªserverä¸Šæœ‰ä¸€äº›æ•æ„Ÿå†…å®¹ï¼Œä¸”å•†ç”¨ã€‚\nä¹Ÿå°±æ˜¯ æœ€ç»ˆå°±1-3ä¸ªè™šæ‹Ÿæœºè€Œå·²ï¼Œè€Œä¸”é™¤äº†macoså‡æ²¡æœ‰3déœ€æ±‚ï¼Œæ‰€ä»¥VirtualBox æˆäº†é¦–é€‰\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/vm-platform-selection/","title":"å†è®® VirtualBox ä¸ VMware å¯¹æ¯”ï¼ŒVirtualBox æ²¡æœ‰ä½ æƒ³çš„é‚£ä¹ˆä¸å ª"},{"content":"ç»ˆäºå®Œæˆäº†php-\u0026gt;goçš„è½¬ç§»å·¥ä½œ åŸå‹äº§å“ä½¿ç”¨çš„ thinkphp+mysql+rediså¼€å‘çš„ çº¯apiï¼Œç”±äºå¹¶å‘å¤ªå¤§ï¼Œphpåƒèµ„æºç¦»è°±ã€‚åŸºäºèŠ‚çº¦æˆæœ¬è€ƒè™‘ï¼Œç›´æ¥ç”¨goé‡å†™ ã€‚æ•°æ®åº“ ä¾æ—§æ˜¯åŸæ¥æ•°æ®åº“ã€‚\næ€»å…±30å‡ ä¸ªæ¥å£ï¼Œå†æ—¶ä¸€ä¸ªæœˆä»é›¶å¼€å§‹å­¦ä¹ goå¹¶å®Œæˆè¿ç§»å·¥ä½œã€‚å…ˆé‡å†™å¤§å¹¶å‘æ¥å£ï¼Œè€Œåé€ä¸ªçº¿ä¸Šæ›¿æ¢ã€‚\ngoä¸»è¦ç”¨çš„åº“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import ( \u0026#34;context\u0026#34; \u0026#34;crypto/md5\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/buger/jsonparser\u0026#34; _ \u0026#34;github.com/go-sql-driver/mysql\u0026#34; \u0026#34;github.com/valyala/fasthttp\u0026#34; ) jsonparser æ˜¯ä¸€ä¸ªjsonå¤„ç†åº“ï¼Œæ¯”è‡ªå¸¦çš„encoding/jsoné€Ÿåº¦è¦å¿«ï¼Œä½†encoding/jsonæ›´çµæ´»ä¸€äº›ï¼Œæ‰€ä»¥éƒ½ä½¿ç”¨äº†\nfasthttp æ˜¯ä¸€ä¸ªæ›´åŠ é«˜æ€§èƒ½çš„webæœåŠ¡ï¼Œåœ¨å¤šå¹¶å‘çš„æ—¶å€™ çº¿ç¨‹å¤ç”¨æ›´å¼ºå¤§\nä½†æ˜¯ ä¾æ—§ä½¿ç”¨äº† net/http æ¥å¤„ç†ä¸€äº› ç¬¬ä¸‰æ–¹sdk\næ„Ÿå—å’Œä¼˜åŠ¿\n1ã€vscodeè‡ªå¸¦ä»£ç æ ¡éªŒï¼Œå¤§é”™è¯¯å°é”™è¯¯éƒ½ä¼šæç¤ºï¼Œä»£ç ä½çº§å¤±è¯¯è¾ƒå°‘ã€‚ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–\n2ã€ä¸éœ€è¦æ­å»ºç¯å¢ƒï¼Œgolangå®˜æ–¹ç›´æ¥ä¸‹è½½ å®‰è£…å³å¯ï¼Œzipçš„è¯æ·»åŠ ä¸€ä¸ªç³»ç»Ÿå˜é‡å³å¯ä½¿ç”¨\n3ã€å¯ä»¥ä¸ä¾èµ–nginxï¼Œå½“ç„¶åŸºäºssl gzip æ—¥å¿— ç­‰éœ€æ±‚ï¼Œå‰ç«¯è¿˜æ˜¯å¥—ä¸€ä¸ªnginx ç®€å•ä¸€äº›\n4ã€ç¼–è¯‘é€Ÿåº¦å¾ˆå¿«ï¼Œåœ¨vscodeå¯ä»¥ç®€å•é‡æ–°ç¼–è¯‘è°ƒè¯•ï¼Œ4ç§’å·¦å³\n5ã€ç›´æ¥å¯¼å‡ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸ç”¨æ‹…å¿ƒæºç æ³„éœ² å°¤å…¶æ˜¯æºç é‡Œé¢çš„ä¸€äº›å¯†ç éƒ¨åˆ†ã€‚æ¯”å¦‚md5çš„äºŒæ¬¡åŠ å¯†å¯†é’¥ç­‰\n6ã€è®¡åˆ’ä»»åŠ¡ å®šæ—¶ä»»åŠ¡ï¼Œå¯ä»¥ç›´æ¥å•å¼€ä¸€ä¸ªçº¿ç¨‹å¤„ç†ï¼Œä¸ä¾èµ–å‰å°phpæ–‡ä»¶å”¤èµ·ï¼ˆå½“ç„¶ shell phpä¹Ÿå¯ä»¥ï¼‰goå¤„ç†èµ·æ¥ å¾ˆç®€å•åªéœ€è¦ä¸€è¡Œ go cron_tab() //å¹¶å‘ä»»åŠ¡ å³å¯\n7ã€å®å¡”è‡ªå¸¦å®ˆæŠ¤è¿›ç¨‹ï¼Œä¸éœ€è¦è‡ªå·±å¦å¤–å®ˆæŠ¤\n8ã€fmt.Println fmt.Fprint(ctx, \u0026ldquo;{}\u0026rdquo;) çš„æ—¥å¿—è¾“å‡ºï¼Œå¼€å‘è¿‡ç¨‹ä¸­ç›‘æ§è¿è¡ŒçŠ¶æ€æ›´ç®€å•\n9ã€è·¨å¹³å° ä¾æ—§æœ‰é«˜æ€§èƒ½ï¼Œwin linux mac armå‡å¯ä»¥æå®š\n10ã€å¯ä»¥å¼€å‘ç®€å•çš„ å®¢æˆ·ç«¯è½¯ä»¶ã€‚åŒè¯­è¨€ æèµ·æ¥çœå¿ƒ\n11ã€åŒ…ç®¡ç†å’Œæºç æ–‡ä»¶ ç®¡ç†ï¼Œæ²¡æœ‰phpæ–¹ä¾¿ ï¼Œéœ€è¦ç”¨go mod æˆ–è€…ç¬¬ä¸‰æ–¹æ¡†æ¶\n12ã€goå’Œphpç›¸æ¯”ï¼Œå¼ºç±»å‹éœ€è¦æ—¶é—´é€‚åº”ï¼Œå¦å¤–å¾ˆå¤šå‡½æ•°éœ€è¦è‡ªå·±å¤å†™ã€‚goçš„å¼‚å¸¸å¤„ç† è¾ƒä¸ºå•°å—¦ï¼ŒåŸç”Ÿå¼€å‘goçš„è¯ï¼Œéœ€è¦è‡ªå·±å†™å¤§é‡ç®€å•çš„å‡½æ•°æ¥å°è£… ä»¥ä¾¿ä¸»æµç¨‹ä»£ç ç®€æ´æ¯”å¦‚ md5 å‡½æ•°\n1 2 3 4 5 6 func MD5(str string) string { data := []byte(str + \u0026#34;xxxxxxxx\u0026#34;) //é™„åŠ å¯†ç  has := md5.Sum(data) md5str := fmt.Sprintf(\u0026#34;%x\u0026#34;, has) return md5str } è¿˜æœ‰ jsonå’Œmapäº’è½¬ ç­‰ç­‰\n13ã€å­—ç¬¦ç±»å‹è½¬åŒ– å¾ˆå•°å—¦ï¼Œç”šè‡³ int int8 int16 ä¹‹é—´è½¬åŒ– ä»£ç å•°å—¦ï¼Œä¸è¿‡æŒ‰éœ€ä½¿ç”¨ å¯ä»¥åšåˆ°æ›´å¿«çš„è¿è¡Œé€Ÿåº¦å’Œæé™çš„æ›´ä½çš„èµ„æºå ç”¨\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/php-to-go-1st/","title":"ç»ˆäºå®Œæˆäº†php-\u003egoçš„è½¬ç§»å·¥ä½œ"},{"content":"ä¸»ç³»ç»Ÿçš„é€‰æ‹©ï¼Œwinxp win7 win8 win11 å’Œé»‘macå’ŒLinuxï¼Œunraidã€pveã€ESXiç­‰ å…ˆè¯´é»‘è‹¹æœï¼Œè½¯ä»¶å¤šï¼Œä¸»æµè½¯ä»¶å‡å¯ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚æœä¸æ˜¯ä¸€ç›´éœ€è¦iosè°ƒè¯•å¼€å‘ï¼Œä¸å¤ªé€‚åˆæˆ‘ã€‚å› ä¸ºé•¿æœŸä½¿ç”¨è¿œç¨‹å·¥ä½œï¼Œå®¢æˆ·ç«¯æœ‰win ipad å®‰å“padç­‰æƒ…å†µï¼Œè‹¹æœçš„adråè®®å®¢æˆ·ç«¯å¾ˆæœ‰é™ï¼Œè€Œä¸”å¤šæ•°ä¸æ€ä¹ˆå¥½ç”¨ï¼Œæœ‰ä¸€äº›ä¸èƒ½å…¨å± æœ‰ä¸€äº›å³é”®æœ‰é—®é¢˜ã€‚xrdpåè®® ç®—æ˜¯é˜‰å‰²ç‰ˆçš„rdpåè®®ï¼Œå’ŒçœŸæ­£çš„xrdpç›¸æ¯”ä¸å®ç”¨\nå…¶æ¬¡è¯´æ¡Œé¢ Linuxï¼Œè¾“å…¥æ³•çš„è¯åº“é—®é¢˜å¯ä»¥å¿ã€‚ä½†æ˜¯hbuilderx wineååŠŸèƒ½ä¸å…¨ä¸è¯´ï¼ˆçœŸæœºè°ƒè¯•å›°éš¾ï¼‰ï¼Œå­˜åœ¨nodejs.exeå¤§é‡åƒcpuçš„é—®é¢˜\nunraid åŠŸèƒ½ å’Œæ€§èƒ½ ä»¥åŠç¡¬ä»¶ç›´é€š ç­‰ éƒ½æ²¡é—®é¢˜ï¼Œä»¥åŠUç›˜å¯åŠ¨å¯ä»¥æ–¹ä¾¿å¤‡ä»½ ç­‰ä¼˜ç‚¹ã€‚è€Œä¸”åªéœ€è¦ä¸€ä¸ª512Mçš„uç›˜å°±å¯ä»¥äº†ã€‚ï¼ˆæœ€å¥½æ˜¯å¥½ç‚¹çš„ï¼Œæ‚ç‰ŒUç›˜è‡ªå·±åšå¥½å¤‡ä»½ï¼‰\nunraid è¿˜æœ‰ä»¥ä¸€ä¸ªä¼˜åŠ¿å°±æ˜¯æœ‰ä¸€ä¸ªæˆç†Ÿçš„appså¸‚åœºï¼Œå¸¸è§çš„æ’ä»¶ç”šè‡³é»‘æœè‡ªåŠ¨å®‰è£…è„šæœ¬éƒ½æœ‰ã€‚ç¼ºç‚¹å°±æ˜¯éå¸¸ä¾èµ–githubï¼Œéœ€è¦è‡ªè¡Œè§£å†³å¢™æˆ–è€…hostsçš„é—®é¢˜,unraid æœ¬èº«æœ‰å¾ˆå¤šxxç‰ˆï¼Œç”¨çš„å¥½çš„è¯ å°±å»ä¹°ä¸€ä¸ªæ­£ç‰ˆç¡¬ç›˜å°‘çš„è¯å¹¶ä¸è´µã€‚\nä½œä¸ºä¸»ç³»ç»Ÿè€Œä¸æ˜¯nasä½¿ç”¨çš„ç¼ºé™·æœ‰ä¸€ä¸ªç¡¬ç›˜åˆ†åŒºæ ¼å¼ï¼Œä»¥åŠæ–‡ä»¶ç®¡ç†çš„æ··ä¹±ï¼ˆä¸»è¦æ˜¯å€¼å¾—*æ˜ å°„æ–‡ä»¶ï¼Œå½“ç„¶åšnasçš„è¿™éƒ½ä¸æ˜¯é—®é¢˜ï¼‰ã€‚ä»¥åŠè™šæ‹Ÿç£ç›˜æ ¼å¼ åªæœ‰imgä¸ªqcow2 ä¸¤ç§ï¼Œè€Œä¸”qcow2è½¬æ¢å å¾ˆå¤šå¯åŠ¨é—®é¢˜ã€‚\npve åŸºæœ¬ä¸Šå°±æ˜¯unraid çš„ç¼ºç‚¹ä»–éƒ½æœ‰ï¼Œè€Œä¸”åªè‡ªå¸¦LXCï¼Œä¼˜ç‚¹æ˜¯ å…è´¹\nESXi ä¸ªäººç‰ˆå…è´¹ï¼Œå› æ—¶é—´æœ‰é™è€Œä¸”unraid è¶³å¤Ÿä¼˜ç§€ï¼Œæ‰€ä»¥æ²¡ç”¨ä½¿ç”¨è¿‡ã€‚\nè¿˜ä¸€ä¸ªæ–¹æ¡ˆ æ˜¯linux+è™šæ‹Ÿæœºçš„æ–¹æ¡ˆã€‚\nå…³äºè™šæ‹Ÿæœºçš„é€‰æ‹©ï¼Œæˆ‘æ›´å€¾å‘äºvirtualboxä½œä¸ºä¸»è™šæ‹Ÿæœºç®¡ç†ï¼Œç®€å•æ–¹ä¾¿ã€‚cpuå’Œå†…å­˜ ç¡¬ç›˜ å¯¹VMware hyper-vç­‰å¯¹æ¯”æ›´ä¸å·®ï¼Œåªæ˜¯æ˜¾å¡ç›´é€š å’Œ 3dæ€§èƒ½å­±å¼±ã€‚kvmä¹Ÿæ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ï¼Œä½†æ˜¯æ—¢ç„¶ä¸»ç³»ç»Ÿå› ä¸ºéƒ¨åˆ†å¸¸ç”¨è½¯ä»¶çš„é—®é¢˜æ— æ³•åšæ—¥å¸¸ä½¿ç”¨ï¼Œåˆä½•å¿…ã€‚ã€‚ã€‚\nå‰©ä¸‹çš„ç³»ç»Ÿ å°±åªèƒ½æ˜¯Windowsäº†\nwindowxp ä¼˜ç‚¹ï¼šç£ç›˜ä½“ç§¯å°ï¼Œå‡ ä¹ä¸å ç”¨å¤šå°‘ç¡¬ç›˜ã€‚é€‚å½“ç²¾ç®€ä¸€ä¸‹å°±å¯ä»¥æ§åˆ¶åˆ°å‡ ç™¾Mï¼Œç¼ºç‚¹:\nä¸»æµè½¯ä»¶å·²ç»ä¸æ”¯æŒï¼Œå¦‚æœæ—¥å¸¸ç³»ç»Ÿç”¨è™šæ‹Ÿæœºç³»ç»Ÿçš„è¯ï¼Œè¿™ä¸ªä¸æ˜¯å•¥é—®é¢˜ è¿œç¨‹æ¡Œé¢ä¸æ”¯æŒ3Dï¼Œpsï¼švirtualboxæ”¯æŒWindows NT 2000 xp win7-11 éƒ¨åˆ†é©±åŠ¨å¯èƒ½æœ‰é—®é¢˜ ä¸æ”¯æŒvhdå¯åŠ¨ï¼Œå¯ä»¥ç”¨Grub4dos+winvblockè§£å†³ Windows 2000 åŒ WindowsXP ï¼Œå½“å¹´åœ¨ xpå¤§è¡Œå…¶é“çš„æ—¶å€™ï¼ŒWindows 2000 serveråšæ¡Œé¢ç«¯ åˆ«ææœ‰å¤šçˆ½ï¼Œåå¿µé’è‘±å²æœˆäº†ã€‚\nwin7 win8 å› ä¸ºæ”¯æŒcompactå‡å¯æ§åˆ¶åˆ°8Gå·¦å³ç¡¬ç›˜å ç”¨ éƒ¨åˆ†è½¯ä»¶å·²ç»ä¸æ”¯æŒwin7\nwin10 win11 æ²¡å•¥å¤ªå¤§å·®å¼‚ï¼Œwin8 ä»¥åç³»ç»Ÿ å¯ä»¥åšä¸»ç³»ç»Ÿä½¿ç”¨ ä¹Ÿå¯ä»¥åšè™šæ‹Ÿæœºserverä½¿ç”¨\næœ€åçš„é€‰æ‹©\nunraid win2000/xp win11 ä¸‰é€‰ä¸€\nunraid ä¹Ÿä¸èƒ½è¯´è¿‡äºæŠ˜è…¾å§ã€‚åªæ˜¯å…ˆæœ‰å‡ ä¸ªè™šæ‹Ÿæœº è¿˜åœ¨vboxä¸‹ æ‡’å¾—è¿ç§»\nwin2000/xp é©±åŠ¨é—®é¢˜ä¹Ÿæ‡’å¾—å¼„\nè¿˜æ˜¯ win11 æ¥æï¼Œç²¾ç®€å‹ç¼©ä¸€ä¸‹å°±å¥½äº†ã€‚ä¸è¿‡ä¸ç²¾ç®€ ä¹Ÿå¯ä»¥è½»æ¾æ§åˆ¶åˆ°12Gä»¥å†…\nä½†æ˜¯windowsä½œä¸ºå®¿ä¸»æœº æ€§èƒ½æŸè€—è¿˜æ˜¯æœ‰ä¸€äº›ã€‚2022å¹´é€‰æ‹©äº†unraid\n2022-10-07\nunraid æœ€ç‰ˆæœ¬6.11.1 è¯•ç”¨ç‰ˆ ç»å†å‡ æ¬¡è«åå…¶å¦™çš„æ­»æœºï¼Œå¼ƒç”¨ åŠ ä¸Šgithubçš„ä¾èµ–éº»çƒ¦ï¼Œè¿˜éœ€è¦ç»´æŠ¤clashæ¢¯å­ï¼Œéº»çƒ¦ æœ€ç»ˆå¼ƒç”¨ï¼Œæ•°æ®å¤‡ä»½åè¿ç§»åˆ°pve\nä»¥åæœ‰æ—¶é—´ ä¼šå°è¯•ä¸€ä¸‹ ventoy + pve vhdçš„æ–¹å¼\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/main-os/","title":"ä¸»ç³»ç»Ÿçš„é€‰æ‹©ï¼Œwinxp win7 win8 win11 å’Œé»‘macå’ŒLinuxï¼Œunraidã€pveã€ESXiç­‰"},{"content":"åšäº†ä¸€æ¬¡ç‘æ–‡iqã€‚ã€‚ã€‚135+ ä»¥ä¸ºè‡ªå·±è€äº†ï¼Œä¸è¡Œäº†ã€‚ è¿˜å¥½ã€‚ã€‚\nWed, 17 Aug 2022 12:01:09 +0000\n","date":"2022-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/iq-ruiwen/","title":"åšäº†ä¸€æ¬¡ç‘æ–‡iqã€‚ã€‚ã€‚135+"},{"content":"windowsä¸‹VMwareå¼€æœºè‡ªåŠ¨å¯åŠ¨å¹¶è‡ªåŠ¨å¤„ç†è§£é”é—®é¢˜ æ‰¹å¤„ç†å¯åŠ¨vmè™šæ‹Ÿæœºçš„æ–¹æ³• å¾ˆç®€å• æ–°å»ºä¸€ä¸ªbatæ–‡ä»¶ï¼šå¯åŠ¨è™šæ‹Ÿæœº.bat``` \u0026ldquo;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe\u0026rdquo; start \u0026ldquo;E:\\VM\\Alpine-BT\\Alpine-BT.vmx\u0026rdquo; nogui\n\u0026ldquo;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe\u0026rdquo; start \u0026ldquo;E:\\VM\\Alpine-DP\\Alpine-DP.vmx\u0026rdquo; nogui æ·»åŠ åˆ° ä»»åŠ¡è®¡åˆ’ å¹¶ï¼Œä¸ç®¡ç”¨æˆ·æ˜¯å¦ç™»å½•éƒ½è¦è¿è¡Œ å®é™…æ“ä½œç”¨å‘ç°ï¼Œå¶å°”ä¼šå‡ºç°è™šæ‹Ÿæœºè¢«é”æ­»ã€‚ä¹Ÿå°±æ˜¯ ç›®å½•ä¸‹å‡ºç°.lckç›®å½•çš„é—®é¢˜ æ‰¹å¤„ç†åˆ é™¤æ–‡ä»¶å¤¹çš„å‘½ä»¤ æ˜¯ rd /s /q = linuxçš„rm -rf ä½†æ˜¯ rdå‘½ä»¤ä¸æ”¯æŒé€šé…ç¬¦ï¼Œæ‰€ä»¥åŠ åˆ°å¾ªç¯é‡Œé¢ï¼Œæœ€ç»ˆ for /d %%G in (\u0026ldquo;E:\\VM\\Alpine-BT*.lck\u0026rdquo;) do rd /s /q \u0026ldquo;%%~G\u0026rdquo; \u0026ldquo;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe\u0026rdquo; start \u0026ldquo;E:\\VM\\Alpine-BT\\Alpine-BT.vmx\u0026rdquo; nogui\nfor /d %%G in (\u0026ldquo;E:\\VM\\Alpine-DP*.lck\u0026rdquo;) do rd /s /q \u0026ldquo;%%~G\u0026rdquo;\n\u0026ldquo;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe\u0026rdquo; start \u0026ldquo;E:\\VM\\Alpine-DP\\Alpine-DP.vmx\u0026rdquo; nogui\n","date":"2022-08-08T10:07:44Z","permalink":"https://dev.leiyanhui.com/c/windows-autostart-vmware/","title":"windowsä¸‹VMwareå¼€æœºè‡ªåŠ¨å¯åŠ¨å¹¶è‡ªåŠ¨å¤„ç†è§£é”é—®é¢˜"},{"content":"å¶å°”è¿˜æ˜¯è¦ç”¨ps åšå‡ ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯Photoshopçš„çš„wine å¤ªéš¾æäº†ï¼Œè™šæ‹Ÿæœºä¸‹çš„åˆéš¾å— ä»Šå¤©å°è¯• ç”¨GIMP sudo apt install gimp ä¹Ÿå¯ä»¥åœ¨è½¯ä»¶ä¸­å¿ƒæœç´¢ gimp ç„¶åå®‰è£… GNU Image Manipulation Program ï¼ˆæ¨èï¼‰ åŒæ—¶å¸è½½æ‰ ä¹‹å‰è£…ps cs6 dpkg -l | grep ukylin sudo dpkg -r ukylin-ps6 sudo dpkg \u0026ndash;purge ukylin-ps6\n","date":"2022-08-06T00:00:00Z","permalink":"https://dev.leiyanhui.com/c/10/","title":"å…³äºGIMPçš„è®°å½•ï¼Œç”¨äºæ›¿ä»£Photoshop"},{"content":"find shellæ¯”è¾ƒå¥½ç”¨çš„ä¸€ä¸ªï¼Œè¿˜æ˜¯å›½äº§çš„ã€‚ ä½†æ˜¯ç¼“æ…¢çš„å¯åŠ¨é€Ÿåº¦ ä»¥åŠ ä½œè€…çš„ä¸€äº›æ€åº¦ï¼ŒçœŸçš„æ— è¯­ æœ€æ—©å¤§æ¦‚æ˜¯2017å¹´2018å¹´å·¦å³ ä¹‹å‰å› ä¸ºä»–å¼ºåˆ¶å‡çº§ è€Œä¸”å‡çº§ç¼“æ…¢çš„é—®é¢˜ï¼Œé‚®ä»¶åé¦ˆä¸€æ¬¡ï¼Œé«˜é«˜åœ¨ä¸Š ä¾®è¾±æ€§å›å¤ã€‚ è¿˜æœ‰æ–°ç‰ˆæœ¬å‡çº§ ä¸å…¼å®¹æ—§ç‰ˆæ•°æ®ã€‚ã€‚ã€‚ winè‡ªå¸¦ssh ï¼Œä¹Ÿå¯ä»¥é€šè¿‡batçš„æ–¹å¼ç®¡ç†å¤šä¸ª ä½†æŒ‡çº¹ å’Œè¯ä¹¦ æ˜¯ç»‘å®šåˆ° Cç›˜ C:\\Users\\ ä¸‹çš„ æ‡’å¾—æŠ˜è…¾ï¼Œè¿˜æ˜¯é€‰æ‹©ç”¨putty åœ¨åªæœ‰10æ¥ä¸ªæœåŠ¡å™¨ç«¯çš„æ—¶å€™ è¿˜æ˜¯å¾ˆå¥½ç”¨ã€‚è€Œä¸”ä¹Ÿæ”¯æŒå‘½ä»¤è¡Œ ä½†æ˜¯puttyæœ‰ä¸€ä¸ªä¸¤ä¸ªç¼ºé™·ï¼Œ1æ˜¯é…ç½®æ–‡ä»¶æ˜¯ä¿å­˜åˆ°æ³¨å†Œè¡¨çš„ 2æ˜¯ä¸å¯ä»¥ä¿å­˜å¯†ç  2 ä¸æ˜¯å¤§é—®é¢˜ï¼Œè¯ä¹¦ç™»å½• å¯ä»¥è§£å†³ é…ç½®æ–‡ä»¶çš„å¤‡ä»½ é‚£å°±åªèƒ½æ˜¯å¯¼å‡ºæ³¨å†Œè¡¨äº† åœ¨ putty.exe çš„åŒç›®å½•ä¸‹ æ–°å»ºä¸€ä¸ª â€œå¤‡ä»½puttyåˆ°æ³¨å†Œè¡¨æ–‡ä»¶.batâ€ å†…å®¹\n1 2 reg export \u0026#34;HKEY_CURRENT_USER\\Software\\SimonTatham\\PuTTY\u0026#34; putty-session.reg pause è¦ç®¡ç†çš„ä¸»æœºä¸æ˜¯å¤ªå¤šçš„è¯ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© MobaXterm\nå…è´¹ç‰ˆæ”¯æŒ12ä¸ªå›è¯ï¼Œè‡ªå¸¦x11è½¬å‘å’Œ x11server æ”¯æŒå¤šç§åè®®\nå›½å†…ä»£ç†å•†å–çš„ç»ˆèº«ç‰ˆä»·æ ¼\u0026lt;100 å…ƒ\n","date":"2022-08-03T22:46:28Z","permalink":"https://dev.leiyanhui.com/c/windows-ssh-putty-exe/","title":"Windows sshå®¢æˆ·ç«¯å·¥å…·çš„é€‰æ‹© ä¾æ—§æ˜¯ç»å…¸çš„putty.exe"},{"content":"å»æ‰ Windows server 2022ä»¥åŠéƒ¨åˆ†è½¯ä»¶æç¤ºinternetå®‰å…¨é…ç½®ä»¥åŠ æ‰“å¼€å…±äº«æ–‡ä»¶çš„exeçš„å®‰å…¨æé†’ æ˜¯å› ä¸ºä½œä¸ºæœåŠ¡å™¨ç³»ç»Ÿ ä»–çš„é»˜è®¤internetå®‰å…¨é…ç½®å¤ªé«˜ ç‚¹å¼€å§‹èœå• windowsé™„ä»¶ æ‰“å¼€ ieæµè§ˆå™¨ ï¼Œå¿½ç•¥é‚£äº›é”™è¯¯ ç„¶å è®¾ç½® interneté€‰é¡¹ æˆ–è€…ç›´æ¥ è¿è¡Œ inetcpl.cpl å®‰å…¨ åŒºåŸŸï¼š internet å»æ‰ å¯ç”¨ä¿æŠ¤æ¨¡å¼ è‡ªå®šä¹‰çº§åˆ« ä¿®æ”¹ ä¿®æ”¹é¡¹ç›® æ¯”è¾ƒå¤šï¼Œä¸»è¦çš„æœ‰ä¸¤ä¸ªçœ‹æ–‡æœ«æˆªå›¾å³å¯ è¿™ä¸ªä¸»è¦æ˜¯è§£å†³ éƒ¨åˆ†è½¯ä»¶ æç¤º interneté”™è¯¯ï¼Œè¦ä½ æ·»åŠ ä¸€ä¸ªç½‘å€åˆ°ä¿¡ä»»é‡Œé¢ã€‚ éƒ¨åˆ†è½¯ä»¶æ·»åŠ å å…¶å®ä¹Ÿä¸èƒ½ç”¨ã€‚è¿˜æ˜¯éœ€è¦é™ä½è¿™ä¸ªè®¾ç½®ã€‚ å¦å¤–é‚£ä¸ª æç¤º æˆ‘ä»¬æ— æ³•ç¼ºç‚¹æ˜¯è°åˆ›å»ºäº†æ–‡ä»¶çš„æç¤º æ­¤æ–‡ä»¶ä½äºä½ ç½‘ç»œä¹‹å¤–çš„ä½ç½® ä¹Ÿæ˜¯åœ¨ è¿™é…ç½®ã€‚å®‰å…¨ åŒºåŸŸ æœ¬åœ° ç«™ç‚¹ï¼Œæ·»åŠ ä¸Š å…±äº«æœåŠ¡å™¨ çš„åœ°å€å°±è¡Œäº† å¯ä»¥ç›´æ¥è¾“å…¥ip ","date":"2022-08-03T22:23:01Z","permalink":"https://dev.leiyanhui.com/c/windows-server-2022-internetsafe/","title":"å»æ‰ Windows server 2022ä»¥åŠéƒ¨åˆ†è½¯ä»¶æç¤ºinternetå®‰å…¨é…ç½®ä»¥åŠ æ‰“å¼€å…±äº«æ–‡ä»¶çš„exeçš„å®‰å…¨æé†’ï¼Œ"},{"content":"arch é…ç½®ç½‘ç»œ ç¬”è®°æœ¬çš„ç½‘å¡æŸåï¼Œä½¿ç”¨çš„ä¸€ä¸ªæ·˜å®æ‚ç‰Œusbç½‘å¡\niwd ä¸€ç›´æ‰¾ä¸åˆ°ç½‘å¡ ä¸çŸ¥é“ä¸ºä»€ä¹ˆ\næœ€å è¿˜æ˜¯ç”¨ networkmanage å¼„å¥½\nå®‰è£…çš„æ—¶å€™ ç”¨çš„iphone usbå…±äº«ç½‘ç»œï¼Œchrootåˆ°ç³»ç»Ÿå éœ€è¦å®‰è£…ä¸¤ä¸ªåŒ…\nä¸€ä¸ªæ˜¯ usbmuxd ä¸€ä¸ªæ˜¯ dhcpcd\ndhcpd è®°å¾—ç”¨ systemctl å¯ç”¨ å¹¶å¯åŠ¨\nåªæœ‰å‰è€… iphoneä¼šæç¤ºè®¾å¤‡è®¿é—® ä½†æ˜¯æ— æ³•å…±äº«ç½‘ç»œè¿‡æ¥ åªæœ‰åè€… ä¸ç”¨è¯´äº†ã€‚\nå®‰å“ä¸æ¸…æ¥š æ²¡ç ”ç©¶è¿‡\næˆ‘è£…äº†å›¾å½¢ç•Œé¢ dwm\næ‰€ä»¥ä¹Ÿé¡ºå¸¦å®‰è£…äº† networkmanager å’Œ network-manager-applet æä¾›ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ï¼ˆnm-appletï¼‰\nåœ¨ ï½/ã€‚xinitræ·»åŠ ä¸€è¡Œ\n1 exec nm-applet \u0026amp; åœ¨ exec dwmä¹‹å‰\nå¦‚æœ dwmå®‰è£…äº†ç³»ç»Ÿæ‰˜ç›˜æ‰©å±•çš„è¯ï¼Œå‚è€ƒæœ¬æ–‡ï¼Œå°±å¯ä»¥åœ¨ä¸‹æ¬¡é‡å¯çš„ä¹‹å åœ¨ç³»ç»Ÿæ‰˜ç›˜çœ‹åˆ°ä¿¡å· å¹¶å¯ä»¥é…ç½®äº†\nå®˜ç½‘wikiå‚è€ƒ ï¼šhttps://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-network-wifi/","title":"arch é…ç½®ç½‘ç»œ"},{"content":"arch ä¸Šå®‰è£…32ä½æ”¯æŒï¼Œä»¥ä¾¿æ”¯æŒwineç­‰è½¯ä»¶ å¯ç”¨multilib å¤šåº“\n1 2 3 4 5 sudo nano /etc/pacman.conf --------------- [multilib] Include = /etc/pacman.d/mirrorlist ç„¶åæ›´æ–°\n1 sudo pacman -Sy å¦‚æœåªæ˜¯ éœ€è¦ wine qq å¾®ä¿¡ä¹‹ç±»çš„ï¼Œå°±ä»€ä¹ˆéƒ½ä¸ç”¨åšäº†\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-32bit-for-wine/","title":"arch ä¸Šå®‰è£…32ä½æ”¯æŒï¼Œä»¥ä¾¿æ”¯æŒwineç­‰è½¯ä»¶"},{"content":"arch ç³»ç»Ÿæ¸…ç†å’Œç˜¦èº« èŠ‚çœç£ç›˜ç©ºé—´\n1 2 3 pacman -Sc # æ¸…ç†æœªå®‰è£…è½¯ä»¶åŒ… pacman -Scc # æ¸…ç†ç¼“å­˜ä¸­æ‰€æœ‰å†…å®¹ yay -Scc # å¦‚æœå®‰è£…äº†yay ç›´æ¥ç”¨yayæ¸…ç†å°±å¥½ æŸ¥çœ‹æ‰€æœ‰å·²ç»å®‰è£…çš„åŒ…ï¼Œçœ‹éœ€æ±‚åˆ é™¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 åˆ—å‡ºæ‰€æœ‰æœ¬åœ°è½¯ä»¶åŒ…ï¼ˆ-Q,queryæŸ¥è¯¢æœ¬åœ°ï¼›-qçœç•¥ç‰ˆæœ¬å·ï¼‰ sudo pacman -Qq åˆ—å‡ºæ‰€æœ‰æ˜¾å¼å®‰è£…ï¼ˆ-e,explicitlyæ˜¾å¼å®‰è£…ï¼›-nå¿½ç•¥å¤–éƒ¨åŒ…AURï¼‰ sudo pacman -Qqe sudo pacman -Qqen åˆ—å‡ºè‡ªåŠ¨å®‰è£…çš„åŒ…ï¼ˆ-d,dependsä½œä¸ºä¾èµ–é¡¹ï¼‰ sudo pacman -Qqd åˆ—å‡ºå­¤ç«‹çš„åŒ…ï¼ˆ-tä¸å†è¢«ä¾èµ–çš„\u0026#34;ä½œä¸ºä¾èµ–é¡¹å®‰è£…çš„åŒ…\u0026#34;ï¼‰ sudo pacman -Qqdt pacman -Qg: åˆ—å‡ºæœ¬åœ°å·²ç»å®‰è£…çš„è½¯ä»¶åŒ…ç»„å’Œå­åŒ… åˆ æ‰ä¸éœ€è¦çš„\n1 2 3 4 5 6 7 sudo pacman -Rns ttf-nerd-fonts-symbols-2048-em sudo pacman -Rns neofetch sudo pacman -R $(pacman -Qdtq) #åˆ æ‰æ‰€æœ‰ç‹¬ç«‹çš„åŒ… æ…ç”¨ï¼Œæœ€å¥½å…ˆ pacman -Qqdt ä¸€ä¸‹ #åªåˆ é™¤åŒ…å’Œå®ƒè‡ªå·±çš„ç‹¬ç«‹éœ€è¦çš„ä¾èµ– ä¿ç•™é…ç½®çš„è¯ sudo pacman -Rs firefox é™åˆ¶ä¸€ä¸‹æ—¥å¿—å¤§å°\n1 sudo journalctl --vacuum-size=10M ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-disk-clean/","title":"arch ç³»ç»Ÿæ¸…ç†å’Œç˜¦èº«"},{"content":"archlinux åˆ é™¤kde æœ€è¿‘çˆ±ä¸Šå¹³é“ºæ¡Œé¢ï¼Œæš‚æ—¶ç”¨çš„çš„dwmï¼Œæ‰€ä»¥æ¸…ç†æ‰kde\n1 2 sudo pacman -Rsc plasma sudo pacman -Rsc kde-applications qingli\n1 2 3 4 5 6 sudo paccache -r # æ¸…ç†ç¼“å­˜,ä»…åŒ…å«æœ€è¿‘çš„ä¸‰ä¸ªç‰ˆæœ¬ sudo paccache -rk1 # æ¸…ç†ç¼“å­˜,ä»…åŒ…å«æœ€è¿‘çš„1ä¸ªç‰ˆæœ¬ sudo pacman -Sc # æ¸…ç†æœªå®‰è£…è½¯ä»¶åŒ… sudo pacman -Scc # æ¸…ç†ç¼“å­˜ä¸­æ‰€æœ‰å†…å®¹ yay -Scc yay -S gnome-shell-extension-kimpanel-git\n1 2 3 4 5 6 7 yay -Rsn fcitx-sogoupinyin sudo pacman -Rsn fcitx-im fcitx-configtool sudo pacman -S fcitx-configtool fcitx-qt5 yay -S fcitx-qt4 yay -S fcitx-sogoupinyin ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-del-kde/","title":"archlinux  åˆ é™¤kde"},{"content":"archlinux å®‰è£… dwmæ¡Œé¢ ä¸€ç›´è¢«äººæ¡ˆä¾‹ i3w å’Œ dwmæ¡Œé¢ï¼Œå·ç§° å¼€æœº20må†…å­˜é¢å¤–å ç”¨\néœ€è¦å®‰è£…x å’Œ é©±åŠ¨ 1 pacman -S xorg å®‰è£…yay æŸ¥çœ‹æœ¬æ–‡\n1 yay -S dwm è¿™å¥½åƒå°±å®Œäº†ï¼Œä¼šè‡ªåŠ¨å¸®ä½ ä¸€èµ·å®‰è£… dwm ï¼Œå½“ç„¶æ²¡æœ‰å®šåˆ¶åŠŸèƒ½ï¼Œå®šåˆ¶çœ‹åé¢ç¼–è¯‘å®‰è£…\nä¿®æ”¹ æˆ–è€…æ–°å»º\n1 nano .xinitrc æ·»åŠ ä¸€è¡Œ\n1 exec dwm å› ä¸ºdwm å¾ˆå¤šåœ°æ–¹çš„ä¿®æ”¹éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œæ‰€ä»¥ é•¿æ—¶é—´ä½¿ç”¨ è¿˜æ˜¯å»ºè®®ç”¨ç¼–è¯‘å®‰è£… altï¼ˆwinï¼‰ +shift + q é€€å‡º x\nç„¶ååˆ æ‰yayå®‰è£…çš„dwm\n1 yay -Rn dwm å•ç‹¬å»ºç«‹ ä¸€ä¸ªç›®å½• åœ¨ ï½ ä¸‹ å› ä¸ºä»¥åä½¿ç”¨å¯èƒ½è¿˜æœ‰ä¸€äº›è¡¥ä¸ å’Œèµ„æº ç­‰ éœ€è¦å¤„ç†\n1 2 3 4 5 6 mkdir ~/dwmfile git clone git://git.suckless.org/dwm cd dwm ls #æœ‰ä¸€ä¸ªconfig.def.h æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¹Ÿå¯ä¸ä¿®æ”¹ make make install dwmä¿®æ”¹ä¸»å¿«æ·é”®å’Œé»˜è®¤å¿«æ·é”®é…ç½®\ndwmæ·»åŠ è¡¥ä¸-ç³»ç»Ÿæ‰˜ç›˜\nç”¨yay æˆ–è€…ç¼–è¯‘å®‰è£…å\nè¾“å…¥ startx ç›´æ¥å°±å¯åŠ¨äº†\nalt+shift+å›è½¦ å¯åŠ¨ç»ˆç«¯\nå®‰è£…ä¸€ä¸ªç«ç‹æµè§ˆå™¨ alt+p è¾“å…¥firefox ä¼šè‡ªåŠ¨æç¤ºï¼Œå›è½¦ å¯åŠ¨ç«ç‹ã€‚ã€‚ã€‚ã€‚\nè¿˜å¯ä»¥è‡ªåŠ¨æ¢å£çº¸\nfeh\nå“ˆå¯ä»¥åŠé€æ˜\ncompton\nè¾“å…¥æ³• æœ‰ç‚¹é—®é¢˜ æœç‹—å¥½åƒä¸è¡Œ ä½†æ˜¯ è°·æ­Œè¾“å…¥æ³• æ²¡é—®é¢˜\nå¼€æœºåˆ°ç™»å½•æ¡Œé¢ å…¨éƒ¨å†…å­˜æ±—ç”¨120M å·¦å³ã€‚ã€‚ã€‚\næ˜¯æœ‰ç‚¹é¦™å–·å–·çš„\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-install-dwm/","title":"archlinux å®‰è£… dwmæ¡Œé¢"},{"content":"archlinux å®‰è£…GNOME æ¡Œé¢ç¯å¢ƒ æˆ‘ä¸€ä¸ªç¬”è®°çš„archæ˜¯ç”¨çš„archinstall è£…çš„kdeæ¡Œé¢ [å·²ç»å…¨é¢åˆ‡æ¢åˆ°å¹³é“ºæ¡Œé¢]\nç°åœ¨æƒ³è¯•æ˜¯gnome\n1 pacman -S gnome gnome-extra gnome-tweak-tool æˆ–è€…\n1 sudo pacman -S --needed gnome gnome-tweaks nautilus-sendto gnome-nettool gnome-usage gnome multi-writer adwaita-icon-theme chrome-gnome-shell xdg-user-dirs-gtk fwupd arc-gtk-theme seahosrse gdm éœ€è¦ç®€å•ä¼˜åŒ–ä¸€ä¸‹ ç»ˆç«¯é—ªçƒçš„é—®é¢˜ï¼Œåœ¨ç»ˆç«¯è®¾ç½®é‡Œé¢ é…ç½®ä¸€ä¸‹ èƒŒæ™¯é¢œè‰² å°±okäº† å…ˆå»å¼„æ‰©å±•\n1 2 sudo pacman -S gnome-browser-connector sudo pacman -S gnome-tweaks æˆ‘ç”¨çš„ç«ç‹ è¿˜éœ€è¦è£…ä¸€ä¸ªæ‰©å±•\nhttps://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/\nç„¶åæ‰“å¼€\nhttps://extensions.gnome.org/\nå°±å¯ä»¥è£…æ’ä»¶äº† åœ¨æ’ä»¶é¡µé¢ ç‚¹å‡» on off å°±å¯ä»¥äº† appindicator ç³»ç»Ÿæ‰˜ç›˜ç¨‹åºå“¦ï¼Œgnomeé»˜è®¤å…³é—­çš„ ä¸å®‰è£…çš„è¯ä½ ç”¨å¾®ä¿¡qqä¹‹ç±»çš„ æ²¡æœ‰æé†’æ‰˜ç›˜å›¾æ ‡ https://extensions.gnome.org/extension/615/appindicator-support/\nè¿™ä¸ªtray-icons-reloaded ä¹Ÿå¯ä»¥ ä¸€æ ·ç”¨ https://extensions.gnome.org/extension/2890/tray-icons-reloaded/\ndash-to-dockæ˜¯å¯ä»¥ å§dock å›ºå®šåˆ°å±å¹•ä¸Šï¼Œç±»ä¼¼ Windows ä»»åŠ¡æ  macos çš„dock ä¸€æ ·çš„ https://extensions.gnome.org/extension/307/dash-to-dock/\nTransparent Shell é€šçŸ¥æ  æˆ–è€… dock æœç´¢æ¡ é€æ˜ï¼Œå¯ä»¥å•ç‹¬è®¾ç½®\nhttps://extensions.gnome.org/extension/3518/transparent-shell/\nCoverflow Alt-Tab æ›´æ¼‚äº®çš„ Alt-Tab å¸¦é¢„è§ˆ ä¸åƒæ€§èƒ½ https://extensions.gnome.org/extension/97/coverflow-alt-tab/\nClipboard Indicator å‰ªåˆ‡æ¿ç®¡ç†\nhttps://extensions.gnome.org/extension/779/clipboard-indicator/\nDesktop Icons NG (DING) å¯ä»¥åœ¨æ¡Œé¢åˆ›å»ºå¿«æ·æ–¹å¼ æ–°ç‰ˆgnome ç§»é™¤è¿™ä¸ªåŠŸèƒ½äº†ï¼Œè£…è¿™ä¸ªæ‰©å±•å°±okäº†\nhttps://extensions.gnome.org/extension/2087/desktop-icons-ng-ding/\nApplication Volume Mixer å¯ä»¥æ˜¾ç¤ºæ¯ä¸ªç”¨å£°éŸ³çš„ç¨‹åº\nhttps://extensions.gnome.org/extension/3499/application-volume-mixer/\nExtension List æ’ä»¶ç®¡ç†ç¨‹åºï¼Œä¸ç”¨æ¯æ¬¡éƒ½å»ç½‘ç«™å¸è½½ è¿™ä¸ªæ²¡å•¥ç”¨ï¼Œå¯ä»¥åœ¨å¯åŠ¨é‡Œé¢æ‰¾åˆ°extensionç›´æ¥ç®¡ç† æ‰“å¼€å å±å¹•å³ä¸Šè§’ å¯ä»¥ç®¡ç†æ’ä»¶ https://extensions.gnome.org/extension/3088/extension-list/\nå¤©æ°”é¢„æŠ¥ https://extensions.gnome.org/extension/750/openweather/\nå…¶ä»–çš„\nBlur my shellã€‚å®ƒå¯ä»¥ä½¿å¾—æˆ‘ä»¬åœ¨åˆ‡æ¢å·¥ä½œåŒºæ—¶èƒŒæ™¯ä¸é‚£ä¹ˆå•è°ƒã€‚ï¼ˆæ“ä½œåŸºæœ¬åŒä¸Šï¼‰\nArcMenuã€‚å®ƒé»˜è®¤ä¼šåœ¨æ¡Œé¢å·¦ä¸Šè§’ç”Ÿæˆä¸€ä¸ªå°å›¾æ ‡ï¼Œç‚¹å‡»å…¶ä¼šåˆ†æ åˆ—å‡ºåº”ç”¨ç­‰ å°±æ˜¯ä¸€ä¸ªå¼€å§‹èœå•ã€‚ï¼ˆæ“ä½œåŸºæœ¬åŒä¸Šï¼‰\nVitalsã€‚å®ƒé»˜è®¤ä¼šåœ¨æ¡Œé¢å³ä¸Šè§’ç”Ÿæˆè®¡ç®—æœºçš„æ¸©åº¦ã€é£æ‰‡è½¬é€Ÿã€ä»¥åŠcpuã€å†…å­˜ç­‰ä¿¡æ¯ã€‚ï¼ˆæ“ä½œåŸºæœ¬åŒä¸Šï¼‰ https://extensions.gnome.org/extension/1460/vitals/\njust perfectionã€‚å®ƒå¯ä»¥è‡ªä¸»æ˜¾ç¤ºå’Œå…³é—­æŸäº›UIå…ƒç´ ã€‚ï¼ˆæ“ä½œåŸºæœ¬åŒä¸Šï¼‰\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-install-gnome/","title":"archlinux å®‰è£…GNOME æ¡Œé¢ç¯å¢ƒ"},{"content":"archlinux æˆªå›¾å·¥å…· æˆ‘æ˜¯ kdeæ¡Œé¢ æµ‹è¯•äº†å‡ ä¸ªè½¯ä»¶å æ„Ÿè§‰ spectacle ä¸é”™\n1 sudo pacman -S spectacle å®‰è£…å®Œæˆ ä¼šè‡ªåŠ¨åœ¨kde å¿«æ·é”®è®¾ç½®é‡Œé¢ æ·»åŠ å¿«æ·é”®ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨é…ç½® æˆ–è€… ä¿®æ”¹\nwechat-uos è¿™ä¸ªåŒ… æˆªå›¾çš„è¯ è¦ç”¨ scrot ä½†æ˜¯ ç»è¿‡æµ‹è¯•æ˜¯æ²¡æ³•ç”¨çš„ã€‚æœ‰æ–°çš„wechatçš„uos ç¬¬ä¸‰æ–¹åŒ…ï¼Œå¯ä»¥ç”¨å…¶ä»–æˆªå›¾å·¥å…·\nåç»è¿‡æµ‹è¯• Flamesshot å…¼å®¹æ€§ä¸é”™ï¼Œä½“ç§¯ä¹Ÿä¸å¤§\n1 sudo pacman -S dlamesshot ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-kde-jietu/","title":"archlinux æˆªå›¾å·¥å…·"},{"content":"archlinux åŒè“ç‰™ é…ç½® æˆ‘è¿™ä¸ªæœ¬ æ¿è½½è“ç‰™æœ‰é—®é¢˜ï¼Œæœ‰æ—¶å€™ è«åå…¶å¦™ ä¼šæ‰¾ä¸åˆ°ï¼Œä¹Ÿè¿ä¸ä¸Šekçš„é”®ç›˜ ç½—æŠ€çš„é¼ æ ‡ å¯ä»¥é“¾æ¥\nåŠ äº†ä¸€ä¸ªusbè“ç‰™ä½¿ç”¨\næ‰€ä»¥ æˆ‘ä¸å•éœ€è¦å®‰è£…è“ç‰™ è¿˜è¦å¤„ç† åŒè“ç‰™çš„åˆ‡æ¢ï¼Œåœ¨archinstallå®‰è£…çš„kdeä¸Š å¾ˆç®€å•ï¼Œæœ‰è‡ªå¸¦çš„å·¥å…·åŒ…\nç°åœ¨ç”¨çš„ dwm å°±éœ€è¦è‡ªå·±æ¥æå®šã€‚1æ˜¯é©±åŠ¨å’Œç®¡ç†ç¨‹åº 2 æ˜¯ç³»ç»Ÿæ‰˜ç›˜\nå®‰è£… bluezï¼Œè¿™ä¸ªè½¯ä»¶åŒ…æä¾›è“ç‰™åè®®æ ˆã€‚ å®‰è£… bluez-utilsï¼Œè¿™ä¸ªè½¯ä»¶åŒ… bluetoothctl å®ç”¨ç¨‹åºã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥å®‰è£… bluez-utils-compat(yay) æ¥è·å¾—#å¼ƒç”¨çš„ BlueZ å·¥å…·ã€‚ é€šç”¨è“ç‰™é©±åŠ¨æ˜¯ btusb å†…æ ¸æ¨¡å—ã€‚æ£€æŸ¥æ¨¡å—æ˜¯å¦å·²åŠ è½½ã€‚å¦‚æœè¿˜æ²¡æœ‰ï¼Œå…ˆåŠ è½½æ¨¡å—ã€‚ systemctl enable bluetooth systemctl start bluetooth å…ˆæ£€æŸ¥è“ç‰™è®¾å¤‡\nrfkill list ------ 0: hci0: Bluetooth Soft blocked: no Hard blocked: no 1: hci1: Bluetooth Soft blocked: no Hard blocked: no ä¸¤ä¸ªè“ç‰™éƒ½å¯ç”¨çŠ¶æ€ rfkillå‘½ä»¤å‚è€ƒ\nä¸ºäº†æ–¹ä¾¿æœŸé—´ æˆ‘å…ˆæ‹”ä¸‹usbè“ç‰™ï¼Œç¦ç”¨æ¿è½½è“ç‰™\nrfkill block 0 rfkill list ------ 0: hci0: Bluetooth Soft blocked: yes Hard blocked: no Soft blocked: yes å°±æ˜¯ç¦ç”¨äº†å“¦\nå¯ç”¨çš„è¯\nrfkill unblock 0 æ’å…¥usbè“ç‰™ï¼Œå¯¹åº” 1\nsudo pacman -S blueberry å…ˆæµ‹è¯•äº†ä¸€ä¸‹ blueberry 60å¤šM å¯ä»¥ä½¿ç”¨ï¼Œåœ¨dwmä¸‹ä¹Ÿæœ‰ç³»ç»Ÿæ‰˜ç›˜ blueberry-tray ä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆæ·»åŠ  æœç´¢è®¾å¤‡ã€‚ã€‚ã€‚\nå† è¯•è¯• bluesman å’Œ blueberry è¦ä¹ˆå¤ªå¤§äº† è¦ä¹ˆä¸èƒ½ç”¨ éœ€è¦ä¸€å †ä¾èµ–çš„\nç®—äº† ç›´æ¥ä½¿ç”¨ bluezè‡ªå¸¦çš„ bluetoothctl å§ï¼Œæ‰§è¡Œ bluetoothctl è¿›å»äº¤äº’\n#bluetoothctl $ bluetoothctl è¿›å…¥è“ç‰™ç®¡ç†å·¥å…·ç¯å¢ƒ [bluetooth]# power on æ‰“å¼€è“ç‰™ [bluetooth]# agent on å¼€å¯ä»£ç† [bluetooth]# scan on æ‰«æè“ç‰™è®¾å¤‡ [bluetooth]# pair xx:xx:xx:... é…å¯¹è¯¥è®¾å¤‡ [bluetooth]# trust xx:xx:xx:... ä¿¡ä»»è¯¥è®¾å¤‡ [bluetooth]# connect xx:xx:... è¿æ¥è¯¥è®¾å¤‡ [bluetooth]# disconnect xx:xx:... æ–­å¼€è“ç‰™ è¿™é‡Œä»¥é“¾æ¥æˆ‘çš„ezé”®ç›˜ä¸ºä¾‹å­ bluetoothctl \u0026mdash;\u0026mdash; Agent registered [CHG] Controller A0:9F:10:10:99:1F Pairable: yes [CHG] Controller 04:7F:0E:14:6A:53 Pairable: yes\nscan on #ç­‰ä¸€ä¼šå„¿ ç­‰æ˜¾ç¤ºå‡ºæ¥è®¾å¤‡åç§° # [NEW] Device DC:2C:26:F5:19:A6 EK871 BT keyboard # å…ˆåˆ é™¤ #disconnect DC:2C:26:F5:19:A6 pair DC:2C:26:F5:19:A6 trust DC:2C:26:F5:19:A6 connect DC:2C:26:F5:19:A6 # è¿™æ ·å°±æå®šäº† åå‘ç° é‡å¯å¥½å“¦usbè“ç‰™æœ‰æ¦‚ç‡è¿ä¸ä¸Š\næ–°å»ºä¸€ä¸ªshæ–‡ä»¶\n# /bin/bash sudo rfkill list sudo rfkill block 1 sudo rfkill list sudo rfkill unblock 1 sudo rfkill block 0 sudo rfkill list sudo rfkill unblock 0 sudo rfkill #bluetoothctl # scan no echo \u0026quot;é‡æ–°æ’æ‹”ä¸€ä¸‹ å†æ‰§è¡Œ\u0026quot; å®˜ç½‘wiki ï¼š https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-bluez/","title":"archlinux åŒè“ç‰™ é…ç½®"},{"content":"archlinux ä¸€é”®å¤‡ä»½ è€ƒè™‘åˆ°å…¼å®¹æ€§ ç”¨çš„ext4 åˆ†åŒºï¼Œä¸æ–¹ä¾¿ç”¨å¿«ç…§åŠŸèƒ½å¤‡ä»½ã€‚é©±åŠ¨å¼„å®Œåï¼Œå°±ç”¨tarå¤‡ä»½ä¸€ä¸‹ç³»ç»Ÿ\ntarå¤‡ä»½å’ŒWindowsçš„ ghostå¤‡ä»½å…¶å®å·®ä¸å¤šï¼Œç”šè‡³æ›´åŠ çµæ´»æ–¹ä¾¿ã€‚\nå…ˆçœ‹ archçš„æ ¹ç›®å½•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 bin boot dev etc home lib lib64 lost+found mnt opt proc root run sbin srv sys tmp usr var å‡†å¤‡æ‰“åŒ…ï¼Œå…ˆå®‰è£… pigz,å› ä¸ºæ”¯æŒå¤šæ ¸å‹ç¼© ä¹Ÿå¯ä»¥ä¸ç”¨ç›´æ¥ç”¨gzä¹Ÿè¡Œ\n1 sudo pacman -S pigz è¦æ’é™¤çš„ç›®å½•\n1 2 3 4 5 6 7 8 9 10 11 12 /dev/* è®¾å¤‡æŒ‡å‘ /sys/* /tmp/* ä¸´æ—¶ç›®å½• /mnt/* é»˜è®¤æŒ‚è½½ /media/* æ–°ç‰ˆå·²ç»æŠŠè¿™ä¸ªç›®å½•æŒªåˆ°äº† /run/media /run/* è¿è¡Œä¸­çš„ç¨‹åº /var/lock/* ä¸€äº›ç¨‹åºé”å®š /var/run/* å’Œrunç›®å½•æœ‰å•¥åŒºåˆ«ä¸æ˜ /var/lib/pacman/* /var/cache/pacman/pkg/* pacmançš„ç¼“å­˜ /proc å†…å­˜proc æ–‡ä»¶ç³»ç»Ÿï¼Œ /lost+found å›æ”¶ç«™ å…¶ä»–ä¸€äº›\n1 2 3 4 5 /run/media è‡ªåŠ¨æŒ‚è½½çš„ç›˜ usbå’Œcdç­‰ /boot efiåˆ†åŒº /home/yanhui/.cache /home/yanhui/.mozilla /home/yanhui/.local/share/wallpapers/ å»ºè®® åˆ‡æ¢åˆ°\næ‰“åŒ…å‹ç¼©å‘½ä»¤ pigz æ‰“åŒ…ï¼Œè¿™ä¸ªéœ€è¦liveç¯å¢ƒæœ‰å®‰è£…æ‰å¯ä»¥\n1 sudo tar --use-compress-program=pigz -cvpf /arch-backup.tgz --exclude=/arch-backup.* --exclude=/dev/* --exclude=/sys/* --exclude=/tmp/* --exclude=/mnt/* --exclude=/media/* --exclude=/run/* --exclude=/var/lock/* --exclude=/var/run/* --exclude=/var/lib/pacman/* --exclude=/var/cache/pacman/pkg/* --exclude=/proc/* --exclude=/lost+found --exclude=/home/yanhui/.cache/* --exclude=/home/yanhui/.mozilla/* / å•çº¿ç¨‹æ‰“åŒ…åˆ°tar.gz\n1 tar -zcvf /arch-backup.tar.gz --exclude=/arch-backup.* --exclude=/dev/* --exclude=/sys/* --exclude=/tmp/* --exclude=/mnt/* --exclude=/media/* --exclude=/run/* --exclude=/var/lock/* --exclude=/var/run/* --exclude=/var/lib/pacman/* --exclude=/var/cache/pacman/pkg/* --exclude=/proc/* --exclude=/lost+found --exclude=/home/yanhui/.cache/* --exclude=/home/yanhui/.mozilla/* / æ¢å¤ liveç›˜å¯åŠ¨ éœ€è¦å…ˆ fdisk -l å’Œ mount å‘½ä»¤ æŒ‚è½½åˆ†åŒº è‡³å°‘ä¸¤ä¸ªåˆ†åŒº efiå’Œæ ¹åˆ†åŒº\n1 2 3 4 5 6 7 fdisk -l #æŸ¥çœ‹åˆ†åŒº mkdir /temp_for_backup mount /dev/sdb3 /temp_for_backup # æŒ‚è½½åˆ†åŒºsdb3åˆ° temp_for_backup mkdir /temp_for_backup/boot mount /dev/sda1 /temp_for_backup/boot # æŒ‚è½½åˆ†åŒºefiåˆ†åŒºåˆ° /temp_for_backup/boot rm -rf /temp_for_backup/* #å¯é€‰ tar --use-compress-program=pigz -xvpf /f/sysbackup/arch-backup-20160331.tgz -C /mnt ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-backup/","title":"archlinux ä¸€é”®å¤‡ä»½"},{"content":"åˆ†åˆ«è¿™ä¸¤ä¸ªéŸ³é¢‘é©±åŠ¨åŒ… sudo pacman -S sof-firmware sudo pacman -S alsa-ucm-conf\nå…ˆè£…å‡ ä¸ªåŒ…\n1 2 3 4 5 6 sudo pacman -S alsa-utils sudo pacman -S alsa-plugins sudo pacman -S pulseaudio-alsa sudo pacman -S pavucontrol-qt sudo pacman -S pavucontrol sudo pacman -S pasystray å¯ç”¨ï¼šamixer sset Master unmute å‘½ä»¤è¡Œè®¾ç½®ï¼šalsamixer UIè®¾ç½®ï¼špavucontrol\nalsamixer\nå£°é“ä¸‹æ–¹æ ‡æœ‰ MM è¡¨ç¤ºå…¶å·²ç»é™éŸ³ï¼Œè€Œæ ‡æœ‰ 00 è¡¨ç¤ºå·²ç»å¯ç”¨ã€‚ ä½¿ç”¨ â† å’Œ â†’ é”®æ»šåŠ¨åˆ° Master å’Œ PCM å£°é“ï¼ŒæŒ‰ä¸‹ m é”®è§£é™¤é™éŸ³ã€‚\nä½¿ç”¨ â†‘ é”®å¢åŠ éŸ³é‡ï¼Œè·å¾—0dBçš„å¢ç›Šã€‚å¢ç›Šå€¼å¯åœ¨å·¦ä¸Šæ–¹ Item: å­—æ®µæ—è¾¹çœ‹åˆ°ã€‚ æ³¨æ„ï¼š è‹¥å¢ç›Šé«˜äº0 dBï¼Œå¯èƒ½ä¼šå¬åˆ°å¤±çœŸã€‚\næ˜¯ä¸€ä¸ªç³»ç»Ÿæ‰˜ç›˜å°ç¨‹åº å¯ä»¥å’Œpavucontrol é…åˆ\næµ‹è¯•å£°éŸ³\nspeaker-test -c 2 ä½†æ˜¯ ä¾æ—§æ²¡å£°éŸ³\naplay -l aplay: device_list:275: no soundcards found\u0026hellip; æ‰¾ä¸åˆ°å£°å¡\nåœ¨ /etc/modprobe.d/alsa-base.conf æ·»åŠ ä¸€è¡Œ\noptions snd-hda-intel dmic_detect=0\né‡å¯å å¯ä»¥è¯†åˆ«hdmiå£°å¡äº†ã€‚ä½†æ˜¯ã€‚ã€‚ä¸»æ¿é›†æˆçš„å£°å¡ è¿˜æ˜¯ä¸è¡Œ\næˆ‘æœ‰winç³»ç»Ÿï¼Œæ‰€ä»¥å…ˆå»winä¸‹çœ‹ä¸€ä¸‹å£°å¡å‹å· essx8336 å¥½å§ï¼Œæœäº†ä¸€ä¸‹ æš‚æ—¶æ— è§£ï¼Œæœ‰æä¾›é©±åŠ¨åŒ…çš„ï¼Œä½†æ˜¯ç½‘ç›˜å·²ç»æ‰“ä¸å¼€\nåœ¨ https://www.alsa-project.org/wiki/Changes_v1.2.6.3_v1.2.7 å®˜ç½‘ æœç´¢åˆ°\n1 2 3 4 5 ucm2: sof-essx8336: use the right mixers for speaker/headphone ucm2: sof-essx8336: drop conditional control settings ucm2: sof-essx8336: Add a boot sequence ucm2: sof-essx8336: Fix location of HiFi.conf ucm2: sof-essx8336: Fill in SectionVerb session at HiFi.conf å…ˆè£…ä¸Šä¸€å †\n1 2 3 4 5 rm -rf /etc/modprobe.d/alsa-base.conf sudo pacman -S alsa-firmware sudo pacman -S alsa-utils sudo pacman -S alsa-plugins sudo pacman -S alsa-tools aplay -l\n1 2 3 4 5 6 7 8 9 10 11 12 13 **** List of PLAYBACK Hardware Devices **** card 0: sofessx8336 [sof-essx8336], device 0: ES8336 (*) [] Subdevices: 0/1 Subdevice #0: subdevice #0 card 0: sofessx8336 [sof-essx8336], device 5: HDMI 1 (*) [] Subdevices: 1/1 Subdevice #0: subdevice #0 card 0: sofessx8336 [sof-essx8336], device 6: HDMI 2 (*) [] Subdevices: 1/1 Subdevice #0: subdevice #0 card 0: sofessx8336 [sof-essx8336], device 7: HDMI 3 (*) [] Subdevices: 1/1 Subdevice #0: subdevice #0 å‚è€ƒ https://wiki.archlinux.org/title/Advanced_Linux_Sound_Architecture_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85\nhttps://wiki.archlinux.org/title/PulseAudio_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-alsa/","title":"archlinuxæ²¡å£°éŸ³ï¼Œæ£€æŸ¥å£°éŸ³ï¼Œdwmç³»ç»Ÿç³»ç»Ÿæ‰˜ç›˜å£°éŸ³"},{"content":"archlinuxä¸Šå®‰è£…å¾®ä¿¡ qq ä¼ä¸šå¾®ä¿¡ åæ•°å¹´æ¥ï¼Œlinuxæ¡Œé¢ç³»ç»Ÿ ä¸¤å¤§å›°æ‰° è¾“å…¥æ³• å’Œ è…¾è®¯ç³»\nè¾“å…¥æ³• ç›®å‰ ç™¾åº¦ å’Œ æœç‹—éƒ½å·²ç»å¯ä»¥å®‰è£…(ä¸æ”¯æŒè¯åº“åŒæ­¥)\nå‰©ä¸‹å°±æ˜¯ è…¾è®¯ç³» å¦‚æœè¦ç”¨å®Œæ•´åŠŸèƒ½ï¼Œåªèƒ½wineè·‘ï¼ˆä½†æ˜¯æ–°ç‰ˆ ä¹Ÿå¤šå°‘æœ‰ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ æ‘„åƒå¤´ æˆªå›¾ç­‰ï¼‰\nå‰è¨€ ç›®å‰æœ€ç®€å•å¯é çš„ å¹¶ä¸”å¯ä»¥æ»¡è¶³æ—¥å¸¸ä½¿ç”¨çš„æ–¹æ³• é¦–å…ˆå®‰è£… yay yay -S electronic-wechat-uos-bin yay -S icalingua++ # yay -S linuxqq #å®˜æ–¹QQ å…¶å®ä¹Ÿè¿˜å¥½ èƒ½ç”¨å°±è¡Œ å¾®ä¿¡ç”¨ electronic å°è£…çš„ ï¼ˆuosä¹Ÿæ˜¯åŒæ ·çš„ï¼Œä½†æ˜¯uosæ²¡æœ‰æ‰˜ç›˜ï¼‰\nqq ç”¨ icalingua++ ï¼ˆä¹Ÿæ˜¯electronicå°è£…ï¼Œæ¨¡æ‹Ÿ å®‰å“ apad ipadçš„å®¢æˆ·ç«¯ ï¼‰\næˆªå›¾ç”¨ç¬¬ä¸‰æ–¹ï¼Œæˆ‘ç”¨flameshot\nä¸æ¨èç”¨ wine 1æ˜¯è¦è£…ä¸€å † 32ä½çš„ä¸œè¥¿ï¼Œå¦å¤–å°±æ˜¯ æ€§èƒ½æ‹‰è·¨\nå…ˆæ„Ÿè°¢ deepin\né¦–å…ˆå®‰è£… yay å¾®ä¿¡ å¯é€‰çš„æœ‰å¾ˆå¤š\næˆªæ­¢ç›®å‰ 2022-10-18 winç‰ˆæœ¬çš„ç›®å‰æ˜¯ 3.7.6.44\ncom.qq.weixin.deepin 3.2.1.154_14-2\ncom.qq.weixin.spark 3.7.6.44spark0-1\ndeepin-wine-wechat 3.7.6.44-1\nwechat-uos è¿™ä¸ªæ˜¯uosçš„åŸç”Ÿç‰ˆæœ¬ åŸºäºelectricçš„ åŠŸèƒ½å°‘ï¼Œä½†æ˜¯å¯èƒ½æœ€ç¨³å®šå’Œæµç•… ä½¿ç”¨ bubblewrap æ›¿æ¢ os-release å’Œ lsb-releaseï¼Œåœ¨æ²¡æœ‰ä¿®æ”¹å…¶åˆ†å‘çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„å‰æä¸‹ï¼Œå®ç°æ¨¡æ‹Ÿ UOS ä¸“ä¸šç‰ˆè¿è¡Œç¯å¢ƒï¼Œ\nelectronic-wechat-uos-bin ç¬¬ä¸‰æ–¹çš„uosç‰ˆæœ¬\nè¿˜æœ‰ä¸€ç§dockerè¿è¡Œæ–¹æ³•ï¼Œä½†æ˜¯ å·²ç»æœ‰äººå°å·äº†\nåœ¨ä½¿ç”¨wineä¹‹å‰ éœ€è¦å¤„ç†32ä½çš„é—®é¢˜ï¼Œå› ä¸ºwineç›®å‰è¿˜æ˜¯åŸºäº32ä½çš„ æŸ¥çœ‹è¿™é‡Œï¼Œæ‰“å¼€32ä½æ”¯æŒ\né€‰æ‹©å‰ä¸‰ä¸ª éœ€è¦è£…ä¸€å¤§å †32ä½çš„åŒ…ï¼Œç¡®ä¿ç£ç›˜å®¹é‡å¤Ÿç”¨ã€‚æˆ‘ä¸€å¼€å§‹åªç»™archåˆ†é…äº†10G å·²ç»ä¸å¤Ÿäº†ã€‚ ç»™linuxç³»ç»Ÿæ‰©å»ºå®¹é‡\ndeepin-wine-wechat 2024-03-7 å·²ç»æœ‰åŸç”Ÿç‰ˆå¾®ä¿¡ï¼Œè™½ç„¶ç›®å‰ä¹‹æ”¯æŒuoså’Œéº’éºŸç­‰ç³»ç»Ÿï¼Œå®é™…ä¸Šå…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨ã€‚\n2022å¹´12æœˆ07æ—¥ è…¾è®¯å·²ç»å‘å¸ƒæ–°ç‰ˆlinux qq 1 2 3 4 yay -S deepin-wine-wechat #å¸è½½ yay -Rsn deepin-wine-wechat rm -rf /home/yanhui/.deepinwine/Deepin-WeChat/ æˆªå›¾ä¹Ÿæ˜¯é»‘å±ï¼Œä½†æ˜¯å…¶ä»–æˆªå›¾å·¥å…·å¯ä»¥ç²˜è´´è¿‡æ¥ã€‚ ç¼ºç‚¹å’Œ com.qq.weixin.spark ä¸€æ · éƒ½æ˜¯å¡\nè¾“å…¥æ³•çš„ å¦‚æœä¸èƒ½è¾“å…¥ éœ€è¦å¤„ç†ä¸€ä¸‹ å‚è€ƒè¿™é‡Œæˆ‘ä¹‹å‰çš„çºªå½•\nç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡çš„é—®é¢˜ï¼Œæ³¨é”€ä¸€ä¸‹kde é‡æ–°ç™»å½• é‡æ–°å¼€å¾®ä¿¡å°±okäº†\næœ‰å¯èƒ½ä¼šæŠ¥é”™\nerror: could not set install reason for package lib32-at-spi2-atk (could not find or read package)\nä¸ç”¨ç®¡ ï¼Œé‡æ–°è¿è¡Œå³å¯\nkdeæ¡Œé¢ç¯å¢ƒ å¯èƒ½è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹ å’Œ deepin wineçš„é—®é¢˜ å‚è€ƒè¿™é‡Œ\ncom.qq.weixin.spark æˆ‘è¿™è¾¹æç¤ºæœ‰ä¸€ä¸ª spark-dwine-helper ä¾èµ–æ‰¾ä¸åˆ°ï¼Œéšæ”¾å¼ƒ\nwechat-uos 1 2 sudo pacman -S scrot # æˆªå›¾éœ€è¦å¦å¤–å®‰è£…scrot yay -S wechat-uos ç¼ºç‚¹å¾ˆå¤šï¼š\næ²¡æœ‰ç¾¤æŠ˜å åŠŸèƒ½ï¼Œ\næ²¡æœ‰æœ‹å‹åœˆ å°ç¨‹åº\næ²¡ç³»ç»Ÿæ‰˜ç›˜æé†’\nä¹Ÿæ²¡æœ‰å…³é—­å’Œé€€å‡º\nå½»åº•å…³é—­éœ€è¦kill electron\n1 killall electron meiyou sousuo\nå¦å¤–æ¯æ¬¡ç™»å½•éƒ½éœ€è¦æ‰«ç ä¸€æ¬¡\nå¦‚æœç¬¬ä¸€æ¬¡æ‰“å¼€å¡ï¼Œæ³¨é”€æ‰æ¡Œé¢ç³»ç»Ÿ æˆ–è€… kill æ‰electron é‡æ–°å¼€ å°±ä¼šå¥½å¾ˆå¤š\nè™½ç„¶æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªå‡ ä¹æ˜¯æœ€æµç¨‹ç¨³å®šäº†ä¸€ä¸ªç‰ˆæœ¬\nå¦‚æœæˆªå›¾é»‘å±çš„è¯ï¼Œå¯ä»¥ç”¨spectacle æˆªå›¾åæ–‡ä»¶å å‘é€æ–‡ä»¶ã€‚ã€‚æš‚æ—¶ã€‚ã€‚æ²¡åˆ«çš„å¥½åŠæ³•\nå®‰è£…QQ TIMï¼šcom.qq.office.deepin ï¼Œè‹¥æƒ³ä½¿ç”¨è¾ƒæ–°çš„å¯é€‰ï¼š com.qq.tim.sparkæˆ–deepin-wine-timã€‚\nè¿˜æœ‰ä¸€ä¸ªç®€å•ç‰ˆæœ¬ åŸºäº vscodeæ’ä»¶çš„ åœ¨æ’ä»¶å¸‚åœºç›´æ¥èµ°èµ°\n1 2 yay -S deepin-wine-tim sudo pacman -S xsettingsd æŠŠ /usr/bin/xsettingsd å¼„åˆ°è‡ªåŠ¨å¯åŠ¨é¡¹\næˆ‘æ˜¯ xorg æ‰€ä»¥ç›´æ¥ä¿®æ”¹\n1 2 3 4 5 ~/.xinitrc æˆ–è€… /etc/X11/xinit/xinitrc # åœ¨ twm \u0026amp; ä¹‹å‰æ·»åŠ  /usr/bin/xsettingsd \u0026amp; kdeæ¡Œé¢ç¯å¢ƒ å¯èƒ½è¿˜éœ€è¦å¤„ç†ä¸€ä¸‹ å’Œ deepin wineçš„é—®é¢˜ å‚è€ƒè¿™é‡Œ\nå®Œå…¨ä¸ç”¨wineæ–¹æ³• å¾®ä¿¡ç”¨ wechat-uos QQ ç”¨ icalingua++\n1 2 3 #yay -S wechat-uos yay -S electronic-wechat-uos-bin yay -S icalingua++ wechat-uos çš„ç¼ºç‚¹å‰é¢éƒ½è¯´å¾ˆå¤šï¼Œä¸»è¦æ˜¯åŠŸèƒ½ä¸å…¨ï¼Œä½†æ˜¯ç¨³å®šè½»é‡ electronic-wechat-uos-bin æ›´å¥½ç”¨ä¸€äº›\nicalingua é€Ÿåº¦å—·å—·çš„å¥½ï¼Œä¹Ÿæ”¯æŒç¾¤æ–‡ä»¶ï¼Œé‡å¯kde æˆ–è€… dwmåå°±æ”¯æŒç³»ç»Ÿæ‰˜ç›˜äº† ï¼Œå’Œå…¶ä»–æˆªå›¾å·¥å…·é…åˆå¯ä»¥æ”¯æŒæˆªå›¾\nå½»åº•æ¸…ç†deepin wineç‰ˆæœ¬\n1 2 3 yay -Rsn deepin-wine-wechat rm -rf /home/yanhui/.deepinwine/Deepin-WeChat rm -rf /home/yanhui/Documents/WeChat\\ Files/ 1 2 3 4 5 yay -Rsn deepin-wine-tim rm -rf /home/yanhui/.deepinwine/Deepin-TIM rm -rf /home/yanhui/.deepinwine å°æ’æ›² å…³äº electronic-wechat-uos-bin è¿™ä¸ªåŒ… First Submitted: 2022-10-19 09:18 (UTC) Last Updated: 2022-10-19 10:10 (UTC)\nä»Šå¤©æ˜¯ 2022-10-29 18ï¼š35\nå®˜ç½‘wiki\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-weixin-qq/","title":"archlinuxä¸Šå®‰è£…å¾®ä¿¡ qq ä¼ä¸šå¾®ä¿¡"},{"content":"dwm æ‰©å±• å®‰è£…æ–¹æ³• é¦–å…ˆç”¨ å¸è½½yayå®‰è£…çš„ç‰ˆæœ¬ï¼Œç”¨ç¼–è¯‘æ–¹å¼å®‰è£…çš„dwm\nåˆ›å»ºç›®å½• ç”¨äºå­˜è¡¥ä¸\n1 2 3 mkdir ~/dwmfiles/patches/ #æ²¡æœ‰å®‰è£…wgetä¹Ÿå®‰è£…ä¸€ä¸‹ sudo pacman -S wget è·å–è¡¥ä¸\nå®˜ç½‘åœ°å€ https://dwm.suckless.org/patches/\nç±»ä¼¼ä¸€ä¸ªåº”ç”¨å¸‚åœº\næ‰¾åˆ° https://dwm.suckless.org/patches/systray/\næˆ‘ç°åœ¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ 6.3ç‰ˆ æ‰€ä»¥å°±ä¸‹è½½ä»–å¯¹åº”çš„è¡¥ä¸\n1 wget https://dwm.suckless.org/patches/systray/dwm-systray-6.3.diff åˆ°dwmæºç ç›®å½•\n1 mkdir ~/dwmfiles/dwm/ å¦‚æœä¹ˆæœ‰é…ç½®git ç”¨æˆ·çš„è¯é…ç½®ä¸€ä¸‹ï¼Œ\n1 2 git config --global user.name \u0026#34;leiyanhui\u0026#34; git config --global user.email \u0026#34;leiyanhui@xxx.com\u0026#34; æ‰“è¡¥ä¸ï¼Œé‡æ–°æäº¤commit ç¼–è¯‘\n1 2 3 4 patch \u0026lt; ~/dwmfiles/patches/dwm-systray-6.3.diff git commit -am \u0026#34;systray\u0026#34; rm -rf config.h # è¿™ä¸ªæ–‡ä»¶æ˜¯æ¯æ¬¡ç¼–è¯‘çš„ä½¿ç”¨ é‚£ä¸ª config.ref.hè‡ªåŠ¨ç”Ÿæˆçš„ sudo make clean install #é‡æ–°å®‰è£… ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-install-dwm-pacher/","title":"dwm æ‰©å±• å®‰è£…æ–¹æ³•"},{"content":"dwm ä½¿ç”¨å¿«æ·é”® æ‰“å¼€ç¨‹åº æ¯”å¦‚ win+E æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨Thunar\ncd dwmfiles/dwm/ nano config.def.h åœ¨\nstatic const Key keys[] = { å¢åŠ ä¸€è¡Œ\n{ MODKEY, XK_e, spawn, SHCMD(\u0026quot;thunar\u0026quot;)}, é‡æ–°ç¼–è¯‘\nrm -rf config.h make sudo make clean install å†æ¯”å¦‚ æˆªå›¾ flameshot æˆ–è€… spectacle\nå…ˆè·å– prt Scrçš„å¯¹ç…§\nxev # çœ‹ keycode çš„å€¼ æ˜¯107 ä¸è¿‡æˆ‘å–œæ¬¢ä¹ æƒ¯äº†ç”¨ alt+aæ¥æˆªå›¾\n// æˆªå›¾ { Mod1Mask, XK_a, spawn, SHCMD(\u0026quot;flameshot\u0026quot;)}, ä¸è¿‡è¿™é‡Œåªæ˜¯ä¸€ä¸ªä¾‹å­ flameshot ä¸¢åˆ°åå°å¯åŠ¨æ›´å¥½ä¸€äº›å§\nå¢åŠ ä¸€ä¸ª win+R çš„å¯åŠ¨dmenucmdç¨‹åºï¼Œç±»ä¼¼windowsçš„\n// Win+r è¿è¡Œ { Mod4Mask, XK_r, spawn, {.v = dmenucmd } }, å‚è€ƒ https://blog.csdn.net/weixin_43889478/article/details/108937727\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-install-dwm-diykey/","title":"dwm ä½¿ç”¨å¿«æ·é”® æ‰“å¼€ç¨‹åº"},{"content":"dwmä¿®æ”¹ä¸»å¿«æ·é”®å’Œé»˜è®¤å¿«æ·é”®é…ç½® dwmé»˜è®¤çš„ä¸»å¿«æ·é”®/åŠŸèƒ½æŒ‰é”®æ˜¯Alt,ä¹Ÿå°±æ˜¯è¯´å¦‚æœè¦ä½¿ç”¨å¿«æ·é”®æ¥å®Œæˆä¸€äº›ä¾¿æ·æ“ä½œçš„è¯ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬éƒ½è¦æŒ‰ä¸€ä¸‹Alté”®ã€‚å› ä¸ºdwmæ˜¯çª—å£ç®¡ç†å™¨å˜›ï¼Œç”¨é”®ç›˜ä¸Šçš„Windowsé”®æ¥å®Œæˆä¸çª—å£ç›¸å…³çš„æ“ä½œæ›´åˆç†ä¸€ä¸‹ï¼Œä¹Ÿé˜²æ­¢å¾ˆå¤šè½¯ä»¶å†²çªã€‚æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„å½“ä¸­çš„#define MODKEY,æŠŠåé¢çš„å†…å®¹è°ƒæ•´ä¸ºMod4Maskï¼Œè¿™æ ·åé¢æ‰€æœ‰ç”¨åˆ°MODKEYçš„å¿«æ·é”®å°±éƒ½æŒ‰Windowsé”®å°±å¯ä»¥äº†ã€‚\nä¿®æ”¹ä¸»å¿«æ·é”® éœ€è¦ è‡ªè¡Œç¼–è¯‘ å®Œæ•´çš„ç¼–è¯‘å‘½ä»¤\n1 2 3 4 git clone git://git.suckless.org/dwm cd dwm make make install åœ¨makeä¹‹å‰\n1 nano config.def.h æ‰¾åˆ° #define MODKEY æ”¹ä¸º #define MODKEY Mod4Mask\nç„¶å make make install\nè¿›é˜¶ å¿«æ·é”®å¯åŠ¨æŒ‡å®šç¨‹åº\næ¡Œé¢æ¨¡å¼\nå…¨å± [2] å¹³é“º []= æµ®åŠ¨å…¨å±æ¨¡å¼ [3] å¸¸ç”¨å¿«æ·é”®\nå½“å‰çª—å£å…¨å± Mod + m è¿”å›æ–¹æ³• mod + ç©ºæ ¼ æˆ–è€… mod + t å½“å‰çª—å£å…¨å± mod + ç©ºæ ¼ æµ®åŠ¨å…¨å±æ¨¡å¼ å½“å‰çª—å£ ç§»åŠ¨åˆ°åˆ«çš„å·¥ä½œåŒºåŸŸ mod shift 1-9 ç„¶åéœ€è¦æ‰‹åŠ¨ åœ¨ mod 1-9 åˆ‡æ¢åˆ°å¯¹ç”¨å·¥ä½œå»ï¼Œæœ‰ pathcå¯ä»¥æå®šè‡ªåŠ¨è·Ÿéšåˆ‡æ¢ åˆ‡æ¢ç„¦ç‚¹ï¼ˆç±»ä¼¼é¼ æ ‡ç‚¹å‡»çª—å£ï¼‰ å½“å‰çª—å£ä½œä¸ºä¸»çª—å£ï¼ˆå·¦ä¾§æˆ–è€…å³ä¾§ä¸»åŒºåŸŸï¼‰ mod + å›è½¦ å¹³é“ºæ¨¡å¼ mod + t ä¸¤ç§æ¨¡å¼ æ¨ªå‘å’Œç«–å‘ å…¶ä¸­åˆ†åˆ«è¿˜æœ‰3ç§å°æ¨¡å¼ï¼Œæ‰€ä»¥ ä¹¦é¦™æ’åˆ—åˆ‡æ¢åˆ°æ¨ªå°æ’åˆ—ï¼Œä½ æˆ–è®¸ éœ€è¦ mod +d å† + d è¿ç»­æŒ‰å¤šæ¬¡d çª—å£æ¨ªå‘æ’åˆ— mod +d è°ƒæ•´æ¨ªå‘åˆ†å‰²å¤§å° mod + h mod + L çª—å£ç«–å‘æ’åˆ— mod + i é»˜è®¤å¿«æ·é”®å¯¹ç…§\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 Alt + shift + Enter # æ‰“å¼€æ–°çª—å£ Alt + shift + C # å…³é—­å½“å‰çª—å£ Alt + D # çª—å£æ¨ªå‘æ’åˆ— Alt + I # çª—å£ç«–å‘æ’åˆ— Alt + Enter # çª—å£ä½ç½®äº’æ¢ Alt + num # åˆ‡æ¢æ ‡ç­¾é¡µ Alt + shift + num # ç§»åŠ¨çª—å£è‡³æŸæ ‡ç­¾é¡µ Alt + T # å¹³é“ºæ¨¡å¼ï¼ˆtiling) Alt + M # å•çª—å£æ¨¡å¼ Alt + F # æµ®åŠ¨æ¨¡å¼ï¼ˆfloat) # åœ¨çª—å£é—´åˆ‡æ¢ Alt + J Alt + K # æ”¹å˜çª—å£çš„é•¿åº¦/æ¯”ä¾‹ Alt + H Alt + L # çª—å£æ¨¡å¼åˆ‡æ¢ Alt + Space Alt + shift + Space åœ¨ä¸»å‰¯å±ä¹‹é—´ç§»åŠ¨ç„¦ç‚¹ Mod + \u0026lt; # ç§»åŠ¨ç„¦ç‚¹è‡³å·¦è¾¹å±å¹• Mod + \u0026gt; # ç§»åŠ¨ç„¦ç‚¹è‡³å³è¾¹å±å¹• åœ¨ä¸»å‰¯å±ä¹‹é—´ç§»åŠ¨çª—å£ Mod + shift + \u0026lt; # ç§»åŠ¨çª—å£è‡³å·¦è¾¹å±å¹• Mod + shift + \u0026gt; # ç§»åŠ¨çª—å£è‡³å³è¾¹å±å¹• Mod + é¼ æ ‡å³é”® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 Basic ===== [Shift]+[Mod]+[Enter] - launch terminal. [Mod]+[b] - éšè—å’Œæ˜¾ç¤ºé¡¶éƒ¨æ ç›® [Mod]+[p] - dmenu æœç´¢å’Œå¯åŠ¨ç¨‹åº [Mod]+[Enter] - åˆ‡æ¢çª—å£å¸ƒå±€push acive window from stack to master, or pulls last used window from stack onto master. [Mod] + [j / k] - ç§»åŠ¨é¼ æ ‡ç„¦ç‚¹ focus on next/previous window in current tag. [Mod] + [h / l] - ä¿®æ”¹çª—å£å·¦å³æ¨ªåˆ—å®½åº¦ increases / decreases master size. Navigation ========== [Mod]+[2] - moves your focus to tag 2. [Shift]+[Mod]+[2] - æŠŠçª—å£ä¸€å®šç§»åŠ¨åˆ°2å·æ¡Œé¢ move active window to the 2 tag. [Mod] + [i / d] - æ¨ªç«–å¸ƒå±€ increases / decreases number of windows on master [Mod] + [, / .] - move focus between screens (multi monitor setup) [Shift]+[Mod]+[, / .] - move active window to different screen. [Mod]+[0] - view all windows on screen. [Shift]+[Mod]+[0] - make focused window appear on all tags. [Shift]+[Mod]+[c] - kill active window. [Shift]+[Mod]+[q] - quit dwm cleanly. Layout ====== [Mod]+[t] - tiled mode. []= [Mod]+[f] - floating mode. \u0026gt;\u0026lt;\u0026gt; [Mod]+[m] - monocle mode. [M] (single window fullscreen) Floating ======== [Mod]+[R M B] - to resize the floating window. [Mod]+[L M B] - to move the floating window around. [Mod]+[Space] - toggles to the previous layout mode. [Mod]+[Shift]+[Space] - to make an individual window float. [Mod]+[M M B] - to make an individual window un-float. ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-install-dwm-hotkey/","title":"dwmä¿®æ”¹ä¸»å¿«æ·é”®å’Œé»˜è®¤å¿«æ·é”®é…ç½®"},{"content":"~/bin/startdwm\n1 2 3 4 5 6 while true; do # Log stderror to a file dwm 2\u0026gt; ~/.dwm.log # No error logging #dwm \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 done ~/.xinitrc\nexec startdwm\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-dwm-restart/","title":"dwmé‡å¯ï¼Œä½†æ˜¯ä¸é‡å¯xorg"},{"content":"linux ä¸‹å¸¸ç”¨çš„è½»é‡å¥½ç”¨çš„å›¾å½¢ç•Œé¢ç¨‹åº ç»ˆç«¯ï¼škitty, alacritty, termiteï¼ˆå‰ä¸¤ä¸ªæœ‰GPUåŠ é€Ÿï¼‰ æŠ¤çœ¼ï¼šredshift-gtk ç¨‹åºå¯åŠ¨å™¨ï¼šdmenu, rofi Shellï¼šfish, zsh å£çº¸è®¾ç½®å™¨ï¼šfeh, nitrogen éŸ³ä¹æ’­æ”¾å™¨ï¼šmpd\u0026amp;ncmpcppï¼ˆåŸºäºç»ˆç«¯ï¼‰, deadbeaf-git ç‰¹æ•ˆåˆæˆå™¨ï¼špicom-jonaburg-git, picom æ–‡ä»¶ç®¡ç†å™¨ï¼šthunar, nemo ç”µæºç®¡ç†å™¨ï¼šxfce4-power-manager æˆªå›¾å·¥å…·ï¼šflameshot, scrot ä¸»é¢˜è®¾ç½®å™¨ï¼šlxappearance\u0026amp;qt5ct\u0026amp;xsettingsd è¾“å…¥æ³•ï¼šfcitx5 ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼šqv2ray å‰ªåˆ‡æ¿ç®¡ç†å™¨ï¼šcopyq äº‘åŒæ­¥å·¥å…·ï¼šnutstoreï¼ˆåšæœäº‘ï¼‰, dropbox é€šçŸ¥ç®¡ç†å™¨ï¼šdunst é”å±ç®¡ç†å™¨ï¼šbetterlockscreen, xautolockï¼ˆç”¨äºè‡ªåŠ¨é”å±ï¼‰ pdf é˜…è¯»å™¨ï¼šzathuraï¼ˆvimé£æ ¼ï¼‰, atrilï¼ˆæ²¡æœ‰gnomeä¾èµ–çš„evinceï¼‰ æ–‡æœ¬ç¼–è¾‘å™¨ï¼šnano nvim, doom emacs(å¯é€‰)ï¼Œ(vs)code å±å¹•äº®åº¦è°ƒèŠ‚å™¨ï¼šlight ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/linux-soft/","title":"inux ä¸‹å¸¸ç”¨çš„è½»é‡å¥½ç”¨çš„å›¾å½¢ç•Œé¢ç¨‹åº"},{"content":"linuxä¸‹ å¯è§†åŒ–æ–‡ä»¶ç®¡ç†å™¨ æˆ‘é€‰æ‹©ä»¥æ¥æœ€å°‘ï¼Œä¹Ÿæœ€è½»é‡çš„ Thunar\nsudo pacman -S thunar è‡ªå¸¦åŸºæœ¬çš„å›¾ç‰‡æŸ¥çœ‹\ndwm ï¼š win +p thunar\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/linux-file-manager/","title":"linuxä¸‹ å¯è§†åŒ–æ–‡ä»¶ç®¡ç†å™¨"},{"content":"Linuxä¸‹è¿œç¨‹æ§åˆ¶winä»¥åŠremoteappçš„rdpå®¢æˆ·ç«¯çš„å°è¯• ç®€å•ä½¿ç”¨ 1 2 3 4 sudo pacman -S remmina sudo pacman -S freerdp # rdpåè®®æ”¯æŒ sudo pacman -S libvncserver # vncåè®® sudo pacman -S spice-gtk # spiceåè®® æ€»ç»“ï¼Œæš‚æ—¶æ²¡æ³•æ²¡æ‰¾åˆ° linuxä¸‹æ”¯æŒ remoteappçš„åŠæ³•\nå°è¯•è®°å½• ç¯å¢ƒ arch 2022-10-18\nå…ˆå°è¯• å®‰è£…ä¸€ä¸ªå›¾å½¢ç•Œé¢çš„è¿œç¨‹ç®¡ç†å·¥å…·å§ã€‚æˆ‘è¿™é‡Œé€‰æ‹© Remmina\n1 sudo pacman -S remmina é»˜è®¤ åªæ”¯æŒ ssh x2go\nå¦‚æœä½ éœ€è¦ RDP æ”¯æŒï¼Œè¿˜è¦é€‰æ‹©å®‰è£… freerdp æˆ– remmina-plugin-rdesktop(AUR)ã€‚\n1 2 3 yay -S remmina-plugin-rdesktop # å…³é—­remmina killall remmina æµ‹è¯•å å‘ç°å¥½åƒè¿ä¸ä¸Š\n1 2 yay -Rs remmina-plugin-rdesktop sudo pacman -Rs rdesktop è¯•è¯• freerdp\n1 2 sudo pacman -S freerdp killall å†æ¬¡ä½¿ç”¨ å¯ä»¥æ­£å¸¸é“¾æ¥Windowsäº†\nrdpæ–‡ä»¶ä¹Ÿå¯ä»¥è‡ªåŠ¨å…³è”åˆ°remmina\nä½†æ˜¯ remotapp ä¾æ—§ä¸çŸ¥é“åº”è¯¥å¦‚ä½•æ”¯æŒ\narch wifi\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/rdp-win/","title":"linuxä¸‹ å¯è§†åŒ–æ–‡ä»¶ç®¡ç†å™¨"},{"content":"pveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šæ˜¾å¡ç›´é€šåˆ°macos macos åœ¨è™šæ‹Ÿæœºä¸‹æœ€è¦å‘½çš„é—®é¢˜ å°±æ˜¯ æ˜¾å¡æ€§èƒ½ï¼Œæ‰€ä»¥åŠ¡å¿…ç›´é€šæ˜¾å¡æˆ–è€…vgpuç»™å®ƒã€‚ä¸ç„¶çœŸçš„å¡åˆ°å´©æºƒ\né¦–å…ˆ biosè¦å¼€å¯ VT-D\né…ç½® pve æ‰“å¼€ç›´é€š 1 nano /etc/default/grub ä¿®æ”¹\n1 GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet intel_iommu=on\u0026#34; æ›´æ–°grubå¼•å¯¼\n1 update-grub ä¿®æ”¹ /etc/modules\n1 2 3 4 5 6 #nano /etc/modules #æ·»åŠ  vfio vfio_iommu_type1 vfio_pc vfio_virqfd æ£€æŸ¥é»‘åå• /etc/modprobe.d/pve-blacklist.conf\n1 2 3 4 5 # nano /etc/modprobe.d/pve-blacklist.conf # åˆ é™¤ä¸‹é¢çš„å†…å®¹ blacklist i915 blacklist snd_hda_intel blacklist snd_hda_codec_hdmi å¦‚æœæ‚¨æ­¤å‰å°†æ ¸æ˜¾å’Œå£°å¡IDæ·»åŠ åˆ°vfioï¼Œè¯·åˆ é™¤/etc/modprobe.d/vfio.conf\nè¿è¡Œå‘½ä»¤åˆ·æ–°initramfsï¼Œä½¿ä»¥ä¸Šä¿®æ”¹ç”Ÿæ•ˆ\n1 update-initramfs -u -k all ocä¸­æ·»åŠ æ ¸æ˜¾é©±åŠ¨ è¦å…ˆæ·»åŠ é©±åŠ¨ï¼Œä¸ç„¶å¼€æœºå°±äº”å›½äº†\nå…ˆå®‰è£… hackintool å‚è€ƒ http://www.imacosx.cn/6546.html\npveä¸­ æ·»åŠ æ ¸æ˜¾åˆ° macosè™šæ‹Ÿæœº æ·»åŠ pciè®¾å¤‡ é€‰æ‹©uhd630 æ‰€æœ‰åŠŸèƒ½ã€‚å…¶ä»–ä¸å‹¾é€‰\nè¿›é˜¶ æ·»åŠ é’©å­ ï¼Œè™šæ‹Ÿå…³æœºåè¿”å›ç¡¬ä»¶åˆ°å®¿ä¸»æœº https://gitee.com/hellozhing/pvevm-hooks ç›¸å…³è¯´æ˜ æŸ¥çœ‹ä½œè€…è¯´æ˜\nå‚è€ƒèµ„æ–™ å’Œ è¿›é˜¶ pveã€kvmæ‰‹åŠ¨å®‰è£…macos\nè¯·æŸ¥çœ‹æ–°ç‰ˆï¼šåœ¨pveä¸Šç›´æ¥å®‰è£…macos13Ventura åˆæ­¥ä¼˜åŒ–å¹¶ç›´é€šæ˜¾å¡ è“ç‰™ wifi å£°å¡ç»™macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šopencore è¿ç§»åˆ°è™šæ‹Ÿç¡¬ç›˜\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šæ˜¾å¡ç›´é€šåˆ°macos\npveã€kvmå®‰è£…çš„macos åŸºæœ¬ä¼˜åŒ–ï¼šè“ç‰™å’Œwifiç›´é€šåˆ°macos\npve usbè®¾å¤‡å’Œç«¯å£ç›´é€š\n1 2 3 4 5 6 7 æµç¨‹å›¾ https://www.processon.com/view/link/61b325221e08534ef3f1658d https://www.mfpud.com/topics/8076/ githubä¸Šçš„OSX-KVMï¼Œå‡ ä¹å¯ä»¥åœ¨ä»»ä½•çš„linuxç³»ç»Ÿä¸‹è™šæ‹ŸåŒ–å®‰è£…é»‘è‹¹æœ:https://github.com/kholia/OSX-KVM pveï¼šhttps://pve.proxmox.com/wiki/Downloads ä¸€ä¸ªè‹±æ–‡å‚è€ƒæ•™ç¨‹ï¼šhttps://www.nicksherlock.com/2021/10/installing-macos-12-monterey-on-proxmox-7/ ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ï¼šhttps://www.bilibili.com/video/BV1uq4y1g7ui è¿™ä¸ªè§†é¢‘æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼šhttps://www.bilibili.com/video/BV1ML411E7eH/ ","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/macos/kvm-macos-gpu/","title":"linuxä¸‹ å¯è§†åŒ–æ–‡ä»¶ç®¡ç†å™¨"},{"content":"linuxä¸‹åˆ†åŒºæ— æŸæ‰©å®¹ 1 2 3 sudo fdisk -l sudo cfdisk /dev/XXXXXX ç„¶åæ·»åŠ å®¹é‡å³å¯\nå½“ç„¶åé¢å¿…é¡»è¦æœ‰ç©ºä½™å®¹é‡\nä½¿ç”¨winpe diskgen ä¼šå‡ºç°ä¸€ä¸‹å…¶ä»–é”™è¯¯ï¼Œä¸å»ºè®®ä½¿ç”¨\nå¦å¤– cfdisk å‡å°å®¹é‡ å“ªæ€•æ˜¯å‡å°åˆ°å¤§äºç›®å‰å®¹é‡ ä¹Ÿä¼šå¯¼è‡´éƒ¨åˆ†æ–‡ä»¶ä¸¢å¤±ï¼Œæ…ç”¨ï¼\nå®¹é‡æ‰©å±•åï¼Œdf -h æŸ¥çœ‹å®¹é‡æ²¡æœ‰å¢åŠ ï¼Œfdisk -l æŸ¥çœ‹å®¹é‡å·²ç»å¢åŠ \nè¿™æ—¶å€™ éœ€è¦é‡è®¾ä¸€ä¸‹åˆ†åŒºå¤§å°ï¼Œä»¥ext4ä¸ºä¾‹\n1 sudo resize2fs /dev/mmcblk0p2 å†æ¬¡df -h æŸ¥çœ‹ å·²ç»æ­£å¸¸\næœ€åç»è¿‡æµ‹è¯•\nä½¿ç”¨archinstall å…¨ç›˜å®‰è£…çš„ç³»ç»Ÿï¼Œå¯ä»¥ç”¨diskgen æ”¶ç¼©åˆ†åŒºå®¹é‡ï¼Œä¸”ä¸ä¼šç ´åå¼•å¯¼ï¼Œä½†æ˜¯é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”ä»…é™ext4åˆ†åŒºæ ¼å¼\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/linux-diskpartion-add/","title":"linuxä¸‹åˆ†åŒºæ— æŸæ‰©å®¹"},{"content":"linuxä¸‹ç”¨fishä½œä¸ºé»˜è®¤shell fish æ›´åŠ æ¼‚äº® å¥½ç”¨ä¸€äº›\nå®˜ç½‘ http://fishshell.com/\ndebian/deepin å‘è¡Œç‰ˆå¯ç›´æ¥ sudo apt install fish\narch\nsudo pacman -S fish\nå…¶ä»–å‘è¡Œç‰ˆåœ¨å®˜ç½‘æ‰¾åˆ°å¯¹åº”çš„å®‰è£…æ–¹æ³•ï¼Œå®‰è£…å®Œæˆåæ‰§è¡Œ\n1 chsh -s /usr/bin/fish å°±å¯è®¾ç½®fishä¸ºé»˜è®¤shelläº†ï¼Œ\néœ€è¦é€€å‡ºç»ˆç«¯å†è¿›ä¸€æ¬¡å³å¯ç”Ÿæ•ˆ\nä½†æ˜¯ä»…ä¾›è¿œç¨‹sshçš„æ—¶å€™ä½¿ç”¨\nç»è¿‡æµ‹è¯• è¿˜éœ€è¦é…ç½®ä¸€ä¸‹ konsole\nå…ˆæ£€æŸ¥\n1 2 3 4 5 6 chsh -l #/bin/sh #/bin/bash #/usr/bin/git-shell #/usr/bin/fish #/bin/fish æ‰“å¼€ konsole\nsetting\u0026gt; manage Profiles \u0026gt;\næ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ åå­—å°±å« fishå°±å¥½äº†\nç„¶åä¿®æ”¹ bin/bash ä¸º /bin/fish\nå‘ç°æœ‰bugï¼Œå…³é—­é‡å¯å å°±ä¸¢äº†\n1 cd ~/.local/share/konsole/ nano fish.profile\n1 2 3 4 [General] Command=/bin/fish Name=fish Parent=FALLBACK/ æˆ–è€… æ‰‹åŠ¨å¤šå»ºç«‹å‡ ä¸ª ä¹Ÿå¯ä»¥\narchå®˜ç½‘wiki\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/fish-install/","title":"linuxä¸‹ç”¨fishä½œä¸ºé»˜è®¤shell"},{"content":"ä¸ºä»€ä¹ˆé€‰æ‹©arch å·²ç»ä½¿ç”¨archä½œä¸ºå·¥ä½œç³»ç»Ÿ5å¹´å¤šï¼Œä¸»è¦æ˜¯go php java ardruinoçš„å¼€å‘ç¯å¢ƒä½¿ç”¨\næ¡Œé¢ç³»ç»Ÿ é¦–å…ˆæ˜¯å› ä¸ºå¯å®šåˆ¶ï¼Œå…¶æ¬¡æ˜¯å› ä¸ºarchè¿˜æ˜¯æ¯”è¾ƒé€‚åˆåšæ¡Œé¢ç³»ç»Ÿçš„ï¼Œä¸»è¦åŸå› è¿˜æ˜¯å®˜æ–¹æºçš„é©±åŠ¨æ¯”è¾ƒå…¨æ¯”è¾ƒæ–°\nå’Œå¤šæ•°äººä¸€æ ·ï¼Œéƒ½æ˜¯ä»redhatå¼€å§‹ centos Fedora debian Ubuntu Slackware Gentoo Mandrake deepin uos\nUbuntu çš„å„ä¸ªè¡ç”Ÿç‰ˆ åº”è¯¥æ˜¯æˆ‘ç”¨çš„æœ€å¤šæœ€ä¹…çš„\næœŸé—´ä¸€åº¦è¿·æ‹alpineï¼Œå¾ˆæ—©ä¹‹å‰å°±çŸ¥é“archä½†æ˜¯å°è¯•å®‰è£…Manjaroå ä¹Ÿæ„Ÿè§‰ï¼Œç›´åˆ°ç¾¤é‡Œæœ‰å¤§ç¥å†æ¬¡æ¨èã€‚äºæ˜¯å°è¯•å‡ æ¬¡å å¼€å§‹ä¸€å‘ä¸å¯æ”¶æ‹¾ã€‚ã€‚\nå…ˆè¯´ç¼ºç‚¹å§\nç¼ºç‚¹ å®‰è£…éš¾åº¦ç•¥å¤§ å…¶å® ç°åœ¨æœ‰archinstall è‡ªåŠ¨è„šæœ¬åå·²ç»å¾ˆç®€å•äº† åªæ˜¯æƒ³ä½“éªŒçš„è¯ æœ‰ https://hub.docker.com/r/linuxserver/webtop è¿™ä¸ªdockerçš„æ¡Œé¢ç³»ç»Ÿ æ»šåŠ¨æ›´æ–° æœ‰å¾ˆå°çš„æ¦‚ç‡å‡çº§çš„æ—¶å€™ææŒ‚ ä¸æ˜¯æœåŠ¡å™¨çš„è¯æ²¡å½±å“ ä¼˜ç‚¹ å¾ˆæ–° å¾ˆæ–° å…¶ä»–å‘è¡Œç‰ˆæœ¬ ä¹Ÿä¸èƒ½è¯´æœ‰é—®é¢˜ åªæ˜¯ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„å·¥ä½œé‡ é©±åŠ¨æ”¯æŒçš„å¹¿æ³› æ— è®ºæ˜¯å¤è‘£æœºå™¨ï¼Œè¿˜æ˜¯ä½é…æœºå™¨ï¼Œè¿˜æ˜¯æœ€æ–°é¡¶é… åŸºæœ¬ä¸Šéƒ½å¯ä»¥æå®š åŒ…ç®¡ç†çš„æ–¹ä¾¿ ç¬¬ä¸‰æ–¹åŒ…å¾ˆä¸°å¯Œå¹¶ä¸”æ›´æ–°é¢‘ç¹ ä¸­æ–‡wifi ä»¥åŠå›½å†…ä¼—å¤šä½¿ç”¨è€… ä¸€äº›ç‰¹æ®Šè½¯ä»¶ï¼Œå°¤å…¶æ˜¯ å¾®ä¿¡ qqä¹‹ç±»çš„ éƒ½æ¯”è¾ƒå®¹æ˜“è§£å†³ æ€»çš„æ¥è¯´arch å°±æ˜¯æ–°\næœåŠ¡å™¨ç³»ç»Ÿ ç›®å‰è¿˜æ˜¯Ubuntu20.04 å’Œ 21.04 ï¼Œ å› ä¸ºä¹ æƒ¯ç”¨å®å¡”ï¼Œæ‰€ä»¥è¿˜æ˜¯åœ¨ Debian å’Œ redhatç³» æ¥å›ä½¿ç”¨ã€‚\nä½œä¸ºä¸€ä¸ªä¸šä½™ç©å®¶ï¼ŒæœåŠ¡å™¨ä¸€ç›´ä½¿ç”¨vpsï¼Œå¥½åƒå³ä¾¿æ˜¯é€‰æ‹©arch å“ªæ€•å‡çº§æŒ‚äº† ä¹Ÿä¸æ˜¯å¤§é—®é¢˜ã€‚\narchä¸€é”®å¤‡ä»½ åœ¨è¿™é‡Œæ•´ç†å’Œæ›´æ–°\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/linux/arch-why/","title":"ä¸ºä»€ä¹ˆé€‰æ‹©arch"},{"content":"é€‰æ‹©Windows server2022 ä½œä¸ºä¸»å¼€å‘ç³»ç»Ÿ å¹¶è¿è¡Œåœ¨unraidä¸Š all in one çš„ç†ç”±ï¼Œä¼˜åŠ¿å’ŒåŸå›  å‰è¨€ ä¸ªäººç™–å¥½å–œæ¬¢æŠ˜è…¾æ“ä½œç³»ç»Ÿï¼Œå¹¶æœªä¸ºä¹‹ä»˜å‡ºå¾ˆå¤šæ—¶é—´å’Œç²¾åŠ›\né€‰æ‹©unraidçš„åŸå›  ä¸ºä»€ä¹ˆé€‰æ‹©all in one Â· æˆ‘å–œæ¬¢æŠ˜è…¾ç³»ç»Ÿï¼Œç»å¸¸å°è¯•é‡è£…å„ç§ç³»ç»Ÿï¼Œæ‰€ä»¥è™šæ‹Ÿæœºæ˜¯å°‘ä¸äº†çš„ Â· ä¸ºä»€ä¹ˆä¸æ¡Œé¢ç³»ç»Ÿè·‘vmwareæˆ–è€…hyper-v å› ä¸ºå®¿ä¸»æ¡Œé¢ç³»ç»Ÿä¹Ÿå®¹æ˜“è¢«æˆ‘æŠ˜è…¾ Â· æœ€åä¸€ä¸ªä¸»è¦åŸå› \nÂ· æˆ‘ç»å¸¸å¤–å‡ºï¼Œä¸»åŠ›æœºæ˜¯diyæœºï¼Œ Â· å®¶å¢ƒè´«å¯’ï¼Œä¾¿æºæœºé…ç½®å¾ˆçƒ‚æˆ–è€…åªæ˜¯ipad Â· å³ä¾¿æ˜¯ä¸»åŠ›æœºæ¥æ˜¾ç¤ºå™¨é”®é¼ ç­‰ï¼Œç¡¬ä»¶ç›´é€šä¹Ÿå¯ä»¥æå®š\nä¸ºä»€ä¹ˆé€‰æ‹©unraid Â· é¦–å…ˆç¡¬ä»¶ä¸ç‰¹æ®Šï¼Œæ‰€ä»¥pveå¯¹æˆ‘æ¥è¯´æ²¡ä¼˜åŠ¿ Â· é»‘æœæ›´ç®€å• Â· ç¡¬ä»¶ç›´é€šå’Œvgpuä¹Ÿç®€å• Â· ä¸ç‰µæ‰¯ç¡¬ç›˜ï¼Œä¸ç”¨æ“å¿ƒç¡¬ç›˜åˆ†åŒºä»€ä¹ˆçš„ä»€ä¹ˆçš„ã€‚ Â· å¤‡ä»½ç®€å•ï¼Œåªå¤‡ä»½Uç›˜æ–‡ä»¶å°±å¥½äº† å‡ ç™¾M Â· ç ´è§£ä¹Ÿä¸éš¾ å®‰è£…æ›´ç®€å• Â· å…¶ä»–å‡ ä¸ªall in one å¯¹æˆ‘æ¥è¯´çš„ç¼ºç‚¹æœ‰ï¼š\nÂ· pve ç¡¬ç›˜å®‰è£…webuiå¤æ‚ å”¯ç‹¬é›†æˆçš„è™šæ‹Ÿæœºæ¨¡æ¿åŠŸèƒ½è¿˜ä¸é”™ï¼Œä¸åŸç”Ÿæ”¯æŒdocker ä¸è‡ªå¸¦æ–‡ä»¶å…±äº« Â· ç¾¤æ™– ç™½çš„ç©ä¸èµ·ï¼Œé»‘çš„é­é‡ä¸€æ¬¡è«åå…¶å¦™æ— æ³•å¯åŠ¨çš„ å› ä¸ºäººåœ¨å¤–åœ°æ— æ³•å¤„ç†ï¼Œå›æ¥åå°±ç›´æ¥æ ¼å¼æ‰äº†ã€‚ä»¥ååº”è¯¥åªä¼šç©è™šæ‹Ÿç¾¤æ™–äº†ï¼Œæ¯•ç«Ÿç¾¤æ™–çš„ç§»åŠ¨appè¿˜æ˜¯æŒºä¸é”™çš„ Â· ESXI å¨è”é€šNasç³»ç»Ÿ æ²¡ç©è¿‡\nä»¥åå¯èƒ½ä¼šé€‰æ‹©å…¨ç›˜exfatåˆ†åŒºï¼Œç„¶åventoy+alpine.vhd çš„æ–¹å¼ï¼Œä¸è¿‡çœ¼ä¸‹æ²¡è¿˜æ²¡ç²¾åŠ›ç©è€ã€‚å› ä¸ºunraidçš„é»‘æœå®åœ¨å¤ªæ–¹ä¾¿äº†ã€‚æ‡’å¾—æŠ˜è…¾äº†ã€‚æ­£ç‰ˆä¹Ÿå°±59ç¾å…ƒ400å—é’±\nunraidåŠé€€ç†ç”± Â· æœ‰ä¸¤å°ç”µè„‘ï¼Œæˆ–è‡³å°‘ä¸€ä¸ªpad Â· æœ‰ä¸€ä¸ªå®¹é‡256Mä»¥ä¸Šå®¹é‡çš„é—²ç½®Uç›˜ã€å¸¦uuidçš„ã€‘æœ€å¥½æ˜¯1Gä»¥ä¸Šçš„ï¼Œç›®å‰è¿˜æ²¡æœ‰ç¡¬ç›˜å®‰è£…æ–¹æ³•ï¼Œè¦ä¸€ç›´æ’åœ¨ä¸Šé¢ Â· èƒ½æ¥å—ç›—ç‰ˆè½¯ä»¶æˆ–è€…èˆå¾—ä¹°æ­£ç‰ˆ\nå°è¡¥å……ï¼šå…³äºUç›˜çš„é—®é¢˜ Â· ä¸»æœºä¸Šä¸€ç›´æ’ç€ä¸€ä¸ªUç›˜ æ²¡ä½ æƒ³çš„é‚£ä¹ˆéš¾å—ã€‚å¦‚æœæ˜¯ç¬”è®°æœ¬å¯ä»¥ä¹°å°å·§ä¸€ç‚¹çš„ã€‚ Â· Uç›˜çœŸå¿ƒä¸ç”¨å¤ªå¥½çš„ï¼Œå› ä¸ºå°±å¼€æœºå’Œä¿®æ”¹é…ç½®çš„æ—¶å€™ä¼šè¯»å†™Uç›˜ï¼Œè€Œä¸”ä½ å¯ä»¥åœ¨å¼€æœºçŠ¶æ€ä¸‹æ‹”ä¸‹å¤‡ä»½ã€‚æˆ–è€…ç›´æ¥tar æˆ–è€… åœ¨è™šæ‹Ÿæœºé‡Œé¢è®¿é—®åˆ°Uç›˜ è‡ªå·±å¤‡ä»½åˆ°äº‘æˆ–è€…ä»€ä¹ˆéƒ½å¯ä»¥ã€‚ Â· åªè¦æ˜¯ç”¨è¿‡ä¸€æ®µæ—¶é—´æ®µçš„Uç›˜ éƒ½æ˜¯å¯ä»¥çš„ï¼Œåˆ«æ˜¯ç”¨éƒ½æ²¡ç”¨è¿‡çš„æ‚ç‰Œï¼Œä¸¤å¤©å°±åäº†é‚£å°±å¾—ä¸å¿å¤±äº†ã€‚æˆ‘ç°åœ¨ç”¨çš„æ˜¯ è·¯è¾¹å–è½¦è½½Uçš„åœ°æ–¹ä¹°çš„æ‚ç‰Œã€‚ Â· æ›´æ¢Uç›˜é‡æ–°ç ´è§£å¹¶ä¸éš¾ï¼Œæ­£ç‰ˆæ¢æˆæƒä¹Ÿä¸éš¾ Â· ä½†æ˜¯çœŸçš„ä¸è¦é•¿æœŸç”¨è¯»å¡å™¨+sdæ–¹å¼ è¿™ä¸ªæ–¹å¼çœŸçš„å¾ˆç„ï¼Œä¸´æ—¶ç©ç©æ˜¯ç»å¯¹æ²¡é—®é¢˜çš„ã€‚ç­‰ç©èˆ’æœäº†ï¼Œå†æ¢ä¸€ä¸ªé è°±çš„Uç›˜å°±æ˜¯äº†\né€‰æ‹©Windows server2022åŸå›  å’Œéwinçš„ç³»ç»Ÿå¯¹æ¯” Â· è¿œç¨‹æ§åˆ¶åŠŸèƒ½ winçš„rdpç‹¬æ­¥å¤©ä¸‹ï¼Œç¡¬ä»¶åŠ é€Ÿ è§†é¢‘å‹ç¼© éŸ³é¢‘ä¼ è¾“ï¼Œè¿™æ˜¯Linux macå‡æ²¡æœ‰çš„ã€‚ Â· ä¸Šæ‰‹éš¾åº¦ä½\nå’Œwin11 Â· ç”¨è¿‡å‡ ä¸ªæœˆwin11 å®åœ¨ä¸çŸ¥çœ¼ä¸‹é€‰æ‹©ä»– ä¸é€‰win10çš„ç†ç”±æ˜¯ä»€ä¹ˆ Â· å³é”®èœå•ä¸€é¡¹ å°±å¯ä»¥å»æ‰ä»–äº†ã€‚ Â· slcçš„é—®é¢˜ï¼Œè™½ç„¶å¯ä»¥ç»•è¿‡ï¼Œä½†æ˜¯éº»çƒ¦\nå’Œ win10 ä»¥åŠwin10 ltc Â· åªä¸€ä¸ªåŸå›  kvm å®‰è£…win10çš„æ—¶å€™ èŠ±å± æ²¡æ³•ç»§ç»­\nå’Œwin7 Â· è™½ç„¶æ—¥å¸¸è½¯ä»¶ä½¿ç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¶å°”é‡åˆ°å‡æ­» è¿˜æ˜¯å…¼å®¹æ€§æœ‰ä¸€äº›é—®é¢˜ Â· å¦å¤–ä¸€äº›è½¯ä»¶ä¸€ç›´ä¸æ”¯æŒäº†ã€‚\nWindows server 2022 ä½œä¸ºæ¡Œé¢ç³»ç»Ÿä½¿ç”¨éœ€è¦å¤„ç†çš„å‡ ä¸ªé—®é¢˜ å»æ‰å¼€æœºctrl+alt+delç‰©ç†æŒ‰é”®å’Œè‡ªåŠ¨ç™»å½• https://dev.leiyanhui.com/c/win2022-autologin/\nWindows Server 2022 Datacenter æ— æ³•è®¿é—®unraidçš„smbå…±äº«çš„é—®é¢˜ https://dev.leiyanhui.com/c/windows-server-2022-datacenter-smb/\nå»æ‰ Windows server 2022æ‰“å¼€å…±äº«æ–‡ä»¶çš„exeçš„å®‰å…¨æé†’ï¼Œä»¥åŠéƒ¨åˆ†è½¯ä»¶æç¤ºinternetå®‰å…¨é…ç½® https://dev.leiyanhui.com/c/windows-server-2022-internetsafe/\nè¾“å…¥æ³• https://dev.leiyanhui.com/c/inputexe/\n","date":"2022-08-03T21:38:29Z","permalink":"https://dev.leiyanhui.com/c/windows-server2022-to-main-os/","title":"é€‰æ‹©Windows server2022 ä½œä¸ºä¸»å¼€å‘ç³»ç»Ÿ  å¹¶è¿è¡Œåœ¨unraidä¸Š all in one çš„ç†ç”±ï¼Œä¼˜åŠ¿å’ŒåŸå› "},{"content":"Windows Server 2022 Datacenter æ— æ³•è®¿é—®unraidçš„smbå…±äº«çš„é—®é¢˜ ç›´æ¥ èµ„æºç®¡ç†å³é”® æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨ \\10.0.0.8\\SharpYanhui å‹¾é€‰ä¸Š ä½¿ç”¨å…¶ä»–å‡­æ®\n","date":"2022-08-03T18:55:48Z","permalink":"https://dev.leiyanhui.com/c/windows-server-2022-datacenter-smb/","title":"Windows Server 2022 Datacenter æ— æ³•è®¿é—®unraidçš„smbå…±äº«çš„é—®é¢˜"},{"content":"ubuntu22.04.1LTSå®‰è£…golangæœ€æ–°ç‰ˆæœ¬ å…¶ä»–linuxç³»ç»Ÿé€šç”¨ ä¸å»ºè®® ç›´æ¥ç”¨è‡ªå¸¦çš„åŒ…ç®¡ç†å™¨å®‰è£…ï¼Œåç»­ç»´æŠ¤ä¼šéº»çƒ¦ä¸€ç‚¹ç‚¹\nè·å–æœ€æ–°ç‰ˆæœ¬golang https://golang.google.cn/dl/\næˆªæ­¢2022.10.11 æœ€æ–°ç¨³å®šç‰ˆæœ¬æ˜¯ 1.9.2 æˆªæ­¢2022.12.01 æœ€æ–°ç¨³å®šç‰ˆæœ¬æ˜¯ 1.9.3\n1 2 3 4 5 6 7 8 cd ~ wget -c https://golang.google.cn/dl/go1.19.3.linux-amd64.tar.gz tar -zxf go1.*.tar.gz -C /opt/ rm go1.*linux-amd64.tar.gz cd /opt/ mkdir /opt/gopath # ä¿®æ”¹ç¯å¢ƒå˜é‡ nano /etc/profile #æˆ–è€… ~/.profile åœ¨æ–‡æœ«æ·»åŠ \n1 2 3 4 5 6 7 export GO111MODULE=on export GOROOT=/opt/go export GOPATH=/opt/gopath #export GOPROXY=https://goproxy.io,direct #export GOPROXY=https://proxy.golang.com.cn,direct export GOPROXY=https://goproxy.cn export PATH=$PATH:$GOROOT/bin:$GOPATH/bin æ›´æ–°ç”Ÿæ•ˆ æŸ¥çœ‹goæƒ…å†µ\n1 2 source /etc/profile go env å…¶ä»–é—®é¢˜ sourceä¼šæç¤º /etc/profile (line 5): Unsupported use of '='. In fish, please use 'set PATH \u0026quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\u0026quot;'. è¿™ä¸ªæ˜¯ fishçš„é—®é¢˜ï¼Œç”¨bash å°±å¥½äº†\nç›¸å…³å†…å®¹ 1ã€å®‰è£… vscode online codeserver 2ã€codeserveré…ç½®goå¼€å‘ç¯å¢ƒçš„é”™è¯¯\n3ã€code Server urlå‚æ•° æ‰“å¼€æŒ‡å®šçš„å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶å¤¹\n4ã€ ubuntu22.04.1LTSå®‰è£…golangæœ€æ–°ç‰ˆæœ¬\n","date":"2022-08-02T23:25:41Z","permalink":"https://dev.leiyanhui.com/c/ubuntu-install-golang/","title":"ubuntu22.04.1LTS/debian11å®‰è£…golangæœ€æ–°ç‰ˆæœ¬ å…¶ä»–linuxç³»ç»Ÿé€šç”¨"},{"content":"ä¸€ä¸ªé€šç”¨çš„ç½‘ç«™æ·»åŠ å¯†ç çš„.php é™¤äº†nginx apacheè‡ªå¸¦çš„æ–¹æ³•ï¼Œè¿™é‡ŒåŠ ä¸€ä¸ªphpçš„ã€‚é‚£ä¸ªphpéœ€è¦æ§åˆ¶ç”¨æˆ·ä½¿ç”¨ï¼Œé‚£ä¸ªphp é‡Œé¢åŒ…å«ä¸€ä¸‹\n1 require \u0026#34;inc_index_psw.php\u0026#34;; ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 \u0026lt;?php /* * åœ¨é¦–é¡µä¸­ // include \u0026#34;inc_index_psw.php\u0026#34;; å¯ä»¥å¼ºåˆ¶è¾“å…¥å¯†ç cd */ $My_agent = $_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;]; // å…ˆåˆ¤æ–­ if(strpos($_SERVER[\u0026#39;HTTP_CF_WORKER\u0026#39;],\u0026#39;yanhui.com\u0026#39;) ==false \u0026amp;\u0026amp; strpos($My_agent,\u0026#39;mirror\u0026#39;) ==false) { //åˆ¤æ–­æ˜¯qqæˆ–è€…å¾®ä¿¡æ‰“å¼€çš„å˜› if(strpos($My_agent, \u0026#39;QQ/\u0026#39;)||strpos($My_agent, \u0026#39;MicroMessenger\u0026#39;)!==false){ html_browser(); die; } //è·å–ç™»å½•çŠ¶æ€ $my_is_logined=0; if(isset($_COOKIE[\u0026#39;my_is_logined\u0026#39;]) ){ $my_is_logined=(int)$_COOKIE[\u0026#39;my_is_logined\u0026#39;]; } // æœªç™»å½• if($my_is_logined!=1){ //å¼€å§‹åˆ¤æ–­å’ŒéªŒè¯ç™»å½• $my_chk_login=0; if(isset($_POST[\u0026#39;my_chk_login\u0026#39;]) ){ $my_chk_login=(int)$_POST[\u0026#39;my_chk_login\u0026#39;]; } if($my_chk_login==1){ //éªŒè¯ç™»å½•ä¿¡æ¯å’Œå¯†ç  if(trim($_POST[\u0026#39;my_psw\u0026#39;])==\u0026#34;admin\u0026#34; || trim($_POST[\u0026#39;my_psw\u0026#39;])==\u0026#34;123456\u0026#34; || trim($_POST[\u0026#39;my_psw\u0026#39;])==\u0026#34;123\u0026#34; || trim($_POST[\u0026#39;my_psw\u0026#39;])==\u0026#34;abc\u0026#34;){ //ç™»å½•æˆåŠŸ setcookie(\u0026#39;my_is_logined\u0026#39;,\u0026#39;1\u0026#39;,time()+365*24*60*60,\u0026#39;/\u0026#39;); //ä¸€å¹´æœ‰æ•ˆ die (\u0026#34;\u0026lt;script language=JavaScript\u0026gt; location.replace(location.href);\u0026lt;/script\u0026gt;\u0026#34;); }else{ die(\u0026#34;\u0026lt;script\u0026gt;alert(\u0026#39;å¯†ç é”™è¯¯\u0026#39;);history.go(-1)\u0026lt;/script\u0026gt;\u0026#34;); } }else{ //è¾“å‡ºç™»å½•ç•Œé¢ html_login(); } die; } } function html_browser(){ ?\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€\u0026lt;/title\u0026gt; \u0026lt;meta content=\u0026#34;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026#34; name=\u0026#34;viewport\u0026#34;\u0026gt; \u0026lt;meta content=\u0026#34;yes\u0026#34; name=\u0026#34;apple-mobile-web-app-capable\u0026#34;\u0026gt; \u0026lt;meta content=\u0026#34;black\u0026#34; name=\u0026#34;apple-mobile-web-app-status-bar-style\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;format-detection\u0026#34; content=\u0026#34;telephone=no\u0026#34;\u0026gt; \u0026lt;meta content=\u0026#34;false\u0026#34; name=\u0026#34;twcClient\u0026#34; id=\u0026#34;twcClient\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;aplus-touch\u0026#34; content=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;style\u0026gt; body,html{width:100%;height:100%} *{margin:0;padding:0} body{background-color:#fff} #browser img{ width:50px; } #browser{ margin: 0px 10px; text-align:center; } #contens{ font-weight: bold; margin:-285px 0px 10px; text-align:center; font-size:20px; margin-bottom: 125px; } .top-bar-guidance{font-size:15px;color:#fff;height:60%;line-height:1.8;padding-left:20px;padding-top:20px;background:url(//gw.alicdn.com/tfs/TB1eSZaNFXXXXb.XXXXXXXXXXXX-750-234.png) center top/contain no-repeat} .top-bar-guidance .icon-safari{width:25px;height:25px;vertical-align:middle;margin:0 .2em} .app-download-tip{margin:0 auto;width:290px;text-align:center;font-size:15px;color:#2466f4;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAcAQMAAACak0ePAAAABlBMVEUAAAAdYfh+GakkAAAAAXRSTlMAQObYZgAAAA5JREFUCNdjwA8acEkAAAy4AIE4hQq/AAAAAElFTkSuQmCC) left center/auto 15px repeat-x} .app-download-tip .guidance-desc{background-color:#fff;padding:0 5px} .app-download-btn{display:block;width:214px;height:40px;line-height:40px;margin:18px auto 0 auto;text-align:center;font-size:18px;color:#2466f4;border-radius:20px;border:.5px #2466f4 solid;text-decoration:none} \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;top-bar-guidance\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ç‚¹å‡»å³ä¸Šè§’\u0026lt;img src=\u0026#34;//gw.alicdn.com/tfs/TB1xwiUNpXXXXaIXXXXXXXXXXXX-55-55.png\u0026#34; class=\u0026#34;icon-safari\u0026#34;\u0026gt; \u0026lt;span id=\u0026#34;openm\u0026#34;\u0026gt;Safariæ‰“å¼€\u0026lt;/span\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;å¯ä»¥ç»§ç»­æµè§ˆæœ¬ç«™å“¦~\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;a style=\u0026#34;display: none;\u0026#34; href=\u0026#34;\u0026#34; id=\u0026#34;vurl\u0026#34; rel=\u0026#34;noreferrer\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;div id=\u0026#34;browser\u0026#34;\u0026gt; \u0026lt;p\u0026gt;é¿å…å¾®ä¿¡å’ŒQQå±è”½æœ¬ç«™ç½‘å€ï¼Œè¯·ç†è§£æ”¯æŒï¼\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;app-download-tip\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;guidance-desc\u0026#34;\u0026gt;ç‚¹å‡»å³ä¸Šè§’æˆ–å¤åˆ¶ç½‘å€è‡ªè¡Œæ‰“å¼€\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;link href=\u0026#34;/static/layui/css/modules/layer/default/layer.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34; /\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.bootcdn.net/ajax/libs/jquery/1.9.1/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;/static/js/jquery.clipboard.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;/static/layui/lay/modules/layer.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;a data-clipboard-text=\u0026#34;\u0026lt;?php echo curPageURL(); ?\u0026gt;\u0026#34; class=\u0026#34;app-download-btn\u0026#34;\u0026gt;ç‚¹æ­¤å¤åˆ¶æœ¬ç«™ç½‘å€\u0026lt;/a\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new ClipboardJS(\u0026#34;.app-download-btn\u0026#34;); $(\u0026#34;.app-download-btn\u0026#34;).click(function() { layer.tips(\u0026#34;å¤åˆ¶æˆåŠŸï¼Œä¹ˆä¹ˆå“’\u0026#34;, \u0026#34;.app-download-btn\u0026#34;, { tips: [3, \u0026#34;rgb(38,111,250)\u0026#34;], time:500 });}) \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; function openu(u){ document.getElementById(\u0026#34;vurl\u0026#34;).href= u; document.getElementById(\u0026#34;vurl\u0026#34;).click(); } var url = window.location.href; if(navigator.userAgent.indexOf(\u0026#34;QQ/\u0026#34;)\u0026gt; -1){ openu(\u0026#34;ucbrowser://\u0026#34;+url); openu(\u0026#34;mttbrowser://url=\u0026#34;+url); openu(\u0026#34;baiduboxapp://browse?url=\u0026#34;+url); openu(\u0026#34;googlechrome://browse?url=\u0026#34;+url); openu(\u0026#34;mibrowser:\u0026#34;+url); openu(\u0026#34;taobao://\u0026#34;+url.split(\u0026#34;://\u0026#34;)[1]); openu(\u0026#34;alipays://platformapi/startapp?appId=20000067\u0026amp;url=\u0026#34;+url); $(\u0026#34;html\u0026#34;).on(\u0026#34;click\u0026#34;,function(){ openu(\u0026#34;ucbrowser://\u0026#34;+url); openu(\u0026#34;mttbrowser://url=\u0026#34;+url); openu(\u0026#34;baiduboxapp://browse?url=\u0026#34;+url); openu(\u0026#34;googlechrome://browse?url=\u0026#34;+url); openu(\u0026#34;mibrowser:\u0026#34;+url); openu(\u0026#34;taobao://\u0026#34;+url.split(\u0026#34;://\u0026#34;)[1]); openu(\u0026#34;alipays://platformapi/startapp?appId=20000067\u0026amp;url=\u0026#34;+url); }); }else if(navigator.userAgent.indexOf(\u0026#34;MicroMessenger\u0026#34;) \u0026gt; -1){ if(navigator.userAgent.indexOf(\u0026#34;Android\u0026#34;) \u0026gt; -1){ var iframe = document.createElement(\u0026#34;iframe\u0026#34;); iframe.style.display = \u0026#34;none\u0026#34;; document.body.appendChild(iframe); }else{ } } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;?php } // è¯´æ˜ï¼šè·å–å®Œæ•´URL function curPageURL() { $pageURL = \u0026#39;http\u0026#39;; if ($_SERVER[\u0026#34;HTTPS\u0026#34;] == \u0026#34;on\u0026#34;) { $pageURL .= \u0026#34;s\u0026#34;; } $pageURL .= \u0026#34;://\u0026#34;; if ($_SERVER[\u0026#34;SERVER_PORT\u0026#34;] != \u0026#34;80\u0026#34;) { $pageURL .= $_SERVER[\u0026#34;SERVER_NAME\u0026#34;] . \u0026#34;:\u0026#34; . $_SERVER[\u0026#34;SERVER_PORT\u0026#34;] . $_SERVER[\u0026#34;REQUEST_URI\u0026#34;]; } else { $pageURL .= $_SERVER[\u0026#34;SERVER_NAME\u0026#34;] . $_SERVER[\u0026#34;REQUEST_URI\u0026#34;]; } return $pageURL; } function html_login(){ ?\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh-cn\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Wellcome,äº²çˆ±çš„ è¯·è¿›è¡Œè®¿é—®æƒé™ç¡®è®¤ \u0026lt;/title\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;style\u0026gt; * { box-sizing: border-box; } body { margin: 0; padding: 0; background: #494A5F; font-weight: 500; font-family: \u0026#34;Microsoft YaHei\u0026#34;,\u0026#34;å®‹ä½“\u0026#34;,\u0026#34;Segoe UI\u0026#34;, \u0026#34;Lucida Grande\u0026#34;, Helvetica, Arial,sans-serif, FreeSans, Arimo; } #container { margin: 0 auto; } div.search {padding: 30px 0;} form { position: relative; width: 300px; margin: 0 auto; } input, button { border: none; outline: none; } input { width: 100%; height: 42px; padding-left: 13px; } button { height: 42px; width: 42px; cursor: pointer; position: absolute; } /*æœç´¢æ¡†6*/ .bar6 {} .bar6 input { border: 2px solid #c5464a; border-radius: 5px; background: #CCC; top: 0; right: 0; } .bar6 button { background: #c5464a; border-radius: 0 5px 5px 0; width: 60px; top: 0; right: 0; } .bar6 button:before { content: \u0026#34;ç™»å½•\u0026#34;; font-size: 13px; color: #F9F0DA; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;search bar6\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;form action=\u0026#34;\u0026#34; method=\u0026#34;POST\u0026#34; id=\u0026#34;myform\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;my_chk_login\u0026#34; value=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;my_psw\u0026#34; placeholder=\u0026#34;è¯·è¾“å…¥å¯†ç ...\u0026#34;\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34;\u0026gt;\u0026lt;/button\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div style=\u0026#34;font-size: 10px; text-align: center; color: #AAA; \u0026#34;\u0026gt; å¯†ç  å‡ä¸º æ•°å­—1å¼€å¤´ æˆ–è€… å­—æ¯aå¼€å¤´ \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;?php } ?\u0026gt; ","date":"2022-08-02T23:25:41Z","permalink":"https://dev.leiyanhui.com/c/128/","title":"ä¸€ä¸ªé€šç”¨çš„ç½‘ç«™æ·»åŠ å¯†ç çš„.php"},{"content":"phpå…è´¹åä»£google æ­å»ºè‡ªå·±çš„æœç´¢å¼•æ“ #å¼•è¨€ å› ä¸ºcf workåä»£å‘ç°ä¸€ç‚¹é—®é¢˜ï¼Œæ‰€ä»¥è¿˜æ˜¯æ¢æˆ #ç”³è¯·å…è´¹phpç©ºé—´ æš‚æ—¶ç”¨ https://www.yun316.net/ å…è´¹ä¸€ä¸ªæœˆï¼Œæ¯ä¸ªæœˆè¦å»å…è´¹ç»­è´¹ä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥æ”¯ä»˜5å…ƒ 1å¹´å…ç»­è´¹ å¶å°”ä¼šå‡ºç°503é”™è¯¯çš„å“ˆï¼Œä½†æ˜¯å…è´¹çš„æ²¡å•¥è¯´çš„ã€‚ #é…ç½®ç¯å¢ƒ phpç‰ˆæœ¬ 5.5 #ä¼ªé™æ€è§„åˆ™[åœ¨ftpæ–‡ä»¶è§„åˆ™ä¸‹é¢]\n1 2 3 4 5 6 7 8 \u0026lt;IfModule mod_rewrite.c\u0026gt; RewriteEngine on RewriteBase / RewriteRule ^index\\.php$ - [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /index.php [L] \u0026lt;/IfModule\u0026gt; #ä¸‹è½½ä¸€ä¸ª7ghostï¼Œé…ç½®ä¸€ä¸‹ ä¸Šä¼ åˆ°ftp #ä¸ºäº†é¿å…è¢«å¢™ï¼Œé¦–é¡µ index.php æ·»åŠ ä»£ç  require \u0026ldquo;inc_index_psw.php\u0026rdquo;; inc_index_psw.php æ–‡ä»¶å†…å®¹\nhttps://dev.leiyanhui.com/c/128 ä¹Ÿå¯ ä½¿ç”¨yun316åå°çš„httpè®¤è¯åŠŸèƒ½\nsslè®¿é—® å…è´¹ç©ºé—´ä¸æ”¯æŒssl æ€»ä¸èƒ½æ˜æ–‡æœç´¢ä¸€äº› å§ã€‚ æ‰€ä»¥ å¥—ä¸Šcf æˆ–è€… cdn\n","date":"2022-08-02T23:24:44Z","permalink":"https://dev.leiyanhui.com/c/127/","title":"phpå…è´¹åä»£google  æ­å»ºè‡ªå·±çš„æœç´¢å¼•æ“"},{"content":"typecho åå°æ–°æ–‡ç« é»˜è®¤å…³é—­è‡ªå®šä¹‰å­—æ®µ å±•ç¤ºï¼ˆä¸å±•å¼€ï¼‰ å› ä¸ºæŸäº›æ¨¡æ¿æœ‰è‡ªå®šä¹‰å­—æ®µï¼Œå¯¼è‡´è‡ªå®šä¹‰å­—æ®µ ä¸€ç›´å±•å¼€çŠ¶æ€ ï¼Œå‘å¸ƒæŒ‰é’® å°±åˆ°äº†ç¬¬äºŒé¡µ å¯¼è‡´ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ adminç›®å½•ä¸‹ custom-fields.php ç¬¬7è¡Œ\n1 2 \u0026lt;section id=\u0026#34;custom-field\u0026#34; class=\u0026#34;typecho-post-option\u0026lt;?php if (empty($defaultFields) \u0026amp;\u0026amp; empty($fields)): ?\u0026gt; fold\u0026lt;?php endif; ?\u0026gt;\u0026#34;\u0026gt; ä¿®æ”¹ä¸º\n1 2 \u0026lt;section id=\u0026#34;custom-field\u0026#34; class=\u0026#34;typecho-post-option fold\u0026#34;\u0026gt; æˆ–è€… (æ¡ä»¶é‡Œé¢ åŠ ä¸€ä¸ª 11 )\n1 2 \u0026lt;section id=\u0026#34;custom-field\u0026#34; class=\u0026#34;typecho-post-option\u0026lt;?php if (empty($defaultFields) \u0026amp;\u0026amp; empty($fields) || 1==1) : ?\u0026gt; fold\u0026lt;?php endif; ?\u0026gt;\u0026#34;\u0026gt; ","date":"2022-08-02T23:23:52Z","permalink":"https://dev.leiyanhui.com/c/121/","title":"typecho åå°æ–°æ–‡ç« é»˜è®¤å…³é—­è‡ªå®šä¹‰å­—æ®µ å±•ç¤ºï¼ˆä¸å±•å¼€ï¼‰"},{"content":"è¿™ä¸ª åº”è¯¥æ˜¯ LTSCçš„ç³»ç»Ÿbug ï¼Œå¾®è½¯ä¹Ÿå¥½åƒæ²¡æœ‰æ‰“ç®—ä¿®å¤çš„æ„æ€ è¿™ä¸ªçœ‹åç§° æ˜¯åº”ç”¨å•†åº—ç›¸å…³çš„è¿›ç¨‹ï¼Œä½†æ˜¯ LTSCå“ªé‡Œæ¥çš„å•†åº—ã€‚ ç½‘ä¸Šæœæœå¾ˆå¤šèµ„æ–™å å‘ç° è¿™ä¸ªç¡®å®æ˜¯ å¾®è½¯è‡ªå·±çš„bug è€Œè§£å†³æ–¹æ³• å¾ˆå¥‡è‘©ï¼Œç«Ÿç„¶æ˜¯å’Œè¾“å…¥æ³•æœ‰å…³ç³» è¿™æ˜¯å› ä¸ºåœ¨ LTSC 2021 ä¸­ï¼Œå¾®è½¯åˆ é™¤äº† Windows åŠŸèƒ½ä½“éªŒåŒ…çš„ä¾èµ–ç»„ä»¶ï¼ŒAppXSVC å’Œ ClipSVC è¿™ä¿©å…„å¼Ÿæ˜¯ Microsoft Store è´Ÿè´£å®‰è£…ã€éƒ¨ç½²å’Œæ›´æ–° UWP åº”ç”¨çš„ä¸¤ä¸ªæœåŠ¡ï¼Œç»å¸¸æ€§åå°æ‰«æå‡çº§å ç”¨ CPUï¼Œæ­£å¸¸ç³»ç»Ÿåªè¦å…³é—­ Microsoft Store è‡ªåŠ¨æ›´æ–°å¡é‚£ä¹ˆä¸€é˜µå°±å¥½äº†ã€‚å¯¼è‡´ç³»ç»ŸæœåŠ¡åœ¨å°è¯•éƒ¨ç½² Windows åŠŸèƒ½ä½“éªŒåŒ…æ›´æ–°æ—¶å¡ä½æˆ–é™·å…¥æ­»å¾ªç¯ã€‚ä¸æ­¤åŒæ—¶æ–°ç‰ˆçš„ä¸­æ–‡è¾“å…¥æ³•ä¹Ÿä¾èµ–äº Windows åŠŸèƒ½ä½“éªŒåŒ…ã€‚ è§£å†³æ–¹æ³• https://download.csdn.net/download/joyanhui/86263686 å…³é—­æ€æ¯’è½¯ä»¶ï¼Œç„¶åæ‰§è¡Œï¼Œå†ä»ä»»åŠ¡æ ç»“æŸæ‰ wsappx å°±å¥½äº†ã€‚\n","date":"2022-08-02T23:22:02Z","permalink":"https://dev.leiyanhui.com/c/120/","title":"Win10 LTSC  æœ‰ä¸€ä¸ªwsappx appxsvc è¿›ç¨‹åƒcpuå’Œæ€§èƒ½é—®é¢˜"},{"content":"windowsä¸‹ä¸Šä¼ è½¯ä»¶åˆ°appstore https://www.yunedit.com/update/appstore/listã€ ä¸Šä¼ ä¸“ç”¨å¯†ç  https://www.yunedit.com/xueyuan/jx/zuanyongpwd å¯†ç è®°å½•ä¿å­˜å¥½\n","date":"2022-08-02T23:12:32Z","permalink":"https://dev.leiyanhui.com/c/windows-to-ppstore/","title":"windowsä¸‹ä¸Šä¼ è½¯ä»¶åˆ°appstore"},{"content":"Ubuntuåˆ‡æ¢åˆ°deepinæŠ˜è…¾è®°å½•ï¼šå¾®ä¿¡ qq Photoshopç™»å½• å‰é¢è¯´çš„æ›´æ¢çš„åŸå›  ä¸Šä¸€ç¯‡è®°å½•ï¼šhttps://dev.leiyanhui.com/c/18 ä¸è¿‡ç²—ç•¥çœ‹äº†ä¸€ä¸‹ å®˜æ–¹ç»´æŠ¤çš„åº”ç”¨å•†åº—ï¼Œå¥½åƒä¸å°‘å‘ã€‚æ¯”å¦‚edge æ— æ³•ç™»å½•ï¼Œsmartconfigå¤±æ•ˆã€‚ã€‚ã€‚ è¿™äº›ä½¿ç”¨å¼ºåº¦é«˜ï¼Œå¹¶ä¸”ä¸éœ€è¦wineçš„è½¯ä»¶ è¿˜æ˜¯è‡ªå·±å»å®˜ç½‘åŠ¨æ‰‹ä¸‹è½½\n2024-03-7 å·²ç»æœ‰åŸç”Ÿç‰ˆå¾®ä¿¡ï¼Œè™½ç„¶ç›®å‰ä¹‹æ”¯æŒuoså’Œéº’éºŸç­‰ç³»ç»Ÿï¼Œå®é™…ä¸Šå…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨ã€‚\n2022å¹´12æœˆ07æ—¥ è…¾è®¯å·²ç»å‘å¸ƒæ–°ç‰ˆlinux qq wine å¾®ä¿¡ åŸºæœ¬èˆ’æœ æˆªå›¾å¯ä»¥ç”¨ï¼Œæ–‡ä»¶å‘é€å¯ä»¥ç”¨ï¼Œç³»ç»Ÿæ‰˜ç›˜æ­£å¸¸ï¼Œä¸ªåˆ«è¡¨æƒ…å’Œå¥½æœ‰åç§°ä¹±ç  ä¸å½±å“ï¼Œå¯åŠ¨ç•¥å¾®æ…¢ å¯ä»¥æ¥å—\nwine ä¼ä¸šå¾®ä¿¡ åŸºæœ¬èˆ’æœ ä¼ä¸šå¾®ä¿¡ æˆ‘ä¸»è¦æ˜¯èŠå¤©äº¤æµç”¨ï¼Œå…¶ä»–åŠŸèƒ½æ²¡éœ€æ±‚ ä½†æ˜¯æµ‹è¯•äº†ä¸€ä¸‹ ä¼ä¸šåˆ‡æ¢åŠŸèƒ½æ­£å¸¸ æˆªå›¾å’Œæ–‡ä»¶åŠŸèƒ½ä¹Ÿéƒ½æ­£å¸¸\nwine qq å¯ä»¥ç”¨ ç°åœ¨ä¸æ€ä¹ˆç”¨qqäº†ï¼Œæ‰€ä»¥æ²¡æœ‰ä»”ç»†ç ”ç©¶ï¼Œå°±ä¿®æ”¹ä¸€ä¸‹qqçš„è®¾ç½®ï¼Œå…³é—­æŒ‰é’®åˆ°ç³»ç»Ÿæ‰˜ç›˜\nwine Photoshop å¯ç”¨ æç¤ºè¿‡æœŸï¼Œç‚¹ç»§ç»­è¯•ç”¨ å¯ä»¥ç”¨ ç¬¬äºŒæ¬¡æ‰“å¼€ å°± æç¤ºè¦æ³¨å†Œäº† æ‰“å¼€ home/ä½ çš„ç”¨æˆ·å/.deepinwine/Deepin-CS6/drive_c/Program Files/Adobe/Adobe Photoshop æ‰¾åˆ°ä¸€ä¸ªæ¿€æ´»æ–‡ä»¶æ›¿æ¢åˆ° amtlib.dll è¦ 32ä½çš„ ä¸‹è½½é“¾æ¥ï¼šhttps://pan.baidu.com/s/1EbLxsN84ElXoB2rXTVhh-A æå–ç : tc69 å¦‚æœåˆ†äº«æ—¶æ•ˆï¼Œå°±è‡ªå·±å¦å¤–æ‰¾ä¸€ä¸ª ç»è¿‡æµ‹è¯• å¾®ä¿¡æˆªå›¾ çš„å›¾ç‰‡ ä¹Ÿå¯ä»¥ç›´æ¥è´´åˆ°è¿™é‡Œæ¥ï¼Œå¯ä»¥è¯´ç›¸å½“å®Œç¾äº† æŠŠç¬¬ä¸‰æ–¹å­—ä½“æ‹·è´åˆ° ~/.deepinwine/Deepin-CS6/drive_c/windows/Fonts psé‡Œé¢ä¹Ÿå¯ä½¿ç”¨å­—ä½“äº†\nwine æ·˜å®æ—ºæ—º è¿™ä¸ªã€‚ã€‚æ²¡æ‰¾åˆ°ã€‚ã€‚ã€‚æš‚æ—¶ç”¨ç½‘é¡µç‰ˆï¼šhttps://market.m.taobao.com/app/im/chat/index.html?#/\nwine HBuilderX ä¹Ÿæ²¡æ‰¾åˆ°\nè‡ªå·±æŠ˜è…¾ https://dev.leiyanhui.com/c/20\næœç‹—è¾“å…¥æ³• ä¾æ—§ä¹Ÿæ˜¯ä¸æ”¯æŒç”¨æˆ·è¯åº“åŒæ­¥ï¼Œçš®è‚¤ ä»€ä¹ˆçš„éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå½“ç„¶å¾ˆæœ‰é™çš„é€‰æ‹©ã€‚ ä¸­é—´å‘ç”Ÿè¿‡ è‡ªå·±å´©æºƒäº†ï¼Œæ²¡æœ‰è¾“å…¥ï¼Œä¸çŸ¥æ€ä¹ˆæƒ…å†µã€‚é‡æ–°æ‰“å¼€è®¾ç½®é‡Œé¢çš„é”®ç›˜ è¾“å…¥æ³• åˆé‡æ–°å‡ºç°ã€‚åŸºæœ¬æ²¡åˆ«çš„é—®é¢˜\nå­—ä½“ å¯åŠ¨å™¨é‡Œé¢ æœ‰ä¸€ä¸ªå­—ä½“ç®¡ç†å™¨ ç‚¹+ å°±å¯ä»¥å®‰è£…ç¬¬ä¸‰æ–¹å­—ä½“äº†ï¼ŒåŒæ—¶ wine çš„å­—ä½“è¦ å» ~/.deepinwine/XXXXXXX/drive_c/windows/Fonts\nonedrive å› ä¸ºçš„æœ‰ä¸€ä¸ª5Tçš„ æ ¡å‹è´¦å·ï¼Œæ‰€ä»¥ï¼Œæ™šç‚¹ç”¨ rcloneå¼„ä¸€ä¸‹\nç”¨å®˜ç½‘ç‰ˆçš„è½¯ä»¶ éƒ½å°½é‡ç”¨å®˜ç½‘ç‰ˆæœ¬ vscode edge smartgit ç™¾åº¦ç½‘ç›˜ wps QQéŸ³ä¹ ç­‰\nä½¿ç”¨apk å®‰å“çš„è½¯ä»¶ å¾®ä¿¡ åªèŠå¤©ç”¨\nè‹¹æœéŸ³ä¹ æœ¬æ¥æ˜¯æƒ³è£…apkçš„ï¼Œå‘ç°deepinçš„å®‰å“åº”ç”¨åªèƒ½è£…è‡ªå®¶å•†åº—ï¼Œè¿˜éœ€è¦ç”¨å…¶ä»–æ–¹æ¡ˆæ‰å¯ä»¥ï¼Œè¿˜æ˜¯ç”¨edge æ‰“å¼€ï¼Œç„¶åç‚¹ä¸‰ä¸ªç‚¹ åº”ç”¨å°†æ­¤ç½‘ç«™ä½œä¸ºåº”ç”¨ã€‚å†ç‚¹åº”ç”¨ç®¡ç† å†åˆ›å»ºå¿«æ·æ–¹å¼åˆ°æ¡Œé¢ å’Œ åº”ç”¨ç¨‹åº èœå•ï¼Œå®Œç¾è§£å†³ https://music.apple.com/cn/listen-now ##å¸è½½å¤šä½™è½¯ä»¶\nlibreoffice 1 sudo apt-get remove --purge libreoffice* è‡ªå¸¦çš„æµè§ˆå™¨ 1 sudo apt remove org.deepin.browser ç›¸æœºç­‰ åœ¨å·¦ä¾§å¯åŠ¨å™¨ ç±»ä¼¼å¼€å§‹èœå•çš„åœ°æ–¹ï¼Œå³é”®ç‚¹å‡» å¸è½½\nå…¶ä»–æœªè§£å†³é—®é¢˜ è“ç‰™é”®ç›˜é¼ æ ‡ ä¸æ˜¾ç¤ºç”µé‡\n","date":"2022-08-02T22:51:31Z","permalink":"https://dev.leiyanhui.com/c/19/","title":"Ubuntuåˆ‡æ¢åˆ°deepinæŠ˜è…¾è®°å½•ï¼šå¾®ä¿¡ qq Photoshopç™»å½•"},{"content":"Ubuntu22.04 desktopä»ä½“éªŒåˆ°æ ¼å¼åŒ– å·²ç»æ›´æ¢æ‰ ä¸€ç›´ä»¥æ¥æƒ³ç”¨Linuxæ›¿ä»£winåšä¸»åŠ›ç³»ç»Ÿï¼Œä¸€ç›´æœªèƒ½è¡ŒåŠ¨ï¼Œå‰å‡ å¤©é€‰æ‹©äº†Ubuntu22.04 é¦–å…ˆæ˜¯é€‰çš„ç‰ˆæœ¬ å¤ªæ–°äº†å“ˆã€‚å¾ˆå¤šè½¯ä»¶éƒ½å„ç§ä¾èµ–ä¸ç¬¦åˆã€‚åŠ ä¸Šwineå¾®ä¿¡ å„ç§éš¾å—ï¼Œæœ€åè™šæ‹Ÿæœºè£…äº†ä¸€ä¸ª deepin 20.5 å¯¹åº”çš„å†…æ ¸ cat /etc/debian_version 10.10 å¤§æ¦‚ä½“éªŒäº†ä¸€ä¸‹ ä¸é”™ è®°å½•ä¸€ä¸‹https://dev.leiyanhui.com/c/19 å…¶å®æ”¾å¼ƒçš„åŸå› è¿˜æœ‰å¾ˆå¤šï¼Œå› ä¸ºæˆ‘åœ¨linuxä¸‹ç”¨çš„è½¯ä»¶ ä¸»è¦è¿˜æ˜¯ å®å¡”ã€vscodeã€edgeã€smartgitï¼Œè¿™å‡ ä¸ªè½¯ä»¶ç”¨ä»€ä¹ˆç³»ç»Ÿéƒ½ä¸€æ · éœ€è¦wine çš„è½¯ä»¶ å¾®ä¿¡ã€ä¼ä¸šå¾®ä¿¡ã€qqã€photoshopã€æ—ºæ—º å½“ç„¶æ˜¯è¦çœ‹é‚£è¾¹wineæ–¹ä¾¿äº†ï¼Œä¸ç”¨æƒ³è‚¯å®šæ˜¯deepinäº† è¿˜æœ‰å°±æ˜¯ å¾ˆå¤šè«åå…¶å¦™çš„å¡é¡¿ ä¹Ÿçƒ¦èºäº†ã€‚ å›¾å½¢ç•Œé¢ æŒ‰ç…§debåŒ…çš„æ—¶å€™ï¼Œç­‰å¾…æ—¶é—´ ä¹Ÿæ¼«é•¿ å…¶å®ä¸»è¦æ˜¯ wine å¤ªæŠ˜è…¾ æ²¡æœ‰deepinæ–¹ä¾¿ æœ€åå› ä¸ºlinuxçš„è¿œç¨‹vncåƒå¸¦å®½ï¼Œä¹Ÿå¯ç”¨ è¯´ç™½äº† æ²¡æœ‰é»‘æœæ–¹ä¾¿ ä¹Ÿæ²¡æœ‰winçš„è¿œç¨‹æ¡Œé¢å¥½ç”¨\n","date":"2022-08-02T22:50:23Z","permalink":"https://dev.leiyanhui.com/c/18/","title":"Ubuntu22.04 desktopä»ä½“éªŒåˆ°æ ¼å¼åŒ– å·²ç»æ›´æ¢æ‰"},{"content":"ubuntuä¸‹è™šæ‹Ÿæœºé€‰æ‹©VMwareè¿˜æ˜¯virtuaboxï¼Ÿ å…ˆè¯´ virtuabox å®‰è£…æœ€æ–°çš„macos11-13 æˆ‘æ²¡æå®šï¼Œè™½ç„¶å®˜ç½‘è¯´ æ”¯æŒï¼Œä½†æ˜¯æˆ‘ä¸€ç›´æ²¡æ˜ç™½ è¿isoéƒ½ä¸èƒ½å¯åŠ¨ æ€ä¹ˆç»§ç»­ä¸‹å»ã€‚\nç„¶åæˆ‘ä¸å¾—ä¸å»ç”¨äº†VMware è§£é”åå®‰è£…macos12ï¼Œè¿‡ç¨‹å¾ˆè‰°è¾›ä½†æ˜¯æ€»ç®—æå®šäº†ã€‚ virtuabox çš„linuxç‰ˆæœ¬ å¯¹winçš„æ— ç¼æ¨¡å¼æ”¯æŒã€‚ã€‚ã€‚å¥½åƒåªæœ‰win7 å¯ä»¥ï¼Œå…¶ä»–ç‰ˆæœ¬ win10 win11 æ²¡æ³•ç¨³å®šä½¿ç”¨ VMwareçš„æ— ç¼æ¨¡å¼ ç›´æ¥æ²¡æœ‰æ‰“å¼€ ctrl+shift+u ä¹Ÿæ²¡ç”¨ å…¶å®ï¼Œã€‚ã€‚ã€‚å¦‚æœä¸è·‘macosçš„è¯ è¿˜æ˜¯ qemu ä¸Šæ–‡åˆå†™äº2021å¹´å2022å¹´8æœˆ02æ—¥ æœ€è¿‘å‘ç°å…¶å® qemu å®Œå…¨å¯ä»¥è·‘macos å·²ç»å…¨éƒ¨è¿ç§»åˆ°unraid\n","date":"2022-08-02T22:47:28Z","permalink":"https://dev.leiyanhui.com/c/14/","title":"ubuntuä¸‹è™šæ‹Ÿæœºé€‰æ‹©VMwareè¿˜æ˜¯virtuaboxï¼Ÿ"},{"content":"UNRAIDæ‰“å¼€sslè®¿é—® å’Œ å®å¡”é…åˆè‡ªåŠ¨ç»­ç­¾ç­‰ åœ¨è®¾ç½®é‡Œé¢ httpï¼š//xxxxx /Settings/ManagementAccess è¾“å…¥åŸŸå å¯ç”¨ æ‰“å¼€uç›˜çš„flashæ–‡ä»¶ ä¿®æ”¹ \\MY-UNRAID\\flash\\config\\ssl\\certs æŠŠå®å¡”è¯ä¹¦çš„å†…å®¹ åˆå¹¶åˆ° config/ssl/certs/\u0026lt;ä¸»æœºåç§°\u0026gt;_unraid_bundle.pem åˆ é™¤ config/ssl/certs/certificate_bundle.pem é‡è½½unraidçš„webæœåŠ¡ nginx -s reload åé¢ é…åˆå®å¡”è‡ªåŠ¨ç»­ç­¾ æ–¹æ³• å®å¡”å†…æ·»åŠ ä¸€ä¸ªè„šæœ¬è‡ªåŠ¨cp æ–‡ä»¶å†…å®¹åˆ° å…±äº« å°±å¥½äº† å…·ä½“æ“ä½œ éƒ½æ˜¯åŸºæœ¬æ“ä½œäº† ä¸å†è®°å½•\n","date":"2022-08-02T22:47:28Z","permalink":"https://dev.leiyanhui.com/c/unraid-ssl/","title":"ubuntuä¸‹è™šæ‹Ÿæœºé€‰æ‹©VMwareè¿˜æ˜¯virtuaboxï¼Ÿ"},{"content":"ç›¸å…³ redis å‘½ä»¤ä¸­æ–‡æ‰‹å†Œ https://redis.com.cn/commands.html\nredis hash list set zset çš„å¯¹æ¯”å’Œä½¿ç”¨ https://dev.leiyanhui.com/web/redis-hash-set-list/ golang å¸¸ç”¨æ•°æ®ç±»å‹è½¬æ¢ https://dev.leiyanhui.com/c/golang-string-byte-int-float-map-json/\ngo rediså®¢æˆ·ç«¯æ‰‹å†Œã€æ²¡å•¥å¯çœ‹çš„ã€‘ https://redis.uptrace.dev/zh/guide/\ngoä¸­æ–‡æ‰‹å†Œ è¿˜ä¸é”™ http://c.biancheng.net/golang/intro/\nè‹±æ–‡æ‰‹å†Œ å®ä¾‹ä¸å…¨ï¼Œä½†æ˜¯ç»†èŠ‚éƒ½æœ‰ https://pkg.go.dev/github.com/redis/go-redis/v9@v9.0.2\næœ¬æ–‡ä¸»è¦å†…å®¹è½¬è½½è‡ª https://www.cnblogs.com/itbsl/p/14198111.htm æ„Ÿè°¢ itbslï¼Œå¦å¤–å¢åŠ äº†ä¸€éƒ¨åˆ†å†…å®¹\né¡¹ç›®åˆå§‹åŒ– è¿™é‡Œç”¨redis/go-redis/v9\n1 2 go mod init demo go get github.com/redis/go-redis/v9 è¿æ¥redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/go-redis/redis/v8\u0026#34; ) //Backgroundè¿”å›ä¸€ä¸ªéç©ºçš„Contextã€‚ å®ƒæ°¸è¿œä¸ä¼šè¢«å–æ¶ˆï¼Œæ²¡æœ‰å€¼ï¼Œä¹Ÿæ²¡æœ‰æœŸé™ã€‚ //å®ƒé€šå¸¸åœ¨mainå‡½æ•°ï¼Œåˆå§‹åŒ–å’Œæµ‹è¯•æ—¶ä½¿ç”¨ï¼Œå¹¶ç”¨ä½œä¼ å…¥è¯·æ±‚çš„é¡¶çº§ä¸Šä¸‹æ–‡ã€‚ var ctx = context.Background() func main() { rdb := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;172.16.147.128:6379\u0026#34;, Password: \u0026#34;\u0026#34;, DB: 0, }) pong, err := rdb.Ping(ctx).Result() if err != nil { fmt.Printf(\u0026#34;è¿æ¥rediså‡ºé”™ï¼Œé”™è¯¯ä¿¡æ¯ï¼š%v\u0026#34;, err) } fmt.Println(\u0026#34;æˆåŠŸè¿æ¥redis\u0026#34;) } åŸºæœ¬æŒ‡ä»¤ Keys():æ ¹æ®æ­£åˆ™è·å–keys 1 2 3 //*è¡¨ç¤ºè·å–æ‰€æœ‰çš„key keys, err := rdb.Keys(ctx, \u0026#34;*\u0026#34;).Result() } Rename RenameNX é‡å‘½åkey Redis Renamenx å‘½ä»¤ç”¨äºåœ¨æ–°çš„ key ä¸å­˜åœ¨æ—¶ä¿®æ”¹ key çš„åç§° ã€‚è‹¥ key ä¸å­˜åœ¨è¿”å›é”™è¯¯ã€‚\nRedis RENAME å‘½ä»¤ç”¨äºä¿®æ”¹ key çš„åå­—ä¸º newkey ã€‚è‹¥key ä¸å­˜åœ¨è¿”å›é”™è¯¯ã€‚å¦‚æœnewkeyå­˜åœ¨ å°†ä¼šè¢«è¦†ç›–ã€‚\n1 2 func (c Client) Rename(ctx context.Context, key, newkey string) *StatusCmd func (c Client) RenameNX(ctx context.Context, key, newkey string) *BoolCmd Type():è·å–keyå¯¹åº”å€¼å¾—ç±»å‹ 1 vType, err := rdb.Type(ctx, \u0026#34;key\u0026#34;).Result() del åˆ é™¤key 1 2 n, err := rdb.Del(ctx, \u0026#34;key1\u0026#34;, \u0026#34;key2\u0026#34;).Result() fmt.Printf(\u0026#34;æˆåŠŸåˆ é™¤äº† %v ä¸ª\\n\u0026#34;, n) Exists():æ£€æµ‹ç¼“å­˜é¡¹æ˜¯å¦å­˜åœ¨ æ³¨ï¼šExists()æ–¹æ³•å¯ä»¥ä¼ å…¥å¤šä¸ªkey,è¿”å›çš„ç¬¬ä¸€ä¸ªç»“æœè¡¨ç¤ºå­˜åœ¨çš„keyçš„æ•°é‡,ä¸è¿‡å·¥ä½œä¸­æˆ‘ä»¬ä¸€èˆ¬ä¸åŒæ—¶åˆ¤æ–­å¤šä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼Œä¸€èˆ¬å°±åˆ¤æ–­ä¸€ä¸ªkey,æ‰€ä»¥åˆ¤æ–­æ˜¯å¦å¤§äº0å³å¯ï¼Œå¦‚æœåˆ¤æ–­åˆ¤æ–­ä¼ å…¥çš„å¤šä¸ªkeyæ˜¯å¦éƒ½å­˜åœ¨ï¼Œåˆ™è¿”å›çš„ç»“æœçš„å€¼è¦å’Œä¼ å…¥çš„keyçš„æ•°é‡ç›¸ç­‰\n1 2 3 4 5 6 n, err := rdb.Exists(ctx, \u0026#34;key1\u0026#34;).Result() if n \u0026gt; 0 { fmt.Println(\u0026#34;å­˜åœ¨\u0026#34;) } else { fmt.Println(\u0026#34;ä¸å­˜åœ¨\u0026#34;) } Expire(),ExpireAt():è®¾ç½®æœ‰æ•ˆæœŸ éœ€è¦åœ¨è®¾ç½®å¥½äº†ç¼“å­˜é¡¹åï¼Œå†è®¾ç½®æœ‰æ•ˆæœŸ Expire()æ–¹æ³•æ˜¯è®¾ç½®æŸä¸ªæ—¶é—´æ®µ(time.Duration)åè¿‡æœŸï¼ŒExpireAt()æ–¹æ³•æ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹(time.Time)è¿‡æœŸå¤±æ•ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 res, err := rdb.Expire(ctx, \u0026#34;key\u0026#34;, time.Minute * 2).Result() if res { fmt.Println(\u0026#34;è®¾ç½®æˆåŠŸ\u0026#34;) } else { fmt.Println(\u0026#34;è®¾ç½®å¤±è´¥\u0026#34;) } res, err = rdb.ExpireAt(ctx, \u0026#34;key2\u0026#34;, time.Now()).Result() if res { fmt.Println(\u0026#34;è®¾ç½®æˆåŠŸ\u0026#34;) } else { fmt.Println(\u0026#34;è®¾ç½®å¤±è´¥\u0026#34;) } TTL(),PTTL():è·å–æœ‰æ•ˆæœŸ 1 2 3 4 5 6 7 8 //è®¾ç½®ä¸€åˆ†é’Ÿçš„æœ‰æ•ˆæœŸ rdb.Expire(ctx, \u0026#34;key\u0026#34;, time.Minute) //è·å–å‰©ä½™æœ‰æ•ˆæœŸ,å•ä½:ç§’(s) ttl, err := rdb.TTL(ctx, \u0026#34;key\u0026#34;).Result() fmt.Println(ttl) //è·å–å‰©ä½™æœ‰æ•ˆæœŸ,å•ä½:æ¯«ç§’(ms) pttl, err := rdb.PTTL(ctx, \u0026#34;key\u0026#34;).Result() fmt.Println(pttl) DBSize():æŸ¥çœ‹å½“å‰æ•°æ®åº“keyçš„æ•°é‡ 1 2 num, err := rdb.DBSize(ctx).Result() fmt.Printf(\u0026#34;æ•°æ®åº“æœ‰ %v ä¸ªç¼“å­˜é¡¹\\n\u0026#34;, num) FlushDB():æ¸…ç©ºå½“å‰æ•°æ® 1 2 3 //æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼Œå› ä¸ºè¿æ¥çš„æ˜¯ç´¢å¼•ä¸º0çš„æ•°æ®åº“ï¼Œæ‰€ä»¥æ¸…ç©ºçš„å°±æ˜¯0å·æ•°æ®åº“ res, err := rdb.FlushDB(ctx).Result() fmt.Println(res)//OK FlushAll():æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ 1 2 res, err := rdb.FlushAll(ctx).Result() fmt.Println(res)//OK å­—ç¬¦ä¸²(string)ç±»å‹ Set():è®¾ç½® ä»…ä»…æ”¯æŒå­—ç¬¦ä¸²(åŒ…å«æ•°å­—)æ“ä½œï¼Œä¸æ”¯æŒå†…ç½®æ•°æ®ç¼–ç åŠŸèƒ½ã€‚å¦‚æœéœ€è¦å­˜å‚¨Goçš„éå­—ç¬¦ä¸²ç±»å‹ï¼Œéœ€è¦æå‰æ‰‹åŠ¨åºåˆ—åŒ–ï¼Œè·å–æ—¶å†ååºåˆ—åŒ–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 _, err := rdb.Ping(ctx).Result() //fmt.Println(pong, err) if err != nil { fmt.Printf(\u0026#34;è¿æ¥rediså‡ºé”™ï¼Œé”™è¯¯ä¿¡æ¯ï¼š%v\u0026#34;, err) return } //Setæ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¿‡æœŸæ—¶é—´ï¼Œ0è¡¨ç¤ºæ°¸ä¸è¿‡æœŸ err = rdb.Set(ctx, \u0026#34;key1\u0026#34;, \u0026#34;value1\u0026#34;, 0).Err() if err != nil { panic(err) } //key2å°†ä¼šåœ¨ä¸¤åˆ†é’Ÿåè¿‡æœŸå¤±æ•ˆ err = rdb.Set(ctx, \u0026#34;key2\u0026#34;, \u0026#34;value2\u0026#34;, time.Minute * 2).Err() if err != nil { panic(err) } SetEX():è®¾ç½®å¹¶æŒ‡å®šè¿‡æœŸæ—¶é—´ è®¾ç½®é”®çš„åŒæ—¶ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´\n1 2 3 4 err := rdb.SetEX(ctx, \u0026#34;key\u0026#34;, \u0026#34;value\u0026#34;, time.Hour * 2).Err() if err != nil { panic(err) } SetNX():è®¾ç½®å¹¶æŒ‡å®šè¿‡æœŸæ—¶é—´ æ³¨ï¼šSetNX()ä¸SetEX()çš„åŒºåˆ«æ˜¯ï¼ŒSexNX()ä»…å½“keyä¸å­˜åœ¨çš„æ—¶å€™æ‰è®¾ç½®ï¼Œå¦‚æœkeyå·²ç»å­˜åœ¨åˆ™ä¸åšä»»ä½•æ“ä½œï¼Œè€ŒSetEX()æ–¹æ³•ä¸ç®¡è¯¥keyæ˜¯å¦å·²ç»å­˜åœ¨ç¼“å­˜ä¸­ç›´æ¥è¦†ç›–\nä»‹ç»äº†SetNX()ä¸SetEX()çš„åŒºåˆ«åï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“æˆ‘ä»¬è°ƒç”¨SetNX()æ˜¯å¦è®¾ç½®æˆåŠŸäº†ï¼Œå¯ä»¥æ¥ç€è°ƒç”¨Result()æ–¹æ³•ï¼Œè¿”å›çš„ç¬¬ä¸€ä¸ªå€¼è¡¨ç¤ºæ˜¯å¦è®¾ç½®æˆåŠŸäº†ï¼Œå¦‚æœè¿”å›false,è¯´æ˜ç¼“å­˜Keyå·²ç»å­˜åœ¨ï¼Œæ­¤æ¬¡æ“ä½œè™½ç„¶æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯æ˜¯æ²¡æœ‰èµ·ä»»ä½•æ•ˆæœçš„ã€‚å¦‚æœè¿”å›trueï¼Œè¡¨ç¤ºåœ¨æ­¤ä¹‹å‰keyæ˜¯ä¸å­˜åœ¨ç¼“å­˜ä¸­çš„ï¼Œæ“ä½œæ˜¯æˆåŠŸçš„\n1 2 3 4 5 6 res, err := rdb.SetNX(ctx, \u0026#34;key\u0026#34;, \u0026#34;value\u0026#34;, time.Minute).Result() if res { fmt.Println(\u0026#34;è®¾ç½®æˆåŠŸ\u0026#34;) } else { fmt.Printf(\u0026#34;keyå·²ç»å­˜åœ¨ç¼“å­˜ä¸­ï¼Œè®¾ç½®å¤±è´¥\u0026#34;) } get å¦‚æœè¦è·å–çš„keyåœ¨ç¼“å­˜ä¸­å¹¶ä¸å­˜åœ¨ï¼ŒGet()æ–¹æ³•å°†ä¼šè¿”å›redis.Nil\n1 2 3 4 5 6 7 8 9 10 11 err := rdb.Set(ctx, \u0026#34;key\u0026#34;, \u0026#34;value\u0026#34;, 0).Err() val, err := rdb.Get(ctx, \u0026#34;key\u0026#34;).Result() fmt.Printf(\u0026#34;key: %v\\n\u0026#34;, val) val2, err := rdb.Get(ctx, \u0026#34;key-not-exist\u0026#34;).Result() if err == redis.Nil { fmt.Println(\u0026#34;keyä¸å­˜åœ¨\u0026#34;) } else if err != nil { panic(err) } else { fmt.Printf(\u0026#34;å€¼ä¸º: %v\\n\u0026#34;, val2) } GetRange():å­—ç¬¦ä¸²æˆªå– GetRange()æ–¹æ³•å¯ä»¥ç”¨æ¥æˆªå–å­—ç¬¦ä¸²çš„éƒ¨åˆ†å†…å®¹,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸‹æ ‡ç´¢å¼•çš„å¼€å§‹ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸‹æ ‡ç´¢å¼•çš„ç»“æŸä½ç½®(ä¸æ˜¯è¦æˆªå–çš„é•¿åº¦) æ³¨ï¼šå³ä½¿keyä¸å­˜åœ¨ï¼Œè°ƒç”¨GetRange()ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œåªæ˜¯è¿”å›çš„æˆªå–ç»“æœæ˜¯ç©º\u0026quot;\u0026quot;,å¯ä»¥ä½¿ç”¨fmt.Printf(\u0026quot;%q\\n\u0026quot;, val)æ¥æ‰“å°æµ‹è¯•\n1 2 3 4 5 6 err := rdb.Set(ctx, \u0026#34;key\u0026#34;, \u0026#34;Hello World!\u0026#34;, 0).Err() if err != nil { panic(err) } val, err := rdb.GetRange(ctx, \u0026#34;key\u0026#34;, 1, 4).Result() fmt.Printf(\u0026#34;key: %v\\n\u0026#34;, val) //æˆªå–åˆ°çš„å†…å®¹ä¸º: ello Incr():å¢åŠ +1 Incr()ã€IncrBy()éƒ½æ˜¯æ“ä½œæ•°å­—ï¼Œå¯¹æ•°å­—è¿›è¡Œå¢åŠ çš„æ“ä½œï¼Œincræ˜¯æ‰§è¡ŒåŸå­åŠ 1æ“ä½œï¼ŒincrByæ˜¯å¢åŠ æŒ‡å®šçš„æ•°\næ‰€è°“åŸå­æ“ä½œæ˜¯æŒ‡ä¸ä¼šè¢«çº¿ç¨‹è°ƒåº¦æœºåˆ¶æ‰“æ–­çš„æ“ä½œï¼šè¿™ç§æ“ä½œä¸€æ—¦å¼€å§‹ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°ç»“æŸï¼Œä¸­é—´ä¸ä¼šæœ‰ä»»ä½•context witch(åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹).\n(1)åœ¨å•çº¿ç¨‹ä¸­ï¼Œèƒ½å¤Ÿåœ¨å•æ¡æŒ‡ä»¤ä¸­å®Œæˆçš„æ“ä½œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯â€œåŸå­æ“ä½œâ€ï¼Œå› ä¸ºä¸­æ–­åªèƒ½å‘ç”ŸäºæŒ‡ä»¤ä¹‹é—´ã€‚\n(2)åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œä¸èƒ½è¢«å…¶å®ƒè¿›ç¨‹(çº¿ç¨‹)æ‰“ç®—çš„æ“ä½œå«åŸå­æ“ä½œã€‚\nRediså•å‘½ä»¤çš„åŸå­æ€§ä¸»è¦å¾—ç›ŠäºRedisçš„å•çº¿ç¨‹\n1 2 val, err := rdb.Incr(ctx, \u0026#34;number\u0026#34;).Result() fmt.Printf(\u0026#34;keyå½“å‰çš„å€¼ä¸º: %v\\n\u0026#34;, val) IncrBy():æŒ‰æŒ‡å®šæ­¥é•¿å¢åŠ  1 2 val, err := rdb.IncrBy(ctx, \u0026#34;number\u0026#34;, 12).Result() fmt.Printf(\u0026#34;keyå½“å‰çš„å€¼ä¸º: %v\\n\u0026#34;, val) Decr():å‡å°‘-1 Decr()å’ŒDecrBy()æ–¹æ³•æ˜¯å¯¹æ•°å­—è¿›è¡Œå‡çš„æ“ä½œï¼Œå’ŒIncræ­£å¥½ç›¸å\n1 2 val, err := rdb.Decr(ctx, \u0026#34;number\u0026#34;).Result() fmt.Printf(\u0026#34;keyå½“å‰çš„å€¼ä¸º: %v\\n\u0026#34;, val) DecrBy():æŒ‰æŒ‡å®šæ­¥é•¿å‡å°‘ 1 2 val, err := rdb.DecrBy(ctx, \u0026#34;number\u0026#34;, 12).Result() fmt.Printf(\u0026#34;keyå½“å‰çš„å€¼ä¸º: %v\\n\u0026#34;, val) Append():è¿½åŠ  Append()è¡¨ç¤ºå¾€å­—ç¬¦ä¸²åé¢è¿½åŠ å…ƒç´ ï¼Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸²çš„æ€»é•¿åº¦\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 err := rdb.Set(ctx, \u0026#34;key\u0026#34;, \u0026#34;hello\u0026#34;, 0).Err() if err != nil { panic(err) } length, err := rdb.Append(ctx, \u0026#34;key\u0026#34;, \u0026#34; world!\u0026#34;).Result() if err != nil { panic(err) } fmt.Printf(\u0026#34;å½“å‰ç¼“å­˜keyçš„é•¿åº¦ä¸º: %v\\n\u0026#34;, length) //12 val, err := rdb.Get(ctx, \u0026#34;key\u0026#34;).Result() if err != nil { panic(err) } fmt.Printf(\u0026#34;å½“å‰ç¼“å­˜keyçš„å€¼ä¸º: %v\\n\u0026#34;, val) //hello world! StrLen():è·å–é•¿åº¦ StrLen()æ–¹æ³•å¯ä»¥è·å–å­—ç¬¦ä¸²çš„é•¿åº¦\n1 2 3 4 5 6 7 8 9 err := rdb.Set(ctx, \u0026#34;key\u0026#34;, \u0026#34;hello world!\u0026#34;, 0).Err() if err != nil { panic(err) } length, err := rdb.StrLen(ctx, \u0026#34;key\u0026#34;).Result() if err != nil { panic(err) } fmt.Printf(\u0026#34;å½“å‰ç¼“å­˜keyçš„é•¿åº¦ä¸º: %v\\n\u0026#34;, length) //12 æ›´å¤š å¦‚ä¸Šæ‰€è¿°éƒ½æ˜¯å¸¸ç”¨çš„å­—ç¬¦ä¸²æ“ä½œï¼Œæ­¤å¤–ï¼Œå­—ç¬¦ä¸²(string)ç±»å‹è¿˜æœ‰MGet()ã€Mset()ã€MSetNX()ç­‰åŒæ—¶æ“ä½œå¤šä¸ªkeyçš„æ–¹æ³•ï¼Œè¯¦è§ï¼šhttps://pkg.go.dev/github.com/go-redis/redis/v9\nåˆ—è¡¨(list)ç±»å‹ LPush():å°†å…ƒç´ å‹å…¥é“¾è¡¨ å¯ä»¥ä½¿ç”¨LPush()æ–¹æ³•å°†æ•°æ®ä»å·¦ä¾§å‹å…¥é“¾è¡¨,ä¹Ÿå¯ä»¥ä»å³ä¾§å‹å¦‚é“¾è¡¨ï¼Œå¯¹åº”çš„æ–¹æ³•æ˜¯RPush()\n1 2 3 4 5 6 //è¿”å›å€¼æ˜¯å½“å‰åˆ—è¡¨å…ƒç´ çš„æ•°é‡ n, err := rdb.LPush(ctx, \u0026#34;list\u0026#34;, 1, 2, 3).Result() if err != nil { panic(err) } fmt.Println(n) LInsert():åœ¨æŸä¸ªä½ç½®æ’å…¥æ–°å…ƒç´  ä½ç½®çš„åˆ¤æ–­ï¼Œæ˜¯æ ¹æ®ç›¸å¯¹çš„å‚è€ƒå…ƒç´ åˆ¤æ–­.\næ³¨ï¼šå³ä½¿keyåˆ—è¡¨é‡Œæœ‰å¤šä¸ªå€¼ä¸º100çš„å…ƒç´ ï¼Œä¹Ÿåªä¼šåœ¨ç¬¬ä¸€ä¸ªå€¼ä¸º100çš„å…ƒç´ å‰é¢æ’å…¥123ï¼Œå¹¶ä¸ä¼šåœ¨æ‰€æœ‰å€¼ä¸º100çš„å‰é¢æ’å…¥123,å®¢æˆ·ç«¯è¿˜æä¾›äº†ä»å‰é¢æ’å…¥å’Œä»åé¢æ’å…¥çš„LInsertBefore()å’ŒLInsertAfer()æ–¹æ³•\n1 2 3 4 5 //åœ¨åä¸ºkeyçš„ç¼“å­˜é¡¹å€¼ä¸º100çš„å…ƒç´ å‰é¢æ’å…¥ä¸€ä¸ªå€¼ï¼Œå€¼ä¸º123 err := rdb.LInsert(ctx, \u0026#34;key\u0026#34;, \u0026#34;before\u0026#34;, \u0026#34;100\u0026#34;, 123).Err() if err != nil { panic(err) } LSet():è®¾ç½®æŸä¸ªå…ƒç´ çš„å€¼ 1 2 //ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ err := rdb.LSet(ctx, \u0026#34;list\u0026#34;, 1, 100).Err() LLen():è·å–é“¾è¡¨å…ƒç´ ä¸ªæ•° 1 2 length, err := rdb.LLen(ctx, \u0026#34;list\u0026#34;).Result() fmt.Printf(\u0026#34;å½“å‰é“¾è¡¨çš„é•¿åº¦ä¸º: %v\\n\u0026#34;, length) LIndex():è·å–é“¾è¡¨ä¸‹æ ‡å¯¹åº”çš„å…ƒç´  1 2 val, err := rdb.LIndex(ctx, \u0026#34;list\u0026#34;, 0).Result() fmt.Printf(\u0026#34;ä¸‹æ ‡ä¸º0çš„å€¼ä¸º: %v\\n\u0026#34;, val) LRange():è·å–æŸä¸ªé€‰å®šèŒƒå›´çš„å…ƒç´ é›† 1 2 vals, err := rdb.LRange(ctx, \u0026#34;list\u0026#34;, 0, 2).Result() fmt.Printf(\u0026#34;ä»ä¸‹æ ‡0åˆ°ä¸‹æ ‡2çš„å€¼: %v\\n\u0026#34;, vals) LPopä»é“¾è¡¨å·¦ä¾§å¼¹å‡ºæ•°æ® 1 2 val, err := rdb.LPop(ctx, \u0026#34;list\u0026#34;).Result() fmt.Printf(\u0026#34;ç§»é™¤çš„å…ƒç´ ä¸º: %v\\n\u0026#34;, val) LRem():æ ¹æ®å€¼ç§»é™¤å…ƒç´  1 2 n, err := rdb.LRem(ctx, \u0026#34;list\u0026#34;, 2, \u0026#34;100\u0026#34;).Result() fmt.Printf(\u0026#34;ç§»é™¤äº†: %v ä¸ª\\n\u0026#34;, n) é›†åˆ(set)ç±»å‹ Redis setå¯¹å¤–æä¾›çš„åŠŸèƒ½ä¸listç±»ä¼¼æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åŠŸèƒ½ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºsetæ˜¯å¯ä»¥è‡ªåŠ¨æ’é‡çš„ï¼Œå½“ä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªåˆ—è¡¨æ•°æ®ï¼Œåˆä¸å¸Œæœ›å‡ºç°é‡å¤æ•°æ®ï¼Œsetæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå¹¶ä¸”setæä¾›äº†åˆ¤æ–­æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ªseté›†åˆå†…çš„æ¥å£ï¼Œè¿™æ˜¯ä¹Ÿæ˜¯listæ‰€ä¸èƒ½æä¾›äº†ã€‚\nRedisçš„Setæ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚å®ƒåº•å±‚å…¶å®æ˜¯ä¸€ä¸ªvalueä¸ºnullçš„hashè¡¨ï¼Œæ‰€ä»¥æ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚\né›†åˆæ•°æ®çš„ç‰¹å¾ï¼š\nå…ƒç´ ä¸èƒ½é‡å¤ï¼Œä¿æŒå”¯ä¸€æ€§\nå…ƒç´ æ— åºï¼Œä¸èƒ½ä½¿ç”¨ç´¢å¼•(ä¸‹æ ‡)æ“ä½œ\næ›´å¤šå†…å®¹å‚è€ƒ redis hash list set zset çš„å¯¹æ¯”å’Œä½¿ç”¨ https://dev.leiyanhui.com/web/redis-hash-set-list/\nSAdd():æ·»åŠ å…ƒç´  1 2 3 rdb.SAdd(ctx, \u0026#34;team\u0026#34;, \u0026#34;kobe\u0026#34;, \u0026#34;jordan\u0026#34;) rdb.SAdd(ctx, \u0026#34;team\u0026#34;, \u0026#34;curry\u0026#34;) rdb.SAdd(ctx, \u0026#34;team\u0026#34;, \u0026#34;kobe\u0026#34;) //ç”±äºkobeå·²ç»è¢«æ·»åŠ åˆ°teamé›†åˆä¸­ï¼Œæ‰€ä»¥é‡å¤æ·»åŠ æ—¶æ— æ•ˆçš„ SPop():éšæœºè·å–ä¸€ä¸ªå…ƒç´  SPop()æ–¹æ³•æ˜¯ä»é›†åˆä¸­éšæœºå–å‡ºå…ƒç´ çš„ï¼Œå¦‚æœæƒ³ä¸€æ¬¡è·å–å¤šä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨SPopN()æ–¹æ³•\n1 2 val, err := rdb.SPop(ctx, \u0026#34;team\u0026#34;).Result() fmt.Println(val) SRem():åˆ é™¤é›†åˆé‡ŒæŒ‡å®šçš„å€¼ 1 2 n, err := rdb.SRem(ctx, \u0026#34;team\u0026#34;, \u0026#34;kobe\u0026#34;, \u0026#34;v2\u0026#34;).Result() fmt.Println(n) SSMembers():è·å–æ‰€æœ‰æˆå‘˜ 1 2 vals, err := rdb.SMembers(ctx, \u0026#34;team\u0026#34;).Result() fmt.Println(vals) SIsMember():åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ 1 2 3 4 5 6 exists, err := rdb.SIsMember(ctx, \u0026#34;team\u0026#34;, \u0026#34;jordan\u0026#34;).Result() if exists { fmt.Println(\u0026#34;å­˜åœ¨é›†åˆä¸­\u0026#34;) } else { fmt.Println(\u0026#34;ä¸å­˜åœ¨é›†åˆä¸­\u0026#34;) } SCard():è·å–é›†åˆå…ƒç´ ä¸ªæ•° 1 2 total, err := rdb.SCard(ctx, \u0026#34;team\u0026#34;).Result() fmt.Printf(\u0026#34;é›†åˆæ€»å…±æœ‰ %v ä¸ªå…ƒç´ \\n\u0026#34;, total) SUnion():å¹¶é›†,SDiff():å·®é›†,SInter():äº¤é›† 1 2 3 4 5 6 7 8 9 10 11 12 rdb.SAdd(ctx, \u0026#34;setA\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;) rdb.SAdd(ctx, \u0026#34;setB\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;f\u0026#34;) //å¹¶é›† union, err := rdb.SUnion(ctx, \u0026#34;setA\u0026#34;, \u0026#34;setB\u0026#34;).Result() fmt.Println(union) //å·®é›† diff, err := rdb.SDiff(ctx, \u0026#34;setA\u0026#34;, \u0026#34;setB\u0026#34;).Result() fmt.Println(diff) //äº¤é›† inter, err := rdb.SInter(ctx, \u0026#34;setA\u0026#34;, \u0026#34;setB\u0026#34;).Result() fmt.Println(inter) æœ‰åºé›†åˆ(zset)ç±»å‹ Redis æœ‰åºé›†åˆå’Œé›†åˆä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚\nä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚\næœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚ é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚ é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1 (4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚\nZAdd():æ·»åŠ å…ƒç´  æ·»åŠ 6ä¸ªå…ƒç´ 1~6,åˆ†å€¼éƒ½æ˜¯0\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 1, }) rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 2, }) rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 3, }) rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 4, }) rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 5, }) rdb.ZAdd(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.Z{ Score: 0, Member: 6, }) ZIncrBy():å¢åŠ å…ƒç´ åˆ†å€¼ åˆ†å€¼å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºé€’å‡\n1 2 3 4 5 6 rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;1\u0026#34;) rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;2\u0026#34;) rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;3\u0026#34;) rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;4\u0026#34;) rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;5\u0026#34;) rdb.ZIncrBy(ctx, \u0026#34;zSet\u0026#34;, float64(rand.Intn(100)), \u0026#34;6\u0026#34;) ZRange()ã€ZRevRange():è·å–æ ¹æ®scoreæ’åºåçš„æ•°æ®æ®µ æ ¹æ®åˆ†å€¼æ’åºåçš„ï¼Œå‡åºå’Œé™åºçš„åˆ—è¡¨è·å–\n1 2 3 //è·å–æ’è¡Œæ¦œ //è·å–åˆ†å€¼(ç‚¹å‡»ç‡)å‰ä¸‰çš„æ–‡ç« IDåˆ—è¡¨ res, err := rdb.ZRevRange(ctx, \u0026#34;zSet\u0026#34;, 0, 2).Result() ZRangeByScore()ã€ZRevRangeByScore():è·å–scoreè¿‡æ»¤åæ’åºçš„æ•°æ®æ®µ æ ¹æ®åˆ†å€¼è¿‡æ»¤ä¹‹åçš„åˆ—è¡¨,éœ€è¦æä¾›åˆ†å€¼åŒºé—´\n1 2 3 4 res, err := rdb.ZRangeByScore(ctx, \u0026#34;zSet\u0026#34;, \u0026amp;redis.ZRangeBy{ Min: \u0026#34;40\u0026#34;, Max: \u0026#34;85\u0026#34;, }).Result() ZCard():è·å–å…ƒç´ ä¸ªæ•° 1 count, err := rdb.ZCard(ctx, \u0026#34;zSet\u0026#34;).Result() ZCount():è·å–åŒºé—´å†…å…ƒç´ ä¸ªæ•° è·å–åˆ†å€¼åœ¨[40, 85]çš„å…ƒç´ çš„æ•°é‡\n1 n, err := rdb.ZCount(ctx, \u0026#34;zSet\u0026#34;, \u0026#34;40\u0026#34;, \u0026#34;85\u0026#34;).Result() ZScore():è·å–å…ƒç´ çš„score 1 score, err := rdb.ZScore(ctx, \u0026#34;zSet\u0026#34;, \u0026#34;5\u0026#34;).Result() ZRank()ã€ZRevRank():è·å–æŸä¸ªå…ƒç´ åœ¨é›†åˆä¸­çš„æ’å ZRank()æ–¹æ³•æ˜¯è¿”å›å…ƒç´ åœ¨é›†åˆä¸­çš„å‡åºæ’åæƒ…å†µï¼Œä»0å¼€å§‹ã€‚ZRevRank()æ­£å¥½ç›¸å\n1 res, err := rdb.ZRevRank(ctx, \u0026#34;zSet\u0026#34;, \u0026#34;2\u0026#34;).Result() ZRem():åˆ é™¤å…ƒç´  1 res, err := rdb.ZRem(ctx, \u0026#34;zSet\u0026#34;, \u0026#34;2\u0026#34;).Result() ZRemRangeByRank():æ ¹æ®æ’åæ¥åˆ é™¤ 1 2 //æŒ‰ç…§å‡åºæ’åºåˆ é™¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå…ƒç´  res, err := rdb.ZRemRangeByRank(ctx, \u0026#34;zSet\u0026#34;, 0, 1).Result() ZRemRangeByScore():æ ¹æ®åˆ†å€¼åŒºé—´æ¥åˆ é™¤ 1 2 //åˆ é™¤scoreåœ¨[40, 70]ä¹‹é—´çš„å…ƒç´  res, err := rdb.ZRemRangeByScore(ctx, \u0026#34;zSet\u0026#34;, \u0026#34;40\u0026#34;, \u0026#34;70\u0026#34;).Result() å“ˆå¸Œ(hash)ç±»å‹ Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ fieldï¼ˆå­—æ®µï¼‰ å’Œ valueï¼ˆå€¼ï¼‰ çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚\nRedis ä¸­æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 - 1 é”®å€¼å¯¹ï¼ˆ40å¤šäº¿ï¼‰ã€‚\nå½“å‰æœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯å°†ç”¨æˆ·ç™»å½•ä¿¡æ¯ä¿å­˜åˆ°Redisä¸­ï¼Œè¿™é‡Œå­˜å‚¨ç”¨æˆ·ç™»å½•ä¿¡æ¯å°±æ¯”è¾ƒé€‚åˆç”¨hashè¡¨ã€‚hashè¡¨æ¯”stringæ›´åˆé€‚ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨stringç±»å‹æ¥å­˜å‚¨ç”¨æˆ·çš„ä¿¡æ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯æ¬¡å­˜å‚¨çš„æ—¶å€™å°±å¾—å…ˆåºåˆ—åŒ–(json_encode()ã€serialize())æˆå­—ç¬¦ä¸²æ‰èƒ½å­˜å‚¨redis,\nä»redisæ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ååˆå¾—ååºåˆ—åŒ–(UnMarshal()ã€Marshal())æˆæ•°ç»„æˆ–å¯¹è±¡ï¼Œè¿™æ ·å¼€é”€æ¯”è¾ƒå¤§ã€‚å¦‚æœä½¿ç”¨hashçš„è¯æˆ‘ä»¬é€šè¿‡key(ç”¨æˆ·ID)+field(å±æ€§æ ‡ç­¾)å°±å¯ä»¥æ“ä½œå¯¹åº”å±æ€§æ•°æ®äº†ï¼Œæ—¢ä¸éœ€è¦é‡å¤å­˜å‚¨æ•°æ®ï¼Œä¹Ÿä¸ä¼šå¸¦æ¥åºåˆ—åŒ–å’Œå¹¶å‘ä¿®æ”¹æ§åˆ¶çš„é—®é¢˜ã€‚\nHSet():è®¾ç½® 1 2 3 rdb.HSet(ctx, \u0026#34;user\u0026#34;, \u0026#34;key1\u0026#34;, \u0026#34;value1\u0026#34;, \u0026#34;key2\u0026#34;, \u0026#34;value2\u0026#34;) rdb.HSet(ctx, \u0026#34;user\u0026#34;, []string{\u0026#34;key3\u0026#34;, \u0026#34;value3\u0026#34;, \u0026#34;key4\u0026#34;, \u0026#34;value4\u0026#34;}) rdb.HSet(ctx, \u0026#34;user\u0026#34;, map[string]interface{}{\u0026#34;key5\u0026#34;: \u0026#34;value5\u0026#34;, \u0026#34;key6\u0026#34;: \u0026#34;value6\u0026#34;}) HMset():æ‰¹é‡è®¾ç½® 1 2 rdb.Del(ctx, \u0026#34;user\u0026#34;) rdb.HMSet(ctx, \u0026#34;user\u0026#34;, map[string]interface{}{\u0026#34;name\u0026#34;:\u0026#34;kevin\u0026#34;, \u0026#34;age\u0026#34;: 27, \u0026#34;address\u0026#34;:\u0026#34;åŒ—äº¬\u0026#34;}) HGet():è·å–æŸä¸ªå…ƒç´  1 address, err := rdb.HGet(ctx, \u0026#34;user\u0026#34;, \u0026#34;address\u0026#34;).Result() HGetAll():è·å–å…¨éƒ¨å…ƒç´  1 user, err := rdb.HGetAll(ctx, \u0026#34;user\u0026#34;).Result() HDel():åˆ é™¤æŸä¸ªå…ƒç´  HDel():åˆ é™¤æŸä¸ªå…ƒç´ \n1 res, err := rdb.HDel(ctx, \u0026#34;user\u0026#34;, \u0026#34;name\u0026#34;, \u0026#34;age\u0026#34;).Result() HExists():åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ 1 res, err := rdb.HExists(ctx, \u0026#34;user\u0026#34;, \u0026#34;address\u0026#34;).Result() HLen():è·å–é•¿åº¦ 1 2 res, err := rdb.HLen(ctx, \u0026#34;user\u0026#34;).Result() ```æœ¬æ–‡è½¬è‡ªï¼šhttps://www.cnblogs.com/itbsl/p/14198111.html ","date":"2022-03-24T08:14:20+08:00","permalink":"https://dev.leiyanhui.com/golang/redis/","title":"golang æ“ä½œrediså¤§å…¨"},{"content":"rustdesk æ˜¯ä¸€ä¸ªå…è´¹å¼€æºçš„è¿œç¨‹æ¡Œé¢æ§åˆ¶è½¯ä»¶ã€‚ä½†æ˜¯å®˜æ–¹é»˜è®¤æä¾›çš„ä¸­è½¬æœåŠ¡å™¨é€Ÿåº¦è¾ƒæ…¢ã€‚\nå¦‚æœä½ æœ‰å…¬ç½‘ipå¯ä»¥è‡ªå·±æ­å»ºä¸€ä¸ªä¸­è½¬æœåŠ¡å™¨ã€‚\nä»¥ä¸‹åŸºäºopenwrt x86_64 ï¼Œä½¿ç”¨dockerå®‰è£…,rootç™»å½•openwrt shell æ‰§è¡Œä¸‹é¢å‘½ä»¤\nå®‰è£…å’Œå¯åŠ¨ æˆ‘è¿™é‡Œç¦æ­¢äº†æ²¡æœ‰keyçš„ç”¨æˆ·é“¾æ¥ï¼Œé˜²æ­¢è¢«æ»¥ç”¨ å°±æ˜¯hbbråŠ å‚æ•° -k _ã€‚\n1 2 3 4 5 6 7 8 9 10 docker image pull rustdesk/rustdesk-server rm -rf /v/rustdesk docker stop hbbs \u0026amp;\u0026amp; docker rm hbbs \u0026amp;\u0026amp; docker stop hbbr \u0026amp;\u0026amp; docker rm hbbr docker run -itd --restart=always --name=hbbs --hostname hbbs \\ --net=host \\ -v /v/rustdesk:/root rustdesk/rustdesk-server hbbs -r å¤–ç½‘IPæˆ–è€…DDNSåŸŸå -k docker run -itd --restart=always --name=hbbr --hostname hbbr \\ --net=host \\ -v /v/rustdesk:/root rustdesk/rustdesk-server hbbr -k _ å®˜æ–¹æ–‡æ¡£æ²¡è¯´æ˜\né˜²ç«å¢™ ç„¶åéœ€è¦åœ¨openwrtä¸‹é˜²ç«å¢™å¼€æ”¾å¯¹åº”çš„ç«¯å£ã€‚ æˆ‘è¿™é‡Œæ˜¯ç”¨çš„Socat,æ·»åŠ å¯¹åº”çš„ 21115-21119 ç«¯å£åˆ°è·¯ç”±å™¨è‡ªå·±å³å¯\nå®¢æˆ·ç«¯é“¾æ¥ å®¢æˆ·ç«¯åªéœ€è¦ä¿®æ”¹ idæœåŠ¡å™¨åœ°å€ï¼Œç„¶åè¾“å…¥keyå³å¯ã€‚ éœ€è¦ æ§åˆ¶ç«¯ å’Œè¢«æ§ç«¯ éƒ½è¦æ·»åŠ ï¼\næœ‰å¿æä¾›ä¸Šè¡Œ500Mçš„å›½å†…ä¸­è½¬ï¼Œæ”¯æŒipv6 ï¼ŒåŠ å¯†é“¾æ¥ï¼Œæ”¯æŒ2k 60å¸§ã€‚35å…ƒä¸€å¹´ï¼Œè”ç³» joyanhui@qq.com\næŸ¥çœ‹key 1 cat /root/id_ed25519.pub é‡ç½®key ä»¥åŠåˆ é™¤ ä¸­è½¬æœåŠ¡ 1 2 rm -rf /v/rustdesk docker stop hbbs \u0026amp;\u0026amp; docker rm hbbs \u0026amp;\u0026amp; docker stop hbbr \u0026amp;\u0026amp; docker rm hbbr åˆ é™¤åé‡æ–°åˆ›å»º å³å¯\næ›´æ–° 1 2 3 4 5 docker stop hbbs docker stop hbbr docker pull rustdesk/rustdesk-server docker start hbbs docker start hbbr ","date":"2022-01-27T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/rustdesk/","title":"openwrtä¸Šæ­å»ºrustdeskä¸­è½¬æœåŠ¡å™¨"},{"content":"éœ€æ±‚ å¤‡ä»½ ä¹¦ç­¾ å¯†ç ï¼Œä¸€äº›è„šæœ¬ é…ç½®æ–‡ä»¶ç­‰ã€‚æ”¯æŒwebdav sftp smb ç­‰ï¼Œæ”¯æŒæ‰‹æœºç…§ç‰‡è§†é¢‘å¤‡ä»½ã€‚è¿˜æœ‰åœ¨çº¿ç¼–è¾‘mdæ–‡ä»¶ shæ–‡ä»¶ç­‰ã€‚\nä¸ºä»€ä¹ˆè¦æ­å»ºç§æœ‰ç½‘ç›˜ ç©·ï¼Œä½†æ˜¯æœ‰å…¬ç½‘å®½å¸¦ï¼Œä»¥åŠæœ¬èº«å°±æœ‰ä¸€ä¸ª24å°æ—¶çš„å¼€æœºçš„pc server å›½å†…ç½‘ç›˜å®¡æŸ¥å¤ªä¸¥ï¼Œlspéƒ½æ‡‚ å›½å†…ç½‘ç›˜åŠŸèƒ½é˜‰å‰²å¤ªç¦»è°±ï¼Œæ¯”å¦‚ webdav sftpç­‰åè®®éƒ½ä¸è¦æƒ³äº†ã€‚ å”¯ä¸€ä¸€ä¸ªæ”¯æŒwebdavçš„ç½‘ç›˜ å¾ˆå‘ è‡ªä¸»å¯æ§ï¼Œéƒ¨åˆ†æ–‡ä»¶å¯ä»¥æ¨é€åˆ°githubå¤‡ä»½ä¸€æ¬¡ ç§æœ‰ç½‘ç›˜é€‚åˆå‚¨å­˜ä»€ä¹ˆä¸œè¥¿ ç§å¯†æ–‡ä»¶ï¼ˆä¸æ˜¯è¯´çš„è‡ªæ‹è§†é¢‘ï¼‰ï¼Œè¿˜æœ‰ä¸€äº› ä¸€äº›è„šæœ¬ï¼Œä»£ç  ç­‰ã€‚\nlspåº”è¯¥é€‰ä»€ä¹ˆç½‘ç›˜ è‡ªå»ºnaså¯èƒ½æ˜¯æœ€é€‚åˆçš„ï¼Œæ²¡æ¡ä»¶çš„å¯ä»¥é€‰æ‹© 115 pikpakï¼Œè€Œä¸æ˜¯æˆ‘è¿™ä¸ªæ–¹æ¡ˆ\nç§æœ‰ç½‘ç›˜çš„é€‰æ‹© é€‰æ‹©ç”¨æˆ·ç¾¤ç›¸å¯¹è¾ƒå¤šçš„ nextcloud\nç…§ç‰‡å’Œè§†é¢‘çš„å¤„ç† å› ä¸ºopenwrtä¸Šæ²¡æœ‰é‚£ä¹ˆå¤šç£ç›˜å·¥å…·ï¼Œæ‰€æœ‰ç…§ç‰‡å’Œè§†é¢‘ ç”¨Nextcloud åŠ å¯†åï¼Œå‚¨å­˜åˆ°æœ¬åœ°æŒ‚è½½çš„å…¶ä»–ç½‘ç›˜ï¼ˆé˜¿é‡Œäº‘ç›˜ 123panï¼‰\nä»£ç å’Œè„šæœ¬çš„å¤‡ä»½ é›†æˆåˆ°dockerå†…éƒ¨\nä¸ºä»€ä¹ˆè¦dockerå¼„ ä¸ºäº†æ–¹ä¾¿å¤‡ä»½ ï¼ŒopæŠ˜è…¾æŒ‚äº†ï¼Œä¸ä¼šæœ‰é—®é¢˜ã€‚å¯ä»¥ä»åˆ«çš„æœºå™¨ä¸Šç§’å¯åŠ¨ã€‚\næœ€åè¯´ All in one å’Œç¾¤æ™– æˆ‘ä¹‹å‰ ä¸€ç›´æ˜¯k2p åˆ·çš„op ç”¨äº†å¥½åƒ10å¤šå¹´ï¼Œä½†æ˜¯éšç€å®½å¸¦çš„å‡çº§ï¼Œè¶Šæ¥è¶ŠåŠ›ä¸ä»å¿ƒã€‚ åæ¥å°è¯•æ›´æ¢åˆ° ä»¥N2600 åšä¸»è·¯ç”±ï¼Œk2p åšAP ä½¿ç”¨ï¼Œå†åŠ ä¸Šä¸€ä¸ª i7 8ä»£ çš„all in oneã€‚ã€‚è€Œåå‘ç°ä¸€ä¸ªé—®é¢˜ã€‚ã€‚\næœ€åè¯´æŸæœäº‘ ä¹‹å‰ä¸€ç›´ç”¨ æŸæœäº‘ ç”¨ ä½œä¸ºfloccusçš„åŒæ­¥ç©ºé—´ã€‚ å…ˆä¸è¯´ä»·æ ¼ï¼Œé—®é¢˜æ˜¯ä»–ä»˜è´¹åé€Ÿåº¦ä¹Ÿå¾ˆæ‹‰è·¨ï¼Œè€Œä¸”ä¸å¯ä»¥é€€æ¬¾ï¼ï¼ï¼ å…è´¹ç‰ˆè¯´æ˜¯æœ‰1Gæµé‡ï¼Œå¸å·ä¸€ç›´æ˜¾ç¤ºåªç”¨30Mçš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯åœæ­¢å·¥ä½œã€‚ã€‚ã€‚\n","date":"2022-01-27T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/docker/my-net-disk/","title":"openwrtä¸Šæ­å»ºç§æœ‰ç½‘ç›˜ å’Œ ç§æœ‰ç½‘ç›˜çš„å¤‡ä»½"},{"content":"ç®€å•çš„è¯´ åŸºäºsupes.topçš„å®šåˆ¶å›ºä»¶\n1ã€é˜²ç«å¢™é€‰nftables\n2ã€å®‰è£…è½¯ä»¶åŒ…socat åŒ…åç§°luci-app-socat\nå¯ä»¥è§£å†³çš„é—®é¢˜ 1ã€ ipv6 å’Œipv4 ä¸€èµ·è½¬å‘ç»™å†…ç½‘ipv4\n2ã€ è§£å†³ openwrt ä¸èƒ½è‡ªå·±è®¿é—® å…¬ç½‘åœ°å€ï¼šè‡ªå·±è½¬å‘çš„ç«¯å£ 3ã€luci-app-ipsec-server çš„ä¸€äº›è«åå…¶å¦™é—®é¢˜ï¼Œæ¯”å¦‚æ— æ³•é“¾æ¥ï¼Œé“¾æ¥ä¸Šç¼ºæ— æ³•è®¿é—®å†…ç½‘ æˆ–è€…æ— æ³•è®¿é—®å¤–ç½‘ æ— æ³•èµ°æ¢¯å­ ç­‰ç­‰\nç¬¬äºŒä¸ªé—®é¢˜ æ˜¯å¤šæ•°å›ºä»¶éƒ½å­˜åœ¨çš„é—®é¢˜ï¼Œå¦‚æœä½ æƒ³åœ¨openwrtä¸Šä½œä¸€ä¸ªè½¬å‘å†…ç½‘çš„æœåŠ¡ å¹¶ç”¨å…¬ç½‘åœ°å€è®¿é—®çš„å°±éº»çƒ¦\n","date":"2022-01-12T07:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/ipv6-v4-port/","title":"openwrtç«¯å£è½¬å‘ åŒ…æ‹¬ipv6"},{"content":"ä½¿ç”¨acme.sh è‡ªåŠ¨ç®¡ç†ç”³è¯·è¯ä¹¦ï¼Œå¹¶åœ¨openwrtä¸Šçš„luciï¼ˆnginxï¼‰ä¸Šä½¿ç”¨ã€‚\nç”±äºå®¶ç”¨å®½å¸¦æ²¡æœ‰80 443ç«¯å£ï¼Œæ‰€ä»¥å†…ç½‘è®¿é—®åˆ° https://ä½ çš„åŸŸå è‡ªåŠ¨è·³è½¬åˆ° https://ä½ çš„åŸŸå:10443\nopä¸Šå¥—ssl åœ¨openwrtä¸Šå®‰è£…acme.sh ç›´æ¥å®‰è£… luci-app-acme è¿™ä¸ªåŒ…ï¼Œä¾èµ–ä¼šè‡ªåŠ¨å®‰è£…ä¸Šã€‚ é…ç½®\nå¦‚æœæ˜¯x86è·¯ç”±ï¼Œå»ºè®®dockerè¿è¡Œnginx-proxy-manage æˆ– nginxWebUiç­‰å·¥å…·ï¼Œä»–ä»¬è‡ªå¸¦äº†acme.shã€‚æ”¯æŒåå‘ä»£ç†ä»€ä¹ˆçš„ã€‚ luci-app-acme ç•Œé¢æœ‰ä¸€ç‚¹æ€ªã€‚\næ–°å¢ Certificate config åç§°éšä¾¿è¾“å…¥ä¸èƒ½ç”¨ç‰¹æ®Šç¬¦å· é…ç½®ï¼Œè¾“å…¥ Domain namesï¼Œå¦‚æœè¦æ³›åŸŸå ä¸€èµ·è¾“å…¥ï¼Œä¾‹å¦‚ dev.leiyanhui.com å’Œ *.dev.leiyanhui.com\nChallenge Validation è¿™é‡Œè®¾ç½®ä¸€ä¸‹\nValidation method éªŒè¯æ¨¡å¼ï¼Œåœ¨æ²’æœ‰80 443ç«¯å£çš„æƒ…æ³ä¸‹ï¼Œè¦å¯¦ç¾è‡ªå‹•çºŒç°½åªèƒ½ä½¿ç”¨dnséªŒè¯çš„å“ˆ DNS API æ¥å£ï¼Œæˆ‘è¿™é‡Œç”¨dnspodsçš„ï¼Œè¾“å…¥dns_dp DNS API credentials: è¿™é‡Œè¾“å…¥ ä½ dnspodsçš„ token id å’Œå¯†ç  ä¾‹å¦‚ï¼šDP_Id=\u0026quot;123456\u0026quot; å†åŠ ä¸€è¡ŒDP_Key=\u0026quot;XXXXXXXX\u0026quot;\nnginx çš„é‚£ä¸ªå‹¾é€‰ä¸Š\né«˜çº§è®¾ç½®é‡Œé¢ï¼ŒDays until renewal è¾“å…¥ä¸€ä¸ªæ—¶é—´ï¼Œå°±æ˜¯ç»­ç­¾æ—¶é—´è¯ä¹¦çš„æœ‰çªæ—¶é—´ï¼Œè¾“å…¥ä¸€ä¸ªå°äº90çš„æ•°å­—\nç¨åä¼šè‡ªåŠ¨ç”³è¯·sslä¸‹æ¥ï¼Œè¯ä¹¦ç›®å½• åœ¨\n1 /etc/acme/ä½ çš„åŸŸå/ ç®€å•å¤„ç†openwrtçš„nginxè¯ä¹¦ openwrtçš„é…ç½®æ–‡ä»¶ /etc/nginx/uci.conf ä½†è¿™ä¸ªæ–‡ä»¶å®é™…æ˜¯tmpç›®å½•lnè¿‡æ¥çš„ä¿®æ”¹åæ— æ•ˆ\nå¦‚æœä½ ä¸éœ€è¦443è‡ªåŠ¨é‡å®šå‘ç«¯å£åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ç”¨lsæ–¹æ³• æ›¿æ¢è¯ä¹¦æ–‡ä»¶ï¼Œå¯ä»¥è·³è¿‡ä¸‹é¢çš„æ“ä½œç»§ç»­çœ‹åé¢\n1 2 3 4 5 mv /etc/nginx/conf.d/_lan.crt /etc/nginx/conf.d/_lan.crt.bak mv /etc/nginx/conf.d/_lan.key /etc/nginx/conf.d/_lan.key.bak ln -s /etc/acme/ä½ çš„åŸŸå/fullchain.cer /etc/nginx/conf.d/_lan.crt ln -s /etc/acme/ä½ çš„åŸŸå/ä½ çš„åŸŸå.key /etc/nginx/conf.d/_lan.key é‡å¯nginx 1 /etc/init.d/nginx restart å®Œæ¯•\né…ç½®443 è‡ªåŠ¨è½¬å‘åˆ°10443 å› ä¸ºåœ¨openwrtæ­å»ºäº†nginxWebUI ç”¨æ¥å¥—å†…ç½‘çš„æœåŠ¡ï¼Œå¹¶ä¸”ä½¿ç”¨äº†éæ ‡å‡†ç«¯å£ã€‚ä¸ºäº†é¿å…éº»çƒ¦ï¼Œæ‰€ä»¥åŠ ä¸€ä¸ªè‡ªåŠ¨è·³è½¬\nå¯ä»¥ä½¿ç”¨æ’ä»¶luci-app-nginx-manager ï¼Œæˆ–è€…è‡ªå·±åœ¨shellé‡Œé¢ç¼–è¾‘ æ–‡ä»¶/etc/config/nginx (å¯ä»¥æ›¿æ¢è¯ä¹¦)\næˆ‘è¿™é‡Œç”¨luci-app-nginx-manager æ–°å¢ä¸€ä¸ªé…ç½®æ–‡ä»¶web_jump è·¯å¾„/etc/nginx/conf.d/web_jump.conf å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 server { listen 80; listen [::]:80; listen 443 ssl http2; listen [::]:443 ssl http2; server_name ä½ çš„åŸŸå; ssl_certificate /etc/acme/ä½ çš„åŸŸå/fullchain.cer; ssl_certificate_key /etc/acme/ä½ çš„åŸŸå/ä½ çš„åŸŸå.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; return 301 https://$host:10443$request_uri; } æ³¨æ„ï¼Œå¦‚æœè‡ªå·±åœ¨å…¶ä»–åœ°æ–¹åä»£httpï¼ˆsï¼‰://è·¯ç”±å™¨å†…ç½‘ipï¼Œè¯·ä¸è¦ä¼ é€’hostï¼Œä¸ç„¶è¿™é‡Œä¼šå®šä½ è¿™é‡Œç«™ç‚¹é€ æˆæ­»å¾ªç¯å¤šæ¬¡è·³è½¬ å°±æ‰“ä¸å¼€äº†ã€‚\nnginxWebUIçš„åŒacme.sh å¦å¤– å¦‚æœ å’Œ nginxWebUI é…åˆçš„è¯ï¼Œå¯ä»¥ä¸ç”¨åœ¨opä¸Šå¦å¤–å®‰è£…acme.shï¼Œæ”¹ä¸ºè®¡åˆ’ä»»åŠ¡å®šæ—¶ä» nginxWebUIå®¹å™¨cpè¯ä¹¦å‡ºæ¥ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æŒ‚è½½å‡ºæ¥ã€‚\nä¸ºäº†æ–¹ä¾¿dockerçš„å¤‡ä»½ï¼ˆé˜¿é‡Œäº‘æä¾›å…è´¹å®¹å™¨é•œåƒï¼‰ï¼Œè¿™ç§è½»é‡çš„dockerä¸€èˆ¬ä¸å»ºè®®æŒ‚è½½ç›®å½•å‡ºæ¥ã€‚\n1 0 13 * * * rm -rf /etc/acme.sh \u0026amp;\u0026amp; docker cp nginxwebui:/home/nginxWebUI/.acme.sh /etc/acme.sh åŒæ—¶ä¹Ÿè¦ä¿®æ”¹ä¸Šé¢çš„nginxçš„é…ç½®æ–‡ä»¶é‡Œé¢çš„è·¯å¾„å’ŒåŸŸååœ°å€å³å¯,example\n1 2 3 4 5 6 7 8 9 10 11 server { listen 80; listen [::]:80; listen 443 ssl http2; listen [::]:443 ssl http2; server_name jia.leiyanhui.com *.jia.leiyanhui.com; ssl_certificate /etc/acme.sh/*.jia.leiyanhui.com/fullchain.cer; ssl_certificate_key /etc/acme.sh/*.jia.leiyanhui.com/*.jia.leiyanhui.com.key; ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; return 301 https://$host:10443$request_uri; } ","date":"2022-01-10T20:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/acme-ssl/","title":"openwrt å†…ç½‘å¥—sslï¼Œä»¥åŠå†…ç½‘æ ‡å‡†ç«¯å£è‡ªåŠ¨è·³è½¬éæ ‡ç«¯å£çš„æ–¹æ³•"},{"content":"docker run -d -v /mnt/sdb1/tiantang:/mnt/data/ttnode -v /var/run/docker.sock:/var/run/docker.sock -v /proc:/host/proc:ro \u0026ndash;name ttnode \u0026ndash;hostname ttnode \u0026ndash;privileged \u0026ndash;net=host \u0026ndash;restart=always registry.cn-hangzhou.aliyuncs.com/tiptime/ttnode:latest\nå¯åŠ¨å®Œæˆå è¿‡ä¸€ä¼š ä»app ç»‘å®šå³å¯\n","date":"2022-01-09T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/ttnode/","title":"openwrtéƒ¨ç½²ç”œç³–"},{"content":"ä¸ºä»€ä¹ˆè¦åšå®Œæ•´å¤‡ä»½ å› ä¸ºä¸€ä¸ªå®Œå…¨é€‚åˆè‡ªå·±çš„è½¯è·¯ç”±å™¨ç³»ç»Ÿï¼Œå®é™…ä¸Šæ˜¯éœ€è¦é…ç½®å’ŒæŠ˜è…¾å¾ˆå¤šä¸œè¥¿çš„ã€‚æœ‰æ—¶å€™ä¸€ä¸ªä¸å°å¿ƒ èƒ½ä¼šå½±å“æŸä¸€äº›åŠŸèƒ½çš„ä½¿ç”¨ã€‚\nå¦å¤–ä¹Ÿæ˜¯ä¸ºäº†æ— ç¼å‡çº§é…ç½®\nç”µæŠ¥ç¾¤é‡Œç½‘å‹å¸®å¿™ä»op.supes.top å¤§ç¥é‚£è¾¹å®šåˆ¶äº†ä¸€ä¸ªå›ºä»¶ã€‚åŒ…å«äº†ä¸€äº›æˆ‘å¸¸ç”¨çš„ä¸€äº›åŠŸèƒ½ã€‚\nä½†æ˜¯å®é™…ä½¿ç”¨çš„ä½¿ç”¨ï¼Œè¿˜æ˜¯å‘ç°å¾ˆå¤šé—®é¢˜ï¼š\nä¸»è¦æ˜¯å‡ ä¸ªå°é—®é¢˜\n1ã€ipv6çš„è½¬å‘é—®é¢˜ï¼ˆæˆ‘ipv6 80 443 ç­‰ç«¯å£éƒ½æ˜¯å°çš„ï¼Œæ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥è¿˜æ˜¯å¹²è„†å’Œipv4ä¸€èµ·ä»è·¯ç”±ä¸Šè½¬å‘åç»Ÿä¸€ç®¡ç†æ–¹ä¾¿ä¸€äº›ï¼‰\n2ã€é˜²ç«å¢™çš„ä¸€ç‚¹å°é—®é¢˜ï¼šopè‡ªå·±ä¸èƒ½è®¿é—® å¤–ç½‘+è‡ªå·±è½¬å‘çš„ç«¯å£ã€‚\n3ã€vpnï¼ˆipsecï¼‰çš„ä¸€ç‚¹é—®é¢˜ï¼Œä»€ä¹ˆéƒ½ä¸å¦‚è‡ªå·±éšæ—¶è¿æ¥åˆ°å†…ç½‘çˆ½ã€‚\n4ã€vpnè®¿é—®å¤–ç½‘å’Œå†…ç½‘ ä»¥åŠæ¢¯å­åˆ†æµç­‰\nè§£å†³è¿™äº›é—®é¢˜åœ¨æœ‹å‹å¸®åŠ©ä¸‹ä¾æ—§èŠ±è´¹äº†ä¸€ä¸ªä¸‹åˆå»è°ƒè¯•ã€‚ ä¸ºäº†é˜²æ­¢åé¢æåï¼Œé™¤äº†åœ¨luciç•Œé¢å¤‡ä»½ä¸€ä»½etcä¹‹å¤–ï¼Œè¿˜æ˜¯å…¨ç›˜å¤‡ä»½ä¸€ä¸‹æ¯”è¾ƒå®‰å¿ƒã€‚\nåŸå§‹imgæ–‡ä»¶åˆ†åŒº ä¸º 2ä¸ªåˆ†åŒº ä¸€ä¸ªefiï¼ˆ/dev/sda1ï¼‰ ä¸€ä¸ª5Gæ ¹ï¼ˆ/dev/sda2ï¼‰ï¼Œå®é™…ç¡¬ç›˜æ˜¯32G msata\næˆ‘è¿™é‡ŒæŒ‚ä¸Šä¸€ä¸ª1Tæœºæ¢°ç›˜ï¼ˆ/dev/sdb1ï¼‰ä¼šè‡ªåŠ¨æŒ‚è½½åˆ° /mnt/sdb1\nDDå¤‡ä»½æ–¹æ³• å¤‡ä»½æ•´ä¸ªåˆ†åŒº 1 2 3 4 5 6 7 # åˆ›å»ºå¤‡ä»½ç›®å½• mkdir /mnt/sdb1/openwrt # ç›´æ¥å¤‡ä»½ dd if=/dev/sda2 of=/mnt/sdb1/openwrt/backup-20230110-overlay.img # å‹ç¼©å¤‡ä»½ dd if=/dev/sda1 | gzip \u0026gt; /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-efi.img.gz dd if=/dev/sda2 | gzip \u0026gt; /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-overlay.img.gz è¿˜åŸ 1 gzip -dc /mnt/sdb1/openwrt/backup-XXXX.img.gz | dd of=/dev/sda2 è®°å¾— å·²ç»æŒ‚è½½çš„åˆ†åŒº æ˜¯ä¸å¯ä»¥è¿˜åŸçš„ï¼Œéœ€è¦å…ˆå¸è½½åè¿˜åŸï¼Œä½†æ˜¯è‚¯å®šæ˜¯æ— æ³•ä»opé‡Œé¢ç›´æ¥å¸è½½çš„ã€‚æ‰€ä»¥è¿˜åŸéœ€è¦ä»å¦å¤–ä¸€ä¸ªç³»ç»Ÿé‡Œé¢æ“ä½œ ï¼Œè¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿ã€‚\ntarå¤‡ä»½æ–¹æ³• å¤‡ä»½ efiå¤‡ä»½ï¼ˆæ²¡å¤ªå¤§å¿…è¦ï¼‰\n1 tar -czvf /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-efi.tar.gz /boot overlayå¤‡ä»½ openwrtçš„ç²¾é«“\n1 tar -czvf /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-overlay.tar.gz /overlay å•ç‹¬å¤‡ä»½/etc ï¼ˆæ²¡å¤ªå¤§å¿…è¦ï¼‰\n1 tar -czvf /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-overlay-etc.tar.gz /overlay/upper/etc è¿˜åŸ 1 2 3 rm -rvf /overlay/* cd / tar -xzvf /mnt/sdb1/openwrt/backup-XXXX-overlay.tar.gz å¤‡ä»½è½¯ä»¶åˆ—è¡¨ æ–¹ä¾¿è‡ªå·±åæœŸæŸ¥çœ‹ç®¡ç†\n1 opkg list-installed \u0026gt; /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-soft-list.txt å…³äºè‡ªåŠ¨å¤‡ä»½ æŠŠä¸Šé¢å‘½ä»¤ é€‰æ‹©æ€§ æ·»åŠ åˆ°è®¡åˆ’ä»»åŠ¡ å§ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨rcloneç­‰æ–¹æ³•å®šæ—¶åŒæ­¥åˆ°äº‘ç›˜ã€‚è‡ªå·±æŠ˜è…¾å§ã€‚\nä¾‹å¦‚ æ¯å‘¨2ã€å‘¨äº” æ—©ä¸Š9ç‚¹33 å’Œ50åˆ† å¤‡ä»½overlay å’Œè½¯ä»¶åˆ—è¡¨\n1 2 0 33 9 * * 2,5 * tar -czvf /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-overlay.tar.gz /overlay 0 53 9 * * 2,5 * opkg list-installed \u0026gt; /mnt/sdb1/openwrt/backup-$(date +%Y-%m-%d_%H)-soft-list.txt ä¼˜åŒ–çš„è‡ªåŠ¨å¤‡ä»½è„šæœ¬ 1 nano /etc/auto_backup.sh å†…å®¹\n1 2 3 4 5 6 7 8 9 backupfilename=$(date +%Y%m%d_%H%M%S) backuppath1=\u0026#34;/opt/openwrt-backup\u0026#34; # mkdir /opt/openwrt-backup tar -czvf $backuppath1/$backupfilename-overlay.tar.gz /overlay opkg list-installed \u0026gt; $backuppath1/$backupfilename-soft-list.txt # rm -rvf /overlay/* # cd / # tar -xzvf /mnt/sdb1/openwrt/backup-XXXX-overlay.tar.gz æ·»åŠ è®¡åˆ’ä»»åŠ¡ æ¯å¤©6ç‚¹12ç‚¹18ç‚¹23ç‚¹åˆ†åˆ«å¤‡ä»½ä¸€æ¬¡\nç­‰æŠ˜è…¾é¡ºåˆ©ï¼Œå°±ä¸ç”¨è¿™æ ·é¢‘ç¹å¤‡ä»½äº†\n1 32 6,12,18,23 * * * sh /etc/auto_backup.sh å‚è€ƒæ–‡ç« ï¼šhttps://zhzhzhy.github.io/2022/03/20/2022/openwrt-bakcup-step\n","date":"2022-01-09T23:14:20+08:00","permalink":"https://dev.leiyanhui.com/openwrt/backup/","title":"openwrtå…¨ç›˜ç³»ç»Ÿå¤‡ä»½"},{"content":"macos+win10åˆ‡æ¢åˆ°ubuntuçš„å…¨è®°å½• å‰è¨€ è¿™äº›å¹´ä¸€ç›´æƒ³æŠŠç³»ç»Ÿåˆ‡æ¢åˆ°çš„ubuntu ä½†å› ä¸ºæŸäº›äº‹æƒ…åˆ¶çº¦ä¸€ç›´æœªèƒ½å®ç°ã€‚æœ€è¿‘åœ¨ä½œä¸€ä¸ªç‰©è”ç½‘è®¾å¤‡çš„å…¨å¥—ï¼ˆè®¾å¤‡ ç¡¬ä»¶ api app ï¼‰å¼€å‘ï¼Œå®åœ¨æ˜¯çœ¼çº¢linuxï¼Œè¶ç€ç¬¬ä¸€ç‰ˆapp åœ¨è‹¹æœå®¡æ ¸ï¼Œè¿™å‡ å¤©æ²¡æœ‰ç‰¹æ®Šçš„äº‹æƒ…è¦åšï¼Œå°½å¿«åˆ‡æ¢ä»¥ä¸‹ç³»ç»Ÿ # åˆ†åŒºè§„åˆ’å’Œç³»ç»Ÿè§„åˆ’ ä¸»åŠ›ç³»ç»Ÿåˆ‡æ¢åˆ°ubuntuï¼Œä½†æ˜¯ä»¥åŠæ— æ³•ç¦»å¼€macoså’Œwin10,é‰´äºmacosåªæ˜¯ä¸´æ—¶ç”¨xcodeå’Œappstoreä¸Šä¼ å·¥å…·ï¼Œæ‰€ä»¥ åˆ æ‰äº†ç¡¬ç›˜ä¸Šçš„é»‘è‹¹æœã€‚ä¿ç•™ vhd çš„win10 å•ç‹¬æ”¾åˆ° ä¸€ä¸ªåˆ†åŒºï¼ŒåŒæ—¶è¿™ä¸ªåˆ†åŒºä¹Ÿä½œä¸º ä¸¤ä¸ªç³»ç»Ÿæ–‡ä»¶äº¤æ¢çš„ åˆ†åŒºã€‚\nå®‰è£…ubuntu ç‰ˆæœ¬å½“ç„¶æ˜¯é€‰æ‹©ubuntu22.04LTSï¼Œè¿™æ˜¯æ¯‹åº¸ç½®ç–‘çš„ï¼Œåœ¨å®è·µä¸­å‘ç°å®‰è£…çš„æ—¶å€™ å¦‚æœé€‰æ‹©æœ€å°å®‰è£…ï¼Œåœ¨è®¾ç½®çš„å…±äº«é‡Œé¢ å°±æ²¡æœ‰ remote desktopé€‰é¡¹ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©ç»å…¸æ¨èã€‚\nç®€å•é…ç½® æ·»åŠ è“ç‰™é”®ç›˜é¼ æ ‡ è®¾ç½® å¤–è§‚ dock ä¿®æ”¹åˆ°åº•éƒ¨ï¼Œå¹¶å…³é—­panel mode\nå®‰è£…xunlei é“¾æ¥: https://pan.baidu.com/s/1y5ulhPD5YY-TwsBlJ0CMgA å¯†ç : 1b4l ä¸‹è¼‰å¾Œç›´æ¥\ndpkg -i com.xunlei.download\\_1.0.0.1\\_amd64.deb å®‰è£…motrix è¿™ä¸ªæ˜¯ç›´æ¥åœ¨å•†åº—å®‰è£…\nå®‰è£…edge https://www.microsoft.com/zh-cn/edge\nå®‰è£…ç™¾åº¦ç½‘ç›˜ https://pan.baidu.com/download\nå¸è½½æ²¡å¿…è¦çš„è½¯ä»¶ sudo apt remove LibreOffice AisleRiot Transmission sudo apt autoremove å®‰è£… Visual Studio Code https://code.visualstudio.com/docs/?dv=linux64_deb\nè®¾ç½®è¯­è¨€ ç‚¹è®¾ç½® åŒºåŸŸå’Œè¯­è¨€ ç®¡ç†å·²ç»å®‰è£…çš„è¯­è¨€ï¼Œæç¤º è¯­è¨€æ”¯æŒæ²¡æœ‰å®‰è£…å®Œæ•´ï¼Œç‚¹å®‰è£… ç­‰å¾…\nå®‰è£…æœç‹—è¾“å…¥æ³• ç°åœ¨å¥½åƒä¸èƒ½åŒæ­¥è¯åº“äº†ï¼Œæ™šäº›æ—¶å€™å†ç ”ç©¶ï¼Œ https://shurufa.sogou.com/linux?r=pinyin https://shurufa.sogou.com/linux/guide\nsudo apt-get install fcitx sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/ cd ä¸‹è½½/ sudo dpkg -i sogoupinyin\\_4.0.1.2123\\_amd64.deb sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2 sudo apt install libgsettings-qt1 é‡å¯ç”µè„‘ ``` ## ubuntu ç”¨æˆ·ç›®å½•æ”¹ä¸ºè‹±æ–‡ ``` export LANG=en_US xdg-user-dirs-gtk-update ``` ## å®‰è£…VMware ä»¥åŠwin10 macosç­‰ ä¸‹è½½ ï¼šhttps://sysin.org/blog/vmware-workstation-16-linux-slic/ é•œåƒä¹Ÿä½¿ç”¨sysionçš„ ç»è¿‡æˆ‘çš„æµ‹è¯• å› ä¸ºç›®å‰è¿˜ä¹°æœ‰macos13 VMwaretools æ‰€ä»¥æœ€å¥½è¿˜æ˜¯ macOS Monterey 12.4 (21F79) æˆ–è€… 11.6 è¿™ä¸ªè®°å¾—ç ´è§£ ç„¶åå°½å¯èƒ½åˆ†é…cpuå’Œå†…å­˜ç»™macos ä¸è¦å®‰è£…åˆ°ntfs æˆ–è€…fatåˆ†åŒº å°±å¯ä»¥é‡Œã€‚ntfsçš„å‘æˆ‘ä¸€æ•´å¤© ``` yanhui@B150M:/media/yanhui/HDD-NTFS/è¿…é›·ä¸‹è½½$ sudo ./VMware-Workstation-Full-16.2.3-19376536.x86_64.bundle ``` VMwareå¯¹â€‹macosçš„æ”¯æŒè§£é”å¯ä»¥ç”¨sysinçš„ä¹Ÿæ¨èè¿™ä¸ª https://github.com/DrDonk/unlocker/releases ç ´è§£åæ‰“å¼€VMwareï¼Œæç¤º unable to install all modules ```bash cd /MyData/vmware sudo apt-get install git git clone https://github.com/mkubecek/vmware-host-modules.git cd vmware-host-modules git checkout workstation-16.2.3 #ï¼ˆæŸ¥çœ‹è‡ªå·±ä¸‹è½½çš„å®‰è£…åŒ…æˆ–è€…åœ¨ç»ˆç«¯ä¸‹æ•²vmware -vï¼‰ sudo make #ï¼ˆå¦‚æœç»ˆç«¯æç¤ºæ²¡æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œåªè¦å®‰è£…ä»¥ä¸‹å°±å¥½ï¼Œå…¶ä»–ç±»ä¼¼æç¤ºæ²¡æœ‰å•¥å‘½ä»¤å°±ç›´æ¥å®‰è£…ï¼Œsudo apt-get install makeï¼‰ sudo make install ``` é‡å¯ç”µè„‘ï¼Œå†æ¬¡æ‰“å¼€VMware é¦–æ¬¡ä½¿ç”¨å¼•å¯¼ï¼Œä¸€å®šè®°å¾— å…³æ‰è‡ªåŠ¨æ›´æ–°ã€‚ é¡ºå¸¦æ‰¾ä¸€ä¸ªkeyæ¿€æ´» æˆ‘ç”¨çš„æœ€åä¸€ä¸ª å¯ç”¨ ä¸‹è½½macosé•œåƒï¼Œç»è¿‡æˆ‘çš„æµ‹è¯• macos13 å¡é¡¿æ¯”è¾ƒä¸¥é‡ï¼Œå³ä¾¿æ˜¯å®‰è£…äº†vmtoolsä¾æ—§å¡é¡¿çš„ç¦»è°±ã€‚ å› ä¸ºæœ¬ç€å‡‘åˆèƒ½ç”¨å°±è¡Œçš„æ€åº¦ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº† 11.6 å¹¶å°è¯•12.4ï¼ˆå®‰è£…çš„æ—¶å€™VMwareé‡å¯,åæ¥å†æ¬¡å°è¯•ï¼‰ å®‰è£…çš„æ—¶å€™ï¼Œæ³¨æ„ è‡ªå®šé…ç½® å•cpu 6æ ¸ï¼ˆè‡³å°‘2ä¸ªæ ¸å¿ƒ æœ€å¤§å’Œä½ å®é™…æ ¸å¿ƒæ•°é‡ä¸€æ ·ï¼‰å†…å­˜ç»™åˆ°è“è‰²æ¨èçš„ä¸Šé™ï¼Œä¸ä½¿ç”¨ç½‘ç»œï¼ˆæœ‰æ¦‚ç‡å¯¼è‡´æ— æ³•å¯åŠ¨ï¼‰å…¶ä»–é»˜è®¤æ¨è å®‰è£…å®Œæˆåï¼Œå®‰è£…VMware toolsï¼Œç„¶åå…³æœºæ·»åŠ ç½‘å¡ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©æ¡¥æ¥ï¼Œæ–¹ä¾¿è·¯ç”±å™¨æ˜ å°„ï¼ˆå³ å’Œ ä¸»æœºä»¥åŠè·¯ç”±å™¨ä¸Šå…¶ä»–è®¾å¤‡éƒ½åœ¨åœ¨ä¸€ä¸ªç½‘æ®µï¼‰ macosçš„å…·ä½“ä½¿ç”¨xcode ä¹‹ç±»çš„è¿™é‡Œä¸åœ¨è®°å½• ## Ubuntu22 æ‰“å¼€sshè¿œç¨‹ ## Ubuntu22 è¿œç¨‹æ¡Œé¢é…ç½®ï¼Œä½¿ç”¨å¾®è½¯è¿œç¨‹æ¡Œé¢åè®® æ‰“å¼€è®¾ç½® å…±äº« æ‰“å¼€å°±å¯ä»¥äº†ï¼Œå¦‚æœè¿ä¸ä¸Šå¯ä»¥é‡å¯ä¸€ä¸‹ systemctl \u0026ndash;user restart gnome-remote-desktop.service å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å¯†ç å’ŒUbuntuçš„ç³»ç»Ÿçš„å¯†ç ä¸åŒ.å¹¶ä¸”éœ€è¦Ubuntuæœ¬èº«æ˜¯ç™»å½•çŠ¶æ€æ‰å¯ä»¥ç”¨.å¦‚æœUbuntuä¸èƒ½è‡ªåŠ¨ç™»å½• æˆ–è€…é”å®šåï¼Œå°±è¿ä¸ä¸Šäº†ã€‚ æˆ‘é€‰æ‹©å…³é—­è¿™ä¸ªï¼Œå¦å¤–å®‰è£… sudo apt install xrdp sudo systemctl start xrdp sudo systemctl enable xrdp #systemctl status xrdp è¿™ç§æ–¹å¼é“¾æ¥ æœ‰æ—¶å€™æ˜¯é»‘å±ï¼Œåæ¥ç»è¿‡æµ‹è¯• æ˜¯éœ€è¦æ³¨é”€å½“å‰ç”¨æˆ·ï¼Œæˆ–è€…ç”¨å…¶ä»–ç”¨æˆ·ç™»å½•ã€‚ ä½†æ˜¯æ²¡æœ‰Dock éœ€è¦å®‰è£… sudo apt install gnome-tweaks æ‰“å¼€ tweaks æˆ–è€… ä¼˜åŒ– ã€ä¼˜åŒ–ã€‘-ã€å¤–è§‚ã€‘-ã€åº”ç”¨ç¨‹åºã€‘é€‰æ‹© Ambiance ã€ä¼˜åŒ–ã€‘-ã€å¤–è§‚ã€‘-ã€å›¾æ ‡ã€‘é€‰æ‹© Humanity æˆ–è€… Humanity-Dark ## å®‰è£…é’‰é’‰ https://alidocs.dingtalk.com/i/p/nb9XJlJ7QbxN8GyA/docs/ROGpvEna5YQWmaPgQ156W4ykmK3zoB27 ## å®‰è£…å¾®ä¿¡ å‚è€ƒ https://dev.leiyanhui.com/c/8 ## å®‰è£…todesk http://www.hellodesk.cn/ ## å°è¯•virtualbox æ— ç¼æ¨¡å¼ ä½¿ç”¨ å¾®ä¿¡å’ŒQQç­‰ åˆ†åˆ«å®‰è£… win10 å’Œ win7 éƒ½é€‰æ‹©ä¼ä¸šç‰ˆ æµ‹è¯•win7 æ— ç¼æ¨¡å¼å‡‘åˆå¯ä»¥ç”¨ win10 æ— ç¼æ¨¡å¼ æ— æ³•ä½¿ç”¨ã€‚ ## å®‰è£…xDroid ç›´æ¥è¿è¡Œå®‰å“è½¯ä»¶ https://www.linzhuotech.com/Product/download è§£å‹åï¼Œç›´æ¥è¿è¡Œ ç„¶åé‡å¯ç”µè„‘ å‚è€ƒæ–‡ç«  http://www.manongjc.com/detail/18-omuajacfhhkmlia.html ubuntuä¸‹è§£å†³Vmware\u0026ndash;unable to install all modulesé—®é¢˜_nice_muyuçš„åšå®¢-CSDNåšå®¢https://blog.csdn.net/nice_muyu/article/details/124399888 å¦‚ä½•åœ¨ Mac å’Œè™šæ‹Ÿæœºä¸Šå®‰è£… macOS Big Surã€Monterey å’Œ Ventura - sysin | SYStem INside | æ•°æ®ä¸­å¿ƒç³»ç»Ÿå†…å¹• Running a Mac OS 12 Monterey VM in Virtualbox VMware 15 ä¸ŠMacè™šæ‹Ÿæœºå¡é¡¿æƒ…å†µçš„ä¼˜åŒ–_é“é”¤å¦¹å¦¹å¤´å‘å¤šçš„åšå®¢-CSDNåšå®¢_è™šæ‹Ÿæœºmacå¦‚ä½•è¶…çº§æµç•… â€‹\n","date":"2021-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/5/","title":"macos+win10åˆ‡æ¢åˆ°ubuntuçš„å…¨è®°å½•"},{"content":"edgeæ‰“å¼€å¤šçº¿ç¨‹ä¸‹è½½ æ–°ç‰ˆEdgeï¼Œè¾“å…¥edge://flagsï¼Œ åœ¨å³ä¸Šè§’æœç´¢æ¡†æœç´¢Parallel downloadingï¼Œé€‰æ‹©Enableï¼Œç„¶åé‡å¯edge\n","date":"2020-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/edge/","title":" edgeæ‰“å¼€å¤šçº¿ç¨‹ä¸‹è½½"},{"content":"å®å¡”å†…å®‰è£…code-serverå¹¶é…ç½®ssl 1ã€ä¸‹è½½ å’Œè§£å‹\næˆ‘æŒ‚äº† ä»£ç†\n1 wget https://ghproxy.com/https://github.com/coder/code-server/releases/download/v4.7.1/code-server-4.7.1-linux-amd64.tar.gz mkdir /opt/ tar -zxvf code-server* -C /opt/ cd /opt mv code-server* code-server\n1 2ã€åŸºæœ¬é…ç½® cd /opt/code-server mkdir data extensions nano config.yaml\n1 å†…å®¹ bind-addr: 0.0.0.0:8485 # æœ€å¥½æ”¹ä¸º 127.0.0.1 ä»…é™nginxåä»£è®¿é—® auth: password password: 123456 cert: false user-data-dir: /opt/code-server/data/ extensions-dir: /opt/code-server/extensions/\n1 3ã€å¯åŠ¨æµ‹è¯• ./bin/code-server \u0026ndash;config /opt/code-server/config.yaml æœ€æ–°ç‰ˆæœ¬åœ¨ binç›®å½•ä¸‹ æç¤ºä¸‹é¢ä¿¡æ¯ å°±okï¼Œå¦‚æœæœ‰æ¡ä»¶å¯ä»¥æ‰“å¼€ http://ä½ çš„ip:8485/ è¯•è¯•ï¼Œå› ä¸ºæˆ‘è¿™é‡Œæ˜¯æ²¡æœ‰æƒé™è®¿é—®8485è¿™ä¸ªç«¯å£çš„ã€‚æ‰€ä»¥ ç›´æ¥è·³è¿‡ï¼Œctrl+c å–æ¶ˆè¿è¡Œ ï¼Œå»å®å¡” ç»§ç»­æ“ä½œ 2022-10-04T04:02:39.307Z] info code-server 4.7.1 77bbed48315a7cc275dc05a53d197197928f4b88 [2022-10-04T04:02:39.308Z] info Using user-data-dir /opt/code-server/data [2022-10-04T04:02:39.333Z] info Using config file /opt/code-server/config.yaml [2022-10-04T04:02:39.333Z] info HTTP server listening on http://0.0.0.0:8485/ [2022-10-04T04:02:39.333Z] info - Authentication is enabled [2022-10-04T04:02:39.333Z] info - Using password from /opt/code-server/config.yaml [2022-10-04T04:02:39.333Z] info - Not serving HTTPS\n1 2 3 4 5 4ã€å®å¡”ä¸­çš„é…ç½® ä¸ºä»€ä¹ˆè¦ç”¨å®å¡”ï¼Œé¦–å…ˆæ˜¯å› ä¸ºè¿™ä¸ªæœåŠ¡å™¨å¸¦ç€å®å¡”ç¯å¢ƒï¼Œå…¶æ¬¡æ˜¯å› ä¸ºï¼Œå®å¡”æœ‰sslè¯ä¹¦è‡ªåŠ¨ç»­ç­¾ã€‚èµ°sslçš„çš„code-server å°±æ˜¯é—¹ç€ç©çš„ ç™»å½•å®å¡”ã€‹ç½‘ç«™ã€‹goé¡¹ç›®ï¼Œæ·»åŠ ä¸€ä¸ª å¯æ‰§è¡Œæ–‡ä»¶ï¼š/opt/code-server/bin/code-server ç«¯å£ï¼š8485 å’Œå‰é¢ä¸€æ · å‘½ä»¤ï¼š/opt/code-server/bin/code-server \u0026ndash;config /opt/code-server/config.yaml è¿è¡Œç”¨æˆ·ï¼šå»ºè®®é€‰æ‹©root åŸŸåé€‰ä¸€ä¸ªè¾“å…¥ï¼Œå¯ä»¥å¸¦ç«¯å£\n1 2 3 4 5 6 7 8 9 åˆ›å»ºå®Œæˆåï¼Œä»å®å¡”æ­£å¸¸éƒ¨ç½²ssl 5ã€é…ç½® æ’ä»¶æœç´¢ zh-cn å®‰è£…ç®€ä½“ä¸­æ–‡ å…¶ä»–å’Œæœ¬åœ°vscode ä¸€æ ·æ“ä½œ å¦‚æœè¿˜éœ€è¦æ›´æ–°git æŸ¥çœ‹ æ–‡ç« ï¼š[https://dev.leiyanhui.com/c/centos7-install-new-git/](https://dev.leiyanhui.com/c/centos7-install-new-git/) ","date":"2020-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/bt-code-server-ssl/","title":"å®å¡”å†…å®‰è£…code-serverå¹¶é…ç½®ssl"},{"content":"ubuntu çš„virtuaboxä¸‹å®‰è£…win8.1 enterprise ä½“éªŒæµ‹è¯• å…ˆå»ä¸‹è½½\ned2k://|file|cn_windows_8.1_enterprise_with_update_x64_dvd_6050374.iso|4317065216|AC8215A13817CC0EC4EA42E5C92E88B7|/\nå®‰è£…æµ‹è¯• ï¼Œä¸»è¦æ˜¯æµ‹è¯•æ— ç¼æ¨¡å¼ æµ‹è¯•æ— ç¼æ¨¡å¼ è¿˜å¥½ï¼Œä½†æ˜¯ edge å‡ºç° æ— æ³•ç™»å½•çš„æƒ…å†µ éšå åˆ é™¤\nåæ¥å‘ç° edgeæ— æ³•ç™»å½•æ˜¯å› ä¸ºç³»ç»Ÿæ›´æ–°çš„é—®é¢˜ï¼Œæ›´æ–°åå¯ä»¥ç™»å½•\nwin8.1 ç›®å‰æ”¯æŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„ win10 win11çš„è½¯ä»¶ï¼Œå¦‚æœè®¾å¤‡æ¯”è¾ƒè€ï¼Œå¹¶ä¸”æœ‰win8çš„é©±åŠ¨çš„è¯ï¼Œä¸éœ€è¦åº”ç”¨å•†åº—çš„é‚£äº›ä¸œè¥¿ è¿˜æ˜¯å»ºè®®ç”¨win8\n","date":"2019-09-09T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/15/","title":"ubuntu çš„virtuaboxä¸‹å®‰è£…win8.1 enterprise ä½“éªŒæµ‹è¯•"},{"content":"ubuntuä¸‹å¯è§†åŒ–gitå·¥å…·å®‰è£…å’Œä½¿ç”¨ è¯•è¿‡ä¸€å †ä»¥å æœ€ç»ˆé€‰æ‹©smartgit è¯•è¯•gitkraken ä¸‰å¹³å°å¯ç”¨å…è´¹ï¼Œå¥½åƒä¹ŸæŒºæ¼‚äº® https://www.gitkraken.com/download/linux-deb ç•Œé¢æŒºæ¼‚äº®ï¼Œå¯åŠ¨å¸¦ä¸€ä¸ªå¯åŠ¨ç”»é¢ æœ‰ç‚¹æ…¢ï¼Œ æ±‰åŒ– è‡³äºæ±‰åŒ–ï¼Œä½¿ç”¨ Github ä¸Šçš„ k-skye/gitkraken-chinese è¿™ä¸ªä»“åº“å³å¯å®Œæˆã€‚ æ–¹æ³•å¾ˆç®€å•ï¼Œå®‰è£…å¥½ä¹‹åï¼Œä½¿ç”¨æ±‰åŒ–è¯­è¨€åŒ…æ›¿æ¢åŸæœ‰çš„è¯­è¨€åŒ…å³å¯ã€‚`é¦–å…ˆå¤‡ä»½å®˜æ–¹è¯­è¨€åŒ…\n1 sudo mv /usr/share/gitkraken/resources/app.asar.unpacked/src/strings.json /usr/share/gitkraken/resources/app.asar.unpacked/src/strings.json.bk ä»githubæ‹‰å–èµ„æºå¹¶æ›¿æ¢\n1 sudo wget https://github.com/k-skye/gitkraken-chinese/raw/master/strings.json -O /usr/share/gitkraken/resources/app.asar.unpacked/src/strings.json å¦‚æœåœ¨å›½å†…è®¿é—® github æœ‰å›°éš¾\nå¯ä½¿ç”¨ ghproxy æä¾›çš„ github å›½å†…é•œåƒæ‹‰å–\n1 sudo wget https://ghproxy.com/https://raw.githubusercontent.com/k-skye/gitkraken-chinese/master/strings_8.1.1.json -O /usr/share/gitkraken/resources/app.asar.unpacked/src/strings.json é‡å¯ gitkraken ç„¶å å‘ç° ä½¿ç”¨ç§æœ‰ä»“åº“åŠŸèƒ½ æ˜¯æ”¶è´¹çš„ ã€‚ã€‚ã€‚ã€‚ å¸è½½ sudo dpkg -r gitkraken sudo dpkg --purge gitkraken å¦å¤–è¿˜æœ‰ä¸€ä¸ª giteye åŒæ ·æ˜¯ä¸‰å¹³å°\n1 https://www.collab.net/downloads/giteye#Linux å®˜ç½‘ç½‘é€Ÿå¾ˆæ„Ÿäºº ä¾é java æŠ›å¼ƒ å†å°è¯•ä¸€ä¸‹ https://aurees.com/ https://aurees.com/download/AureesSetup-linux.deb\n1 sudo dpkg -i è½¯ä»¶åŒ…(deb)æœ¬åœ°åœ°å€ æç¤ºè¦å®‰è£… gtk-sharp2 libgconf2-4 æ˜æ˜¾ä¸æ”¯æŒ æœ€åå°è¯•smartgitä¸ªäººå…è´¹ï¼Œä½†æ˜¯æ¯æ¬¡æ‰“å¼€ æœ‰1åˆ†é’Ÿå·¦å³ä¸è®©ç”¨ï¼Œè®©ä½ ç¡®è®¤æ˜¯ä¸æ˜¯ä¸ªäººéç›ˆåˆ©\n1 https://www.syntevo.com/smartgit/download/ å¸è½½ dpkg -l | grep smartgit sudo dpkg -r smartgit sudo dpkg --purge smartgit ä½¿ç”¨æ–¹æ³• å…ˆæ³¨å†Œï¼Œé€‰æ‹©åœ¨å®¶ï¼Œå‡çº§é‚£ä¸ªå»æ‰å‹¾é€‰ï¼Œå°±å¯ä»¥å…è´¹ç”³è¯· é‚®ç®±æ”¶åˆ° ä¸€ä¸ª smartgit.lic ç‚¹å¸®åŠ© æ³¨å†Œéœ€è¦ é€‰æ‹©è¿™ä¸ªlicæ–‡ä»¶\n","date":"2019-09-09T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/13/","title":"ubuntuä¸‹å¯è§†åŒ–gitå·¥å…·å®‰è£…å’Œä½¿ç”¨ è¯•è¿‡ä¸€å †ä»¥å æœ€ç»ˆé€‰æ‹©smartgit"},{"content":"aliyun-webdav é˜¿é‡Œäº‘ç›˜ ä¾æ—§æ²¡æœ‰å°æ‰webdavçš„è®¿é—®ï¼ˆ2022-08-20ï¼‰ï¼Œè€Œä¸”ä¸é™é€Ÿï¼ˆå…¶å®ä¹Ÿåªæœ‰åŒºåŒºå‡ Mï¼‰ï¼Œæ¯”èµ·ç™¾åº¦äº‘çœŸçš„å¥½çš„ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ã€‚ 2020å¹´å†…æµ‹çš„æ—¶å€™ï¼Œæˆ‘åœ¨ç™¾åº¦äº‘å……äº†ä¸€ä¸ªå‘¨å¡ èŠ±äº†å‡ å¤©æ—¶é—´ æŠŠæ•°æ®å…¨éƒ¨æ‹‰å›æœ¬åœ°ï¼ŒåŒæ—¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘ã€‚ä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ­å»ºé˜¿é‡Œäº‘çš„webdavï¼Œæ˜¯å› ä¸ºæ‹…å¿ƒå†…æµ‹ç»“æŸåé˜¿é‡Œäº‘éšæ—¶ä¼šå°æ‰æ¥å£ï¼Œç™½å¿™æ´»ä¸€åœºã€‚ç›®å‰é˜¿é‡Œäº‘ç›˜å·²ç»æ¨å‡ºäº†æ”¶è´¹æœåŠ¡ã€‚ä¸è¿‡ä»–å®¶çš„åŒæ­¥ç›˜çœŸå¿ƒæ˜¯éš¾ç”¨çš„å¾ˆï¼Œæ‰€ä»¥ä¸æ‰“ç®—ä»˜è´¹ã€‚è¿˜æ˜¯è‡ªå·±æ­ä¸€ä¸ªwebdavç™½å«–å§ã€‚ é¦–å…ˆæµè§ˆå™¨è®¿é—® https://www.aliyundrive.com/ ç™»å½• F12 æ‹¿åˆ° refresh_token è¿™ä¸ªä»¤ç‰Œ åœ¨ç™»å½•ç®¡ç†é‡Œé¢ å¦‚æœä¸åˆ é™¤è¿™ä¸ªæµè§ˆå™¨çš„è¯ï¼Œå¯ä»¥ä¸€ç›´æœ‰æ•ˆï¼ˆéœ€è¦å®šæ—¶åˆ·æ–°ï¼‰ https://github.com/messense/aliyundrive-webdav#docker-%E8%BF%90%E8%A1%8C è¿˜æ˜¯ç”¨è¿™ä¸ªå§ï¼Œç›´æ¥docker å°±å¥½äº† windowsè¿è¡Œä¹Ÿå¯ä»¥ https://github.com/messense/aliyundrive-webdav/releases/download/v1.10.1/aliyundrive-webdav-v1.10.1.aarch64-pc-windows-msvc.zip è§£å‹å¾—åˆ°exe å‘½ä»¤è¡Œç”¨æ³• ä½œè€…ä¸»é¡µæœ‰ æˆ‘æŠŠexeæ”¾åˆ° F:\\GreenSoft\\Server\\aliyunpan\\aliyundrive-webdav.exe åœ¨åŒç›®å½•ä¸‹ æ–°å»ºæ–‡ä»¶ aliyunpan.bat ä»£ç å¦‚ä¸‹ aliyundrive-webdav.exe \u0026ndash;port 8098 \u0026ndash;refresh-token XXXXXXX \u0026ndash;no-redirect \u0026ndash;prefer-http-download \u0026ndash;auto-index \u0026ndash;auth-user admin \u0026ndash;auth-password admin bat æ·»åŠ åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨ å°±å¯ä»¥äº†ã€‚ æœ¬æœºæ‰“å¼€ http://localhost:8098 å¯ä»¥è®¿é—®å°±ok å…¶ä»–ä¿¡æ¯å¾ˆç®€å• è‡ªå·±çœ‹ç€ä¿®æ”¹å°±okäº† åœ¨å®å¡”æˆ–è€…å…¶ä»–åœ°æ–¹ å¼„ä¸€ä¸ªåä»£ï¼Œç„¶åå°±å¯ä»¥å¼€å¯https æ¯”è¾ƒç®€å•ä¸å†é‡å¤\n","date":"2018-08-20T10:57:59Z","permalink":"https://dev.leiyanhui.com/c/aliyun-webdav/","title":"æŠŠé˜¿é‡Œäº‘ç›˜æŒ‚è½½åˆ°webdav"},{"content":"VirtualBox ä¸‹linuxè®¿é—®ç‰©ç†æœºwindowsæ–‡ä»¶çš„æ–¹æ³• å…ˆåœ¨linuxä¸‹å®‰è£…å¢å¼ºå·¥å…·ï¼Œè™šæ‹Ÿæœº\u0026gt;è®¾å¤‡\u0026gt;å®‰è£…å¢å¼ºåŠŸèƒ½\næ²¡æœ‰è‡ªåŠ¨æŒ‚è½½cdromï¼Œæ‰‹åŠ¨æŒ‚è½½ä¸€ä¸‹ mount /dev/cdrom /home/centos/rom ç„¶åcd /home/centos/rom å†è¿è¡Œ sh VBoxLinuxAdditions.run å¯èƒ½è¦æå‰å®‰è£…ä¸€äº›ä¾èµ– apt install kernel sources kernel-devel gcc æˆ–è€… yumå®‰è£… ç„¶åæ·»åŠ å…±äº« é€‰æ‹©æŒ‚è½½ä½ç½®ï¼Œé‡å¯è™šæ‹Ÿæœºä¸»æœº å°±å¯ä»¥äº†\næ–‡ä»¶æƒé™ æ˜¯ 770 rootæ‰€æœ‰ ï¼Œè²Œä¼¼æ— æ³•ä¿®æ”¹\n","date":"2017-09-07T19:56:11Z","permalink":"https://dev.leiyanhui.com/c/virtualbox-linux-windows/","title":"VirtualBox ä¸‹linuxè®¿é—®ç‰©ç†æœºwindowsæ–‡ä»¶çš„æ–¹æ³•"},{"content":"typechoä¿®æ”¹æ–‡å­—ç±»å‹é»˜è®¤ä¸ºç§å¯† å…³é—­é»˜è®¤è¯„è®ºç­‰ ç§å¯† æ–‡ç« åªæœ‰ç™»å½•åæ‰å¯ä»¥çœ‹åˆ°ã€\næ‰“å¼€ admincp/write-post.php\næŠŠ\n|| !$post-\u0026gt;status æŒªåˆ°ç§å¯† è¿™è¡Œ\nåŒæ—¶æŠŠ\u0026lt;?php if ($post-\u0026gt;allow('feed')): ?\u0026gt;checked=\u0026quot;true\u0026quot;\u0026lt;?php endif; ?\u0026gt; åˆ æ‰ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨èšåˆé‡Œé¢\n","date":"2014-09-09T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/4/","title":"typechoä¿®æ”¹æ–‡å­—ç±»å‹é»˜è®¤ä¸ºç§å¯† å…³é—­é»˜è®¤è¯„è®ºç­‰"},{"content":"é‚®ç®±ï¼šjoyanhui@qq.com leiyanhui@gmail.com\n","date":"2004-09-09T13:14:20+08:00","permalink":"https://dev.leiyanhui.com/c/1/","title":"è”ç³»å°ç±»"}]